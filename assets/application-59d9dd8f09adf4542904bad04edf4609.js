/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function empLoader(e) {
  "undefined" == typeof empLogger &&
    (empLogger = new Cobalt.Console({
      from: "Public Page",
      loggers: [new Cobalt.Logger.EMPLogger()],
    })),
    "undefined" == typeof empInstance &&
      (empInstance = new EMPEngine({
        lithium: Li,
        cobaltInstance: empLogger,
      })),
    empInstance._engine(e);
}
!(function (e, t) {
  function n(e) {
    var t = e.length,
      n = ut.type(e);
    return ut.isWindow(e)
      ? !1
      : 1 === e.nodeType && t
      ? !0
      : "array" === n ||
        ("function" !== n &&
          (0 === t || ("number" == typeof t && t > 0 && t - 1 in e)));
  }
  function i(e) {
    var t = (Et[e] = {});
    return (
      ut.each(e.match(pt) || [], function (e, n) {
        t[n] = !0;
      }),
      t
    );
  }
  function r(e, n, i, r) {
    if (ut.acceptData(e)) {
      var s,
        o,
        a = ut.expando,
        l = e.nodeType,
        c = l ? ut.cache : e,
        u = l ? e[a] : e[a] && a;
      if ((u && c[u] && (r || c[u].data)) || i !== t || "string" != typeof n)
        return (
          u || (u = l ? (e[a] = tt.pop() || ut.guid++) : a),
          c[u] ||
            (c[u] = l
              ? {}
              : {
                  toJSON: ut.noop,
                }),
          ("object" == typeof n || "function" == typeof n) &&
            (r
              ? (c[u] = ut.extend(c[u], n))
              : (c[u].data = ut.extend(c[u].data, n))),
          (o = c[u]),
          r || (o.data || (o.data = {}), (o = o.data)),
          i !== t && (o[ut.camelCase(n)] = i),
          "string" == typeof n
            ? ((s = o[n]), null == s && (s = o[ut.camelCase(n)]))
            : (s = o),
          s
        );
    }
  }
  function s(e, t, n) {
    if (ut.acceptData(e)) {
      var i,
        r,
        s = e.nodeType,
        o = s ? ut.cache : e,
        l = s ? e[ut.expando] : ut.expando;
      if (o[l]) {
        if (t && (i = n ? o[l] : o[l].data)) {
          ut.isArray(t)
            ? (t = t.concat(ut.map(t, ut.camelCase)))
            : t in i
            ? (t = [t])
            : ((t = ut.camelCase(t)), (t = t in i ? [t] : t.split(" "))),
            (r = t.length);
          for (; r--; ) delete i[t[r]];
          if (n ? !a(i) : !ut.isEmptyObject(i)) return;
        }
        (n || (delete o[l].data, a(o[l]))) &&
          (s
            ? ut.cleanData([e], !0)
            : ut.support.deleteExpando || o != o.window
            ? delete o[l]
            : (o[l] = null));
      }
    }
  }
  function o(e, n, i) {
    if (i === t && 1 === e.nodeType) {
      var r = "data-" + n.replace(xt, "-$1").toLowerCase();
      if (((i = e.getAttribute(r)), "string" == typeof i)) {
        try {
          i =
            "true" === i
              ? !0
              : "false" === i
              ? !1
              : "null" === i
              ? null
              : +i + "" === i
              ? +i
              : St.test(i)
              ? ut.parseJSON(i)
              : i;
        } catch (s) {}
        ut.data(e, n, i);
      } else i = t;
    }
    return i;
  }
  function a(e) {
    var t;
    for (t in e)
      if (("data" !== t || !ut.isEmptyObject(e[t])) && "toJSON" !== t)
        return !1;
    return !0;
  }
  function l() {
    return !0;
  }
  function c() {
    return !1;
  }
  function u() {
    try {
      return X.activeElement;
    } catch (e) {}
  }
  function d(e, t) {
    do e = e[t];
    while (e && 1 !== e.nodeType);
    return e;
  }
  function p(e, t, n) {
    if (ut.isFunction(t))
      return ut.grep(e, function (e, i) {
        return !!t.call(e, i, e) !== n;
      });
    if (t.nodeType)
      return ut.grep(e, function (e) {
        return (e === t) !== n;
      });
    if ("string" == typeof t) {
      if (Ht.test(t)) return ut.filter(t, e, n);
      t = ut.filter(t, e);
    }
    return ut.grep(e, function (e) {
      return ut.inArray(e, t) >= 0 !== n;
    });
  }
  function h(e) {
    var t = Vt.split("|"),
      n = e.createDocumentFragment();
    if (n.createElement) for (; t.length; ) n.createElement(t.pop());
    return n;
  }
  function f(e, t) {
    return ut.nodeName(e, "table") &&
      ut.nodeName(1 === t.nodeType ? t : t.firstChild, "tr")
      ? e.getElementsByTagName("tbody")[0] ||
          e.appendChild(e.ownerDocument.createElement("tbody"))
      : e;
  }
  function m(e) {
    return (e.type = (null !== ut.find.attr(e, "type")) + "/" + e.type), e;
  }
  function g(e) {
    var t = sn.exec(e.type);
    return t ? (e.type = t[1]) : e.removeAttribute("type"), e;
  }
  function _(e, t) {
    for (var n, i = 0; null != (n = e[i]); i++)
      ut._data(n, "globalEval", !t || ut._data(t[i], "globalEval"));
  }
  function v(e, t) {
    if (1 === t.nodeType && ut.hasData(e)) {
      var n,
        i,
        r,
        s = ut._data(e),
        o = ut._data(t, s),
        a = s.events;
      if (a) {
        delete o.handle, (o.events = {});
        for (n in a)
          for (i = 0, r = a[n].length; r > i; i++) ut.event.add(t, n, a[n][i]);
      }
      o.data && (o.data = ut.extend({}, o.data));
    }
  }
  function y(e, t) {
    var n, i, r;
    if (1 === t.nodeType) {
      if (
        ((n = t.nodeName.toLowerCase()),
        !ut.support.noCloneEvent && t[ut.expando])
      ) {
        r = ut._data(t);
        for (i in r.events) ut.removeEvent(t, i, r.handle);
        t.removeAttribute(ut.expando);
      }
      "script" === n && t.text !== e.text
        ? ((m(t).text = e.text), g(t))
        : "object" === n
        ? (t.parentNode && (t.outerHTML = e.outerHTML),
          ut.support.html5Clone &&
            e.innerHTML &&
            !ut.trim(t.innerHTML) &&
            (t.innerHTML = e.innerHTML))
        : "input" === n && tn.test(e.type)
        ? ((t.defaultChecked = t.checked = e.checked),
          t.value !== e.value && (t.value = e.value))
        : "option" === n
        ? (t.defaultSelected = t.selected = e.defaultSelected)
        : ("input" === n || "textarea" === n) &&
          (t.defaultValue = e.defaultValue);
    }
  }
  function b(e, n) {
    var i,
      r,
      s = 0,
      o =
        typeof e.getElementsByTagName !== G
          ? e.getElementsByTagName(n || "*")
          : typeof e.querySelectorAll !== G
          ? e.querySelectorAll(n || "*")
          : t;
    if (!o)
      for (o = [], i = e.childNodes || e; null != (r = i[s]); s++)
        !n || ut.nodeName(r, n) ? o.push(r) : ut.merge(o, b(r, n));
    return n === t || (n && ut.nodeName(e, n)) ? ut.merge([e], o) : o;
  }
  function w(e) {
    tn.test(e.type) && (e.defaultChecked = e.checked);
  }
  function C(e, t) {
    if (t in e) return t;
    for (
      var n = t.charAt(0).toUpperCase() + t.slice(1), i = t, r = En.length;
      r--;

    )
      if (((t = En[r] + n), t in e)) return t;
    return i;
  }
  function k(e, t) {
    return (
      (e = t || e),
      "none" === ut.css(e, "display") || !ut.contains(e.ownerDocument, e)
    );
  }
  function T(e, t) {
    for (var n, i, r, s = [], o = 0, a = e.length; a > o; o++)
      (i = e[o]),
        i.style &&
          ((s[o] = ut._data(i, "olddisplay")),
          (n = i.style.display),
          t
            ? (s[o] || "none" !== n || (i.style.display = ""),
              "" === i.style.display &&
                k(i) &&
                (s[o] = ut._data(i, "olddisplay", P(i.nodeName))))
            : s[o] ||
              ((r = k(i)),
              ((n && "none" !== n) || !r) &&
                ut._data(i, "olddisplay", r ? n : ut.css(i, "display"))));
    for (o = 0; a > o; o++)
      (i = e[o]),
        i.style &&
          ((t && "none" !== i.style.display && "" !== i.style.display) ||
            (i.style.display = t ? s[o] || "" : "none"));
    return e;
  }
  function E(e, t, n) {
    var i = vn.exec(t);
    return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : t;
  }
  function S(e, t, n, i, r) {
    for (
      var s = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0,
        o = 0;
      4 > s;
      s += 2
    )
      "margin" === n && (o += ut.css(e, n + Tn[s], !0, r)),
        i
          ? ("content" === n && (o -= ut.css(e, "padding" + Tn[s], !0, r)),
            "margin" !== n &&
              (o -= ut.css(e, "border" + Tn[s] + "Width", !0, r)))
          : ((o += ut.css(e, "padding" + Tn[s], !0, r)),
            "padding" !== n &&
              (o += ut.css(e, "border" + Tn[s] + "Width", !0, r)));
    return o;
  }
  function x(e, t, n) {
    var i = !0,
      r = "width" === t ? e.offsetWidth : e.offsetHeight,
      s = dn(e),
      o =
        ut.support.boxSizing && "border-box" === ut.css(e, "boxSizing", !1, s);
    if (0 >= r || null == r) {
      if (
        ((r = pn(e, t, s)),
        (0 > r || null == r) && (r = e.style[t]),
        yn.test(r))
      )
        return r;
      (i = o && (ut.support.boxSizingReliable || r === e.style[t])),
        (r = parseFloat(r) || 0);
    }
    return r + S(e, t, n || (o ? "border" : "content"), i, s) + "px";
  }
  function P(e) {
    var t = X,
      n = wn[e];
    return (
      n ||
        ((n = O(e, t)),
        ("none" !== n && n) ||
          ((un = (
            un ||
            ut("<iframe frameborder='0' width='0' height='0'/>").css(
              "cssText",
              "display:block !important"
            )
          ).appendTo(t.documentElement)),
          (t = (un[0].contentWindow || un[0].contentDocument).document),
          t.write("<!doctype html><html><body>"),
          t.close(),
          (n = O(e, t)),
          un.detach()),
        (wn[e] = n)),
      n
    );
  }
  function O(e, t) {
    var n = ut(t.createElement(e)).appendTo(t.body),
      i = ut.css(n[0], "display");
    return n.remove(), i;
  }
  function A(e, t, n, i) {
    var r;
    if (ut.isArray(t))
      ut.each(t, function (t, r) {
        n || xn.test(e)
          ? i(e, r)
          : A(e + "[" + ("object" == typeof r ? t : "") + "]", r, n, i);
      });
    else if (n || "object" !== ut.type(t)) i(e, t);
    else for (r in t) A(e + "[" + r + "]", t[r], n, i);
  }
  function I(e) {
    return function (t, n) {
      "string" != typeof t && ((n = t), (t = "*"));
      var i,
        r = 0,
        s = t.toLowerCase().match(pt) || [];
      if (ut.isFunction(n))
        for (; (i = s[r++]); )
          "+" === i[0]
            ? ((i = i.slice(1) || "*"), (e[i] = e[i] || []).unshift(n))
            : (e[i] = e[i] || []).push(n);
    };
  }
  function D(e, t, n, i) {
    function r(a) {
      var l;
      return (
        (s[a] = !0),
        ut.each(e[a] || [], function (e, a) {
          var c = a(t, n, i);
          return "string" != typeof c || o || s[c]
            ? o
              ? !(l = c)
              : void 0
            : (t.dataTypes.unshift(c), r(c), !1);
        }),
        l
      );
    }
    var s = {},
      o = e === qn;
    return r(t.dataTypes[0]) || (!s["*"] && r("*"));
  }
  function M(e, n) {
    var i,
      r,
      s = ut.ajaxSettings.flatOptions || {};
    for (r in n) n[r] !== t && ((s[r] ? e : i || (i = {}))[r] = n[r]);
    return i && ut.extend(!0, e, i), e;
  }
  function R(e, n, i) {
    for (var r, s, o, a, l = e.contents, c = e.dataTypes; "*" === c[0]; )
      c.shift(),
        s === t && (s = e.mimeType || n.getResponseHeader("Content-Type"));
    if (s)
      for (a in l)
        if (l[a] && l[a].test(s)) {
          c.unshift(a);
          break;
        }
    if (c[0] in i) o = c[0];
    else {
      for (a in i) {
        if (!c[0] || e.converters[a + " " + c[0]]) {
          o = a;
          break;
        }
        r || (r = a);
      }
      o = o || r;
    }
    return o ? (o !== c[0] && c.unshift(o), i[o]) : void 0;
  }
  function j(e, t, n, i) {
    var r,
      s,
      o,
      a,
      l,
      c = {},
      u = e.dataTypes.slice();
    if (u[1]) for (o in e.converters) c[o.toLowerCase()] = e.converters[o];
    for (s = u.shift(); s; )
      if (
        (e.responseFields[s] && (n[e.responseFields[s]] = t),
        !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
        (l = s),
        (s = u.shift()))
      )
        if ("*" === s) s = l;
        else if ("*" !== l && l !== s) {
          if (((o = c[l + " " + s] || c["* " + s]), !o))
            for (r in c)
              if (
                ((a = r.split(" ")),
                a[1] === s && (o = c[l + " " + a[0]] || c["* " + a[0]]))
              ) {
                o === !0
                  ? (o = c[r])
                  : c[r] !== !0 && ((s = a[0]), u.unshift(a[1]));
                break;
              }
          if (o !== !0)
            if (o && e["throws"]) t = o(t);
            else
              try {
                t = o(t);
              } catch (d) {
                return {
                  state: "parsererror",
                  error: o ? d : "No conversion from " + l + " to " + s,
                };
              }
        }
    return {
      state: "success",
      data: t,
    };
  }
  function L() {
    try {
      return new e.XMLHttpRequest();
    } catch (t) {}
  }
  function N() {
    try {
      return new e.ActiveXObject("Microsoft.XMLHTTP");
    } catch (t) {}
  }
  function U() {
    return (
      setTimeout(function () {
        Zn = t;
      }),
      (Zn = ut.now())
    );
  }
  function B(e, t, n) {
    for (
      var i, r = (si[t] || []).concat(si["*"]), s = 0, o = r.length;
      o > s;
      s++
    )
      if ((i = r[s].call(n, t, e))) return i;
  }
  function $(e, t, n) {
    var i,
      r,
      s = 0,
      o = ri.length,
      a = ut.Deferred().always(function () {
        delete l.elem;
      }),
      l = function () {
        if (r) return !1;
        for (
          var t = Zn || U(),
            n = Math.max(0, c.startTime + c.duration - t),
            i = n / c.duration || 0,
            s = 1 - i,
            o = 0,
            l = c.tweens.length;
          l > o;
          o++
        )
          c.tweens[o].run(s);
        return (
          a.notifyWith(e, [c, s, n]),
          1 > s && l ? n : (a.resolveWith(e, [c]), !1)
        );
      },
      c = a.promise({
        elem: e,
        props: ut.extend({}, t),
        opts: ut.extend(
          !0,
          {
            specialEasing: {},
          },
          n
        ),
        originalProperties: t,
        originalOptions: n,
        startTime: Zn || U(),
        duration: n.duration,
        tweens: [],
        createTween: function (t, n) {
          var i = ut.Tween(
            e,
            c.opts,
            t,
            n,
            c.opts.specialEasing[t] || c.opts.easing
          );
          return c.tweens.push(i), i;
        },
        stop: function (t) {
          var n = 0,
            i = t ? c.tweens.length : 0;
          if (r) return this;
          for (r = !0; i > n; n++) c.tweens[n].run(1);
          return t ? a.resolveWith(e, [c, t]) : a.rejectWith(e, [c, t]), this;
        },
      }),
      u = c.props;
    for (F(u, c.opts.specialEasing); o > s; s++)
      if ((i = ri[s].call(c, e, u, c.opts))) return i;
    return (
      ut.map(u, B, c),
      ut.isFunction(c.opts.start) && c.opts.start.call(e, c),
      ut.fx.timer(
        ut.extend(l, {
          elem: e,
          anim: c,
          queue: c.opts.queue,
        })
      ),
      c
        .progress(c.opts.progress)
        .done(c.opts.done, c.opts.complete)
        .fail(c.opts.fail)
        .always(c.opts.always)
    );
  }
  function F(e, t) {
    var n, i, r, s, o;
    for (n in e)
      if (
        ((i = ut.camelCase(n)),
        (r = t[i]),
        (s = e[n]),
        ut.isArray(s) && ((r = s[1]), (s = e[n] = s[0])),
        n !== i && ((e[i] = s), delete e[n]),
        (o = ut.cssHooks[i]),
        o && "expand" in o)
      ) {
        (s = o.expand(s)), delete e[i];
        for (n in s) n in e || ((e[n] = s[n]), (t[n] = r));
      } else t[i] = r;
  }
  function H(e, t, n) {
    var i,
      r,
      s,
      o,
      a,
      l,
      c = this,
      u = {},
      d = e.style,
      p = e.nodeType && k(e),
      h = ut._data(e, "fxshow");
    n.queue ||
      ((a = ut._queueHooks(e, "fx")),
      null == a.unqueued &&
        ((a.unqueued = 0),
        (l = a.empty.fire),
        (a.empty.fire = function () {
          a.unqueued || l();
        })),
      a.unqueued++,
      c.always(function () {
        c.always(function () {
          a.unqueued--, ut.queue(e, "fx").length || a.empty.fire();
        });
      })),
      1 === e.nodeType &&
        ("height" in t || "width" in t) &&
        ((n.overflow = [d.overflow, d.overflowX, d.overflowY]),
        "inline" === ut.css(e, "display") &&
          "none" === ut.css(e, "float") &&
          (ut.support.inlineBlockNeedsLayout && "inline" !== P(e.nodeName)
            ? (d.zoom = 1)
            : (d.display = "inline-block"))),
      n.overflow &&
        ((d.overflow = "hidden"),
        ut.support.shrinkWrapBlocks ||
          c.always(function () {
            (d.overflow = n.overflow[0]),
              (d.overflowX = n.overflow[1]),
              (d.overflowY = n.overflow[2]);
          }));
    for (i in t)
      if (((r = t[i]), ti.exec(r))) {
        if (
          (delete t[i], (s = s || "toggle" === r), r === (p ? "hide" : "show"))
        )
          continue;
        u[i] = (h && h[i]) || ut.style(e, i);
      }
    if (!ut.isEmptyObject(u)) {
      h ? "hidden" in h && (p = h.hidden) : (h = ut._data(e, "fxshow", {})),
        s && (h.hidden = !p),
        p
          ? ut(e).show()
          : c.done(function () {
              ut(e).hide();
            }),
        c.done(function () {
          var t;
          ut._removeData(e, "fxshow");
          for (t in u) ut.style(e, t, u[t]);
        });
      for (i in u)
        (o = B(p ? h[i] : 0, i, c)),
          i in h ||
            ((h[i] = o.start),
            p &&
              ((o.end = o.start),
              (o.start = "width" === i || "height" === i ? 1 : 0)));
    }
  }
  function W(e, t, n, i, r) {
    return new W.prototype.init(e, t, n, i, r);
  }
  function q(e, t) {
    var n,
      i = {
        height: e,
      },
      r = 0;
    for (t = t ? 1 : 0; 4 > r; r += 2 - t)
      (n = Tn[r]), (i["margin" + n] = i["padding" + n] = e);
    return t && (i.opacity = i.width = e), i;
  }
  function z(e) {
    return ut.isWindow(e)
      ? e
      : 9 === e.nodeType
      ? e.defaultView || e.parentWindow
      : !1;
  }
  var V,
    K,
    G = typeof t,
    Y = e.location,
    X = e.document,
    Q = X.documentElement,
    J = e.jQuery,
    Z = e.$,
    et = {},
    tt = [],
    nt = "1.10.2",
    it = tt.concat,
    rt = tt.push,
    st = tt.slice,
    ot = tt.indexOf,
    at = et.toString,
    lt = et.hasOwnProperty,
    ct = nt.trim,
    ut = function (e, t) {
      return new ut.fn.init(e, t, K);
    },
    dt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    pt = /\S+/g,
    ht = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    ft = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    mt = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    gt = /^[\],:{}\s]*$/,
    _t = /(?:^|:|,)(?:\s*\[)+/g,
    vt = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
    yt = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
    bt = /^-ms-/,
    wt = /-([\da-z])/gi,
    Ct = function (e, t) {
      return t.toUpperCase();
    },
    kt = function (e) {
      (X.addEventListener ||
        "load" === e.type ||
        "complete" === X.readyState) &&
        (Tt(), ut.ready());
    },
    Tt = function () {
      X.addEventListener
        ? (X.removeEventListener("DOMContentLoaded", kt, !1),
          e.removeEventListener("load", kt, !1))
        : (X.detachEvent("onreadystatechange", kt),
          e.detachEvent("onload", kt));
    };
  (ut.fn = ut.prototype =
    {
      jquery: nt,
      constructor: ut,
      init: function (e, n, i) {
        var r, s;
        if (!e) return this;
        if ("string" == typeof e) {
          if (
            ((r =
              "<" === e.charAt(0) &&
              ">" === e.charAt(e.length - 1) &&
              e.length >= 3
                ? [null, e, null]
                : ft.exec(e)),
            !r || (!r[1] && n))
          )
            return !n || n.jquery
              ? (n || i).find(e)
              : this.constructor(n).find(e);
          if (r[1]) {
            if (
              ((n = n instanceof ut ? n[0] : n),
              ut.merge(
                this,
                ut.parseHTML(
                  r[1],
                  n && n.nodeType ? n.ownerDocument || n : X,
                  !0
                )
              ),
              mt.test(r[1]) && ut.isPlainObject(n))
            )
              for (r in n)
                ut.isFunction(this[r]) ? this[r](n[r]) : this.attr(r, n[r]);
            return this;
          }
          if (((s = X.getElementById(r[2])), s && s.parentNode)) {
            if (s.id !== r[2]) return i.find(e);
            (this.length = 1), (this[0] = s);
          }
          return (this.context = X), (this.selector = e), this;
        }
        return e.nodeType
          ? ((this.context = this[0] = e), (this.length = 1), this)
          : ut.isFunction(e)
          ? i.ready(e)
          : (e.selector !== t &&
              ((this.selector = e.selector), (this.context = e.context)),
            ut.makeArray(e, this));
      },
      selector: "",
      length: 0,
      toArray: function () {
        return st.call(this);
      },
      get: function (e) {
        return null == e
          ? this.toArray()
          : 0 > e
          ? this[this.length + e]
          : this[e];
      },
      pushStack: function (e) {
        var t = ut.merge(this.constructor(), e);
        return (t.prevObject = this), (t.context = this.context), t;
      },
      each: function (e, t) {
        return ut.each(this, e, t);
      },
      ready: function (e) {
        return ut.ready.promise().done(e), this;
      },
      slice: function () {
        return this.pushStack(st.apply(this, arguments));
      },
      first: function () {
        return this.eq(0);
      },
      last: function () {
        return this.eq(-1);
      },
      eq: function (e) {
        var t = this.length,
          n = +e + (0 > e ? t : 0);
        return this.pushStack(n >= 0 && t > n ? [this[n]] : []);
      },
      map: function (e) {
        return this.pushStack(
          ut.map(this, function (t, n) {
            return e.call(t, n, t);
          })
        );
      },
      end: function () {
        return this.prevObject || this.constructor(null);
      },
      push: rt,
      sort: [].sort,
      splice: [].splice,
    }),
    (ut.fn.init.prototype = ut.fn),
    (ut.extend = ut.fn.extend =
      function () {
        var e,
          n,
          i,
          r,
          s,
          o,
          a = arguments[0] || {},
          l = 1,
          c = arguments.length,
          u = !1;
        for (
          "boolean" == typeof a && ((u = a), (a = arguments[1] || {}), (l = 2)),
            "object" == typeof a || ut.isFunction(a) || (a = {}),
            c === l && ((a = this), --l);
          c > l;
          l++
        )
          if (null != (s = arguments[l]))
            for (r in s)
              (e = a[r]),
                (i = s[r]),
                a !== i &&
                  (u && i && (ut.isPlainObject(i) || (n = ut.isArray(i)))
                    ? (n
                        ? ((n = !1), (o = e && ut.isArray(e) ? e : []))
                        : (o = e && ut.isPlainObject(e) ? e : {}),
                      (a[r] = ut.extend(u, o, i)))
                    : i !== t && (a[r] = i));
        return a;
      }),
    ut.extend({
      expando: "jQuery" + (nt + Math.random()).replace(/\D/g, ""),
      noConflict: function (t) {
        return (
          e.$ === ut && (e.$ = Z), t && e.jQuery === ut && (e.jQuery = J), ut
        );
      },
      isReady: !1,
      readyWait: 1,
      holdReady: function (e) {
        e ? ut.readyWait++ : ut.ready(!0);
      },
      ready: function (e) {
        if (e === !0 ? !--ut.readyWait : !ut.isReady) {
          if (!X.body) return setTimeout(ut.ready);
          (ut.isReady = !0),
            (e !== !0 && --ut.readyWait > 0) ||
              (V.resolveWith(X, [ut]),
              ut.fn.trigger && ut(X).trigger("ready").off("ready"));
        }
      },
      isFunction: function (e) {
        return "function" === ut.type(e);
      },
      isArray:
        Array.isArray ||
        function (e) {
          return "array" === ut.type(e);
        },
      isWindow: function (e) {
        return null != e && e == e.window;
      },
      isNumeric: function (e) {
        return !isNaN(parseFloat(e)) && isFinite(e);
      },
      type: function (e) {
        return null == e
          ? String(e)
          : "object" == typeof e || "function" == typeof e
          ? et[at.call(e)] || "object"
          : typeof e;
      },
      isPlainObject: function (e) {
        var n;
        if (!e || "object" !== ut.type(e) || e.nodeType || ut.isWindow(e))
          return !1;
        try {
          if (
            e.constructor &&
            !lt.call(e, "constructor") &&
            !lt.call(e.constructor.prototype, "isPrototypeOf")
          )
            return !1;
        } catch (i) {
          return !1;
        }
        if (ut.support.ownLast) for (n in e) return lt.call(e, n);
        for (n in e);
        return n === t || lt.call(e, n);
      },
      isEmptyObject: function (e) {
        var t;
        for (t in e) return !1;
        return !0;
      },
      error: function (e) {
        throw new Error(e);
      },
      parseHTML: function (e, t, n) {
        if (!e || "string" != typeof e) return null;
        "boolean" == typeof t && ((n = t), (t = !1)), (t = t || X);
        var i = mt.exec(e),
          r = !n && [];
        return i
          ? [t.createElement(i[1])]
          : ((i = ut.buildFragment([e], t, r)),
            r && ut(r).remove(),
            ut.merge([], i.childNodes));
      },
      parseJSON: function (t) {
        return e.JSON && e.JSON.parse
          ? e.JSON.parse(t)
          : null === t
          ? t
          : "string" == typeof t &&
            ((t = ut.trim(t)),
            t && gt.test(t.replace(vt, "@").replace(yt, "]").replace(_t, "")))
          ? new Function("return " + t)()
          : void ut.error("Invalid JSON: " + t);
      },
      parseXML: function (n) {
        var i, r;
        if (!n || "string" != typeof n) return null;
        try {
          e.DOMParser
            ? ((r = new DOMParser()), (i = r.parseFromString(n, "text/xml")))
            : ((i = new ActiveXObject("Microsoft.XMLDOM")),
              (i.async = "false"),
              i.loadXML(n));
        } catch (s) {
          i = t;
        }
        return (
          (i &&
            i.documentElement &&
            !i.getElementsByTagName("parsererror").length) ||
            ut.error("Invalid XML: " + n),
          i
        );
      },
      noop: function () {},
      globalEval: function (t) {
        t &&
          ut.trim(t) &&
          (
            e.execScript ||
            function (t) {
              e.eval.call(e, t);
            }
          )(t);
      },
      camelCase: function (e) {
        return e.replace(bt, "ms-").replace(wt, Ct);
      },
      nodeName: function (e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
      },
      each: function (e, t, i) {
        var r,
          s = 0,
          o = e.length,
          a = n(e);
        if (i) {
          if (a) for (; o > s && ((r = t.apply(e[s], i)), r !== !1); s++);
          else for (s in e) if (((r = t.apply(e[s], i)), r === !1)) break;
        } else if (a)
          for (; o > s && ((r = t.call(e[s], s, e[s])), r !== !1); s++);
        else for (s in e) if (((r = t.call(e[s], s, e[s])), r === !1)) break;
        return e;
      },
      trim:
        ct && !ct.call("\ufeff\xa0")
          ? function (e) {
              return null == e ? "" : ct.call(e);
            }
          : function (e) {
              return null == e ? "" : (e + "").replace(ht, "");
            },
      makeArray: function (e, t) {
        var i = t || [];
        return (
          null != e &&
            (n(Object(e))
              ? ut.merge(i, "string" == typeof e ? [e] : e)
              : rt.call(i, e)),
          i
        );
      },
      inArray: function (e, t, n) {
        var i;
        if (t) {
          if (ot) return ot.call(t, e, n);
          for (
            i = t.length, n = n ? (0 > n ? Math.max(0, i + n) : n) : 0;
            i > n;
            n++
          )
            if (n in t && t[n] === e) return n;
        }
        return -1;
      },
      merge: function (e, n) {
        var i = n.length,
          r = e.length,
          s = 0;
        if ("number" == typeof i) for (; i > s; s++) e[r++] = n[s];
        else for (; n[s] !== t; ) e[r++] = n[s++];
        return (e.length = r), e;
      },
      grep: function (e, t, n) {
        var i,
          r = [],
          s = 0,
          o = e.length;
        for (n = !!n; o > s; s++) (i = !!t(e[s], s)), n !== i && r.push(e[s]);
        return r;
      },
      map: function (e, t, i) {
        var r,
          s = 0,
          o = e.length,
          a = n(e),
          l = [];
        if (a)
          for (; o > s; s++)
            (r = t(e[s], s, i)), null != r && (l[l.length] = r);
        else for (s in e) (r = t(e[s], s, i)), null != r && (l[l.length] = r);
        return it.apply([], l);
      },
      guid: 1,
      proxy: function (e, n) {
        var i, r, s;
        return (
          "string" == typeof n && ((s = e[n]), (n = e), (e = s)),
          ut.isFunction(e)
            ? ((i = st.call(arguments, 2)),
              (r = function () {
                return e.apply(n || this, i.concat(st.call(arguments)));
              }),
              (r.guid = e.guid = e.guid || ut.guid++),
              r)
            : t
        );
      },
      access: function (e, n, i, r, s, o, a) {
        var l = 0,
          c = e.length,
          u = null == i;
        if ("object" === ut.type(i)) {
          s = !0;
          for (l in i) ut.access(e, n, l, i[l], !0, o, a);
        } else if (
          r !== t &&
          ((s = !0),
          ut.isFunction(r) || (a = !0),
          u &&
            (a
              ? (n.call(e, r), (n = null))
              : ((u = n),
                (n = function (e, t, n) {
                  return u.call(ut(e), n);
                }))),
          n)
        )
          for (; c > l; l++) n(e[l], i, a ? r : r.call(e[l], l, n(e[l], i)));
        return s ? e : u ? n.call(e) : c ? n(e[0], i) : o;
      },
      now: function () {
        return new Date().getTime();
      },
      swap: function (e, t, n, i) {
        var r,
          s,
          o = {};
        for (s in t) (o[s] = e.style[s]), (e.style[s] = t[s]);
        r = n.apply(e, i || []);
        for (s in t) e.style[s] = o[s];
        return r;
      },
    }),
    (ut.ready.promise = function (t) {
      if (!V)
        if (((V = ut.Deferred()), "complete" === X.readyState))
          setTimeout(ut.ready);
        else if (X.addEventListener)
          X.addEventListener("DOMContentLoaded", kt, !1),
            e.addEventListener("load", kt, !1);
        else {
          X.attachEvent("onreadystatechange", kt), e.attachEvent("onload", kt);
          var n = !1;
          try {
            n = null == e.frameElement && X.documentElement;
          } catch (i) {}
          n &&
            n.doScroll &&
            !(function r() {
              if (!ut.isReady) {
                try {
                  n.doScroll("left");
                } catch (e) {
                  return setTimeout(r, 50);
                }
                Tt(), ut.ready();
              }
            })();
        }
      return V.promise(t);
    }),
    ut.each(
      "Boolean Number String Function Array Date RegExp Object Error".split(
        " "
      ),
      function (e, t) {
        et["[object " + t + "]"] = t.toLowerCase();
      }
    ),
    (K = ut(X)),
    /*!
     * Sizzle CSS Selector Engine v1.10.2
     * http://sizzlejs.com/
     *
     * Copyright 2013 jQuery Foundation, Inc. and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2013-07-03
     */
    (function (e, t) {
      function n(e, t, n, i) {
        var r, s, o, a, l, c, u, d, f, m;
        if (
          ((t ? t.ownerDocument || t : $) !== D && I(t),
          (t = t || D),
          (n = n || []),
          !e || "string" != typeof e)
        )
          return n;
        if (1 !== (a = t.nodeType) && 9 !== a) return [];
        if (R && !i) {
          if ((r = yt.exec(e)))
            if ((o = r[1])) {
              if (9 === a) {
                if (((s = t.getElementById(o)), !s || !s.parentNode)) return n;
                if (s.id === o) return n.push(s), n;
              } else if (
                t.ownerDocument &&
                (s = t.ownerDocument.getElementById(o)) &&
                U(t, s) &&
                s.id === o
              )
                return n.push(s), n;
            } else {
              if (r[2]) return et.apply(n, t.getElementsByTagName(e)), n;
              if (
                (o = r[3]) &&
                k.getElementsByClassName &&
                t.getElementsByClassName
              )
                return et.apply(n, t.getElementsByClassName(o)), n;
            }
          if (k.qsa && (!j || !j.test(e))) {
            if (
              ((d = u = B),
              (f = t),
              (m = 9 === a && e),
              1 === a && "object" !== t.nodeName.toLowerCase())
            ) {
              for (
                c = p(e),
                  (u = t.getAttribute("id"))
                    ? (d = u.replace(Ct, "\\$&"))
                    : t.setAttribute("id", d),
                  d = "[id='" + d + "'] ",
                  l = c.length;
                l--;

              )
                c[l] = d + h(c[l]);
              (f = (ht.test(e) && t.parentNode) || t), (m = c.join(","));
            }
            if (m)
              try {
                return et.apply(n, f.querySelectorAll(m)), n;
              } catch (g) {
              } finally {
                u || t.removeAttribute("id");
              }
          }
        }
        return w(e.replace(ct, "$1"), t, n, i);
      }
      function i() {
        function e(n, i) {
          return (
            t.push((n += " ")) > E.cacheLength && delete e[t.shift()],
            (e[n] = i)
          );
        }
        var t = [];
        return e;
      }
      function r(e) {
        return (e[B] = !0), e;
      }
      function s(e) {
        var t = D.createElement("div");
        try {
          return !!e(t);
        } catch (n) {
          return !1;
        } finally {
          t.parentNode && t.parentNode.removeChild(t), (t = null);
        }
      }
      function o(e, t) {
        for (var n = e.split("|"), i = e.length; i--; ) E.attrHandle[n[i]] = t;
      }
      function a(e, t) {
        var n = t && e,
          i =
            n &&
            1 === e.nodeType &&
            1 === t.nodeType &&
            (~t.sourceIndex || Y) - (~e.sourceIndex || Y);
        if (i) return i;
        if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
        return e ? 1 : -1;
      }
      function l(e) {
        return function (t) {
          var n = t.nodeName.toLowerCase();
          return "input" === n && t.type === e;
        };
      }
      function c(e) {
        return function (t) {
          var n = t.nodeName.toLowerCase();
          return ("input" === n || "button" === n) && t.type === e;
        };
      }
      function u(e) {
        return r(function (t) {
          return (
            (t = +t),
            r(function (n, i) {
              for (var r, s = e([], n.length, t), o = s.length; o--; )
                n[(r = s[o])] && (n[r] = !(i[r] = n[r]));
            })
          );
        });
      }
      function d() {}
      function p(e, t) {
        var i,
          r,
          s,
          o,
          a,
          l,
          c,
          u = q[e + " "];
        if (u) return t ? 0 : u.slice(0);
        for (a = e, l = [], c = E.preFilter; a; ) {
          (!i || (r = dt.exec(a))) &&
            (r && (a = a.slice(r[0].length) || a), l.push((s = []))),
            (i = !1),
            (r = pt.exec(a)) &&
              ((i = r.shift()),
              s.push({
                value: i,
                type: r[0].replace(ct, " "),
              }),
              (a = a.slice(i.length)));
          for (o in E.filter)
            !(r = _t[o].exec(a)) ||
              (c[o] && !(r = c[o](r))) ||
              ((i = r.shift()),
              s.push({
                value: i,
                type: o,
                matches: r,
              }),
              (a = a.slice(i.length)));
          if (!i) break;
        }
        return t ? a.length : a ? n.error(e) : q(e, l).slice(0);
      }
      function h(e) {
        for (var t = 0, n = e.length, i = ""; n > t; t++) i += e[t].value;
        return i;
      }
      function f(e, t, n) {
        var i = t.dir,
          r = n && "parentNode" === i,
          s = H++;
        return t.first
          ? function (t, n, s) {
              for (; (t = t[i]); ) if (1 === t.nodeType || r) return e(t, n, s);
            }
          : function (t, n, o) {
              var a,
                l,
                c,
                u = F + " " + s;
              if (o) {
                for (; (t = t[i]); )
                  if ((1 === t.nodeType || r) && e(t, n, o)) return !0;
              } else
                for (; (t = t[i]); )
                  if (1 === t.nodeType || r)
                    if (((c = t[B] || (t[B] = {})), (l = c[i]) && l[0] === u)) {
                      if ((a = l[1]) === !0 || a === T) return a === !0;
                    } else if (
                      ((l = c[i] = [u]), (l[1] = e(t, n, o) || T), l[1] === !0)
                    )
                      return !0;
            };
      }
      function m(e) {
        return e.length > 1
          ? function (t, n, i) {
              for (var r = e.length; r--; ) if (!e[r](t, n, i)) return !1;
              return !0;
            }
          : e[0];
      }
      function g(e, t, n, i, r) {
        for (var s, o = [], a = 0, l = e.length, c = null != t; l > a; a++)
          (s = e[a]) && (!n || n(s, i, r)) && (o.push(s), c && t.push(a));
        return o;
      }
      function _(e, t, n, i, s, o) {
        return (
          i && !i[B] && (i = _(i)),
          s && !s[B] && (s = _(s, o)),
          r(function (r, o, a, l) {
            var c,
              u,
              d,
              p = [],
              h = [],
              f = o.length,
              m = r || b(t || "*", a.nodeType ? [a] : a, []),
              _ = !e || (!r && t) ? m : g(m, p, e, a, l),
              v = n ? (s || (r ? e : f || i) ? [] : o) : _;
            if ((n && n(_, v, a, l), i))
              for (c = g(v, h), i(c, [], a, l), u = c.length; u--; )
                (d = c[u]) && (v[h[u]] = !(_[h[u]] = d));
            if (r) {
              if (s || e) {
                if (s) {
                  for (c = [], u = v.length; u--; )
                    (d = v[u]) && c.push((_[u] = d));
                  s(null, (v = []), c, l);
                }
                for (u = v.length; u--; )
                  (d = v[u]) &&
                    (c = s ? nt.call(r, d) : p[u]) > -1 &&
                    (r[c] = !(o[c] = d));
              }
            } else (v = g(v === o ? v.splice(f, v.length) : v)), s ? s(null, o, v, l) : et.apply(o, v);
          })
        );
      }
      function v(e) {
        for (
          var t,
            n,
            i,
            r = e.length,
            s = E.relative[e[0].type],
            o = s || E.relative[" "],
            a = s ? 1 : 0,
            l = f(
              function (e) {
                return e === t;
              },
              o,
              !0
            ),
            c = f(
              function (e) {
                return nt.call(t, e) > -1;
              },
              o,
              !0
            ),
            u = [
              function (e, n, i) {
                return (
                  (!s && (i || n !== O)) ||
                  ((t = n).nodeType ? l(e, n, i) : c(e, n, i))
                );
              },
            ];
          r > a;
          a++
        )
          if ((n = E.relative[e[a].type])) u = [f(m(u), n)];
          else {
            if (((n = E.filter[e[a].type].apply(null, e[a].matches)), n[B])) {
              for (i = ++a; r > i && !E.relative[e[i].type]; i++);
              return _(
                a > 1 && m(u),
                a > 1 &&
                  h(
                    e.slice(0, a - 1).concat({
                      value: " " === e[a - 2].type ? "*" : "",
                    })
                  ).replace(ct, "$1"),
                n,
                i > a && v(e.slice(a, i)),
                r > i && v((e = e.slice(i))),
                r > i && h(e)
              );
            }
            u.push(n);
          }
        return m(u);
      }
      function y(e, t) {
        var i = 0,
          s = t.length > 0,
          o = e.length > 0,
          a = function (r, a, l, c, u) {
            var d,
              p,
              h,
              f = [],
              m = 0,
              _ = "0",
              v = r && [],
              y = null != u,
              b = O,
              w = r || (o && E.find.TAG("*", (u && a.parentNode) || a)),
              C = (F += null == b ? 1 : Math.random() || 0.1);
            for (y && ((O = a !== D && a), (T = i)); null != (d = w[_]); _++) {
              if (o && d) {
                for (p = 0; (h = e[p++]); )
                  if (h(d, a, l)) {
                    c.push(d);
                    break;
                  }
                y && ((F = C), (T = ++i));
              }
              s && ((d = !h && d) && m--, r && v.push(d));
            }
            if (((m += _), s && _ !== m)) {
              for (p = 0; (h = t[p++]); ) h(v, f, a, l);
              if (r) {
                if (m > 0) for (; _--; ) v[_] || f[_] || (f[_] = J.call(c));
                f = g(f);
              }
              et.apply(c, f),
                y && !r && f.length > 0 && m + t.length > 1 && n.uniqueSort(c);
            }
            return y && ((F = C), (O = b)), v;
          };
        return s ? r(a) : a;
      }
      function b(e, t, i) {
        for (var r = 0, s = t.length; s > r; r++) n(e, t[r], i);
        return i;
      }
      function w(e, t, n, i) {
        var r,
          s,
          o,
          a,
          l,
          c = p(e);
        if (!i && 1 === c.length) {
          if (
            ((s = c[0] = c[0].slice(0)),
            s.length > 2 &&
              "ID" === (o = s[0]).type &&
              k.getById &&
              9 === t.nodeType &&
              R &&
              E.relative[s[1].type])
          ) {
            if (
              ((t = (E.find.ID(o.matches[0].replace(kt, Tt), t) || [])[0]), !t)
            )
              return n;
            e = e.slice(s.shift().value.length);
          }
          for (
            r = _t.needsContext.test(e) ? 0 : s.length;
            r-- && ((o = s[r]), !E.relative[(a = o.type)]);

          )
            if (
              (l = E.find[a]) &&
              (i = l(
                o.matches[0].replace(kt, Tt),
                (ht.test(s[0].type) && t.parentNode) || t
              ))
            ) {
              if ((s.splice(r, 1), (e = i.length && h(s)), !e))
                return et.apply(n, i), n;
              break;
            }
        }
        return P(e, c)(i, t, !R, n, ht.test(e)), n;
      }
      var C,
        k,
        T,
        E,
        S,
        x,
        P,
        O,
        A,
        I,
        D,
        M,
        R,
        j,
        L,
        N,
        U,
        B = "sizzle" + -new Date(),
        $ = e.document,
        F = 0,
        H = 0,
        W = i(),
        q = i(),
        z = i(),
        V = !1,
        K = function (e, t) {
          return e === t ? ((V = !0), 0) : 0;
        },
        G = typeof t,
        Y = 1 << 31,
        X = {}.hasOwnProperty,
        Q = [],
        J = Q.pop,
        Z = Q.push,
        et = Q.push,
        tt = Q.slice,
        nt =
          Q.indexOf ||
          function (e) {
            for (var t = 0, n = this.length; n > t; t++)
              if (this[t] === e) return t;
            return -1;
          },
        it =
          "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        rt = "[\\x20\\t\\r\\n\\f]",
        st = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        ot = st.replace("w", "w#"),
        at =
          "\\[" +
          rt +
          "*(" +
          st +
          ")" +
          rt +
          "*(?:([*^$|!~]?=)" +
          rt +
          "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" +
          ot +
          ")|)|)" +
          rt +
          "*\\]",
        lt =
          ":(" +
          st +
          ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" +
          at.replace(3, 8) +
          ")*)|.*)\\)|)",
        ct = new RegExp(
          "^" + rt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + rt + "+$",
          "g"
        ),
        dt = new RegExp("^" + rt + "*," + rt + "*"),
        pt = new RegExp("^" + rt + "*([>+~]|" + rt + ")" + rt + "*"),
        ht = new RegExp(rt + "*[+~]"),
        ft = new RegExp("=" + rt + "*([^\\]'\"]*)" + rt + "*\\]", "g"),
        mt = new RegExp(lt),
        gt = new RegExp("^" + ot + "$"),
        _t = {
          ID: new RegExp("^#(" + st + ")"),
          CLASS: new RegExp("^\\.(" + st + ")"),
          TAG: new RegExp("^(" + st.replace("w", "w*") + ")"),
          ATTR: new RegExp("^" + at),
          PSEUDO: new RegExp("^" + lt),
          CHILD: new RegExp(
            "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
              rt +
              "*(even|odd|(([+-]|)(\\d*)n|)" +
              rt +
              "*(?:([+-]|)" +
              rt +
              "*(\\d+)|))" +
              rt +
              "*\\)|)",
            "i"
          ),
          bool: new RegExp("^(?:" + it + ")$", "i"),
          needsContext: new RegExp(
            "^" +
              rt +
              "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
              rt +
              "*((?:-\\d)?\\d*)" +
              rt +
              "*\\)|)(?=[^-]|$)",
            "i"
          ),
        },
        vt = /^[^{]+\{\s*\[native \w/,
        yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        bt = /^(?:input|select|textarea|button)$/i,
        wt = /^h\d$/i,
        Ct = /'|\\/g,
        kt = new RegExp("\\\\([\\da-f]{1,6}" + rt + "?|(" + rt + ")|.)", "ig"),
        Tt = function (e, t, n) {
          var i = "0x" + t - 65536;
          return i !== i || n
            ? t
            : 0 > i
            ? String.fromCharCode(i + 65536)
            : String.fromCharCode((i >> 10) | 55296, (1023 & i) | 56320);
        };
      try {
        et.apply((Q = tt.call($.childNodes)), $.childNodes),
          Q[$.childNodes.length].nodeType;
      } catch (Et) {
        et = {
          apply: Q.length
            ? function (e, t) {
                Z.apply(e, tt.call(t));
              }
            : function (e, t) {
                for (var n = e.length, i = 0; (e[n++] = t[i++]); );
                e.length = n - 1;
              },
        };
      }
      (x = n.isXML =
        function (e) {
          var t = e && (e.ownerDocument || e).documentElement;
          return t ? "HTML" !== t.nodeName : !1;
        }),
        (k = n.support = {}),
        (I = n.setDocument =
          function (e) {
            var t = e ? e.ownerDocument || e : $,
              n = t.defaultView;
            return t !== D && 9 === t.nodeType && t.documentElement
              ? ((D = t),
                (M = t.documentElement),
                (R = !x(t)),
                n &&
                  n.attachEvent &&
                  n !== n.top &&
                  n.attachEvent("onbeforeunload", function () {
                    I();
                  }),
                (k.attributes = s(function (e) {
                  return (e.className = "i"), !e.getAttribute("className");
                })),
                (k.getElementsByTagName = s(function (e) {
                  return (
                    e.appendChild(t.createComment("")),
                    !e.getElementsByTagName("*").length
                  );
                })),
                (k.getElementsByClassName = s(function (e) {
                  return (
                    (e.innerHTML =
                      "<div class='a'></div><div class='a i'></div>"),
                    (e.firstChild.className = "i"),
                    2 === e.getElementsByClassName("i").length
                  );
                })),
                (k.getById = s(function (e) {
                  return (
                    (M.appendChild(e).id = B),
                    !t.getElementsByName || !t.getElementsByName(B).length
                  );
                })),
                k.getById
                  ? ((E.find.ID = function (e, t) {
                      if (typeof t.getElementById !== G && R) {
                        var n = t.getElementById(e);
                        return n && n.parentNode ? [n] : [];
                      }
                    }),
                    (E.filter.ID = function (e) {
                      var t = e.replace(kt, Tt);
                      return function (e) {
                        return e.getAttribute("id") === t;
                      };
                    }))
                  : (delete E.find.ID,
                    (E.filter.ID = function (e) {
                      var t = e.replace(kt, Tt);
                      return function (e) {
                        var n =
                          typeof e.getAttributeNode !== G &&
                          e.getAttributeNode("id");
                        return n && n.value === t;
                      };
                    })),
                (E.find.TAG = k.getElementsByTagName
                  ? function (e, t) {
                      return typeof t.getElementsByTagName !== G
                        ? t.getElementsByTagName(e)
                        : void 0;
                    }
                  : function (e, t) {
                      var n,
                        i = [],
                        r = 0,
                        s = t.getElementsByTagName(e);
                      if ("*" === e) {
                        for (; (n = s[r++]); ) 1 === n.nodeType && i.push(n);
                        return i;
                      }
                      return s;
                    }),
                (E.find.CLASS =
                  k.getElementsByClassName &&
                  function (e, t) {
                    return typeof t.getElementsByClassName !== G && R
                      ? t.getElementsByClassName(e)
                      : void 0;
                  }),
                (L = []),
                (j = []),
                (k.qsa = vt.test(t.querySelectorAll)) &&
                  (s(function (e) {
                    (e.innerHTML =
                      "<select><option selected=''></option></select>"),
                      e.querySelectorAll("[selected]").length ||
                        j.push("\\[" + rt + "*(?:value|" + it + ")"),
                      e.querySelectorAll(":checked").length ||
                        j.push(":checked");
                  }),
                  s(function (e) {
                    var n = t.createElement("input");
                    n.setAttribute("type", "hidden"),
                      e.appendChild(n).setAttribute("t", ""),
                      e.querySelectorAll("[t^='']").length &&
                        j.push("[*^$]=" + rt + "*(?:''|\"\")"),
                      e.querySelectorAll(":enabled").length ||
                        j.push(":enabled", ":disabled"),
                      e.querySelectorAll("*,:x"),
                      j.push(",.*:");
                  })),
                (k.matchesSelector = vt.test(
                  (N =
                    M.webkitMatchesSelector ||
                    M.mozMatchesSelector ||
                    M.oMatchesSelector ||
                    M.msMatchesSelector)
                )) &&
                  s(function (e) {
                    (k.disconnectedMatch = N.call(e, "div")),
                      N.call(e, "[s!='']:x"),
                      L.push("!=", lt);
                  }),
                (j = j.length && new RegExp(j.join("|"))),
                (L = L.length && new RegExp(L.join("|"))),
                (U =
                  vt.test(M.contains) || M.compareDocumentPosition
                    ? function (e, t) {
                        var n = 9 === e.nodeType ? e.documentElement : e,
                          i = t && t.parentNode;
                        return (
                          e === i ||
                          !(
                            !i ||
                            1 !== i.nodeType ||
                            !(n.contains
                              ? n.contains(i)
                              : e.compareDocumentPosition &&
                                16 & e.compareDocumentPosition(i))
                          )
                        );
                      }
                    : function (e, t) {
                        if (t)
                          for (; (t = t.parentNode); ) if (t === e) return !0;
                        return !1;
                      }),
                (K = M.compareDocumentPosition
                  ? function (e, n) {
                      if (e === n) return (V = !0), 0;
                      var i =
                        n.compareDocumentPosition &&
                        e.compareDocumentPosition &&
                        e.compareDocumentPosition(n);
                      return i
                        ? 1 & i ||
                          (!k.sortDetached &&
                            n.compareDocumentPosition(e) === i)
                          ? e === t || U($, e)
                            ? -1
                            : n === t || U($, n)
                            ? 1
                            : A
                            ? nt.call(A, e) - nt.call(A, n)
                            : 0
                          : 4 & i
                          ? -1
                          : 1
                        : e.compareDocumentPosition
                        ? -1
                        : 1;
                    }
                  : function (e, n) {
                      var i,
                        r = 0,
                        s = e.parentNode,
                        o = n.parentNode,
                        l = [e],
                        c = [n];
                      if (e === n) return (V = !0), 0;
                      if (!s || !o)
                        return e === t
                          ? -1
                          : n === t
                          ? 1
                          : s
                          ? -1
                          : o
                          ? 1
                          : A
                          ? nt.call(A, e) - nt.call(A, n)
                          : 0;
                      if (s === o) return a(e, n);
                      for (i = e; (i = i.parentNode); ) l.unshift(i);
                      for (i = n; (i = i.parentNode); ) c.unshift(i);
                      for (; l[r] === c[r]; ) r++;
                      return r
                        ? a(l[r], c[r])
                        : l[r] === $
                        ? -1
                        : c[r] === $
                        ? 1
                        : 0;
                    }),
                t)
              : D;
          }),
        (n.matches = function (e, t) {
          return n(e, null, null, t);
        }),
        (n.matchesSelector = function (e, t) {
          if (
            ((e.ownerDocument || e) !== D && I(e),
            (t = t.replace(ft, "='$1']")),
            !(!k.matchesSelector || !R || (L && L.test(t)) || (j && j.test(t))))
          )
            try {
              var i = N.call(e, t);
              if (
                i ||
                k.disconnectedMatch ||
                (e.document && 11 !== e.document.nodeType)
              )
                return i;
            } catch (r) {}
          return n(t, D, null, [e]).length > 0;
        }),
        (n.contains = function (e, t) {
          return (e.ownerDocument || e) !== D && I(e), U(e, t);
        }),
        (n.attr = function (e, n) {
          (e.ownerDocument || e) !== D && I(e);
          var i = E.attrHandle[n.toLowerCase()],
            r = i && X.call(E.attrHandle, n.toLowerCase()) ? i(e, n, !R) : t;
          return r === t
            ? k.attributes || !R
              ? e.getAttribute(n)
              : (r = e.getAttributeNode(n)) && r.specified
              ? r.value
              : null
            : r;
        }),
        (n.error = function (e) {
          throw new Error("Syntax error, unrecognized expression: " + e);
        }),
        (n.uniqueSort = function (e) {
          var t,
            n = [],
            i = 0,
            r = 0;
          if (
            ((V = !k.detectDuplicates),
            (A = !k.sortStable && e.slice(0)),
            e.sort(K),
            V)
          ) {
            for (; (t = e[r++]); ) t === e[r] && (i = n.push(r));
            for (; i--; ) e.splice(n[i], 1);
          }
          return e;
        }),
        (S = n.getText =
          function (e) {
            var t,
              n = "",
              i = 0,
              r = e.nodeType;
            if (r) {
              if (1 === r || 9 === r || 11 === r) {
                if ("string" == typeof e.textContent) return e.textContent;
                for (e = e.firstChild; e; e = e.nextSibling) n += S(e);
              } else if (3 === r || 4 === r) return e.nodeValue;
            } else for (; (t = e[i]); i++) n += S(t);
            return n;
          }),
        (E = n.selectors =
          {
            cacheLength: 50,
            createPseudo: r,
            match: _t,
            attrHandle: {},
            find: {},
            relative: {
              ">": {
                dir: "parentNode",
                first: !0,
              },
              " ": {
                dir: "parentNode",
              },
              "+": {
                dir: "previousSibling",
                first: !0,
              },
              "~": {
                dir: "previousSibling",
              },
            },
            preFilter: {
              ATTR: function (e) {
                return (
                  (e[1] = e[1].replace(kt, Tt)),
                  (e[3] = (e[4] || e[5] || "").replace(kt, Tt)),
                  "~=" === e[2] && (e[3] = " " + e[3] + " "),
                  e.slice(0, 4)
                );
              },
              CHILD: function (e) {
                return (
                  (e[1] = e[1].toLowerCase()),
                  "nth" === e[1].slice(0, 3)
                    ? (e[3] || n.error(e[0]),
                      (e[4] = +(e[4]
                        ? e[5] + (e[6] || 1)
                        : 2 * ("even" === e[3] || "odd" === e[3]))),
                      (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                    : e[3] && n.error(e[0]),
                  e
                );
              },
              PSEUDO: function (e) {
                var n,
                  i = !e[5] && e[2];
                return _t.CHILD.test(e[0])
                  ? null
                  : (e[3] && e[4] !== t
                      ? (e[2] = e[4])
                      : i &&
                        mt.test(i) &&
                        (n = p(i, !0)) &&
                        (n = i.indexOf(")", i.length - n) - i.length) &&
                        ((e[0] = e[0].slice(0, n)), (e[2] = i.slice(0, n))),
                    e.slice(0, 3));
              },
            },
            filter: {
              TAG: function (e) {
                var t = e.replace(kt, Tt).toLowerCase();
                return "*" === e
                  ? function () {
                      return !0;
                    }
                  : function (e) {
                      return e.nodeName && e.nodeName.toLowerCase() === t;
                    };
              },
              CLASS: function (e) {
                var t = W[e + " "];
                return (
                  t ||
                  ((t = new RegExp("(^|" + rt + ")" + e + "(" + rt + "|$)")) &&
                    W(e, function (e) {
                      return t.test(
                        ("string" == typeof e.className && e.className) ||
                          (typeof e.getAttribute !== G &&
                            e.getAttribute("class")) ||
                          ""
                      );
                    }))
                );
              },
              ATTR: function (e, t, i) {
                return function (r) {
                  var s = n.attr(r, e);
                  return null == s
                    ? "!=" === t
                    : t
                    ? ((s += ""),
                      "=" === t
                        ? s === i
                        : "!=" === t
                        ? s !== i
                        : "^=" === t
                        ? i && 0 === s.indexOf(i)
                        : "*=" === t
                        ? i && s.indexOf(i) > -1
                        : "$=" === t
                        ? i && s.slice(-i.length) === i
                        : "~=" === t
                        ? (" " + s + " ").indexOf(i) > -1
                        : "|=" === t
                        ? s === i || s.slice(0, i.length + 1) === i + "-"
                        : !1)
                    : !0;
                };
              },
              CHILD: function (e, t, n, i, r) {
                var s = "nth" !== e.slice(0, 3),
                  o = "last" !== e.slice(-4),
                  a = "of-type" === t;
                return 1 === i && 0 === r
                  ? function (e) {
                      return !!e.parentNode;
                    }
                  : function (t, n, l) {
                      var c,
                        u,
                        d,
                        p,
                        h,
                        f,
                        m = s !== o ? "nextSibling" : "previousSibling",
                        g = t.parentNode,
                        _ = a && t.nodeName.toLowerCase(),
                        v = !l && !a;
                      if (g) {
                        if (s) {
                          for (; m; ) {
                            for (d = t; (d = d[m]); )
                              if (
                                a
                                  ? d.nodeName.toLowerCase() === _
                                  : 1 === d.nodeType
                              )
                                return !1;
                            f = m = "only" === e && !f && "nextSibling";
                          }
                          return !0;
                        }
                        if (((f = [o ? g.firstChild : g.lastChild]), o && v)) {
                          for (
                            u = g[B] || (g[B] = {}),
                              c = u[e] || [],
                              h = c[0] === F && c[1],
                              p = c[0] === F && c[2],
                              d = h && g.childNodes[h];
                            (d = (++h && d && d[m]) || (p = h = 0) || f.pop());

                          )
                            if (1 === d.nodeType && ++p && d === t) {
                              u[e] = [F, h, p];
                              break;
                            }
                        } else if (
                          v &&
                          (c = (t[B] || (t[B] = {}))[e]) &&
                          c[0] === F
                        )
                          p = c[1];
                        else
                          for (
                            ;
                            (d =
                              (++h && d && d[m]) || (p = h = 0) || f.pop()) &&
                            ((a
                              ? d.nodeName.toLowerCase() !== _
                              : 1 !== d.nodeType) ||
                              !++p ||
                              (v && ((d[B] || (d[B] = {}))[e] = [F, p]),
                              d !== t));

                          );
                        return (p -= r), p === i || (p % i === 0 && p / i >= 0);
                      }
                    };
              },
              PSEUDO: function (e, t) {
                var i,
                  s =
                    E.pseudos[e] ||
                    E.setFilters[e.toLowerCase()] ||
                    n.error("unsupported pseudo: " + e);
                return s[B]
                  ? s(t)
                  : s.length > 1
                  ? ((i = [e, e, "", t]),
                    E.setFilters.hasOwnProperty(e.toLowerCase())
                      ? r(function (e, n) {
                          for (var i, r = s(e, t), o = r.length; o--; )
                            (i = nt.call(e, r[o])), (e[i] = !(n[i] = r[o]));
                        })
                      : function (e) {
                          return s(e, 0, i);
                        })
                  : s;
              },
            },
            pseudos: {
              not: r(function (e) {
                var t = [],
                  n = [],
                  i = P(e.replace(ct, "$1"));
                return i[B]
                  ? r(function (e, t, n, r) {
                      for (var s, o = i(e, null, r, []), a = e.length; a--; )
                        (s = o[a]) && (e[a] = !(t[a] = s));
                    })
                  : function (e, r, s) {
                      return (t[0] = e), i(t, null, s, n), !n.pop();
                    };
              }),
              has: r(function (e) {
                return function (t) {
                  return n(e, t).length > 0;
                };
              }),
              contains: r(function (e) {
                return function (t) {
                  return (t.textContent || t.innerText || S(t)).indexOf(e) > -1;
                };
              }),
              lang: r(function (e) {
                return (
                  gt.test(e || "") || n.error("unsupported lang: " + e),
                  (e = e.replace(kt, Tt).toLowerCase()),
                  function (t) {
                    var n;
                    do
                      if (
                        (n = R
                          ? t.lang
                          : t.getAttribute("xml:lang") ||
                            t.getAttribute("lang"))
                      )
                        return (
                          (n = n.toLowerCase()),
                          n === e || 0 === n.indexOf(e + "-")
                        );
                    while ((t = t.parentNode) && 1 === t.nodeType);
                    return !1;
                  }
                );
              }),
              target: function (t) {
                var n = e.location && e.location.hash;
                return n && n.slice(1) === t.id;
              },
              root: function (e) {
                return e === M;
              },
              focus: function (e) {
                return (
                  e === D.activeElement &&
                  (!D.hasFocus || D.hasFocus()) &&
                  !!(e.type || e.href || ~e.tabIndex)
                );
              },
              enabled: function (e) {
                return e.disabled === !1;
              },
              disabled: function (e) {
                return e.disabled === !0;
              },
              checked: function (e) {
                var t = e.nodeName.toLowerCase();
                return (
                  ("input" === t && !!e.checked) ||
                  ("option" === t && !!e.selected)
                );
              },
              selected: function (e) {
                return (
                  e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                );
              },
              empty: function (e) {
                for (e = e.firstChild; e; e = e.nextSibling)
                  if (e.nodeName > "@" || 3 === e.nodeType || 4 === e.nodeType)
                    return !1;
                return !0;
              },
              parent: function (e) {
                return !E.pseudos.empty(e);
              },
              header: function (e) {
                return wt.test(e.nodeName);
              },
              input: function (e) {
                return bt.test(e.nodeName);
              },
              button: function (e) {
                var t = e.nodeName.toLowerCase();
                return ("input" === t && "button" === e.type) || "button" === t;
              },
              text: function (e) {
                var t;
                return (
                  "input" === e.nodeName.toLowerCase() &&
                  "text" === e.type &&
                  (null == (t = e.getAttribute("type")) ||
                    t.toLowerCase() === e.type)
                );
              },
              first: u(function () {
                return [0];
              }),
              last: u(function (e, t) {
                return [t - 1];
              }),
              eq: u(function (e, t, n) {
                return [0 > n ? n + t : n];
              }),
              even: u(function (e, t) {
                for (var n = 0; t > n; n += 2) e.push(n);
                return e;
              }),
              odd: u(function (e, t) {
                for (var n = 1; t > n; n += 2) e.push(n);
                return e;
              }),
              lt: u(function (e, t, n) {
                for (var i = 0 > n ? n + t : n; --i >= 0; ) e.push(i);
                return e;
              }),
              gt: u(function (e, t, n) {
                for (var i = 0 > n ? n + t : n; ++i < t; ) e.push(i);
                return e;
              }),
            },
          }),
        (E.pseudos.nth = E.pseudos.eq);
      for (C in {
        radio: !0,
        checkbox: !0,
        file: !0,
        password: !0,
        image: !0,
      })
        E.pseudos[C] = l(C);
      for (C in {
        submit: !0,
        reset: !0,
      })
        E.pseudos[C] = c(C);
      (d.prototype = E.filters = E.pseudos),
        (E.setFilters = new d()),
        (P = n.compile =
          function (e, t) {
            var n,
              i = [],
              r = [],
              s = z[e + " "];
            if (!s) {
              for (t || (t = p(e)), n = t.length; n--; )
                (s = v(t[n])), s[B] ? i.push(s) : r.push(s);
              s = z(e, y(r, i));
            }
            return s;
          }),
        (k.sortStable = B.split("").sort(K).join("") === B),
        (k.detectDuplicates = V),
        I(),
        (k.sortDetached = s(function (e) {
          return 1 & e.compareDocumentPosition(D.createElement("div"));
        })),
        s(function (e) {
          return (
            (e.innerHTML = "<a href='#'></a>"),
            "#" === e.firstChild.getAttribute("href")
          );
        }) ||
          o("type|href|height|width", function (e, t, n) {
            return n
              ? void 0
              : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
          }),
        (k.attributes &&
          s(function (e) {
            return (
              (e.innerHTML = "<input/>"),
              e.firstChild.setAttribute("value", ""),
              "" === e.firstChild.getAttribute("value")
            );
          })) ||
          o("value", function (e, t, n) {
            return n || "input" !== e.nodeName.toLowerCase()
              ? void 0
              : e.defaultValue;
          }),
        s(function (e) {
          return null == e.getAttribute("disabled");
        }) ||
          o(it, function (e, t, n) {
            var i;
            return n
              ? void 0
              : (i = e.getAttributeNode(t)) && i.specified
              ? i.value
              : e[t] === !0
              ? t.toLowerCase()
              : null;
          }),
        (ut.find = n),
        (ut.expr = n.selectors),
        (ut.expr[":"] = ut.expr.pseudos),
        (ut.unique = n.uniqueSort),
        (ut.text = n.getText),
        (ut.isXMLDoc = n.isXML),
        (ut.contains = n.contains);
    })(e);
  var Et = {};
  (ut.Callbacks = function (e) {
    e = "string" == typeof e ? Et[e] || i(e) : ut.extend({}, e);
    var n,
      r,
      s,
      o,
      a,
      l,
      c = [],
      u = !e.once && [],
      d = function (t) {
        for (
          r = e.memory && t, s = !0, a = l || 0, l = 0, o = c.length, n = !0;
          c && o > a;
          a++
        )
          if (c[a].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
            r = !1;
            break;
          }
        (n = !1),
          c && (u ? u.length && d(u.shift()) : r ? (c = []) : p.disable());
      },
      p = {
        add: function () {
          if (c) {
            var t = c.length;
            !(function i(t) {
              ut.each(t, function (t, n) {
                var r = ut.type(n);
                "function" === r
                  ? (e.unique && p.has(n)) || c.push(n)
                  : n && n.length && "string" !== r && i(n);
              });
            })(arguments),
              n ? (o = c.length) : r && ((l = t), d(r));
          }
          return this;
        },
        remove: function () {
          return (
            c &&
              ut.each(arguments, function (e, t) {
                for (var i; (i = ut.inArray(t, c, i)) > -1; )
                  c.splice(i, 1), n && (o >= i && o--, a >= i && a--);
              }),
            this
          );
        },
        has: function (e) {
          return e ? ut.inArray(e, c) > -1 : !(!c || !c.length);
        },
        empty: function () {
          return (c = []), (o = 0), this;
        },
        disable: function () {
          return (c = u = r = t), this;
        },
        disabled: function () {
          return !c;
        },
        lock: function () {
          return (u = t), r || p.disable(), this;
        },
        locked: function () {
          return !u;
        },
        fireWith: function (e, t) {
          return (
            !c ||
              (s && !u) ||
              ((t = t || []),
              (t = [e, t.slice ? t.slice() : t]),
              n ? u.push(t) : d(t)),
            this
          );
        },
        fire: function () {
          return p.fireWith(this, arguments), this;
        },
        fired: function () {
          return !!s;
        },
      };
    return p;
  }),
    ut.extend({
      Deferred: function (e) {
        var t = [
            ["resolve", "done", ut.Callbacks("once memory"), "resolved"],
            ["reject", "fail", ut.Callbacks("once memory"), "rejected"],
            ["notify", "progress", ut.Callbacks("memory")],
          ],
          n = "pending",
          i = {
            state: function () {
              return n;
            },
            always: function () {
              return r.done(arguments).fail(arguments), this;
            },
            then: function () {
              var e = arguments;
              return ut
                .Deferred(function (n) {
                  ut.each(t, function (t, s) {
                    var o = s[0],
                      a = ut.isFunction(e[t]) && e[t];
                    r[s[1]](function () {
                      var e = a && a.apply(this, arguments);
                      e && ut.isFunction(e.promise)
                        ? e
                            .promise()
                            .done(n.resolve)
                            .fail(n.reject)
                            .progress(n.notify)
                        : n[o + "With"](
                            this === i ? n.promise() : this,
                            a ? [e] : arguments
                          );
                    });
                  }),
                    (e = null);
                })
                .promise();
            },
            promise: function (e) {
              return null != e ? ut.extend(e, i) : i;
            },
          },
          r = {};
        return (
          (i.pipe = i.then),
          ut.each(t, function (e, s) {
            var o = s[2],
              a = s[3];
            (i[s[1]] = o.add),
              a &&
                o.add(
                  function () {
                    n = a;
                  },
                  t[1 ^ e][2].disable,
                  t[2][2].lock
                ),
              (r[s[0]] = function () {
                return r[s[0] + "With"](this === r ? i : this, arguments), this;
              }),
              (r[s[0] + "With"] = o.fireWith);
          }),
          i.promise(r),
          e && e.call(r, r),
          r
        );
      },
      when: function (e) {
        var t,
          n,
          i,
          r = 0,
          s = st.call(arguments),
          o = s.length,
          a = 1 !== o || (e && ut.isFunction(e.promise)) ? o : 0,
          l = 1 === a ? e : ut.Deferred(),
          c = function (e, n, i) {
            return function (r) {
              (n[e] = this),
                (i[e] = arguments.length > 1 ? st.call(arguments) : r),
                i === t ? l.notifyWith(n, i) : --a || l.resolveWith(n, i);
            };
          };
        if (o > 1)
          for (t = new Array(o), n = new Array(o), i = new Array(o); o > r; r++)
            s[r] && ut.isFunction(s[r].promise)
              ? s[r]
                  .promise()
                  .done(c(r, i, s))
                  .fail(l.reject)
                  .progress(c(r, n, t))
              : --a;
        return a || l.resolveWith(i, s), l.promise();
      },
    }),
    (ut.support = (function (t) {
      var n,
        i,
        r,
        s,
        o,
        a,
        l,
        c,
        u,
        d = X.createElement("div");
      if (
        (d.setAttribute("className", "t"),
        (d.innerHTML =
          "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>"),
        (n = d.getElementsByTagName("*") || []),
        (i = d.getElementsByTagName("a")[0]),
        !i || !i.style || !n.length)
      )
        return t;
      (s = X.createElement("select")),
        (a = s.appendChild(X.createElement("option"))),
        (r = d.getElementsByTagName("input")[0]),
        (i.style.cssText = "top:1px;float:left;opacity:.5"),
        (t.getSetAttribute = "t" !== d.className),
        (t.leadingWhitespace = 3 === d.firstChild.nodeType),
        (t.tbody = !d.getElementsByTagName("tbody").length),
        (t.htmlSerialize = !!d.getElementsByTagName("link").length),
        (t.style = /top/.test(i.getAttribute("style"))),
        (t.hrefNormalized = "/a" === i.getAttribute("href")),
        (t.opacity = /^0.5/.test(i.style.opacity)),
        (t.cssFloat = !!i.style.cssFloat),
        (t.checkOn = !!r.value),
        (t.optSelected = a.selected),
        (t.enctype = !!X.createElement("form").enctype),
        (t.html5Clone =
          "<:nav></:nav>" !== X.createElement("nav").cloneNode(!0).outerHTML),
        (t.inlineBlockNeedsLayout = !1),
        (t.shrinkWrapBlocks = !1),
        (t.pixelPosition = !1),
        (t.deleteExpando = !0),
        (t.noCloneEvent = !0),
        (t.reliableMarginRight = !0),
        (t.boxSizingReliable = !0),
        (r.checked = !0),
        (t.noCloneChecked = r.cloneNode(!0).checked),
        (s.disabled = !0),
        (t.optDisabled = !a.disabled);
      try {
        delete d.test;
      } catch (p) {
        t.deleteExpando = !1;
      }
      (r = X.createElement("input")),
        r.setAttribute("value", ""),
        (t.input = "" === r.getAttribute("value")),
        (r.value = "t"),
        r.setAttribute("type", "radio"),
        (t.radioValue = "t" === r.value),
        r.setAttribute("checked", "t"),
        r.setAttribute("name", "t"),
        (o = X.createDocumentFragment()),
        o.appendChild(r),
        (t.appendChecked = r.checked),
        (t.checkClone = o.cloneNode(!0).cloneNode(!0).lastChild.checked),
        d.attachEvent &&
          (d.attachEvent("onclick", function () {
            t.noCloneEvent = !1;
          }),
          d.cloneNode(!0).click());
      for (u in {
        submit: !0,
        change: !0,
        focusin: !0,
      })
        d.setAttribute((l = "on" + u), "t"),
          (t[u + "Bubbles"] = l in e || d.attributes[l].expando === !1);
      (d.style.backgroundClip = "content-box"),
        (d.cloneNode(!0).style.backgroundClip = ""),
        (t.clearCloneStyle = "content-box" === d.style.backgroundClip);
      for (u in ut(t)) break;
      return (
        (t.ownLast = "0" !== u),
        ut(function () {
          var n,
            i,
            r,
            s =
              "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
            o = X.getElementsByTagName("body")[0];
          o &&
            ((n = X.createElement("div")),
            (n.style.cssText =
              "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px"),
            o.appendChild(n).appendChild(d),
            (d.innerHTML = "<table><tr><td></td><td>t</td></tr></table>"),
            (r = d.getElementsByTagName("td")),
            (r[0].style.cssText = "padding:0;margin:0;border:0;display:none"),
            (c = 0 === r[0].offsetHeight),
            (r[0].style.display = ""),
            (r[1].style.display = "none"),
            (t.reliableHiddenOffsets = c && 0 === r[0].offsetHeight),
            (d.innerHTML = ""),
            (d.style.cssText =
              "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;"),
            ut.swap(
              o,
              null != o.style.zoom
                ? {
                    zoom: 1,
                  }
                : {},
              function () {
                t.boxSizing = 4 === d.offsetWidth;
              }
            ),
            e.getComputedStyle &&
              ((t.pixelPosition =
                "1%" !== (e.getComputedStyle(d, null) || {}).top),
              (t.boxSizingReliable =
                "4px" ===
                (
                  e.getComputedStyle(d, null) || {
                    width: "4px",
                  }
                ).width),
              (i = d.appendChild(X.createElement("div"))),
              (i.style.cssText = d.style.cssText = s),
              (i.style.marginRight = i.style.width = "0"),
              (d.style.width = "1px"),
              (t.reliableMarginRight = !parseFloat(
                (e.getComputedStyle(i, null) || {}).marginRight
              ))),
            typeof d.style.zoom !== G &&
              ((d.innerHTML = ""),
              (d.style.cssText =
                s + "width:1px;padding:1px;display:inline;zoom:1"),
              (t.inlineBlockNeedsLayout = 3 === d.offsetWidth),
              (d.style.display = "block"),
              (d.innerHTML = "<div></div>"),
              (d.firstChild.style.width = "5px"),
              (t.shrinkWrapBlocks = 3 !== d.offsetWidth),
              t.inlineBlockNeedsLayout && (o.style.zoom = 1)),
            o.removeChild(n),
            (n = d = r = i = null));
        }),
        (n = s = o = a = i = r = null),
        t
      );
    })({}));
  var St = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
    xt = /([A-Z])/g;
  ut.extend({
    cache: {},
    noData: {
      applet: !0,
      embed: !0,
      object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
    },
    hasData: function (e) {
      return (
        (e = e.nodeType ? ut.cache[e[ut.expando]] : e[ut.expando]), !!e && !a(e)
      );
    },
    data: function (e, t, n) {
      return r(e, t, n);
    },
    removeData: function (e, t) {
      return s(e, t);
    },
    _data: function (e, t, n) {
      return r(e, t, n, !0);
    },
    _removeData: function (e, t) {
      return s(e, t, !0);
    },
    acceptData: function (e) {
      if (e.nodeType && 1 !== e.nodeType && 9 !== e.nodeType) return !1;
      var t = e.nodeName && ut.noData[e.nodeName.toLowerCase()];
      return !t || (t !== !0 && e.getAttribute("classid") === t);
    },
  }),
    ut.fn.extend({
      data: function (e, n) {
        var i,
          r,
          s = null,
          a = 0,
          l = this[0];
        if (e === t) {
          if (
            this.length &&
            ((s = ut.data(l)), 1 === l.nodeType && !ut._data(l, "parsedAttrs"))
          ) {
            for (i = l.attributes; a < i.length; a++)
              (r = i[a].name),
                0 === r.indexOf("data-") &&
                  ((r = ut.camelCase(r.slice(5))), o(l, r, s[r]));
            ut._data(l, "parsedAttrs", !0);
          }
          return s;
        }
        return "object" == typeof e
          ? this.each(function () {
              ut.data(this, e);
            })
          : arguments.length > 1
          ? this.each(function () {
              ut.data(this, e, n);
            })
          : l
          ? o(l, e, ut.data(l, e))
          : null;
      },
      removeData: function (e) {
        return this.each(function () {
          ut.removeData(this, e);
        });
      },
    }),
    ut.extend({
      queue: function (e, t, n) {
        var i;
        return e
          ? ((t = (t || "fx") + "queue"),
            (i = ut._data(e, t)),
            n &&
              (!i || ut.isArray(n)
                ? (i = ut._data(e, t, ut.makeArray(n)))
                : i.push(n)),
            i || [])
          : void 0;
      },
      dequeue: function (e, t) {
        t = t || "fx";
        var n = ut.queue(e, t),
          i = n.length,
          r = n.shift(),
          s = ut._queueHooks(e, t),
          o = function () {
            ut.dequeue(e, t);
          };
        "inprogress" === r && ((r = n.shift()), i--),
          r &&
            ("fx" === t && n.unshift("inprogress"),
            delete s.stop,
            r.call(e, o, s)),
          !i && s && s.empty.fire();
      },
      _queueHooks: function (e, t) {
        var n = t + "queueHooks";
        return (
          ut._data(e, n) ||
          ut._data(e, n, {
            empty: ut.Callbacks("once memory").add(function () {
              ut._removeData(e, t + "queue"), ut._removeData(e, n);
            }),
          })
        );
      },
    }),
    ut.fn.extend({
      queue: function (e, n) {
        var i = 2;
        return (
          "string" != typeof e && ((n = e), (e = "fx"), i--),
          arguments.length < i
            ? ut.queue(this[0], e)
            : n === t
            ? this
            : this.each(function () {
                var t = ut.queue(this, e, n);
                ut._queueHooks(this, e),
                  "fx" === e && "inprogress" !== t[0] && ut.dequeue(this, e);
              })
        );
      },
      dequeue: function (e) {
        return this.each(function () {
          ut.dequeue(this, e);
        });
      },
      delay: function (e, t) {
        return (
          (e = ut.fx ? ut.fx.speeds[e] || e : e),
          (t = t || "fx"),
          this.queue(t, function (t, n) {
            var i = setTimeout(t, e);
            n.stop = function () {
              clearTimeout(i);
            };
          })
        );
      },
      clearQueue: function (e) {
        return this.queue(e || "fx", []);
      },
      promise: function (e, n) {
        var i,
          r = 1,
          s = ut.Deferred(),
          o = this,
          a = this.length,
          l = function () {
            --r || s.resolveWith(o, [o]);
          };
        for ("string" != typeof e && ((n = e), (e = t)), e = e || "fx"; a--; )
          (i = ut._data(o[a], e + "queueHooks")),
            i && i.empty && (r++, i.empty.add(l));
        return l(), s.promise(n);
      },
    });
  var Pt,
    Ot,
    At = /[\t\r\n\f]/g,
    It = /\r/g,
    Dt = /^(?:input|select|textarea|button|object)$/i,
    Mt = /^(?:a|area)$/i,
    Rt = /^(?:checked|selected)$/i,
    jt = ut.support.getSetAttribute,
    Lt = ut.support.input;
  ut.fn.extend({
    attr: function (e, t) {
      return ut.access(this, ut.attr, e, t, arguments.length > 1);
    },
    removeAttr: function (e) {
      return this.each(function () {
        ut.removeAttr(this, e);
      });
    },
    prop: function (e, t) {
      return ut.access(this, ut.prop, e, t, arguments.length > 1);
    },
    removeProp: function (e) {
      return (
        (e = ut.propFix[e] || e),
        this.each(function () {
          try {
            (this[e] = t), delete this[e];
          } catch (n) {}
        })
      );
    },
    addClass: function (e) {
      var t,
        n,
        i,
        r,
        s,
        o = 0,
        a = this.length,
        l = "string" == typeof e && e;
      if (ut.isFunction(e))
        return this.each(function (t) {
          ut(this).addClass(e.call(this, t, this.className));
        });
      if (l)
        for (t = (e || "").match(pt) || []; a > o; o++)
          if (
            ((n = this[o]),
            (i =
              1 === n.nodeType &&
              (n.className ? (" " + n.className + " ").replace(At, " ") : " ")))
          ) {
            for (s = 0; (r = t[s++]); )
              i.indexOf(" " + r + " ") < 0 && (i += r + " ");
            n.className = ut.trim(i);
          }
      return this;
    },
    removeClass: function (e) {
      var t,
        n,
        i,
        r,
        s,
        o = 0,
        a = this.length,
        l = 0 === arguments.length || ("string" == typeof e && e);
      if (ut.isFunction(e))
        return this.each(function (t) {
          ut(this).removeClass(e.call(this, t, this.className));
        });
      if (l)
        for (t = (e || "").match(pt) || []; a > o; o++)
          if (
            ((n = this[o]),
            (i =
              1 === n.nodeType &&
              (n.className ? (" " + n.className + " ").replace(At, " ") : "")))
          ) {
            for (s = 0; (r = t[s++]); )
              for (; i.indexOf(" " + r + " ") >= 0; )
                i = i.replace(" " + r + " ", " ");
            n.className = e ? ut.trim(i) : "";
          }
      return this;
    },
    toggleClass: function (e, t) {
      var n = typeof e;
      return "boolean" == typeof t && "string" === n
        ? t
          ? this.addClass(e)
          : this.removeClass(e)
        : this.each(
            ut.isFunction(e)
              ? function (n) {
                  ut(this).toggleClass(e.call(this, n, this.className, t), t);
                }
              : function () {
                  if ("string" === n)
                    for (
                      var t, i = 0, r = ut(this), s = e.match(pt) || [];
                      (t = s[i++]);

                    )
                      r.hasClass(t) ? r.removeClass(t) : r.addClass(t);
                  else
                    (n === G || "boolean" === n) &&
                      (this.className &&
                        ut._data(this, "__className__", this.className),
                      (this.className =
                        this.className || e === !1
                          ? ""
                          : ut._data(this, "__className__") || ""));
                }
          );
    },
    hasClass: function (e) {
      for (var t = " " + e + " ", n = 0, i = this.length; i > n; n++)
        if (
          1 === this[n].nodeType &&
          (" " + this[n].className + " ").replace(At, " ").indexOf(t) >= 0
        )
          return !0;
      return !1;
    },
    val: function (e) {
      var n,
        i,
        r,
        s = this[0];
      {
        if (arguments.length)
          return (
            (r = ut.isFunction(e)),
            this.each(function (n) {
              var s;
              1 === this.nodeType &&
                ((s = r ? e.call(this, n, ut(this).val()) : e),
                null == s
                  ? (s = "")
                  : "number" == typeof s
                  ? (s += "")
                  : ut.isArray(s) &&
                    (s = ut.map(s, function (e) {
                      return null == e ? "" : e + "";
                    })),
                (i =
                  ut.valHooks[this.type] ||
                  ut.valHooks[this.nodeName.toLowerCase()]),
                (i && "set" in i && i.set(this, s, "value") !== t) ||
                  (this.value = s));
            })
          );
        if (s)
          return (
            (i = ut.valHooks[s.type] || ut.valHooks[s.nodeName.toLowerCase()]),
            i && "get" in i && (n = i.get(s, "value")) !== t
              ? n
              : ((n = s.value),
                "string" == typeof n ? n.replace(It, "") : null == n ? "" : n)
          );
      }
    },
  }),
    ut.extend({
      valHooks: {
        option: {
          get: function (e) {
            var t = ut.find.attr(e, "value");
            return null != t ? t : e.text;
          },
        },
        select: {
          get: function (e) {
            for (
              var t,
                n,
                i = e.options,
                r = e.selectedIndex,
                s = "select-one" === e.type || 0 > r,
                o = s ? null : [],
                a = s ? r + 1 : i.length,
                l = 0 > r ? a : s ? r : 0;
              a > l;
              l++
            )
              if (
                ((n = i[l]),
                !(
                  (!n.selected && l !== r) ||
                  (ut.support.optDisabled
                    ? n.disabled
                    : null !== n.getAttribute("disabled")) ||
                  (n.parentNode.disabled &&
                    ut.nodeName(n.parentNode, "optgroup"))
                ))
              ) {
                if (((t = ut(n).val()), s)) return t;
                o.push(t);
              }
            return o;
          },
          set: function (e, t) {
            for (
              var n, i, r = e.options, s = ut.makeArray(t), o = r.length;
              o--;

            )
              (i = r[o]),
                (i.selected = ut.inArray(ut(i).val(), s) >= 0) && (n = !0);
            return n || (e.selectedIndex = -1), s;
          },
        },
      },
      attr: function (e, n, i) {
        var r,
          s,
          o = e.nodeType;
        if (e && 3 !== o && 8 !== o && 2 !== o)
          return typeof e.getAttribute === G
            ? ut.prop(e, n, i)
            : ((1 === o && ut.isXMLDoc(e)) ||
                ((n = n.toLowerCase()),
                (r =
                  ut.attrHooks[n] || (ut.expr.match.bool.test(n) ? Ot : Pt))),
              i === t
                ? r && "get" in r && null !== (s = r.get(e, n))
                  ? s
                  : ((s = ut.find.attr(e, n)), null == s ? t : s)
                : null !== i
                ? r && "set" in r && (s = r.set(e, i, n)) !== t
                  ? s
                  : (e.setAttribute(n, i + ""), i)
                : void ut.removeAttr(e, n));
      },
      removeAttr: function (e, t) {
        var n,
          i,
          r = 0,
          s = t && t.match(pt);
        if (s && 1 === e.nodeType)
          for (; (n = s[r++]); )
            (i = ut.propFix[n] || n),
              ut.expr.match.bool.test(n)
                ? (Lt && jt) || !Rt.test(n)
                  ? (e[i] = !1)
                  : (e[ut.camelCase("default-" + n)] = e[i] = !1)
                : ut.attr(e, n, ""),
              e.removeAttribute(jt ? n : i);
      },
      attrHooks: {
        type: {
          set: function (e, t) {
            if (
              !ut.support.radioValue &&
              "radio" === t &&
              ut.nodeName(e, "input")
            ) {
              var n = e.value;
              return e.setAttribute("type", t), n && (e.value = n), t;
            }
          },
        },
      },
      propFix: {
        for: "htmlFor",
        class: "className",
      },
      prop: function (e, n, i) {
        var r,
          s,
          o,
          a = e.nodeType;
        if (e && 3 !== a && 8 !== a && 2 !== a)
          return (
            (o = 1 !== a || !ut.isXMLDoc(e)),
            o && ((n = ut.propFix[n] || n), (s = ut.propHooks[n])),
            i !== t
              ? s && "set" in s && (r = s.set(e, i, n)) !== t
                ? r
                : (e[n] = i)
              : s && "get" in s && null !== (r = s.get(e, n))
              ? r
              : e[n]
          );
      },
      propHooks: {
        tabIndex: {
          get: function (e) {
            var t = ut.find.attr(e, "tabindex");
            return t
              ? parseInt(t, 10)
              : Dt.test(e.nodeName) || (Mt.test(e.nodeName) && e.href)
              ? 0
              : -1;
          },
        },
      },
    }),
    (Ot = {
      set: function (e, t, n) {
        return (
          t === !1
            ? ut.removeAttr(e, n)
            : (Lt && jt) || !Rt.test(n)
            ? e.setAttribute((!jt && ut.propFix[n]) || n, n)
            : (e[ut.camelCase("default-" + n)] = e[n] = !0),
          n
        );
      },
    }),
    ut.each(ut.expr.match.bool.source.match(/\w+/g), function (e, n) {
      var i = ut.expr.attrHandle[n] || ut.find.attr;
      ut.expr.attrHandle[n] =
        (Lt && jt) || !Rt.test(n)
          ? function (e, n, r) {
              var s = ut.expr.attrHandle[n],
                o = r
                  ? t
                  : (ut.expr.attrHandle[n] = t) != i(e, n, r)
                  ? n.toLowerCase()
                  : null;
              return (ut.expr.attrHandle[n] = s), o;
            }
          : function (e, n, i) {
              return i
                ? t
                : e[ut.camelCase("default-" + n)]
                ? n.toLowerCase()
                : null;
            };
    }),
    (Lt && jt) ||
      (ut.attrHooks.value = {
        set: function (e, t, n) {
          return ut.nodeName(e, "input")
            ? void (e.defaultValue = t)
            : Pt && Pt.set(e, t, n);
        },
      }),
    jt ||
      ((Pt = {
        set: function (e, n, i) {
          var r = e.getAttributeNode(i);
          return (
            r || e.setAttributeNode((r = e.ownerDocument.createAttribute(i))),
            (r.value = n += ""),
            "value" === i || n === e.getAttribute(i) ? n : t
          );
        },
      }),
      (ut.expr.attrHandle.id =
        ut.expr.attrHandle.name =
        ut.expr.attrHandle.coords =
          function (e, n, i) {
            var r;
            return i
              ? t
              : (r = e.getAttributeNode(n)) && "" !== r.value
              ? r.value
              : null;
          }),
      (ut.valHooks.button = {
        get: function (e, n) {
          var i = e.getAttributeNode(n);
          return i && i.specified ? i.value : t;
        },
        set: Pt.set,
      }),
      (ut.attrHooks.contenteditable = {
        set: function (e, t, n) {
          Pt.set(e, "" === t ? !1 : t, n);
        },
      }),
      ut.each(["width", "height"], function (e, t) {
        ut.attrHooks[t] = {
          set: function (e, n) {
            return "" === n ? (e.setAttribute(t, "auto"), n) : void 0;
          },
        };
      })),
    ut.support.hrefNormalized ||
      ut.each(["href", "src"], function (e, t) {
        ut.propHooks[t] = {
          get: function (e) {
            return e.getAttribute(t, 4);
          },
        };
      }),
    ut.support.style ||
      (ut.attrHooks.style = {
        get: function (e) {
          return e.style.cssText || t;
        },
        set: function (e, t) {
          return (e.style.cssText = t + "");
        },
      }),
    ut.support.optSelected ||
      (ut.propHooks.selected = {
        get: function (e) {
          var t = e.parentNode;
          return (
            t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex),
            null
          );
        },
      }),
    ut.each(
      [
        "tabIndex",
        "readOnly",
        "maxLength",
        "cellSpacing",
        "cellPadding",
        "rowSpan",
        "colSpan",
        "useMap",
        "frameBorder",
        "contentEditable",
      ],
      function () {
        ut.propFix[this.toLowerCase()] = this;
      }
    ),
    ut.support.enctype || (ut.propFix.enctype = "encoding"),
    ut.each(["radio", "checkbox"], function () {
      (ut.valHooks[this] = {
        set: function (e, t) {
          return ut.isArray(t)
            ? (e.checked = ut.inArray(ut(e).val(), t) >= 0)
            : void 0;
        },
      }),
        ut.support.checkOn ||
          (ut.valHooks[this].get = function (e) {
            return null === e.getAttribute("value") ? "on" : e.value;
          });
    });
  var Nt = /^(?:input|select|textarea)$/i,
    Ut = /^key/,
    Bt = /^(?:mouse|contextmenu)|click/,
    $t = /^(?:focusinfocus|focusoutblur)$/,
    Ft = /^([^.]*)(?:\.(.+)|)$/;
  (ut.event = {
    global: {},
    add: function (e, n, i, r, s) {
      var o,
        a,
        l,
        c,
        u,
        d,
        p,
        h,
        f,
        m,
        g,
        _ = ut._data(e);
      if (_) {
        for (
          i.handler && ((c = i), (i = c.handler), (s = c.selector)),
            i.guid || (i.guid = ut.guid++),
            (a = _.events) || (a = _.events = {}),
            (d = _.handle) ||
              ((d = _.handle =
                function (e) {
                  return typeof ut === G || (e && ut.event.triggered === e.type)
                    ? t
                    : ut.event.dispatch.apply(d.elem, arguments);
                }),
              (d.elem = e)),
            n = (n || "").match(pt) || [""],
            l = n.length;
          l--;

        )
          (o = Ft.exec(n[l]) || []),
            (f = g = o[1]),
            (m = (o[2] || "").split(".").sort()),
            f &&
              ((u = ut.event.special[f] || {}),
              (f = (s ? u.delegateType : u.bindType) || f),
              (u = ut.event.special[f] || {}),
              (p = ut.extend(
                {
                  type: f,
                  origType: g,
                  data: r,
                  handler: i,
                  guid: i.guid,
                  selector: s,
                  needsContext: s && ut.expr.match.needsContext.test(s),
                  namespace: m.join("."),
                },
                c
              )),
              (h = a[f]) ||
                ((h = a[f] = []),
                (h.delegateCount = 0),
                (u.setup && u.setup.call(e, r, m, d) !== !1) ||
                  (e.addEventListener
                    ? e.addEventListener(f, d, !1)
                    : e.attachEvent && e.attachEvent("on" + f, d))),
              u.add &&
                (u.add.call(e, p), p.handler.guid || (p.handler.guid = i.guid)),
              s ? h.splice(h.delegateCount++, 0, p) : h.push(p),
              (ut.event.global[f] = !0));
        e = null;
      }
    },
    remove: function (e, t, n, i, r) {
      var s,
        o,
        a,
        l,
        c,
        u,
        d,
        p,
        h,
        f,
        m,
        g = ut.hasData(e) && ut._data(e);
      if (g && (u = g.events)) {
        for (t = (t || "").match(pt) || [""], c = t.length; c--; )
          if (
            ((a = Ft.exec(t[c]) || []),
            (h = m = a[1]),
            (f = (a[2] || "").split(".").sort()),
            h)
          ) {
            for (
              d = ut.event.special[h] || {},
                h = (i ? d.delegateType : d.bindType) || h,
                p = u[h] || [],
                a =
                  a[2] &&
                  new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                l = s = p.length;
              s--;

            )
              (o = p[s]),
                (!r && m !== o.origType) ||
                  (n && n.guid !== o.guid) ||
                  (a && !a.test(o.namespace)) ||
                  (i && i !== o.selector && ("**" !== i || !o.selector)) ||
                  (p.splice(s, 1),
                  o.selector && p.delegateCount--,
                  d.remove && d.remove.call(e, o));
            l &&
              !p.length &&
              ((d.teardown && d.teardown.call(e, f, g.handle) !== !1) ||
                ut.removeEvent(e, h, g.handle),
              delete u[h]);
          } else for (h in u) ut.event.remove(e, h + t[c], n, i, !0);
        ut.isEmptyObject(u) && (delete g.handle, ut._removeData(e, "events"));
      }
    },
    trigger: function (n, i, r, s) {
      var o,
        a,
        l,
        c,
        u,
        d,
        p,
        h = [r || X],
        f = lt.call(n, "type") ? n.type : n,
        m = lt.call(n, "namespace") ? n.namespace.split(".") : [];
      if (
        ((l = d = r = r || X),
        3 !== r.nodeType &&
          8 !== r.nodeType &&
          !$t.test(f + ut.event.triggered) &&
          (f.indexOf(".") >= 0 &&
            ((m = f.split(".")), (f = m.shift()), m.sort()),
          (a = f.indexOf(":") < 0 && "on" + f),
          (n = n[ut.expando] ? n : new ut.Event(f, "object" == typeof n && n)),
          (n.isTrigger = s ? 2 : 3),
          (n.namespace = m.join(".")),
          (n.namespace_re = n.namespace
            ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)")
            : null),
          (n.result = t),
          n.target || (n.target = r),
          (i = null == i ? [n] : ut.makeArray(i, [n])),
          (u = ut.event.special[f] || {}),
          s || !u.trigger || u.trigger.apply(r, i) !== !1))
      ) {
        if (!s && !u.noBubble && !ut.isWindow(r)) {
          for (
            c = u.delegateType || f, $t.test(c + f) || (l = l.parentNode);
            l;
            l = l.parentNode
          )
            h.push(l), (d = l);
          d === (r.ownerDocument || X) &&
            h.push(d.defaultView || d.parentWindow || e);
        }
        for (p = 0; (l = h[p++]) && !n.isPropagationStopped(); )
          (n.type = p > 1 ? c : u.bindType || f),
            (o =
              (ut._data(l, "events") || {})[n.type] && ut._data(l, "handle")),
            o && o.apply(l, i),
            (o = a && l[a]),
            o &&
              ut.acceptData(l) &&
              o.apply &&
              o.apply(l, i) === !1 &&
              n.preventDefault();
        if (
          ((n.type = f),
          !s &&
            !n.isDefaultPrevented() &&
            (!u._default || u._default.apply(h.pop(), i) === !1) &&
            ut.acceptData(r) &&
            a &&
            r[f] &&
            !ut.isWindow(r))
        ) {
          (d = r[a]), d && (r[a] = null), (ut.event.triggered = f);
          try {
            r[f]();
          } catch (g) {}
          (ut.event.triggered = t), d && (r[a] = d);
        }
        return n.result;
      }
    },
    dispatch: function (e) {
      e = ut.event.fix(e);
      var n,
        i,
        r,
        s,
        o,
        a = [],
        l = st.call(arguments),
        c = (ut._data(this, "events") || {})[e.type] || [],
        u = ut.event.special[e.type] || {};
      if (
        ((l[0] = e),
        (e.delegateTarget = this),
        !u.preDispatch || u.preDispatch.call(this, e) !== !1)
      ) {
        for (
          a = ut.event.handlers.call(this, e, c), n = 0;
          (s = a[n++]) && !e.isPropagationStopped();

        )
          for (
            e.currentTarget = s.elem, o = 0;
            (r = s.handlers[o++]) && !e.isImmediatePropagationStopped();

          )
            (!e.namespace_re || e.namespace_re.test(r.namespace)) &&
              ((e.handleObj = r),
              (e.data = r.data),
              (i = (
                (ut.event.special[r.origType] || {}).handle || r.handler
              ).apply(s.elem, l)),
              i !== t &&
                (e.result = i) === !1 &&
                (e.preventDefault(), e.stopPropagation()));
        return u.postDispatch && u.postDispatch.call(this, e), e.result;
      }
    },
    handlers: function (e, n) {
      var i,
        r,
        s,
        o,
        a = [],
        l = n.delegateCount,
        c = e.target;
      if (l && c.nodeType && (!e.button || "click" !== e.type))
        for (; c != this; c = c.parentNode || this)
          if (1 === c.nodeType && (c.disabled !== !0 || "click" !== e.type)) {
            for (s = [], o = 0; l > o; o++)
              (r = n[o]),
                (i = r.selector + " "),
                s[i] === t &&
                  (s[i] = r.needsContext
                    ? ut(i, this).index(c) >= 0
                    : ut.find(i, this, null, [c]).length),
                s[i] && s.push(r);
            s.length &&
              a.push({
                elem: c,
                handlers: s,
              });
          }
      return (
        l < n.length &&
          a.push({
            elem: this,
            handlers: n.slice(l),
          }),
        a
      );
    },
    fix: function (e) {
      if (e[ut.expando]) return e;
      var t,
        n,
        i,
        r = e.type,
        s = e,
        o = this.fixHooks[r];
      for (
        o ||
          (this.fixHooks[r] = o =
            Bt.test(r) ? this.mouseHooks : Ut.test(r) ? this.keyHooks : {}),
          i = o.props ? this.props.concat(o.props) : this.props,
          e = new ut.Event(s),
          t = i.length;
        t--;

      )
        (n = i[t]), (e[n] = s[n]);
      return (
        e.target || (e.target = s.srcElement || X),
        3 === e.target.nodeType && (e.target = e.target.parentNode),
        (e.metaKey = !!e.metaKey),
        o.filter ? o.filter(e, s) : e
      );
    },
    props:
      "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
        " "
      ),
    fixHooks: {},
    keyHooks: {
      props: "char charCode key keyCode".split(" "),
      filter: function (e, t) {
        return (
          null == e.which &&
            (e.which = null != t.charCode ? t.charCode : t.keyCode),
          e
        );
      },
    },
    mouseHooks: {
      props:
        "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(
          " "
        ),
      filter: function (e, n) {
        var i,
          r,
          s,
          o = n.button,
          a = n.fromElement;
        return (
          null == e.pageX &&
            null != n.clientX &&
            ((r = e.target.ownerDocument || X),
            (s = r.documentElement),
            (i = r.body),
            (e.pageX =
              n.clientX +
              ((s && s.scrollLeft) || (i && i.scrollLeft) || 0) -
              ((s && s.clientLeft) || (i && i.clientLeft) || 0)),
            (e.pageY =
              n.clientY +
              ((s && s.scrollTop) || (i && i.scrollTop) || 0) -
              ((s && s.clientTop) || (i && i.clientTop) || 0))),
          !e.relatedTarget &&
            a &&
            (e.relatedTarget = a === e.target ? n.toElement : a),
          e.which ||
            o === t ||
            (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
          e
        );
      },
    },
    special: {
      load: {
        noBubble: !0,
      },
      focus: {
        trigger: function () {
          if (this !== u() && this.focus)
            try {
              return this.focus(), !1;
            } catch (e) {}
        },
        delegateType: "focusin",
      },
      blur: {
        trigger: function () {
          return this === u() && this.blur ? (this.blur(), !1) : void 0;
        },
        delegateType: "focusout",
      },
      click: {
        trigger: function () {
          return ut.nodeName(this, "input") &&
            "checkbox" === this.type &&
            this.click
            ? (this.click(), !1)
            : void 0;
        },
        _default: function (e) {
          return ut.nodeName(e.target, "a");
        },
      },
      beforeunload: {
        postDispatch: function (e) {
          e.result !== t && (e.originalEvent.returnValue = e.result);
        },
      },
    },
    simulate: function (e, t, n, i) {
      var r = ut.extend(new ut.Event(), n, {
        type: e,
        isSimulated: !0,
        originalEvent: {},
      });
      i ? ut.event.trigger(r, null, t) : ut.event.dispatch.call(t, r),
        r.isDefaultPrevented() && n.preventDefault();
    },
  }),
    (ut.removeEvent = X.removeEventListener
      ? function (e, t, n) {
          e.removeEventListener && e.removeEventListener(t, n, !1);
        }
      : function (e, t, n) {
          var i = "on" + t;
          e.detachEvent &&
            (typeof e[i] === G && (e[i] = null), e.detachEvent(i, n));
        }),
    (ut.Event = function (e, t) {
      return this instanceof ut.Event
        ? (e && e.type
            ? ((this.originalEvent = e),
              (this.type = e.type),
              (this.isDefaultPrevented =
                e.defaultPrevented ||
                e.returnValue === !1 ||
                (e.getPreventDefault && e.getPreventDefault())
                  ? l
                  : c))
            : (this.type = e),
          t && ut.extend(this, t),
          (this.timeStamp = (e && e.timeStamp) || ut.now()),
          void (this[ut.expando] = !0))
        : new ut.Event(e, t);
    }),
    (ut.Event.prototype = {
      isDefaultPrevented: c,
      isPropagationStopped: c,
      isImmediatePropagationStopped: c,
      preventDefault: function () {
        var e = this.originalEvent;
        (this.isDefaultPrevented = l),
          e && (e.preventDefault ? e.preventDefault() : (e.returnValue = !1));
      },
      stopPropagation: function () {
        var e = this.originalEvent;
        (this.isPropagationStopped = l),
          e &&
            (e.stopPropagation && e.stopPropagation(), (e.cancelBubble = !0));
      },
      stopImmediatePropagation: function () {
        (this.isImmediatePropagationStopped = l), this.stopPropagation();
      },
    }),
    ut.each(
      {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
      },
      function (e, t) {
        ut.event.special[e] = {
          delegateType: t,
          bindType: t,
          handle: function (e) {
            var n,
              i = this,
              r = e.relatedTarget,
              s = e.handleObj;
            return (
              (!r || (r !== i && !ut.contains(i, r))) &&
                ((e.type = s.origType),
                (n = s.handler.apply(this, arguments)),
                (e.type = t)),
              n
            );
          },
        };
      }
    ),
    ut.support.submitBubbles ||
      (ut.event.special.submit = {
        setup: function () {
          return ut.nodeName(this, "form")
            ? !1
            : void ut.event.add(
                this,
                "click._submit keypress._submit",
                function (e) {
                  var n = e.target,
                    i =
                      ut.nodeName(n, "input") || ut.nodeName(n, "button")
                        ? n.form
                        : t;
                  i &&
                    !ut._data(i, "submitBubbles") &&
                    (ut.event.add(i, "submit._submit", function (e) {
                      e._submit_bubble = !0;
                    }),
                    ut._data(i, "submitBubbles", !0));
                }
              );
        },
        postDispatch: function (e) {
          e._submit_bubble &&
            (delete e._submit_bubble,
            this.parentNode &&
              !e.isTrigger &&
              ut.event.simulate("submit", this.parentNode, e, !0));
        },
        teardown: function () {
          return ut.nodeName(this, "form")
            ? !1
            : void ut.event.remove(this, "._submit");
        },
      }),
    ut.support.changeBubbles ||
      (ut.event.special.change = {
        setup: function () {
          return Nt.test(this.nodeName)
            ? (("checkbox" === this.type || "radio" === this.type) &&
                (ut.event.add(this, "propertychange._change", function (e) {
                  "checked" === e.originalEvent.propertyName &&
                    (this._just_changed = !0);
                }),
                ut.event.add(this, "click._change", function (e) {
                  this._just_changed &&
                    !e.isTrigger &&
                    (this._just_changed = !1),
                    ut.event.simulate("change", this, e, !0);
                })),
              !1)
            : void ut.event.add(this, "beforeactivate._change", function (e) {
                var t = e.target;
                Nt.test(t.nodeName) &&
                  !ut._data(t, "changeBubbles") &&
                  (ut.event.add(t, "change._change", function (e) {
                    !this.parentNode ||
                      e.isSimulated ||
                      e.isTrigger ||
                      ut.event.simulate("change", this.parentNode, e, !0);
                  }),
                  ut._data(t, "changeBubbles", !0));
              });
        },
        handle: function (e) {
          var t = e.target;
          return this !== t ||
            e.isSimulated ||
            e.isTrigger ||
            ("radio" !== t.type && "checkbox" !== t.type)
            ? e.handleObj.handler.apply(this, arguments)
            : void 0;
        },
        teardown: function () {
          return ut.event.remove(this, "._change"), !Nt.test(this.nodeName);
        },
      }),
    ut.support.focusinBubbles ||
      ut.each(
        {
          focus: "focusin",
          blur: "focusout",
        },
        function (e, t) {
          var n = 0,
            i = function (e) {
              ut.event.simulate(t, e.target, ut.event.fix(e), !0);
            };
          ut.event.special[t] = {
            setup: function () {
              0 === n++ && X.addEventListener(e, i, !0);
            },
            teardown: function () {
              0 === --n && X.removeEventListener(e, i, !0);
            },
          };
        }
      ),
    ut.fn.extend({
      on: function (e, n, i, r, s) {
        var o, a;
        if ("object" == typeof e) {
          "string" != typeof n && ((i = i || n), (n = t));
          for (o in e) this.on(o, n, i, e[o], s);
          return this;
        }
        if (
          (null == i && null == r
            ? ((r = n), (i = n = t))
            : null == r &&
              ("string" == typeof n
                ? ((r = i), (i = t))
                : ((r = i), (i = n), (n = t))),
          r === !1)
        )
          r = c;
        else if (!r) return this;
        return (
          1 === s &&
            ((a = r),
            (r = function (e) {
              return ut().off(e), a.apply(this, arguments);
            }),
            (r.guid = a.guid || (a.guid = ut.guid++))),
          this.each(function () {
            ut.event.add(this, e, r, i, n);
          })
        );
      },
      one: function (e, t, n, i) {
        return this.on(e, t, n, i, 1);
      },
      off: function (e, n, i) {
        var r, s;
        if (e && e.preventDefault && e.handleObj)
          return (
            (r = e.handleObj),
            ut(e.delegateTarget).off(
              r.namespace ? r.origType + "." + r.namespace : r.origType,
              r.selector,
              r.handler
            ),
            this
          );
        if ("object" == typeof e) {
          for (s in e) this.off(s, n, e[s]);
          return this;
        }
        return (
          (n === !1 || "function" == typeof n) && ((i = n), (n = t)),
          i === !1 && (i = c),
          this.each(function () {
            ut.event.remove(this, e, i, n);
          })
        );
      },
      trigger: function (e, t) {
        return this.each(function () {
          ut.event.trigger(e, t, this);
        });
      },
      triggerHandler: function (e, t) {
        var n = this[0];
        return n ? ut.event.trigger(e, t, n, !0) : void 0;
      },
    });
  var Ht = /^.[^:#\[\.,]*$/,
    Wt = /^(?:parents|prev(?:Until|All))/,
    qt = ut.expr.match.needsContext,
    zt = {
      children: !0,
      contents: !0,
      next: !0,
      prev: !0,
    };
  ut.fn.extend({
    find: function (e) {
      var t,
        n = [],
        i = this,
        r = i.length;
      if ("string" != typeof e)
        return this.pushStack(
          ut(e).filter(function () {
            for (t = 0; r > t; t++) if (ut.contains(i[t], this)) return !0;
          })
        );
      for (t = 0; r > t; t++) ut.find(e, i[t], n);
      return (
        (n = this.pushStack(r > 1 ? ut.unique(n) : n)),
        (n.selector = this.selector ? this.selector + " " + e : e),
        n
      );
    },
    has: function (e) {
      var t,
        n = ut(e, this),
        i = n.length;
      return this.filter(function () {
        for (t = 0; i > t; t++) if (ut.contains(this, n[t])) return !0;
      });
    },
    not: function (e) {
      return this.pushStack(p(this, e || [], !0));
    },
    filter: function (e) {
      return this.pushStack(p(this, e || [], !1));
    },
    is: function (e) {
      return !!p(this, "string" == typeof e && qt.test(e) ? ut(e) : e || [], !1)
        .length;
    },
    closest: function (e, t) {
      for (
        var n,
          i = 0,
          r = this.length,
          s = [],
          o = qt.test(e) || "string" != typeof e ? ut(e, t || this.context) : 0;
        r > i;
        i++
      )
        for (n = this[i]; n && n !== t; n = n.parentNode)
          if (
            n.nodeType < 11 &&
            (o
              ? o.index(n) > -1
              : 1 === n.nodeType && ut.find.matchesSelector(n, e))
          ) {
            n = s.push(n);
            break;
          }
      return this.pushStack(s.length > 1 ? ut.unique(s) : s);
    },
    index: function (e) {
      return e
        ? "string" == typeof e
          ? ut.inArray(this[0], ut(e))
          : ut.inArray(e.jquery ? e[0] : e, this)
        : this[0] && this[0].parentNode
        ? this.first().prevAll().length
        : -1;
    },
    add: function (e, t) {
      var n =
          "string" == typeof e
            ? ut(e, t)
            : ut.makeArray(e && e.nodeType ? [e] : e),
        i = ut.merge(this.get(), n);
      return this.pushStack(ut.unique(i));
    },
    addBack: function (e) {
      return this.add(null == e ? this.prevObject : this.prevObject.filter(e));
    },
  }),
    ut.each(
      {
        parent: function (e) {
          var t = e.parentNode;
          return t && 11 !== t.nodeType ? t : null;
        },
        parents: function (e) {
          return ut.dir(e, "parentNode");
        },
        parentsUntil: function (e, t, n) {
          return ut.dir(e, "parentNode", n);
        },
        next: function (e) {
          return d(e, "nextSibling");
        },
        prev: function (e) {
          return d(e, "previousSibling");
        },
        nextAll: function (e) {
          return ut.dir(e, "nextSibling");
        },
        prevAll: function (e) {
          return ut.dir(e, "previousSibling");
        },
        nextUntil: function (e, t, n) {
          return ut.dir(e, "nextSibling", n);
        },
        prevUntil: function (e, t, n) {
          return ut.dir(e, "previousSibling", n);
        },
        siblings: function (e) {
          return ut.sibling((e.parentNode || {}).firstChild, e);
        },
        children: function (e) {
          return ut.sibling(e.firstChild);
        },
        contents: function (e) {
          return ut.nodeName(e, "iframe")
            ? e.contentDocument || e.contentWindow.document
            : ut.merge([], e.childNodes);
        },
      },
      function (e, t) {
        ut.fn[e] = function (n, i) {
          var r = ut.map(this, t, n);
          return (
            "Until" !== e.slice(-5) && (i = n),
            i && "string" == typeof i && (r = ut.filter(i, r)),
            this.length > 1 &&
              (zt[e] || (r = ut.unique(r)), Wt.test(e) && (r = r.reverse())),
            this.pushStack(r)
          );
        };
      }
    ),
    ut.extend({
      filter: function (e, t, n) {
        var i = t[0];
        return (
          n && (e = ":not(" + e + ")"),
          1 === t.length && 1 === i.nodeType
            ? ut.find.matchesSelector(i, e)
              ? [i]
              : []
            : ut.find.matches(
                e,
                ut.grep(t, function (e) {
                  return 1 === e.nodeType;
                })
              )
        );
      },
      dir: function (e, n, i) {
        for (
          var r = [], s = e[n];
          s &&
          9 !== s.nodeType &&
          (i === t || 1 !== s.nodeType || !ut(s).is(i));

        )
          1 === s.nodeType && r.push(s), (s = s[n]);
        return r;
      },
      sibling: function (e, t) {
        for (var n = []; e; e = e.nextSibling)
          1 === e.nodeType && e !== t && n.push(e);
        return n;
      },
    });
  var Vt =
      "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
    Kt = / jQuery\d+="(?:null|\d+)"/g,
    Gt = new RegExp("<(?:" + Vt + ")[\\s/>]", "i"),
    Yt = /^\s+/,
    Xt =
      /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    Qt = /<([\w:]+)/,
    Jt = /<tbody/i,
    Zt = /<|&#?\w+;/,
    en = /<(?:script|style|link)/i,
    tn = /^(?:checkbox|radio)$/i,
    nn = /checked\s*(?:[^=]|=\s*.checked.)/i,
    rn = /^$|\/(?:java|ecma)script/i,
    sn = /^true\/(.*)/,
    on = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
    an = {
      option: [1, "<select multiple='multiple'>", "</select>"],
      legend: [1, "<fieldset>", "</fieldset>"],
      area: [1, "<map>", "</map>"],
      param: [1, "<object>", "</object>"],
      thead: [1, "<table>", "</table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: ut.support.htmlSerialize
        ? [0, "", ""]
        : [1, "X<div>", "</div>"],
    },
    ln = h(X),
    cn = ln.appendChild(X.createElement("div"));
  (an.optgroup = an.option),
    (an.tbody = an.tfoot = an.colgroup = an.caption = an.thead),
    (an.th = an.td),
    ut.fn.extend({
      text: function (e) {
        return ut.access(
          this,
          function (e) {
            return e === t
              ? ut.text(this)
              : this.empty().append(
                  ((this[0] && this[0].ownerDocument) || X).createTextNode(e)
                );
          },
          null,
          e,
          arguments.length
        );
      },
      append: function () {
        return this.domManip(arguments, function (e) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var t = f(this, e);
            t.appendChild(e);
          }
        });
      },
      prepend: function () {
        return this.domManip(arguments, function (e) {
          if (
            1 === this.nodeType ||
            11 === this.nodeType ||
            9 === this.nodeType
          ) {
            var t = f(this, e);
            t.insertBefore(e, t.firstChild);
          }
        });
      },
      before: function () {
        return this.domManip(arguments, function (e) {
          this.parentNode && this.parentNode.insertBefore(e, this);
        });
      },
      after: function () {
        return this.domManip(arguments, function (e) {
          this.parentNode && this.parentNode.insertBefore(e, this.nextSibling);
        });
      },
      remove: function (e, t) {
        for (
          var n, i = e ? ut.filter(e, this) : this, r = 0;
          null != (n = i[r]);
          r++
        )
          t || 1 !== n.nodeType || ut.cleanData(b(n)),
            n.parentNode &&
              (t && ut.contains(n.ownerDocument, n) && _(b(n, "script")),
              n.parentNode.removeChild(n));
        return this;
      },
      empty: function () {
        for (var e, t = 0; null != (e = this[t]); t++) {
          for (1 === e.nodeType && ut.cleanData(b(e, !1)); e.firstChild; )
            e.removeChild(e.firstChild);
          e.options && ut.nodeName(e, "select") && (e.options.length = 0);
        }
        return this;
      },
      clone: function (e, t) {
        return (
          (e = null == e ? !1 : e),
          (t = null == t ? e : t),
          this.map(function () {
            return ut.clone(this, e, t);
          })
        );
      },
      html: function (e) {
        return ut.access(
          this,
          function (e) {
            var n = this[0] || {},
              i = 0,
              r = this.length;
            if (e === t)
              return 1 === n.nodeType ? n.innerHTML.replace(Kt, "") : t;
            if (
              !(
                "string" != typeof e ||
                en.test(e) ||
                (!ut.support.htmlSerialize && Gt.test(e)) ||
                (!ut.support.leadingWhitespace && Yt.test(e)) ||
                an[(Qt.exec(e) || ["", ""])[1].toLowerCase()]
              )
            ) {
              e = e.replace(Xt, "<$1></$2>");
              try {
                for (; r > i; i++)
                  (n = this[i] || {}),
                    1 === n.nodeType &&
                      (ut.cleanData(b(n, !1)), (n.innerHTML = e));
                n = 0;
              } catch (s) {}
            }
            n && this.empty().append(e);
          },
          null,
          e,
          arguments.length
        );
      },
      replaceWith: function () {
        var e = ut.map(this, function (e) {
            return [e.nextSibling, e.parentNode];
          }),
          t = 0;
        return (
          this.domManip(
            arguments,
            function (n) {
              var i = e[t++],
                r = e[t++];
              r &&
                (i && i.parentNode !== r && (i = this.nextSibling),
                ut(this).remove(),
                r.insertBefore(n, i));
            },
            !0
          ),
          t ? this : this.remove()
        );
      },
      detach: function (e) {
        return this.remove(e, !0);
      },
      domManip: function (e, t, n) {
        e = it.apply([], e);
        var i,
          r,
          s,
          o,
          a,
          l,
          c = 0,
          u = this.length,
          d = this,
          p = u - 1,
          h = e[0],
          f = ut.isFunction(h);
        if (
          f ||
          (!(1 >= u || "string" != typeof h || ut.support.checkClone) &&
            nn.test(h))
        )
          return this.each(function (i) {
            var r = d.eq(i);
            f && (e[0] = h.call(this, i, r.html())), r.domManip(e, t, n);
          });
        if (
          u &&
          ((l = ut.buildFragment(e, this[0].ownerDocument, !1, !n && this)),
          (i = l.firstChild),
          1 === l.childNodes.length && (l = i),
          i)
        ) {
          for (o = ut.map(b(l, "script"), m), s = o.length; u > c; c++)
            (r = l),
              c !== p &&
                ((r = ut.clone(r, !0, !0)), s && ut.merge(o, b(r, "script"))),
              t.call(this[c], r, c);
          if (s)
            for (
              a = o[o.length - 1].ownerDocument, ut.map(o, g), c = 0;
              s > c;
              c++
            )
              (r = o[c]),
                rn.test(r.type || "") &&
                  !ut._data(r, "globalEval") &&
                  ut.contains(a, r) &&
                  (r.src
                    ? ut._evalUrl(r.src)
                    : ut.globalEval(
                        (r.text || r.textContent || r.innerHTML || "").replace(
                          on,
                          ""
                        )
                      ));
          l = i = null;
        }
        return this;
      },
    }),
    ut.each(
      {
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith",
      },
      function (e, t) {
        ut.fn[e] = function (e) {
          for (var n, i = 0, r = [], s = ut(e), o = s.length - 1; o >= i; i++)
            (n = i === o ? this : this.clone(!0)),
              ut(s[i])[t](n),
              rt.apply(r, n.get());
          return this.pushStack(r);
        };
      }
    ),
    ut.extend({
      clone: function (e, t, n) {
        var i,
          r,
          s,
          o,
          a,
          l = ut.contains(e.ownerDocument, e);
        if (
          (ut.support.html5Clone ||
          ut.isXMLDoc(e) ||
          !Gt.test("<" + e.nodeName + ">")
            ? (s = e.cloneNode(!0))
            : ((cn.innerHTML = e.outerHTML),
              cn.removeChild((s = cn.firstChild))),
          !(
            (ut.support.noCloneEvent && ut.support.noCloneChecked) ||
            (1 !== e.nodeType && 11 !== e.nodeType) ||
            ut.isXMLDoc(e)
          ))
        )
          for (i = b(s), a = b(e), o = 0; null != (r = a[o]); ++o)
            i[o] && y(r, i[o]);
        if (t)
          if (n)
            for (a = a || b(e), i = i || b(s), o = 0; null != (r = a[o]); o++)
              v(r, i[o]);
          else v(e, s);
        return (
          (i = b(s, "script")),
          i.length > 0 && _(i, !l && b(e, "script")),
          (i = a = r = null),
          s
        );
      },
      buildFragment: function (e, t, n, i) {
        for (
          var r, s, o, a, l, c, u, d = e.length, p = h(t), f = [], m = 0;
          d > m;
          m++
        )
          if (((s = e[m]), s || 0 === s))
            if ("object" === ut.type(s)) ut.merge(f, s.nodeType ? [s] : s);
            else if (Zt.test(s)) {
              for (
                a = a || p.appendChild(t.createElement("div")),
                  l = (Qt.exec(s) || ["", ""])[1].toLowerCase(),
                  u = an[l] || an._default,
                  a.innerHTML = u[1] + s.replace(Xt, "<$1></$2>") + u[2],
                  r = u[0];
                r--;

              )
                a = a.lastChild;
              if (
                (!ut.support.leadingWhitespace &&
                  Yt.test(s) &&
                  f.push(t.createTextNode(Yt.exec(s)[0])),
                !ut.support.tbody)
              )
                for (
                  s =
                    "table" !== l || Jt.test(s)
                      ? "<table>" !== u[1] || Jt.test(s)
                        ? 0
                        : a
                      : a.firstChild,
                    r = s && s.childNodes.length;
                  r--;

                )
                  ut.nodeName((c = s.childNodes[r]), "tbody") &&
                    !c.childNodes.length &&
                    s.removeChild(c);
              for (
                ut.merge(f, a.childNodes), a.textContent = "";
                a.firstChild;

              )
                a.removeChild(a.firstChild);
              a = p.lastChild;
            } else f.push(t.createTextNode(s));
        for (
          a && p.removeChild(a),
            ut.support.appendChecked || ut.grep(b(f, "input"), w),
            m = 0;
          (s = f[m++]);

        )
          if (
            (!i || -1 === ut.inArray(s, i)) &&
            ((o = ut.contains(s.ownerDocument, s)),
            (a = b(p.appendChild(s), "script")),
            o && _(a),
            n)
          )
            for (r = 0; (s = a[r++]); ) rn.test(s.type || "") && n.push(s);
        return (a = null), p;
      },
      cleanData: function (e, t) {
        for (
          var n,
            i,
            r,
            s,
            o = 0,
            a = ut.expando,
            l = ut.cache,
            c = ut.support.deleteExpando,
            u = ut.event.special;
          null != (n = e[o]);
          o++
        )
          if ((t || ut.acceptData(n)) && ((r = n[a]), (s = r && l[r]))) {
            if (s.events)
              for (i in s.events)
                u[i] ? ut.event.remove(n, i) : ut.removeEvent(n, i, s.handle);
            l[r] &&
              (delete l[r],
              c
                ? delete n[a]
                : typeof n.removeAttribute !== G
                ? n.removeAttribute(a)
                : (n[a] = null),
              tt.push(r));
          }
      },
      _evalUrl: function (e) {
        return ut.ajax({
          url: e,
          type: "GET",
          dataType: "script",
          async: !1,
          global: !1,
          throws: !0,
        });
      },
    }),
    ut.fn.extend({
      wrapAll: function (e) {
        if (ut.isFunction(e))
          return this.each(function (t) {
            ut(this).wrapAll(e.call(this, t));
          });
        if (this[0]) {
          var t = ut(e, this[0].ownerDocument).eq(0).clone(!0);
          this[0].parentNode && t.insertBefore(this[0]),
            t
              .map(function () {
                for (
                  var e = this;
                  e.firstChild && 1 === e.firstChild.nodeType;

                )
                  e = e.firstChild;
                return e;
              })
              .append(this);
        }
        return this;
      },
      wrapInner: function (e) {
        return this.each(
          ut.isFunction(e)
            ? function (t) {
                ut(this).wrapInner(e.call(this, t));
              }
            : function () {
                var t = ut(this),
                  n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e);
              }
        );
      },
      wrap: function (e) {
        var t = ut.isFunction(e);
        return this.each(function (n) {
          ut(this).wrapAll(t ? e.call(this, n) : e);
        });
      },
      unwrap: function () {
        return this.parent()
          .each(function () {
            ut.nodeName(this, "body") || ut(this).replaceWith(this.childNodes);
          })
          .end();
      },
    });
  var un,
    dn,
    pn,
    hn = /alpha\([^)]*\)/i,
    fn = /opacity\s*=\s*([^)]*)/,
    mn = /^(top|right|bottom|left)$/,
    gn = /^(none|table(?!-c[ea]).+)/,
    _n = /^margin/,
    vn = new RegExp("^(" + dt + ")(.*)$", "i"),
    yn = new RegExp("^(" + dt + ")(?!px)[a-z%]+$", "i"),
    bn = new RegExp("^([+-])=(" + dt + ")", "i"),
    wn = {
      BODY: "block",
    },
    Cn = {
      position: "absolute",
      visibility: "hidden",
      display: "block",
    },
    kn = {
      letterSpacing: 0,
      fontWeight: 400,
    },
    Tn = ["Top", "Right", "Bottom", "Left"],
    En = ["Webkit", "O", "Moz", "ms"];
  ut.fn.extend({
    css: function (e, n) {
      return ut.access(
        this,
        function (e, n, i) {
          var r,
            s,
            o = {},
            a = 0;
          if (ut.isArray(n)) {
            for (s = dn(e), r = n.length; r > a; a++)
              o[n[a]] = ut.css(e, n[a], !1, s);
            return o;
          }
          return i !== t ? ut.style(e, n, i) : ut.css(e, n);
        },
        e,
        n,
        arguments.length > 1
      );
    },
    show: function () {
      return T(this, !0);
    },
    hide: function () {
      return T(this);
    },
    toggle: function (e) {
      return "boolean" == typeof e
        ? e
          ? this.show()
          : this.hide()
        : this.each(function () {
            k(this) ? ut(this).show() : ut(this).hide();
          });
    },
  }),
    ut.extend({
      cssHooks: {
        opacity: {
          get: function (e, t) {
            if (t) {
              var n = pn(e, "opacity");
              return "" === n ? "1" : n;
            }
          },
        },
      },
      cssNumber: {
        columnCount: !0,
        fillOpacity: !0,
        fontWeight: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
      },
      cssProps: {
        float: ut.support.cssFloat ? "cssFloat" : "styleFloat",
      },
      style: function (e, n, i, r) {
        if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
          var s,
            o,
            a,
            l = ut.camelCase(n),
            c = e.style;
          if (
            ((n = ut.cssProps[l] || (ut.cssProps[l] = C(c, l))),
            (a = ut.cssHooks[n] || ut.cssHooks[l]),
            i === t)
          )
            return a && "get" in a && (s = a.get(e, !1, r)) !== t ? s : c[n];
          if (
            ((o = typeof i),
            "string" === o &&
              (s = bn.exec(i)) &&
              ((i = (s[1] + 1) * s[2] + parseFloat(ut.css(e, n))),
              (o = "number")),
            !(
              null == i ||
              ("number" === o && isNaN(i)) ||
              ("number" !== o || ut.cssNumber[l] || (i += "px"),
              ut.support.clearCloneStyle ||
                "" !== i ||
                0 !== n.indexOf("background") ||
                (c[n] = "inherit"),
              a && "set" in a && (i = a.set(e, i, r)) === t)
            ))
          )
            try {
              c[n] = i;
            } catch (u) {}
        }
      },
      css: function (e, n, i, r) {
        var s,
          o,
          a,
          l = ut.camelCase(n);
        return (
          (n = ut.cssProps[l] || (ut.cssProps[l] = C(e.style, l))),
          (a = ut.cssHooks[n] || ut.cssHooks[l]),
          a && "get" in a && (o = a.get(e, !0, i)),
          o === t && (o = pn(e, n, r)),
          "normal" === o && n in kn && (o = kn[n]),
          "" === i || i
            ? ((s = parseFloat(o)), i === !0 || ut.isNumeric(s) ? s || 0 : o)
            : o
        );
      },
    }),
    e.getComputedStyle
      ? ((dn = function (t) {
          return e.getComputedStyle(t, null);
        }),
        (pn = function (e, n, i) {
          var r,
            s,
            o,
            a = i || dn(e),
            l = a ? a.getPropertyValue(n) || a[n] : t,
            c = e.style;
          return (
            a &&
              ("" !== l ||
                ut.contains(e.ownerDocument, e) ||
                (l = ut.style(e, n)),
              yn.test(l) &&
                _n.test(n) &&
                ((r = c.width),
                (s = c.minWidth),
                (o = c.maxWidth),
                (c.minWidth = c.maxWidth = c.width = l),
                (l = a.width),
                (c.width = r),
                (c.minWidth = s),
                (c.maxWidth = o))),
            l
          );
        }))
      : X.documentElement.currentStyle &&
        ((dn = function (e) {
          return e.currentStyle;
        }),
        (pn = function (e, n, i) {
          var r,
            s,
            o,
            a = i || dn(e),
            l = a ? a[n] : t,
            c = e.style;
          return (
            null == l && c && c[n] && (l = c[n]),
            yn.test(l) &&
              !mn.test(n) &&
              ((r = c.left),
              (s = e.runtimeStyle),
              (o = s && s.left),
              o && (s.left = e.currentStyle.left),
              (c.left = "fontSize" === n ? "1em" : l),
              (l = c.pixelLeft + "px"),
              (c.left = r),
              o && (s.left = o)),
            "" === l ? "auto" : l
          );
        })),
    ut.each(["height", "width"], function (e, t) {
      ut.cssHooks[t] = {
        get: function (e, n, i) {
          return n
            ? 0 === e.offsetWidth && gn.test(ut.css(e, "display"))
              ? ut.swap(e, Cn, function () {
                  return x(e, t, i);
                })
              : x(e, t, i)
            : void 0;
        },
        set: function (e, n, i) {
          var r = i && dn(e);
          return E(
            e,
            n,
            i
              ? S(
                  e,
                  t,
                  i,
                  ut.support.boxSizing &&
                    "border-box" === ut.css(e, "boxSizing", !1, r),
                  r
                )
              : 0
          );
        },
      };
    }),
    ut.support.opacity ||
      (ut.cssHooks.opacity = {
        get: function (e, t) {
          return fn.test(
            (t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || ""
          )
            ? 0.01 * parseFloat(RegExp.$1) + ""
            : t
            ? "1"
            : "";
        },
        set: function (e, t) {
          var n = e.style,
            i = e.currentStyle,
            r = ut.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "",
            s = (i && i.filter) || n.filter || "";
          (n.zoom = 1),
            ((t >= 1 || "" === t) &&
              "" === ut.trim(s.replace(hn, "")) &&
              n.removeAttribute &&
              (n.removeAttribute("filter"), "" === t || (i && !i.filter))) ||
              (n.filter = hn.test(s) ? s.replace(hn, r) : s + " " + r);
        },
      }),
    ut(function () {
      ut.support.reliableMarginRight ||
        (ut.cssHooks.marginRight = {
          get: function (e, t) {
            return t
              ? ut.swap(
                  e,
                  {
                    display: "inline-block",
                  },
                  pn,
                  [e, "marginRight"]
                )
              : void 0;
          },
        }),
        !ut.support.pixelPosition &&
          ut.fn.position &&
          ut.each(["top", "left"], function (e, t) {
            ut.cssHooks[t] = {
              get: function (e, n) {
                return n
                  ? ((n = pn(e, t)),
                    yn.test(n) ? ut(e).position()[t] + "px" : n)
                  : void 0;
              },
            };
          });
    }),
    ut.expr &&
      ut.expr.filters &&
      ((ut.expr.filters.hidden = function (e) {
        return (
          (e.offsetWidth <= 0 && e.offsetHeight <= 0) ||
          (!ut.support.reliableHiddenOffsets &&
            "none" === ((e.style && e.style.display) || ut.css(e, "display")))
        );
      }),
      (ut.expr.filters.visible = function (e) {
        return !ut.expr.filters.hidden(e);
      })),
    ut.each(
      {
        margin: "",
        padding: "",
        border: "Width",
      },
      function (e, t) {
        (ut.cssHooks[e + t] = {
          expand: function (n) {
            for (
              var i = 0, r = {}, s = "string" == typeof n ? n.split(" ") : [n];
              4 > i;
              i++
            )
              r[e + Tn[i] + t] = s[i] || s[i - 2] || s[0];
            return r;
          },
        }),
          _n.test(e) || (ut.cssHooks[e + t].set = E);
      }
    );
  var Sn = /%20/g,
    xn = /\[\]$/,
    Pn = /\r?\n/g,
    On = /^(?:submit|button|image|reset|file)$/i,
    An = /^(?:input|select|textarea|keygen)/i;
  ut.fn.extend({
    serialize: function () {
      return ut.param(this.serializeArray());
    },
    serializeArray: function () {
      return this.map(function () {
        var e = ut.prop(this, "elements");
        return e ? ut.makeArray(e) : this;
      })
        .filter(function () {
          var e = this.type;
          return (
            this.name &&
            !ut(this).is(":disabled") &&
            An.test(this.nodeName) &&
            !On.test(e) &&
            (this.checked || !tn.test(e))
          );
        })
        .map(function (e, t) {
          var n = ut(this).val();
          return null == n
            ? null
            : ut.isArray(n)
            ? ut.map(n, function (e) {
                return {
                  name: t.name,
                  value: e.replace(Pn, "\r\n"),
                };
              })
            : {
                name: t.name,
                value: n.replace(Pn, "\r\n"),
              };
        })
        .get();
    },
  }),
    (ut.param = function (e, n) {
      var i,
        r = [],
        s = function (e, t) {
          (t = ut.isFunction(t) ? t() : null == t ? "" : t),
            (r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t));
        };
      if (
        (n === t && (n = ut.ajaxSettings && ut.ajaxSettings.traditional),
        ut.isArray(e) || (e.jquery && !ut.isPlainObject(e)))
      )
        ut.each(e, function () {
          s(this.name, this.value);
        });
      else for (i in e) A(i, e[i], n, s);
      return r.join("&").replace(Sn, "+");
    }),
    ut.each(
      "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
        " "
      ),
      function (e, t) {
        ut.fn[t] = function (e, n) {
          return arguments.length > 0
            ? this.on(t, null, e, n)
            : this.trigger(t);
        };
      }
    ),
    ut.fn.extend({
      hover: function (e, t) {
        return this.mouseenter(e).mouseleave(t || e);
      },
      bind: function (e, t, n) {
        return this.on(e, null, t, n);
      },
      unbind: function (e, t) {
        return this.off(e, null, t);
      },
      delegate: function (e, t, n, i) {
        return this.on(t, e, n, i);
      },
      undelegate: function (e, t, n) {
        return 1 === arguments.length
          ? this.off(e, "**")
          : this.off(t, e || "**", n);
      },
    });
  var In,
    Dn,
    Mn = ut.now(),
    Rn = /\?/,
    jn = /#.*$/,
    Ln = /([?&])_=[^&]*/,
    Nn = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
    Un = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
    Bn = /^(?:GET|HEAD)$/,
    $n = /^\/\//,
    Fn = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
    Hn = ut.fn.load,
    Wn = {},
    qn = {},
    zn = "*/".concat("*");
  try {
    Dn = Y.href;
  } catch (Vn) {
    (Dn = X.createElement("a")), (Dn.href = ""), (Dn = Dn.href);
  }
  (In = Fn.exec(Dn.toLowerCase()) || []),
    (ut.fn.load = function (e, n, i) {
      if ("string" != typeof e && Hn) return Hn.apply(this, arguments);
      var r,
        s,
        o,
        a = this,
        l = e.indexOf(" ");
      return (
        l >= 0 && ((r = e.slice(l, e.length)), (e = e.slice(0, l))),
        ut.isFunction(n)
          ? ((i = n), (n = t))
          : n && "object" == typeof n && (o = "POST"),
        a.length > 0 &&
          ut
            .ajax({
              url: e,
              type: o,
              dataType: "html",
              data: n,
            })
            .done(function (e) {
              (s = arguments),
                a.html(r ? ut("<div>").append(ut.parseHTML(e)).find(r) : e);
            })
            .complete(
              i &&
                function (e, t) {
                  a.each(i, s || [e.responseText, t, e]);
                }
            ),
        this
      );
    }),
    ut.each(
      [
        "ajaxStart",
        "ajaxStop",
        "ajaxComplete",
        "ajaxError",
        "ajaxSuccess",
        "ajaxSend",
      ],
      function (e, t) {
        ut.fn[t] = function (e) {
          return this.on(t, e);
        };
      }
    ),
    ut.extend({
      active: 0,
      lastModified: {},
      etag: {},
      ajaxSettings: {
        url: Dn,
        type: "GET",
        isLocal: Un.test(In[1]),
        global: !0,
        processData: !0,
        async: !0,
        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
        accepts: {
          "*": zn,
          text: "text/plain",
          html: "text/html",
          xml: "application/xml, text/xml",
          json: "application/json, text/javascript",
        },
        contents: {
          xml: /xml/,
          html: /html/,
          json: /json/,
        },
        responseFields: {
          xml: "responseXML",
          text: "responseText",
          json: "responseJSON",
        },
        converters: {
          "* text": String,
          "text html": !0,
          "text json": ut.parseJSON,
          "text xml": ut.parseXML,
        },
        flatOptions: {
          url: !0,
          context: !0,
        },
      },
      ajaxSetup: function (e, t) {
        return t ? M(M(e, ut.ajaxSettings), t) : M(ut.ajaxSettings, e);
      },
      ajaxPrefilter: I(Wn),
      ajaxTransport: I(qn),
      ajax: function (e, n) {
        function i(e, n, i, r) {
          var s,
            d,
            v,
            y,
            w,
            k = n;
          2 !== b &&
            ((b = 2),
            l && clearTimeout(l),
            (u = t),
            (a = r || ""),
            (C.readyState = e > 0 ? 4 : 0),
            (s = (e >= 200 && 300 > e) || 304 === e),
            i && (y = R(p, C, i)),
            (y = j(p, y, C, s)),
            s
              ? (p.ifModified &&
                  ((w = C.getResponseHeader("Last-Modified")),
                  w && (ut.lastModified[o] = w),
                  (w = C.getResponseHeader("etag")),
                  w && (ut.etag[o] = w)),
                204 === e || "HEAD" === p.type
                  ? (k = "nocontent")
                  : 304 === e
                  ? (k = "notmodified")
                  : ((k = y.state), (d = y.data), (v = y.error), (s = !v)))
              : ((v = k), (e || !k) && ((k = "error"), 0 > e && (e = 0))),
            (C.status = e),
            (C.statusText = (n || k) + ""),
            s ? m.resolveWith(h, [d, k, C]) : m.rejectWith(h, [C, k, v]),
            C.statusCode(_),
            (_ = t),
            c && f.trigger(s ? "ajaxSuccess" : "ajaxError", [C, p, s ? d : v]),
            g.fireWith(h, [C, k]),
            c &&
              (f.trigger("ajaxComplete", [C, p]),
              --ut.active || ut.event.trigger("ajaxStop")));
        }
        "object" == typeof e && ((n = e), (e = t)), (n = n || {});
        var r,
          s,
          o,
          a,
          l,
          c,
          u,
          d,
          p = ut.ajaxSetup({}, n),
          h = p.context || p,
          f = p.context && (h.nodeType || h.jquery) ? ut(h) : ut.event,
          m = ut.Deferred(),
          g = ut.Callbacks("once memory"),
          _ = p.statusCode || {},
          v = {},
          y = {},
          b = 0,
          w = "canceled",
          C = {
            readyState: 0,
            getResponseHeader: function (e) {
              var t;
              if (2 === b) {
                if (!d)
                  for (d = {}; (t = Nn.exec(a)); ) d[t[1].toLowerCase()] = t[2];
                t = d[e.toLowerCase()];
              }
              return null == t ? null : t;
            },
            getAllResponseHeaders: function () {
              return 2 === b ? a : null;
            },
            setRequestHeader: function (e, t) {
              var n = e.toLowerCase();
              return b || ((e = y[n] = y[n] || e), (v[e] = t)), this;
            },
            overrideMimeType: function (e) {
              return b || (p.mimeType = e), this;
            },
            statusCode: function (e) {
              var t;
              if (e)
                if (2 > b) for (t in e) _[t] = [_[t], e[t]];
                else C.always(e[C.status]);
              return this;
            },
            abort: function (e) {
              var t = e || w;
              return u && u.abort(t), i(0, t), this;
            },
          };
        if (
          ((m.promise(C).complete = g.add),
          (C.success = C.done),
          (C.error = C.fail),
          (p.url = ((e || p.url || Dn) + "")
            .replace(jn, "")
            .replace($n, In[1] + "//")),
          (p.type = n.method || n.type || p.method || p.type),
          (p.dataTypes = ut
            .trim(p.dataType || "*")
            .toLowerCase()
            .match(pt) || [""]),
          null == p.crossDomain &&
            ((r = Fn.exec(p.url.toLowerCase())),
            (p.crossDomain = !(
              !r ||
              (r[1] === In[1] &&
                r[2] === In[2] &&
                (r[3] || ("http:" === r[1] ? "80" : "443")) ===
                  (In[3] || ("http:" === In[1] ? "80" : "443")))
            ))),
          p.data &&
            p.processData &&
            "string" != typeof p.data &&
            (p.data = ut.param(p.data, p.traditional)),
          D(Wn, p, n, C),
          2 === b)
        )
          return C;
        (c = p.global),
          c && 0 === ut.active++ && ut.event.trigger("ajaxStart"),
          (p.type = p.type.toUpperCase()),
          (p.hasContent = !Bn.test(p.type)),
          (o = p.url),
          p.hasContent ||
            (p.data &&
              ((o = p.url += (Rn.test(o) ? "&" : "?") + p.data), delete p.data),
            p.cache === !1 &&
              (p.url = Ln.test(o)
                ? o.replace(Ln, "$1_=" + Mn++)
                : o + (Rn.test(o) ? "&" : "?") + "_=" + Mn++)),
          p.ifModified &&
            (ut.lastModified[o] &&
              C.setRequestHeader("If-Modified-Since", ut.lastModified[o]),
            ut.etag[o] && C.setRequestHeader("If-None-Match", ut.etag[o])),
          ((p.data && p.hasContent && p.contentType !== !1) || n.contentType) &&
            C.setRequestHeader("Content-Type", p.contentType),
          C.setRequestHeader(
            "Accept",
            p.dataTypes[0] && p.accepts[p.dataTypes[0]]
              ? p.accepts[p.dataTypes[0]] +
                  ("*" !== p.dataTypes[0] ? ", " + zn + "; q=0.01" : "")
              : p.accepts["*"]
          );
        for (s in p.headers) C.setRequestHeader(s, p.headers[s]);
        if (p.beforeSend && (p.beforeSend.call(h, C, p) === !1 || 2 === b))
          return C.abort();
        w = "abort";
        for (s in {
          success: 1,
          error: 1,
          complete: 1,
        })
          C[s](p[s]);
        if ((u = D(qn, p, n, C))) {
          (C.readyState = 1),
            c && f.trigger("ajaxSend", [C, p]),
            p.async &&
              p.timeout > 0 &&
              (l = setTimeout(function () {
                C.abort("timeout");
              }, p.timeout));
          try {
            (b = 1), u.send(v, i);
          } catch (k) {
            if (!(2 > b)) throw k;
            i(-1, k);
          }
        } else i(-1, "No Transport");
        return C;
      },
      getJSON: function (e, t, n) {
        return ut.get(e, t, n, "json");
      },
      getScript: function (e, n) {
        return ut.get(e, t, n, "script");
      },
    }),
    ut.each(["get", "post"], function (e, n) {
      ut[n] = function (e, i, r, s) {
        return (
          ut.isFunction(i) && ((s = s || r), (r = i), (i = t)),
          ut.ajax({
            url: e,
            type: n,
            dataType: s,
            data: i,
            success: r,
          })
        );
      };
    }),
    ut.ajaxSetup({
      accepts: {
        script:
          "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
      },
      contents: {
        script: /(?:java|ecma)script/,
      },
      converters: {
        "text script": function (e) {
          return ut.globalEval(e), e;
        },
      },
    }),
    ut.ajaxPrefilter("script", function (e) {
      e.cache === t && (e.cache = !1),
        e.crossDomain && ((e.type = "GET"), (e.global = !1));
    }),
    ut.ajaxTransport("script", function (e) {
      if (e.crossDomain) {
        var n,
          i = X.head || ut("head")[0] || X.documentElement;
        return {
          send: function (t, r) {
            (n = X.createElement("script")),
              (n.async = !0),
              e.scriptCharset && (n.charset = e.scriptCharset),
              (n.src = e.url),
              (n.onload = n.onreadystatechange =
                function (e, t) {
                  (t ||
                    !n.readyState ||
                    /loaded|complete/.test(n.readyState)) &&
                    ((n.onload = n.onreadystatechange = null),
                    n.parentNode && n.parentNode.removeChild(n),
                    (n = null),
                    t || r(200, "success"));
                }),
              i.insertBefore(n, i.firstChild);
          },
          abort: function () {
            n && n.onload(t, !0);
          },
        };
      }
    });
  var Kn = [],
    Gn = /(=)\?(?=&|$)|\?\?/;
  ut.ajaxSetup({
    jsonp: "callback",
    jsonpCallback: function () {
      var e = Kn.pop() || ut.expando + "_" + Mn++;
      return (this[e] = !0), e;
    },
  }),
    ut.ajaxPrefilter("json jsonp", function (n, i, r) {
      var s,
        o,
        a,
        l =
          n.jsonp !== !1 &&
          (Gn.test(n.url)
            ? "url"
            : "string" == typeof n.data &&
              !(n.contentType || "").indexOf(
                "application/x-www-form-urlencoded"
              ) &&
              Gn.test(n.data) &&
              "data");
      return l || "jsonp" === n.dataTypes[0]
        ? ((s = n.jsonpCallback =
            ut.isFunction(n.jsonpCallback)
              ? n.jsonpCallback()
              : n.jsonpCallback),
          l
            ? (n[l] = n[l].replace(Gn, "$1" + s))
            : n.jsonp !== !1 &&
              (n.url += (Rn.test(n.url) ? "&" : "?") + n.jsonp + "=" + s),
          (n.converters["script json"] = function () {
            return a || ut.error(s + " was not called"), a[0];
          }),
          (n.dataTypes[0] = "json"),
          (o = e[s]),
          (e[s] = function () {
            a = arguments;
          }),
          r.always(function () {
            (e[s] = o),
              n[s] && ((n.jsonpCallback = i.jsonpCallback), Kn.push(s)),
              a && ut.isFunction(o) && o(a[0]),
              (a = o = t);
          }),
          "script")
        : void 0;
    });
  var Yn,
    Xn,
    Qn = 0,
    Jn =
      e.ActiveXObject &&
      function () {
        var e;
        for (e in Yn) Yn[e](t, !0);
      };
  (ut.ajaxSettings.xhr = e.ActiveXObject
    ? function () {
        return (!this.isLocal && L()) || N();
      }
    : L),
    (Xn = ut.ajaxSettings.xhr()),
    (ut.support.cors = !!Xn && "withCredentials" in Xn),
    (Xn = ut.support.ajax = !!Xn),
    Xn &&
      ut.ajaxTransport(function (n) {
        if (!n.crossDomain || ut.support.cors) {
          var i;
          return {
            send: function (r, s) {
              var o,
                a,
                l = n.xhr();
              if (
                (n.username
                  ? l.open(n.type, n.url, n.async, n.username, n.password)
                  : l.open(n.type, n.url, n.async),
                n.xhrFields)
              )
                for (a in n.xhrFields) l[a] = n.xhrFields[a];
              n.mimeType &&
                l.overrideMimeType &&
                l.overrideMimeType(n.mimeType),
                n.crossDomain ||
                  r["X-Requested-With"] ||
                  (r["X-Requested-With"] = "XMLHttpRequest");
              try {
                for (a in r) l.setRequestHeader(a, r[a]);
              } catch (c) {}
              l.send((n.hasContent && n.data) || null),
                (i = function (e, r) {
                  var a, c, u, d;
                  try {
                    if (i && (r || 4 === l.readyState))
                      if (
                        ((i = t),
                        o &&
                          ((l.onreadystatechange = ut.noop),
                          Jn && delete Yn[o]),
                        r)
                      )
                        4 !== l.readyState && l.abort();
                      else {
                        (d = {}),
                          (a = l.status),
                          (c = l.getAllResponseHeaders()),
                          "string" == typeof l.responseText &&
                            (d.text = l.responseText);
                        try {
                          u = l.statusText;
                        } catch (p) {
                          u = "";
                        }
                        a || !n.isLocal || n.crossDomain
                          ? 1223 === a && (a = 204)
                          : (a = d.text ? 200 : 404);
                      }
                  } catch (h) {
                    r || s(-1, h);
                  }
                  d && s(a, u, d, c);
                }),
                n.async
                  ? 4 === l.readyState
                    ? setTimeout(i)
                    : ((o = ++Qn),
                      Jn && (Yn || ((Yn = {}), ut(e).unload(Jn)), (Yn[o] = i)),
                      (l.onreadystatechange = i))
                  : i();
            },
            abort: function () {
              i && i(t, !0);
            },
          };
        }
      });
  var Zn,
    ei,
    ti = /^(?:toggle|show|hide)$/,
    ni = new RegExp("^(?:([+-])=|)(" + dt + ")([a-z%]*)$", "i"),
    ii = /queueHooks$/,
    ri = [H],
    si = {
      "*": [
        function (e, t) {
          var n = this.createTween(e, t),
            i = n.cur(),
            r = ni.exec(t),
            s = (r && r[3]) || (ut.cssNumber[e] ? "" : "px"),
            o =
              (ut.cssNumber[e] || ("px" !== s && +i)) &&
              ni.exec(ut.css(n.elem, e)),
            a = 1,
            l = 20;
          if (o && o[3] !== s) {
            (s = s || o[3]), (r = r || []), (o = +i || 1);
            do (a = a || ".5"), (o /= a), ut.style(n.elem, e, o + s);
            while (a !== (a = n.cur() / i) && 1 !== a && --l);
          }
          return (
            r &&
              ((o = n.start = +o || +i || 0),
              (n.unit = s),
              (n.end = r[1] ? o + (r[1] + 1) * r[2] : +r[2])),
            n
          );
        },
      ],
    };
  (ut.Animation = ut.extend($, {
    tweener: function (e, t) {
      ut.isFunction(e) ? ((t = e), (e = ["*"])) : (e = e.split(" "));
      for (var n, i = 0, r = e.length; r > i; i++)
        (n = e[i]), (si[n] = si[n] || []), si[n].unshift(t);
    },
    prefilter: function (e, t) {
      t ? ri.unshift(e) : ri.push(e);
    },
  })),
    (ut.Tween = W),
    (W.prototype = {
      constructor: W,
      init: function (e, t, n, i, r, s) {
        (this.elem = e),
          (this.prop = n),
          (this.easing = r || "swing"),
          (this.options = t),
          (this.start = this.now = this.cur()),
          (this.end = i),
          (this.unit = s || (ut.cssNumber[n] ? "" : "px"));
      },
      cur: function () {
        var e = W.propHooks[this.prop];
        return e && e.get ? e.get(this) : W.propHooks._default.get(this);
      },
      run: function (e) {
        var t,
          n = W.propHooks[this.prop];
        return (
          (this.pos = t =
            this.options.duration
              ? ut.easing[this.easing](
                  e,
                  this.options.duration * e,
                  0,
                  1,
                  this.options.duration
                )
              : e),
          (this.now = (this.end - this.start) * t + this.start),
          this.options.step &&
            this.options.step.call(this.elem, this.now, this),
          n && n.set ? n.set(this) : W.propHooks._default.set(this),
          this
        );
      },
    }),
    (W.prototype.init.prototype = W.prototype),
    (W.propHooks = {
      _default: {
        get: function (e) {
          var t;
          return null == e.elem[e.prop] ||
            (e.elem.style && null != e.elem.style[e.prop])
            ? ((t = ut.css(e.elem, e.prop, "")), t && "auto" !== t ? t : 0)
            : e.elem[e.prop];
        },
        set: function (e) {
          ut.fx.step[e.prop]
            ? ut.fx.step[e.prop](e)
            : e.elem.style &&
              (null != e.elem.style[ut.cssProps[e.prop]] || ut.cssHooks[e.prop])
            ? ut.style(e.elem, e.prop, e.now + e.unit)
            : (e.elem[e.prop] = e.now);
        },
      },
    }),
    (W.propHooks.scrollTop = W.propHooks.scrollLeft =
      {
        set: function (e) {
          e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
        },
      }),
    ut.each(["toggle", "show", "hide"], function (e, t) {
      var n = ut.fn[t];
      ut.fn[t] = function (e, i, r) {
        return null == e || "boolean" == typeof e
          ? n.apply(this, arguments)
          : this.animate(q(t, !0), e, i, r);
      };
    }),
    ut.fn.extend({
      fadeTo: function (e, t, n, i) {
        return this.filter(k).css("opacity", 0).show().end().animate(
          {
            opacity: t,
          },
          e,
          n,
          i
        );
      },
      animate: function (e, t, n, i) {
        var r = ut.isEmptyObject(e),
          s = ut.speed(t, n, i),
          o = function () {
            var t = $(this, ut.extend({}, e), s);
            (r || ut._data(this, "finish")) && t.stop(!0);
          };
        return (
          (o.finish = o),
          r || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
        );
      },
      stop: function (e, n, i) {
        var r = function (e) {
          var t = e.stop;
          delete e.stop, t(i);
        };
        return (
          "string" != typeof e && ((i = n), (n = e), (e = t)),
          n && e !== !1 && this.queue(e || "fx", []),
          this.each(function () {
            var t = !0,
              n = null != e && e + "queueHooks",
              s = ut.timers,
              o = ut._data(this);
            if (n) o[n] && o[n].stop && r(o[n]);
            else for (n in o) o[n] && o[n].stop && ii.test(n) && r(o[n]);
            for (n = s.length; n--; )
              s[n].elem !== this ||
                (null != e && s[n].queue !== e) ||
                (s[n].anim.stop(i), (t = !1), s.splice(n, 1));
            (t || !i) && ut.dequeue(this, e);
          })
        );
      },
      finish: function (e) {
        return (
          e !== !1 && (e = e || "fx"),
          this.each(function () {
            var t,
              n = ut._data(this),
              i = n[e + "queue"],
              r = n[e + "queueHooks"],
              s = ut.timers,
              o = i ? i.length : 0;
            for (
              n.finish = !0,
                ut.queue(this, e, []),
                r && r.stop && r.stop.call(this, !0),
                t = s.length;
              t--;

            )
              s[t].elem === this &&
                s[t].queue === e &&
                (s[t].anim.stop(!0), s.splice(t, 1));
            for (t = 0; o > t; t++)
              i[t] && i[t].finish && i[t].finish.call(this);
            delete n.finish;
          })
        );
      },
    }),
    ut.each(
      {
        slideDown: q("show"),
        slideUp: q("hide"),
        slideToggle: q("toggle"),
        fadeIn: {
          opacity: "show",
        },
        fadeOut: {
          opacity: "hide",
        },
        fadeToggle: {
          opacity: "toggle",
        },
      },
      function (e, t) {
        ut.fn[e] = function (e, n, i) {
          return this.animate(t, e, n, i);
        };
      }
    ),
    (ut.speed = function (e, t, n) {
      var i =
        e && "object" == typeof e
          ? ut.extend({}, e)
          : {
              complete: n || (!n && t) || (ut.isFunction(e) && e),
              duration: e,
              easing: (n && t) || (t && !ut.isFunction(t) && t),
            };
      return (
        (i.duration = ut.fx.off
          ? 0
          : "number" == typeof i.duration
          ? i.duration
          : i.duration in ut.fx.speeds
          ? ut.fx.speeds[i.duration]
          : ut.fx.speeds._default),
        (null == i.queue || i.queue === !0) && (i.queue = "fx"),
        (i.old = i.complete),
        (i.complete = function () {
          ut.isFunction(i.old) && i.old.call(this),
            i.queue && ut.dequeue(this, i.queue);
        }),
        i
      );
    }),
    (ut.easing = {
      linear: function (e) {
        return e;
      },
      swing: function (e) {
        return 0.5 - Math.cos(e * Math.PI) / 2;
      },
    }),
    (ut.timers = []),
    (ut.fx = W.prototype.init),
    (ut.fx.tick = function () {
      var e,
        n = ut.timers,
        i = 0;
      for (Zn = ut.now(); i < n.length; i++)
        (e = n[i]), e() || n[i] !== e || n.splice(i--, 1);
      n.length || ut.fx.stop(), (Zn = t);
    }),
    (ut.fx.timer = function (e) {
      e() && ut.timers.push(e) && ut.fx.start();
    }),
    (ut.fx.interval = 13),
    (ut.fx.start = function () {
      ei || (ei = setInterval(ut.fx.tick, ut.fx.interval));
    }),
    (ut.fx.stop = function () {
      clearInterval(ei), (ei = null);
    }),
    (ut.fx.speeds = {
      slow: 600,
      fast: 200,
      _default: 400,
    }),
    (ut.fx.step = {}),
    ut.expr &&
      ut.expr.filters &&
      (ut.expr.filters.animated = function (e) {
        return ut.grep(ut.timers, function (t) {
          return e === t.elem;
        }).length;
      }),
    (ut.fn.offset = function (e) {
      if (arguments.length)
        return e === t
          ? this
          : this.each(function (t) {
              ut.offset.setOffset(this, e, t);
            });
      var n,
        i,
        r = {
          top: 0,
          left: 0,
        },
        s = this[0],
        o = s && s.ownerDocument;
      if (o)
        return (
          (n = o.documentElement),
          ut.contains(n, s)
            ? (typeof s.getBoundingClientRect !== G &&
                (r = s.getBoundingClientRect()),
              (i = z(o)),
              {
                top:
                  r.top + (i.pageYOffset || n.scrollTop) - (n.clientTop || 0),
                left:
                  r.left +
                  (i.pageXOffset || n.scrollLeft) -
                  (n.clientLeft || 0),
              })
            : r
        );
    }),
    (ut.offset = {
      setOffset: function (e, t, n) {
        var i = ut.css(e, "position");
        "static" === i && (e.style.position = "relative");
        var r,
          s,
          o = ut(e),
          a = o.offset(),
          l = ut.css(e, "top"),
          c = ut.css(e, "left"),
          u =
            ("absolute" === i || "fixed" === i) &&
            ut.inArray("auto", [l, c]) > -1,
          d = {},
          p = {};
        u
          ? ((p = o.position()), (r = p.top), (s = p.left))
          : ((r = parseFloat(l) || 0), (s = parseFloat(c) || 0)),
          ut.isFunction(t) && (t = t.call(e, n, a)),
          null != t.top && (d.top = t.top - a.top + r),
          null != t.left && (d.left = t.left - a.left + s),
          "using" in t ? t.using.call(e, d) : o.css(d);
      },
    }),
    ut.fn.extend({
      position: function () {
        if (this[0]) {
          var e,
            t,
            n = {
              top: 0,
              left: 0,
            },
            i = this[0];
          return (
            "fixed" === ut.css(i, "position")
              ? (t = i.getBoundingClientRect())
              : ((e = this.offsetParent()),
                (t = this.offset()),
                ut.nodeName(e[0], "html") || (n = e.offset()),
                (n.top += ut.css(e[0], "borderTopWidth", !0)),
                (n.left += ut.css(e[0], "borderLeftWidth", !0))),
            {
              top: t.top - n.top - ut.css(i, "marginTop", !0),
              left: t.left - n.left - ut.css(i, "marginLeft", !0),
            }
          );
        }
      },
      offsetParent: function () {
        return this.map(function () {
          for (
            var e = this.offsetParent || Q;
            e && !ut.nodeName(e, "html") && "static" === ut.css(e, "position");

          )
            e = e.offsetParent;
          return e || Q;
        });
      },
    }),
    ut.each(
      {
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset",
      },
      function (e, n) {
        var i = /Y/.test(n);
        ut.fn[e] = function (r) {
          return ut.access(
            this,
            function (e, r, s) {
              var o = z(e);
              return s === t
                ? o
                  ? n in o
                    ? o[n]
                    : o.document.documentElement[r]
                  : e[r]
                : void (o
                    ? o.scrollTo(
                        i ? ut(o).scrollLeft() : s,
                        i ? s : ut(o).scrollTop()
                      )
                    : (e[r] = s));
            },
            e,
            r,
            arguments.length,
            null
          );
        };
      }
    ),
    ut.each(
      {
        Height: "height",
        Width: "width",
      },
      function (e, n) {
        ut.each(
          {
            padding: "inner" + e,
            content: n,
            "": "outer" + e,
          },
          function (i, r) {
            ut.fn[r] = function (r, s) {
              var o = arguments.length && (i || "boolean" != typeof r),
                a = i || (r === !0 || s === !0 ? "margin" : "border");
              return ut.access(
                this,
                function (n, i, r) {
                  var s;
                  return ut.isWindow(n)
                    ? n.document.documentElement["client" + e]
                    : 9 === n.nodeType
                    ? ((s = n.documentElement),
                      Math.max(
                        n.body["scroll" + e],
                        s["scroll" + e],
                        n.body["offset" + e],
                        s["offset" + e],
                        s["client" + e]
                      ))
                    : r === t
                    ? ut.css(n, i, a)
                    : ut.style(n, i, r, a);
                },
                n,
                o ? r : t,
                o,
                null
              );
            };
          }
        );
      }
    ),
    (ut.fn.size = function () {
      return this.length;
    }),
    (ut.fn.andSelf = ut.fn.addBack),
    "object" == typeof module && module && "object" == typeof module.exports
      ? (module.exports = ut)
      : ((e.jQuery = e.$ = ut),
        "function" == typeof define &&
          define.amd &&
          define("jquery", [], function () {
            return ut;
          }));
})(window),
  (function (e, t) {
    e.rails !== t && e.error("jquery-ujs has already been loaded!");
    var n,
      i = e(document);
    (e.rails = n =
      {
        linkClickSelector:
          "a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",
        buttonClickSelector: "button[data-remote]",
        inputChangeSelector:
          "select[data-remote], input[data-remote], textarea[data-remote]",
        formSubmitSelector: "form",
        formInputClickSelector:
          "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",
        disableSelector:
          "input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",
        enableSelector:
          "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",
        requiredInputSelector:
          "input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",
        fileInputSelector: "input[type=file]",
        linkDisableSelector: "a[data-disable-with]",
        CSRFProtection: function (t) {
          var n = e('meta[name="csrf-token"]').attr("content");
          n && t.setRequestHeader("X-CSRF-Token", n);
        },
        fire: function (t, n, i) {
          var r = e.Event(n);
          return t.trigger(r, i), r.result !== !1;
        },
        confirm: function (e) {
          return confirm(e);
        },
        ajax: function (t) {
          return e.ajax(t);
        },
        href: function (e) {
          return e.attr("href");
        },
        handleRemote: function (i) {
          var r, s, o, a, l, c, u, d;
          if (n.fire(i, "ajax:before")) {
            if (
              ((a = i.data("cross-domain")),
              (l = a === t ? null : a),
              (c = i.data("with-credentials") || null),
              (u =
                i.data("type") || (e.ajaxSettings && e.ajaxSettings.dataType)),
              i.is("form"))
            ) {
              (r = i.attr("method")),
                (s = i.attr("action")),
                (o = i.serializeArray());
              var p = i.data("ujs:submit-button");
              p && (o.push(p), i.data("ujs:submit-button", null));
            } else
              i.is(n.inputChangeSelector)
                ? ((r = i.data("method")),
                  (s = i.data("url")),
                  (o = i.serialize()),
                  i.data("params") && (o = o + "&" + i.data("params")))
                : i.is(n.buttonClickSelector)
                ? ((r = i.data("method") || "get"),
                  (s = i.data("url")),
                  (o = i.serialize()),
                  i.data("params") && (o = o + "&" + i.data("params")))
                : ((r = i.data("method")),
                  (s = n.href(i)),
                  (o = i.data("params") || null));
            (d = {
              type: r || "GET",
              data: o,
              dataType: u,
              beforeSend: function (e, r) {
                return (
                  r.dataType === t &&
                    e.setRequestHeader(
                      "accept",
                      "*/*;q=0.5, " + r.accepts.script
                    ),
                  n.fire(i, "ajax:beforeSend", [e, r])
                );
              },
              success: function (e, t, n) {
                i.trigger("ajax:success", [e, t, n]);
              },
              complete: function (e, t) {
                i.trigger("ajax:complete", [e, t]);
              },
              error: function (e, t, n) {
                i.trigger("ajax:error", [e, t, n]);
              },
              crossDomain: l,
            }),
              c &&
                (d.xhrFields = {
                  withCredentials: c,
                }),
              s && (d.url = s);
            var h = n.ajax(d);
            return i.trigger("ajax:send", h), h;
          }
          return !1;
        },
        handleMethod: function (i) {
          var r = n.href(i),
            s = i.data("method"),
            o = i.attr("target"),
            a = e("meta[name=csrf-token]").attr("content"),
            l = e("meta[name=csrf-param]").attr("content"),
            c = e('<form method="post" action="' + r + '"></form>'),
            u = '<input name="_method" value="' + s + '" type="hidden" />';
          l !== t &&
            a !== t &&
            (u += '<input name="' + l + '" value="' + a + '" type="hidden" />'),
            o && c.attr("target", o),
            c.hide().append(u).appendTo("body"),
            c.submit();
        },
        disableFormElements: function (t) {
          t.find(n.disableSelector).each(function () {
            var t = e(this),
              n = t.is("button") ? "html" : "val";
            t.data("ujs:enable-with", t[n]()),
              t[n](t.data("disable-with")),
              t.prop("disabled", !0);
          });
        },
        enableFormElements: function (t) {
          t.find(n.enableSelector).each(function () {
            var t = e(this),
              n = t.is("button") ? "html" : "val";
            t.data("ujs:enable-with") && t[n](t.data("ujs:enable-with")),
              t.prop("disabled", !1);
          });
        },
        allowAction: function (e) {
          var t,
            i = e.data("confirm"),
            r = !1;
          return i
            ? (n.fire(e, "confirm") &&
                ((r = n.confirm(i)), (t = n.fire(e, "confirm:complete", [r]))),
              r && t)
            : !0;
        },
        blankInputs: function (t, n, i) {
          var r,
            s,
            o = e(),
            a = n || "input,textarea",
            l = t.find(a);
          return (
            l.each(function () {
              if (
                ((r = e(this)),
                (s = r.is("input[type=checkbox],input[type=radio]")
                  ? r.is(":checked")
                  : r.val()),
                !s == !i)
              ) {
                if (
                  r.is("input[type=radio]") &&
                  l.filter(
                    'input[type=radio]:checked[name="' + r.attr("name") + '"]'
                  ).length
                )
                  return !0;
                o = o.add(r);
              }
            }),
            o.length ? o : !1
          );
        },
        nonBlankInputs: function (e, t) {
          return n.blankInputs(e, t, !0);
        },
        stopEverything: function (t) {
          return (
            e(t.target).trigger("ujs:everythingStopped"),
            t.stopImmediatePropagation(),
            !1
          );
        },
        disableElement: function (e) {
          e.data("ujs:enable-with", e.html()),
            e.html(e.data("disable-with")),
            e.bind("click.railsDisable", function (e) {
              return n.stopEverything(e);
            });
        },
        enableElement: function (e) {
          e.data("ujs:enable-with") !== t &&
            (e.html(e.data("ujs:enable-with")),
            e.removeData("ujs:enable-with")),
            e.unbind("click.railsDisable");
        },
      }),
      n.fire(i, "rails:attachBindings") &&
        (e.ajaxPrefilter(function (e, t, i) {
          e.crossDomain || n.CSRFProtection(i);
        }),
        i.delegate(n.linkDisableSelector, "ajax:complete", function () {
          n.enableElement(e(this));
        }),
        i.delegate(n.linkClickSelector, "click.rails", function (i) {
          var r = e(this),
            s = r.data("method"),
            o = r.data("params");
          if (!n.allowAction(r)) return n.stopEverything(i);
          if (
            (r.is(n.linkDisableSelector) && n.disableElement(r),
            r.data("remote") !== t)
          ) {
            if (!((!i.metaKey && !i.ctrlKey) || (s && "GET" !== s) || o))
              return !0;
            var a = n.handleRemote(r);
            return (
              a === !1
                ? n.enableElement(r)
                : a.error(function () {
                    n.enableElement(r);
                  }),
              !1
            );
          }
          return r.data("method") ? (n.handleMethod(r), !1) : void 0;
        }),
        i.delegate(n.buttonClickSelector, "click.rails", function (t) {
          var i = e(this);
          return n.allowAction(i)
            ? (n.handleRemote(i), !1)
            : n.stopEverything(t);
        }),
        i.delegate(n.inputChangeSelector, "change.rails", function (t) {
          var i = e(this);
          return n.allowAction(i)
            ? (n.handleRemote(i), !1)
            : n.stopEverything(t);
        }),
        i.delegate(n.formSubmitSelector, "submit.rails", function (i) {
          var r = e(this),
            s = r.data("remote") !== t,
            o = n.blankInputs(r, n.requiredInputSelector),
            a = n.nonBlankInputs(r, n.fileInputSelector);
          if (!n.allowAction(r)) return n.stopEverything(i);
          if (
            o &&
            r.attr("novalidate") == t &&
            n.fire(r, "ajax:aborted:required", [o])
          )
            return n.stopEverything(i);
          if (s) {
            if (a) {
              setTimeout(function () {
                n.disableFormElements(r);
              }, 13);
              var l = n.fire(r, "ajax:aborted:file", [a]);
              return (
                l ||
                  setTimeout(function () {
                    n.enableFormElements(r);
                  }, 13),
                l
              );
            }
            return n.handleRemote(r), !1;
          }
          setTimeout(function () {
            n.disableFormElements(r);
          }, 13);
        }),
        i.delegate(n.formInputClickSelector, "click.rails", function (t) {
          var i = e(this);
          if (!n.allowAction(i)) return n.stopEverything(t);
          var r = i.attr("name"),
            s = r
              ? {
                  name: r,
                  value: i.val(),
                }
              : null;
          i.closest("form").data("ujs:submit-button", s);
        }),
        i.delegate(n.formSubmitSelector, "ajax:beforeSend.rails", function (t) {
          this == t.target && n.disableFormElements(e(this));
        }),
        i.delegate(n.formSubmitSelector, "ajax:complete.rails", function (t) {
          this == t.target && n.enableFormElements(e(this));
        }),
        e(function () {
          var t = e("meta[name=csrf-token]").attr("content"),
            n = e("meta[name=csrf-param]").attr("content");
          e('form input[name="' + n + '"]').val(t);
        }));
  })(jQuery);
var Interface = function (e, t) {
    var n, i, r;
    return (
      (n = e && t ? e : this),
      (i = e && t ? t : e ? e : "interface" + Math.random().toString()),
      (r = function (e) {
        return (e.isInterface = !0), (e.name = i), (n[i] = e), n[i];
      })
    );
  },
  Module = function (e, t) {
    var n, i, r, s;
    return (
      (n = e && t ? e : this),
      (i = e && t ? t : e ? e : "module" + Math.random().toString()),
      (s = {
        moduleName: i,
        prototype: {},
        __includedModules: [],
        include: function (e) {
          var t;
          for (t in e)
            e.hasOwnProperty(t) &&
              "prototype" !== t &&
              "isModule" !== t &&
              "__includedModules" !== t &&
              "include" !== t &&
              "moduleName" !== t &&
              (s[t] = e[t]);
          if (e.hasOwnProperty("prototype") && e.prototype)
            for (t in e.prototype)
              e.prototype.hasOwnProperty(t) &&
                (s.prototype[t] = e.prototype[t]);
          return this.__includedModules.push(e), this;
        },
      }),
      (r = function (e) {
        var t;
        s.isModule = !0;
        for (t in e)
          e.hasOwnProperty(t) &&
            "prototype" !== t &&
            "isModule" !== t &&
            "__includedModules" !== t &&
            "include" !== t &&
            "moduleName" !== t &&
            (s[t] = e[t]);
        if (e.hasOwnProperty("prototype") && e.prototype)
          for (t in e.prototype)
            e.prototype.hasOwnProperty(t) && (s.prototype[t] = e.prototype[t]);
        return (n[i] = s), n[i];
      }),
      (r.includes = function () {
        for (var e = 0; e < arguments.length; e++) s.include(arguments[e]);
        return r;
      }),
      r
    );
  },
  Class = function (e, t) {
    var n, i, r;
    return (
      (n = e && t ? e : this),
      (t = e && t ? t : e ? e : "class" + Math.random().toString()),
      (i = function () {
        this.init && this.init.apply(this, arguments);
      }),
      (i.__descendants = []),
      (i.__implementedInterfaces = []),
      (i.__includedModules = []),
      (i.className = t),
      (i.include = function (e) {
        var t;
        for (t in e)
          e.hasOwnProperty(t) &&
            "prototype" != t &&
            "constructor" != t &&
            "isModule" != t &&
            "include" != t &&
            "superClass" != t &&
            (i[t] = e[t]);
        if (e.hasOwnProperty("prototype") && e.prototype)
          for (t in e.prototype)
            e.prototype.hasOwnProperty(t) && (i.prototype[t] = e.prototype[t]);
        return i.__includedModules.push(e), this;
      }),
      (r = function (e) {
        var r,
          s,
          o,
          a,
          l,
          c = e.prototype;
        if (c) {
          for (l in c) c.hasOwnProperty(l) && (i.prototype[l] = c[l]);
          delete e.prototype;
        }
        for (l in e) e.hasOwnProperty(l) && (i[l] = e[l]);
        for (r = 0, s = i.__implementedInterfaces.length; s > r; r++) {
          for (
            o = 0, a = i.__implementedInterfaces[r].constructor.length;
            a > o;
            o++
          )
            if (!i[i.__implementedInterfaces[r].constructor[o]]) {
              alert(
                "must implement static " + i.__implementedInterfaces[r].name
              );
              break;
            }
          if (
            i.__implementedInterfaces[r].hasOwnProperty("prototype") &&
            i.__implementedInterfaces[r].prototype
          )
            for (
              o = 0, a = i.__implementedInterfaces[r].prototype.length;
              a > o;
              o++
            )
              if (!i.prototype[i.__implementedInterfaces[r].prototype[o]]) {
                alert(
                  "must implement prototype " +
                    i.__implementedInterfaces[r].name
                );
                break;
              }
        }
        return (
          window.Li &&
            window.Li.ObjectSpy &&
            window.Li.Spy &&
            window.enableLi &&
            ((i.__objectSpy = new Li.ObjectSpy()),
            i.__objectSpy.spy(i),
            i.__objectSpy.spy(i.prototype, {
              except: ["constructor"],
            })),
          (n[t] = i),
          i
        );
      }),
      (r.inherits = function (e) {
        var t, n;
        (i.superClass = e),
          e.hasOwnProperty("__descendants") && e.__descendants.push(i),
          (n = function () {}),
          (n.prototype = e.prototype),
          (i.prototype = new n()),
          (i.prototype.constructor = i);
        for (t in e)
          e.hasOwnProperty(t) &&
            "prototype" != t &&
            "className" !== t &&
            "superClass" !== t &&
            "__descendants" != t &&
            "include" != t &&
            (i[t] = e[t]);
        return delete this.inherits, this;
      }),
      (r.ensures = function () {
        for (var e = 0; e < arguments.length; e++)
          i.__implementedInterfaces.push(arguments[e]);
        return delete this.ensures, r;
      }),
      (r.includes = function () {
        for (var e = 0; e < arguments.length; e++) i.include(arguments[e]);
        return r;
      }),
      r
    );
  };
if (
  (Module("BubblingSupport")({
    dispatch: function (e, t) {
      t = t || {};
      var n = CustomEventSupport.prototype.dispatch.call(this, e, t);
      return (
        n._stopPropagation !== !0 &&
          this.parent &&
          this.parent.dispatch &&
          ((t.target = n.target),
          (t.currentTarget = this.parent),
          this.parent.dispatch(n.type, t)),
        n
      );
    },
    prototype: {
      dispatch: function (e, t) {
        t = t || {};
        var n = CustomEventSupport.prototype.dispatch.call(this, e, t);
        return (
          n._stopPropagation !== !0 &&
            this.parent &&
            this.parent.dispatch &&
            ((t.target = n.target),
            (t.currentTarget = this.parent),
            this.parent.dispatch(n.type, t)),
          n
        );
      },
    },
  }),
  Class("NeonCustomEvent")({
    prototype: {
      init: function (e, t) {
        (this.type = e), (this.data = t);
      },
      stopPropagation: function () {
        this._stopPropagation = !0;
      },
      preventDefault: function () {
        this._preventDefault = !0;
      },
    },
  }),
  Module("CustomEventSupport")({
    eventListeners: null,
    bind: function (e, t) {
      var n;
      return (
        this.eventListeners || (this.eventListeners = {}),
        this.eventListeners[e] || (this.eventListeners[e] = []),
        (n = !1),
        $(this.eventListeners[e]).each(function () {
          return this == t ? ((n = !0), !1) : void 0;
        }),
        n || this.eventListeners[e].push(t),
        this
      );
    },
    unbind: function (e, t) {
      var n = 0,
        i = !1;
      return (
        this.eventListeners || (this.eventListeners = {}),
        "undefined" == typeof t && (this.eventListeners[e] = []),
        $.each(this.eventListeners[e] || [], function (e) {
          return this == t ? ((n = e), (i = !0), !1) : void 0;
        }),
        i && this.eventListeners[e].splice(n, 1),
        this
      );
    },
    dispatch: function (e, t) {
      var n, i, r, s;
      return (
        this.eventListeners || (this.eventListeners = {}),
        (n = new NeonCustomEvent(e, t)),
        (n.target = this),
        (i = this.eventListeners[e] || []),
        (r = this),
        (n.allowDefault = !0),
        $(i).each(function () {
          return (
            this.apply(r, [n, t]),
            n._preventDefault && (s = !1),
            n._stop ? !1 : void 0
          );
        }),
        n
      );
    },
    prototype: {
      eventListeners: null,
      bind: function (e, t) {
        var n;
        return (
          this.eventListeners || (this.eventListeners = {}),
          this.eventListeners[e] || (this.eventListeners[e] = []),
          (n = !1),
          $(this.eventListeners[e]).each(function () {
            return this == t ? ((n = !0), !1) : void 0;
          }),
          n || this.eventListeners[e].push(t),
          this
        );
      },
      unbind: function (e, t) {
        var n = 0,
          i = !1;
        return (
          this.eventListeners || (this.eventListeners = {}),
          "undefined" == typeof t && (this.eventListeners[e] = []),
          $.each(this.eventListeners[e] || [], function (e) {
            return this == t ? ((n = e), (i = !0), !1) : void 0;
          }),
          i && this.eventListeners[e].splice(n, 1),
          this
        );
      },
      dispatch: function (e, t) {
        var n, i, r, s;
        return (
          this.eventListeners || (this.eventListeners = {}),
          (n = new NeonCustomEvent(e, t)),
          (n.target = this),
          (i = this.eventListeners[e] || []),
          (r = this),
          (n.allowDefault = !0),
          $(i).each(function () {
            return (
              this.apply(r, [n, t]),
              n._preventDefault && (s = !1),
              n._stopPropagation ? !1 : void 0
            );
          }),
          n
        );
      },
    },
  }),
  Module("NodeSupport")({
    prototype: {
      appendChild: function (e) {
        return (
          this.children || (this.children = []),
          this.children.push(e),
          e.setParent(this),
          e.name && (this[e.name] = e),
          e
        );
      },
      insertBefore: function (e, t) {
        var n;
        return (
          e.parent && e.parent.removeChild(e),
          this.hasOwnProperty("children") || (this.children = []),
          "undefined" == typeof t
            ? this.appendChild(e)
            : ((n = this.children.indexOf(t)),
              this.children.splice(n, 0, e),
              (this[e.name] = e),
              e.setParent(this)),
          e
        );
      },
      getPreviousSibling: function () {
        return "undefined" != typeof this.parent &&
          this.parent.children[0] !== this
          ? this.parent.children[this.parent.children.indexOf(this) - 1]
          : void 0;
      },
      getNextSibling: function () {
        return "undefined" != typeof this.parent &&
          this.parent.children[this.parent.children.length - 1] !== this
          ? this.parent.children[this.parent.children.indexOf(this) + 1]
          : void 0;
      },
      removeChild: function (e) {
        this.children || (this.children = []);
        var t,
          n = this.children.length;
        for (t = 0; n > t; t++)
          if (this.children[t] === e) {
            e.setParent(null),
              e.name && delete this[e.name],
              this.children.splice(t, 1);
            break;
          }
        return this;
      },
      setParent: function (e) {
        return (this.parent = e), this;
      },
    },
  }),
  Class("Widget").includes(
    CustomEventSupport,
    NodeSupport
  )({
    elementClass: "placeit-widget",
    html: "        <div></div>    ",
    elementSource: null,
    activeClass: "active",
    prototype: {
      elementId: null,
      cssClass: null,
      init: function (e) {
        (this.children = []),
          $.extend(this, e),
          this.element ||
            (this.constructor.elementSource ||
              (this.constructor.elementSource = $(this.constructor.html)),
            (this.element = this.constructor.elementSource.clone()),
            this.element.addClass(this.constructor.elementClass),
            this.elementId && this.element.attr("id", this.elementId),
            this.cssClass && this.element.addClass(this.cssClass));
      },
      activate: function () {
        return (
          this.element.addClass(this.constructor.activeClass),
          this.dispatch("activate"),
          this
        );
      },
      deactivate: function () {
        return this.element.removeClass(this.constructor.activeClass), this;
      },
      hide: function () {
        return this.element.hide(), this;
      },
      show: function () {
        return this.element.show(), this;
      },
      isVisible: function () {
        return this.element.is(":visible");
      },
      getElement: function () {
        return this.element;
      },
      render: function (e, t) {
        return (
          t ? e.prepend(this.element) : e.append(this.element),
          this.dispatch("render"),
          this
        );
      },
      destroy: function () {
        if (this.children) {
          var e,
            t,
            n = this.children.length;
          for (e = 0; n > e; e++)
            (t = this.children[e]),
              t.setParent(null),
              t.name && delete this[t.name],
              t.destroy();
        }
        (this.children = []),
          this.parent && this.parent.removeChild(this),
          this.element.remove(),
          (this.element = null),
          this.dispatch("destroy");
      },
    },
  }),
  Class("Utils")({
    pollingTask: null,
    createPollingBuilder: function (e, t) {
      return function (n) {
        var i,
          r = new Promise(function (e, t) {
            i = function () {
              t(new Error("Cancelation error"));
            };
          });
        return function (s) {
          var o = function () {
              var e = function (e) {
                  var t = {
                    fulfilled: !0,
                    value: e,
                  };
                  return s(e) === !0 ? t : Promise.reject(t);
                },
                t = function (e) {
                  return Promise.resolve({
                    fulfilled: !1,
                    error: e,
                  });
                };
              return Promise.race([r, n()]).then(e, t);
            },
            a = P.retryableDelayed(o, e, t)(),
            l = new Promise(function (e, t) {
              a.then(
                function (n) {
                  n.fulfilled === !1 && t(n.error), e(n.value);
                },
                function (e) {
                  e.fulfilled === !0 &&
                    t({
                      error: "timeout",
                    });
                }
              );
            });
          return (l.cancel = i), l;
        };
      };
    },
    bindFn: function (e) {
      return function (t) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    },
  }),
  Class("PurchaseSupport")({
    ROUTES: [
      {
        url: "/subscriptions/{{token}}/transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 234,
          delay: 1e3,
        },
      },
      {
        url: "/subscriptions/quick_transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 90,
          delay: 1e3,
        },
      },
      {
        url: "/purchases/{{token}}/video_v4_transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 234,
          delay: 1e3,
        },
      },
      {
        url: "/purchases/quick_smart_template_transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 90,
          delay: 1e3,
        },
      },
      {
        url: "/purchases/quick_video_v4_transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 90,
          delay: 1e3,
        },
      },
      {
        url: "/purchases/{{token}}/smart_template_transaction",
        isPollingEnabled: !0,
        pingURL: "/api/v1/base/purchase_status?process_id=",
        pollingConfig: {
          times: 234,
          delay: 1e3,
        },
      },
    ],
    getRequestDataByUrl: function (e) {
      return PurchaseSupport.ROUTES.filter(function (t) {
        return t.url === e;
      })[0];
    },
    buildPolling: function (e) {
      var t, n;
      return (
        (t = Utils.createPollingBuilder(e.times, e.delay)),
        function (i) {
          var r = function () {
              return P.ajax({
                url: e.pingURL + i.process_id,
              });
            },
            s = function (e) {
              return "Completed" === e.state;
            };
          return (n = t(r)(s));
        }
      );
    },
  }),
  (window.TRANSLATIONS = {
    SsoModal: {
      TEXT_TAB_SIGNUP: "Criar contra",
      TEXT_TAB_LOGIN: "Entrar",
    },
    SsoSignupModal: {
      TEXT_GIFT_CREATE_ACCOUNT: "Crie uma conta para fazer o download gratuito",
      TEXT_VALIDATE_SIGNUP_ERROR:
        "N\xe3o foi poss\xedvel completar o seu pedido, por favor tente novamente.",
      TEXT_CREATE_ACCOUNT_SUCCESS: "Sua conta foi criada!",
      TEXT_CREATE_ACCOUNT_ERROR:
        "Desculpe, n\xe3o foi poss\xedvel criar a sua conta. Por favor tente novamente mais tarde.",
      TEXT_VERIFY_TOKEN_SUCCESS: "Tudo pronto!",
      TEXT_VERIFY_TOKEN_ERROR:
        "A sua conta foi criada, mas n\xe3o foi poss\xedvel efetuar o login. Por favor tente novamente mais tarde.",
      TEXT_PASSWORD_CONTEXTUAL_HELP:
        "Escolha, pelo menos 7 caracteres e um s\xedmbolo",
      TEXT_PASSWORD_STRENGTH_GOOD: "Senha m\xe9dia!",
      TEXT_PASSWORD_STRENGTH_GREAT: "Senha forte!",
      TEXT_PASSWORD_STRENGTH_WEAK:
        "Tente de novo. Inlcua letras, n\xfameros e s\xedmbolos na sua senha!",
      html: '<div id="sso_signup_modal"><div class="header hidden" id="signup_continue_header"><h4>Fa\xe7a o seu cadastro para continuar</h4></div><div class="content"><form id="signup_form" class="sign-up-form"><div class="fields_container"><div class="floating-label-input email"><input autocomplete="off" class="form-control" id="signup_user_email" required="required" size="30" type="text" /><label class="placeholder">E-mail</label></div><div id="email_exists_warning" class="help-block text-left warning hidden">Este e-mail j\xe1 est\xe1 em uso. Tente outro. <a class="trigger_login_link" href="#">Fazer login</a></div><div id="email_error_warning" class="help-block text-left warning hidden"></div><div class="floating-label-input password"><input autocomplete="off" class="form-control" id="signup_user_password" required="required" type="password" /><label class="placeholder">Senha</label><div class="secret-eye eye-on"></div></div><div class="meter meter-init"><b class="meter-1"></b><b class="meter-2"></b><b class="meter-3"></b><b class="meter-4"></b></div><div id="bad_password_warning" class="help-block text-left">Escolha, pelo menos 7 caracteres e um s\xedmbolo</div><div class=""><p class="help-block checkboxes text-left"><span id="promotion-notifications" style="cursor: pointer;"> <input type="checkbox"> <span class="promotion-notifications">Receba freebies, inspira\xe7\xe3o e dicas para fazer crescer a sua marca diretamente na sua caixa de entrada.</span></input></span></p></div><div class="row form-group"><div id="recaptchaContainer" class="g-recaptcha col-xs-12"></div></div><div class="" id="signup_btn_container"><button id="submit_button" class="button primary disabled" name="commit" type="submit" value="Sign Up">Cadastrar-se</button></div><div class=""><p class="help-block text-center new-policy">A Envato coleta e utiliza dados pessoais conforme a nossa <a class="strong block-link" target="_blank" href="https://envato.com/privacy/">Pol\xedtica de Privacidade</a>. Ao criar uma conta, voc\xea aceita os nossos <a class="strong block-link" target="_blank" href="https://placeit.net/terms-of-use">Termos e Condi\xe7\xf5es.</a>. </p><p class="help-block text-center">J\xe1 tem uma conta? <a href="#" class="trigger_login_link login-link" role="button">Fa\xe7a login</a></p></div><div class="envato-notice text-center"><span class="placeit-envato-logo-black"></span></div></div></form></div></div>',
    },
    SsoLoginModal: {
      TEXT_LOGIN_FAIL: "Erro ao inciar sess\xe3o",
      TEXT_ENABLE_ADMIN_MFA:
        "Os administradores devem ter a MFA habilitada, por favor habilite a MFA para autentifica\xe7\xe3o e tente novamente.",
      TEXT_INVALID_PLACEIT_CREDENTIALS:
        "Senha inv\xe1lida, verifique sua senha do Placeit",
      TEXT_AUTOLOGIN_CTA: "Entrar como {{username}}",
      TEXT_MIGRATE_ENVATO_ACCOUNT_SUCCESS:
        "Sua conta foi migrada! Voc\xea podera fazer o login usando a sua senha da Envato.",
      TEXT_LOGIN_ERROR:
        "N\xe3o foi poss\xedvel completar o seu login. Por favor tente novamente mais tarde.",
      TEXT_INVALID_CREDENTIALS:
        "Senha ou e-mail inv\xe1lidos. Voc\xea pode usar o seu e-mail da Envato para fazer login.",
      TEXT_ENVATO_PASSWORD: "Senha da sua conta Envato",
      TEXT_INVALID_TFA: "C\xf3digo TFA inv\xe1lido, confira e tente de novo.",
      TEXT_VERIFICATION_REQUIRED:
        "Parece que h\xe1 uma tentativa de login anormal. Enviamos o c\xf3digo de verifica\xe7\xe3o por e-mail. Copie e cole o c\xf3digo no campo de verifica\xe7\xf5a abaixo.",
      TEXT_WRONG_PASSWORD:
        'Senha errada! Confira que voc\xea inseriu a <strong>sua senha da Envato</strong>, n\xe3o a do Placeit. <a href="https://account.envato.com/reset_password" target="_blank">Voc\xea pode redefinir a sua senha aqui.</a>',
      html: '<div id="sso_login_modal"><div class="header hidden" id="confirm_placeit_password_header"><h4>Confirme sua conta do Placeit!</h4><p class="text-center">Coloque a sua senha para atualizar a sua conta e permitir o in\xedcio de sess\xe3o com o seu login da Envato a partir de agora.</p></div><div class="header" id="envato_account_header" hidden><h4>Conta Envato encontrada!</h4><p class="text-center">Insira a <span class="warning">sua senha da Envato (n\xe3o do Placeit)</span> compat\xedvel com o usu\xe1rio abaixo, para migrar a sua conta do Placeit e ser acess\xedvel com os seus dados da Envato.</p></div><div class="header" id="updating_account_header" hidden><h4>Atualizando a sua conta</h4><p class="text-center" style="font-size: 14px; font-family: \'SourceSansPro-Light\'; ">Mudamos a nossa Pol\xedtica de Privacidade e Termos de Uso. Estamos tamb\xe9m atualizando a sua conta para que possa entrar com a sua conta do Placeit nas propriedades da Envato. Selecione as caixas de verifica\xe7\xe3o abaixo e aceite para continuar.</p></div><div class="header hidden" id="login_continue_header"><h4>Fa\xe7a o login para continuar</h4></div><div class="content"><form id="login_form"><div class="fields_container"><div class="floating-label-input email" id="email_field_container"><input autocomplete="off" class="form-control" id="login_user_email" required="required" size="30" type="text" /><label class="placeholder">E-mail</label></div><div class="floating-label-input password" id="password_field_container"><input autocomplete="off" class="form-control" id="login_user_password" required="required" type="password" /><label class="placeholder">Senha</label><div id="password_secret_eye" class="secret-eye eye-on"></div></div><div class="floating-label-input email hidden" id="associated_email_field_container"><input autocomplete="off" class="form-control" id="associated_email" size="30" type="text" readonly/><label class="placeholder">E-mail no Placeit</label></div><div class="floating-label-input password hidden" id="placeit_password_field_container"><input autocomplete="off" class="form-control" id="user_placeit_password" type="password" /><label class="placeholder">Senha do Placeit</label><div id="placeit_password_secret_eye" class="secret-eye eye-on"></div></div><div class="floating-label-input tfa hidden" id="tfa-container"><input autocomplete="off" class="form-control" id="two_factor_code" name="two_factor_code" size="30" type="password"/><label class="placeholder">C\xf3digo da TFA</label></div><div class="floating-label-input hidden" id="signin_verification-container"><input autocomplete="off" class="form-control" id="signin_verification" name="signin_verification" size="30" type="password"/><label class="placeholder">C\xf3digo de verifica\xe7\xe3o (confira o seu e-mail)</label></div><div class="row"><div id="recaptcha_container" class="g-recaptcha col-xs-12" hidden></div></div><div id="privacy_policy_container" class="" hidden><p class="help-block text-left"><input type="checkbox" id="privacy_policy_alert"> <span class="agree" style="cursor: pointer">Concordo com a</span></input> <a href="https://envato.com/privacy/" target="_blank" role="button"> Pol\xedtica de Privacidade </a><br/><input type="checkbox" id="terms_conditions_alert"> <span class="terms_condition" style="cursor: pointer">Concordo com os</span></input> <a href="https://blog.placeit.net/terms-of-use/" target="_blank" role="button"> Termos de Uso </a></p></div><div id="migrate_account_hide"><div class="form-group text-right password-reset"><p class="help-block info-text"><a class="forgot" href="/password_resets/new" target="_blank">Esqueceu sua senha?</a></p></div><div class="row" id="login_btn_container"><div class="col-xs-12"><button class="button primary" name="commit" type="submit" value="Log in">Entrar</button></div></div><div class="row"><div class="col-xs-12"><p class="help-block text-center">N\xe3o tem uma conta? <a href="#" class="trigger_signup_link" role="button">Cadastre-se</a></p></div></div></div><div id="continue_btn" class="row" hidden><br/><div class="col-xs-12"><button class="button primary" name="commit" type="submit" value="Accept">Aceitar</button></div></div><div id="logged_in_notice" class="hidden"><div class="col-xs-12"><input id="logged_in_ok" class="button primary" name="commit" type="submit" value="Login as " /></div></div><div class="envato-notice text-center"><span class="placeit-envato-logo-black"></span></div></div></form></div></div>',
    },
    SubscriptionsPartial: {
      html: '            <div>                <div class="subscritpions-wrapper">                    <div class="label-wrapper">                        <div class="label-text"></div>                    </div>                    <div class="header">                        <div class="title"></div>                        <div class="subtitle"></div>                    </div>                    <div class="content-wrapper">                        <div class="categories"></div>                        <div class="carousel-wrapper"></div>                    </div>                    <div class="footer">                        <div class="period-wrapper">                            <div class="period-container plan-monthly">                                <div class="period-label">MENSAL<strong class="percent-discount discount"></strong></div>                                <button class="period" data-period="monthly">                                    <span class="price original-price"></span>                                    <span class="price final-price"></span>                                    <span class="price-label">/ M\xeas</span>                                </button>                            </div>                            <div class="period-container plan-annual">                                <div class="period-label">ANUAL<strong class="percent-discount discount"></strong></div>                                <button class="period" data-period="annual">                                    <span class="price original-price"></span>                                    <span class="price final-price">R$99.95</span>                                    <span class="price-label"> / Ano</span>                                    <small>Apenas <span class="annual-monthly-amount">R$8.33</span> / M\xeas, <strong class="annual-percent-discount">Economize <span class="annual-save">58</span>%</strong></small>                                </button>                            </div>                        </div>                    </div>                </div>                <div class="disclaimer">                    <div class="coupon-disclaimer"></div>                    <span><strong>Cancele a qualquer momento.</strong>  A sua assinatura inclui acesso ilimitado aos templates de Mockups, Designs, Logos & V\xeddeos.</span>                    <span class="plan-tax"></span>                </div>            </div>',
      TEXT_TITLE: "Assine o Plano Ilimitado!",
      TEXT_SUBTITLE: "Tenha acesso a todos os nossos Templates!",
      TEXT_SUBSCRIPTION_ACTIVATION_ERROR:
        "N\xe3o foi poss\xedvel ativar a sua assinatura, tente novamente mais tarde",
      TEXT_INVALID_OR_CANCELED_SUBSCRIPTION:
        "Assinatura inv\xe1lida ou cancelada",
      TEXT_ERROR_CHARGING_STORE_CARD:
        "Houve um erro no pagamento com seu cart\xe3o de cr\xe9dito cadastrado. Por favor, tente outra op\xe7\xe3o de pagamento.",
      TEXT_SUBSCRIPTION_SUCCESS: "A sua assinatura foi ativadda.",
      TEXT_TAX_MESSAGE_NOT_INCLUDED:
        "As taxas aplic\xe1veis n\xe3o est\xe3o inclusas nos valores.",
      TEXT_TAX_MESSAGE_INCLUDED:
        "{{amount}} adicional por {{taxType}}. Todos os pre\xe7os est\xe3o em BRL",
      TEXT_TAX_MESSAGE_VAT_EXEMPT:
        "Isento de IVA. Todos os pre\xe7os est\xe3o em BRL.",
      TEXT_CATEGORIES: [
        {
          id: "mockups",
          title: "Mockups",
          subtitle: "Ilimitados",
          features: [
            {
              content:
                "Voc\xea adquire os mesmos recursos que levaria se comprasse um de cada vez mas <br /> <strong>com Acesso ilimitado aos Mockups, Designs, V\xeddeos e Logos</strong>",
            },
            {
              content:
                "O maior cat\xe1logo no mundo com mais de {{mockupsStagesCount}} templates!",
            },
            {
              content:
                "Crie mockups perfeitos de forma r\xe1pida e f\xe1cil. \xc9 s\xf3 adicionar a sua imagem!",
            },
            {
              content:
                "Crie mockups para v\xeddeos incr\xedveis direto do seu navegador",
            },
          ],
        },
        {
          id: "designs",
          title: "Designs",
          subtitle: "Ilimitados",
          features: [
            {
              content:
                "Voc\xea adquire os mesmos recursos que levaria se comprasse um de cada vez mas <br /> <strong>com Acesso ilimitado aos Mockups, Designs, V\xeddeos e Logos</strong>",
            },
            {
              content:
                "Escolha o seu template entre os mais de 5,700 designs maravilhosos",
            },
            {
              content:
                "Os templates s\xe3o f\xe1ceis de editar e voc\xea cria designs profissionais!",
            },
            {
              content:
                "Fa\xe7a o download de todos os tamanhos com apenas um clique!",
            },
          ],
        },
        {
          id: "videos",
          title: "Videos",
          subtitle: "Ilimitados",
          features: [
            {
              content:
                "Voc\xea adquire os mesmos recursos que levaria se comprasse um de cada vez mas <br /> <strong>com Acesso ilimitado aos Mockups, Designs, V\xeddeos e Logos</strong>",
            },
            {
              content:
                "Centenas de templates para fazer v\xeddeos incr\xedveis",
            },
            {
              content: "Fazer um v\xeddeo nunca foi t\xe3o simples!",
            },
            {
              content:
                "S\xe3o mais de 1000 m\xfasicas para escolher gratuitamente!",
            },
            {
              content:
                "Fa\xe7a da sua apresenta\xe7\xe3o de slides algo incr\xedvel",
            },
          ],
        },
        {
          id: "logos",
          title: "Logos",
          subtitle: "Ilimitados",
          features: [
            {
              content:
                "Obtenha acesso ilimitado a <strong>Todos os nossos Templates!</strong>",
            },
            {
              content:
                "<div>Escolha entre os mais de <strong>4,600+</strong> templates para customizar a sua logo</div>",
            },
            {
              content: "Crie a logo da sua empresa em alguns cliques!",
            },
            {
              content: "Baixe o seu logo vetorizado em arquivo PDF",
            },
          ],
        },
      ],
    },
    Purchases: {
      html: '            <div class="purchases" id="downloadOverlay" tabindex="-1" >                <div id="subscription-paused" style="display:none">                    <span class="info-close">                         <span>\xd7</span>                     </span>                     <p class="pause-title ">A sua assinatura foi interrompida</p>                    <p class="pause-note ">Ser\xe1 reativada automaticamente em {{pause_date}}</p>                    <p class="pause-note ">Se voc\xea precisar ativar hoje, entre em <a href="mailto:hi@placeit.net" target="_blank">contato conosco</a></p>                </div>                <div id="subscription-past-due" style="display:none">                    <span class="info-close">                         <span>\xd7</span>                     </span>                     <p class="pause-title ">A sua conta est\xe1 vencida</p>                    <p class="pause-note ">N\xe3o ser\xe1 poss\xedvel fazer downloads gratuitos at\xe9 recebermos a atualiza\xe7\xe3o do seu pagamento.                     <a href="#" class="handle-fix-cta">Clique para atualizar</a></p>                </div>                <div class="purchases-content">                    <div class="purchases-header">                        <div class="purchase-header__discount-label">                             <span class="purchase-header__discount-amount">30% OFF</span>                         </div>                         <h5 class="purchase-header__title">1. Compre um \xfanico <span class="purchases__category-name"></span></h5>                        <h2 class="purchase-header__subtitle">Escolha apenas este <span class="purchases__category-name"></span></h2>                     </div>                    <div class="purchases-body">                        <div class="tab-content download-tabs__content">                        <div class="tab-pane active" id="normalDownload">                            <form class="form purchase-options-form" role="form" id="normalDownload">                            <div class="resolutions-container">                             <div class="row download-overlay__image-size resolution-options is_video_product">                                <div class="purchases__video-wrapper purchases__video-wrapper--paused">                                     <div class="purchases__video-play-button"></div>                                     <video muted playsinline></video>                                 </div>                             </div>                            <div class="row download-overlay__image-size resolution-options is_smart_template">                            </div>                            <p class="purchase-body__content-description">                                 <strong>{{res_watermarked}}</strong>, Alta resolu\xe7\xe3o {{res_title}} (<span class="res_dimensions"></span>).<br />Para uso comercial!                             </p>                             </div>                             <div class="button-container">                                <button class="button button--not-subscribed primary long purchase-price" type="submit">                                <span class="price-description">Compre <span class="only-highlight-underline">APENAS</span> Este <span class="purchases__category-name"></span> por                                     <span class="purchase-header__price purchase-header__price--original"></span>                                     <span class="purchase-header__price purchase-header__price--quantity"></span>                                 </span>                                <span class="price-free">                                </span>                                </button>                            </div>                            <p class="purchases__low-res-download">Ou <a>Obtenha o v\xeddeo gr\xe1tis com baixa resolu\xe7\xe3o e marca d\u2019\xe1gua.</a></p>                             </form>                        </div>                        <div class="coupon-field-container"></div>                        </div>                    </div>                </div>                <div class="widget-outer">                    <div class="disclaimer-wrapper">                        As taxas aplic\xe1veis n\xe3o est\xe3o inclusas nos valores.                    </div>                </div>            </div>',
      resItemTemplate:
        '            <div class="download-overlay__image-size-item">                <label>                    <input data-allowed-licenses="{{allowed_licenses}}" data-key="{{res_key}}" id="{{radio_id}}" name="resolution" type="radio" value="{{res_id}}" />                    <p class="overlay--radio-title">{{res_title}}</p>                    <p class="overlay--radio-desc res_dimensions">{{res_dimensions}}</p><br>                    <p class="overlay--radio-desc">{{res_watermarked}}</p>                    <p class="overlay--radio-desc ios_screenshot__purchase_disclaimer" style="display:none;">Quando voc\xea faz o upload das suas capturas de tela, a Apple oferece redimensionar as imagens de forma autom\xe1tica, para ajust\xe1-las ao tamanho da tela.</p>                    <b class="resolution-license-link-placeholder"></b>                </label>            </div>',
      taxAmountText:
        "{{amount}} adicional por {{taxType}}. Todos os pre\xe7os est\xe3o em BRL",
      TEXT_VAT_EXEMPT_MESSAGE:
        "Isento de IVA. Todos os pre\xe7os est\xe3o em BRL.",
      TEXT_FREE_DOWNLOAD_TITLE: "Fa\xe7a o Download gr\xe1tis",
      TEXT_DOWNLOAD_NOW: "Fa\xe7a o Download agora",
      TEXT_FREE_DOWNLOAD_CATEGORY_TITLE:
        'Fa\xe7a o Download gr\xe1tis <span class="purchases__category-name"></span>',
      TEXT_DOWNLOAD_CATEGORY_TITLE: "RECEBA A SUA {{categoryName}}!",
      TEXT_DISCOUNT_LABEL: "{{discount}} de desconto",
      TEXT_PAID_DOWNLOAD_CATEGORY_TITLE:
        '1. Compre um \xfanico <span class="purchases__category-name"></span>',
      TEXT_DISCLAIMER_DEFAULT:
        "As taxas aplic\xe1veis n\xe3o est\xe3o inclusas nos valores.",
      TEXT_PAID_DOWNLOAD_CATEGORY_SUBTITLE:
        'Escolha apenas este <span class="purchases__category-name"></span>',
    },
    PurchaseOverlay: {
      html: '            <div class="modal purchase-overlay fade" id="purchaseOverlay" tabindex="-1" role="dialog" aria-labelledby="purchaseOverlayLabel" aria-hidden="true">            <button type="button" class="close m-close" data-dismiss="modal" aria-hidden="true">                <span aria-hidden="true">\xd7</span>            </button>            <div class="modal-dialog">                <div class="server_errors none"></div>                <div class="modal-content">                <div class="modal-body">                    <div class="text-center modal-spinner" style="opacity:0.5;margin-top: 60px;">                    <img src="./assets/fade-spinner.gif">                    </div>                    <div class="form-container">                    <form class="recurly">                        <div class="subscription-info" style="display: none;">                        </div>                        <div class="payment_method multiple">                        <p class="payment_text">Selecione a forma de pagamento</p>                        <div class="payment_option card_option selected">                            <input type="radio" name="payment_method" checked>                            <label></label>                            <div class="accepted_cards"><div class="card visa">Visa</div>                            <div class="card mastercard">MasterCard</div>                            <div class="card discover">Discover</div>                            <div class="card american_express">American Express</div>                            </div>                        </div>                        </div>                        <div class="form-widget-container"></div>                        <div class="paypal" style="display: none;">                            <div class="paypal_message">                            Voc\xea ser\xe1 redirecionado para o sistema do PayPal para autentica\xe7\xe3o e autoriza\xe7\xe3o do pagamento.<br><br>Pagamentos realizados com conta do PayPal de endere\xe7o registrado nos Estados Unidos ou na  Austr\xe1lia est\xe3o sujeitos \xe0s taxas correspondentes.<br><br><strong>\xc9 necess\xe1rio desbloquear pop-ups.</strong>                            </div>                        </div>                        <div class="footer">                        <button id="credit_card" type="submit" class="button primary">                            <span> Realizar pagamento </span>                        </button>                        <button id="paypal" style="display: none;" type="button" class="button primary">                            <span> Realizar pagamento com PayPal </span>                        </button>                        </div>                    </form>                    </div>                    <div class="information-container">                        <p class="information-title">                        Resumo do pedido                        <span class="view-order-details">view order details</span>                        <span class="view-order-details opened">hide order details</span>                        </p>                        <div class="information-general-info">                            <p class="information-title"></p>                            <p class="information-title subtitle"></p>                        </div>                        <div class="subscriptionp-type-selector">                            <div class="plan-monthly">                                <input type="radio" name="plan-monthly">                                <label></label>                                Mensal                            </div>                            <div class="plan-annual">                                <input type="radio" name="plan-annual">                                <label></label>                                Anual (Voc\xea economiza <span class="annual-save">58</span>%)                            </div>                        </div>                        <hr>                        <div class="information-amount-info">                            <div class="amount price-section">                                <p class="amount-text"></p>                                <p class="amount-price"></p>                            </div>                            <div class="amount discount-section">                                <p class="amount-text"></p>                                <p class="amount-price"></p>                            </div>                            <hr>                            <div class="amount subtotal-section">                                <p class="amount-text">Subtotal</p>                                <p class="amount-price">0</p>                            </div>                            <div class="amount vat-section">                                <p class="amount-text"></p>                                <p class="amount-price"></p>                            </div>                            <div class="amount total-section">                                <p class="amount-text total"></p>                                <p class="amount-price"></p>                            </div>                        </div>                        <div class="resume-info">                        </div>                    </div>                </div>                </div>            </div>            </div>        ',
      PURCHASE: {
        PRICE_LABEL: "Valor",
        TOTAL_LABEL: "Total",
      },
      SUBSCRIPTION: {
        TITLE: "Plano Ilimitado",
        SUBTITLE:
          "Essa assinatura inclui o acesso a downloads ilimitados de templates de mockup, design, logo e v\xeddeo.",
        PRICE_LABEL_ANNUALY: "Anual",
        PRICE_LABEL_MONTHLY: "Mensal",
        TOTAL_LABEL: "Total Mensal",
        TOTAL_ANNUAL_LABEL: "Total Anual",
        TOTAL_WITH_MONTH: "(Primeiro{{period}} m\xeas)",
        RESUME_RENEW_TEXT: "Sua assinatura ser\xe1 renovada automaticamente. ",
        RESUME_RENEW_TEXT_ANNUAL:
          "Sua assinatura ser\xe1 renovada automaticamente. ",
        RESUME_CANCEL_TEXT: "Voc\xea pode cancelar a qualquer momento.",
        RESUME_DISCOUNT_TEXT:
          "Desconto efetuado no seu primeiro {{period}} m\xeas.",
        RESUME_BILLING_TEXT:
          "Ser\xe1 cobrado R${{amount}} a partir de {{date}}.",
        FORM_BUTTON_LABEL: "Assinar Plano",
        PAYPAL_BUTTON_LABEL: "Realizar pagamento com PayPal",
      },
      DISCOUNT_LABEL: "Desconto de -{{discount}}",
      VAT_LABEL: "IVA: {{vat}}%",
      RESUME_USD_TEXT: "Todos os valores est\xe3o em BRL.",
      TEXT_SERVER_PAUSED_MESSAGE:
        ' Entre em <a href="mailto:hi@placeit.net">contato conosco</a> para reativar a sua assinatura',
      BILLING_VAT_TEXT: "(R${{totalAmount}} Assinatura + R${{vatAmount}} IVA)",
    },
    BillingForm: {
      html: '<div class="widget billing-form">            <form class="recurly billing_form">            <div class="contact_info">                <div class="title">Contato para faturamento</div>                <div class="floating-label-input name">                <label class="">Nome<i class="field-dot-required">*</i></label>                <input id="recurly-first-name" data-recurly="first_name" required>                </div>                <div class="floating-label-input last-name">                <label class="">Sobrenome<i class="field-dot-required">*</i></label>                <input id="recurly-last-name" data-recurly="last_name" required>                </div>                <div class="floating-label-input business-name">                <label class="">Nome da empresa</label>                <input id="recurly-company" data-recurly="company">                </div>                <div class="floating-label-input email">                <label class="">E-mail</label>                <input type="email" class="form-control" id="recurly-email" required>                </div>            </div>            <div class="billing_info">                <div class="title">Informa\xe7\xe3o sobre faturamento </div>                <div class="floating-label-input card-number">                    <label class="">N\xfamero do cart\xe3o<i class="field-dot-required">*</i></label>                    <div id="recurly-number" class="card_number" data-recurly="number"></div>                </div>                <div class="floating-label-input month">                    <label class="">M\xeas de validade<i class="field-dot-required">*</i></label>                    <div id="recurly-month" data-recurly="month"></div>                </div>                <div class="floating-label-input year">                    <label class="">Ano de validade<i class="field-dot-required">*</i></label>                    <div id="recurly-year" data-recurly="year"></div>                </div>                <div class="floating-label-input cvv">                    <label class="">C\xf3digo de seguran\xe7a<i class="field-dot-required">*</i></label>                    <div id="recurly-cvv" class="card_number" data-recurly="cvv"></div>                </div>                <div class="floating-label-input country brazil-country">                    <label class="">Pa\xeds</label>                    <input class="recurly-country" autocomplete="nope">                    <input type="hidden" class="recurly-country_code" data-recurly="country" />                </div>                <div class="floating-label-input zip">                    <label class="">CEP<i class="field-dot-required">*</i></label>                    <input id="recurly-postal-code" data-recurly="postal_code">                </div>                <div class="floating-label-input vat">                    <label>Numero de IVA (opcional)</label>                    <input id="recurly-vat-number" data-recurly="vat_number" maxlength="20">                </div>            </form>            </div>',
      TEXT_FIELD_ERROR: "Erro",
      TEXT_FIELD_REQUIRED: "Exigido",
    },
    LogoPurchaseModal: {
      IMAGE_YOUR_BRAND_PATH: "./assets/your-brand-pt.svg",
      html: '            <div class="purchases logo-purchases" id="downloadOverlay" tabindex="-1" >                <div class="purchases-content">                    <div class="purchases-header">                        <div class="purchase-header__discount-label">                             <span class="purchase-header__discount-amount">30% OFF</span>                         </div>                         <h5 class="purchase-header__title">1. Compre um \xfanico Logo </h5>                        <h2 class="purchase-header__subtitle">Escolha apenas este Logo</h2>                     </div>                    <div class="purchases-body">                        <div class="tab-content download-tabs__content">                            <div class="tab-pane active" id="normalDownload">                                <form class="form purchase-options-form" role="form" id="normalDownload">                                    <div class="resolutions-container">                                         <div class="row download-overlay__image-size resolution-options is_smart_template">                                        </div>                                        <p class="purchase-body__content-description">                                             <strong>Sem marca d\u2019\xe1gua</strong>, Alta resolu\xe7\xe3o PNG (4000x4800px).<br />Para uso comercial!                                         </p>                                     </div>                                     <div class="button-container">                                        <button class="button button--not-subscribed primary long purchase-price" type="submit">                                            <span class="price-description">Compre APENAS Este Logo por                                                 <span class="purchase-header__price purchase-header__price--original"></span>                                                 <span class="purchase-header__price purchase-header__price--quantity"></span>                                             </span>                                        </button>                                    </div>                                </form>                            </div>                            <div class="coupon-field-container"></div>                        </div>                    </div>                </div>                <div class="widget-outer">                    <div class="disclaimer-wrapper">                        As taxas aplic\xe1veis n\xe3o est\xe3o inclusas nos valores.                    </div>                </div>            </div>',
    },
    PayPalModal: {
      html: '            <div class="modal paypal-modal fade" id="paypalModal" data-keyboard="false" role="dialog" aria-labelledby="modal-title" aria-hidden="true">                <div class="modal-dialog">                    <div class="modal-content">                        <div class="modal-header grayed">                            <h4 id="modal-title">Por favor aguarde...</h4>                        </div>                        <div class="modal-body">                            <div class="text-center content">                            <h3> Completar pagamento no PayPal </h3>                            <p> N\xe3o <b><u>not</b></u> fechar esta janela. Se der algum erro, <a id="retry"> clique aqui para reiniciar o processo </a>. </p>                            </div>                            <div class="text-center spinner">                            <img src="./assets/paypal_loader.gif">                            </div>                        </div>                    </div>                </div>            </div>',
    },
    SinglePurchasesModal: {
      html: '            <div class="modal single-purchase-overlay" tabindex="-1" role="dialog" aria-labelledby="downloadOverlayLabel" aria-hidden="true">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">                    <span aria-hidden="true">\xd7</span>                </button>                <div class="animation-info">2 Op\xe7\xf5es de Compra!</div>                 <div class="modal-dialog">                    <div class="modal-content">                        <div class="modal-body">                            <div class="area1" data-area="left"></div>                            <div class="or-div">OU</div>                            <div class="area2" data-area="right"></div>                        </div>                    </div>                </div>            </div>',
      TEXT_SUBSCRIPTIONS_PARTIAL_TITLE: "2. Assine o Plano Ilimitado!",
    },
    PricingButton: {
      TEXT_PRICING: "Pre\xe7os",
      TEXT_UPGRADE_ANNUAL: "Economize {{annualDiscountPercentage}}%",
    },
    GoAnnualModal: {
      html: '            <div class="modal" tabindex="-1" role="dialog" aria-hidden="true">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">                    <span aria-hidden="true">\xd7</span>                </button>                <div class="modal-dialog">                    <div class="modal-content">                    <div class="modal-body">                        <svg class="subscription-icon" xmlns="http://www.w3.org/2000/svg" width="29" height="26" fill="none"><g filter="url(#filter0_d)"><path fill="url(#paint0_linear)" d="M5.3 21.3c0-.5.5-1 1-1h16.4c.5 0 1 .5 1 1v1.4c0 .5-.5 1-1 1H6.3a1 1 0 01-1-1v-1.4z"/><path fill="url(#paint1_linear)" d="M26.5 6.6a1.2 1.2 0 00-1.3 0l-5.7 3.8-4-7.8a1.1 1.1 0 00-1-.6 1.1 1.1 0 00-1 .6l-4 7.8-5.7-3.8a1.2 1.2 0 00-1.3 0l-.4.5v.7l2.2 10c0 .2.2.5.4.6.2.2.5.3.7.3h18.2c.2 0 .5-.1.7-.3.2-.1.3-.4.4-.6l2.3-10a1.1 1.1 0 00-.5-1.2z"/></g><defs><linearGradient id="paint0_linear" x1="5.3" x2="23.7" y1="22" y2="22" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><linearGradient id="paint1_linear" x1="2" x2="27" y1="10.3" y2="10.3" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><filter id="filter0_d" width="29" height="25.7" x="0" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>                        <span class="modal-title">Fa\xe7a upgrade</span>                        <span class="savings-title">Economize <span class="savings"></span>%!</span>                        <span class="pricing"><span class="annual-price"></span>/Ano (Apenas <span class="annual-price-month"></span>/M\xeas)</span>                        <span class="message">Voc\xea agora paga <span class="monthly-price"></span>/M\xeas</span>                        <button id="goAnnual">Assine o Plano Anual!</button>                        <span class="footnote">Os cup\xf5es n\xe3o s\xe3o transfer\xedveis.<br>Todos os cup\xf5es ser\xe3o cancelados ap\xf3s a mudan\xe7a para o novo plano.</span>                    </div>                    </div>                </div>            </div>',
    },
    SubscriptionPlanChangeModal: {
      html: '            <div class="modal subscription-plan-change-modal" tabindex="-1" role="dialog" aria-labelledby="downloadOverlayLabel" aria-hidden="true">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">                    <span aria-hidden="true">\xd7</span>                </button>                <div class="modal-dialog">                    <div class="modal-content">                    <div class="modal-body">                        <div class="plans-switch">                        <h1>Change your plan</h1>                        <p class="subtitle">Our Plans include unlimited downloads on mockups, designs, logos, and videos.</p>                        <ul class="plan-list">                            <li class="disabled" data-plan="monthly"><p>Monthly <br> <span id="cp-monthly-price"></span></p></li>                            <li class="disabled" data-plan="annual"><p>Yearly <br> <span id="cp-annual-price"></span><br><span>You save <span id="cp-annual-save"></span>%!</span></p></li>                        </ul>                        <button class="button primary change_plan btn-block">Change Plan</button>                        <p class="selected-plan-billing-info"></p>                        <p class="coupon-info">Coupons are non-transferable, any existing coupons will be cancelled after changing to a new plan.</p>                        </div>                        <div class="plans-confirmation">                        <p class="confirmation-text">Voc\xea est\xe1 prestes a mudar para um <br><strong>Plano de Assinatura <span class="plan-label"></span></strong>, Continuar?</p>                        <button type="button" class="button secondary change-plan-cancel" data-dismiss="modal">Cancelar</button>                        <button type="button" class="button primary confirm-change-plan">Sim, continuar</button>                        </div>                    </div>                    </div>                </div>            </div>',
      BILLING_INFO: {
        annualLabel: "Anual",
        monthlyLabel: "Mensal",
      },
    },
    CelebrationModal: {
      TEXTS: {
        monthly: {
          title: "Parab\xe9ns!",
          subtitle: "Agora voc\xea \xe9 assinante!",
          footnote:
            '<span><b>Economize <span class="savings"></span>%</b> com a nossa assinatura anual!<button id="goAnnual" class="btn">Assine o Plano Anual!</button></span>',
        },
        annual: {
          title: "Parab\xe9ns!",
          subtitle: "Agora voc\xea \xe9 assinante anual!",
          footnote:
            '<span class="small">Se preferir voltar \xe0 sua assinatura mensal,<br> v\xe1 para a p\xe1gina da sua conta.</span>',
        },
      },
    },
    EnvatoUsername: {
      USERTYPE_LABELS: {
        unlimited:
          '<svg><use xlink:href="#subscription_icon"></use></svg><span class="subscribed">Acesso ilimitado</span>',
      },
    },
    CTABlockSection: {
      TEXT_TAX_MESSAGE_NOT_INCLUDED:
        "As taxas aplic\xe1veis n\xe3o est\xe3o inclusas nos valores.",
      TEXT_TAX_MESSAGE_INCLUDED:
        "{{amount}} adicional por {{taxType}}. Todos os pre\xe7os est\xe3o em BRL",
      TEXT_TAX_MESSAGE_VAT_EXEMPT:
        "Isento de IVA. Todos os pre\xe7os est\xe3o em BRL.",
    },
  }),
  (Widget.prototype.initOriginal = Widget.prototype.init),
  (Widget.prototype.init = function (e) {
    "function" == typeof this._translate && this._translate(),
      Widget.prototype.initOriginal.call(this, e);
  }),
  Module("Translator")({
    ALLOWED_LOCALE: "BR",
    prototype: {
      _translate: function () {
        var e, t, n;
        (e = this),
          (t = window.TRANSLATIONS[e.constructor.className]),
          (n = window._pl_locale),
          "undefined" !== t &&
            n === e.constructor.ALLOWED_LOCALE &&
            (console.log("Translate: " + e.constructor.className),
            $.extend(!0, e.constructor, t));
      },
    },
  }),
  Module("ThemeSupport")({
    themeStrategy: {
      free: "setFreeTheme",
      paid: "setPaidTheme",
      admin: "setAdminTheme",
      subscribed: "setSubscribedTheme",
    },
    FREE: "free",
    PAID: "paid",
    ADMIN: "admin",
    SUBSCRIBED: "subscribed",
    prototype: {
      setTheme: function (e) {
        var t = ThemeSupport.themeStrategy[e];
        if (void 0 === t) throw new Error(e + " is not a valid theme");
        this[t]();
      },
      setFreeTheme: function () {
        Helpers.GlobalEventTracker.noticeError(
          "Theme method called but not implemented in class",
          {
            theme: "Free",
            class: this.constructor.className,
          }
        );
      },
      setPaidTheme: function () {
        Helpers.GlobalEventTracker.noticeError(
          "Theme method called but not implemented in class",
          {
            theme: "Paid",
            class: this.constructor.className,
          }
        );
      },
      setAdminTheme: function () {
        Helpers.GlobalEventTracker.noticeError(
          "Theme method called but not implemented in class",
          {
            theme: "Admin",
            class: this.constructor.className,
          }
        );
      },
      setSubscribedTheme: function () {
        Helpers.GlobalEventTracker.noticeError(
          "Theme method called but not implemented in class",
          {
            theme: "Subscribed",
            class: this.constructor.className,
          }
        );
      },
    },
  }),
  (window.performance = window.performance || {}),
  (performance.now = (function () {
    return (
      performance.now ||
      performance.mozNow ||
      performance.msNow ||
      performance.oNow ||
      performance.webkitNow ||
      function () {
        return new Date().getTime();
      }
    );
  })()),
  (Li = {
    Engine: {
      before: [],
      error: [],
      after: [],
    },
    stack: [],
    events: [],
    network: [],
    previousError: [],
    performance: [],
    nest: 0,
  }),
  Class(
    Li,
    "ObjectSpy"
  )({
    prototype: {
      spies: null,
      init: function () {
        this.spies = [];
      },
      spy: function (e, t) {
        (t = t || {}),
          Object.getOwnPropertyNames(e).forEach(function (n) {
            var i;
            try {
              if ("function" != typeof e[n]) return !1;
            } catch (r) {
              return !1;
            }
            (t.except && t.except.indexOf(n) > -1) ||
              ((i = new Li.Spy()), i.on(e).method(n), this.spies.push(i));
          }, this);
      },
      destroy: function () {
        this.spies.forEach(function (e) {
          e.removeSpy();
        }),
          (this.spies = null);
      },
    },
  }),
  Class(
    Li,
    "Spy"
  )({
    prototype: {
      targetObject: null,
      methodName: null,
      spyMethod: null,
      originalMethod: null,
      objectHasMethod: null,
      called: null,
      init: function (e) {
        (e = e || {}),
          (this.called = []),
          (this.targetObject = e.targetObject),
          (this.methodName = e.methodName);
      },
      applySpy: function () {
        var e;
        return (
          (e = this),
          (this.objectHasMethod =
            this.targetObject.hasOwnProperty(this.methodName) === !1 ? !1 : !0),
          (this.originalMethod = this.targetObject[this.methodName]),
          (this.targetObject[this.methodName] = function () {
            var t, n, i, r, s, o, a, l, c, u;
            for (
              i = this,
                t = Array.prototype.slice.call(arguments, 0, arguments.length),
                r = Li.Engine.before,
                s = Li.Engine.error,
                o = Li.Engine.after,
                this === e && (i = e.targetObject),
                a = 0;
              a < r.length;
              a++
            )
              r[a]({
                scope: i,
                args: t,
                spy: e,
              });
            try {
              (l = performance.now()),
                (n = e.originalMethod.apply(i, t)),
                (c = performance.now());
            } catch (d) {
              if (!(s.length > 0)) throw d;
              for (a = 0; a < s.length; a++)
                s[a]({
                  scope: i,
                  args: t,
                  spy: e,
                  error: d,
                });
            } finally {
              for (c && (u = c - l), a = 0; a < o.length; a++)
                o[a]({
                  scope: i,
                  args: t,
                  spy: e,
                  time: u,
                });
              return n;
            }
          }),
          (this.targetObject[this.methodName].__isSpy = !0),
          (this.targetObject[this.methodName].__spy = this.spy),
          Object.getOwnPropertyNames(this.originalMethod).forEach(function (t) {
            e.targetObject[e.methodName][t] = e.originalMethod[t];
          }),
          this
        );
      },
      removeSpy: function () {
        return (
          this.objectHasMethod === !0
            ? (this.targetObject[this.methodName] = this.originalMethod)
            : delete this.targetObject[this.methodName],
          this
        );
      },
      on: function (e) {
        return (this.targetObject = e), this;
      },
      method: function (e) {
        return (this.methodName = e), this.applySpy(), this;
      },
    },
  }),
  Li.Engine.before.push(function (e) {
    var t;
    try {
      t = window.parent.Li ? window.parent : window;
    } catch (n) {
      t = window;
    }
    t.Li.performance.push({
      message:
        "executing: " +
        (e.spy.targetObject.className || e.scope.constructor.className) +
        "." +
        e.spy.methodName,
      nesting: t.Li.nest,
      startTime: t.performance.now(),
    }),
      t.Li.nest++;
  }),
  Li.Engine.error.push(function (e) {
    var t;
    try {
      t = window.parent.Li ? window.parent : window;
    } catch (n) {
      t = window;
    }
    t.Li.nest--,
      console.error(
        "error detected: " +
          (e.spy.targetObject.className || e.scope.constructor.className) +
          "." +
          e.spy.methodName
      ),
      console.error(e.error.message),
      console.error(e.error.stack);
  }),
  Li.Engine.after.push(function (e) {
    var t;
    try {
      t = window.parent.Li ? window.parent : window;
    } catch (n) {
      t = window;
    }
    t.Li.nest--,
      t.Li.performance.push({
        message:
          "executed: " +
          (e.spy.targetObject.className || e.scope.constructor.className) +
          "." +
          e.spy.methodName,
        time: e.time,
        nesting: t.Li.nest,
      });
  }),
  (window.enableLi =
    ("production" === window.environment || "staging" === window.environment) &&
    "getOwnPropertyNames" in Object
      ? !0
      : !1),
  (function (e) {
    var t, n;
    if ("function" == typeof require) {
      var i = require("neon");
      (t = i.Module), (n = i.Class);
      var r = require("microtime");
    } else (t = e.Module), (n = e.Class);
    var s = {};
    t(s, "Logger")({}),
      t(s, "Formatter")({}),
      "function" == typeof require &&
        ((s.Formatter.Token = require("./formatters/token.js").Token),
        (s.Logger.JsConsole = require("./loggers/console.js").JsConsole),
        (s.Logger.Socket = require("./loggers/socket.js").Socket)),
      (s.now = function () {
        return "undefined" != typeof performance && performance.timing
          ? performance.timing.navigationStart + performance.now()
          : "undefined" != typeof r
          ? 1e3 * r.nowDouble()
          : Date.now();
      }),
      (s.stringify = function (e) {
        var t,
          n = [];
        return (
          (t = JSON.stringify(e, function (e, t) {
            if ("object" == typeof t && null !== t) {
              if (-1 !== n.indexOf(t)) return "[Circular]";
              n.push(t);
            }
            return t;
          })),
          (n = null),
          t
        );
      }),
      (s.Console = n(
        s,
        "Console"
      )({
        prototype: {
          from: "Generic Cobalt Logger",
          version: "0.1.0",
          currentIndent: 0,
          indentSize: 2,
          loggers: [],
          separatorLength: 120,
          currentColor: "black",
          init: function (e) {
            var t,
              n = this;
            if (e) for (t in e) n[t] = e[t];
          },
          addLogger: function (e) {
            this.loggers.push(e);
          },
          removeLogger: function (e) {
            var t;
            (t = this.loggers.indexOf(e)), this.loggers.splice(t, 1);
          },
          buildLog: function (e, t) {
            var n = this,
              i = {};
            return "undefined" != typeof e && null !== e && e._cobaltLog
              ? e
              : ((i.message = e),
                (i._cobaltLog = !0),
                (i._from = n.from),
                (i._level = t || 6),
                (i._levelString = n._levelString(i._level)),
                (i._version = n.version),
                (i._timestamp = n.now()),
                (i._indentLevel = n.currentIndent),
                (i._color = n.currentColor),
                (i._separator = !1),
                i);
          },
          extendLog: function (e) {
            var t,
              n,
              i = this;
            (t = i.buildLog(void 0, 6)), (e = e || {});
            for (n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
            return t;
          },
          buildSeparator: function (e) {
            var t = this;
            return {
              _cobaltLog: !0,
              _separator: !0,
              _version: t.version,
              _timestamp: t.now(),
              _separatorType: e,
              _indentLevel: t.currentIndent,
              _color: t.currentColor,
            };
          },
          _log: function (e) {
            var t,
              n,
              i = this,
              r = [];
            for (t = 1; t < arguments.length; t++)
              r.push(
                "undefined" == typeof arguments[t]
                  ? i.buildLog("undefined", e)
                  : i.buildLog(arguments[t], e)
              );
            for (n = 0; n < i.loggers.length; n++)
              i.loggers[n].log.apply(i.loggers[n], r);
          },
          log: function () {
            this._log.apply(
              this,
              [6].concat(Array.prototype.slice.call(arguments))
            );
          },
          debug: function () {
            this._log.apply(
              this,
              [7].concat(Array.prototype.slice.call(arguments))
            );
          },
          info: function () {
            this._log.apply(
              this,
              [6].concat(Array.prototype.slice.call(arguments))
            );
          },
          notice: function () {
            this._log.apply(
              this,
              [5].concat(Array.prototype.slice.call(arguments))
            );
          },
          warn: function () {
            this._log.apply(
              this,
              [4].concat(Array.prototype.slice.call(arguments))
            );
          },
          error: function () {
            this._log.apply(
              this,
              [3].concat(Array.prototype.slice.call(arguments))
            );
          },
          dir: function () {},
          time: function () {},
          timeEnd: function () {},
          groupCollapsed: function () {},
          groupEnd: function () {},
          separator: function (e) {
            var t = this;
            t._log(7, t.buildSeparator(e));
          },
          space: function (e) {
            var t,
              n = this;
            for ("undefined" == typeof e && (e = 1), t = 0; e > t; t++)
              n.log(" ");
            return n;
          },
          indent: function (e) {
            var t = this;
            return (
              "function" == typeof e
                ? ((t.currentIndent = t.currentIndent + t.indentSize),
                  e(),
                  (t.currentIndent = t.currentIndent - t.indentSize))
                : (t.currentIndent = t.currentIndent + t.indentSize),
              t
            );
          },
          outdent: function (e) {
            var t = this;
            return (
              "function" == typeof e
                ? ((t.currentIndent = t.currentIndent - t.indentSize),
                  t.currentIndent < 0 && (t.currentIndent = 0),
                  e(),
                  (t.currentIndent = t.currentIndent + t.indentSize))
                : ((t.currentIndent = t.currentIndent - t.indentSize),
                  t.currentIndent < 0 && (t.currentIndent = 0)),
              t
            );
          },
          color: function (e, t) {
            var n = this,
              i = n.currentColor;
            return (
              "function" == typeof t
                ? ((n.currentColor = e), t(), (n.currentColor = i))
                : (n.currentColor = e),
              n
            );
          },
          now: function () {
            return "undefined" != typeof performance && performance.timing
              ? performance.timing.navigationStart + performance.now()
              : "undefined" != typeof r
              ? 1e3 * r.nowDouble()
              : Date.now();
          },
          _levelString: function (e) {
            switch (e) {
              case 0:
                return "PANIC";
              case 1:
                return "ALERT";
              case 2:
                return "CRIT";
              case 3:
                return "ERROR";
              case 4:
                return "WARN";
              case 5:
                return "NOTICE";
              case 6:
                return "INFO";
              case 7:
                return "DEBUG";
            }
          },
        },
      })),
      s.Console.__objectSpy && s.Console.__objectSpy.destroy(),
      "function" == typeof require
        ? ((e.Formatter = s.Formatter),
          (e.Logger = s.Logger),
          (e.Console = s.Console),
          (e.now = s.now),
          (e.stringify = s.stringify))
        : (e.Cobalt = s);
  })(
    "undefined" != typeof window
      ? window
      : "undefined" != typeof module.exports
      ? module.exports
      : self
  ),
  Class("EMPEngine")({
    prototype: {
      cobaltInstance: null,
      lithium: null,
      init: function (e) {
        var t,
          n = this;
        if (e) for (t in e) n[t] = e[t];
      },
      _engine: function (e) {
        var t,
          n,
          i,
          r = this,
          s = {
            error: e.error.message,
            frame: "N/A",
            url: window.location.href,
            line: e.error.lineNumber,
            site_id: window._pl_userInfo.id,
            user_agent: window.navigator.userAgent,
            scoped_class_name:
              e.scope.constructor.className || e.scope.className,
          };
        (i = {
          fileName: e.error.fileName,
          lineNumber: e.error.lineNumber,
          columnNumber: e.error.columnNumber,
          message: e.error.message,
          stack: e.error.stack && e.error.stack.split(/\n/),
        }),
          (t = e.args.map(function (e) {
            return {
              type: typeof e,
              value:
                "string" == typeof e || "number" == typeof e ? e : String(e),
            };
          })),
          (n = {}),
          Object.keys(e.scope).forEach(function (t) {
            n[t] =
              "string" == typeof e.scope[t] || "number" == typeof e.scope[t]
                ? e.scope[t]
                : String(e.scope[t]);
          }),
          (s.meta = {
            userIp: window.userIp,
            sessionId: window.placeitTrackerId,
            previousError: r.lithium.previousError,
            errorObj: i,
            argumentsObj: t,
            scopeObj: n,
            frameName: "N/A",
            className:
              e.spy.targetObject.constructor.className ||
              e.spy.targetObject.className,
            scopedClassName: e.scope.constructor.className || e.scope.className,
            methodName: e.spy.methodName,
            originalMethod: e.spy.originalMethod.toString(),
            targetObject: e.spy.targetObject,
            objectHasMethod: e.spy.objectHasMethod,
            events: r.lithium.events,
            nitrogen: !0,
            isPublished:
              (window._stageData &&
                window._stageData.stage_data &&
                window._stageData.stage_data.is_published) ||
              0,
          }),
          r.lithium.previousError.push(i.message),
          r.lithium.previousError.length > 10 &&
            r.lithium.previousError.shift(),
          r.cobaltInstance.error({
            error: s,
            __skipConsole: !0,
          });
      },
    },
  }),
  EMPEngine.__objectSpy && EMPEngine.__objectSpy.destroy(),
  Li.Engine.error.push(empLoader),
  (window.onerror = function (e, t, n, i, r) {
    "undefined" == typeof empLogger &&
      (empLogger = new Cobalt.Console({
        from: "Public Page",
        loggers: [new Cobalt.Logger.EMPLogger()],
      })),
      empLogger.log({
        error: {
          error: e,
          url: t || window.location.href,
          line: n,
          column: i,
          site_id: window._pl_userInfo.id,
          user_agent: window.navigator.userAgent,
          frame: "Placeit",
          meta: {
            history: window.Li.stack,
            errorObj: r,
            userIp: window.userIp,
            sessionId: window.placeitTrackerId,
            trackerId: window.placeitTrackerId,
            isPublished:
              (window._stageData &&
                window._stageData.stage_data &&
                window._stageData.stage_data.is_published) ||
              0,
          },
        },
      });
  }),
  Class(
    Cobalt.Logger,
    "EMPLogger"
  )({
    prototype: {
      _prevEvent: {},
      init: function (e) {
        var t,
          n = this;
        if (e) for (t in e) n[t] = e[t];
      },
      log: function (e) {
        e.message.hasOwnProperty("error") && this._postEvent(e.message.error);
      },
      _formatErrorForNewRelic: function (e) {
        var t = {},
          n = e.meta || {};
        "object" != typeof n.errorObj &&
          ((n.errorObj = {}),
          (n.errorObj.message = e.error),
          (n.errorObj.stack = [])),
          (n.previousError = n.previousError ? n.previousError : []);
        try {
          (t.environment = window.environment),
            (t.origin = "placeit"),
            (t._pl_error = e.error),
            (t._pl_url = e.url),
            (t._pl_site_id = e.site_id),
            (t._pl_user_agent = e.user_agent),
            (t._pl_scopedClassName = e.scoped_class_name),
            (t._pl_argumentsObject = JSON.stringify(n.argumentsObject)),
            (t._pl_userIp = n.userIp),
            (t._pl_sessionId = n.sessionId),
            (t._pl_className = n.className),
            (t._pl_methodName = n.methodName),
            (t._pl_originalMethod = n.originalMethod),
            (t._pl_objectHasMethod = n.objectHasMethod),
            (t._pl_isPublished = n.isPublished),
            (t._pl_lithium_stack = window.Li.stack.join("\n")),
            (t._pl_scopeObject = JSON.stringify(n.scopeObject)),
            (t._pl_targetObject = JSON.stringify(n.targetObject)),
            (t._pl_events = JSON.stringify(n.events)),
            (t._pl_line = e.line),
            (t._pl_column = e.column),
            (t._pl_previousError = n.previousError.join("\n")),
            (t._pl_errorObj_message = n.errorObj.message),
            (t._pl_errorObj_stack = JSON.stringify(n.errorObj.stack));
        } finally {
          return t;
        }
      },
      _postEvent: function (e) {
        var t = this;
        "development" !== window.environment &&
          (t._prevEvent === e
            ? clearTimeout(t._senderTimeout)
            : (t._prevEvent = e),
          (t._senderTimeout = setTimeout(function () {
            window.newrelic.noticeError(e.error, t._formatErrorForNewRelic(e));
          }, 100)));
      },
    },
  }),
  /* @preserve
   * The MIT License (MIT)
   *
   * Copyright (c) 2013-2015 Petka Antonov
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   *
   */
  !(function (e) {
    if ("object" == typeof exports && "undefined" != typeof module)
      module.exports = e();
    else if ("function" == typeof define && define.amd) define([], e);
    else {
      var t;
      "undefined" != typeof window
        ? (t = window)
        : "undefined" != typeof global
        ? (t = global)
        : "undefined" != typeof self && (t = self),
        (t.Promise = e());
    }
  })(function () {
    return (function e(t, n, i) {
      function r(o, a) {
        if (!n[o]) {
          if (!t[o]) {
            var l = "function" == typeof _dereq_ && _dereq_;
            if (!a && l) return l(o, !0);
            if (s) return s(o, !0);
            var c = new Error("Cannot find module '" + o + "'");
            throw ((c.code = "MODULE_NOT_FOUND"), c);
          }
          var u = (n[o] = {
            exports: {},
          });
          t[o][0].call(
            u.exports,
            function (e) {
              var n = t[o][1][e];
              return r(n ? n : e);
            },
            u,
            u.exports,
            e,
            t,
            n,
            i
          );
        }
        return n[o].exports;
      }
      for (
        var s = "function" == typeof _dereq_ && _dereq_, o = 0;
        o < i.length;
        o++
      )
        r(i[o]);
      return r;
    })(
      {
        1: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              function t(e) {
                var t = new n(e),
                  i = t.promise();
                return t.setHowMany(1), t.setUnwrap(), t.init(), i;
              }
              var n = e._SomePromiseArray;
              (e.any = function (e) {
                return t(e);
              }),
                (e.prototype.any = function () {
                  return t(this);
                });
            };
          },
          {},
        ],
        2: [
          function (e, t) {
            "use strict";
            function n() {
              (this._customScheduler = !1),
                (this._isTickUsed = !1),
                (this._lateQueue = new c(16)),
                (this._normalQueue = new c(16)),
                (this._haveDrainedQueues = !1),
                (this._trampolineEnabled = !0);
              var e = this;
              (this.drainQueues = function () {
                e._drainQueues();
              }),
                (this._schedule = l);
            }
            function i(e, t, n) {
              this._lateQueue.push(e, t, n), this._queueTick();
            }
            function r(e, t, n) {
              this._normalQueue.push(e, t, n), this._queueTick();
            }
            function s(e) {
              this._normalQueue._pushOne(e), this._queueTick();
            }
            var o;
            try {
              throw new Error();
            } catch (a) {
              o = a;
            }
            var l = e("./schedule"),
              c = e("./queue"),
              u = e("./util");
            (n.prototype.setScheduler = function (e) {
              var t = this._schedule;
              return (this._schedule = e), (this._customScheduler = !0), t;
            }),
              (n.prototype.hasCustomScheduler = function () {
                return this._customScheduler;
              }),
              (n.prototype.enableTrampoline = function () {
                this._trampolineEnabled = !0;
              }),
              (n.prototype.disableTrampolineIfNecessary = function () {
                u.hasDevTools && (this._trampolineEnabled = !1);
              }),
              (n.prototype.haveItemsQueued = function () {
                return this._isTickUsed || this._haveDrainedQueues;
              }),
              (n.prototype.fatalError = function (e, t) {
                t
                  ? (process.stderr.write(
                      "Fatal " + (e instanceof Error ? e.stack : e) + "\n"
                    ),
                    process.exit(2))
                  : this.throwLater(e);
              }),
              (n.prototype.throwLater = function (e, t) {
                if (
                  (1 === arguments.length &&
                    ((t = e),
                    (e = function () {
                      throw t;
                    })),
                  "undefined" != typeof setTimeout)
                )
                  setTimeout(function () {
                    e(t);
                  }, 0);
                else
                  try {
                    this._schedule(function () {
                      e(t);
                    });
                  } catch (n) {
                    throw new Error(
                      "No async scheduler available\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  }
              }),
              u.hasDevTools
                ? ((n.prototype.invokeLater = function (e, t, n) {
                    this._trampolineEnabled
                      ? i.call(this, e, t, n)
                      : this._schedule(function () {
                          setTimeout(function () {
                            e.call(t, n);
                          }, 100);
                        });
                  }),
                  (n.prototype.invoke = function (e, t, n) {
                    this._trampolineEnabled
                      ? r.call(this, e, t, n)
                      : this._schedule(function () {
                          e.call(t, n);
                        });
                  }),
                  (n.prototype.settlePromises = function (e) {
                    this._trampolineEnabled
                      ? s.call(this, e)
                      : this._schedule(function () {
                          e._settlePromises();
                        });
                  }))
                : ((n.prototype.invokeLater = i),
                  (n.prototype.invoke = r),
                  (n.prototype.settlePromises = s)),
              (n.prototype.invokeFirst = function (e, t, n) {
                this._normalQueue.unshift(e, t, n), this._queueTick();
              }),
              (n.prototype._drainQueue = function (e) {
                for (; e.length() > 0; ) {
                  var t = e.shift();
                  if ("function" == typeof t) {
                    var n = e.shift(),
                      i = e.shift();
                    t.call(n, i);
                  } else t._settlePromises();
                }
              }),
              (n.prototype._drainQueues = function () {
                this._drainQueue(this._normalQueue),
                  this._reset(),
                  (this._haveDrainedQueues = !0),
                  this._drainQueue(this._lateQueue);
              }),
              (n.prototype._queueTick = function () {
                this._isTickUsed ||
                  ((this._isTickUsed = !0), this._schedule(this.drainQueues));
              }),
              (n.prototype._reset = function () {
                this._isTickUsed = !1;
              }),
              (t.exports = n),
              (t.exports.firstLineError = o);
          },
          {
            "./queue": 26,
            "./schedule": 29,
            "./util": 36,
          },
        ],
        3: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t, n, i) {
              var r = !1,
                s = function (e, t) {
                  this._reject(t);
                },
                o = function (e, t) {
                  (t.promiseRejectionQueued = !0),
                    t.bindingPromise._then(s, s, null, this, e);
                },
                a = function (e, t) {
                  0 === (50397184 & this._bitField) &&
                    this._resolveCallback(t.target);
                },
                l = function (e, t) {
                  t.promiseRejectionQueued || this._reject(e);
                };
              (e.prototype.bind = function (s) {
                r ||
                  ((r = !0),
                  (e.prototype._propagateFrom = i.propagateFromFunction()),
                  (e.prototype._boundValue = i.boundValueFunction()));
                var c = n(s),
                  u = new e(t);
                u._propagateFrom(this, 1);
                var d = this._target();
                if ((u._setBoundTo(c), c instanceof e)) {
                  var p = {
                    promiseRejectionQueued: !1,
                    promise: u,
                    target: d,
                    bindingPromise: c,
                  };
                  d._then(t, o, void 0, u, p),
                    c._then(a, l, void 0, u, p),
                    u._setOnCancel(c);
                } else u._resolveCallback(d);
                return u;
              }),
                (e.prototype._setBoundTo = function (e) {
                  void 0 !== e
                    ? ((this._bitField = 2097152 | this._bitField),
                      (this._boundTo = e))
                    : (this._bitField = -2097153 & this._bitField);
                }),
                (e.prototype._isBound = function () {
                  return 2097152 === (2097152 & this._bitField);
                }),
                (e.bind = function (t, n) {
                  return e.resolve(n).bind(t);
                });
            };
          },
          {},
        ],
        4: [
          function (e, t) {
            "use strict";
            function n() {
              try {
                Promise === r && (Promise = i);
              } catch (e) {}
              return r;
            }
            var i;
            "undefined" != typeof Promise && (i = Promise);
            var r = e("./promise")();
            (r.noConflict = n), (t.exports = r);
          },
          {
            "./promise": 22,
          },
        ],
        5: [
          function (e, t) {
            "use strict";
            var n = Object.create;
            if (n) {
              var i = n(null),
                r = n(null);
              i[" size"] = r[" size"] = 0;
            }
            t.exports = function (t) {
              function n(e, n) {
                var i;
                if ((null != e && (i = e[n]), "function" != typeof i)) {
                  var r =
                    "Object " +
                    a.classString(e) +
                    " has no method '" +
                    a.toString(n) +
                    "'";
                  throw new t.TypeError(r);
                }
                return i;
              }
              function i(e) {
                var t = this.pop(),
                  i = n(e, t);
                return i.apply(e, this);
              }
              function r(e) {
                return e[this];
              }
              function s(e) {
                var t = +this;
                return 0 > t && (t = Math.max(0, t + e.length)), e[t];
              }
              var o,
                a = e("./util"),
                l = a.canEvaluate;
              a.isIdentifier,
                (t.prototype.call = function (e) {
                  var t = [].slice.call(arguments, 1);
                  return t.push(e), this._then(i, void 0, void 0, t, void 0);
                }),
                (t.prototype.get = function (e) {
                  var t,
                    n = "number" == typeof e;
                  if (n) t = s;
                  else if (l) {
                    var i = o(e);
                    t = null !== i ? i : r;
                  } else t = r;
                  return this._then(t, void 0, void 0, e, void 0);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        6: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r) {
              var s = e("./util"),
                o = s.tryCatch,
                a = s.errorObj,
                l = t._async;
              (t.prototype["break"] = t.prototype.cancel =
                function () {
                  if (!r.cancellation())
                    return this._warn("cancellation is disabled");
                  for (var e = this, t = e; e._isCancellable(); ) {
                    if (!e._cancelBy(t)) {
                      t._isFollowing()
                        ? t._followee().cancel()
                        : t._cancelBranched();
                      break;
                    }
                    var n = e._cancellationParent;
                    if (null == n || !n._isCancellable()) {
                      e._isFollowing()
                        ? e._followee().cancel()
                        : e._cancelBranched();
                      break;
                    }
                    e._isFollowing() && e._followee().cancel(),
                      e._setWillBeCancelled(),
                      (t = e),
                      (e = n);
                  }
                }),
                (t.prototype._branchHasCancelled = function () {
                  this._branchesRemainingToCancel--;
                }),
                (t.prototype._enoughBranchesHaveCancelled = function () {
                  return (
                    void 0 === this._branchesRemainingToCancel ||
                    this._branchesRemainingToCancel <= 0
                  );
                }),
                (t.prototype._cancelBy = function (e) {
                  return e === this
                    ? ((this._branchesRemainingToCancel = 0),
                      this._invokeOnCancel(),
                      !0)
                    : (this._branchHasCancelled(),
                      this._enoughBranchesHaveCancelled()
                        ? (this._invokeOnCancel(), !0)
                        : !1);
                }),
                (t.prototype._cancelBranched = function () {
                  this._enoughBranchesHaveCancelled() && this._cancel();
                }),
                (t.prototype._cancel = function () {
                  this._isCancellable() &&
                    (this._setCancelled(),
                    l.invoke(this._cancelPromises, this, void 0));
                }),
                (t.prototype._cancelPromises = function () {
                  this._length() > 0 && this._settlePromises();
                }),
                (t.prototype._unsetOnCancel = function () {
                  this._onCancelField = void 0;
                }),
                (t.prototype._isCancellable = function () {
                  return this.isPending() && !this._isCancelled();
                }),
                (t.prototype.isCancellable = function () {
                  return this.isPending() && !this.isCancelled();
                }),
                (t.prototype._doInvokeOnCancel = function (e, t) {
                  if (s.isArray(e))
                    for (var n = 0; n < e.length; ++n)
                      this._doInvokeOnCancel(e[n], t);
                  else if (void 0 !== e)
                    if ("function" == typeof e) {
                      if (!t) {
                        var i = o(e).call(this._boundValue());
                        i === a &&
                          (this._attachExtraTrace(i.e), l.throwLater(i.e));
                      }
                    } else e._resultCancelled(this);
                }),
                (t.prototype._invokeOnCancel = function () {
                  var e = this._onCancel();
                  this._unsetOnCancel(),
                    l.invoke(this._doInvokeOnCancel, this, e);
                }),
                (t.prototype._invokeInternalOnCancel = function () {
                  this._isCancellable() &&
                    (this._doInvokeOnCancel(this._onCancel(), !0),
                    this._unsetOnCancel());
                }),
                (t.prototype._resultCancelled = function () {
                  this.cancel();
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        7: [
          function (e, t) {
            "use strict";
            t.exports = function (t) {
              function n(e, n, a) {
                return function (l) {
                  var c = a._boundValue();
                  e: for (var u = 0; u < e.length; ++u) {
                    var d = e[u];
                    if (
                      d === Error ||
                      (null != d && d.prototype instanceof Error)
                    ) {
                      if (l instanceof d) return s(n).call(c, l);
                    } else if ("function" == typeof d) {
                      var p = s(d).call(c, l);
                      if (p === o) return p;
                      if (p) return s(n).call(c, l);
                    } else if (i.isObject(l)) {
                      for (var h = r(d), f = 0; f < h.length; ++f) {
                        var m = h[f];
                        if (d[m] != l[m]) continue e;
                      }
                      return s(n).call(c, l);
                    }
                  }
                  return t;
                };
              }
              var i = e("./util"),
                r = e("./es5").keys,
                s = i.tryCatch,
                o = i.errorObj;
              return n;
            };
          },
          {
            "./es5": 13,
            "./util": 36,
          },
        ],
        8: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              function t() {
                this._trace = new t.CapturedTrace(i());
              }
              function n() {
                return r ? new t() : void 0;
              }
              function i() {
                var e = s.length - 1;
                return e >= 0 ? s[e] : void 0;
              }
              var r = !1,
                s = [];
              return (
                (e.prototype._promiseCreated = function () {}),
                (e.prototype._pushContext = function () {}),
                (e.prototype._popContext = function () {
                  return null;
                }),
                (e._peekContext = e.prototype._peekContext = function () {}),
                (t.prototype._pushContext = function () {
                  void 0 !== this._trace &&
                    ((this._trace._promiseCreated = null), s.push(this._trace));
                }),
                (t.prototype._popContext = function () {
                  if (void 0 !== this._trace) {
                    var e = s.pop(),
                      t = e._promiseCreated;
                    return (e._promiseCreated = null), t;
                  }
                  return null;
                }),
                (t.CapturedTrace = null),
                (t.create = n),
                (t.deactivateLongStackTraces = function () {}),
                (t.activateLongStackTraces = function () {
                  var n = e.prototype._pushContext,
                    s = e.prototype._popContext,
                    o = e._peekContext,
                    a = e.prototype._peekContext,
                    l = e.prototype._promiseCreated;
                  (t.deactivateLongStackTraces = function () {
                    (e.prototype._pushContext = n),
                      (e.prototype._popContext = s),
                      (e._peekContext = o),
                      (e.prototype._peekContext = a),
                      (e.prototype._promiseCreated = l),
                      (r = !1);
                  }),
                    (r = !0),
                    (e.prototype._pushContext = t.prototype._pushContext),
                    (e.prototype._popContext = t.prototype._popContext),
                    (e._peekContext = e.prototype._peekContext = i),
                    (e.prototype._promiseCreated = function () {
                      var e = this._peekContext();
                      e &&
                        null == e._promiseCreated &&
                        (e._promiseCreated = this);
                    });
                }),
                t
              );
            };
          },
          {},
        ],
        9: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n) {
              function i(e, t) {
                return {
                  promise: t,
                };
              }
              function r() {
                return !1;
              }
              function s(e, t, n) {
                var i = this;
                try {
                  e(t, n, function (e) {
                    if ("function" != typeof e)
                      throw new TypeError(
                        "onCancel must be a function, got: " + U.toString(e)
                      );
                    i._attachCancellationCallback(e);
                  });
                } catch (r) {
                  return r;
                }
              }
              function o(e) {
                if (!this._isCancellable()) return this;
                var t = this._onCancel();
                void 0 !== t
                  ? U.isArray(t)
                    ? t.push(e)
                    : this._setOnCancel([t, e])
                  : this._setOnCancel(e);
              }
              function a() {
                return this._onCancelField;
              }
              function l(e) {
                this._onCancelField = e;
              }
              function c() {
                (this._cancellationParent = void 0),
                  (this._onCancelField = void 0);
              }
              function u(e, t) {
                if (0 !== (1 & t)) {
                  this._cancellationParent = e;
                  var n = e._branchesRemainingToCancel;
                  void 0 === n && (n = 0),
                    (e._branchesRemainingToCancel = n + 1);
                }
                0 !== (2 & t) && e._isBound() && this._setBoundTo(e._boundTo);
              }
              function d(e, t) {
                0 !== (2 & t) && e._isBound() && this._setBoundTo(e._boundTo);
              }
              function p() {
                var e = this._boundTo;
                return void 0 !== e && e instanceof t
                  ? e.isFulfilled()
                    ? e.value()
                    : void 0
                  : e;
              }
              function h() {
                this._trace = new I(this._peekContext());
              }
              function f(e, t) {
                if (B(e)) {
                  var n = this._trace;
                  if ((void 0 !== n && t && (n = n._parent), void 0 !== n))
                    n.attachExtraTrace(e);
                  else if (!e.__stackCleaned__) {
                    var i = k(e);
                    U.notEnumerableProp(
                      e,
                      "stack",
                      i.message + "\n" + i.stack.join("\n")
                    ),
                      U.notEnumerableProp(e, "__stackCleaned__", !0);
                  }
                }
              }
              function m(e, t, n, i, r) {
                if (void 0 === e && null !== t && Y) {
                  if (void 0 !== r && r._returnedNonUndefined()) return;
                  if (0 === (65535 & i._bitField)) return;
                  n && (n += " ");
                  var s = "",
                    o = "";
                  if (t._trace) {
                    for (
                      var a = t._trace.stack.split("\n"),
                        l = w(a),
                        c = l.length - 1;
                      c >= 0;
                      --c
                    ) {
                      var u = l[c];
                      if (!F.test(u)) {
                        var d = u.match(H);
                        d && (s = "at " + d[1] + ":" + d[2] + ":" + d[3] + " ");
                        break;
                      }
                    }
                    if (l.length > 0)
                      for (var p = l[0], c = 0; c < a.length; ++c)
                        if (a[c] === p) {
                          c > 0 && (o = "\n" + a[c - 1]);
                          break;
                        }
                  }
                  var h =
                    "a promise was created in a " +
                    n +
                    "handler " +
                    s +
                    "but was not returned from it, see http://goo.gl/rRqMUw" +
                    o;
                  i._warn(h, !0, t);
                }
              }
              function g(e, t) {
                var n =
                  e + " is deprecated and will be removed in a future version.";
                return t && (n += " Use " + t + " instead."), _(n);
              }
              function _(e, n, i) {
                if (st.warnings) {
                  var r,
                    s = new N(e);
                  if (n) i._attachExtraTrace(s);
                  else if (st.longStackTraces && (r = t._peekContext()))
                    r.attachExtraTrace(s);
                  else {
                    var o = k(s);
                    s.stack = o.message + "\n" + o.stack.join("\n");
                  }
                  et("warning", s) || T(s, "", !0);
                }
              }
              function v(e, t) {
                for (var n = 0; n < t.length - 1; ++n)
                  t[n].push("From previous event:"), (t[n] = t[n].join("\n"));
                return (
                  n < t.length && (t[n] = t[n].join("\n")),
                  e + "\n" + t.join("\n")
                );
              }
              function y(e) {
                for (var t = 0; t < e.length; ++t)
                  (0 === e[t].length ||
                    (t + 1 < e.length && e[t][0] === e[t + 1][0])) &&
                    (e.splice(t, 1), t--);
              }
              function b(e) {
                for (var t = e[0], n = 1; n < e.length; ++n) {
                  for (
                    var i = e[n],
                      r = t.length - 1,
                      s = t[r],
                      o = -1,
                      a = i.length - 1;
                    a >= 0;
                    --a
                  )
                    if (i[a] === s) {
                      o = a;
                      break;
                    }
                  for (var a = o; a >= 0; --a) {
                    var l = i[a];
                    if (t[r] !== l) break;
                    t.pop(), r--;
                  }
                  t = i;
                }
              }
              function w(e) {
                for (var t = [], n = 0; n < e.length; ++n) {
                  var i = e[n],
                    r = "    (No stack trace)" === i || W.test(i),
                    s = r && nt(i);
                  r &&
                    !s &&
                    (z && " " !== i.charAt(0) && (i = "    " + i), t.push(i));
                }
                return t;
              }
              function C(e) {
                for (
                  var t = e.stack.replace(/\s+$/g, "").split("\n"), n = 0;
                  n < t.length;
                  ++n
                ) {
                  var i = t[n];
                  if ("    (No stack trace)" === i || W.test(i)) break;
                }
                return n > 0 && (t = t.slice(n)), t;
              }
              function k(e) {
                var t = e.stack,
                  n = e.toString();
                return (
                  (t =
                    "string" == typeof t && t.length > 0
                      ? C(e)
                      : ["    (No stack trace)"]),
                  {
                    message: n,
                    stack: w(t),
                  }
                );
              }
              function T(e, t, n) {
                if ("undefined" != typeof console) {
                  var i;
                  if (U.isObject(e)) {
                    var r = e.stack;
                    i = t + q(r, e);
                  } else i = t + String(e);
                  "function" == typeof R
                    ? R(i, n)
                    : ("function" == typeof console.log ||
                        "object" == typeof console.log) &&
                      console.log(i);
                }
              }
              function E(e, t, n, i) {
                var r = !1;
                try {
                  "function" == typeof t &&
                    ((r = !0), "rejectionHandled" === e ? t(i) : t(n, i));
                } catch (s) {
                  L.throwLater(s);
                }
                "unhandledRejection" === e
                  ? et(e, n, i) || r || T(n, "Unhandled rejection ")
                  : et(e, i);
              }
              function S(e) {
                var t;
                if ("function" == typeof e)
                  t = "[function " + (e.name || "anonymous") + "]";
                else {
                  t =
                    e && "function" == typeof e.toString
                      ? e.toString()
                      : U.toString(e);
                  var n = /\[object [a-zA-Z0-9$_]+\]/;
                  if (n.test(t))
                    try {
                      var i = JSON.stringify(e);
                      t = i;
                    } catch (r) {}
                  0 === t.length && (t = "(empty array)");
                }
                return "(<" + x(t) + ">, no stack trace)";
              }
              function x(e) {
                var t = 41;
                return e.length < t ? e : e.substr(0, t - 3) + "...";
              }
              function P() {
                return "function" == typeof rt;
              }
              function O(e) {
                var t = e.match(it);
                return t
                  ? {
                      fileName: t[1],
                      line: parseInt(t[2], 10),
                    }
                  : void 0;
              }
              function A(e, t) {
                if (P()) {
                  for (
                    var n,
                      i,
                      r = e.stack.split("\n"),
                      s = t.stack.split("\n"),
                      o = -1,
                      a = -1,
                      l = 0;
                    l < r.length;
                    ++l
                  ) {
                    var c = O(r[l]);
                    if (c) {
                      (n = c.fileName), (o = c.line);
                      break;
                    }
                  }
                  for (var l = 0; l < s.length; ++l) {
                    var c = O(s[l]);
                    if (c) {
                      (i = c.fileName), (a = c.line);
                      break;
                    }
                  }
                  0 > o ||
                    0 > a ||
                    !n ||
                    !i ||
                    n !== i ||
                    o >= a ||
                    (nt = function (e) {
                      if ($.test(e)) return !0;
                      var t = O(e);
                      return t && t.fileName === n && o <= t.line && t.line <= a
                        ? !0
                        : !1;
                    });
                }
              }
              function I(e) {
                (this._parent = e), (this._promisesCreated = 0);
                var t = (this._length = 1 + (void 0 === e ? 0 : e._length));
                rt(this, I), t > 32 && this.uncycle();
              }
              var D,
                M,
                R,
                j = t._getDomain,
                L = t._async,
                N = e("./errors").Warning,
                U = e("./util"),
                B = U.canAttachTrace,
                $ = /[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,
                F = /\((?:timers\.js):\d+:\d+\)/,
                H = /[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,
                W = null,
                q = null,
                z = !1,
                V = !(
                  0 == U.env("BLUEBIRD_DEBUG") ||
                  (!U.env("BLUEBIRD_DEBUG") &&
                    "development" !== U.env("NODE_ENV"))
                ),
                K = !(
                  0 == U.env("BLUEBIRD_WARNINGS") ||
                  (!V && !U.env("BLUEBIRD_WARNINGS"))
                ),
                G = !(
                  0 == U.env("BLUEBIRD_LONG_STACK_TRACES") ||
                  (!V && !U.env("BLUEBIRD_LONG_STACK_TRACES"))
                ),
                Y =
                  0 != U.env("BLUEBIRD_W_FORGOTTEN_RETURN") &&
                  (K || !!U.env("BLUEBIRD_W_FORGOTTEN_RETURN"));
              (t.prototype.suppressUnhandledRejections = function () {
                var e = this._target();
                e._bitField = (-1048577 & e._bitField) | 524288;
              }),
                (t.prototype._ensurePossibleRejectionHandled = function () {
                  0 === (524288 & this._bitField) &&
                    (this._setRejectionIsUnhandled(),
                    L.invokeLater(
                      this._notifyUnhandledRejection,
                      this,
                      void 0
                    ));
                }),
                (t.prototype._notifyUnhandledRejectionIsHandled = function () {
                  E("rejectionHandled", D, void 0, this);
                }),
                (t.prototype._setReturnedNonUndefined = function () {
                  this._bitField = 268435456 | this._bitField;
                }),
                (t.prototype._returnedNonUndefined = function () {
                  return 0 !== (268435456 & this._bitField);
                }),
                (t.prototype._notifyUnhandledRejection = function () {
                  if (this._isRejectionUnhandled()) {
                    var e = this._settledValue();
                    this._setUnhandledRejectionIsNotified(),
                      E("unhandledRejection", M, e, this);
                  }
                }),
                (t.prototype._setUnhandledRejectionIsNotified = function () {
                  this._bitField = 262144 | this._bitField;
                }),
                (t.prototype._unsetUnhandledRejectionIsNotified = function () {
                  this._bitField = -262145 & this._bitField;
                }),
                (t.prototype._isUnhandledRejectionNotified = function () {
                  return (262144 & this._bitField) > 0;
                }),
                (t.prototype._setRejectionIsUnhandled = function () {
                  this._bitField = 1048576 | this._bitField;
                }),
                (t.prototype._unsetRejectionIsUnhandled = function () {
                  (this._bitField = -1048577 & this._bitField),
                    this._isUnhandledRejectionNotified() &&
                      (this._unsetUnhandledRejectionIsNotified(),
                      this._notifyUnhandledRejectionIsHandled());
                }),
                (t.prototype._isRejectionUnhandled = function () {
                  return (1048576 & this._bitField) > 0;
                }),
                (t.prototype._warn = function (e, t, n) {
                  return _(e, t, n || this);
                }),
                (t.onPossiblyUnhandledRejection = function (e) {
                  var t = j();
                  M =
                    "function" == typeof e
                      ? null === t
                        ? e
                        : U.domainBind(t, e)
                      : void 0;
                }),
                (t.onUnhandledRejectionHandled = function (e) {
                  var t = j();
                  D =
                    "function" == typeof e
                      ? null === t
                        ? e
                        : U.domainBind(t, e)
                      : void 0;
                });
              var X = function () {};
              (t.longStackTraces = function () {
                if (L.haveItemsQueued() && !st.longStackTraces)
                  throw new Error(
                    "cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"
                  );
                if (!st.longStackTraces && P()) {
                  var e = t.prototype._captureStackTrace,
                    i = t.prototype._attachExtraTrace;
                  (st.longStackTraces = !0),
                    (X = function () {
                      if (L.haveItemsQueued() && !st.longStackTraces)
                        throw new Error(
                          "cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"
                        );
                      (t.prototype._captureStackTrace = e),
                        (t.prototype._attachExtraTrace = i),
                        n.deactivateLongStackTraces(),
                        L.enableTrampoline(),
                        (st.longStackTraces = !1);
                    }),
                    (t.prototype._captureStackTrace = h),
                    (t.prototype._attachExtraTrace = f),
                    n.activateLongStackTraces(),
                    L.disableTrampolineIfNecessary();
                }
              }),
                (t.hasLongStackTraces = function () {
                  return st.longStackTraces && P();
                });
              var Q = (function () {
                  try {
                    if ("function" == typeof CustomEvent) {
                      var e = new CustomEvent("CustomEvent");
                      return (
                        U.global.dispatchEvent(e),
                        function (e, t) {
                          var n = new CustomEvent(e.toLowerCase(), {
                            detail: t,
                            cancelable: !0,
                          });
                          return !U.global.dispatchEvent(n);
                        }
                      );
                    }
                    if ("function" == typeof Event) {
                      var e = new Event("CustomEvent");
                      return (
                        U.global.dispatchEvent(e),
                        function (e, t) {
                          var n = new Event(e.toLowerCase(), {
                            cancelable: !0,
                          });
                          return (n.detail = t), !U.global.dispatchEvent(n);
                        }
                      );
                    }
                    var e = document.createEvent("CustomEvent");
                    return (
                      e.initCustomEvent("testingtheevent", !1, !0, {}),
                      U.global.dispatchEvent(e),
                      function (e, t) {
                        var n = document.createEvent("CustomEvent");
                        return (
                          n.initCustomEvent(e.toLowerCase(), !1, !0, t),
                          !U.global.dispatchEvent(n)
                        );
                      }
                    );
                  } catch (t) {}
                  return function () {
                    return !1;
                  };
                })(),
                J = (function () {
                  return U.isNode
                    ? function () {
                        return process.emit.apply(process, arguments);
                      }
                    : U.global
                    ? function (e) {
                        var t = "on" + e.toLowerCase(),
                          n = U.global[t];
                        return n
                          ? (n.apply(U.global, [].slice.call(arguments, 1)), !0)
                          : !1;
                      }
                    : function () {
                        return !1;
                      };
                })(),
                Z = {
                  promiseCreated: i,
                  promiseFulfilled: i,
                  promiseRejected: i,
                  promiseResolved: i,
                  promiseCancelled: i,
                  promiseChained: function (e, t, n) {
                    return {
                      promise: t,
                      child: n,
                    };
                  },
                  warning: function (e, t) {
                    return {
                      warning: t,
                    };
                  },
                  unhandledRejection: function (e, t, n) {
                    return {
                      reason: t,
                      promise: n,
                    };
                  },
                  rejectionHandled: i,
                },
                et = function (e) {
                  var t = !1;
                  try {
                    t = J.apply(null, arguments);
                  } catch (n) {
                    L.throwLater(n), (t = !0);
                  }
                  var i = !1;
                  try {
                    i = Q(e, Z[e].apply(null, arguments));
                  } catch (n) {
                    L.throwLater(n), (i = !0);
                  }
                  return i || t;
                };
              (t.config = function (e) {
                if (
                  ((e = Object(e)),
                  "longStackTraces" in e &&
                    (e.longStackTraces
                      ? t.longStackTraces()
                      : !e.longStackTraces && t.hasLongStackTraces() && X()),
                  "warnings" in e)
                ) {
                  var n = e.warnings;
                  (st.warnings = !!n),
                    (Y = st.warnings),
                    U.isObject(n) &&
                      "wForgottenReturn" in n &&
                      (Y = !!n.wForgottenReturn);
                }
                if ("cancellation" in e && e.cancellation && !st.cancellation) {
                  if (L.haveItemsQueued())
                    throw new Error(
                      "cannot enable cancellation after promises are in use"
                    );
                  (t.prototype._clearCancellationData = c),
                    (t.prototype._propagateFrom = u),
                    (t.prototype._onCancel = a),
                    (t.prototype._setOnCancel = l),
                    (t.prototype._attachCancellationCallback = o),
                    (t.prototype._execute = s),
                    (tt = u),
                    (st.cancellation = !0);
                }
                "monitoring" in e &&
                  (e.monitoring && !st.monitoring
                    ? ((st.monitoring = !0), (t.prototype._fireEvent = et))
                    : !e.monitoring &&
                      st.monitoring &&
                      ((st.monitoring = !1), (t.prototype._fireEvent = r)));
              }),
                (t.prototype._fireEvent = r),
                (t.prototype._execute = function (e, t, n) {
                  try {
                    e(t, n);
                  } catch (i) {
                    return i;
                  }
                }),
                (t.prototype._onCancel = function () {}),
                (t.prototype._setOnCancel = function () {}),
                (t.prototype._attachCancellationCallback = function () {}),
                (t.prototype._captureStackTrace = function () {}),
                (t.prototype._attachExtraTrace = function () {}),
                (t.prototype._clearCancellationData = function () {}),
                (t.prototype._propagateFrom = function () {});
              var tt = d,
                nt = function () {
                  return !1;
                },
                it = /[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;
              U.inherits(I, Error),
                (n.CapturedTrace = I),
                (I.prototype.uncycle = function () {
                  var e = this._length;
                  if (!(2 > e)) {
                    for (var t = [], n = {}, i = 0, r = this; void 0 !== r; ++i)
                      t.push(r), (r = r._parent);
                    e = this._length = i;
                    for (var i = e - 1; i >= 0; --i) {
                      var s = t[i].stack;
                      void 0 === n[s] && (n[s] = i);
                    }
                    for (var i = 0; e > i; ++i) {
                      var o = t[i].stack,
                        a = n[o];
                      if (void 0 !== a && a !== i) {
                        a > 0 &&
                          ((t[a - 1]._parent = void 0), (t[a - 1]._length = 1)),
                          (t[i]._parent = void 0),
                          (t[i]._length = 1);
                        var l = i > 0 ? t[i - 1] : this;
                        e - 1 > a
                          ? ((l._parent = t[a + 1]),
                            l._parent.uncycle(),
                            (l._length = l._parent._length + 1))
                          : ((l._parent = void 0), (l._length = 1));
                        for (var c = l._length + 1, u = i - 2; u >= 0; --u)
                          (t[u]._length = c), c++;
                        return;
                      }
                    }
                  }
                }),
                (I.prototype.attachExtraTrace = function (e) {
                  if (!e.__stackCleaned__) {
                    this.uncycle();
                    for (
                      var t = k(e), n = t.message, i = [t.stack], r = this;
                      void 0 !== r;

                    )
                      i.push(w(r.stack.split("\n"))), (r = r._parent);
                    b(i),
                      y(i),
                      U.notEnumerableProp(e, "stack", v(n, i)),
                      U.notEnumerableProp(e, "__stackCleaned__", !0);
                  }
                });
              var rt = (function () {
                var e = /^\s*at\s*/,
                  t = function (e, t) {
                    return "string" == typeof e
                      ? e
                      : void 0 !== t.name && void 0 !== t.message
                      ? t.toString()
                      : S(t);
                  };
                if (
                  "number" == typeof Error.stackTraceLimit &&
                  "function" == typeof Error.captureStackTrace
                ) {
                  (Error.stackTraceLimit += 6), (W = e), (q = t);
                  var n = Error.captureStackTrace;
                  return (
                    (nt = function (e) {
                      return $.test(e);
                    }),
                    function (e, t) {
                      (Error.stackTraceLimit += 6),
                        n(e, t),
                        (Error.stackTraceLimit -= 6);
                    }
                  );
                }
                var i = new Error();
                if (
                  "string" == typeof i.stack &&
                  i.stack.split("\n")[0].indexOf("stackDetection@") >= 0
                )
                  return (
                    (W = /@/),
                    (q = t),
                    (z = !0),
                    function (e) {
                      e.stack = new Error().stack;
                    }
                  );
                var r;
                try {
                  throw new Error();
                } catch (s) {
                  r = "stack" in s;
                }
                return "stack" in i ||
                  !r ||
                  "number" != typeof Error.stackTraceLimit
                  ? ((q = function (e, t) {
                      return "string" == typeof e
                        ? e
                        : ("object" != typeof t && "function" != typeof t) ||
                          void 0 === t.name ||
                          void 0 === t.message
                        ? S(t)
                        : t.toString();
                    }),
                    null)
                  : ((W = e),
                    (q = t),
                    function (e) {
                      Error.stackTraceLimit += 6;
                      try {
                        throw new Error();
                      } catch (t) {
                        e.stack = t.stack;
                      }
                      Error.stackTraceLimit -= 6;
                    });
              })([]);
              "undefined" != typeof console &&
                "undefined" != typeof console.warn &&
                ((R = function (e) {
                  console.warn(e);
                }),
                U.isNode && process.stderr.isTTY
                  ? (R = function (e, t) {
                      var n = t ? "[33m" : "[31m";
                      console.warn(n + e + "[0m\n");
                    })
                  : U.isNode ||
                    "string" != typeof new Error().stack ||
                    (R = function (e, t) {
                      console.warn(
                        "%c" + e,
                        t ? "color: darkorange" : "color: red"
                      );
                    }));
              var st = {
                warnings: K,
                longStackTraces: !1,
                cancellation: !1,
                monitoring: !1,
              };
              return (
                G && t.longStackTraces(),
                {
                  longStackTraces: function () {
                    return st.longStackTraces;
                  },
                  warnings: function () {
                    return st.warnings;
                  },
                  cancellation: function () {
                    return st.cancellation;
                  },
                  monitoring: function () {
                    return st.monitoring;
                  },
                  propagateFromFunction: function () {
                    return tt;
                  },
                  boundValueFunction: function () {
                    return p;
                  },
                  checkForgottenReturns: m,
                  setBounds: A,
                  warn: _,
                  deprecated: g,
                  CapturedTrace: I,
                  fireDomEvent: Q,
                  fireGlobalEvent: J,
                }
              );
            };
          },
          {
            "./errors": 12,
            "./util": 36,
          },
        ],
        10: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              function t() {
                return this.value;
              }
              function n() {
                throw this.reason;
              }
              (e.prototype["return"] = e.prototype.thenReturn =
                function (n) {
                  return (
                    n instanceof e && n.suppressUnhandledRejections(),
                    this._then(
                      t,
                      void 0,
                      void 0,
                      {
                        value: n,
                      },
                      void 0
                    )
                  );
                }),
                (e.prototype["throw"] = e.prototype.thenThrow =
                  function (e) {
                    return this._then(
                      n,
                      void 0,
                      void 0,
                      {
                        reason: e,
                      },
                      void 0
                    );
                  }),
                (e.prototype.catchThrow = function (e) {
                  if (arguments.length <= 1)
                    return this._then(
                      void 0,
                      n,
                      void 0,
                      {
                        reason: e,
                      },
                      void 0
                    );
                  var t = arguments[1],
                    i = function () {
                      throw t;
                    };
                  return this.caught(e, i);
                }),
                (e.prototype.catchReturn = function (n) {
                  if (arguments.length <= 1)
                    return (
                      n instanceof e && n.suppressUnhandledRejections(),
                      this._then(
                        void 0,
                        t,
                        void 0,
                        {
                          value: n,
                        },
                        void 0
                      )
                    );
                  var i = arguments[1];
                  i instanceof e && i.suppressUnhandledRejections();
                  var r = function () {
                    return i;
                  };
                  return this.caught(n, r);
                });
            };
          },
          {},
        ],
        11: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t) {
              function n() {
                return s(this);
              }
              function i(e, n) {
                return r(e, n, t, t);
              }
              var r = e.reduce,
                s = e.all;
              (e.prototype.each = function (e) {
                return r(this, e, t, 0)._then(n, void 0, void 0, this, void 0);
              }),
                (e.prototype.mapSeries = function (e) {
                  return r(this, e, t, t);
                }),
                (e.each = function (e, i) {
                  return r(e, i, t, 0)._then(n, void 0, void 0, e, void 0);
                }),
                (e.mapSeries = i);
            };
          },
          {},
        ],
        12: [
          function (e, t) {
            "use strict";
            function n(e, t) {
              function n(i) {
                return this instanceof n
                  ? (u(this, "message", "string" == typeof i ? i : t),
                    u(this, "name", e),
                    void (Error.captureStackTrace
                      ? Error.captureStackTrace(this, this.constructor)
                      : Error.call(this)))
                  : new n(i);
              }
              return c(n, Error), n;
            }
            function i(e) {
              return this instanceof i
                ? (u(this, "name", "OperationalError"),
                  u(this, "message", e),
                  (this.cause = e),
                  (this.isOperational = !0),
                  void (e instanceof Error
                    ? (u(this, "message", e.message), u(this, "stack", e.stack))
                    : Error.captureStackTrace &&
                      Error.captureStackTrace(this, this.constructor)))
                : new i(e);
            }
            var r,
              s,
              o = e("./es5"),
              a = o.freeze,
              l = e("./util"),
              c = l.inherits,
              u = l.notEnumerableProp,
              d = n("Warning", "warning"),
              p = n("CancellationError", "cancellation error"),
              h = n("TimeoutError", "timeout error"),
              f = n("AggregateError", "aggregate error");
            try {
              (r = TypeError), (s = RangeError);
            } catch (m) {
              (r = n("TypeError", "type error")),
                (s = n("RangeError", "range error"));
            }
            for (
              var g =
                  "join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(
                    " "
                  ),
                _ = 0;
              _ < g.length;
              ++_
            )
              "function" == typeof Array.prototype[g[_]] &&
                (f.prototype[g[_]] = Array.prototype[g[_]]);
            o.defineProperty(f.prototype, "length", {
              value: 0,
              configurable: !1,
              writable: !0,
              enumerable: !0,
            }),
              (f.prototype.isOperational = !0);
            var v = 0;
            (f.prototype.toString = function () {
              var e = Array(4 * v + 1).join(" "),
                t = "\n" + e + "AggregateError of:\n";
              v++, (e = Array(4 * v + 1).join(" "));
              for (var n = 0; n < this.length; ++n) {
                for (
                  var i =
                      this[n] === this
                        ? "[Circular AggregateError]"
                        : this[n] + "",
                    r = i.split("\n"),
                    s = 0;
                  s < r.length;
                  ++s
                )
                  r[s] = e + r[s];
                (i = r.join("\n")), (t += i + "\n");
              }
              return v--, t;
            }),
              c(i, Error);
            var y = Error.__BluebirdErrorTypes__;
            y ||
              ((y = a({
                CancellationError: p,
                TimeoutError: h,
                OperationalError: i,
                RejectionError: i,
                AggregateError: f,
              })),
              o.defineProperty(Error, "__BluebirdErrorTypes__", {
                value: y,
                writable: !1,
                enumerable: !1,
                configurable: !1,
              })),
              (t.exports = {
                Error: Error,
                TypeError: r,
                RangeError: s,
                CancellationError: y.CancellationError,
                OperationalError: y.OperationalError,
                TimeoutError: y.TimeoutError,
                AggregateError: y.AggregateError,
                Warning: d,
              });
          },
          {
            "./es5": 13,
            "./util": 36,
          },
        ],
        13: [
          function (e, t) {
            var n = (function () {
              "use strict";
              return void 0 === this;
            })();
            if (n)
              t.exports = {
                freeze: Object.freeze,
                defineProperty: Object.defineProperty,
                getDescriptor: Object.getOwnPropertyDescriptor,
                keys: Object.keys,
                names: Object.getOwnPropertyNames,
                getPrototypeOf: Object.getPrototypeOf,
                isArray: Array.isArray,
                isES5: n,
                propertyIsWritable: function (e, t) {
                  var n = Object.getOwnPropertyDescriptor(e, t);
                  return !(n && !n.writable && !n.set);
                },
              };
            else {
              var i = {}.hasOwnProperty,
                r = {}.toString,
                s = {}.constructor.prototype,
                o = function (e) {
                  var t = [];
                  for (var n in e) i.call(e, n) && t.push(n);
                  return t;
                },
                a = function (e, t) {
                  return {
                    value: e[t],
                  };
                },
                l = function (e, t, n) {
                  return (e[t] = n.value), e;
                },
                c = function (e) {
                  return e;
                },
                u = function (e) {
                  try {
                    return Object(e).constructor.prototype;
                  } catch (t) {
                    return s;
                  }
                },
                d = function (e) {
                  try {
                    return "[object Array]" === r.call(e);
                  } catch (t) {
                    return !1;
                  }
                };
              t.exports = {
                isArray: d,
                keys: o,
                names: o,
                defineProperty: l,
                getDescriptor: a,
                freeze: c,
                getPrototypeOf: u,
                isES5: n,
                propertyIsWritable: function () {
                  return !0;
                },
              };
            }
          },
          {},
        ],
        14: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t) {
              var n = e.map;
              (e.prototype.filter = function (e, i) {
                return n(this, e, i, t);
              }),
                (e.filter = function (e, i, r) {
                  return n(e, i, r, t);
                });
            };
          },
          {},
        ],
        15: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n) {
              function i(e, t, n) {
                (this.promise = e),
                  (this.type = t),
                  (this.handler = n),
                  (this.called = !1),
                  (this.cancelPromise = null);
              }
              function r(e) {
                this.finallyHandler = e;
              }
              function s(e, t) {
                return null != e.cancelPromise
                  ? (arguments.length > 1
                      ? e.cancelPromise._reject(t)
                      : e.cancelPromise._cancel(),
                    (e.cancelPromise = null),
                    !0)
                  : !1;
              }
              function o() {
                return l.call(this, this.promise._target()._settledValue());
              }
              function a(e) {
                return s(this, e) ? void 0 : ((d.e = e), d);
              }
              function l(e) {
                var i = this.promise,
                  l = this.handler;
                if (!this.called) {
                  this.called = !0;
                  var c = this.isFinallyHandler()
                    ? l.call(i._boundValue())
                    : l.call(i._boundValue(), e);
                  if (void 0 !== c) {
                    i._setReturnedNonUndefined();
                    var p = n(c, i);
                    if (p instanceof t) {
                      if (null != this.cancelPromise) {
                        if (p._isCancelled()) {
                          var h = new u("late cancellation observer");
                          return i._attachExtraTrace(h), (d.e = h), d;
                        }
                        p.isPending() &&
                          p._attachCancellationCallback(new r(this));
                      }
                      return p._then(o, a, void 0, this, void 0);
                    }
                  }
                }
                return i.isRejected() ? (s(this), (d.e = e), d) : (s(this), e);
              }
              var c = e("./util"),
                u = t.CancellationError,
                d = c.errorObj;
              return (
                (i.prototype.isFinallyHandler = function () {
                  return 0 === this.type;
                }),
                (r.prototype._resultCancelled = function () {
                  s(this.finallyHandler);
                }),
                (t.prototype._passThrough = function (e, t, n, r) {
                  return "function" != typeof e
                    ? this.then()
                    : this._then(n, r, void 0, new i(this, t, e), void 0);
                }),
                (t.prototype.lastly = t.prototype["finally"] =
                  function (e) {
                    return this._passThrough(e, 0, l, l);
                  }),
                (t.prototype.tap = function (e) {
                  return this._passThrough(e, 1, l);
                }),
                i
              );
            };
          },
          {
            "./util": 36,
          },
        ],
        16: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s, o) {
              function a(e, n, i) {
                for (var s = 0; s < n.length; ++s) {
                  i._pushContext();
                  var o = h(n[s])(e);
                  if ((i._popContext(), o === p)) {
                    i._pushContext();
                    var a = t.reject(p.e);
                    return i._popContext(), a;
                  }
                  var l = r(o, i);
                  if (l instanceof t) return l;
                }
                return null;
              }
              function l(e, n, r, s) {
                if (o.cancellation()) {
                  var a = new t(i),
                    l = (this._finallyPromise = new t(i));
                  (this._promise = a.lastly(function () {
                    return l;
                  })),
                    a._captureStackTrace(),
                    a._setOnCancel(this);
                } else {
                  var c = (this._promise = new t(i));
                  c._captureStackTrace();
                }
                (this._stack = s),
                  (this._generatorFunction = e),
                  (this._receiver = n),
                  (this._generator = void 0),
                  (this._yieldHandlers =
                    "function" == typeof r ? [r].concat(f) : f),
                  (this._yieldedPromise = null),
                  (this._cancellationPhase = !1);
              }
              var c = e("./errors"),
                u = c.TypeError,
                d = e("./util"),
                p = d.errorObj,
                h = d.tryCatch,
                f = [];
              d.inherits(l, s),
                (l.prototype._isResolved = function () {
                  return null === this._promise;
                }),
                (l.prototype._cleanup = function () {
                  (this._promise = this._generator = null),
                    o.cancellation() &&
                      null !== this._finallyPromise &&
                      (this._finallyPromise._fulfill(),
                      (this._finallyPromise = null));
                }),
                (l.prototype._promiseCancelled = function () {
                  if (!this._isResolved()) {
                    var e,
                      n = "undefined" != typeof this._generator["return"];
                    if (n)
                      this._promise._pushContext(),
                        (e = h(this._generator["return"]).call(
                          this._generator,
                          void 0
                        )),
                        this._promise._popContext();
                    else {
                      var i = new t.CancellationError(
                        "generator .return() sentinel"
                      );
                      (t.coroutine.returnSentinel = i),
                        this._promise._attachExtraTrace(i),
                        this._promise._pushContext(),
                        (e = h(this._generator["throw"]).call(
                          this._generator,
                          i
                        )),
                        this._promise._popContext();
                    }
                    (this._cancellationPhase = !0),
                      (this._yieldedPromise = null),
                      this._continue(e);
                  }
                }),
                (l.prototype._promiseFulfilled = function (e) {
                  (this._yieldedPromise = null), this._promise._pushContext();
                  var t = h(this._generator.next).call(this._generator, e);
                  this._promise._popContext(), this._continue(t);
                }),
                (l.prototype._promiseRejected = function (e) {
                  (this._yieldedPromise = null),
                    this._promise._attachExtraTrace(e),
                    this._promise._pushContext();
                  var t = h(this._generator["throw"]).call(this._generator, e);
                  this._promise._popContext(), this._continue(t);
                }),
                (l.prototype._resultCancelled = function () {
                  if (this._yieldedPromise instanceof t) {
                    var e = this._yieldedPromise;
                    (this._yieldedPromise = null), e.cancel();
                  }
                }),
                (l.prototype.promise = function () {
                  return this._promise;
                }),
                (l.prototype._run = function () {
                  (this._generator = this._generatorFunction.call(
                    this._receiver
                  )),
                    (this._receiver = this._generatorFunction = void 0),
                    this._promiseFulfilled(void 0);
                }),
                (l.prototype._continue = function (e) {
                  var n = this._promise;
                  if (e === p)
                    return (
                      this._cleanup(),
                      this._cancellationPhase
                        ? n.cancel()
                        : n._rejectCallback(e.e, !1)
                    );
                  var i = e.value;
                  if (e.done === !0)
                    return (
                      this._cleanup(),
                      this._cancellationPhase
                        ? n.cancel()
                        : n._resolveCallback(i)
                    );
                  var s = r(i, this._promise);
                  if (
                    !(s instanceof t) &&
                    ((s = a(s, this._yieldHandlers, this._promise)), null === s)
                  )
                    return void this._promiseRejected(
                      new u(
                        "A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace(
                          "%s",
                          i
                        ) +
                          "From coroutine:\n" +
                          this._stack.split("\n").slice(1, -7).join("\n")
                      )
                    );
                  s = s._target();
                  var o = s._bitField;
                  0 === (50397184 & o)
                    ? ((this._yieldedPromise = s), s._proxy(this, null))
                    : 0 !== (33554432 & o)
                    ? t._async.invoke(this._promiseFulfilled, this, s._value())
                    : 0 !== (16777216 & o)
                    ? t._async.invoke(this._promiseRejected, this, s._reason())
                    : this._promiseCancelled();
                }),
                (t.coroutine = function (e, t) {
                  if ("function" != typeof e)
                    throw new u(
                      "generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  var n = Object(t).yieldHandler,
                    i = l,
                    r = new Error().stack;
                  return function () {
                    var t = e.apply(this, arguments),
                      s = new i(void 0, void 0, n, r),
                      o = s.promise();
                    return (s._generator = t), s._promiseFulfilled(void 0), o;
                  };
                }),
                (t.coroutine.addYieldHandler = function (e) {
                  if ("function" != typeof e)
                    throw new u(
                      "expecting a function but got " + d.classString(e)
                    );
                  f.push(e);
                }),
                (t.spawn = function (e) {
                  if (
                    (o.deprecated("Promise.spawn()", "Promise.coroutine()"),
                    "function" != typeof e)
                  )
                    return n(
                      "generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  var i = new l(e, this),
                    r = i.promise();
                  return i._run(t.spawn), r;
                });
            };
          },
          {
            "./errors": 12,
            "./util": 36,
          },
        ],
        17: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n) {
              var i = e("./util");
              i.canEvaluate,
                i.tryCatch,
                i.errorObj,
                (t.join = function () {
                  var e,
                    t = arguments.length - 1;
                  if (t > 0 && "function" == typeof arguments[t]) {
                    e = arguments[t];
                    var i;
                  }
                  var r = [].slice.call(arguments);
                  e && r.pop();
                  var i = new n(r).promise();
                  return void 0 !== e ? i.spread(e) : i;
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        18: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s, o) {
              function a(e, t, n, i) {
                this.constructor$(e), this._promise._captureStackTrace();
                var r = c();
                (this._callback = null === r ? t : u.domainBind(r, t)),
                  (this._preservedValues =
                    i === s ? new Array(this.length()) : null),
                  (this._limit = n),
                  (this._inFlight = 0),
                  (this._queue = []),
                  this._init$(void 0, -2);
              }
              function l(e, n, r, s) {
                if ("function" != typeof n)
                  return i("expecting a function but got " + u.classString(n));
                var o = 0;
                if (void 0 !== r) {
                  if ("object" != typeof r || null === r)
                    return t.reject(
                      new TypeError(
                        "options argument must be an object but it is " +
                          u.classString(r)
                      )
                    );
                  if ("number" != typeof r.concurrency)
                    return t.reject(
                      new TypeError(
                        "'concurrency' must be a number but it is " +
                          u.classString(r.concurrency)
                      )
                    );
                  o = r.concurrency;
                }
                return (
                  (o = "number" == typeof o && isFinite(o) && o >= 1 ? o : 0),
                  new a(e, n, o, s).promise()
                );
              }
              var c = t._getDomain,
                u = e("./util"),
                d = u.tryCatch,
                p = u.errorObj;
              u.inherits(a, n),
                (a.prototype._init = function () {}),
                (a.prototype._promiseFulfilled = function (e, n) {
                  var i = this._values,
                    s = this.length(),
                    a = this._preservedValues,
                    l = this._limit;
                  if (0 > n) {
                    if (
                      ((n = -1 * n - 1),
                      (i[n] = e),
                      l >= 1 &&
                        (this._inFlight--,
                        this._drainQueue(),
                        this._isResolved()))
                    )
                      return !0;
                  } else {
                    if (l >= 1 && this._inFlight >= l)
                      return (i[n] = e), this._queue.push(n), !1;
                    null !== a && (a[n] = e);
                    var c = this._promise,
                      u = this._callback,
                      h = c._boundValue();
                    c._pushContext();
                    var f = d(u).call(h, e, n, s),
                      m = c._popContext();
                    if (
                      (o.checkForgottenReturns(
                        f,
                        m,
                        null !== a ? "Promise.filter" : "Promise.map",
                        c
                      ),
                      f === p)
                    )
                      return this._reject(f.e), !0;
                    var g = r(f, this._promise);
                    if (g instanceof t) {
                      g = g._target();
                      var _ = g._bitField;
                      if (0 === (50397184 & _))
                        return (
                          l >= 1 && this._inFlight++,
                          (i[n] = g),
                          g._proxy(this, -1 * (n + 1)),
                          !1
                        );
                      if (0 === (33554432 & _))
                        return 0 !== (16777216 & _)
                          ? (this._reject(g._reason()), !0)
                          : (this._cancel(), !0);
                      f = g._value();
                    }
                    i[n] = f;
                  }
                  var v = ++this._totalResolved;
                  return v >= s
                    ? (null !== a ? this._filter(i, a) : this._resolve(i), !0)
                    : !1;
                }),
                (a.prototype._drainQueue = function () {
                  for (
                    var e = this._queue, t = this._limit, n = this._values;
                    e.length > 0 && this._inFlight < t;

                  ) {
                    if (this._isResolved()) return;
                    var i = e.pop();
                    this._promiseFulfilled(n[i], i);
                  }
                }),
                (a.prototype._filter = function (e, t) {
                  for (
                    var n = t.length, i = new Array(n), r = 0, s = 0;
                    n > s;
                    ++s
                  )
                    e[s] && (i[r++] = t[s]);
                  (i.length = r), this._resolve(i);
                }),
                (a.prototype.preservedValues = function () {
                  return this._preservedValues;
                }),
                (t.prototype.map = function (e, t) {
                  return l(this, e, t, null);
                }),
                (t.map = function (e, t, n, i) {
                  return l(e, t, n, i);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        19: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s) {
              var o = e("./util"),
                a = o.tryCatch;
              (t.method = function (e) {
                if ("function" != typeof e)
                  throw new t.TypeError(
                    "expecting a function but got " + o.classString(e)
                  );
                return function () {
                  var i = new t(n);
                  i._captureStackTrace(), i._pushContext();
                  var r = a(e).apply(this, arguments),
                    o = i._popContext();
                  return (
                    s.checkForgottenReturns(r, o, "Promise.method", i),
                    i._resolveFromSyncValue(r),
                    i
                  );
                };
              }),
                (t.attempt = t["try"] =
                  function (e) {
                    if ("function" != typeof e)
                      return r(
                        "expecting a function but got " + o.classString(e)
                      );
                    var i = new t(n);
                    i._captureStackTrace(), i._pushContext();
                    var l;
                    if (arguments.length > 1) {
                      s.deprecated(
                        "calling Promise.try with more than 1 argument"
                      );
                      var c = arguments[1],
                        u = arguments[2];
                      l = o.isArray(c) ? a(e).apply(u, c) : a(e).call(u, c);
                    } else l = a(e)();
                    var d = i._popContext();
                    return (
                      s.checkForgottenReturns(l, d, "Promise.try", i),
                      i._resolveFromSyncValue(l),
                      i
                    );
                  }),
                (t.prototype._resolveFromSyncValue = function (e) {
                  e === o.errorObj
                    ? this._rejectCallback(e.e, !1)
                    : this._resolveCallback(e, !0);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        20: [
          function (e, t) {
            "use strict";
            function n(e) {
              return (
                e instanceof Error && c.getPrototypeOf(e) === Error.prototype
              );
            }
            function i(e) {
              var t;
              if (n(e)) {
                (t = new l(e)),
                  (t.name = e.name),
                  (t.message = e.message),
                  (t.stack = e.stack);
                for (var i = c.keys(e), r = 0; r < i.length; ++r) {
                  var o = i[r];
                  u.test(o) || (t[o] = e[o]);
                }
                return t;
              }
              return s.markAsOriginatingFromRejection(e), e;
            }
            function r(e, t) {
              return function (n, r) {
                if (null !== e) {
                  if (n) {
                    var s = i(o(n));
                    e._attachExtraTrace(s), e._reject(s);
                  } else if (t) {
                    var a = [].slice.call(arguments, 1);
                    e._fulfill(a);
                  } else e._fulfill(r);
                  e = null;
                }
              };
            }
            var s = e("./util"),
              o = s.maybeWrapAsError,
              a = e("./errors"),
              l = a.OperationalError,
              c = e("./es5"),
              u = /^(?:name|message|stack|cause)$/;
            t.exports = r;
          },
          {
            "./errors": 12,
            "./es5": 13,
            "./util": 36,
          },
        ],
        21: [
          function (e, t) {
            "use strict";
            t.exports = function (t) {
              function n(e, t) {
                var n = this;
                if (!s.isArray(e)) return i.call(n, e, t);
                var r = a(t).apply(n._boundValue(), [null].concat(e));
                r === l && o.throwLater(r.e);
              }
              function i(e, t) {
                var n = this,
                  i = n._boundValue(),
                  r = void 0 === e ? a(t).call(i, null) : a(t).call(i, null, e);
                r === l && o.throwLater(r.e);
              }
              function r(e, t) {
                var n = this;
                if (!e) {
                  var i = new Error(e + "");
                  (i.cause = e), (e = i);
                }
                var r = a(t).call(n._boundValue(), e);
                r === l && o.throwLater(r.e);
              }
              var s = e("./util"),
                o = t._async,
                a = s.tryCatch,
                l = s.errorObj;
              t.prototype.asCallback = t.prototype.nodeify = function (e, t) {
                if ("function" == typeof e) {
                  var s = i;
                  void 0 !== t && Object(t).spread && (s = n),
                    this._then(s, r, void 0, this, e);
                }
                return this;
              };
            };
          },
          {
            "./util": 36,
          },
        ],
        22: [
          function (e, t) {
            "use strict";
            t.exports = function () {
              function n() {}
              function i(e, t) {
                if ("function" != typeof t)
                  throw new v(
                    "expecting a function but got " + h.classString(t)
                  );
                if (e.constructor !== r)
                  throw new v(
                    "the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n"
                  );
              }
              function r(e) {
                (this._bitField = 0),
                  (this._fulfillmentHandler0 = void 0),
                  (this._rejectionHandler0 = void 0),
                  (this._promise0 = void 0),
                  (this._receiver0 = void 0),
                  e !== b && (i(this, e), this._resolveFromExecutor(e)),
                  this._promiseCreated(),
                  this._fireEvent("promiseCreated", this);
              }
              function s(e) {
                this.promise._resolveCallback(e);
              }
              function o(e) {
                this.promise._rejectCallback(e, !1);
              }
              function a(e) {
                var t = new r(b);
                (t._fulfillmentHandler0 = e),
                  (t._rejectionHandler0 = e),
                  (t._promise0 = e),
                  (t._receiver0 = e);
              }
              var l,
                c = function () {
                  return new v(
                    "circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n"
                  );
                },
                u = function () {
                  return new r.PromiseInspection(this._target());
                },
                d = function (e) {
                  return r.reject(new v(e));
                },
                p = {},
                h = e("./util");
              (l = h.isNode
                ? function () {
                    var e = process.domain;
                    return void 0 === e && (e = null), e;
                  }
                : function () {
                    return null;
                  }),
                h.notEnumerableProp(r, "_getDomain", l);
              var f = e("./es5"),
                m = e("./async"),
                g = new m();
              f.defineProperty(r, "_async", {
                value: g,
              });
              var _ = e("./errors"),
                v = (r.TypeError = _.TypeError);
              r.RangeError = _.RangeError;
              var y = (r.CancellationError = _.CancellationError);
              (r.TimeoutError = _.TimeoutError),
                (r.OperationalError = _.OperationalError),
                (r.RejectionError = _.OperationalError),
                (r.AggregateError = _.AggregateError);
              var b = function () {},
                w = {},
                C = {},
                k = e("./thenables")(r, b),
                T = e("./promise_array")(r, b, k, d, n),
                E = e("./context")(r),
                S = E.create,
                x = e("./debuggability")(r, E),
                P = (x.CapturedTrace, e("./finally")(r, k)),
                O = e("./catch_filter")(C),
                A = e("./nodeback"),
                I = h.errorObj,
                D = h.tryCatch;
              return (
                (r.prototype.toString = function () {
                  return "[object Promise]";
                }),
                (r.prototype.caught = r.prototype["catch"] =
                  function (e) {
                    var t = arguments.length;
                    if (t > 1) {
                      var n,
                        i = new Array(t - 1),
                        r = 0;
                      for (n = 0; t - 1 > n; ++n) {
                        var s = arguments[n];
                        if (!h.isObject(s))
                          return d(
                            "expecting an object but got A catch statement predicate " +
                              h.classString(s)
                          );
                        i[r++] = s;
                      }
                      return (
                        (i.length = r),
                        (e = arguments[n]),
                        this.then(void 0, O(i, e, this))
                      );
                    }
                    return this.then(void 0, e);
                  }),
                (r.prototype.reflect = function () {
                  return this._then(u, u, void 0, this, void 0);
                }),
                (r.prototype.then = function (e, t) {
                  if (
                    x.warnings() &&
                    arguments.length > 0 &&
                    "function" != typeof e &&
                    "function" != typeof t
                  ) {
                    var n =
                      ".then() only accepts functions but was passed: " +
                      h.classString(e);
                    arguments.length > 1 && (n += ", " + h.classString(t)),
                      this._warn(n);
                  }
                  return this._then(e, t, void 0, void 0, void 0);
                }),
                (r.prototype.done = function (e, t) {
                  var n = this._then(e, t, void 0, void 0, void 0);
                  n._setIsFinal();
                }),
                (r.prototype.spread = function (e) {
                  return "function" != typeof e
                    ? d("expecting a function but got " + h.classString(e))
                    : this.all()._then(e, void 0, void 0, w, void 0);
                }),
                (r.prototype.toJSON = function () {
                  var e = {
                    isFulfilled: !1,
                    isRejected: !1,
                    fulfillmentValue: void 0,
                    rejectionReason: void 0,
                  };
                  return (
                    this.isFulfilled()
                      ? ((e.fulfillmentValue = this.value()),
                        (e.isFulfilled = !0))
                      : this.isRejected() &&
                        ((e.rejectionReason = this.reason()),
                        (e.isRejected = !0)),
                    e
                  );
                }),
                (r.prototype.all = function () {
                  return (
                    arguments.length > 0 &&
                      this._warn(
                        ".all() was passed arguments but it does not take any"
                      ),
                    new T(this).promise()
                  );
                }),
                (r.prototype.error = function (e) {
                  return this.caught(h.originatesFromRejection, e);
                }),
                (r.getNewLibraryCopy = t.exports),
                (r.is = function (e) {
                  return e instanceof r;
                }),
                (r.fromNode = r.fromCallback =
                  function (e) {
                    var t = new r(b);
                    t._captureStackTrace();
                    var n =
                        arguments.length > 1
                          ? !!Object(arguments[1]).multiArgs
                          : !1,
                      i = D(e)(A(t, n));
                    return (
                      i === I && t._rejectCallback(i.e, !0),
                      t._isFateSealed() || t._setAsyncGuaranteed(),
                      t
                    );
                  }),
                (r.all = function (e) {
                  return new T(e).promise();
                }),
                (r.cast = function (e) {
                  var t = k(e);
                  return (
                    t instanceof r ||
                      ((t = new r(b)),
                      t._captureStackTrace(),
                      t._setFulfilled(),
                      (t._rejectionHandler0 = e)),
                    t
                  );
                }),
                (r.resolve = r.fulfilled = r.cast),
                (r.reject = r.rejected =
                  function (e) {
                    var t = new r(b);
                    return t._captureStackTrace(), t._rejectCallback(e, !0), t;
                  }),
                (r.setScheduler = function (e) {
                  if ("function" != typeof e)
                    throw new v(
                      "expecting a function but got " + h.classString(e)
                    );
                  return g.setScheduler(e);
                }),
                (r.prototype._then = function (e, t, n, i, s) {
                  var o = void 0 !== s,
                    a = o ? s : new r(b),
                    c = this._target(),
                    u = c._bitField;
                  o ||
                    (a._propagateFrom(this, 3),
                    a._captureStackTrace(),
                    void 0 === i &&
                      0 !== (2097152 & this._bitField) &&
                      (i =
                        0 !== (50397184 & u)
                          ? this._boundValue()
                          : c === this
                          ? void 0
                          : this._boundTo),
                    this._fireEvent("promiseChained", this, a));
                  var d = l();
                  if (0 !== (50397184 & u)) {
                    var p,
                      f,
                      m = c._settlePromiseCtx;
                    0 !== (33554432 & u)
                      ? ((f = c._rejectionHandler0), (p = e))
                      : 0 !== (16777216 & u)
                      ? ((f = c._fulfillmentHandler0),
                        (p = t),
                        c._unsetRejectionIsUnhandled())
                      : ((m = c._settlePromiseLateCancellationObserver),
                        (f = new y("late cancellation observer")),
                        c._attachExtraTrace(f),
                        (p = t)),
                      g.invoke(m, c, {
                        handler:
                          null === d
                            ? p
                            : "function" == typeof p && h.domainBind(d, p),
                        promise: a,
                        receiver: i,
                        value: f,
                      });
                  } else c._addCallbacks(e, t, a, i, d);
                  return a;
                }),
                (r.prototype._length = function () {
                  return 65535 & this._bitField;
                }),
                (r.prototype._isFateSealed = function () {
                  return 0 !== (117506048 & this._bitField);
                }),
                (r.prototype._isFollowing = function () {
                  return 67108864 === (67108864 & this._bitField);
                }),
                (r.prototype._setLength = function (e) {
                  this._bitField = (-65536 & this._bitField) | (65535 & e);
                }),
                (r.prototype._setFulfilled = function () {
                  (this._bitField = 33554432 | this._bitField),
                    this._fireEvent("promiseFulfilled", this);
                }),
                (r.prototype._setRejected = function () {
                  (this._bitField = 16777216 | this._bitField),
                    this._fireEvent("promiseRejected", this);
                }),
                (r.prototype._setFollowing = function () {
                  (this._bitField = 67108864 | this._bitField),
                    this._fireEvent("promiseResolved", this);
                }),
                (r.prototype._setIsFinal = function () {
                  this._bitField = 4194304 | this._bitField;
                }),
                (r.prototype._isFinal = function () {
                  return (4194304 & this._bitField) > 0;
                }),
                (r.prototype._unsetCancelled = function () {
                  this._bitField = -65537 & this._bitField;
                }),
                (r.prototype._setCancelled = function () {
                  (this._bitField = 65536 | this._bitField),
                    this._fireEvent("promiseCancelled", this);
                }),
                (r.prototype._setWillBeCancelled = function () {
                  this._bitField = 8388608 | this._bitField;
                }),
                (r.prototype._setAsyncGuaranteed = function () {
                  g.hasCustomScheduler() ||
                    (this._bitField = 134217728 | this._bitField);
                }),
                (r.prototype._receiverAt = function (e) {
                  var t = 0 === e ? this._receiver0 : this[4 * e - 4 + 3];
                  return t === p
                    ? void 0
                    : void 0 === t && this._isBound()
                    ? this._boundValue()
                    : t;
                }),
                (r.prototype._promiseAt = function (e) {
                  return this[4 * e - 4 + 2];
                }),
                (r.prototype._fulfillmentHandlerAt = function (e) {
                  return this[4 * e - 4 + 0];
                }),
                (r.prototype._rejectionHandlerAt = function (e) {
                  return this[4 * e - 4 + 1];
                }),
                (r.prototype._boundValue = function () {}),
                (r.prototype._migrateCallback0 = function (e) {
                  var t = (e._bitField, e._fulfillmentHandler0),
                    n = e._rejectionHandler0,
                    i = e._promise0,
                    r = e._receiverAt(0);
                  void 0 === r && (r = p), this._addCallbacks(t, n, i, r, null);
                }),
                (r.prototype._migrateCallbackAt = function (e, t) {
                  var n = e._fulfillmentHandlerAt(t),
                    i = e._rejectionHandlerAt(t),
                    r = e._promiseAt(t),
                    s = e._receiverAt(t);
                  void 0 === s && (s = p), this._addCallbacks(n, i, r, s, null);
                }),
                (r.prototype._addCallbacks = function (e, t, n, i, r) {
                  var s = this._length();
                  if ((s >= 65531 && ((s = 0), this._setLength(0)), 0 === s))
                    (this._promise0 = n),
                      (this._receiver0 = i),
                      "function" == typeof e &&
                        (this._fulfillmentHandler0 =
                          null === r ? e : h.domainBind(r, e)),
                      "function" == typeof t &&
                        (this._rejectionHandler0 =
                          null === r ? t : h.domainBind(r, t));
                  else {
                    var o = 4 * s - 4;
                    (this[o + 2] = n),
                      (this[o + 3] = i),
                      "function" == typeof e &&
                        (this[o + 0] = null === r ? e : h.domainBind(r, e)),
                      "function" == typeof t &&
                        (this[o + 1] = null === r ? t : h.domainBind(r, t));
                  }
                  return this._setLength(s + 1), s;
                }),
                (r.prototype._proxy = function (e, t) {
                  this._addCallbacks(void 0, void 0, t, e, null);
                }),
                (r.prototype._resolveCallback = function (e, t) {
                  if (0 === (117506048 & this._bitField)) {
                    if (e === this) return this._rejectCallback(c(), !1);
                    var n = k(e, this);
                    if (!(n instanceof r)) return this._fulfill(e);
                    t && this._propagateFrom(n, 2);
                    var i = n._target();
                    if (i === this) return void this._reject(c());
                    var s = i._bitField;
                    if (0 === (50397184 & s)) {
                      var o = this._length();
                      o > 0 && i._migrateCallback0(this);
                      for (var a = 1; o > a; ++a) i._migrateCallbackAt(this, a);
                      this._setFollowing(),
                        this._setLength(0),
                        this._setFollowee(i);
                    } else if (0 !== (33554432 & s)) this._fulfill(i._value());
                    else if (0 !== (16777216 & s)) this._reject(i._reason());
                    else {
                      var l = new y("late cancellation observer");
                      i._attachExtraTrace(l), this._reject(l);
                    }
                  }
                }),
                (r.prototype._rejectCallback = function (e, t, n) {
                  var i = h.ensureErrorObject(e),
                    r = i === e;
                  if (!r && !n && x.warnings()) {
                    var s =
                      "a promise was rejected with a non-error: " +
                      h.classString(e);
                    this._warn(s, !0);
                  }
                  this._attachExtraTrace(i, t ? r : !1), this._reject(e);
                }),
                (r.prototype._resolveFromExecutor = function (e) {
                  var t = this;
                  this._captureStackTrace(), this._pushContext();
                  var n = !0,
                    i = this._execute(
                      e,
                      function (e) {
                        t._resolveCallback(e);
                      },
                      function (e) {
                        t._rejectCallback(e, n);
                      }
                    );
                  (n = !1),
                    this._popContext(),
                    void 0 !== i && t._rejectCallback(i, !0);
                }),
                (r.prototype._settlePromiseFromHandler = function (e, t, n, i) {
                  var r = i._bitField;
                  if (0 === (65536 & r)) {
                    i._pushContext();
                    var s;
                    t === w
                      ? n && "number" == typeof n.length
                        ? (s = D(e).apply(this._boundValue(), n))
                        : ((s = I),
                          (s.e = new v(
                            "cannot .spread() a non-array: " + h.classString(n)
                          )))
                      : (s = D(e).call(t, n));
                    var o = i._popContext();
                    (r = i._bitField),
                      0 === (65536 & r) &&
                        (s === C
                          ? i._reject(n)
                          : s === I
                          ? i._rejectCallback(s.e, !1)
                          : (x.checkForgottenReturns(s, o, "", i, this),
                            i._resolveCallback(s)));
                  }
                }),
                (r.prototype._target = function () {
                  for (var e = this; e._isFollowing(); ) e = e._followee();
                  return e;
                }),
                (r.prototype._followee = function () {
                  return this._rejectionHandler0;
                }),
                (r.prototype._setFollowee = function (e) {
                  this._rejectionHandler0 = e;
                }),
                (r.prototype._settlePromise = function (e, t, i, s) {
                  var o = e instanceof r,
                    a = this._bitField,
                    l = 0 !== (134217728 & a);
                  0 !== (65536 & a)
                    ? (o && e._invokeInternalOnCancel(),
                      i instanceof P && i.isFinallyHandler()
                        ? ((i.cancelPromise = e),
                          D(t).call(i, s) === I && e._reject(I.e))
                        : t === u
                        ? e._fulfill(u.call(i))
                        : i instanceof n
                        ? i._promiseCancelled(e)
                        : o || e instanceof T
                        ? e._cancel()
                        : i.cancel())
                    : "function" == typeof t
                    ? o
                      ? (l && e._setAsyncGuaranteed(),
                        this._settlePromiseFromHandler(t, i, s, e))
                      : t.call(i, s, e)
                    : i instanceof n
                    ? i._isResolved() ||
                      (0 !== (33554432 & a)
                        ? i._promiseFulfilled(s, e)
                        : i._promiseRejected(s, e))
                    : o &&
                      (l && e._setAsyncGuaranteed(),
                      0 !== (33554432 & a) ? e._fulfill(s) : e._reject(s));
                }),
                (r.prototype._settlePromiseLateCancellationObserver = function (
                  e
                ) {
                  var t = e.handler,
                    n = e.promise,
                    i = e.receiver,
                    s = e.value;
                  "function" == typeof t
                    ? n instanceof r
                      ? this._settlePromiseFromHandler(t, i, s, n)
                      : t.call(i, s, n)
                    : n instanceof r && n._reject(s);
                }),
                (r.prototype._settlePromiseCtx = function (e) {
                  this._settlePromise(
                    e.promise,
                    e.handler,
                    e.receiver,
                    e.value
                  );
                }),
                (r.prototype._settlePromise0 = function (e, t) {
                  var n = this._promise0,
                    i = this._receiverAt(0);
                  (this._promise0 = void 0),
                    (this._receiver0 = void 0),
                    this._settlePromise(n, e, i, t);
                }),
                (r.prototype._clearCallbackDataAtIndex = function (e) {
                  var t = 4 * e - 4;
                  this[t + 2] =
                    this[t + 3] =
                    this[t + 0] =
                    this[t + 1] =
                      void 0;
                }),
                (r.prototype._fulfill = function (e) {
                  var t = this._bitField;
                  if (!((117506048 & t) >>> 16)) {
                    if (e === this) {
                      var n = c();
                      return this._attachExtraTrace(n), this._reject(n);
                    }
                    this._setFulfilled(),
                      (this._rejectionHandler0 = e),
                      (65535 & t) > 0 &&
                        (0 !== (134217728 & t)
                          ? this._settlePromises()
                          : g.settlePromises(this));
                  }
                }),
                (r.prototype._reject = function (e) {
                  var t = this._bitField;
                  return (117506048 & t) >>> 16
                    ? void 0
                    : (this._setRejected(),
                      (this._fulfillmentHandler0 = e),
                      this._isFinal()
                        ? g.fatalError(e, h.isNode)
                        : void ((65535 & t) > 0
                            ? g.settlePromises(this)
                            : this._ensurePossibleRejectionHandled()));
                }),
                (r.prototype._fulfillPromises = function (e, t) {
                  for (var n = 1; e > n; n++) {
                    var i = this._fulfillmentHandlerAt(n),
                      r = this._promiseAt(n),
                      s = this._receiverAt(n);
                    this._clearCallbackDataAtIndex(n),
                      this._settlePromise(r, i, s, t);
                  }
                }),
                (r.prototype._rejectPromises = function (e, t) {
                  for (var n = 1; e > n; n++) {
                    var i = this._rejectionHandlerAt(n),
                      r = this._promiseAt(n),
                      s = this._receiverAt(n);
                    this._clearCallbackDataAtIndex(n),
                      this._settlePromise(r, i, s, t);
                  }
                }),
                (r.prototype._settlePromises = function () {
                  var e = this._bitField,
                    t = 65535 & e;
                  if (t > 0) {
                    if (0 !== (16842752 & e)) {
                      var n = this._fulfillmentHandler0;
                      this._settlePromise0(this._rejectionHandler0, n, e),
                        this._rejectPromises(t, n);
                    } else {
                      var i = this._rejectionHandler0;
                      this._settlePromise0(this._fulfillmentHandler0, i, e),
                        this._fulfillPromises(t, i);
                    }
                    this._setLength(0);
                  }
                  this._clearCancellationData();
                }),
                (r.prototype._settledValue = function () {
                  var e = this._bitField;
                  return 0 !== (33554432 & e)
                    ? this._rejectionHandler0
                    : 0 !== (16777216 & e)
                    ? this._fulfillmentHandler0
                    : void 0;
                }),
                (r.defer = r.pending =
                  function () {
                    x.deprecated("Promise.defer", "new Promise");
                    var e = new r(b);
                    return {
                      promise: e,
                      resolve: s,
                      reject: o,
                    };
                  }),
                h.notEnumerableProp(r, "_makeSelfResolutionError", c),
                e("./method")(r, b, k, d, x),
                e("./bind")(r, b, k, x),
                e("./cancel")(r, T, d, x),
                e("./direct_resolve")(r),
                e("./synchronous_inspection")(r),
                e("./join")(r, T, k, b, g, l),
                (r.Promise = r),
                (r.version = "3.4.5"),
                e("./map.js")(r, T, d, k, b, x),
                e("./call_get.js")(r),
                e("./using.js")(r, d, k, S, b, x),
                e("./timers.js")(r, b, x),
                e("./generators.js")(r, d, b, k, n, x),
                e("./nodeify.js")(r),
                e("./promisify.js")(r, b),
                e("./props.js")(r, T, k, d),
                e("./race.js")(r, b, k, d),
                e("./reduce.js")(r, T, d, k, b, x),
                e("./settle.js")(r, T, x),
                e("./some.js")(r, T, d),
                e("./filter.js")(r, b),
                e("./each.js")(r, b),
                e("./any.js")(r),
                h.toFastProperties(r),
                h.toFastProperties(r.prototype),
                a({
                  a: 1,
                }),
                a({
                  b: 2,
                }),
                a({
                  c: 3,
                }),
                a(1),
                a(function () {}),
                a(void 0),
                a(!1),
                a(new r(b)),
                x.setBounds(m.firstLineError, h.lastLineError),
                r
              );
            };
          },
          {
            "./any.js": 1,
            "./async": 2,
            "./bind": 3,
            "./call_get.js": 5,
            "./cancel": 6,
            "./catch_filter": 7,
            "./context": 8,
            "./debuggability": 9,
            "./direct_resolve": 10,
            "./each.js": 11,
            "./errors": 12,
            "./es5": 13,
            "./filter.js": 14,
            "./finally": 15,
            "./generators.js": 16,
            "./join": 17,
            "./map.js": 18,
            "./method": 19,
            "./nodeback": 20,
            "./nodeify.js": 21,
            "./promise_array": 23,
            "./promisify.js": 24,
            "./props.js": 25,
            "./race.js": 27,
            "./reduce.js": 28,
            "./settle.js": 30,
            "./some.js": 31,
            "./synchronous_inspection": 32,
            "./thenables": 33,
            "./timers.js": 34,
            "./using.js": 35,
            "./util": 36,
          },
        ],
        23: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s) {
              function o(e) {
                switch (e) {
                  case -2:
                    return [];
                  case -3:
                    return {};
                }
              }
              function a(e) {
                var i = (this._promise = new t(n));
                e instanceof t && i._propagateFrom(e, 3),
                  i._setOnCancel(this),
                  (this._values = e),
                  (this._length = 0),
                  (this._totalResolved = 0),
                  this._init(void 0, -2);
              }
              var l = e("./util");
              return (
                l.isArray,
                l.inherits(a, s),
                (a.prototype.length = function () {
                  return this._length;
                }),
                (a.prototype.promise = function () {
                  return this._promise;
                }),
                (a.prototype._init = function c(e, n) {
                  var s = i(this._values, this._promise);
                  if (s instanceof t) {
                    s = s._target();
                    var a = s._bitField;
                    if (((this._values = s), 0 === (50397184 & a)))
                      return (
                        this._promise._setAsyncGuaranteed(),
                        s._then(c, this._reject, void 0, this, n)
                      );
                    if (0 === (33554432 & a))
                      return 0 !== (16777216 & a)
                        ? this._reject(s._reason())
                        : this._cancel();
                    s = s._value();
                  }
                  if (((s = l.asArray(s)), null === s)) {
                    var u = r(
                      "expecting an array or an iterable object but got " +
                        l.classString(s)
                    ).reason();
                    return void this._promise._rejectCallback(u, !1);
                  }
                  return 0 === s.length
                    ? void (-5 === n
                        ? this._resolveEmptyArray()
                        : this._resolve(o(n)))
                    : void this._iterate(s);
                }),
                (a.prototype._iterate = function (e) {
                  var n = this.getActualLength(e.length);
                  (this._length = n),
                    (this._values = this.shouldCopyValues()
                      ? new Array(n)
                      : this._values);
                  for (
                    var r = this._promise, s = !1, o = null, a = 0;
                    n > a;
                    ++a
                  ) {
                    var l = i(e[a], r);
                    l instanceof t
                      ? ((l = l._target()), (o = l._bitField))
                      : (o = null),
                      s
                        ? null !== o && l.suppressUnhandledRejections()
                        : null !== o
                        ? 0 === (50397184 & o)
                          ? (l._proxy(this, a), (this._values[a] = l))
                          : (s =
                              0 !== (33554432 & o)
                                ? this._promiseFulfilled(l._value(), a)
                                : 0 !== (16777216 & o)
                                ? this._promiseRejected(l._reason(), a)
                                : this._promiseCancelled(a))
                        : (s = this._promiseFulfilled(l, a));
                  }
                  s || r._setAsyncGuaranteed();
                }),
                (a.prototype._isResolved = function () {
                  return null === this._values;
                }),
                (a.prototype._resolve = function (e) {
                  (this._values = null), this._promise._fulfill(e);
                }),
                (a.prototype._cancel = function () {
                  !this._isResolved() &&
                    this._promise._isCancellable() &&
                    ((this._values = null), this._promise._cancel());
                }),
                (a.prototype._reject = function (e) {
                  (this._values = null), this._promise._rejectCallback(e, !1);
                }),
                (a.prototype._promiseFulfilled = function (e, t) {
                  this._values[t] = e;
                  var n = ++this._totalResolved;
                  return n >= this._length
                    ? (this._resolve(this._values), !0)
                    : !1;
                }),
                (a.prototype._promiseCancelled = function () {
                  return this._cancel(), !0;
                }),
                (a.prototype._promiseRejected = function (e) {
                  return this._totalResolved++, this._reject(e), !0;
                }),
                (a.prototype._resultCancelled = function () {
                  if (!this._isResolved()) {
                    var e = this._values;
                    if ((this._cancel(), e instanceof t)) e.cancel();
                    else
                      for (var n = 0; n < e.length; ++n)
                        e[n] instanceof t && e[n].cancel();
                  }
                }),
                (a.prototype.shouldCopyValues = function () {
                  return !0;
                }),
                (a.prototype.getActualLength = function (e) {
                  return e;
                }),
                a
              );
            };
          },
          {
            "./util": 36,
          },
        ],
        24: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n) {
              function i(e) {
                return !C.test(e);
              }
              function r(e) {
                try {
                  return e.__isPromisified__ === !0;
                } catch (t) {
                  return !1;
                }
              }
              function s(e, t, n) {
                var i = h.getDataPropertyOrDefault(e, t + n, b);
                return i ? r(i) : !1;
              }
              function o(e, t, n) {
                for (var i = 0; i < e.length; i += 2) {
                  var r = e[i];
                  if (n.test(r))
                    for (var s = r.replace(n, ""), o = 0; o < e.length; o += 2)
                      if (e[o] === s)
                        throw new v(
                          "Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace(
                            "%s",
                            t
                          )
                        );
                }
              }
              function a(e, t, n, i) {
                for (
                  var a = h.inheritedDataKeys(e), l = [], c = 0;
                  c < a.length;
                  ++c
                ) {
                  var u = a[c],
                    d = e[u],
                    p = i === k ? !0 : k(u, d, e);
                  "function" != typeof d ||
                    r(d) ||
                    s(e, u, t) ||
                    !i(u, d, e, p) ||
                    l.push(u, d);
                }
                return o(l, t, n), l;
              }
              function l(e, i, r, s, o, a) {
                function l() {
                  var r = i;
                  i === p && (r = this);
                  var s = new t(n);
                  s._captureStackTrace();
                  var o = "string" == typeof u && this !== c ? this[u] : e,
                    l = f(s, a);
                  try {
                    o.apply(r, m(arguments, l));
                  } catch (d) {
                    s._rejectCallback(g(d), !0, !0);
                  }
                  return s._isFateSealed() || s._setAsyncGuaranteed(), s;
                }
                var c = (function () {
                    return this;
                  })(),
                  u = e;
                return (
                  "string" == typeof u && (e = s),
                  h.notEnumerableProp(l, "__isPromisified__", !0),
                  l
                );
              }
              function c(e, t, n, i, r) {
                for (
                  var s = new RegExp(T(t) + "$"),
                    o = a(e, t, s, n),
                    l = 0,
                    c = o.length;
                  c > l;
                  l += 2
                ) {
                  var u = o[l],
                    d = o[l + 1],
                    f = u + t;
                  if (i === E) e[f] = E(u, p, u, d, t, r);
                  else {
                    var m = i(d, function () {
                      return E(u, p, u, d, t, r);
                    });
                    h.notEnumerableProp(m, "__isPromisified__", !0), (e[f] = m);
                  }
                }
                return h.toFastProperties(e), e;
              }
              function u(e, t, n) {
                return E(e, t, void 0, e, null, n);
              }
              var d,
                p = {},
                h = e("./util"),
                f = e("./nodeback"),
                m = h.withAppended,
                g = h.maybeWrapAsError,
                _ = h.canEvaluate,
                v = e("./errors").TypeError,
                y = "Async",
                b = {
                  __isPromisified__: !0,
                },
                w = [
                  "arity",
                  "length",
                  "name",
                  "arguments",
                  "caller",
                  "callee",
                  "prototype",
                  "__isPromisified__",
                ],
                C = new RegExp("^(?:" + w.join("|") + ")$"),
                k = function (e) {
                  return (
                    h.isIdentifier(e) &&
                    "_" !== e.charAt(0) &&
                    "constructor" !== e
                  );
                },
                T = function (e) {
                  return e.replace(/([$])/, "\\$");
                },
                E = _ ? d : l;
              (t.promisify = function (e, t) {
                if ("function" != typeof e)
                  throw new v(
                    "expecting a function but got " + h.classString(e)
                  );
                if (r(e)) return e;
                t = Object(t);
                var n = void 0 === t.context ? p : t.context,
                  s = !!t.multiArgs,
                  o = u(e, n, s);
                return h.copyDescriptors(e, o, i), o;
              }),
                (t.promisifyAll = function (e, t) {
                  if ("function" != typeof e && "object" != typeof e)
                    throw new v(
                      "the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  t = Object(t);
                  var n = !!t.multiArgs,
                    i = t.suffix;
                  "string" != typeof i && (i = y);
                  var r = t.filter;
                  "function" != typeof r && (r = k);
                  var s = t.promisifier;
                  if (("function" != typeof s && (s = E), !h.isIdentifier(i)))
                    throw new RangeError(
                      "suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  for (
                    var o = h.inheritedDataKeys(e), a = 0;
                    a < o.length;
                    ++a
                  ) {
                    var l = e[o[a]];
                    "constructor" !== o[a] &&
                      h.isClass(l) &&
                      (c(l.prototype, i, r, s, n), c(l, i, r, s, n));
                  }
                  return c(e, i, r, s, n);
                });
            };
          },
          {
            "./errors": 12,
            "./nodeback": 20,
            "./util": 36,
          },
        ],
        25: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r) {
              function s(e) {
                var t,
                  n = !1;
                if (void 0 !== a && e instanceof a) (t = d(e)), (n = !0);
                else {
                  var i = u.keys(e),
                    r = i.length;
                  t = new Array(2 * r);
                  for (var s = 0; r > s; ++s) {
                    var o = i[s];
                    (t[s] = e[o]), (t[s + r] = o);
                  }
                }
                this.constructor$(t),
                  (this._isMap = n),
                  this._init$(void 0, -3);
              }
              function o(e) {
                var n,
                  o = i(e);
                return c(o)
                  ? ((n =
                      o instanceof t
                        ? o._then(t.props, void 0, void 0, void 0, void 0)
                        : new s(o).promise()),
                    o instanceof t && n._propagateFrom(o, 2),
                    n)
                  : r(
                      "cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n"
                    );
              }
              var a,
                l = e("./util"),
                c = l.isObject,
                u = e("./es5");
              "function" == typeof Map && (a = Map);
              var d = (function () {
                  function e(e, i) {
                    (this[t] = e), (this[t + n] = i), t++;
                  }
                  var t = 0,
                    n = 0;
                  return function (i) {
                    (n = i.size), (t = 0);
                    var r = new Array(2 * i.size);
                    return i.forEach(e, r), r;
                  };
                })(),
                p = function (e) {
                  for (
                    var t = new a(), n = (e.length / 2) | 0, i = 0;
                    n > i;
                    ++i
                  ) {
                    var r = e[n + i],
                      s = e[i];
                    t.set(r, s);
                  }
                  return t;
                };
              l.inherits(s, n),
                (s.prototype._init = function () {}),
                (s.prototype._promiseFulfilled = function (e, t) {
                  this._values[t] = e;
                  var n = ++this._totalResolved;
                  if (n >= this._length) {
                    var i;
                    if (this._isMap) i = p(this._values);
                    else {
                      i = {};
                      for (
                        var r = this.length(), s = 0, o = this.length();
                        o > s;
                        ++s
                      )
                        i[this._values[s + r]] = this._values[s];
                    }
                    return this._resolve(i), !0;
                  }
                  return !1;
                }),
                (s.prototype.shouldCopyValues = function () {
                  return !1;
                }),
                (s.prototype.getActualLength = function (e) {
                  return e >> 1;
                }),
                (t.prototype.props = function () {
                  return o(this);
                }),
                (t.props = function (e) {
                  return o(e);
                });
            };
          },
          {
            "./es5": 13,
            "./util": 36,
          },
        ],
        26: [
          function (e, t) {
            "use strict";
            function n(e, t, n, i, r) {
              for (var s = 0; r > s; ++s)
                (n[s + i] = e[s + t]), (e[s + t] = void 0);
            }
            function i(e) {
              (this._capacity = e), (this._length = 0), (this._front = 0);
            }
            (i.prototype._willBeOverCapacity = function (e) {
              return this._capacity < e;
            }),
              (i.prototype._pushOne = function (e) {
                var t = this.length();
                this._checkCapacity(t + 1);
                var n = (this._front + t) & (this._capacity - 1);
                (this[n] = e), (this._length = t + 1);
              }),
              (i.prototype._unshiftOne = function (e) {
                var t = this._capacity;
                this._checkCapacity(this.length() + 1);
                var n = this._front,
                  i = (((n - 1) & (t - 1)) ^ t) - t;
                (this[i] = e),
                  (this._front = i),
                  (this._length = this.length() + 1);
              }),
              (i.prototype.unshift = function (e, t, n) {
                this._unshiftOne(n), this._unshiftOne(t), this._unshiftOne(e);
              }),
              (i.prototype.push = function (e, t, n) {
                var i = this.length() + 3;
                if (this._willBeOverCapacity(i))
                  return (
                    this._pushOne(e), this._pushOne(t), void this._pushOne(n)
                  );
                var r = this._front + i - 3;
                this._checkCapacity(i);
                var s = this._capacity - 1;
                (this[(r + 0) & s] = e),
                  (this[(r + 1) & s] = t),
                  (this[(r + 2) & s] = n),
                  (this._length = i);
              }),
              (i.prototype.shift = function () {
                var e = this._front,
                  t = this[e];
                return (
                  (this[e] = void 0),
                  (this._front = (e + 1) & (this._capacity - 1)),
                  this._length--,
                  t
                );
              }),
              (i.prototype.length = function () {
                return this._length;
              }),
              (i.prototype._checkCapacity = function (e) {
                this._capacity < e && this._resizeTo(this._capacity << 1);
              }),
              (i.prototype._resizeTo = function (e) {
                var t = this._capacity;
                this._capacity = e;
                var i = this._front,
                  r = this._length,
                  s = (i + r) & (t - 1);
                n(this, 0, this, t, s);
              }),
              (t.exports = i);
          },
          {},
        ],
        27: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r) {
              function s(e, s) {
                var l = i(e);
                if (l instanceof t) return a(l);
                if (((e = o.asArray(e)), null === e))
                  return r(
                    "expecting an array or an iterable object but got " +
                      o.classString(e)
                  );
                var c = new t(n);
                void 0 !== s && c._propagateFrom(s, 3);
                for (
                  var u = c._fulfill, d = c._reject, p = 0, h = e.length;
                  h > p;
                  ++p
                ) {
                  var f = e[p];
                  (void 0 !== f || p in e) &&
                    t.cast(f)._then(u, d, void 0, c, null);
                }
                return c;
              }
              var o = e("./util"),
                a = function (e) {
                  return e.then(function (t) {
                    return s(t, e);
                  });
                };
              (t.race = function (e) {
                return s(e, void 0);
              }),
                (t.prototype.race = function () {
                  return s(this, void 0);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        28: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s, o) {
              function a(e, n, i, r) {
                this.constructor$(e);
                var o = p();
                (this._fn = null === o ? n : h.domainBind(o, n)),
                  void 0 !== i &&
                    ((i = t.resolve(i)), i._attachCancellationCallback(this)),
                  (this._initialValue = i),
                  (this._currentCancellable = null),
                  (this._eachValues =
                    r === s ? Array(this._length) : 0 === r ? null : void 0),
                  this._promise._captureStackTrace(),
                  this._init$(void 0, -5);
              }
              function l(e, t) {
                this.isFulfilled() ? t._resolve(e) : t._reject(e);
              }
              function c(e, t, n, r) {
                if ("function" != typeof t)
                  return i("expecting a function but got " + h.classString(t));
                var s = new a(e, t, n, r);
                return s.promise();
              }
              function u(e) {
                (this.accum = e), this.array._gotAccum(e);
                var n = r(this.value, this.array._promise);
                return n instanceof t
                  ? ((this.array._currentCancellable = n),
                    n._then(d, void 0, void 0, this, void 0))
                  : d.call(this, n);
              }
              function d(e) {
                var n = this.array,
                  i = n._promise,
                  r = f(n._fn);
                i._pushContext();
                var s;
                (s =
                  void 0 !== n._eachValues
                    ? r.call(i._boundValue(), e, this.index, this.length)
                    : r.call(
                        i._boundValue(),
                        this.accum,
                        e,
                        this.index,
                        this.length
                      )),
                  s instanceof t && (n._currentCancellable = s);
                var a = i._popContext();
                return (
                  o.checkForgottenReturns(
                    s,
                    a,
                    void 0 !== n._eachValues
                      ? "Promise.each"
                      : "Promise.reduce",
                    i
                  ),
                  s
                );
              }
              var p = t._getDomain,
                h = e("./util"),
                f = h.tryCatch;
              h.inherits(a, n),
                (a.prototype._gotAccum = function (e) {
                  void 0 !== this._eachValues &&
                    null !== this._eachValues &&
                    e !== s &&
                    this._eachValues.push(e);
                }),
                (a.prototype._eachComplete = function (e) {
                  return (
                    null !== this._eachValues && this._eachValues.push(e),
                    this._eachValues
                  );
                }),
                (a.prototype._init = function () {}),
                (a.prototype._resolveEmptyArray = function () {
                  this._resolve(
                    void 0 !== this._eachValues
                      ? this._eachValues
                      : this._initialValue
                  );
                }),
                (a.prototype.shouldCopyValues = function () {
                  return !1;
                }),
                (a.prototype._resolve = function (e) {
                  this._promise._resolveCallback(e), (this._values = null);
                }),
                (a.prototype._resultCancelled = function (e) {
                  return e === this._initialValue
                    ? this._cancel()
                    : void (
                        this._isResolved() ||
                        (this._resultCancelled$(),
                        this._currentCancellable instanceof t &&
                          this._currentCancellable.cancel(),
                        this._initialValue instanceof t &&
                          this._initialValue.cancel())
                      );
                }),
                (a.prototype._iterate = function (e) {
                  this._values = e;
                  var n,
                    i,
                    r = e.length;
                  if (
                    (void 0 !== this._initialValue
                      ? ((n = this._initialValue), (i = 0))
                      : ((n = t.resolve(e[0])), (i = 1)),
                    (this._currentCancellable = n),
                    !n.isRejected())
                  )
                    for (; r > i; ++i) {
                      var s = {
                        accum: null,
                        value: e[i],
                        index: i,
                        length: r,
                        array: this,
                      };
                      n = n._then(u, void 0, void 0, s, void 0);
                    }
                  void 0 !== this._eachValues &&
                    (n = n._then(
                      this._eachComplete,
                      void 0,
                      void 0,
                      this,
                      void 0
                    )),
                    n._then(l, l, void 0, n, this);
                }),
                (t.prototype.reduce = function (e, t) {
                  return c(this, e, t, null);
                }),
                (t.reduce = function (e, t, n, i) {
                  return c(e, t, n, i);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        29: [
          function (e, t) {
            "use strict";
            var n,
              i = e("./util"),
              r = function () {
                throw new Error(
                  "No async scheduler available\n\n    See http://goo.gl/MqrFmX\n"
                );
              },
              s = i.getNativePromise();
            if (i.isNode && "undefined" == typeof MutationObserver) {
              var o = global.setImmediate,
                a = process.nextTick;
              n = i.isRecentNode
                ? function (e) {
                    o.call(global, e);
                  }
                : function (e) {
                    a.call(process, e);
                  };
            } else if (
              "function" == typeof s &&
              "function" == typeof s.resolve
            ) {
              var l = s.resolve();
              n = function (e) {
                l.then(e);
              };
            } else
              n =
                "undefined" == typeof MutationObserver ||
                ("undefined" != typeof window &&
                  window.navigator &&
                  (window.navigator.standalone || window.cordova))
                  ? "undefined" != typeof setImmediate
                    ? function (e) {
                        setImmediate(e);
                      }
                    : "undefined" != typeof setTimeout
                    ? function (e) {
                        setTimeout(e, 0);
                      }
                    : r
                  : (function () {
                      var e = document.createElement("div"),
                        t = {
                          attributes: !0,
                        },
                        n = !1,
                        i = document.createElement("div"),
                        r = new MutationObserver(function () {
                          e.classList.toggle("foo"), (n = !1);
                        });
                      r.observe(i, t);
                      var s = function () {
                        n || ((n = !0), i.classList.toggle("foo"));
                      };
                      return function (n) {
                        var i = new MutationObserver(function () {
                          i.disconnect(), n();
                        });
                        i.observe(e, t), s();
                      };
                    })();
            t.exports = n;
          },
          {
            "./util": 36,
          },
        ],
        30: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i) {
              function r(e) {
                this.constructor$(e);
              }
              var s = t.PromiseInspection,
                o = e("./util");
              o.inherits(r, n),
                (r.prototype._promiseResolved = function (e, t) {
                  this._values[e] = t;
                  var n = ++this._totalResolved;
                  return n >= this._length
                    ? (this._resolve(this._values), !0)
                    : !1;
                }),
                (r.prototype._promiseFulfilled = function (e, t) {
                  var n = new s();
                  return (
                    (n._bitField = 33554432),
                    (n._settledValueField = e),
                    this._promiseResolved(t, n)
                  );
                }),
                (r.prototype._promiseRejected = function (e, t) {
                  var n = new s();
                  return (
                    (n._bitField = 16777216),
                    (n._settledValueField = e),
                    this._promiseResolved(t, n)
                  );
                }),
                (t.settle = function (e) {
                  return (
                    i.deprecated(".settle()", ".reflect()"), new r(e).promise()
                  );
                }),
                (t.prototype.settle = function () {
                  return t.settle(this);
                });
            };
          },
          {
            "./util": 36,
          },
        ],
        31: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i) {
              function r(e) {
                this.constructor$(e),
                  (this._howMany = 0),
                  (this._unwrap = !1),
                  (this._initialized = !1);
              }
              function s(e, t) {
                if ((0 | t) !== t || 0 > t)
                  return i(
                    "expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n"
                  );
                var n = new r(e),
                  s = n.promise();
                return n.setHowMany(t), n.init(), s;
              }
              var o = e("./util"),
                a = e("./errors").RangeError,
                l = e("./errors").AggregateError,
                c = o.isArray,
                u = {};
              o.inherits(r, n),
                (r.prototype._init = function () {
                  if (this._initialized) {
                    if (0 === this._howMany) return void this._resolve([]);
                    this._init$(void 0, -5);
                    var e = c(this._values);
                    !this._isResolved() &&
                      e &&
                      this._howMany > this._canPossiblyFulfill() &&
                      this._reject(this._getRangeError(this.length()));
                  }
                }),
                (r.prototype.init = function () {
                  (this._initialized = !0), this._init();
                }),
                (r.prototype.setUnwrap = function () {
                  this._unwrap = !0;
                }),
                (r.prototype.howMany = function () {
                  return this._howMany;
                }),
                (r.prototype.setHowMany = function (e) {
                  this._howMany = e;
                }),
                (r.prototype._promiseFulfilled = function (e) {
                  return (
                    this._addFulfilled(e),
                    this._fulfilled() === this.howMany()
                      ? ((this._values.length = this.howMany()),
                        this._resolve(
                          1 === this.howMany() && this._unwrap
                            ? this._values[0]
                            : this._values
                        ),
                        !0)
                      : !1
                  );
                }),
                (r.prototype._promiseRejected = function (e) {
                  return this._addRejected(e), this._checkOutcome();
                }),
                (r.prototype._promiseCancelled = function () {
                  return this._values instanceof t || null == this._values
                    ? this._cancel()
                    : (this._addRejected(u), this._checkOutcome());
                }),
                (r.prototype._checkOutcome = function () {
                  if (this.howMany() > this._canPossiblyFulfill()) {
                    for (
                      var e = new l(), t = this.length();
                      t < this._values.length;
                      ++t
                    )
                      this._values[t] !== u && e.push(this._values[t]);
                    return e.length > 0 ? this._reject(e) : this._cancel(), !0;
                  }
                  return !1;
                }),
                (r.prototype._fulfilled = function () {
                  return this._totalResolved;
                }),
                (r.prototype._rejected = function () {
                  return this._values.length - this.length();
                }),
                (r.prototype._addRejected = function (e) {
                  this._values.push(e);
                }),
                (r.prototype._addFulfilled = function (e) {
                  this._values[this._totalResolved++] = e;
                }),
                (r.prototype._canPossiblyFulfill = function () {
                  return this.length() - this._rejected();
                }),
                (r.prototype._getRangeError = function (e) {
                  var t =
                    "Input array must contain at least " +
                    this._howMany +
                    " items but contains only " +
                    e +
                    " items";
                  return new a(t);
                }),
                (r.prototype._resolveEmptyArray = function () {
                  this._reject(this._getRangeError(0));
                }),
                (t.some = function (e, t) {
                  return s(e, t);
                }),
                (t.prototype.some = function (e) {
                  return s(this, e);
                }),
                (t._SomePromiseArray = r);
            };
          },
          {
            "./errors": 12,
            "./util": 36,
          },
        ],
        32: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              function t(e) {
                void 0 !== e
                  ? ((e = e._target()),
                    (this._bitField = e._bitField),
                    (this._settledValueField = e._isFateSealed()
                      ? e._settledValue()
                      : void 0))
                  : ((this._bitField = 0), (this._settledValueField = void 0));
              }
              t.prototype._settledValue = function () {
                return this._settledValueField;
              };
              var n = (t.prototype.value = function () {
                  if (!this.isFulfilled())
                    throw new TypeError(
                      "cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n"
                    );
                  return this._settledValue();
                }),
                i =
                  (t.prototype.error =
                  t.prototype.reason =
                    function () {
                      if (!this.isRejected())
                        throw new TypeError(
                          "cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n"
                        );
                      return this._settledValue();
                    }),
                r = (t.prototype.isFulfilled = function () {
                  return 0 !== (33554432 & this._bitField);
                }),
                s = (t.prototype.isRejected = function () {
                  return 0 !== (16777216 & this._bitField);
                }),
                o = (t.prototype.isPending = function () {
                  return 0 === (50397184 & this._bitField);
                }),
                a = (t.prototype.isResolved = function () {
                  return 0 !== (50331648 & this._bitField);
                });
              (t.prototype.isCancelled = function () {
                return 0 !== (8454144 & this._bitField);
              }),
                (e.prototype.__isCancelled = function () {
                  return 65536 === (65536 & this._bitField);
                }),
                (e.prototype._isCancelled = function () {
                  return this._target().__isCancelled();
                }),
                (e.prototype.isCancelled = function () {
                  return 0 !== (8454144 & this._target()._bitField);
                }),
                (e.prototype.isPending = function () {
                  return o.call(this._target());
                }),
                (e.prototype.isRejected = function () {
                  return s.call(this._target());
                }),
                (e.prototype.isFulfilled = function () {
                  return r.call(this._target());
                }),
                (e.prototype.isResolved = function () {
                  return a.call(this._target());
                }),
                (e.prototype.value = function () {
                  return n.call(this._target());
                }),
                (e.prototype.reason = function () {
                  var e = this._target();
                  return e._unsetRejectionIsUnhandled(), i.call(e);
                }),
                (e.prototype._value = function () {
                  return this._settledValue();
                }),
                (e.prototype._reason = function () {
                  return (
                    this._unsetRejectionIsUnhandled(), this._settledValue()
                  );
                }),
                (e.PromiseInspection = t);
            };
          },
          {},
        ],
        33: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n) {
              function i(e, i) {
                if (u(e)) {
                  if (e instanceof t) return e;
                  var r = s(e);
                  if (r === c) {
                    i && i._pushContext();
                    var l = t.reject(r.e);
                    return i && i._popContext(), l;
                  }
                  if ("function" == typeof r) {
                    if (o(e)) {
                      var l = new t(n);
                      return e._then(l._fulfill, l._reject, void 0, l, null), l;
                    }
                    return a(e, r, i);
                  }
                }
                return e;
              }
              function r(e) {
                return e.then;
              }
              function s(e) {
                try {
                  return r(e);
                } catch (t) {
                  return (c.e = t), c;
                }
              }
              function o(e) {
                try {
                  return d.call(e, "_promise0");
                } catch (t) {
                  return !1;
                }
              }
              function a(e, i, r) {
                function s(e) {
                  a && (a._resolveCallback(e), (a = null));
                }
                function o(e) {
                  a && (a._rejectCallback(e, d, !0), (a = null));
                }
                var a = new t(n),
                  u = a;
                r && r._pushContext(),
                  a._captureStackTrace(),
                  r && r._popContext();
                var d = !0,
                  p = l.tryCatch(i).call(e, s, o);
                return (
                  (d = !1),
                  a && p === c && (a._rejectCallback(p.e, !0, !0), (a = null)),
                  u
                );
              }
              var l = e("./util"),
                c = l.errorObj,
                u = l.isObject,
                d = {}.hasOwnProperty;
              return i;
            };
          },
          {
            "./util": 36,
          },
        ],
        34: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i) {
              function r(e) {
                this.handle = e;
              }
              function s(e) {
                return clearTimeout(this.handle), e;
              }
              function o(e) {
                throw (clearTimeout(this.handle), e);
              }
              var a = e("./util"),
                l = t.TimeoutError;
              r.prototype._resultCancelled = function () {
                clearTimeout(this.handle);
              };
              var c = function (e) {
                  return u(+this).thenReturn(e);
                },
                u = (t.delay = function (e, s) {
                  var o, a;
                  return (
                    void 0 !== s
                      ? ((o = t.resolve(s)._then(c, null, null, e, void 0)),
                        i.cancellation() && s instanceof t && o._setOnCancel(s))
                      : ((o = new t(n)),
                        (a = setTimeout(function () {
                          o._fulfill();
                        }, +e)),
                        i.cancellation() && o._setOnCancel(new r(a)),
                        o._captureStackTrace()),
                    o._setAsyncGuaranteed(),
                    o
                  );
                });
              t.prototype.delay = function (e) {
                return u(e, this);
              };
              var d = function (e, t, n) {
                var i;
                (i =
                  "string" != typeof t
                    ? t instanceof Error
                      ? t
                      : new l("operation timed out")
                    : new l(t)),
                  a.markAsOriginatingFromRejection(i),
                  e._attachExtraTrace(i),
                  e._reject(i),
                  null != n && n.cancel();
              };
              t.prototype.timeout = function (e, t) {
                e = +e;
                var n,
                  a,
                  l = new r(
                    setTimeout(function () {
                      n.isPending() && d(n, t, a);
                    }, e)
                  );
                return (
                  i.cancellation()
                    ? ((a = this.then()),
                      (n = a._then(s, o, void 0, l, void 0)),
                      n._setOnCancel(l))
                    : (n = this._then(s, o, void 0, l, void 0)),
                  n
                );
              };
            };
          },
          {
            "./util": 36,
          },
        ],
        35: [
          function (e, t) {
            "use strict";
            t.exports = function (t, n, i, r, s, o) {
              function a(e) {
                setTimeout(function () {
                  throw e;
                }, 0);
              }
              function l(e) {
                var t = i(e);
                return (
                  t !== e &&
                    "function" == typeof e._isDisposable &&
                    "function" == typeof e._getDisposer &&
                    e._isDisposable() &&
                    t._setDisposable(e._getDisposer()),
                  t
                );
              }
              function c(e, n) {
                function r() {
                  if (o >= c) return u._fulfill();
                  var s = l(e[o++]);
                  if (s instanceof t && s._isDisposable()) {
                    try {
                      s = i(s._getDisposer().tryDispose(n), e.promise);
                    } catch (d) {
                      return a(d);
                    }
                    if (s instanceof t) return s._then(r, a, null, null, null);
                  }
                  r();
                }
                var o = 0,
                  c = e.length,
                  u = new t(s);
                return r(), u;
              }
              function u(e, t, n) {
                (this._data = e), (this._promise = t), (this._context = n);
              }
              function d(e, t, n) {
                this.constructor$(e, t, n);
              }
              function p(e) {
                return u.isDisposer(e)
                  ? (this.resources[this.index]._setDisposable(e), e.promise())
                  : e;
              }
              function h(e) {
                (this.length = e), (this.promise = null), (this[e - 1] = null);
              }
              var f = e("./util"),
                m = e("./errors").TypeError,
                g = e("./util").inherits,
                _ = f.errorObj,
                v = f.tryCatch,
                y = {};
              (u.prototype.data = function () {
                return this._data;
              }),
                (u.prototype.promise = function () {
                  return this._promise;
                }),
                (u.prototype.resource = function () {
                  return this.promise().isFulfilled()
                    ? this.promise().value()
                    : y;
                }),
                (u.prototype.tryDispose = function (e) {
                  var t = this.resource(),
                    n = this._context;
                  void 0 !== n && n._pushContext();
                  var i = t !== y ? this.doDispose(t, e) : null;
                  return (
                    void 0 !== n && n._popContext(),
                    this._promise._unsetDisposable(),
                    (this._data = null),
                    i
                  );
                }),
                (u.isDisposer = function (e) {
                  return (
                    null != e &&
                    "function" == typeof e.resource &&
                    "function" == typeof e.tryDispose
                  );
                }),
                g(d, u),
                (d.prototype.doDispose = function (e, t) {
                  var n = this.data();
                  return n.call(e, e, t);
                }),
                (h.prototype._resultCancelled = function () {
                  for (var e = this.length, n = 0; e > n; ++n) {
                    var i = this[n];
                    i instanceof t && i.cancel();
                  }
                }),
                (t.using = function () {
                  var e = arguments.length;
                  if (2 > e)
                    return n(
                      "you must pass at least 2 arguments to Promise.using"
                    );
                  var r = arguments[e - 1];
                  if ("function" != typeof r)
                    return n(
                      "expecting a function but got " + f.classString(r)
                    );
                  var s,
                    a = !0;
                  2 === e && Array.isArray(arguments[0])
                    ? ((s = arguments[0]), (e = s.length), (a = !1))
                    : ((s = arguments), e--);
                  for (var l = new h(e), d = 0; e > d; ++d) {
                    var m = s[d];
                    if (u.isDisposer(m)) {
                      var g = m;
                      (m = m.promise()), m._setDisposable(g);
                    } else {
                      var y = i(m);
                      y instanceof t &&
                        (m = y._then(
                          p,
                          null,
                          null,
                          {
                            resources: l,
                            index: d,
                          },
                          void 0
                        ));
                    }
                    l[d] = m;
                  }
                  for (var b = new Array(l.length), d = 0; d < b.length; ++d)
                    b[d] = t.resolve(l[d]).reflect();
                  var w = t.all(b).then(function (e) {
                      for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        if (n.isRejected()) return (_.e = n.error()), _;
                        if (!n.isFulfilled()) return void w.cancel();
                        e[t] = n.value();
                      }
                      C._pushContext(), (r = v(r));
                      var i = a ? r.apply(void 0, e) : r(e),
                        s = C._popContext();
                      return (
                        o.checkForgottenReturns(i, s, "Promise.using", C), i
                      );
                    }),
                    C = w.lastly(function () {
                      var e = new t.PromiseInspection(w);
                      return c(l, e);
                    });
                  return (l.promise = C), C._setOnCancel(l), C;
                }),
                (t.prototype._setDisposable = function (e) {
                  (this._bitField = 131072 | this._bitField),
                    (this._disposer = e);
                }),
                (t.prototype._isDisposable = function () {
                  return (131072 & this._bitField) > 0;
                }),
                (t.prototype._getDisposer = function () {
                  return this._disposer;
                }),
                (t.prototype._unsetDisposable = function () {
                  (this._bitField = -131073 & this._bitField),
                    (this._disposer = void 0);
                }),
                (t.prototype.disposer = function (e) {
                  if ("function" == typeof e) return new d(e, this, r());
                  throw new m();
                });
            };
          },
          {
            "./errors": 12,
            "./util": 36,
          },
        ],
        36: [
          function (e, t) {
            "use strict";
            function n() {
              try {
                var e = E;
                return (E = null), e.apply(this, arguments);
              } catch (t) {
                return (P.e = t), P;
              }
            }
            function i(e) {
              return (E = e), n;
            }
            function r(e) {
              return (
                null == e ||
                e === !0 ||
                e === !1 ||
                "string" == typeof e ||
                "number" == typeof e
              );
            }
            function s(e) {
              return (
                "function" == typeof e || ("object" == typeof e && null !== e)
              );
            }
            function o(e) {
              return r(e) ? new Error(m(e)) : e;
            }
            function a(e, t) {
              var n,
                i = e.length,
                r = new Array(i + 1);
              for (n = 0; i > n; ++n) r[n] = e[n];
              return (r[n] = t), r;
            }
            function l(e, t, n) {
              if (!S.isES5) return {}.hasOwnProperty.call(e, t) ? e[t] : void 0;
              var i = Object.getOwnPropertyDescriptor(e, t);
              return null != i
                ? null == i.get && null == i.set
                  ? i.value
                  : n
                : void 0;
            }
            function c(e, t, n) {
              if (r(e)) return e;
              var i = {
                value: n,
                configurable: !0,
                enumerable: !1,
                writable: !0,
              };
              return S.defineProperty(e, t, i), e;
            }
            function u(e) {
              throw e;
            }
            function d(e) {
              try {
                if ("function" == typeof e) {
                  var t = S.names(e.prototype),
                    n = S.isES5 && t.length > 1,
                    i =
                      t.length > 0 &&
                      !(1 === t.length && "constructor" === t[0]),
                    r = D.test(e + "") && S.names(e).length > 0;
                  if (n || i || r) return !0;
                }
                return !1;
              } catch (s) {
                return !1;
              }
            }
            function p(e) {
              function t() {}
              t.prototype = e;
              for (var n = 8; n--; ) new t();
              return e;
            }
            function h(e) {
              return M.test(e);
            }
            function f(e, t, n) {
              for (var i = new Array(e), r = 0; e > r; ++r) i[r] = t + r + n;
              return i;
            }
            function m(e) {
              try {
                return e + "";
              } catch (t) {
                return "[no string representation]";
              }
            }
            function g(e) {
              return (
                null !== e &&
                "object" == typeof e &&
                "string" == typeof e.message &&
                "string" == typeof e.name
              );
            }
            function _(e) {
              try {
                c(e, "isOperational", !0);
              } catch (t) {}
            }
            function v(e) {
              return null == e
                ? !1
                : e instanceof Error.__BluebirdErrorTypes__.OperationalError ||
                    e.isOperational === !0;
            }
            function y(e) {
              return g(e) && S.propertyIsWritable(e, "stack");
            }
            function b(e) {
              return {}.toString.call(e);
            }
            function w(e, t, n) {
              for (var i = S.names(e), r = 0; r < i.length; ++r) {
                var s = i[r];
                if (n(s))
                  try {
                    S.defineProperty(t, s, S.getDescriptor(e, s));
                  } catch (o) {}
              }
            }
            function C(e, t) {
              return N ? process.env[e] : t;
            }
            function k() {
              if ("function" == typeof Promise)
                try {
                  var e = new Promise(function () {});
                  if ("[object Promise]" === {}.toString.call(e))
                    return Promise;
                } catch (t) {}
            }
            function T(e, t) {
              return e.bind(t);
            }
            var E,
              S = e("./es5"),
              x = "undefined" == typeof navigator,
              P = {
                e: {},
              },
              O =
                "undefined" != typeof self
                  ? self
                  : "undefined" != typeof window
                  ? window
                  : "undefined" != typeof global
                  ? global
                  : void 0 !== this
                  ? this
                  : null,
              A = function (e, t) {
                function n() {
                  (this.constructor = e), (this.constructor$ = t);
                  for (var n in t.prototype)
                    i.call(t.prototype, n) &&
                      "$" !== n.charAt(n.length - 1) &&
                      (this[n + "$"] = t.prototype[n]);
                }
                var i = {}.hasOwnProperty;
                return (
                  (n.prototype = t.prototype),
                  (e.prototype = new n()),
                  e.prototype
                );
              },
              I = (function () {
                var e = [Array.prototype, Object.prototype, Function.prototype],
                  t = function (t) {
                    for (var n = 0; n < e.length; ++n)
                      if (e[n] === t) return !0;
                    return !1;
                  };
                if (S.isES5) {
                  var n = Object.getOwnPropertyNames;
                  return function (e) {
                    for (
                      var i = [], r = Object.create(null);
                      null != e && !t(e);

                    ) {
                      var s;
                      try {
                        s = n(e);
                      } catch (o) {
                        return i;
                      }
                      for (var a = 0; a < s.length; ++a) {
                        var l = s[a];
                        if (!r[l]) {
                          r[l] = !0;
                          var c = Object.getOwnPropertyDescriptor(e, l);
                          null != c &&
                            null == c.get &&
                            null == c.set &&
                            i.push(l);
                        }
                      }
                      e = S.getPrototypeOf(e);
                    }
                    return i;
                  };
                }
                var i = {}.hasOwnProperty;
                return function (n) {
                  if (t(n)) return [];
                  var r = [];
                  e: for (var s in n)
                    if (i.call(n, s)) r.push(s);
                    else {
                      for (var o = 0; o < e.length; ++o)
                        if (i.call(e[o], s)) continue e;
                      r.push(s);
                    }
                  return r;
                };
              })(),
              D = /this\s*\.\s*\S+\s*=/,
              M = /^[a-z$_][a-z$_0-9]*$/i,
              R = (function () {
                return "stack" in new Error()
                  ? function (e) {
                      return y(e) ? e : new Error(m(e));
                    }
                  : function (e) {
                      if (y(e)) return e;
                      try {
                        throw new Error(m(e));
                      } catch (t) {
                        return t;
                      }
                    };
              })(),
              j = function (e) {
                return S.isArray(e) ? e : null;
              };
            if ("undefined" != typeof Symbol && Symbol.iterator) {
              var L =
                "function" == typeof Array.from
                  ? function (e) {
                      return Array.from(e);
                    }
                  : function (e) {
                      for (
                        var t, n = [], i = e[Symbol.iterator]();
                        !(t = i.next()).done;

                      )
                        n.push(t.value);
                      return n;
                    };
              j = function (e) {
                return S.isArray(e)
                  ? e
                  : null != e && "function" == typeof e[Symbol.iterator]
                  ? L(e)
                  : null;
              };
            }
            var N =
                "undefined" != typeof process &&
                "[object process]" === b(process).toLowerCase(),
              U = {
                isClass: d,
                isIdentifier: h,
                inheritedDataKeys: I,
                getDataPropertyOrDefault: l,
                thrower: u,
                isArray: S.isArray,
                asArray: j,
                notEnumerableProp: c,
                isPrimitive: r,
                isObject: s,
                isError: g,
                canEvaluate: x,
                errorObj: P,
                tryCatch: i,
                inherits: A,
                withAppended: a,
                maybeWrapAsError: o,
                toFastProperties: p,
                filledRange: f,
                toString: m,
                canAttachTrace: y,
                ensureErrorObject: R,
                originatesFromRejection: v,
                markAsOriginatingFromRejection: _,
                classString: b,
                copyDescriptors: w,
                hasDevTools:
                  "undefined" != typeof chrome &&
                  chrome &&
                  "function" == typeof chrome.loadTimes,
                isNode: N,
                env: C,
                global: O,
                getNativePromise: k,
                domainBind: T,
              };
            (U.isRecentNode =
              U.isNode &&
              (function () {
                var e = process.versions.node.split(".").map(Number);
                return (0 === e[0] && e[1] > 10) || e[0] > 0;
              })()),
              U.isNode && U.toFastProperties(process);
            try {
              throw new Error();
            } catch (B) {
              U.lastLineError = B;
            }
            t.exports = U;
          },
          {
            "./es5": 13,
          },
        ],
      },
      {},
      [4]
    )(4);
  }),
  "undefined" != typeof window && null !== window
    ? (window.P = window.Promise)
    : "undefined" != typeof self && null !== self && (self.P = self.Promise),
  (window.BrowserDetect = {
    init: function () {
      (this.browser = this.searchString(this.dataBrowser) || "Other"),
        (this.version =
          this.searchVersion(navigator.userAgent) ||
          this.searchVersion(navigator.appVersion) ||
          "Unknown"),
        (this.osVersion = this.searchString(this.dataClient) || "Other"),
        "Other" !== this.browser ||
          (!document.hasOwnProperty("documentMode") &&
            "Netscape" !== navigator.appName) ||
          (this.browser = "Edge");
    },
    searchString: function (e) {
      for (var t = 0; t < e.length; t++) {
        var n = e[t].string;
        if (
          ((this.versionSearchString = e[t].subString),
          -1 != n.indexOf(e[t].subString))
        )
          return e[t].identity;
      }
    },
    searchVersion: function (e) {
      var t = e.indexOf(this.versionSearchString);
      if (-1 != t)
        return parseFloat(e.substring(t + this.versionSearchString.length + 1));
    },
    dataBrowser: [
      {
        string: navigator.userAgent,
        subString: "Googlebot",
        identity: "Other",
      },
      {
        string: navigator.userAgent,
        subString: "Edge",
        identity: "Edge",
      },
      {
        string: navigator.userAgent,
        subString: "Chrome",
        identity: "Chrome",
      },
      {
        string: navigator.userAgent,
        subString: "MSIE",
        identity: "Explorer",
      },
      {
        string: navigator.userAgent,
        subString: "Trident",
        identity: "IE11",
      },
      {
        string: navigator.userAgent,
        subString: "Firefox",
        identity: "Firefox",
      },
      {
        string: navigator.userAgent,
        subString: "Safari",
        identity: "Safari",
      },
      {
        string: navigator.userAgent,
        subString: "Opera",
        identity: "Opera",
      },
      {
        string: navigator.userAgent,
        subString: "OPR",
        identity: "Opera",
      },
    ],
    dataClient: [
      {
        string: navigator.userAgent,
        subString: "Windows NT 10.0",
        identity: "Windows 10",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 6.2",
        identity: "Windows 8",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 6.1",
        identity: "Windows 7",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 6.0",
        identity: "Windows Vista",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 5.2",
        identity: "Windows Server",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 5.1",
        identity: "Windows XP",
      },
      {
        string: navigator.userAgent,
        subString: "Windows NT 5.0",
        identity: "Windows 2000",
      },
      {
        string: navigator.userAgent,
        subString: "Mac",
        identity: "Mac/iOS",
      },
      {
        string: navigator.userAgent,
        subString: "X11",
        identity: "UNIX",
      },
      {
        string: navigator.userAgent,
        subString: "Linux",
        identity: "Linux",
      },
    ],
  }),
  BrowserDetect.init(),
  (window.Helpers = {}),
  (window.Registry = {}),
  (window.Modals = {}),
  (window.Model = {}),
  (window.requestAnimationFrame =
    window.requestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.msRequestAnimationFrame),
  (window.cancelAnimationFrame =
    window.cancelAnimationFrame || window.mozCancelAnimationFrame),
  Function.prototype.bind ||
    (Function.prototype.bind = function (e) {
      if ("function" != typeof this)
        throw new TypeError(
          "Function.prototype.bind - what is trying to be bound is not callable"
        );
      var t = Array.prototype.slice.call(arguments, 1),
        n = this,
        i = function () {},
        r = function () {
          return n.apply(
            this instanceof i && e ? this : e,
            t.concat(Array.prototype.slice.call(arguments))
          );
        };
      return (i.prototype = this.prototype), (r.prototype = new i()), r;
    }),
  (function () {
    function e(e) {
      this.el = e;
      for (
        var t = e.className.replace(/^\s+|\s+$/g, "").split(/\s+/), n = 0;
        n < t.length;
        n++
      )
        i.call(this, t[n]);
    }
    function t(e, t, n) {
      Object.defineProperty
        ? Object.defineProperty(e, t, {
            get: n,
          })
        : e.__defineGetter__(t, n);
    }
    if (
      !(
        "undefined" == typeof window.Element ||
        "classList" in document.documentElement
      )
    ) {
      var n = Array.prototype,
        i = n.push,
        r = n.splice,
        s = n.join;
      (e.prototype = {
        add: function (e) {
          this.contains(e) ||
            (i.call(this, e), (this.el.className = this.toString()));
        },
        contains: function (e) {
          return -1 != this.el.className.indexOf(e);
        },
        item: function (e) {
          return this[e] || null;
        },
        remove: function (e) {
          if (this.contains(e)) {
            for (var t = 0; t < this.length && this[t] != e; t++);
            r.call(this, t, 1), (this.el.className = this.toString());
          }
        },
        toString: function () {
          return s.call(this, " ");
        },
        toggle: function (e) {
          return (
            this.contains(e) ? this.remove(e) : this.add(e), this.contains(e)
          );
        },
      }),
        (window.DOMTokenList = e),
        t(Element.prototype, "classList", function () {
          return new e(this);
        });
    }
  })(),
  (function (e) {
    "HTMLCanvasElement" in e &&
      "toDataURL" in e.HTMLCanvasElement.prototype &&
      ("toBlob" in e.HTMLCanvasElement.prototype ||
        Object.defineProperty(e.HTMLCanvasElement.prototype, "toBlob", {
          value: function (t) {
            var n = this.toDataURL.apply(this, [].slice.call(arguments, 1)),
              i = /^data:(.*?);base64,(.*)$/.exec(n),
              r = i[1],
              s = i[2];
            setTimeout(function () {
              t(
                new Blob(
                  [
                    new Uint8Array(
                      e
                        .atob(s)
                        .split("")
                        .map(function (e) {
                          return e.charCodeAt(0);
                        })
                    ),
                  ],
                  {
                    type: r,
                  }
                )
              );
            }, 0);
          },
          writable: !0,
          enumerable: !0,
          configurable: !0,
        }));
  })(self),
  Object.entries ||
    (console.log("Object.entries polyfill"),
    (Object.entries = function (e) {
      for (var t = Object.keys(e), n = t.length, i = new Array(n); n--; )
        i[n] = [t[n], e[t[n]]];
      return i;
    })),
  "undefined" == typeof Set || "function" != typeof Set.prototype.keys)
)
  var Set = (function () {
    "use strict";
    function e(e, t) {
      return c.call(e, t);
    }
    function t(e) {
      var t;
      return "object" == typeof e
        ? ((t = u.call(e)),
          l[t] === !0 ||
            ("number" == typeof e.length &&
              e.length >= 0 &&
              (0 === e.length ||
                ("object" == typeof e[0] && e[0].nodeType > 0))))
        : !1;
    }
    function n(e, t, n, i, r) {
      d
        ? Object.defineProperty(e, t, {
            enumerable: i,
            configurable: !1,
            writable: r,
            value: n,
          })
        : (e[t] = n);
    }
    function i(e, t) {
      (p = !0), (e.size = t), (p = !1);
    }
    function r(e) {
      var i = 0;
      if (
        (n(this, "baseType", "Set", !1, !1),
        n(this, "_data", {}, !1, !0),
        d
          ? Object.defineProperty(this, "size", {
              enumerable: !0,
              configurable: !1,
              get: function () {
                return i;
              },
              set: function (e) {
                if (!p)
                  throw new Error("Can't set size property on Set object.");
                i = e;
              },
            })
          : (this.size = 0),
        void 0 !== e && null !== e)
      )
        if (t(e)) for (var r = 0; r < e.length; r++) this.add(e[r]);
        else
          (e instanceof Set || "Set" === e.baseType) &&
            e.forEach(function (e) {
              this.add(e);
            }, this);
    }
    function s(e, t) {
      var n,
        i = typeof e;
      if (g[i]) return i.substr(0, 3) + "_" + e;
      if (null === e) return "nul_null";
      if ("object" === i || "function" === i)
        return e[m]
          ? e[m]
          : t
          ? ((n = f + h++),
            "[object Object]" === u.call(e) && d
              ? Object.defineProperty(e, m, {
                  enumerable: !1,
                  configurable: !1,
                  writable: !1,
                  value: n,
                })
              : (e[m] = n),
            n)
          : null;
      throw new Error("Unsupported type for Set.add()");
    }
    function o(t, n, i) {
      var r = 0,
        s = t.length;
      this.next = function () {
        for (var o, a, l = {}; ; ) {
          if (s > r) {
            if (
              ((l.done = !1),
              (a = t[r++]),
              (o = n[a]),
              void 0 === o && !e(n, a))
            )
              continue;
            "keys" === i
              ? (l.value = o)
              : "entries" === i && (l.value = [o, o]);
          } else (t = null), (n = null), (l.done = !0);
          return l;
        }
      };
    }
    function a(t) {
      var n = [];
      for (var i in t) e(t, i) && n.push(i);
      return n;
    }
    var l = {
        "[object Array]": !0,
        "[object Arguments]": !0,
        "[object HTMLCollection]": !0,
        "[object NodeList]": !0,
      },
      c = Object.prototype.hasOwnProperty,
      u = Object.prototype.toString,
      d = Object.defineProperty && Object.defineProperties,
      p = !1,
      h = 0,
      f = "obj_",
      m = "__objectPolyFillID",
      g = {
        string: !0,
        boolean: !0,
        number: !0,
        undefined: !0,
      };
    return (
      (r.prototype = {
        add: function (t) {
          var n = s(t, !0);
          return (
            e(this._data, n) || ((this._data[n] = t), i(this, this.size + 1)),
            this
          );
        },
        clear: function () {
          (this._data = {}), i(this, 0);
        },
        delete: function (t) {
          var n = s(t, !1);
          return null !== n && e(this._data, n)
            ? (delete this._data[n], i(this, this.size - 1), !0)
            : !1;
        },
        remove: function (e) {
          return this["delete"](e);
        },
        forEach: function (e) {
          if ("function" == typeof e)
            for (
              var t, n, i = arguments[1], r = this.keys();
              (t = r.next()) && !t.done;

            )
              (n = t.value), e.call(i, n, n, this);
        },
        has: function (e) {
          var t = s(e, !1);
          return null === t ? !1 : c.call(this._data, t);
        },
        values: function () {
          return this.keys();
        },
        keys: function () {
          return new o(a(this._data), this._data, "keys");
        },
        entries: function () {
          return new o(a(this._data), this._data, "entries");
        },
      }),
      (r.prototype.constructor = r),
      r
    );
  })();
/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if (
  (Class("ExperimentsManager")({
    GROUPS: {
      CONTROL: 0,
      VARIANT: 1,
      EXCLUDED: -1,
    },
    _instance: null,
    getInstance: function () {
      return ExperimentsManager._instance
        ? ExperimentsManager._instance
        : ((ExperimentsManager._instance = new ExperimentsManager()),
          ExperimentsManager._instance);
    },
    prototype: {
      _COOKIES_PREFIX: "_pl_gtmc",
      _experimentData: null,
      _processedExperimentsVariants: null,
      init: function () {
        var e = this;
        if (
          ((this._experimentData = null),
          (this._processedExperimentsVariants = new Set(
            this._getAllExperimentsCookiesValues()
          )),
          this._processedExperimentsVariants.size)
        )
          var t = setInterval(function () {
            window.analytics &&
              window.analytics.identify &&
              (clearInterval(t), e._sendIdentifyRequest());
          }, 100);
      },
      runExperiment: function (e) {
        this._experimentData = Object.assign({}, e);
        try {
          this._validateExperimentData(),
            this._normalizeExperimentData(),
            this._processExperiment();
        } catch (t) {
          throw ((this._experimentData = null), t);
        } finally {
          this._experimentData = null;
        }
      },
      _validateExperimentData: function () {
        var e = this._experimentData.id;
        if (!e || "string" != typeof e)
          throw new Error('Wrong Experiment Data. Invalid "id" property.');
        var t = this._experimentData.expire,
          n = new Date(t).getTime();
        if (isNaN(n))
          throw new Error(
            'Wrong Experiment Data. Invalid date for "expire" property.'
          );
        var i = this._experimentData.segmentation;
        if (null !== i && "undefined" != typeof i) {
          if ("number" != typeof i)
            throw new Error(
              'Wrong Experiment Data. If defined, "segmentation" should be a number between 0 and 1.'
            );
          if (0 > i || i > 1)
            throw new Error(
              'Wrong Experiment Data. If defined, "segmentation" should be a number between 0 and 1.'
            );
        }
        var r = this._experimentData.validations;
        if (r) {
          if (Array.isArray(r) === !1)
            throw new Error(
              'Wrong Experiment Data. If defined, "validations" should be an array of functions returning boolean.'
            );
          r.forEach(function (e) {
            if ("function" != typeof e)
              throw new Error(
                'Wrong Experiment Data. If defined, "validations" should be an array of functions returning boolean.'
              );
          });
        }
        var s = this._experimentData.control;
        if ("undefined" != typeof s && "function" != typeof s)
          throw new Error(
            'Wrong Experiment Data. If defined, "control" need to be a function.'
          );
        var o = this._experimentData.variant;
        if ("undefined" != typeof o && "function" != typeof o)
          throw new Error(
            'Wrong Experiment Data. If defined, "variant" need to be a function.'
          );
      },
      _normalizeExperimentData: function () {
        var e = this._experimentData.control;
        (e && "function" == typeof e) ||
          (this._experimentData.control = new Function());
        var t = this._experimentData.variant;
        (t && "function" == typeof t) ||
          (this._experimentData.variant = new Function());
        var n = this._experimentData.segmentation;
        n || (this._experimentData.segmentation = 1);
        var i = this._experimentData.validations;
        i || (this._experimentData.validations = []);
      },
      _wasExpireDateReached: function () {
        var e = Date.now(),
          t = this._getExpireTimestamp();
        return e >= t;
      },
      _getExpireTimestamp: function () {
        var e = this._experimentData.expire,
          t = new Date(e),
          n = Date.UTC(t.getFullYear(), t.getMonth(), t.getDate());
        return n;
      },
      _processExperiment: function () {
        if (!this._wasExpireDateReached()) {
          var e = this._getCookieName(),
            t = this._getCookieValue(e),
            n = ExperimentsManager.GROUPS.CONTROL;
          if ("" === t) {
            var i = !1;
            try {
              i = this._shouldBeAddedToExperiment() === !1;
            } catch (r) {
              throw (this._excludeUser(), r);
            }
            if (i) return void this._excludeUser();
            this._shouldBeAddedToVariant() &&
              (n = ExperimentsManager.GROUPS.VARIANT),
              (t = this._tagWithExperimentId(n));
          }
          if (!this._isUserExcluded(t)) {
            var s = this._experimentData.control;
            if (this._shouldRunVariantCode(t))
              var s = this._experimentData.variant;
            s && "function" == typeof s && s(), this._sendIdentifyRequest(t);
          }
        }
      },
      _getCookieName: function () {
        var e = [this._COOKIES_PREFIX, this._experimentData.id].join("_");
        return e;
      },
      _getCookieValue: function (e) {
        return $.cookie(e) || "";
      },
      _setCookieValue: function (e, t) {
        var n = this._getExpireTimestamp();
        $.cookie(e, t, {
          path: "/",
          expires: new Date(n),
        });
      },
      _getAllExperimentsCookiesValues: function () {
        return document.cookie
          .split(";")
          .filter(function (e) {
            return 0 === e.trim().indexOf("_pl_gtmc");
          })
          .map(function (e) {
            return e.trim().split("=")[1];
          })
          .sort();
      },
      _isUserExcluded: function (e) {
        return /\.-1$/.test(e);
      },
      _excludeUser: function () {
        var e = this._tagWithExperimentId(ExperimentsManager.GROUPS.EXCLUDED);
        this._sendIdentifyRequest(e);
      },
      _shouldBeAddedToExperiment: function () {
        var e = this._experimentData.validations;
        if (!e) return !0;
        for (var t = 0; t < e.length; t++) {
          var n = e[t];
          if (n() === !1) return !1;
        }
        return !0;
      },
      _shouldBeAddedToVariant: function () {
        var e = Math.floor(99 * Math.random()),
          t = this._experimentData.segmentation;
        return t || (t = 1), 100 * t >= e;
      },
      _shouldRunVariantCode: function (e) {
        return /\.1$/.test(e);
      },
      _tagWithExperimentId: function (e) {
        var t = [this._experimentData.id, e].join(".");
        return this._setCookieValue(this._getCookieName(), t), t;
      },
      _sendIdentifyRequest: function (e) {
        if (
          (e && this._processedExperimentsVariants.add(e),
          this._processedExperimentsVariants.size)
        ) {
          var t = [];
          this._processedExperimentsVariants.forEach(function (e) {
            t.push(e);
          });
          var n = t.join("!");
          analytics.identify({
            experiment_name: n,
          }),
            this._sendPageRequest(n);
        }
      },
      _sendPageRequest: function (e) {
        var t = window._pl_userInfo;
        null === t.email &&
          (t = {
            id: null,
            email: "notloggedin@placeit.net",
          });
        var n = window._pl_category;
        // analytics.page({
        //     userId: t.id,
        //     email: t.email,
        //     status: t.status,
        //     page_category: n,
        //     page_type: window.pageType.page_type,
        //     experiment_name: e
        // })
      },
    },
  }),
  ExperimentsManager.getInstance(),
  /*!
   * jQuery Cookie Plugin v1.3
   * https://github.com/carhartl/jquery-cookie
   *
   * Copyright 2011, Klaus Hartl
   * Dual licensed under the MIT or GPL Version 2 licenses.
   * http://www.opensource.org/licenses/mit-license.php
   * http://www.opensource.org/licenses/GPL-2.0
   */
  (function (e, t, n) {
    function i(e) {
      return e;
    }
    function r(e) {
      return decodeURIComponent(e.replace(s, " "));
    }
    var s = /\+/g,
      o = (e.cookie = function (s, a, l) {
        if (a !== n) {
          if (
            ((l = e.extend({}, o.defaults, l)),
            null === a && (l.expires = -1),
            "number" == typeof l.expires)
          ) {
            var c = l.expires,
              u = (l.expires = new Date());
            u.setDate(u.getDate() + c);
          }
          return (
            (a = o.json ? JSON.stringify(a) : String(a)),
            (t.cookie = [
              encodeURIComponent(s),
              "=",
              o.raw ? a : encodeURIComponent(a),
              l.expires ? "; expires=" + l.expires.toUTCString() : "",
              l.path ? "; path=" + l.path : "",
              l.domain ? "; domain=" + l.domain : "",
              l.secure ? "; secure" : "",
            ].join(""))
          );
        }
        for (
          var d = o.raw ? i : r, p = t.cookie.split("; "), h = 0, f = p.length;
          f > h;
          h++
        ) {
          var m = p[h].split("=");
          if (d(m.shift()) === s) {
            var g = d(m.join("="));
            return o.json ? JSON.parse(g) : g;
          }
        }
        return null;
      });
    (o.defaults = {}),
      (e.removeCookie = function (t, n) {
        return null !== e.cookie(t) ? (e.cookie(t, null, n), !0) : !1;
      });
  })(jQuery, document),
  "Other" !== BrowserDetect.browser &&
    (window.apiPage === !0 &&
      ((window.dataLayer = window.dataLayer || []),
      window.dataLayer.push({
        "gtm.blocklist": ["customScripts", "nonGoogleIframes"],
      })),
    window.apiPage === !0),
  /**
   * @license
   * Video.js 7.3.0 <http://videojs.com/>
   * Copyright Brightcove, Inc. <https://www.brightcove.com/>
   * Available under Apache License Version 2.0
   * <https://github.com/videojs/video.js/blob/master/LICENSE>
   *
   * Includes vtt.js <https://github.com/mozilla/vtt.js>
   * Available under Apache License Version 2.0
   * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
   */
  !(function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = t(
          require("global/window"),
          require("global/document")
        ))
      : "function" == typeof define && define.amd
      ? define(["global/window", "global/document"], t)
      : (e.videojs = t(e.window, e.document));
  })(this, function (e, t) {
    function n(e, t) {
      (e.prototype = Object.create(t.prototype)),
        ((e.prototype.constructor = e).__proto__ = t);
    }
    function i(e, t) {
      return (i =
        Object.setPrototypeOf ||
        function (e, t) {
          return (e.__proto__ = t), e;
        })(e, t);
    }
    function r() {
      return (r = (function () {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (e) {
          return !1;
        }
      })()
        ? Reflect.construct
        : function (e, t, n) {
            var r = [null];
            r.push.apply(r, t);
            var s = new (Function.bind.apply(e, r))();
            return n && i(s, n.prototype), s;
          }).apply(null, arguments);
    }
    function s(e) {
      if (void 0 === e)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return e;
    }
    function o(e, t) {
      return t || (t = e.slice(0)), (e.raw = t), e;
    }
    function a(e, t) {
      Jt(e).forEach(function (n) {
        return t(e[n], n);
      });
    }
    function l(e) {
      for (
        var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1;
        t > i;
        i++
      )
        n[i - 1] = arguments[i];
      return Object.assign
        ? Object.assign.apply(Object, [e].concat(n))
        : (n.forEach(function (t) {
            t &&
              a(t, function (t, n) {
                e[n] = t;
              });
          }),
          e);
    }
    function c(e) {
      return !!e && "object" == typeof e;
    }
    function u(e) {
      return (
        c(e) && "[object Object]" === Qt.call(e) && e.constructor === Object
      );
    }
    function d(t, n) {
      if (!t || !n) return "";
      if ("function" != typeof e.getComputedStyle) return "";
      var i = e.getComputedStyle(t);
      return i ? i[n] : "";
    }
    function p() {
      var e = o([
        "Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ",
        " to ",
        ".",
      ]);
      return (
        (p = function () {
          return e;
        }),
        e
      );
    }
    function h(e) {
      return "string" == typeof e && /\S/.test(e);
    }
    function f(e) {
      if (/\s/.test(e))
        throw new Error("class has illegal whitespace characters");
    }
    function m() {
      return t === e.document;
    }
    function g(e) {
      return c(e) && 1 === e.nodeType;
    }
    function _() {
      try {
        return e.parent !== e.self;
      } catch (t) {
        return !0;
      }
    }
    function v(e) {
      return function (n, i) {
        if (!h(n)) return t[e](null);
        h(i) && (i = t.querySelector(i));
        var r = g(i) ? i : t;
        return r[e] && r[e](n);
      };
    }
    function y(e, n, i, r) {
      void 0 === e && (e = "div"),
        void 0 === n && (n = {}),
        void 0 === i && (i = {});
      var s = t.createElement(e);
      return (
        Object.getOwnPropertyNames(n).forEach(function (e) {
          var t = n[e];
          -1 !== e.indexOf("aria-") || "role" === e || "type" === e
            ? (Gt.warn(Xt(p(), e, t)), s.setAttribute(e, t))
            : "textContent" === e
            ? b(s, t)
            : (s[e] = t);
        }),
        Object.getOwnPropertyNames(i).forEach(function (e) {
          s.setAttribute(e, i[e]);
        }),
        r && B(s, r),
        s
      );
    }
    function b(e, t) {
      return (
        "undefined" == typeof e.textContent
          ? (e.innerText = t)
          : (e.textContent = t),
        e
      );
    }
    function w(e, t) {
      t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e);
    }
    function C(e, t) {
      return (
        f(t),
        e.classList
          ? e.classList.contains(t)
          : ((n = t), new RegExp("(^|\\s)" + n + "($|\\s)")).test(e.className)
      );
      var n;
    }
    function k(e, t) {
      return (
        e.classList
          ? e.classList.add(t)
          : C(e, t) || (e.className = (e.className + " " + t).trim()),
        e
      );
    }
    function T(e, t) {
      return (
        e.classList
          ? e.classList.remove(t)
          : (f(t),
            (e.className = e.className
              .split(/\s+/)
              .filter(function (e) {
                return e !== t;
              })
              .join(" "))),
        e
      );
    }
    function E(e, t, n) {
      var i = C(e, t);
      return (
        "function" == typeof n && (n = n(e, t)),
        "boolean" != typeof n && (n = !i),
        n !== i ? (n ? k(e, t) : T(e, t), e) : void 0
      );
    }
    function S(e, t) {
      Object.getOwnPropertyNames(t).forEach(function (n) {
        var i = t[n];
        null === i || "undefined" == typeof i || !1 === i
          ? e.removeAttribute(n)
          : e.setAttribute(n, !0 === i ? "" : i);
      });
    }
    function x(e) {
      var t = {},
        n = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";
      if (e && e.attributes && 0 < e.attributes.length)
        for (var i = e.attributes, r = i.length - 1; r >= 0; r--) {
          var s = i[r].name,
            o = i[r].value;
          ("boolean" != typeof e[s] && -1 === n.indexOf("," + s + ",")) ||
            (o = null !== o),
            (t[s] = o);
        }
      return t;
    }
    function P(e, t) {
      return e.getAttribute(t);
    }
    function O(e, t, n) {
      e.setAttribute(t, n);
    }
    function A(e, t) {
      e.removeAttribute(t);
    }
    function I() {
      t.body.focus(),
        (t.onselectstart = function () {
          return !1;
        });
    }
    function D() {
      t.onselectstart = function () {
        return !0;
      };
    }
    function M(e) {
      if (e && e.getBoundingClientRect && e.parentNode) {
        var t = e.getBoundingClientRect(),
          n = {};
        return (
          ["bottom", "height", "left", "right", "top", "width"].forEach(
            function (e) {
              void 0 !== t[e] && (n[e] = t[e]);
            }
          ),
          n.height || (n.height = parseFloat(d(e, "height"))),
          n.width || (n.width = parseFloat(d(e, "width"))),
          n
        );
      }
    }
    function R(n) {
      var i;
      if (
        (n.getBoundingClientRect &&
          n.parentNode &&
          (i = n.getBoundingClientRect()),
        !i)
      )
        return {
          left: 0,
          top: 0,
        };
      var r = t.documentElement,
        s = t.body,
        o = r.clientLeft || s.clientLeft || 0,
        a = e.pageXOffset || s.scrollLeft,
        l = i.left + a - o,
        c = r.clientTop || s.clientTop || 0,
        u = e.pageYOffset || s.scrollTop,
        d = i.top + u - c;
      return {
        left: Math.round(l),
        top: Math.round(d),
      };
    }
    function j(e, t) {
      var n = {},
        i = R(e),
        r = e.offsetWidth,
        s = e.offsetHeight,
        o = i.top,
        a = i.left,
        l = t.pageY,
        c = t.pageX;
      return (
        t.changedTouches &&
          ((c = t.changedTouches[0].pageX), (l = t.changedTouches[0].pageY)),
        (n.y = Math.max(0, Math.min(1, (o - l + s) / s))),
        (n.x = Math.max(0, Math.min(1, (c - a) / r))),
        n
      );
    }
    function L(e) {
      return c(e) && 3 === e.nodeType;
    }
    function N(e) {
      for (; e.firstChild; ) e.removeChild(e.firstChild);
      return e;
    }
    function U(e) {
      return (
        "function" == typeof e && (e = e()),
        (Array.isArray(e) ? e : [e])
          .map(function (e) {
            return (
              "function" == typeof e && (e = e()),
              g(e) || L(e)
                ? e
                : "string" == typeof e && /\S/.test(e)
                ? t.createTextNode(e)
                : void 0
            );
          })
          .filter(function (e) {
            return e;
          })
      );
    }
    function B(e, t) {
      return (
        U(t).forEach(function (t) {
          return e.appendChild(t);
        }),
        e
      );
    }
    function $(e, t) {
      return B(N(e), t);
    }
    function F(e) {
      return (
        (void 0 === e.button && void 0 === e.buttons) ||
        (0 === e.button && void 0 === e.buttons) ||
        (0 === e.button && 1 === e.buttons)
      );
    }
    function H() {
      return nn++;
    }
    function W(e) {
      var t = e[sn];
      return t || (t = e[sn] = H()), rn[t] || (rn[t] = {}), rn[t];
    }
    function q(e) {
      var t = e[sn];
      return !!t && !!Object.getOwnPropertyNames(rn[t]).length;
    }
    function z(e) {
      var t = e[sn];
      if (t) {
        delete rn[t];
        try {
          delete e[sn];
        } catch (t) {
          e.removeAttribute ? e.removeAttribute(sn) : (e[sn] = null);
        }
      }
    }
    function V(e, t) {
      var n = W(e);
      0 === n.handlers[t].length &&
        (delete n.handlers[t],
        e.removeEventListener
          ? e.removeEventListener(t, n.dispatcher, !1)
          : e.detachEvent && e.detachEvent("on" + t, n.dispatcher)),
        Object.getOwnPropertyNames(n.handlers).length <= 0 &&
          (delete n.handlers, delete n.dispatcher, delete n.disabled),
        0 === Object.getOwnPropertyNames(n).length && z(e);
    }
    function K(e, t, n, i) {
      n.forEach(function (n) {
        e(t, n, i);
      });
    }
    function G(n) {
      function i() {
        return !0;
      }
      function r() {
        return !1;
      }
      if (!n || !n.isPropagationStopped) {
        var s = n || e.event;
        for (var o in ((n = {}), s))
          "layerX" !== o &&
            "layerY" !== o &&
            "keyLocation" !== o &&
            "webkitMovementX" !== o &&
            "webkitMovementY" !== o &&
            (("returnValue" === o && s.preventDefault) || (n[o] = s[o]));
        if (
          (n.target || (n.target = n.srcElement || t),
          n.relatedTarget ||
            (n.relatedTarget =
              n.fromElement === n.target ? n.toElement : n.fromElement),
          (n.preventDefault = function () {
            s.preventDefault && s.preventDefault(),
              (n.returnValue = !1),
              (s.returnValue = !1),
              (n.defaultPrevented = !0);
          }),
          (n.defaultPrevented = !1),
          (n.stopPropagation = function () {
            s.stopPropagation && s.stopPropagation(),
              (n.cancelBubble = !0),
              (s.cancelBubble = !0),
              (n.isPropagationStopped = i);
          }),
          (n.isPropagationStopped = r),
          (n.stopImmediatePropagation = function () {
            s.stopImmediatePropagation && s.stopImmediatePropagation(),
              (n.isImmediatePropagationStopped = i),
              n.stopPropagation();
          }),
          (n.isImmediatePropagationStopped = r),
          null !== n.clientX && void 0 !== n.clientX)
        ) {
          var a = t.documentElement,
            l = t.body;
          (n.pageX =
            n.clientX +
            ((a && a.scrollLeft) || (l && l.scrollLeft) || 0) -
            ((a && a.clientLeft) || (l && l.clientLeft) || 0)),
            (n.pageY =
              n.clientY +
              ((a && a.scrollTop) || (l && l.scrollTop) || 0) -
              ((a && a.clientTop) || (l && l.clientTop) || 0));
        }
        (n.which = n.charCode || n.keyCode),
          null !== n.button &&
            void 0 !== n.button &&
            (n.button =
              1 & n.button ? 0 : 4 & n.button ? 1 : 2 & n.button ? 2 : 0);
      }
      return n;
    }
    function Y(e, t, n) {
      if (Array.isArray(t)) return K(Y, e, t, n);
      var i = W(e);
      if (
        (i.handlers || (i.handlers = {}),
        i.handlers[t] || (i.handlers[t] = []),
        n.guid || (n.guid = H()),
        i.handlers[t].push(n),
        i.dispatcher ||
          ((i.disabled = !1),
          (i.dispatcher = function (t, n) {
            if (!i.disabled) {
              t = G(t);
              var r = i.handlers[t.type];
              if (r)
                for (
                  var s = r.slice(0), o = 0, a = s.length;
                  a > o && !t.isImmediatePropagationStopped();
                  o++
                )
                  try {
                    s[o].call(e, t, n);
                  } catch (t) {
                    Gt.error(t);
                  }
            }
          })),
        1 === i.handlers[t].length)
      )
        if (e.addEventListener) {
          var r = !1;
          on &&
            -1 < ln.indexOf(t) &&
            (r = {
              passive: !0,
            }),
            e.addEventListener(t, i.dispatcher, r);
        } else e.attachEvent && e.attachEvent("on" + t, i.dispatcher);
    }
    function X(e, t, n) {
      if (q(e)) {
        var i = W(e);
        if (i.handlers) {
          if (Array.isArray(t)) return K(X, e, t, n);
          var r = function (e, t) {
            (i.handlers[t] = []), V(e, t);
          };
          if (void 0 !== t) {
            var s = i.handlers[t];
            if (s)
              if (n) {
                if (n.guid)
                  for (var o = 0; o < s.length; o++)
                    s[o].guid === n.guid && s.splice(o--, 1);
                V(e, t);
              } else r(e, t);
          } else
            for (var a in i.handlers)
              Object.prototype.hasOwnProperty.call(i.handlers || {}, a) &&
                r(e, a);
        }
      }
    }
    function Q(e, t, n) {
      var i = q(e) ? W(e) : {},
        r = e.parentNode || e.ownerDocument;
      if (
        ("string" == typeof t
          ? (t = {
              type: t,
              target: e,
            })
          : t.target || (t.target = e),
        (t = G(t)),
        i.dispatcher && i.dispatcher.call(e, t, n),
        r && !t.isPropagationStopped() && !0 === t.bubbles)
      )
        Q.call(null, r, t, n);
      else if (!r && !t.defaultPrevented) {
        var s = W(t.target);
        t.target[t.type] &&
          ((s.disabled = !0),
          "function" == typeof t.target[t.type] && t.target[t.type](),
          (s.disabled = !1));
      }
      return !t.defaultPrevented;
    }
    function J(e, t, n) {
      if (Array.isArray(t)) return K(J, e, t, n);
      var i = function r() {
        X(e, t, r), n.apply(this, arguments);
      };
      (i.guid = n.guid = n.guid || H()), Y(e, t, i);
    }
    function Z(t, n) {
      n && (an = n), e.setTimeout(dn, t);
    }
    function et(t, n) {
      void 0 === n && (n = {});
      var i = n.eventBusKey;
      if (i) {
        if (!t[i].nodeName)
          throw new Error(
            'The eventBusKey "' + i + '" does not refer to an element.'
          );
        t.eventBusEl_ = t[i];
      } else
        t.eventBusEl_ = y("span", {
          className: "vjs-event-bus",
        });
      return (
        l(t, En),
        t.on("dispose", function () {
          t.off(),
            e.setTimeout(function () {
              t.eventBusEl_ = null;
            }, 0);
        }),
        t
      );
    }
    function tt(e, t) {
      return (
        l(e, Sn),
        (e.state = l({}, e.state, t)),
        "function" == typeof e.handleStateChanged &&
          vn(e) &&
          e.on("statechanged", e.handleStateChanged),
        e
      );
    }
    function nt(e) {
      return "string" != typeof e ? e : e.charAt(0).toUpperCase() + e.slice(1);
    }
    function it() {
      for (
        var e = {}, t = arguments.length, n = new Array(t), i = 0;
        t > i;
        i++
      )
        n[i] = arguments[i];
      return (
        n.forEach(function (t) {
          t &&
            a(t, function (t, n) {
              u(t)
                ? (u(e[n]) || (e[n] = {}), (e[n] = it(e[n], t)))
                : (e[n] = t);
            });
        }),
        e
      );
    }
    function rt(e, t, n, i) {
      return (
        (function (e, t, n) {
          if ("number" != typeof t || 0 > t || t > n)
            throw new Error(
              "Failed to execute '" +
                e +
                "' on 'TimeRanges': The index provided (" +
                t +
                ") is non-numeric or out of bounds (0-" +
                n +
                ")."
            );
        })(e, i, n.length - 1),
        n[i][t]
      );
    }
    function st(e) {
      return void 0 === e || 0 === e.length
        ? {
            length: 0,
            start: function () {
              throw new Error("This TimeRanges object is empty");
            },
            end: function () {
              throw new Error("This TimeRanges object is empty");
            },
          }
        : {
            length: e.length,
            start: rt.bind(null, "start", 0, e),
            end: rt.bind(null, "end", 1, e),
          };
    }
    function ot(e, t) {
      return Array.isArray(e)
        ? st(e)
        : void 0 === e || void 0 === t
        ? st()
        : st([[e, t]]);
    }
    function at(e, t) {
      var n,
        i,
        r = 0;
      if (!t) return 0;
      (e && e.length) || (e = ot(0, 0));
      for (var s = 0; s < e.length; s++)
        (n = e.start(s)), t < (i = e.end(s)) && (i = t), (r += i - n);
      return r / t;
    }
    function lt(e) {
      return e instanceof lt
        ? e
        : ("number" == typeof e
            ? (this.code = e)
            : "string" == typeof e
            ? (this.message = e)
            : c(e) &&
              ("number" == typeof e.code && (this.code = e.code), l(this, e)),
          void (
            this.message || (this.message = lt.defaultMessages[this.code] || "")
          ));
    }
    function ct(e) {
      return null != e && "function" == typeof e.then;
    }
    function ut(e) {
      ct(e) && e.then(null, function () {});
    }
    function dt(e, t) {
      return (
        e(
          (t = {
            exports: {},
          }),
          t.exports
        ),
        t.exports
      );
    }
    function pt(e, t, n) {
      var i = e;
      return (
        Ai(t)
          ? ((n = t),
            "string" == typeof e &&
              (i = {
                uri: e,
              }))
          : (i = Wi(t, {
              uri: e,
            })),
        (i.callback = n),
        i
      );
    }
    function ht(e, t, n) {
      return ft((t = pt(e, t, n)));
    }
    function ft(e) {
      function t(e) {
        return (
          clearTimeout(l),
          e instanceof Error ||
            (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))),
          (e.statusCode = 0),
          o(e, m)
        );
      }
      function n() {
        if (!r) {
          var t;
          clearTimeout(l),
            (t =
              e.useXDR && void 0 === a.status
                ? 200
                : 1223 === a.status
                ? 204
                : a.status);
          var n = m,
            i = null;
          return (
            0 !== t
              ? ((n = {
                  body: (function () {
                    var e = void 0;
                    if (
                      ((e = a.response
                        ? a.response
                        : a.responseText ||
                          (function (e) {
                            if ("document" === e.responseType)
                              return e.responseXML;
                            var t =
                              e.responseXML &&
                              "parsererror" ===
                                e.responseXML.documentElement.nodeName;
                            return "" !== e.responseType || t
                              ? null
                              : e.responseXML;
                          })(a)),
                      f)
                    )
                      try {
                        e = JSON.parse(e);
                      } catch (e) {}
                    return e;
                  })(),
                  statusCode: t,
                  method: u,
                  headers: {},
                  url: c,
                  rawRequest: a,
                }),
                a.getAllResponseHeaders &&
                  (n.headers = Hi(a.getAllResponseHeaders())))
              : (i = new Error("Internal XMLHttpRequest Error")),
            o(i, n, n.body)
          );
        }
      }
      if ("undefined" == typeof e.callback)
        throw new Error("callback argument missing");
      var i,
        r,
        s = !1,
        o = function (t, n, i) {
          s || ((s = !0), e.callback(t, n, i));
        },
        a = e.xhr || null;
      a ||
        (a =
          e.cors || e.useXDR
            ? new ht.XDomainRequest()
            : new ht.XMLHttpRequest());
      var l,
        c = (a.url = e.uri || e.url),
        u = (a.method = e.method || "GET"),
        d = e.body || e.data,
        p = (a.headers = e.headers || {}),
        h = !!e.sync,
        f = !1,
        m = {
          body: void 0,
          headers: {},
          statusCode: 0,
          method: u,
          url: c,
          rawRequest: a,
        };
      if (
        ("json" in e &&
          !1 !== e.json &&
          ((f = !0),
          p.accept || p.Accept || (p.Accept = "application/json"),
          "GET" !== u &&
            "HEAD" !== u &&
            (p["content-type"] ||
              p["Content-Type"] ||
              (p["Content-Type"] = "application/json"),
            (d = JSON.stringify(!0 === e.json ? d : e.json)))),
        (a.onreadystatechange = function () {
          4 === a.readyState && setTimeout(n, 0);
        }),
        (a.onload = n),
        (a.onerror = t),
        (a.onprogress = function () {}),
        (a.onabort = function () {
          r = !0;
        }),
        (a.ontimeout = t),
        a.open(u, c, !h, e.username, e.password),
        h || (a.withCredentials = !!e.withCredentials),
        !h &&
          0 < e.timeout &&
          (l = setTimeout(function () {
            if (!r) {
              (r = !0), a.abort("timeout");
              var e = new Error("XMLHttpRequest timeout");
              (e.code = "ETIMEDOUT"), t(e);
            }
          }, e.timeout)),
        a.setRequestHeader)
      )
        for (i in p) p.hasOwnProperty(i) && a.setRequestHeader(i, p[i]);
      else if (
        e.headers &&
        !(function (e) {
          for (var t in e) if (e.hasOwnProperty(t)) return !1;
          return !0;
        })(e.headers)
      )
        throw new Error("Headers cannot be set on an XDomainRequest object");
      return (
        "responseType" in e && (a.responseType = e.responseType),
        "beforeSend" in e &&
          "function" == typeof e.beforeSend &&
          e.beforeSend(a),
        a.send(d || null),
        a
      );
    }
    function mt(e, t) {
      (this.name = "ParsingError"),
        (this.code = e.code),
        (this.message = t || e.message);
    }
    function gt(e) {
      function t(e, t, n, i) {
        return 3600 * (0 | e) + 60 * (0 | t) + (0 | n) + (0 | i) / 1e3;
      }
      var n = e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
      return n
        ? n[3]
          ? t(n[1], n[2], n[3].replace(":", ""), n[4])
          : 59 < n[1]
          ? t(n[1], n[2], 0, n[4])
          : t(0, n[1], n[2], n[4])
        : null;
    }
    function _t() {
      this.values = er(null);
    }
    function vt(e, t, n, i) {
      var r = i ? e.split(i) : [e];
      for (var s in r)
        if ("string" == typeof r[s]) {
          var o = r[s].split(n);
          2 === o.length && t(o[0], o[1]);
        }
    }
    function yt(e, t, n) {
      function i() {
        var t = gt(e);
        if (null === t)
          throw new mt(mt.Errors.BadTimeStamp, "Malformed timestamp: " + l);
        return (e = e.replace(/^[^\sa-zA-Z-]+/, "")), t;
      }
      function r() {
        e = e.replace(/^\s+/, "");
      }
      var s,
        o,
        a,
        l = e;
      if ((r(), (t.startTime = i()), r(), "-->" !== e.substr(0, 3)))
        throw new mt(
          mt.Errors.BadTimeStamp,
          "Malformed time stamp (time stamps must be separated by '-->'): " + l
        );
      (e = e.substr(3)),
        r(),
        (t.endTime = i()),
        r(),
        (s = e),
        (o = t),
        (a = new _t()),
        vt(
          s,
          function (e, t) {
            switch (e) {
              case "region":
                for (var i = n.length - 1; i >= 0; i--)
                  if (n[i].id === t) {
                    a.set(e, n[i].region);
                    break;
                  }
                break;
              case "vertical":
                a.alt(e, t, ["rl", "lr"]);
                break;
              case "line":
                var r = t.split(","),
                  s = r[0];
                a.integer(e, s),
                  a.percent(e, s) && a.set("snapToLines", !1),
                  a.alt(e, s, ["auto"]),
                  2 === r.length &&
                    a.alt("lineAlign", r[1], ["start", "middle", "end"]);
                break;
              case "position":
                (r = t.split(",")),
                  a.percent(e, r[0]),
                  2 === r.length &&
                    a.alt("positionAlign", r[1], ["start", "middle", "end"]);
                break;
              case "size":
                a.percent(e, t);
                break;
              case "align":
                a.alt(e, t, ["start", "middle", "end", "left", "right"]);
            }
          },
          /:/,
          /\s/
        ),
        (o.region = a.get("region", null)),
        (o.vertical = a.get("vertical", "")),
        (o.line = a.get("line", "auto")),
        (o.lineAlign = a.get("lineAlign", "start")),
        (o.snapToLines = a.get("snapToLines", !0)),
        (o.size = a.get("size", 100)),
        (o.align = a.get("align", "middle")),
        (o.position = a.get(
          "position",
          {
            start: 0,
            left: 0,
            middle: 50,
            end: 100,
            right: 100,
          },
          o.align
        )),
        (o.positionAlign = a.get(
          "positionAlign",
          {
            start: "start",
            left: "start",
            middle: "middle",
            end: "end",
            right: "end",
          },
          o.align
        ));
    }
    function bt(e, t) {
      function n() {
        if (!t) return null;
        var e,
          n = t.match(/^([^<]*)(<[^>]*>?)?/);
        return (e = n[1] ? n[1] : n[2]), (t = t.substr(e.length)), e;
      }
      function i(e) {
        return tr[e];
      }
      function r(e) {
        for (; (f = e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)); )
          e = e.replace(f[0], i);
        return e;
      }
      function s(t, n) {
        var i = nr[t];
        if (!i) return null;
        var r = e.document.createElement(i);
        r.localName = i;
        var s = ir[t];
        return s && n && (r[s] = n.trim()), r;
      }
      for (
        var o, a, l, c = e.document.createElement("div"), u = c, d = [];
        null !== (o = n());

      )
        if ("<" !== o[0]) u.appendChild(e.document.createTextNode(r(o)));
        else {
          if ("/" === o[1]) {
            d.length &&
              d[d.length - 1] === o.substr(2).replace(">", "") &&
              (d.pop(), (u = u.parentNode));
            continue;
          }
          var p,
            h = gt(o.substr(1, o.length - 2));
          if (h) {
            (p = e.document.createProcessingInstruction("timestamp", h)),
              u.appendChild(p);
            continue;
          }
          var f = o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
          if (!f) continue;
          if (!(p = s(f[1], f[3]))) continue;
          if (
            ((a = u), rr[(l = p).localName] && rr[l.localName] !== a.localName)
          )
            continue;
          f[2] && (p.className = f[2].substr(1).replace(".", " ")),
            d.push(f[1]),
            u.appendChild(p),
            (u = p);
        }
      return c;
    }
    function wt(e) {
      for (var t = 0; t < sr.length; t++) {
        var n = sr[t];
        if (e >= n[0] && e <= n[1]) return !0;
      }
      return !1;
    }
    function Ct() {}
    function kt(e, t, n) {
      Ct.call(this), (this.cue = t), (this.cueDiv = bt(e, t.text));
      var i = {
        color: "rgba(255, 255, 255, 1)",
        backgroundColor: "rgba(0, 0, 0, 0.8)",
        position: "relative",
        left: 0,
        right: 0,
        top: 0,
        bottom: 0,
        display: "inline",
        writingMode:
          "" === t.vertical
            ? "horizontal-tb"
            : "lr" === t.vertical
            ? "vertical-lr"
            : "vertical-rl",
        unicodeBidi: "plaintext",
      };
      this.applyStyles(i, this.cueDiv),
        (this.div = e.document.createElement("div")),
        (i = {
          direction: (function (e) {
            function t(e, t) {
              for (var n = t.childNodes.length - 1; n >= 0; n--)
                e.push(t.childNodes[n]);
            }
            function n(e) {
              if (!e || !e.length) return null;
              var i = e.pop(),
                r = i.textContent || i.innerText;
              if (r) {
                var s = r.match(/^.*(\n|\r)/);
                return s ? s[(e.length = 0)] : r;
              }
              return "ruby" === i.tagName
                ? n(e)
                : i.childNodes
                ? (t(e, i), n(e))
                : void 0;
            }
            var i = [],
              r = "";
            if (!e || !e.childNodes) return "ltr";
            for (t(i, e); (r = n(i)); )
              for (var s = 0; s < r.length; s++)
                if (wt(r.charCodeAt(s))) return "rtl";
            return "ltr";
          })(this.cueDiv),
          writingMode:
            "" === t.vertical
              ? "horizontal-tb"
              : "lr" === t.vertical
              ? "vertical-lr"
              : "vertical-rl",
          unicodeBidi: "plaintext",
          textAlign: "middle" === t.align ? "center" : t.align,
          font: n.font,
          whiteSpace: "pre-line",
          position: "absolute",
        }),
        this.applyStyles(i),
        this.div.appendChild(this.cueDiv);
      var r = 0;
      switch (t.positionAlign) {
        case "start":
          r = t.position;
          break;
        case "middle":
          r = t.position - t.size / 2;
          break;
        case "end":
          r = t.position - t.size;
      }
      this.applyStyles(
        "" === t.vertical
          ? {
              left: this.formatStyle(r, "%"),
              width: this.formatStyle(t.size, "%"),
            }
          : {
              top: this.formatStyle(r, "%"),
              height: this.formatStyle(t.size, "%"),
            }
      ),
        (this.move = function (e) {
          this.applyStyles({
            top: this.formatStyle(e.top, "px"),
            bottom: this.formatStyle(e.bottom, "px"),
            left: this.formatStyle(e.left, "px"),
            right: this.formatStyle(e.right, "px"),
            height: this.formatStyle(e.height, "px"),
            width: this.formatStyle(e.width, "px"),
          });
        });
    }
    function Tt(e) {
      var t, n, i, r;
      if (e.div) {
        (n = e.div.offsetHeight),
          (i = e.div.offsetWidth),
          (r = e.div.offsetTop);
        var s =
          (s = e.div.childNodes) &&
          (s = s[0]) &&
          s.getClientRects &&
          s.getClientRects();
        (e = e.div.getBoundingClientRect()),
          (t = s
            ? Math.max((s[0] && s[0].height) || 0, e.height / s.length)
            : 0);
      }
      (this.left = e.left),
        (this.right = e.right),
        (this.top = e.top || r),
        (this.height = e.height || n),
        (this.bottom = e.bottom || r + (e.height || n)),
        (this.width = e.width || i),
        (this.lineHeight = void 0 !== t ? t : e.lineHeight);
    }
    function Et(e, t, n, i) {
      var r = new Tt(t),
        s = t.cue,
        o = (function (e) {
          if (
            "number" == typeof e.line &&
            (e.snapToLines || (0 <= e.line && e.line <= 100))
          )
            return e.line;
          if (
            !e.track ||
            !e.track.textTrackList ||
            !e.track.textTrackList.mediaElement
          )
            return -1;
          for (
            var t = e.track, n = t.textTrackList, i = 0, r = 0;
            r < n.length && n[r] !== t;
            r++
          )
            "showing" === n[r].mode && i++;
          return -1 * ++i;
        })(s),
        a = [];
      if (s.snapToLines) {
        var l;
        switch (s.vertical) {
          case "":
            (a = ["+y", "-y"]), (l = "height");
            break;
          case "rl":
            (a = ["+x", "-x"]), (l = "width");
            break;
          case "lr":
            (a = ["-x", "+x"]), (l = "width");
        }
        var c = r.lineHeight,
          u = c * Math.round(o),
          d = n[l] + c,
          p = a[0];
        Math.abs(u) > d && ((u = 0 > u ? -1 : 1), (u *= Math.ceil(d / c) * c)),
          0 > o &&
            ((u += "" === s.vertical ? n.height : n.width), (a = a.reverse())),
          r.move(p, u);
      } else {
        var h = (r.lineHeight / n.height) * 100;
        switch (s.lineAlign) {
          case "middle":
            o -= h / 2;
            break;
          case "end":
            o -= h;
        }
        switch (s.vertical) {
          case "":
            t.applyStyles({
              top: t.formatStyle(o, "%"),
            });
            break;
          case "rl":
            t.applyStyles({
              left: t.formatStyle(o, "%"),
            });
            break;
          case "lr":
            t.applyStyles({
              right: t.formatStyle(o, "%"),
            });
        }
        (a = ["+y", "-x", "+x", "-y"]), (r = new Tt(t));
      }
      var f = (function (e, t) {
        for (var r, s = new Tt(e), o = 1, a = 0; a < t.length; a++) {
          for (
            ;
            e.overlapsOppositeAxis(n, t[a]) ||
            (e.within(n) && e.overlapsAny(i));

          )
            e.move(t[a]);
          if (e.within(n)) return e;
          var l = e.intersectPercentage(n);
          o > l && ((r = new Tt(e)), (o = l)), (e = new Tt(s));
        }
        return r || s;
      })(r, a);
      t.move(f.toCSSCompatValues(n));
    }
    function St() {}
    function xt(e) {
      return "string" == typeof e && !!lr[e.toLowerCase()] && e.toLowerCase();
    }
    function Pt(e, t, n) {
      this.hasBeenReset = !1;
      var i = "",
        r = !1,
        s = e,
        o = t,
        a = n,
        l = null,
        c = "",
        u = !0,
        d = "auto",
        p = "start",
        h = 50,
        f = "middle",
        m = 50,
        g = "middle";
      Object.defineProperties(this, {
        id: {
          enumerable: !0,
          get: function () {
            return i;
          },
          set: function (e) {
            i = "" + e;
          },
        },
        pauseOnExit: {
          enumerable: !0,
          get: function () {
            return r;
          },
          set: function (e) {
            r = !!e;
          },
        },
        startTime: {
          enumerable: !0,
          get: function () {
            return s;
          },
          set: function (e) {
            if ("number" != typeof e)
              throw new TypeError("Start time must be set to a number.");
            (s = e), (this.hasBeenReset = !0);
          },
        },
        endTime: {
          enumerable: !0,
          get: function () {
            return o;
          },
          set: function (e) {
            if ("number" != typeof e)
              throw new TypeError("End time must be set to a number.");
            (o = e), (this.hasBeenReset = !0);
          },
        },
        text: {
          enumerable: !0,
          get: function () {
            return a;
          },
          set: function (e) {
            (a = "" + e), (this.hasBeenReset = !0);
          },
        },
        region: {
          enumerable: !0,
          get: function () {
            return l;
          },
          set: function (e) {
            (l = e), (this.hasBeenReset = !0);
          },
        },
        vertical: {
          enumerable: !0,
          get: function () {
            return c;
          },
          set: function (e) {
            var t,
              n =
                "string" == typeof (t = e) &&
                !!ar[t.toLowerCase()] &&
                t.toLowerCase();
            if (!1 === n)
              throw new SyntaxError(
                "An invalid or illegal string was specified."
              );
            (c = n), (this.hasBeenReset = !0);
          },
        },
        snapToLines: {
          enumerable: !0,
          get: function () {
            return u;
          },
          set: function (e) {
            (u = !!e), (this.hasBeenReset = !0);
          },
        },
        line: {
          enumerable: !0,
          get: function () {
            return d;
          },
          set: function (e) {
            if ("number" != typeof e && "auto" !== e)
              throw new SyntaxError(
                "An invalid number or illegal string was specified."
              );
            (d = e), (this.hasBeenReset = !0);
          },
        },
        lineAlign: {
          enumerable: !0,
          get: function () {
            return p;
          },
          set: function (e) {
            var t = xt(e);
            if (!t)
              throw new SyntaxError(
                "An invalid or illegal string was specified."
              );
            (p = t), (this.hasBeenReset = !0);
          },
        },
        position: {
          enumerable: !0,
          get: function () {
            return h;
          },
          set: function (e) {
            if (0 > e || e > 100)
              throw new Error("Position must be between 0 and 100.");
            (h = e), (this.hasBeenReset = !0);
          },
        },
        positionAlign: {
          enumerable: !0,
          get: function () {
            return f;
          },
          set: function (e) {
            var t = xt(e);
            if (!t)
              throw new SyntaxError(
                "An invalid or illegal string was specified."
              );
            (f = t), (this.hasBeenReset = !0);
          },
        },
        size: {
          enumerable: !0,
          get: function () {
            return m;
          },
          set: function (e) {
            if (0 > e || e > 100)
              throw new Error("Size must be between 0 and 100.");
            (m = e), (this.hasBeenReset = !0);
          },
        },
        align: {
          enumerable: !0,
          get: function () {
            return g;
          },
          set: function (e) {
            var t = xt(e);
            if (!t)
              throw new SyntaxError(
                "An invalid or illegal string was specified."
              );
            (g = t), (this.hasBeenReset = !0);
          },
        },
      }),
        (this.displayState = void 0);
    }
    function Ot(e) {
      return "number" == typeof e && e >= 0 && 100 >= e;
    }
    function At(e, t, n) {
      e.setTimeout(function () {
        return (function i(e, t, n, r, s, o) {
          void 0 === e && (e = {}),
            void 0 === t && (t = []),
            void 0 === s && (s = []),
            void 0 === o && (o = !1);
          var a = t,
            c = a[0],
            u = a.slice(1);
          if ("string" == typeof c) i(e, fr[c], n, r, s, o);
          else if (c) {
            var d = Mt(r, c);
            if (!d.setSource) return s.push(d), i(e, u, n, r, s, o);
            d.setSource(l({}, e), function (t, a) {
              return t
                ? i(e, u, n, r, s, o)
                : (s.push(d),
                  void i(a, e.type === a.type ? u : fr[a.type], n, r, s, o));
            });
          } else
            u.length
              ? i(e, u, n, r, s, o)
              : o
              ? n(e, s)
              : i(e, fr["*"], n, r, s, !0);
        })(t, fr[t.type], n, e);
      }, 1);
    }
    function It(e, t, n, i) {
      void 0 === i && (i = null);
      var r = "call" + nt(n),
        s = e.reduce(Dt(r), i),
        o = s === gr,
        a = o ? null : t[n](s);
      return (
        (function (e, t, n, i) {
          for (var r = e.length - 1; r >= 0; r--) {
            var s = e[r];
            s[t] && s[t](i, n);
          }
        })(e, n, a, o),
        a
      );
    }
    function Dt(e) {
      return function (t, n) {
        return t === gr ? gr : n[e] ? n[e](t) : t;
      };
    }
    function Mt(e, t) {
      var n = mr[e.id()],
        i = null;
      if (null == n) return (i = t(e)), (mr[e.id()] = [[t, i]]), i;
      for (var r = 0; r < n.length; r++) {
        var s = n[r],
          o = s[0],
          a = s[1];
        o === t && (i = a);
      }
      return null === i && ((i = t(e)), n.push([t, i])), i;
    }
    function Rt(e) {
      var t = wr(e.src);
      return !e.type && t && (e.type = t), e;
    }
    function jt(e, t) {
      var n;
      if (4 === e.length) n = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
      else {
        if (7 !== e.length)
          throw new Error(
            "Invalid color code provided, " +
              e +
              "; must be formatted as e.g. #f0e or #f604e2."
          );
        n = e.slice(1);
      }
      return (
        "rgba(" +
        parseInt(n.slice(0, 2), 16) +
        "," +
        parseInt(n.slice(2, 4), 16) +
        "," +
        parseInt(n.slice(4, 6), 16) +
        "," +
        t +
        ")"
      );
    }
    function Lt(e, t, n) {
      try {
        e.style[t] = n;
      } catch (e) {
        return;
      }
    }
    function Nt(e, t) {
      return void 0 === t && (t = e), Rr(e, t);
    }
    function Ut(e, t) {
      return t && (e = t(e)), e && "none" !== e ? e : void 0;
    }
    function Bt() {
      var e = o([
        "Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading.",
      ]);
      return (
        (Bt = function () {
          return e;
        }),
        e
      );
    }
    function $t() {
      var e = o([
        "\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      ",
      ]);
      return (
        ($t = function () {
          return e;
        }),
        e
      );
    }
    function Ft(e, n, i) {
      var r = Ft.getPlayer(e);
      if (r)
        return (
          n &&
            Gt.warn(
              'Player "' +
                e +
                '" is already initialised. Options will not be applied.'
            ),
          i && r.ready(i),
          r
        );
      var s = "string" == typeof e ? Zt("#" + uo(e)) : e;
      if (!g(s))
        throw new TypeError(
          "The element or ID supplied is not valid. (videojs)"
        );
      t.body.contains(s) ||
        Gt.warn("The element supplied is not included in the DOM"),
        (n = n || {}),
        Ft.hooks("beforesetup").forEach(function (e) {
          var t = e(s, it(n));
          c(t) && !Array.isArray(t)
            ? (n = it(n, t))
            : Gt.error("please return an object in beforesetup hooks");
        });
      var o = xn.getComponent("Player");
      return (
        (r = new o(s, n, i)),
        Ft.hooks("setup").forEach(function (e) {
          return e(r);
        }),
        r
      );
    }
    function Ht(e, t) {
      return function (n) {
        var i = this;
        if (!t) return new ad(e);
        if (ad && !n) {
          var r = Wt(
            t
              .toString()
              .replace(/^function.+?{/, "")
              .slice(0, -1)
          );
          return (
            (this[id] = new ad(r)),
            (function (e, t) {
              if (e && t) {
                var n = e.terminate;
                (e.objURL = t),
                  (e.terminate = function () {
                    e.objURL && od.revokeObjectURL(e.objURL), n.call(e);
                  });
              }
            })(this[id], r),
            this[id]
          );
        }
        var s = {
          postMessage: function (e) {
            i.onmessage &&
              setTimeout(function () {
                i.onmessage({
                  data: e,
                  target: s,
                });
              });
          },
        };
        t.call(s),
          (this.postMessage = function (e) {
            setTimeout(function () {
              s.onmessage({
                data: e,
                target: i,
              });
            });
          }),
          (this.isThisThread = !0);
      };
    }
    function Wt(e) {
      try {
        return od.createObjectURL(
          new Blob([e], {
            type: rd,
          })
        );
      } catch (t) {
        var n = new sd();
        return n.append(e), od.createObjectURL(n.getBlob(type));
      }
    }
    function qt() {}
    (e = e && e.hasOwnProperty("default") ? e["default"] : e),
      (t = t && t.hasOwnProperty("default") ? t["default"] : t);
    var zt = "7.3.0",
      Vt = [],
      Kt = function (t, n) {
        return function (i, r, s) {
          var o = n.levels[r],
            a = new RegExp("^(" + o + ")$");
          if (
            ("log" !== i && s.unshift(i.toUpperCase() + ":"),
            s.unshift(t + ":"),
            Vt && Vt.push([].concat(s)),
            e.console)
          ) {
            var l = e.console[i];
            l || "debug" !== i || (l = e.console.info || e.console.log),
              l &&
                o &&
                a.test(i) &&
                l[Array.isArray(s) ? "apply" : "call"](e.console, s);
          }
        };
      },
      Gt = (function Sp(e) {
        var t,
          n = "info",
          i = function () {
            for (var e = arguments.length, i = new Array(e), r = 0; e > r; r++)
              i[r] = arguments[r];
            t("log", n, i);
          };
        return (
          (t = Kt(e, i)),
          (i.createLogger = function (t) {
            return Sp(e + ": " + t);
          }),
          (i.levels = {
            all: "debug|log|warn|error",
            off: "",
            debug: "debug|log|warn|error",
            info: "log|warn|error",
            warn: "warn|error",
            error: "error",
            DEFAULT: n,
          }),
          (i.level = function (e) {
            if ("string" == typeof e) {
              if (!i.levels.hasOwnProperty(e))
                throw new Error('"' + e + '" in not a valid log level');
              n = e;
            }
            return n;
          }),
          ((i.history = function () {
            return Vt ? [].concat(Vt) : [];
          }).filter = function (e) {
            return (Vt || []).filter(function (t) {
              return new RegExp(".*" + e + ".*").test(t[0]);
            });
          }),
          (i.history.clear = function () {
            Vt && (Vt.length = 0);
          }),
          (i.history.disable = function () {
            null !== Vt && ((Vt.length = 0), (Vt = null));
          }),
          (i.history.enable = function () {
            null === Vt && (Vt = []);
          }),
          (i.error = function () {
            for (var e = arguments.length, i = new Array(e), r = 0; e > r; r++)
              i[r] = arguments[r];
            return t("error", n, i);
          }),
          (i.warn = function () {
            for (var e = arguments.length, i = new Array(e), r = 0; e > r; r++)
              i[r] = arguments[r];
            return t("warn", n, i);
          }),
          (i.debug = function () {
            for (var e = arguments.length, i = new Array(e), r = 0; e > r; r++)
              i[r] = arguments[r];
            return t("debug", n, i);
          }),
          i
        );
      })("VIDEOJS"),
      Yt = Gt.createLogger,
      Xt = function (e) {
        for (var t = "", n = 0; n < arguments.length; n++)
          t += e[n].replace(/\n\r?\s*/g, "") + (arguments[n + 1] || "");
        return t;
      },
      Qt = Object.prototype.toString,
      Jt = function (e) {
        return c(e) ? Object.keys(e) : [];
      },
      Zt = v("querySelector"),
      en = v("querySelectorAll"),
      tn = Object.freeze({
        isReal: m,
        isEl: g,
        isInFrame: _,
        createEl: y,
        textContent: b,
        prependTo: w,
        hasClass: C,
        addClass: k,
        removeClass: T,
        toggleClass: E,
        setAttributes: S,
        getAttributes: x,
        getAttribute: P,
        setAttribute: O,
        removeAttribute: A,
        blockTextSelection: I,
        unblockTextSelection: D,
        getBoundingClientRect: M,
        findPosition: R,
        getPointerPosition: j,
        isTextNode: L,
        emptyEl: N,
        normalizeContent: U,
        appendContent: B,
        insertContent: $,
        isSingleLeftClick: F,
        $: Zt,
        $$: en,
      }),
      nn = 1,
      rn = {},
      sn = "vdata" + new Date().getTime(),
      on = !1;
    !(function () {
      try {
        var t = Object.defineProperty({}, "passive", {
          get: function () {
            on = !0;
          },
        });
        e.addEventListener("test", null, t),
          e.removeEventListener("test", null, t);
      } catch (t) {}
    })();
    var an,
      ln = ["touchstart", "touchmove"],
      cn = Object.freeze({
        fixEvent: G,
        on: Y,
        off: X,
        trigger: Q,
        one: J,
      }),
      un = !1,
      dn = function () {
        if (m() && !1 !== an.options.autoSetup) {
          var e = Array.prototype.slice.call(t.getElementsByTagName("video")),
            n = Array.prototype.slice.call(t.getElementsByTagName("audio")),
            i = Array.prototype.slice.call(t.getElementsByTagName("video-js")),
            r = e.concat(n, i);
          if (r && 0 < r.length)
            for (var s = 0, o = r.length; o > s; s++) {
              var a = r[s];
              if (!a || !a.getAttribute) {
                Z(1);
                break;
              }
              void 0 === a.player &&
                null !== a.getAttribute("data-setup") &&
                an(a);
            }
          else un || Z(1);
        }
      };
    m() && "complete" === t.readyState
      ? (un = !0)
      : J(e, "load", function () {
          un = !0;
        });
    var pn,
      hn = function (e) {
        var n = t.createElement("style");
        return (n.className = e), n;
      },
      fn = function (e, t) {
        e.styleSheet ? (e.styleSheet.cssText = t) : (e.textContent = t);
      },
      mn = function (e, t, n) {
        t.guid || (t.guid = H());
        var i = function () {
          return t.apply(e, arguments);
        };
        return (i.guid = n ? n + "_" + t.guid : t.guid), i;
      },
      gn = function (e, t) {
        var n = Date.now();
        return function () {
          var i = Date.now();
          i - n >= t && (e.apply(void 0, arguments), (n = i));
        };
      },
      _n = function () {};
    (_n.prototype.allowedEvents_ = {}),
      (_n.prototype.addEventListener = _n.prototype.on =
        function (e, t) {
          var n = this.addEventListener;
          (this.addEventListener = function () {}),
            Y(this, e, t),
            (this.addEventListener = n);
        }),
      (_n.prototype.removeEventListener = _n.prototype.off =
        function (e, t) {
          X(this, e, t);
        }),
      (_n.prototype.one = function (e, t) {
        var n = this.addEventListener;
        (this.addEventListener = function () {}),
          J(this, e, t),
          (this.addEventListener = n);
      }),
      (_n.prototype.dispatchEvent = _n.prototype.trigger =
        function (e) {
          var t = e.type || e;
          "string" == typeof e &&
            (e = {
              type: t,
            }),
            (e = G(e)),
            this.allowedEvents_[t] && this["on" + t] && this["on" + t](e),
            Q(this, e);
        }),
      (_n.prototype.queueTrigger = function (t) {
        var n = this;
        pn || (pn = new Map());
        var i = t.type || t,
          r = pn.get(this);
        r || ((r = new Map()), pn.set(this, r));
        var s = r.get(i);
        r["delete"](i), e.clearTimeout(s);
        var o = e.setTimeout(function () {
          0 === r.size && ((r = null), pn["delete"](n)), n.trigger(t);
        }, 0);
        r.set(i, o);
      });
    var vn = function (e) {
        return (
          e instanceof _n ||
          (!!e.eventBusEl_ &&
            ["on", "one", "off", "trigger"].every(function (t) {
              return "function" == typeof e[t];
            }))
        );
      },
      yn = function (e) {
        return (
          ("string" == typeof e && /\S/.test(e)) ||
          (Array.isArray(e) && !!e.length)
        );
      },
      bn = function (e) {
        if (!e.nodeName && !vn(e))
          throw new Error(
            "Invalid target; must be a DOM node or evented object."
          );
      },
      wn = function (e) {
        if (!yn(e))
          throw new Error(
            "Invalid event type; must be a non-empty string or array."
          );
      },
      Cn = function (e) {
        if ("function" != typeof e)
          throw new Error("Invalid listener; must be a function.");
      },
      kn = function (e, t) {
        var n,
          i,
          r,
          s = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
        return (
          (r = s
            ? ((n = e.eventBusEl_),
              3 <= t.length && t.shift(),
              (i = t[0]),
              t[1])
            : ((n = t[0]), (i = t[1]), t[2])),
          bn(n),
          wn(i),
          Cn(r),
          {
            isTargetingSelf: s,
            target: n,
            type: i,
            listener: (r = mn(e, r)),
          }
        );
      },
      Tn = function (e, t, n, i) {
        bn(e), e.nodeName ? cn[t](e, n, i) : e[t](n, i);
      },
      En = {
        on: function () {
          for (
            var e = this, t = arguments.length, n = new Array(t), i = 0;
            t > i;
            i++
          )
            n[i] = arguments[i];
          var r = kn(this, n),
            s = r.isTargetingSelf,
            o = r.target,
            a = r.type,
            l = r.listener;
          if ((Tn(o, "on", a, l), !s)) {
            var c = function () {
              return e.off(o, a, l);
            };
            c.guid = l.guid;
            var u = function () {
              return e.off("dispose", c);
            };
            (u.guid = l.guid),
              Tn(this, "on", "dispose", c),
              Tn(o, "on", "dispose", u);
          }
        },
        one: function () {
          for (
            var e = this, t = arguments.length, n = new Array(t), i = 0;
            t > i;
            i++
          )
            n[i] = arguments[i];
          var r = kn(this, n),
            s = r.isTargetingSelf,
            o = r.target,
            a = r.type,
            l = r.listener;
          if (s) Tn(o, "one", a, l);
          else {
            var c = function u() {
              e.off(o, a, u);
              for (
                var t = arguments.length, n = new Array(t), i = 0;
                t > i;
                i++
              )
                n[i] = arguments[i];
              l.apply(null, n);
            };
            (c.guid = l.guid), Tn(o, "one", a, c);
          }
        },
        off: function (e, t, n) {
          if (!e || yn(e)) X(this.eventBusEl_, e, t);
          else {
            var i = e,
              r = t;
            bn(i),
              wn(r),
              Cn(n),
              (n = mn(this, n)),
              this.off("dispose", n),
              i.nodeName
                ? (X(i, r, n), X(i, "dispose", n))
                : vn(i) && (i.off(r, n), i.off("dispose", n));
          }
        },
        trigger: function (e, t) {
          return Q(this.eventBusEl_, e, t);
        },
      },
      Sn = {
        state: {},
        setState: function (e) {
          var t,
            n = this;
          return (
            "function" == typeof e && (e = e()),
            a(e, function (e, i) {
              n.state[i] !== e &&
                ((t = t || {})[i] = {
                  from: n.state[i],
                  to: e,
                }),
                (n.state[i] = e);
            }),
            t &&
              vn(this) &&
              this.trigger({
                changes: t,
                type: "statechanged",
              }),
            t
          );
        },
      },
      xn = (function () {
        function t(e, t, n) {
          if (
            ((this.player_ = !e && this.play ? (e = this) : e),
            (this.options_ = it({}, this.options_)),
            (t = this.options_ = it(this.options_, t)),
            (this.id_ = t.id || (t.el && t.el.id)),
            !this.id_)
          ) {
            var i = (e && e.id && e.id()) || "no_player";
            this.id_ = i + "_component_" + H();
          }
          (this.name_ = t.name || null),
            t.el
              ? (this.el_ = t.el)
              : !1 !== t.createEl && (this.el_ = this.createEl()),
            !1 !== t.evented &&
              et(this, {
                eventBusKey: this.el_ ? "el_" : null,
              }),
            tt(this, this.constructor.defaultState),
            (this.children_ = []),
            (this.childIndex_ = {}),
            !(this.childNameIndex_ = {}) !== t.initChildren &&
              this.initChildren(),
            this.ready(n),
            !1 !== t.reportTouchActivity && this.enableTouchActivity();
        }
        var n = t.prototype;
        return (
          (n.dispose = function () {
            if (
              (this.trigger({
                type: "dispose",
                bubbles: !1,
              }),
              this.children_)
            )
              for (var e = this.children_.length - 1; e >= 0; e--)
                this.children_[e].dispose && this.children_[e].dispose();
            (this.children_ = null),
              (this.childIndex_ = null),
              (this.childNameIndex_ = null),
              this.el_ &&
                (this.el_.parentNode &&
                  this.el_.parentNode.removeChild(this.el_),
                z(this.el_),
                (this.el_ = null)),
              (this.player_ = null);
          }),
          (n.player = function () {
            return this.player_;
          }),
          (n.options = function (e) {
            return (
              Gt.warn(
                "this.options() has been deprecated and will be moved to the constructor in 6.0"
              ),
              e && (this.options_ = it(this.options_, e)),
              this.options_
            );
          }),
          (n.el = function () {
            return this.el_;
          }),
          (n.createEl = function (e, t, n) {
            return y(e, t, n);
          }),
          (n.localize = function (e, t, n) {
            void 0 === n && (n = e);
            var i = this.player_.language && this.player_.language(),
              r = this.player_.languages && this.player_.languages(),
              s = r && r[i],
              o = i && i.split("-")[0],
              a = r && r[o],
              l = n;
            return (
              s && s[e] ? (l = s[e]) : a && a[e] && (l = a[e]),
              t &&
                (l = l.replace(/\{(\d+)\}/g, function (e, n) {
                  var i = t[n - 1],
                    r = i;
                  return "undefined" == typeof i && (r = e), r;
                })),
              l
            );
          }),
          (n.contentEl = function () {
            return this.contentEl_ || this.el_;
          }),
          (n.id = function () {
            return this.id_;
          }),
          (n.name = function () {
            return this.name_;
          }),
          (n.children = function () {
            return this.children_;
          }),
          (n.getChildById = function (e) {
            return this.childIndex_[e];
          }),
          (n.getChild = function (e) {
            return e ? ((e = nt(e)), this.childNameIndex_[e]) : void 0;
          }),
          (n.addChild = function (e, n, i) {
            var r, s;
            if (
              (void 0 === n && (n = {}),
              void 0 === i && (i = this.children_.length),
              "string" == typeof e)
            ) {
              s = nt(e);
              var o = n.componentClass || s;
              n.name = s;
              var a = t.getComponent(o);
              if (!a) throw new Error("Component " + o + " does not exist");
              if ("function" != typeof a) return null;
              r = new a(this.player_ || this, n);
            } else r = e;
            if (
              (this.children_.splice(i, 0, r),
              "function" == typeof r.id && (this.childIndex_[r.id()] = r),
              (s = s || (r.name && nt(r.name()))) &&
                (this.childNameIndex_[s] = r),
              "function" == typeof r.el && r.el())
            ) {
              var l = this.contentEl().children[i] || null;
              this.contentEl().insertBefore(r.el(), l);
            }
            return r;
          }),
          (n.removeChild = function (e) {
            if (
              ("string" == typeof e && (e = this.getChild(e)),
              e && this.children_)
            ) {
              for (var t = !1, n = this.children_.length - 1; n >= 0; n--)
                if (this.children_[n] === e) {
                  (t = !0), this.children_.splice(n, 1);
                  break;
                }
              if (t) {
                (this.childIndex_[e.id()] = null),
                  (this.childNameIndex_[e.name()] = null);
                var i = e.el();
                i &&
                  i.parentNode === this.contentEl() &&
                  this.contentEl().removeChild(e.el());
              }
            }
          }),
          (n.initChildren = function () {
            var e = this,
              n = this.options_.children;
            if (n) {
              var i,
                r = this.options_,
                s = t.getComponent("Tech");
              (i = Array.isArray(n) ? n : Object.keys(n))
                .concat(
                  Object.keys(this.options_).filter(function (e) {
                    return !i.some(function (t) {
                      return "string" == typeof t ? e === t : e === t.name;
                    });
                  })
                )
                .map(function (t) {
                  var i, r;
                  return (
                    (r =
                      "string" == typeof t
                        ? n[(i = t)] || e.options_[i] || {}
                        : ((i = t.name), t)),
                    {
                      name: i,
                      opts: r,
                    }
                  );
                })
                .filter(function (e) {
                  var n = t.getComponent(e.opts.componentClass || nt(e.name));
                  return n && !s.isTech(n);
                })
                .forEach(function (t) {
                  var n = t.name,
                    i = t.opts;
                  if ((void 0 !== r[n] && (i = r[n]), !1 !== i)) {
                    !0 === i && (i = {}),
                      (i.playerOptions = e.options_.playerOptions);
                    var s = e.addChild(n, i);
                    s && (e[n] = s);
                  }
                });
            }
          }),
          (n.buildCSSClass = function () {
            return "";
          }),
          (n.ready = function (e, t) {
            return (
              void 0 === t && (t = !1),
              e
                ? this.isReady_
                  ? void (t ? e.call(this) : this.setTimeout(e, 1))
                  : ((this.readyQueue_ = this.readyQueue_ || []),
                    void this.readyQueue_.push(e))
                : void 0
            );
          }),
          (n.triggerReady = function () {
            (this.isReady_ = !0),
              this.setTimeout(function () {
                var e = this.readyQueue_;
                (this.readyQueue_ = []),
                  e &&
                    0 < e.length &&
                    e.forEach(function (e) {
                      e.call(this);
                    }, this),
                  this.trigger("ready");
              }, 1);
          }),
          (n.$ = function (e, t) {
            return Zt(e, t || this.contentEl());
          }),
          (n.$$ = function (e, t) {
            return en(e, t || this.contentEl());
          }),
          (n.hasClass = function (e) {
            return C(this.el_, e);
          }),
          (n.addClass = function (e) {
            k(this.el_, e);
          }),
          (n.removeClass = function (e) {
            T(this.el_, e);
          }),
          (n.toggleClass = function (e, t) {
            E(this.el_, e, t);
          }),
          (n.show = function () {
            this.removeClass("vjs-hidden");
          }),
          (n.hide = function () {
            this.addClass("vjs-hidden");
          }),
          (n.lockShowing = function () {
            this.addClass("vjs-lock-showing");
          }),
          (n.unlockShowing = function () {
            this.removeClass("vjs-lock-showing");
          }),
          (n.getAttribute = function (e) {
            return P(this.el_, e);
          }),
          (n.setAttribute = function (e, t) {
            O(this.el_, e, t);
          }),
          (n.removeAttribute = function (e) {
            A(this.el_, e);
          }),
          (n.width = function (e, t) {
            return this.dimension("width", e, t);
          }),
          (n.height = function (e, t) {
            return this.dimension("height", e, t);
          }),
          (n.dimensions = function (e, t) {
            this.width(e, !0), this.height(t);
          }),
          (n.dimension = function (e, t, n) {
            if (void 0 !== t)
              return (
                (null !== t && t == t) || (t = 0),
                (this.el_.style[e] =
                  -1 !== ("" + t).indexOf("%") || -1 !== ("" + t).indexOf("px")
                    ? t
                    : "auto" === t
                    ? ""
                    : t + "px"),
                void (n || this.trigger("componentresize"))
              );
            if (!this.el_) return 0;
            var i = this.el_.style[e],
              r = i.indexOf("px");
            return -1 !== r
              ? parseInt(i.slice(0, r), 10)
              : parseInt(this.el_["offset" + nt(e)], 10);
          }),
          (n.currentDimension = function (t) {
            var n = 0;
            if ("width" !== t && "height" !== t)
              throw new Error(
                "currentDimension only accepts width or height value"
              );
            if ("function" == typeof e.getComputedStyle) {
              var i = e.getComputedStyle(this.el_);
              n = i.getPropertyValue(t) || i[t];
            }
            if (0 === (n = parseFloat(n))) {
              var r = "offset" + nt(t);
              n = this.el_[r];
            }
            return n;
          }),
          (n.currentDimensions = function () {
            return {
              width: this.currentDimension("width"),
              height: this.currentDimension("height"),
            };
          }),
          (n.currentWidth = function () {
            return this.currentDimension("width");
          }),
          (n.currentHeight = function () {
            return this.currentDimension("height");
          }),
          (n.focus = function () {
            this.el_.focus();
          }),
          (n.blur = function () {
            this.el_.blur();
          }),
          (n.emitTapEvents = function () {
            var e,
              t = 0,
              n = null;
            this.on("touchstart", function (i) {
              1 === i.touches.length &&
                ((n = {
                  pageX: i.touches[0].pageX,
                  pageY: i.touches[0].pageY,
                }),
                (t = new Date().getTime()),
                (e = !0));
            }),
              this.on("touchmove", function (t) {
                if (1 < t.touches.length) e = !1;
                else if (n) {
                  var i = t.touches[0].pageX - n.pageX,
                    r = t.touches[0].pageY - n.pageY;
                  10 < Math.sqrt(i * i + r * r) && (e = !1);
                }
              });
            var i = function () {
              e = !1;
            };
            this.on("touchleave", i),
              this.on("touchcancel", i),
              this.on("touchend", function (i) {
                !(n = null) === e &&
                  new Date().getTime() - t < 200 &&
                  (i.preventDefault(), this.trigger("tap"));
              });
          }),
          (n.enableTouchActivity = function () {
            if (this.player() && this.player().reportUserActivity) {
              var e,
                t = mn(this.player(), this.player().reportUserActivity);
              this.on("touchstart", function () {
                t(), this.clearInterval(e), (e = this.setInterval(t, 250));
              });
              var n = function () {
                t(), this.clearInterval(e);
              };
              this.on("touchmove", t),
                this.on("touchend", n),
                this.on("touchcancel", n);
            }
          }),
          (n.setTimeout = function (t, n) {
            var i,
              r,
              s = this;
            return (
              (t = mn(this, t)),
              (i = e.setTimeout(function () {
                s.off("dispose", r), t();
              }, n)),
              ((r = function () {
                return s.clearTimeout(i);
              }).guid = "vjs-timeout-" + i),
              this.on("dispose", r),
              i
            );
          }),
          (n.clearTimeout = function (t) {
            e.clearTimeout(t);
            var n = function () {};
            return (n.guid = "vjs-timeout-" + t), this.off("dispose", n), t;
          }),
          (n.setInterval = function (t, n) {
            var i = this;
            t = mn(this, t);
            var r = e.setInterval(t, n),
              s = function () {
                return i.clearInterval(r);
              };
            return (s.guid = "vjs-interval-" + r), this.on("dispose", s), r;
          }),
          (n.clearInterval = function (t) {
            e.clearInterval(t);
            var n = function () {};
            return (n.guid = "vjs-interval-" + t), this.off("dispose", n), t;
          }),
          (n.requestAnimationFrame = function (t) {
            var n,
              i,
              r = this;
            return this.supportsRaf_
              ? ((t = mn(this, t)),
                (n = e.requestAnimationFrame(function () {
                  r.off("dispose", i), t();
                })),
                ((i = function () {
                  return r.cancelAnimationFrame(n);
                }).guid = "vjs-raf-" + n),
                this.on("dispose", i),
                n)
              : this.setTimeout(t, 1e3 / 60);
          }),
          (n.cancelAnimationFrame = function (t) {
            if (this.supportsRaf_) {
              e.cancelAnimationFrame(t);
              var n = function () {};
              return (n.guid = "vjs-raf-" + t), this.off("dispose", n), t;
            }
            return this.clearTimeout(t);
          }),
          (t.registerComponent = function (e, n) {
            if ("string" != typeof e || !e)
              throw new Error(
                'Illegal component name, "' +
                  e +
                  '"; must be a non-empty string.'
              );
            var i,
              r = t.getComponent("Tech"),
              s = r && r.isTech(n),
              o = t === n || t.prototype.isPrototypeOf(n.prototype);
            if (s || !o)
              throw (
                ((i = s
                  ? "techs must be registered using Tech.registerTech()"
                  : "must be a Component subclass"),
                new Error('Illegal component, "' + e + '"; ' + i + "."))
              );
            (e = nt(e)), t.components_ || (t.components_ = {});
            var a = t.getComponent("Player");
            if ("Player" === e && a && a.players) {
              var l = a.players,
                c = Object.keys(l);
              if (
                l &&
                0 < c.length &&
                c
                  .map(function (e) {
                    return l[e];
                  })
                  .every(Boolean)
              )
                throw new Error(
                  "Can not register Player component after player has been created."
                );
            }
            return (t.components_[e] = n);
          }),
          (t.getComponent = function (e) {
            return e
              ? ((e = nt(e)),
                t.components_ && t.components_[e] ? t.components_[e] : void 0)
              : void 0;
          }),
          t
        );
      })();
    (xn.prototype.supportsRaf_ =
      "function" == typeof e.requestAnimationFrame &&
      "function" == typeof e.cancelAnimationFrame),
      xn.registerComponent("Component", xn);
    for (
      var Pn,
        On,
        An,
        In,
        Dn,
        Mn = (e.navigator && e.navigator.userAgent) || "",
        Rn = /AppleWebKit\/([\d.]+)/i.exec(Mn),
        jn = Rn ? parseFloat(Rn.pop()) : null,
        Ln = /iPad/i.test(Mn),
        Nn = /iPhone/i.test(Mn) && !Ln,
        Un = /iPod/i.test(Mn),
        Bn = Nn || Ln || Un,
        $n = (Pn = Mn.match(/OS (\d+)_/i)) && Pn[1] ? Pn[1] : null,
        Fn = /Android/i.test(Mn),
        Hn = (function () {
          var e = Mn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
          if (!e) return null;
          var t = e[1] && parseFloat(e[1]),
            n = e[2] && parseFloat(e[2]);
          return t && n ? parseFloat(e[1] + "." + e[2]) : t || null;
        })(),
        Wn = Fn && 5 > Hn && 537 > jn,
        qn = /Firefox/i.test(Mn),
        zn = /Edge/i.test(Mn),
        Vn = !zn && (/Chrome/i.test(Mn) || /CriOS/i.test(Mn)),
        Kn =
          (On = Mn.match(/(Chrome|CriOS)\/(\d+)/)) && On[2]
            ? parseFloat(On[2])
            : null,
        Gn =
          ((An = /MSIE\s(\d+)\.\d/.exec(Mn)),
          !(In = An && parseFloat(An[1])) &&
            /Trident\/7.0/i.test(Mn) &&
            /rv:11.0/.test(Mn) &&
            (In = 11),
          In),
        Yn = /Safari/i.test(Mn) && !Vn && !Fn && !zn,
        Xn = (Yn || Bn) && !Vn,
        Qn =
          m() &&
          (("ontouchstart" in e) ||
            e.navigator.maxTouchPoints ||
            (e.DocumentTouch && e.document instanceof e.DocumentTouch)),
        Jn = Object.freeze({
          IS_IPAD: Ln,
          IS_IPHONE: Nn,
          IS_IPOD: Un,
          IS_IOS: Bn,
          IOS_VERSION: $n,
          IS_ANDROID: Fn,
          ANDROID_VERSION: Hn,
          IS_NATIVE_ANDROID: Wn,
          IS_FIREFOX: qn,
          IS_EDGE: zn,
          IS_CHROME: Vn,
          CHROME_VERSION: Kn,
          IE_VERSION: Gn,
          IS_SAFARI: Yn,
          IS_ANY_SAFARI: Xn,
          TOUCH_ENABLED: Qn,
        }),
        Zn = {},
        ei = [
          [
            "requestFullscreen",
            "exitFullscreen",
            "fullscreenElement",
            "fullscreenEnabled",
            "fullscreenchange",
            "fullscreenerror",
          ],
          [
            "webkitRequestFullscreen",
            "webkitExitFullscreen",
            "webkitFullscreenElement",
            "webkitFullscreenEnabled",
            "webkitfullscreenchange",
            "webkitfullscreenerror",
          ],
          [
            "webkitRequestFullScreen",
            "webkitCancelFullScreen",
            "webkitCurrentFullScreenElement",
            "webkitCancelFullScreen",
            "webkitfullscreenchange",
            "webkitfullscreenerror",
          ],
          [
            "mozRequestFullScreen",
            "mozCancelFullScreen",
            "mozFullScreenElement",
            "mozFullScreenEnabled",
            "mozfullscreenchange",
            "mozfullscreenerror",
          ],
          [
            "msRequestFullscreen",
            "msExitFullscreen",
            "msFullscreenElement",
            "msFullscreenEnabled",
            "MSFullscreenChange",
            "MSFullscreenError",
          ],
        ],
        ti = ei[0],
        ni = 0;
      ni < ei.length;
      ni++
    )
      if (ei[ni][1] in t) {
        Dn = ei[ni];
        break;
      }
    if (Dn) for (var ii = 0; ii < Dn.length; ii++) Zn[ti[ii]] = Dn[ii];
    (lt.prototype.code = 0),
      (lt.prototype.message = ""),
      (lt.prototype.status = null),
      (lt.errorTypes = [
        "MEDIA_ERR_CUSTOM",
        "MEDIA_ERR_ABORTED",
        "MEDIA_ERR_NETWORK",
        "MEDIA_ERR_DECODE",
        "MEDIA_ERR_SRC_NOT_SUPPORTED",
        "MEDIA_ERR_ENCRYPTED",
      ]),
      (lt.defaultMessages = {
        1: "You aborted the media playback",
        2: "A network error caused the media download to fail part-way.",
        3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
        4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
        5: "The media is encrypted and we do not have the keys to decrypt it.",
      });
    for (var ri = 0; ri < lt.errorTypes.length; ri++)
      (lt[lt.errorTypes[ri]] = ri), (lt.prototype[lt.errorTypes[ri]] = ri);
    var si = function (e, t) {
        var n,
          i = null;
        try {
          n = JSON.parse(e, t);
        } catch (e) {
          i = e;
        }
        return [i, n];
      },
      oi = function (e) {
        return [
          "kind",
          "label",
          "language",
          "id",
          "inBandMetadataTrackDispatchType",
          "mode",
          "src",
        ].reduce(
          function (t, n) {
            return e[n] && (t[n] = e[n]), t;
          },
          {
            cues:
              e.cues &&
              Array.prototype.map.call(e.cues, function (e) {
                return {
                  startTime: e.startTime,
                  endTime: e.endTime,
                  text: e.text,
                  id: e.id,
                };
              }),
          }
        );
      },
      ai = function (e) {
        var t = e.$$("track"),
          n = Array.prototype.map.call(t, function (e) {
            return e.track;
          });
        return Array.prototype.map
          .call(t, function (e) {
            var t = oi(e.track);
            return e.src && (t.src = e.src), t;
          })
          .concat(
            Array.prototype.filter
              .call(e.textTracks(), function (e) {
                return -1 === n.indexOf(e);
              })
              .map(oi)
          );
      },
      li = function (e, t) {
        return (
          e.forEach(function (e) {
            var n = t.addRemoteTextTrack(e).track;
            !e.src &&
              e.cues &&
              e.cues.forEach(function (e) {
                return n.addCue(e);
              });
          }),
          t.textTracks()
        );
      },
      ci = "vjs-modal-dialog",
      ui = (function (i) {
        function r(e, t) {
          var n;
          return (
            ((n = i.call(this, e, t) || this).opened_ =
              n.hasBeenOpened_ =
              n.hasBeenFilled_ =
                !1),
            n.closeable(!n.options_.uncloseable),
            n.content(n.options_.content),
            (n.contentEl_ = y(
              "div",
              {
                className: ci + "-content",
              },
              {
                role: "document",
              }
            )),
            (n.descEl_ = y("p", {
              className: ci + "-description vjs-control-text",
              id: n.el().getAttribute("aria-describedby"),
            })),
            b(n.descEl_, n.description()),
            n.el_.appendChild(n.descEl_),
            n.el_.appendChild(n.contentEl_),
            n
          );
        }
        n(r, i);
        var s = r.prototype;
        return (
          (s.createEl = function () {
            return i.prototype.createEl.call(
              this,
              "div",
              {
                className: this.buildCSSClass(),
                tabIndex: -1,
              },
              {
                "aria-describedby": this.id() + "_description",
                "aria-hidden": "true",
                "aria-label": this.label(),
                role: "dialog",
              }
            );
          }),
          (s.dispose = function () {
            (this.contentEl_ = null),
              (this.descEl_ = null),
              (this.previouslyActiveEl_ = null),
              i.prototype.dispose.call(this);
          }),
          (s.buildCSSClass = function () {
            return ci + " vjs-hidden " + i.prototype.buildCSSClass.call(this);
          }),
          (s.handleKeyPress = function (e) {
            27 === e.which && this.closeable() && this.close();
          }),
          (s.label = function () {
            return this.localize(this.options_.label || "Modal Window");
          }),
          (s.description = function () {
            var e =
              this.options_.description ||
              this.localize("This is a modal window.");
            return (
              this.closeable() &&
                (e +=
                  " " +
                  this.localize(
                    "This modal can be closed by pressing the Escape key or activating the close button."
                  )),
              e
            );
          }),
          (s.open = function () {
            if (!this.opened_) {
              var e = this.player();
              this.trigger("beforemodalopen"),
                (this.opened_ = !0),
                (this.options_.fillAlways ||
                  (!this.hasBeenOpened_ && !this.hasBeenFilled_)) &&
                  this.fill(),
                (this.wasPlaying_ = !e.paused()),
                this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(),
                this.closeable() &&
                  this.on(
                    this.el_.ownerDocument,
                    "keydown",
                    mn(this, this.handleKeyPress)
                  ),
                (this.hadControls_ = e.controls()),
                e.controls(!1),
                this.show(),
                this.conditionalFocus_(),
                this.el().setAttribute("aria-hidden", "false"),
                this.trigger("modalopen"),
                (this.hasBeenOpened_ = !0);
            }
          }),
          (s.opened = function (e) {
            return (
              "boolean" == typeof e && this[e ? "open" : "close"](),
              this.opened_
            );
          }),
          (s.close = function () {
            if (this.opened_) {
              var e = this.player();
              this.trigger("beforemodalclose"),
                (this.opened_ = !1),
                this.wasPlaying_ && this.options_.pauseOnOpen && e.play(),
                this.closeable() &&
                  this.off(
                    this.el_.ownerDocument,
                    "keydown",
                    mn(this, this.handleKeyPress)
                  ),
                this.hadControls_ && e.controls(!0),
                this.hide(),
                this.el().setAttribute("aria-hidden", "true"),
                this.trigger("modalclose"),
                this.conditionalBlur_(),
                this.options_.temporary && this.dispose();
            }
          }),
          (s.closeable = function (e) {
            if ("boolean" == typeof e) {
              var t = (this.closeable_ = !!e),
                n = this.getChild("closeButton");
              if (t && !n) {
                var i = this.contentEl_;
                (this.contentEl_ = this.el_),
                  (n = this.addChild("closeButton", {
                    controlText: "Close Modal Dialog",
                  })),
                  (this.contentEl_ = i),
                  this.on(n, "close", this.close);
              }
              !t &&
                n &&
                (this.off(n, "close", this.close),
                this.removeChild(n),
                n.dispose());
            }
            return this.closeable_;
          }),
          (s.fill = function () {
            this.fillWith(this.content());
          }),
          (s.fillWith = function (e) {
            var t = this.contentEl(),
              n = t.parentNode,
              i = t.nextSibling;
            this.trigger("beforemodalfill"),
              (this.hasBeenFilled_ = !0),
              n.removeChild(t),
              this.empty(),
              $(t, e),
              this.trigger("modalfill"),
              i ? n.insertBefore(t, i) : n.appendChild(t);
            var r = this.getChild("closeButton");
            r && n.appendChild(r.el_);
          }),
          (s.empty = function () {
            this.trigger("beforemodalempty"),
              N(this.contentEl()),
              this.trigger("modalempty");
          }),
          (s.content = function (e) {
            return (
              "undefined" != typeof e && (this.content_ = e), this.content_
            );
          }),
          (s.conditionalFocus_ = function () {
            var e = t.activeElement,
              n = this.player_.el_;
            (this.previouslyActiveEl_ = null),
              (n.contains(e) || n === e) &&
                ((this.previouslyActiveEl_ = e),
                this.focus(),
                this.on(t, "keydown", this.handleKeyDown));
          }),
          (s.conditionalBlur_ = function () {
            this.previouslyActiveEl_ &&
              (this.previouslyActiveEl_.focus(),
              (this.previouslyActiveEl_ = null)),
              this.off(t, "keydown", this.handleKeyDown);
          }),
          (s.handleKeyDown = function (e) {
            if (9 === e.which) {
              for (
                var n,
                  i = this.focusableEls_(),
                  r = this.el_.querySelector(":focus"),
                  s = 0;
                s < i.length;
                s++
              )
                if (r === i[s]) {
                  n = s;
                  break;
                }
              t.activeElement === this.el_ && (n = 0),
                e.shiftKey && 0 === n
                  ? (i[i.length - 1].focus(), e.preventDefault())
                  : e.shiftKey ||
                    n !== i.length - 1 ||
                    (i[0].focus(), e.preventDefault());
            }
          }),
          (s.focusableEls_ = function () {
            var t = this.el_.querySelectorAll("*");
            return Array.prototype.filter.call(t, function (t) {
              return (
                ((t instanceof e.HTMLAnchorElement ||
                  t instanceof e.HTMLAreaElement) &&
                  t.hasAttribute("href")) ||
                ((t instanceof e.HTMLInputElement ||
                  t instanceof e.HTMLSelectElement ||
                  t instanceof e.HTMLTextAreaElement ||
                  t instanceof e.HTMLButtonElement) &&
                  !t.hasAttribute("disabled")) ||
                t instanceof e.HTMLIFrameElement ||
                t instanceof e.HTMLObjectElement ||
                t instanceof e.HTMLEmbedElement ||
                (t.hasAttribute("tabindex") &&
                  -1 !== t.getAttribute("tabindex")) ||
                t.hasAttribute("contenteditable")
              );
            });
          }),
          r
        );
      })(xn);
    (ui.prototype.options_ = {
      pauseOnOpen: !0,
      temporary: !0,
    }),
      xn.registerComponent("ModalDialog", ui);
    var di = (function (e) {
      function t(t) {
        var n;
        void 0 === t && (t = []),
          ((n = e.call(this) || this).tracks_ = []),
          Object.defineProperty(s(s(n)), "length", {
            get: function () {
              return this.tracks_.length;
            },
          });
        for (var i = 0; i < t.length; i++) n.addTrack(t[i]);
        return n;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.addTrack = function (e) {
          var t = this.tracks_.length;
          "" + t in this ||
            Object.defineProperty(this, t, {
              get: function () {
                return this.tracks_[t];
              },
            }),
            -1 === this.tracks_.indexOf(e) &&
              (this.tracks_.push(e),
              this.trigger({
                track: e,
                type: "addtrack",
              }));
        }),
        (i.removeTrack = function (e) {
          for (var t, n = 0, i = this.length; i > n; n++)
            if (this[n] === e) {
              (t = this[n]).off && t.off(), this.tracks_.splice(n, 1);
              break;
            }
          t &&
            this.trigger({
              track: t,
              type: "removetrack",
            });
        }),
        (i.getTrackById = function (e) {
          for (var t = null, n = 0, i = this.length; i > n; n++) {
            var r = this[n];
            if (r.id === e) {
              t = r;
              break;
            }
          }
          return t;
        }),
        t
      );
    })(_n);
    for (var pi in ((di.prototype.allowedEvents_ = {
      change: "change",
      addtrack: "addtrack",
      removetrack: "removetrack",
    }),
    di.prototype.allowedEvents_))
      di.prototype["on" + pi] = null;
    var hi = function (e, t) {
        for (var n = 0; n < e.length; n++)
          Object.keys(e[n]).length && t.id !== e[n].id && (e[n].enabled = !1);
      },
      fi = (function (e) {
        function t(t) {
          var n;
          void 0 === t && (t = []);
          for (var i = t.length - 1; i >= 0; i--)
            if (t[i].enabled) {
              hi(t, t[i]);
              break;
            }
          return ((n = e.call(this, t) || this).changing_ = !1), n;
        }
        return (
          n(t, e),
          (t.prototype.addTrack = function (t) {
            var n = this;
            t.enabled && hi(this, t),
              e.prototype.addTrack.call(this, t),
              t.addEventListener &&
                t.addEventListener("enabledchange", function () {
                  n.changing_ ||
                    ((n.changing_ = !0),
                    hi(n, t),
                    (n.changing_ = !1),
                    n.trigger("change"));
                });
          }),
          t
        );
      })(di),
      mi = function (e, t) {
        for (var n = 0; n < e.length; n++)
          Object.keys(e[n]).length && t.id !== e[n].id && (e[n].selected = !1);
      },
      gi = (function (e) {
        function t(t) {
          var n;
          void 0 === t && (t = []);
          for (var i = t.length - 1; i >= 0; i--)
            if (t[i].selected) {
              mi(t, t[i]);
              break;
            }
          return (
            ((n = e.call(this, t) || this).changing_ = !1),
            Object.defineProperty(s(s(n)), "selectedIndex", {
              get: function () {
                for (var e = 0; e < this.length; e++)
                  if (this[e].selected) return e;
                return -1;
              },
              set: function () {},
            }),
            n
          );
        }
        return (
          n(t, e),
          (t.prototype.addTrack = function (t) {
            var n = this;
            t.selected && mi(this, t),
              e.prototype.addTrack.call(this, t),
              t.addEventListener &&
                t.addEventListener("selectedchange", function () {
                  n.changing_ ||
                    ((n.changing_ = !0),
                    mi(n, t),
                    (n.changing_ = !1),
                    n.trigger("change"));
                });
          }),
          t
        );
      })(di),
      _i = (function (e) {
        function t() {
          return e.apply(this, arguments) || this;
        }
        return (
          n(t, e),
          (t.prototype.addTrack = function (t) {
            e.prototype.addTrack.call(this, t),
              t.addEventListener(
                "modechange",
                mn(this, function () {
                  this.queueTrigger("change");
                })
              ),
              -1 === ["metadata", "chapters"].indexOf(t.kind) &&
                t.addEventListener(
                  "modechange",
                  mn(this, function () {
                    this.trigger("selectedlanguagechange");
                  })
                );
          }),
          t
        );
      })(di),
      vi = (function () {
        function e(e) {
          void 0 === e && (e = []),
            (this.trackElements_ = []),
            Object.defineProperty(this, "length", {
              get: function () {
                return this.trackElements_.length;
              },
            });
          for (var t = 0, n = e.length; n > t; t++) this.addTrackElement_(e[t]);
        }
        var t = e.prototype;
        return (
          (t.addTrackElement_ = function (e) {
            var t = this.trackElements_.length;
            "" + t in this ||
              Object.defineProperty(this, t, {
                get: function () {
                  return this.trackElements_[t];
                },
              }),
              -1 === this.trackElements_.indexOf(e) &&
                this.trackElements_.push(e);
          }),
          (t.getTrackElementByTrack_ = function (e) {
            for (var t, n = 0, i = this.trackElements_.length; i > n; n++)
              if (e === this.trackElements_[n].track) {
                t = this.trackElements_[n];
                break;
              }
            return t;
          }),
          (t.removeTrackElement_ = function (e) {
            for (var t = 0, n = this.trackElements_.length; n > t; t++)
              if (e === this.trackElements_[t]) {
                this.trackElements_.splice(t, 1);
                break;
              }
          }),
          e
        );
      })(),
      yi = (function () {
        function e(t) {
          e.prototype.setCues_.call(this, t),
            Object.defineProperty(this, "length", {
              get: function () {
                return this.length_;
              },
            });
        }
        var t = e.prototype;
        return (
          (t.setCues_ = function (e) {
            var t = this.length || 0,
              n = 0,
              i = e.length;
            (this.cues_ = e), (this.length_ = e.length);
            var r = function (e) {
              "" + e in this ||
                Object.defineProperty(this, "" + e, {
                  get: function () {
                    return this.cues_[e];
                  },
                });
            };
            if (i > t) for (n = t; i > n; n++) r.call(this, n);
          }),
          (t.getCueById = function (e) {
            for (var t = null, n = 0, i = this.length; i > n; n++) {
              var r = this[n];
              if (r.id === e) {
                t = r;
                break;
              }
            }
            return t;
          }),
          e
        );
      })(),
      bi = {
        alternative: "alternative",
        captions: "captions",
        main: "main",
        sign: "sign",
        subtitles: "subtitles",
        commentary: "commentary",
      },
      wi = {
        alternative: "alternative",
        descriptions: "descriptions",
        main: "main",
        "main-desc": "main-desc",
        translation: "translation",
        commentary: "commentary",
      },
      Ci = {
        subtitles: "subtitles",
        captions: "captions",
        descriptions: "descriptions",
        chapters: "chapters",
        metadata: "metadata",
      },
      ki = {
        disabled: "disabled",
        hidden: "hidden",
        showing: "showing",
      },
      Ti = (function (e) {
        function t(t) {
          var n;
          void 0 === t && (t = {}), (n = e.call(this) || this);
          var i = {
              id: t.id || "vjs_track_" + H(),
              kind: t.kind || "",
              label: t.label || "",
              language: t.language || "",
            },
            r = function (e) {
              Object.defineProperty(s(s(n)), e, {
                get: function () {
                  return i[e];
                },
                set: function () {},
              });
            };
          for (var o in i) r(o);
          return n;
        }
        return n(t, e), t;
      })(_n),
      Ei = function (n) {
        var i = [
            "protocol",
            "hostname",
            "port",
            "pathname",
            "search",
            "hash",
            "host",
          ],
          r = t.createElement("a");
        r.href = n;
        var s,
          o = "" === r.host && "file:" !== r.protocol;
        o &&
          (((s = t.createElement("div")).innerHTML =
            '<a href="' + n + '"></a>'),
          (r = s.firstChild),
          s.setAttribute("style", "display:none; position:absolute;"),
          t.body.appendChild(s));
        for (var a = {}, l = 0; l < i.length; l++) a[i[l]] = r[i[l]];
        return (
          "http:" === a.protocol && (a.host = a.host.replace(/:80$/, "")),
          "https:" === a.protocol && (a.host = a.host.replace(/:443$/, "")),
          a.protocol || (a.protocol = e.location.protocol),
          o && t.body.removeChild(s),
          a
        );
      },
      Si = function (e) {
        if (!e.match(/^https?:\/\//)) {
          var n = t.createElement("div");
          (n.innerHTML = '<a href="' + e + '">x</a>'), (e = n.firstChild.href);
        }
        return e;
      },
      xi = function (e) {
        if ("string" == typeof e) {
          var t =
            /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(
              e
            );
          if (t) return t.pop().toLowerCase();
        }
        return "";
      },
      Pi = function (t) {
        var n = e.location,
          i = Ei(t);
        return (
          (":" === i.protocol ? n.protocol : i.protocol) + i.host !==
          n.protocol + n.host
        );
      },
      Oi = Object.freeze({
        parseUrl: Ei,
        getAbsoluteURL: Si,
        getFileExtension: xi,
        isCrossOrigin: Pi,
      }),
      Ai = function (e) {
        var t = Ii.call(e);
        return (
          "[object Function]" === t ||
          ("function" == typeof e && "[object RegExp]" !== t) ||
          ("undefined" != typeof window &&
            (e === window.setTimeout ||
              e === window.alert ||
              e === window.confirm ||
              e === window.prompt))
        );
      },
      Ii = Object.prototype.toString;
    "undefined" != typeof window
      ? window
      : "undefined" != typeof global
      ? global
      : "undefined" != typeof self && self;
    var Di = dt(function (e, t) {
        ((t = e.exports =
          function (e) {
            return e.replace(/^\s*|\s*$/g, "");
          }).left = function (e) {
          return e.replace(/^\s*/, "");
        }),
          (t.right = function (e) {
            return e.replace(/\s*$/, "");
          });
      }),
      Mi = (Di.left, Di.right, Function.prototype.toString),
      Ri = /^\s*class\b/,
      ji = function (e) {
        try {
          var t = Mi.call(e);
          return Ri.test(t);
        } catch (e) {
          return !1;
        }
      },
      Li = Object.prototype.toString,
      Ni = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag,
      Ui = function (e) {
        if (!e) return !1;
        if ("function" != typeof e && "object" != typeof e) return !1;
        if ("function" == typeof e && !e.prototype) return !0;
        if (Ni)
          return (function (e) {
            try {
              return !ji(e) && (Mi.call(e), !0);
            } catch (e) {
              return !1;
            }
          })(e);
        if (ji(e)) return !1;
        var t = Li.call(e);
        return "[object Function]" === t || "[object GeneratorFunction]" === t;
      },
      Bi = Object.prototype.toString,
      $i = Object.prototype.hasOwnProperty,
      Fi = function (e, t, n) {
        if (!Ui(t)) throw new TypeError("iterator must be a function");
        var i;
        3 <= arguments.length && (i = n),
          "[object Array]" === Bi.call(e)
            ? (function (e, t, n) {
                for (var i = 0, r = e.length; r > i; i++)
                  $i.call(e, i) &&
                    (null == n ? t(e[i], i, e) : t.call(n, e[i], i, e));
              })(e, t, i)
            : "string" == typeof e
            ? (function (e, t, n) {
                for (var i = 0, r = e.length; r > i; i++)
                  null == n
                    ? t(e.charAt(i), i, e)
                    : t.call(n, e.charAt(i), i, e);
              })(e, t, i)
            : (function (e, t, n) {
                for (var i in e)
                  $i.call(e, i) &&
                    (null == n ? t(e[i], i, e) : t.call(n, e[i], i, e));
              })(e, t, i);
      },
      Hi = function (e) {
        if (!e) return {};
        var t = {};
        return (
          Fi(Di(e).split("\n"), function (e) {
            var n,
              i = e.indexOf(":"),
              r = Di(e.slice(0, i)).toLowerCase(),
              s = Di(e.slice(i + 1));
            "undefined" == typeof t[r]
              ? (t[r] = s)
              : ((n = t[r]),
                "[object Array]" === Object.prototype.toString.call(n)
                  ? t[r].push(s)
                  : (t[r] = [t[r], s]));
          }),
          t
        );
      },
      Wi = function () {
        for (var e = {}, t = 0; t < arguments.length; t++) {
          var n = arguments[t];
          for (var i in n) qi.call(n, i) && (e[i] = n[i]);
        }
        return e;
      },
      qi = Object.prototype.hasOwnProperty,
      zi = ht;
    (ht.XMLHttpRequest = e.XMLHttpRequest || function () {}),
      (ht.XDomainRequest =
        "withCredentials" in new ht.XMLHttpRequest()
          ? ht.XMLHttpRequest
          : e.XDomainRequest),
      (function (e, t) {
        for (var n = 0; n < e.length; n++) t(e[n]);
      })(["get", "put", "post", "patch", "head", "delete"], function (e) {
        ht["delete" === e ? "del" : e] = function (t, n, i) {
          return ((n = pt(t, n, i)).method = e.toUpperCase()), ft(n);
        };
      });
    var Vi = function (t, n) {
        var i = new e.WebVTT.Parser(e, e.vttjs, e.WebVTT.StringDecoder()),
          r = [];
        (i.oncue = function (e) {
          n.addCue(e);
        }),
          (i.onparsingerror = function (e) {
            r.push(e);
          }),
          (i.onflush = function () {
            n.trigger({
              type: "loadeddata",
              target: n,
            });
          }),
          i.parse(t),
          0 < r.length &&
            (e.console &&
              e.console.groupCollapsed &&
              e.console.groupCollapsed(
                "Text Track parsing errors for " + n.src
              ),
            r.forEach(function (e) {
              return Gt.error(e);
            }),
            e.console && e.console.groupEnd && e.console.groupEnd()),
          i.flush();
      },
      Ki = (function (t) {
        function i(n) {
          var i;
          if ((void 0 === n && (n = {}), !n.tech))
            throw new Error("A tech was not provided.");
          var r = it(n, {
              kind: Ci[n.kind] || "subtitles",
              language: n.language || n.srclang || "",
            }),
            o = ki[r.mode] || "disabled",
            a = r["default"];
          ("metadata" !== r.kind && "chapters" !== r.kind) || (o = "hidden"),
            ((i = t.call(this, r) || this).tech_ = r.tech),
            (i.cues_ = []),
            (i.activeCues_ = []);
          var l = new yi(i.cues_),
            c = new yi(i.activeCues_),
            u = !1,
            d = mn(s(s(i)), function () {
              (this.activeCues = this.activeCues),
                u && (this.trigger("cuechange"), (u = !1));
            });
          return (
            "disabled" !== o &&
              i.tech_.ready(function () {
                i.tech_.on("timeupdate", d);
              }, !0),
            Object.defineProperties(s(s(i)), {
              default: {
                get: function () {
                  return a;
                },
                set: function () {},
              },
              mode: {
                get: function () {
                  return o;
                },
                set: function (e) {
                  var t = this;
                  ki[e] &&
                    ("disabled" !== (o = e)
                      ? this.tech_.ready(function () {
                          t.tech_.on("timeupdate", d);
                        }, !0)
                      : this.tech_.off("timeupdate", d),
                    this.trigger("modechange"));
                },
              },
              cues: {
                get: function () {
                  return this.loaded_ ? l : null;
                },
                set: function () {},
              },
              activeCues: {
                get: function () {
                  if (!this.loaded_) return null;
                  if (0 === this.cues.length) return c;
                  for (
                    var e = this.tech_.currentTime(),
                      t = [],
                      n = 0,
                      i = this.cues.length;
                    i > n;
                    n++
                  ) {
                    var r = this.cues[n];
                    r.startTime <= e && r.endTime >= e
                      ? t.push(r)
                      : r.startTime === r.endTime &&
                        r.startTime <= e &&
                        r.startTime + 0.5 >= e &&
                        t.push(r);
                  }
                  if (((u = !1), t.length !== this.activeCues_.length)) u = !0;
                  else
                    for (var s = 0; s < t.length; s++)
                      -1 === this.activeCues_.indexOf(t[s]) && (u = !0);
                  return (
                    (this.activeCues_ = t), c.setCues_(this.activeCues_), c
                  );
                },
                set: function () {},
              },
            }),
            r.src
              ? ((i.src = r.src),
                (function (t, n) {
                  var i = {
                      uri: t,
                    },
                    r = Pi(t);
                  r && (i.cors = r),
                    zi(
                      i,
                      mn(this, function (t, i, r) {
                        if (t) return Gt.error(t, i);
                        if (((n.loaded_ = !0), "function" != typeof e.WebVTT)) {
                          if (n.tech_) {
                            var s = function () {
                              return Vi(r, n);
                            };
                            n.tech_.on("vttjsloaded", s),
                              n.tech_.on("vttjserror", function () {
                                Gt.error(
                                  "vttjs failed to load, stopping trying to process " +
                                    n.src
                                ),
                                  n.tech_.off("vttjsloaded", s);
                              });
                          }
                        } else Vi(r, n);
                      })
                    );
                })(r.src, s(s(i))))
              : (i.loaded_ = !0),
            i
          );
        }
        n(i, t);
        var r = i.prototype;
        return (
          (r.addCue = function (t) {
            var n = t;
            if (e.vttjs && !(t instanceof e.vttjs.VTTCue)) {
              for (var i in ((n = new e.vttjs.VTTCue(
                t.startTime,
                t.endTime,
                t.text
              )),
              t))
                i in n || (n[i] = t[i]);
              (n.id = t.id), (n.originalCue_ = t);
            }
            for (var r = this.tech_.textTracks(), s = 0; s < r.length; s++)
              r[s] !== this && r[s].removeCue(n);
            this.cues_.push(n), this.cues.setCues_(this.cues_);
          }),
          (r.removeCue = function (e) {
            for (var t = this.cues_.length; t--; ) {
              var n = this.cues_[t];
              if (n === e || (n.originalCue_ && n.originalCue_ === e)) {
                this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                break;
              }
            }
          }),
          i
        );
      })(Ti);
    Ki.prototype.allowedEvents_ = {
      cuechange: "cuechange",
    };
    var Gi = (function (e) {
        function t(t) {
          var n;
          void 0 === t && (t = {});
          var i = it(t, {
            kind: wi[t.kind] || "",
          });
          n = e.call(this, i) || this;
          var r = !1;
          return (
            Object.defineProperty(s(s(n)), "enabled", {
              get: function () {
                return r;
              },
              set: function (e) {
                "boolean" == typeof e &&
                  e !== r &&
                  ((r = e), this.trigger("enabledchange"));
              },
            }),
            i.enabled && (n.enabled = i.enabled),
            (n.loaded_ = !0),
            n
          );
        }
        return n(t, e), t;
      })(Ti),
      Yi = (function (e) {
        function t(t) {
          var n;
          void 0 === t && (t = {});
          var i = it(t, {
            kind: bi[t.kind] || "",
          });
          n = e.call(this, i) || this;
          var r = !1;
          return (
            Object.defineProperty(s(s(n)), "selected", {
              get: function () {
                return r;
              },
              set: function (e) {
                "boolean" == typeof e &&
                  e !== r &&
                  ((r = e), this.trigger("selectedchange"));
              },
            }),
            i.selected && (n.selected = i.selected),
            n
          );
        }
        return n(t, e), t;
      })(Ti),
      Xi = (function (e) {
        function t(t) {
          var n, i;
          void 0 === t && (t = {}), (n = e.call(this) || this);
          var r = new Ki(t);
          return (
            (n.kind = r.kind),
            (n.src = r.src),
            (n.srclang = r.language),
            (n.label = r.label),
            (n["default"] = r["default"]),
            Object.defineProperties(s(s(n)), {
              readyState: {
                get: function () {
                  return i;
                },
              },
              track: {
                get: function () {
                  return r;
                },
              },
            }),
            (i = 0),
            r.addEventListener("loadeddata", function () {
              (i = 2),
                n.trigger({
                  type: "load",
                  target: s(s(n)),
                });
            }),
            n
          );
        }
        return n(t, e), t;
      })(_n);
    (Xi.prototype.allowedEvents_ = {
      load: "load",
    }),
      (Xi.NONE = 0),
      (Xi.LOADING = 1),
      (Xi.LOADED = 2),
      (Xi.ERROR = 3);
    var Qi = {
      audio: {
        ListClass: fi,
        TrackClass: Gi,
        capitalName: "Audio",
      },
      video: {
        ListClass: gi,
        TrackClass: Yi,
        capitalName: "Video",
      },
      text: {
        ListClass: _i,
        TrackClass: Ki,
        capitalName: "Text",
      },
    };
    Object.keys(Qi).forEach(function (e) {
      (Qi[e].getterName = e + "Tracks"), (Qi[e].privateName = e + "Tracks_");
    });
    var Ji = {
        remoteText: {
          ListClass: _i,
          TrackClass: Ki,
          capitalName: "RemoteText",
          getterName: "remoteTextTracks",
          privateName: "remoteTextTracks_",
        },
        remoteTextEl: {
          ListClass: vi,
          TrackClass: Xi,
          capitalName: "RemoteTextTrackEls",
          getterName: "remoteTextTrackEls",
          privateName: "remoteTextTrackEls_",
        },
      },
      Zi = it(Qi, Ji);
    (Ji.names = Object.keys(Ji)),
      (Qi.names = Object.keys(Qi)),
      (Zi.names = [].concat(Ji.names).concat(Qi.names));
    var er =
      Object.create ||
      (function () {
        function e() {}
        return function (t) {
          if (1 !== arguments.length)
            throw new Error("Object.create shim only accepts one parameter.");
          return (e.prototype = t), new e();
        };
      })();
    (((mt.prototype = er(Error.prototype)).constructor = mt).Errors = {
      BadSignature: {
        code: 0,
        message: "Malformed WebVTT signature.",
      },
      BadTimeStamp: {
        code: 1,
        message: "Malformed time stamp.",
      },
    }),
      (_t.prototype = {
        set: function (e, t) {
          this.get(e) || "" === t || (this.values[e] = t);
        },
        get: function (e, t, n) {
          return n
            ? this.has(e)
              ? this.values[e]
              : t[n]
            : this.has(e)
            ? this.values[e]
            : t;
        },
        has: function (e) {
          return e in this.values;
        },
        alt: function (e, t, n) {
          for (var i = 0; i < n.length; ++i)
            if (t === n[i]) {
              this.set(e, t);
              break;
            }
        },
        integer: function (e, t) {
          /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10));
        },
        percent: function (e, t) {
          return (
            !!(
              t.match(/^([\d]{1,3})(\.[\d]*)?%$/) &&
              0 <= (t = parseFloat(t)) &&
              100 >= t
            ) && (this.set(e, t), !0)
          );
        },
      });
    var tr = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&lrm;": "\u200e",
        "&rlm;": "\u200f",
        "&nbsp;": " ",
      },
      nr = {
        c: "span",
        i: "i",
        b: "b",
        u: "u",
        ruby: "ruby",
        rt: "rt",
        v: "span",
        lang: "span",
      },
      ir = {
        v: "title",
        lang: "lang",
      },
      rr = {
        rt: "ruby",
      },
      sr = [
        [1470, 1470],
        [1472, 1472],
        [1475, 1475],
        [1478, 1478],
        [1488, 1514],
        [1520, 1524],
        [1544, 1544],
        [1547, 1547],
        [1549, 1549],
        [1563, 1563],
        [1566, 1610],
        [1645, 1647],
        [1649, 1749],
        [1765, 1766],
        [1774, 1775],
        [1786, 1805],
        [1807, 1808],
        [1810, 1839],
        [1869, 1957],
        [1969, 1969],
        [1984, 2026],
        [2036, 2037],
        [2042, 2042],
        [2048, 2069],
        [2074, 2074],
        [2084, 2084],
        [2088, 2088],
        [2096, 2110],
        [2112, 2136],
        [2142, 2142],
        [2208, 2208],
        [2210, 2220],
        [8207, 8207],
        [64285, 64285],
        [64287, 64296],
        [64298, 64310],
        [64312, 64316],
        [64318, 64318],
        [64320, 64321],
        [64323, 64324],
        [64326, 64449],
        [64467, 64829],
        [64848, 64911],
        [64914, 64967],
        [65008, 65020],
        [65136, 65140],
        [65142, 65276],
        [67584, 67589],
        [67592, 67592],
        [67594, 67637],
        [67639, 67640],
        [67644, 67644],
        [67647, 67669],
        [67671, 67679],
        [67840, 67867],
        [67872, 67897],
        [67903, 67903],
        [67968, 68023],
        [68030, 68031],
        [68096, 68096],
        [68112, 68115],
        [68117, 68119],
        [68121, 68147],
        [68160, 68167],
        [68176, 68184],
        [68192, 68223],
        [68352, 68405],
        [68416, 68437],
        [68440, 68466],
        [68472, 68479],
        [68608, 68680],
        [126464, 126467],
        [126469, 126495],
        [126497, 126498],
        [126500, 126500],
        [126503, 126503],
        [126505, 126514],
        [126516, 126519],
        [126521, 126521],
        [126523, 126523],
        [126530, 126530],
        [126535, 126535],
        [126537, 126537],
        [126539, 126539],
        [126541, 126543],
        [126545, 126546],
        [126548, 126548],
        [126551, 126551],
        [126553, 126553],
        [126555, 126555],
        [126557, 126557],
        [126559, 126559],
        [126561, 126562],
        [126564, 126564],
        [126567, 126570],
        [126572, 126578],
        [126580, 126583],
        [126585, 126588],
        [126590, 126590],
        [126592, 126601],
        [126603, 126619],
        [126625, 126627],
        [126629, 126633],
        [126635, 126651],
        [1114109, 1114109],
      ];
    (Ct.prototype.applyStyles = function (e, t) {
      for (var n in ((t = t || this.div), e))
        e.hasOwnProperty(n) && (t.style[n] = e[n]);
    }),
      (Ct.prototype.formatStyle = function (e, t) {
        return 0 === e ? 0 : e + t;
      }),
      ((kt.prototype = er(Ct.prototype)).constructor = kt),
      (Tt.prototype.move = function (e, t) {
        switch (((t = void 0 !== t ? t : this.lineHeight), e)) {
          case "+x":
            (this.left += t), (this.right += t);
            break;
          case "-x":
            (this.left -= t), (this.right -= t);
            break;
          case "+y":
            (this.top += t), (this.bottom += t);
            break;
          case "-y":
            (this.top -= t), (this.bottom -= t);
        }
      }),
      (Tt.prototype.overlaps = function (e) {
        return (
          this.left < e.right &&
          this.right > e.left &&
          this.top < e.bottom &&
          this.bottom > e.top
        );
      }),
      (Tt.prototype.overlapsAny = function (e) {
        for (var t = 0; t < e.length; t++) if (this.overlaps(e[t])) return !0;
        return !1;
      }),
      (Tt.prototype.within = function (e) {
        return (
          this.top >= e.top &&
          this.bottom <= e.bottom &&
          this.left >= e.left &&
          this.right <= e.right
        );
      }),
      (Tt.prototype.overlapsOppositeAxis = function (e, t) {
        switch (t) {
          case "+x":
            return this.left < e.left;
          case "-x":
            return this.right > e.right;
          case "+y":
            return this.top < e.top;
          case "-y":
            return this.bottom > e.bottom;
        }
      }),
      (Tt.prototype.intersectPercentage = function (e) {
        return (
          (Math.max(
            0,
            Math.min(this.right, e.right) - Math.max(this.left, e.left)
          ) *
            Math.max(
              0,
              Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)
            )) /
          (this.height * this.width)
        );
      }),
      (Tt.prototype.toCSSCompatValues = function (e) {
        return {
          top: this.top - e.top,
          bottom: e.bottom - this.bottom,
          left: this.left - e.left,
          right: e.right - this.right,
          height: this.height,
          width: this.width,
        };
      }),
      (Tt.getSimpleBoxPosition = function (e) {
        var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
          n = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
          i = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
        return {
          left: (e = e.div
            ? e.div.getBoundingClientRect()
            : e.tagName
            ? e.getBoundingClientRect()
            : e).left,
          right: e.right,
          top: e.top || i,
          height: e.height || t,
          bottom: e.bottom || i + (e.height || t),
          width: e.width || n,
        };
      }),
      (St.StringDecoder = function () {
        return {
          decode: function (e) {
            if (!e) return "";
            if ("string" != typeof e)
              throw new Error("Error - expected string data.");
            return decodeURIComponent(encodeURIComponent(e));
          },
        };
      }),
      (St.convertCueToDOMTree = function (e, t) {
        return e && t ? bt(e, t) : null;
      }),
      (St.processCues = function (e, t, n) {
        if (!e || !t || !n) return null;
        for (; n.firstChild; ) n.removeChild(n.firstChild);
        var i = e.document.createElement("div");
        if (
          ((i.style.position = "absolute"),
          (i.style.left = "0"),
          (i.style.right = "0"),
          (i.style.top = "0"),
          (i.style.bottom = "0"),
          (i.style.margin = "1.5%"),
          n.appendChild(i),
          (function (e) {
            for (var t = 0; t < e.length; t++)
              if (e[t].hasBeenReset || !e[t].displayState) return !0;
            return !1;
          })(t))
        ) {
          var r = [],
            s = Tt.getSimpleBoxPosition(i),
            o = {
              font: Math.round(0.05 * s.height * 100) / 100 + "px sans-serif",
            };
          !(function () {
            for (var n, a, l = 0; l < t.length; l++)
              (a = t[l]),
                (n = new kt(e, a, o)),
                i.appendChild(n.div),
                Et(0, n, s, r),
                (a.displayState = n.div),
                r.push(Tt.getSimpleBoxPosition(n));
          })();
        } else
          for (var a = 0; a < t.length; a++) i.appendChild(t[a].displayState);
      }),
      ((St.Parser = function (e, t, n) {
        n || ((n = t), (t = {})),
          t || (t = {}),
          (this.window = e),
          (this.vttjs = t),
          (this.state = "INITIAL"),
          (this.buffer = ""),
          (this.decoder = n || new TextDecoder("utf8")),
          (this.regionList = []);
      }).prototype = {
        reportOrThrowError: function (e) {
          if (!(e instanceof mt)) throw e;
          this.onparsingerror && this.onparsingerror(e);
        },
        parse: function (e) {
          function t() {
            for (
              var e = i.buffer, t = 0;
              t < e.length && "\r" !== e[t] && "\n" !== e[t];

            )
              ++t;
            var n = e.substr(0, t);
            return (
              "\r" === e[t] && ++t,
              "\n" === e[t] && ++t,
              (i.buffer = e.substr(t)),
              n
            );
          }
          function n(e) {
            e.match(/X-TIMESTAMP-MAP/)
              ? vt(
                  e,
                  function (e, t) {
                    switch (e) {
                      case "X-TIMESTAMP-MAP":
                        (n = t),
                          (r = new _t()),
                          vt(
                            n,
                            function (e, t) {
                              switch (e) {
                                case "MPEGT":
                                  r.integer(e + "S", t);
                                  break;
                                case "LOCA":
                                  r.set(e + "L", gt(t));
                              }
                            },
                            /[^\d]:/,
                            /,/
                          ),
                          i.ontimestampmap &&
                            i.ontimestampmap({
                              MPEGTS: r.get("MPEGTS"),
                              LOCAL: r.get("LOCAL"),
                            });
                    }
                    var n, r;
                  },
                  /=/
                )
              : vt(
                  e,
                  function (e, t) {
                    switch (e) {
                      case "Region":
                        !(function (e) {
                          var t = new _t();
                          if (
                            (vt(
                              e,
                              function (e, n) {
                                switch (e) {
                                  case "id":
                                    t.set(e, n);
                                    break;
                                  case "width":
                                    t.percent(e, n);
                                    break;
                                  case "lines":
                                    t.integer(e, n);
                                    break;
                                  case "regionanchor":
                                  case "viewportanchor":
                                    var i = n.split(",");
                                    if (2 !== i.length) break;
                                    var r = new _t();
                                    if (
                                      (r.percent("x", i[0]),
                                      r.percent("y", i[1]),
                                      !r.has("x") || !r.has("y"))
                                    )
                                      break;
                                    t.set(e + "X", r.get("x")),
                                      t.set(e + "Y", r.get("y"));
                                    break;
                                  case "scroll":
                                    t.alt(e, n, ["up"]);
                                }
                              },
                              /=/,
                              /\s/
                            ),
                            t.has("id"))
                          ) {
                            var n = new (i.vttjs.VTTRegion ||
                              i.window.VTTRegion)();
                            (n.width = t.get("width", 100)),
                              (n.lines = t.get("lines", 3)),
                              (n.regionAnchorX = t.get("regionanchorX", 0)),
                              (n.regionAnchorY = t.get("regionanchorY", 100)),
                              (n.viewportAnchorX = t.get("viewportanchorX", 0)),
                              (n.viewportAnchorY = t.get(
                                "viewportanchorY",
                                100
                              )),
                              (n.scroll = t.get("scroll", "")),
                              i.onregion && i.onregion(n),
                              i.regionList.push({
                                id: t.get("id"),
                                region: n,
                              });
                          }
                        })(t);
                    }
                  },
                  /:/
                );
          }
          var i = this;
          e &&
            (i.buffer += i.decoder.decode(e, {
              stream: !0,
            }));
          try {
            var r;
            if ("INITIAL" === i.state) {
              if (!/\r\n|\n/.test(i.buffer)) return this;
              var s = (r = t()).match(/^WEBVTT([ \t].*)?$/);
              if (!s || !s[0]) throw new mt(mt.Errors.BadSignature);
              i.state = "HEADER";
            }
            for (var o = !1; i.buffer; ) {
              if (!/\r\n|\n/.test(i.buffer)) return this;
              switch ((o ? (o = !1) : (r = t()), i.state)) {
                case "HEADER":
                  /:/.test(r) ? n(r) : r || (i.state = "ID");
                  continue;
                case "NOTE":
                  r || (i.state = "ID");
                  continue;
                case "ID":
                  if (/^NOTE($|[ \t])/.test(r)) {
                    i.state = "NOTE";
                    break;
                  }
                  if (!r) continue;
                  if (
                    ((i.cue = new (i.vttjs.VTTCue || i.window.VTTCue)(
                      0,
                      0,
                      ""
                    )),
                    (i.state = "CUE"),
                    -1 === r.indexOf("-->"))
                  ) {
                    i.cue.id = r;
                    continue;
                  }
                case "CUE":
                  try {
                    yt(r, i.cue, i.regionList);
                  } catch (e) {
                    i.reportOrThrowError(e),
                      (i.cue = null),
                      (i.state = "BADCUE");
                    continue;
                  }
                  i.state = "CUETEXT";
                  continue;
                case "CUETEXT":
                  var a = -1 !== r.indexOf("-->");
                  if (!r || (a && (o = !0))) {
                    i.oncue && i.oncue(i.cue), (i.cue = null), (i.state = "ID");
                    continue;
                  }
                  i.cue.text && (i.cue.text += "\n"), (i.cue.text += r);
                  continue;
                case "BADCUE":
                  r || (i.state = "ID");
                  continue;
              }
            }
          } catch (e) {
            i.reportOrThrowError(e),
              "CUETEXT" === i.state && i.cue && i.oncue && i.oncue(i.cue),
              (i.cue = null),
              (i.state = "INITIAL" === i.state ? "BADWEBVTT" : "BADCUE");
          }
          return this;
        },
        flush: function () {
          var e = this;
          try {
            if (
              ((e.buffer += e.decoder.decode()),
              (e.cue || "HEADER" === e.state) &&
                ((e.buffer += "\n\n"), e.parse()),
              "INITIAL" === e.state)
            )
              throw new mt(mt.Errors.BadSignature);
          } catch (t) {
            e.reportOrThrowError(t);
          }
          return e.onflush && e.onflush(), this;
        },
      });
    var or = St,
      ar = {
        "": 1,
        lr: 1,
        rl: 1,
      },
      lr = {
        start: 1,
        middle: 1,
        end: 1,
        left: 1,
        right: 1,
      };
    Pt.prototype.getCueAsHTML = function () {
      return WebVTT.convertCueToDOMTree(window, this.text);
    };
    var cr = Pt,
      ur = {
        "": !0,
        up: !0,
      },
      dr = function () {
        var e = 100,
          t = 3,
          n = 0,
          i = 100,
          r = 0,
          s = 100,
          o = "";
        Object.defineProperties(this, {
          width: {
            enumerable: !0,
            get: function () {
              return e;
            },
            set: function (t) {
              if (!Ot(t)) throw new Error("Width must be between 0 and 100.");
              e = t;
            },
          },
          lines: {
            enumerable: !0,
            get: function () {
              return t;
            },
            set: function (e) {
              if ("number" != typeof e)
                throw new TypeError("Lines must be set to a number.");
              t = e;
            },
          },
          regionAnchorY: {
            enumerable: !0,
            get: function () {
              return i;
            },
            set: function (e) {
              if (!Ot(e))
                throw new Error("RegionAnchorX must be between 0 and 100.");
              i = e;
            },
          },
          regionAnchorX: {
            enumerable: !0,
            get: function () {
              return n;
            },
            set: function (e) {
              if (!Ot(e))
                throw new Error("RegionAnchorY must be between 0 and 100.");
              n = e;
            },
          },
          viewportAnchorY: {
            enumerable: !0,
            get: function () {
              return s;
            },
            set: function (e) {
              if (!Ot(e))
                throw new Error("ViewportAnchorY must be between 0 and 100.");
              s = e;
            },
          },
          viewportAnchorX: {
            enumerable: !0,
            get: function () {
              return r;
            },
            set: function (e) {
              if (!Ot(e))
                throw new Error("ViewportAnchorX must be between 0 and 100.");
              r = e;
            },
          },
          scroll: {
            enumerable: !0,
            get: function () {
              return o;
            },
            set: function (e) {
              var t,
                n =
                  "string" == typeof (t = e) &&
                  !!ur[t.toLowerCase()] &&
                  t.toLowerCase();
              if (!1 === n)
                throw new SyntaxError(
                  "An invalid or illegal string was specified."
                );
              o = n;
            },
          },
        });
      },
      pr = dt(function (t) {
        var n = (t.exports = {
          WebVTT: or,
          VTTCue: cr,
          VTTRegion: dr,
        });
        (e.vttjs = n), (e.WebVTT = n.WebVTT);
        var i = n.VTTCue,
          r = n.VTTRegion,
          s = e.VTTCue,
          o = e.VTTRegion;
        (n.shim = function () {
          (e.VTTCue = i), (e.VTTRegion = r);
        }),
          (n.restore = function () {
            (e.VTTCue = s), (e.VTTRegion = o);
          }),
          e.VTTCue || n.shim();
      });
    pr.WebVTT, pr.VTTCue, pr.VTTRegion;
    var hr = (function (i) {
      function r(e, t) {
        var n;
        return (
          void 0 === e && (e = {}),
          void 0 === t && (t = function () {}),
          (e.reportTouchActivity = !1),
          ((n = i.call(this, null, e, t) || this).hasStarted_ = !1),
          n.on("playing", function () {
            this.hasStarted_ = !0;
          }),
          n.on("loadstart", function () {
            this.hasStarted_ = !1;
          }),
          Zi.names.forEach(function (t) {
            var i = Zi[t];
            e && e[i.getterName] && (n[i.privateName] = e[i.getterName]);
          }),
          n.featuresProgressEvents || n.manualProgressOn(),
          n.featuresTimeupdateEvents || n.manualTimeUpdatesOn(),
          ["Text", "Audio", "Video"].forEach(function (t) {
            !1 === e["native" + t + "Tracks"] &&
              (n["featuresNative" + t + "Tracks"] = !1);
          }),
          !1 === e.nativeCaptions || !1 === e.nativeTextTracks
            ? (n.featuresNativeTextTracks = !1)
            : (!0 !== e.nativeCaptions && !0 !== e.nativeTextTracks) ||
              (n.featuresNativeTextTracks = !0),
          n.featuresNativeTextTracks || n.emulateTextTracks(),
          (n.autoRemoteTextTracks_ = new Zi.text.ListClass()),
          n.initTrackListeners(),
          e.nativeControlsForTouch || n.emitTapEvents(),
          n.constructor && (n.name_ = n.constructor.name || "Unknown Tech"),
          n
        );
      }
      n(r, i);
      var s = r.prototype;
      return (
        (s.triggerSourceset = function (e) {
          var t = this;
          this.isReady_ ||
            this.one("ready", function () {
              return t.setTimeout(function () {
                return t.triggerSourceset(e);
              }, 1);
            }),
            this.trigger({
              src: e,
              type: "sourceset",
            });
        }),
        (s.manualProgressOn = function () {
          this.on("durationchange", this.onDurationChange),
            (this.manualProgress = !0),
            this.one("ready", this.trackProgress);
        }),
        (s.manualProgressOff = function () {
          (this.manualProgress = !1),
            this.stopTrackingProgress(),
            this.off("durationchange", this.onDurationChange);
        }),
        (s.trackProgress = function () {
          this.stopTrackingProgress(),
            (this.progressInterval = this.setInterval(
              mn(this, function () {
                var e = this.bufferedPercent();
                this.bufferedPercent_ !== e && this.trigger("progress"),
                  1 === (this.bufferedPercent_ = e) &&
                    this.stopTrackingProgress();
              }),
              500
            ));
        }),
        (s.onDurationChange = function () {
          this.duration_ = this.duration();
        }),
        (s.buffered = function () {
          return ot(0, 0);
        }),
        (s.bufferedPercent = function () {
          return at(this.buffered(), this.duration_);
        }),
        (s.stopTrackingProgress = function () {
          this.clearInterval(this.progressInterval);
        }),
        (s.manualTimeUpdatesOn = function () {
          (this.manualTimeUpdates = !0),
            this.on("play", this.trackCurrentTime),
            this.on("pause", this.stopTrackingCurrentTime);
        }),
        (s.manualTimeUpdatesOff = function () {
          (this.manualTimeUpdates = !1),
            this.stopTrackingCurrentTime(),
            this.off("play", this.trackCurrentTime),
            this.off("pause", this.stopTrackingCurrentTime);
        }),
        (s.trackCurrentTime = function () {
          this.currentTimeInterval && this.stopTrackingCurrentTime(),
            (this.currentTimeInterval = this.setInterval(function () {
              this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0,
              });
            }, 250));
        }),
        (s.stopTrackingCurrentTime = function () {
          this.clearInterval(this.currentTimeInterval),
            this.trigger({
              type: "timeupdate",
              target: this,
              manuallyTriggered: !0,
            });
        }),
        (s.dispose = function () {
          this.clearTracks(Qi.names),
            this.manualProgress && this.manualProgressOff(),
            this.manualTimeUpdates && this.manualTimeUpdatesOff(),
            i.prototype.dispose.call(this);
        }),
        (s.clearTracks = function (e) {
          var t = this;
          (e = [].concat(e)).forEach(function (e) {
            for (var n = t[e + "Tracks"]() || [], i = n.length; i--; ) {
              var r = n[i];
              "text" === e && t.removeRemoteTextTrack(r), n.removeTrack(r);
            }
          });
        }),
        (s.cleanupAutoTextTracks = function () {
          for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--; ) {
            var n = e[t];
            this.removeRemoteTextTrack(n);
          }
        }),
        (s.reset = function () {}),
        (s.error = function (e) {
          return (
            void 0 !== e && ((this.error_ = new lt(e)), this.trigger("error")),
            this.error_
          );
        }),
        (s.played = function () {
          return this.hasStarted_ ? ot(0, 0) : ot();
        }),
        (s.setCurrentTime = function () {
          this.manualTimeUpdates &&
            this.trigger({
              type: "timeupdate",
              target: this,
              manuallyTriggered: !0,
            });
        }),
        (s.initTrackListeners = function () {
          var e = this;
          Qi.names.forEach(function (t) {
            var n = Qi[t],
              i = function () {
                e.trigger(t + "trackchange");
              },
              r = e[n.getterName]();
            r.addEventListener("removetrack", i),
              r.addEventListener("addtrack", i),
              e.on("dispose", function () {
                r.removeEventListener("removetrack", i),
                  r.removeEventListener("addtrack", i);
              });
          });
        }),
        (s.addWebVttScript_ = function () {
          var n = this;
          if (!e.WebVTT)
            if (t.body.contains(this.el())) {
              if (
                !this.options_["vtt.js"] &&
                u(pr) &&
                0 < Object.keys(pr).length
              )
                return void this.trigger("vttjsloaded");
              var i = t.createElement("script");
              (i.src =
                this.options_["vtt.js"] ||
                "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js"),
                (i.onload = function () {
                  n.trigger("vttjsloaded");
                }),
                (i.onerror = function () {
                  n.trigger("vttjserror");
                }),
                this.on("dispose", function () {
                  (i.onload = null), (i.onerror = null);
                }),
                (e.WebVTT = !0),
                this.el().parentNode.appendChild(i);
            } else this.ready(this.addWebVttScript_);
        }),
        (s.emulateTextTracks = function () {
          var e = this,
            t = this.textTracks(),
            n = this.remoteTextTracks(),
            i = function (e) {
              return t.addTrack(e.track);
            },
            r = function (e) {
              return t.removeTrack(e.track);
            };
          n.on("addtrack", i), n.on("removetrack", r), this.addWebVttScript_();
          var s = function () {
              return e.trigger("texttrackchange");
            },
            o = function () {
              s();
              for (var e = 0; e < t.length; e++) {
                var n = t[e];
                n.removeEventListener("cuechange", s),
                  "showing" === n.mode && n.addEventListener("cuechange", s);
              }
            };
          o(),
            t.addEventListener("change", o),
            t.addEventListener("addtrack", o),
            t.addEventListener("removetrack", o),
            this.on("dispose", function () {
              n.off("addtrack", i),
                n.off("removetrack", r),
                t.removeEventListener("change", o),
                t.removeEventListener("addtrack", o),
                t.removeEventListener("removetrack", o);
              for (var e = 0; e < t.length; e++)
                t[e].removeEventListener("cuechange", s);
            });
        }),
        (s.addTextTrack = function (e, t, n) {
          if (!e)
            throw new Error("TextTrack kind is required but was not provided");
          return (function (e, t, n, i, r) {
            void 0 === r && (r = {});
            var s = e.textTracks();
            (r.kind = t),
              n && (r.label = n),
              i && (r.language = i),
              (r.tech = e);
            var o = new Zi.text.TrackClass(r);
            return s.addTrack(o), o;
          })(this, e, t, n);
        }),
        (s.createRemoteTextTrack = function (e) {
          var t = it(e, {
            tech: this,
          });
          return new Ji.remoteTextEl.TrackClass(t);
        }),
        (s.addRemoteTextTrack = function (e, t) {
          var n = this;
          void 0 === e && (e = {});
          var i = this.createRemoteTextTrack(e);
          return (
            !0 !== t &&
              !1 !== t &&
              (Gt.warn(
                'Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'
              ),
              (t = !0)),
            this.remoteTextTrackEls().addTrackElement_(i),
            this.remoteTextTracks().addTrack(i.track),
            !0 !== t &&
              this.ready(function () {
                return n.autoRemoteTextTracks_.addTrack(i.track);
              }),
            i
          );
        }),
        (s.removeRemoteTextTrack = function (e) {
          var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
          this.remoteTextTrackEls().removeTrackElement_(t),
            this.remoteTextTracks().removeTrack(e),
            this.autoRemoteTextTracks_.removeTrack(e);
        }),
        (s.getVideoPlaybackQuality = function () {
          return {};
        }),
        (s.setPoster = function () {}),
        (s.playsinline = function () {}),
        (s.setPlaysinline = function () {}),
        (s.overrideNativeAudioTracks = function () {}),
        (s.overrideNativeVideoTracks = function () {}),
        (s.canPlayType = function () {
          return "";
        }),
        (r.canPlayType = function () {
          return "";
        }),
        (r.canPlaySource = function (e) {
          return r.canPlayType(e.type);
        }),
        (r.isTech = function (e) {
          return e.prototype instanceof r || e instanceof r || e === r;
        }),
        (r.registerTech = function (e, t) {
          if ((r.techs_ || (r.techs_ = {}), !r.isTech(t)))
            throw new Error("Tech " + e + " must be a Tech");
          if (!r.canPlayType)
            throw new Error(
              "Techs must have a static canPlayType method on them"
            );
          if (!r.canPlaySource)
            throw new Error(
              "Techs must have a static canPlaySource method on them"
            );
          return (
            (e = nt(e)),
            (r.techs_[e] = t),
            "Tech" !== e && r.defaultTechOrder_.push(e),
            t
          );
        }),
        (r.getTech = function (t) {
          return t
            ? ((t = nt(t)),
              r.techs_ && r.techs_[t]
                ? r.techs_[t]
                : e && e.videojs && e.videojs[t]
                ? (Gt.warn(
                    "The " +
                      t +
                      " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"
                  ),
                  e.videojs[t])
                : void 0)
            : void 0;
        }),
        r
      );
    })(xn);
    Zi.names.forEach(function (e) {
      var t = Zi[e];
      hr.prototype[t.getterName] = function () {
        return (
          (this[t.privateName] = this[t.privateName] || new t.ListClass()),
          this[t.privateName]
        );
      };
    }),
      (hr.prototype.featuresVolumeControl = !0),
      (hr.prototype.featuresMuteControl = !0),
      (hr.prototype.featuresFullscreenResize = !1),
      (hr.prototype.featuresPlaybackRate = !1),
      (hr.prototype.featuresProgressEvents = !1),
      (hr.prototype.featuresSourceset = !1),
      (hr.prototype.featuresTimeupdateEvents = !1),
      (hr.prototype.featuresNativeTextTracks = !1),
      (hr.withSourceHandlers = function (e) {
        (e.registerSourceHandler = function (t, n) {
          var i = e.sourceHandlers;
          i || (i = e.sourceHandlers = []),
            void 0 === n && (n = i.length),
            i.splice(n, 0, t);
        }),
          (e.canPlayType = function (t) {
            for (var n, i = e.sourceHandlers || [], r = 0; r < i.length; r++)
              if ((n = i[r].canPlayType(t))) return n;
            return "";
          }),
          (e.selectSourceHandler = function (t, n) {
            for (var i = e.sourceHandlers || [], r = 0; r < i.length; r++)
              if (i[r].canHandleSource(t, n)) return i[r];
            return null;
          }),
          (e.canPlaySource = function (t, n) {
            var i = e.selectSourceHandler(t, n);
            return i ? i.canHandleSource(t, n) : "";
          }),
          ["seekable", "seeking", "duration"].forEach(function (e) {
            var t = this[e];
            "function" == typeof t &&
              (this[e] = function () {
                return this.sourceHandler_ && this.sourceHandler_[e]
                  ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments)
                  : t.apply(this, arguments);
              });
          }, e.prototype),
          (e.prototype.setSource = function (t) {
            var n = e.selectSourceHandler(t, this.options_);
            n ||
              (e.nativeSourceHandler
                ? (n = e.nativeSourceHandler)
                : Gt.error("No source handler found for the current source.")),
              this.disposeSourceHandler(),
              this.off("dispose", this.disposeSourceHandler),
              n !== e.nativeSourceHandler && (this.currentSource_ = t),
              (this.sourceHandler_ = n.handleSource(t, this, this.options_)),
              this.on("dispose", this.disposeSourceHandler);
          }),
          (e.prototype.disposeSourceHandler = function () {
            this.currentSource_ &&
              (this.clearTracks(["audio", "video"]),
              (this.currentSource_ = null)),
              this.cleanupAutoTextTracks(),
              this.sourceHandler_ &&
                (this.sourceHandler_.dispose && this.sourceHandler_.dispose(),
                (this.sourceHandler_ = null));
          });
      }),
      xn.registerComponent("Tech", hr),
      hr.registerTech("Tech", hr),
      (hr.defaultTechOrder_ = []);
    var fr = {},
      mr = {},
      gr = {},
      _r = {
        buffered: 1,
        currentTime: 1,
        duration: 1,
        seekable: 1,
        played: 1,
        paused: 1,
      },
      vr = {
        setCurrentTime: 1,
      },
      yr = {
        play: 1,
        pause: 1,
      },
      br = {
        opus: "video/ogg",
        ogv: "video/ogg",
        mp4: "video/mp4",
        mov: "video/mp4",
        m4v: "video/mp4",
        mkv: "video/x-matroska",
        mp3: "audio/mpeg",
        aac: "audio/aac",
        oga: "audio/ogg",
        m3u8: "application/x-mpegURL",
      },
      wr = function (e) {
        void 0 === e && (e = "");
        var t = xi(e);
        return br[t.toLowerCase()] || "";
      },
      Cr = (function (e) {
        function t(t, n, i) {
          var r,
            s = it(
              {
                createEl: !1,
              },
              n
            );
          if (
            ((r = e.call(this, t, s, i) || this),
            n.playerOptions.sources && 0 !== n.playerOptions.sources.length)
          )
            t.src(n.playerOptions.sources);
          else
            for (var o = 0, a = n.playerOptions.techOrder; o < a.length; o++) {
              var l = nt(a[o]),
                c = hr.getTech(l);
              if ((l || (c = xn.getComponent(l)), c && c.isSupported())) {
                t.loadTech_(l);
                break;
              }
            }
          return r;
        }
        return n(t, e), t;
      })(xn);
    xn.registerComponent("MediaLoader", Cr);
    var kr = (function (e) {
      function i(t, n) {
        var i;
        return (i = e.call(this, t, n) || this).emitTapEvents(), i.enable(), i;
      }
      n(i, e);
      var r = i.prototype;
      return (
        (r.createEl = function (t, n, i) {
          void 0 === t && (t = "div"),
            void 0 === n && (n = {}),
            void 0 === i && (i = {}),
            (n = l(
              {
                innerHTML:
                  '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                className: this.buildCSSClass(),
                tabIndex: 0,
              },
              n
            )),
            "button" === t &&
              Gt.error(
                "Creating a ClickableComponent with an HTML element of " +
                  t +
                  " is not supported; use a Button instead."
              ),
            (i = l(
              {
                role: "button",
              },
              i
            )),
            (this.tabIndex_ = n.tabIndex);
          var r = e.prototype.createEl.call(this, t, n, i);
          return this.createControlTextEl(r), r;
        }),
        (r.dispose = function () {
          (this.controlTextEl_ = null), e.prototype.dispose.call(this);
        }),
        (r.createControlTextEl = function (e) {
          return (
            (this.controlTextEl_ = y(
              "span",
              {
                className: "vjs-control-text",
              },
              {
                "aria-live": "polite",
              }
            )),
            e && e.appendChild(this.controlTextEl_),
            this.controlText(this.controlText_, e),
            this.controlTextEl_
          );
        }),
        (r.controlText = function (e, t) {
          if ((void 0 === t && (t = this.el()), void 0 === e))
            return this.controlText_ || "Need Text";
          var n = this.localize(e);
          (this.controlText_ = e),
            b(this.controlTextEl_, n),
            this.nonIconControl || t.setAttribute("title", n);
        }),
        (r.buildCSSClass = function () {
          return (
            "vjs-control vjs-button " + e.prototype.buildCSSClass.call(this)
          );
        }),
        (r.enable = function () {
          this.enabled_ ||
            ((this.enabled_ = !0),
            this.removeClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "false"),
            "undefined" != typeof this.tabIndex_ &&
              this.el_.setAttribute("tabIndex", this.tabIndex_),
            this.on(["tap", "click"], this.handleClick),
            this.on("focus", this.handleFocus),
            this.on("blur", this.handleBlur));
        }),
        (r.disable = function () {
          (this.enabled_ = !1),
            this.addClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "true"),
            "undefined" != typeof this.tabIndex_ &&
              this.el_.removeAttribute("tabIndex"),
            this.off(["tap", "click"], this.handleClick),
            this.off("focus", this.handleFocus),
            this.off("blur", this.handleBlur);
        }),
        (r.handleClick = function () {}),
        (r.handleFocus = function () {
          Y(t, "keydown", mn(this, this.handleKeyPress));
        }),
        (r.handleKeyPress = function (t) {
          32 === t.which || 13 === t.which
            ? (t.preventDefault(), this.trigger("click"))
            : e.prototype.handleKeyPress &&
              e.prototype.handleKeyPress.call(this, t);
        }),
        (r.handleBlur = function () {
          X(t, "keydown", mn(this, this.handleKeyPress));
        }),
        i
      );
    })(xn);
    xn.registerComponent("ClickableComponent", kr);
    var Tr = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).update(),
          t.on("posterchange", mn(s(s(i)), i.update)),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.dispose = function () {
          this.player().off("posterchange", this.update),
            e.prototype.dispose.call(this);
        }),
        (i.createEl = function () {
          return y("div", {
            className: "vjs-poster",
            tabIndex: -1,
          });
        }),
        (i.update = function () {
          var e = this.player().poster();
          this.setSrc(e), e ? this.show() : this.hide();
        }),
        (i.setSrc = function (e) {
          var t = "";
          e && (t = 'url("' + e + '")'), (this.el_.style.backgroundImage = t);
        }),
        (i.handleClick = function () {
          this.player_.controls() &&
            (this.player_.paused()
              ? ut(this.player_.play())
              : this.player_.pause());
        }),
        t
      );
    })(kr);
    xn.registerComponent("PosterImage", Tr);
    var Er = "#222",
      Sr = {
        monospace: "monospace",
        sansSerif: "sans-serif",
        serif: "serif",
        monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
        monospaceSerif: '"Courier New", monospace',
        proportionalSansSerif: "sans-serif",
        proportionalSerif: "serif",
        casual: '"Comic Sans MS", Impact, fantasy',
        script: '"Monotype Corsiva", cursive',
        smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif',
      },
      xr = (function (t) {
        function i(n, i, r) {
          var o;
          o = t.call(this, n, i, r) || this;
          var a = mn(s(s(o)), o.updateDisplay);
          return (
            n.on("loadstart", mn(s(s(o)), o.toggleDisplay)),
            n.on("texttrackchange", a),
            n.on("loadstart", mn(s(s(o)), o.preselectTrack)),
            n.ready(
              mn(s(s(o)), function () {
                if (n.tech_ && n.tech_.featuresNativeTextTracks) this.hide();
                else {
                  n.on("fullscreenchange", a),
                    n.on("playerresize", a),
                    e.addEventListener("orientationchange", a),
                    n.on("dispose", function () {
                      return e.removeEventListener("orientationchange", a);
                    });
                  for (
                    var t = this.options_.playerOptions.tracks || [], i = 0;
                    i < t.length;
                    i++
                  )
                    this.player_.addRemoteTextTrack(t[i], !0);
                  this.preselectTrack();
                }
              })
            ),
            o
          );
        }
        n(i, t);
        var r = i.prototype;
        return (
          (r.preselectTrack = function () {
            for (
              var e,
                t,
                n,
                i = {
                  captions: 1,
                  subtitles: 1,
                },
                r = this.player_.textTracks(),
                s = this.player_.cache_.selectedLanguage,
                o = 0;
              o < r.length;
              o++
            ) {
              var a = r[o];
              s && s.enabled && s.language === a.language
                ? a.kind === s.kind
                  ? (n = a)
                  : n || (n = a)
                : s && !s.enabled
                ? (t = e = n = null)
                : a["default"] &&
                  ("descriptions" !== a.kind || e
                    ? a.kind in i && !t && (t = a)
                    : (e = a));
            }
            n
              ? (n.mode = "showing")
              : t
              ? (t.mode = "showing")
              : e && (e.mode = "showing");
          }),
          (r.toggleDisplay = function () {
            this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks
              ? this.hide()
              : this.show();
          }),
          (r.createEl = function () {
            return t.prototype.createEl.call(
              this,
              "div",
              {
                className: "vjs-text-track-display",
              },
              {
                "aria-live": "off",
                "aria-atomic": "true",
              }
            );
          }),
          (r.clearDisplay = function () {
            "function" == typeof e.WebVTT &&
              e.WebVTT.processCues(e, [], this.el_);
          }),
          (r.updateDisplay = function () {
            var e = this.player_.textTracks();
            this.clearDisplay();
            for (var t = null, n = null, i = e.length; i--; ) {
              var r = e[i];
              "showing" === r.mode &&
                ("descriptions" === r.kind ? (t = r) : (n = r));
            }
            n
              ? ("off" !== this.getAttribute("aria-live") &&
                  this.setAttribute("aria-live", "off"),
                this.updateForTrack(n))
              : t &&
                ("assertive" !== this.getAttribute("aria-live") &&
                  this.setAttribute("aria-live", "assertive"),
                this.updateForTrack(t));
          }),
          (r.updateForTrack = function (t) {
            if ("function" == typeof e.WebVTT && t.activeCues) {
              for (var n = [], i = 0; i < t.activeCues.length; i++)
                n.push(t.activeCues[i]);
              if (
                (e.WebVTT.processCues(e, n, this.el_),
                this.player_.textTrackSettings)
              )
                for (
                  var r = this.player_.textTrackSettings.getValues(),
                    s = n.length;
                  s--;

                ) {
                  var o = n[s];
                  if (o) {
                    var a = o.displayState;
                    if (
                      (r.color && (a.firstChild.style.color = r.color),
                      r.textOpacity &&
                        Lt(
                          a.firstChild,
                          "color",
                          jt(r.color || "#fff", r.textOpacity)
                        ),
                      r.backgroundColor &&
                        (a.firstChild.style.backgroundColor =
                          r.backgroundColor),
                      r.backgroundOpacity &&
                        Lt(
                          a.firstChild,
                          "backgroundColor",
                          jt(r.backgroundColor || "#000", r.backgroundOpacity)
                        ),
                      r.windowColor &&
                        (r.windowOpacity
                          ? Lt(
                              a,
                              "backgroundColor",
                              jt(r.windowColor, r.windowOpacity)
                            )
                          : (a.style.backgroundColor = r.windowColor)),
                      r.edgeStyle &&
                        ("dropshadow" === r.edgeStyle
                          ? (a.firstChild.style.textShadow =
                              "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px " +
                              Er)
                          : "raised" === r.edgeStyle
                          ? (a.firstChild.style.textShadow =
                              "1px 1px #222, 2px 2px #222, 3px 3px " + Er)
                          : "depressed" === r.edgeStyle
                          ? (a.firstChild.style.textShadow =
                              "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px " +
                              Er)
                          : "uniform" === r.edgeStyle &&
                            (a.firstChild.style.textShadow =
                              "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px " +
                              Er)),
                      r.fontPercent && 1 !== r.fontPercent)
                    ) {
                      var l = e.parseFloat(a.style.fontSize);
                      (a.style.fontSize = l * r.fontPercent + "px"),
                        (a.style.height = "auto"),
                        (a.style.top = "auto"),
                        (a.style.bottom = "2px");
                    }
                    r.fontFamily &&
                      "default" !== r.fontFamily &&
                      ("small-caps" === r.fontFamily
                        ? (a.firstChild.style.fontVariant = "small-caps")
                        : (a.firstChild.style.fontFamily = Sr[r.fontFamily]));
                  }
                }
            }
          }),
          i
        );
      })(xn);
    xn.registerComponent("TextTrackDisplay", xr);
    var Pr = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      return (
        n(t, e),
        (t.prototype.createEl = function () {
          var t = this.player_.isAudio(),
            n = this.localize(t ? "Audio Player" : "Video Player"),
            i = y("span", {
              className: "vjs-control-text",
              innerHTML: this.localize("{1} is loading.", [n]),
            }),
            r = e.prototype.createEl.call(this, "div", {
              className: "vjs-loading-spinner",
              dir: "ltr",
            });
          return r.appendChild(i), r;
        }),
        t
      );
    })(xn);
    xn.registerComponent("LoadingSpinner", Pr);
    var Or = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function (e, t, n) {
          void 0 === t && (t = {}),
            void 0 === n && (n = {}),
            (t = l(
              {
                innerHTML:
                  '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                className: this.buildCSSClass(),
              },
              t
            )),
            (n = l(
              {
                type: "button",
              },
              n
            ));
          var i = xn.prototype.createEl.call(this, "button", t, n);
          return this.createControlTextEl(i), i;
        }),
        (i.addChild = function (e, t) {
          void 0 === t && (t = {});
          var n = this.constructor.name;
          return (
            Gt.warn(
              "Adding an actionable (user controllable) child to a Button (" +
                n +
                ") is not supported; use a ClickableComponent instead."
            ),
            xn.prototype.addChild.call(this, e, t)
          );
        }),
        (i.enable = function () {
          e.prototype.enable.call(this), this.el_.removeAttribute("disabled");
        }),
        (i.disable = function () {
          e.prototype.disable.call(this),
            this.el_.setAttribute("disabled", "disabled");
        }),
        (i.handleKeyPress = function (t) {
          32 !== t.which &&
            13 !== t.which &&
            e.prototype.handleKeyPress.call(this, t);
        }),
        t
      );
    })(kr);
    xn.registerComponent("Button", Or);
    var Ar = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).mouseused_ = !1),
          i.on("mousedown", i.handleMouseDown),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-big-play-button";
        }),
        (i.handleClick = function (e) {
          var t = this.player_.play();
          if (this.mouseused_ && e.clientX && e.clientY) ut(t);
          else {
            var n = this.player_.getChild("controlBar"),
              i = n && n.getChild("playToggle");
            if (i) {
              var r = function () {
                return i.focus();
              };
              ct(t) ? t.then(r, function () {}) : this.setTimeout(r, 1);
            } else this.player_.focus();
          }
        }),
        (i.handleKeyPress = function (t) {
          (this.mouseused_ = !1), e.prototype.handleKeyPress.call(this, t);
        }),
        (i.handleMouseDown = function () {
          this.mouseused_ = !0;
        }),
        t
      );
    })(Or);
    (Ar.prototype.controlText_ = "Play Video"),
      xn.registerComponent("BigPlayButton", Ar);
    var Ir = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).controlText(
            (n && n.controlText) || i.localize("Close")
          ),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-close-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.handleClick = function () {
          this.trigger({
            type: "close",
            bubbles: !1,
          });
        }),
        t
      );
    })(Or);
    xn.registerComponent("CloseButton", Ir);
    var Dr = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).on(t, "play", i.handlePlay),
          i.on(t, "pause", i.handlePause),
          i.on(t, "ended", i.handleEnded),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-play-control " + e.prototype.buildCSSClass.call(this);
        }),
        (i.handleClick = function () {
          this.player_.paused() ? this.player_.play() : this.player_.pause();
        }),
        (i.handleSeeked = function (e) {
          this.removeClass("vjs-ended"),
            this.player_.paused() ? this.handlePause(e) : this.handlePlay(e);
        }),
        (i.handlePlay = function () {
          this.removeClass("vjs-ended"),
            this.removeClass("vjs-paused"),
            this.addClass("vjs-playing"),
            this.controlText("Pause");
        }),
        (i.handlePause = function () {
          this.removeClass("vjs-playing"),
            this.addClass("vjs-paused"),
            this.controlText("Play");
        }),
        (i.handleEnded = function () {
          this.removeClass("vjs-playing"),
            this.addClass("vjs-ended"),
            this.controlText("Replay"),
            this.one(this.player_, "seeked", this.handleSeeked);
        }),
        t
      );
    })(Or);
    (Dr.prototype.controlText_ = "Play"),
      xn.registerComponent("PlayToggle", Dr);
    var Mr = function (e, t) {
        e = 0 > e ? 0 : e;
        var n = Math.floor(e % 60),
          i = Math.floor((e / 60) % 60),
          r = Math.floor(e / 3600),
          s = Math.floor((t / 60) % 60),
          o = Math.floor(t / 3600);
        return (
          (isNaN(e) || e === 1 / 0) && (r = i = n = "-"),
          (r = r > 0 || o > 0 ? r + ":" : "") +
            (i = ((r || s >= 10) && 10 > i ? "0" + i : i) + ":") +
            (n = 10 > n ? "0" + n : n)
        );
      },
      Rr = Mr,
      jr = (function (e) {
        function i(t, n) {
          var i;
          return (
            ((i = e.call(this, t, n) || this).throttledUpdateContent = gn(
              mn(s(s(i)), i.updateContent),
              25
            )),
            i.on(t, "timeupdate", i.throttledUpdateContent),
            i
          );
        }
        n(i, e);
        var r = i.prototype;
        return (
          (r.createEl = function () {
            var t = this.buildCSSClass(),
              n = e.prototype.createEl.call(this, "div", {
                className: t + " vjs-time-control vjs-control",
                innerHTML:
                  '<span class="vjs-control-text">' +
                  this.localize(this.labelText_) +
                  " </span>",
              });
            return (
              (this.contentEl_ = y(
                "span",
                {
                  className: t + "-display",
                },
                {
                  "aria-live": "off",
                }
              )),
              this.updateTextNode_(),
              n.appendChild(this.contentEl_),
              n
            );
          }),
          (r.dispose = function () {
            (this.contentEl_ = null),
              (this.textNode_ = null),
              e.prototype.dispose.call(this);
          }),
          (r.updateTextNode_ = function () {
            if (this.contentEl_) {
              for (; this.contentEl_.firstChild; )
                this.contentEl_.removeChild(this.contentEl_.firstChild);
              (this.textNode_ = t.createTextNode(
                this.formattedTime_ || this.formatTime_(0)
              )),
                this.contentEl_.appendChild(this.textNode_);
            }
          }),
          (r.formatTime_ = function (e) {
            return Nt(e);
          }),
          (r.updateFormattedTime_ = function (e) {
            var t = this.formatTime_(e);
            t !== this.formattedTime_ &&
              ((this.formattedTime_ = t),
              this.requestAnimationFrame(this.updateTextNode_));
          }),
          (r.updateContent = function () {}),
          i
        );
      })(xn);
    (jr.prototype.labelText_ = "Time"),
      (jr.prototype.controlText_ = "Time"),
      xn.registerComponent("TimeDisplay", jr);
    var Lr = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).on(t, "ended", i.handleEnded), i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-current-time";
        }),
        (i.updateContent = function () {
          var e = this.player_.scrubbing()
            ? this.player_.getCache().currentTime
            : this.player_.currentTime();
          this.updateFormattedTime_(e);
        }),
        (i.handleEnded = function () {
          this.player_.duration() &&
            this.updateFormattedTime_(this.player_.duration());
        }),
        t
      );
    })(jr);
    (Lr.prototype.labelText_ = "Current Time"),
      (Lr.prototype.controlText_ = "Current Time"),
      xn.registerComponent("CurrentTimeDisplay", Lr);
    var Nr = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).on(
            t,
            "durationchange",
            i.updateContent
          ),
          i.on(t, "loadedmetadata", i.throttledUpdateContent),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-duration";
        }),
        (i.updateContent = function () {
          var e = this.player_.duration();
          e &&
            this.duration_ !== e &&
            ((this.duration_ = e), this.updateFormattedTime_(e));
        }),
        t
      );
    })(jr);
    (Nr.prototype.labelText_ = "Duration"),
      (Nr.prototype.controlText_ = "Duration"),
      xn.registerComponent("DurationDisplay", Nr);
    var Ur = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      return (
        n(t, e),
        (t.prototype.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-time-control vjs-time-divider",
            innerHTML: "<div><span>/</span></div>",
          });
        }),
        t
      );
    })(xn);
    xn.registerComponent("TimeDivider", Ur);
    var Br = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).on(
            t,
            "durationchange",
            i.throttledUpdateContent
          ),
          i.on(t, "ended", i.handleEnded),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-remaining-time";
        }),
        (i.formatTime_ = function (t) {
          return "-" + e.prototype.formatTime_.call(this, t);
        }),
        (i.updateContent = function () {
          this.player_.duration() &&
            this.updateFormattedTime_(
              this.player_.remainingTimeDisplay
                ? this.player_.remainingTimeDisplay()
                : this.player_.remainingTime()
            );
        }),
        (i.handleEnded = function () {
          this.player_.duration() && this.updateFormattedTime_(0);
        }),
        t
      );
    })(jr);
    (Br.prototype.labelText_ = "Remaining Time"),
      (Br.prototype.controlText_ = "Remaining Time"),
      xn.registerComponent("RemainingTimeDisplay", Br);
    var $r = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).updateShowing(),
          i.on(i.player(), "durationchange", i.updateShowing),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          var t = e.prototype.createEl.call(this, "div", {
            className: "vjs-live-control vjs-control",
          });
          return (
            (this.contentEl_ = y(
              "div",
              {
                className: "vjs-live-display",
                innerHTML:
                  '<span class="vjs-control-text">' +
                  this.localize("Stream Type") +
                  " </span>" +
                  this.localize("LIVE"),
              },
              {
                "aria-live": "off",
              }
            )),
            t.appendChild(this.contentEl_),
            t
          );
        }),
        (i.dispose = function () {
          (this.contentEl_ = null), e.prototype.dispose.call(this);
        }),
        (i.updateShowing = function () {
          this.player().duration() === 1 / 0 ? this.show() : this.hide();
        }),
        t
      );
    })(xn);
    xn.registerComponent("LiveDisplay", $r);
    var Fr = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).bar = i.getChild(
            i.options_.barName
          )),
          i.vertical(!!i.options_.vertical),
          i.enable(),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.enabled = function () {
          return this.enabled_;
        }),
        (i.enable = function () {
          this.enabled() ||
            (this.on("mousedown", this.handleMouseDown),
            this.on("touchstart", this.handleMouseDown),
            this.on("focus", this.handleFocus),
            this.on("blur", this.handleBlur),
            this.on("click", this.handleClick),
            this.on(this.player_, "controlsvisible", this.update),
            this.playerEvent &&
              this.on(this.player_, this.playerEvent, this.update),
            this.removeClass("disabled"),
            this.setAttribute("tabindex", 0),
            (this.enabled_ = !0));
        }),
        (i.disable = function () {
          if (this.enabled()) {
            var e = this.bar.el_.ownerDocument;
            this.off("mousedown", this.handleMouseDown),
              this.off("touchstart", this.handleMouseDown),
              this.off("focus", this.handleFocus),
              this.off("blur", this.handleBlur),
              this.off("click", this.handleClick),
              this.off(this.player_, "controlsvisible", this.update),
              this.off(e, "mousemove", this.handleMouseMove),
              this.off(e, "mouseup", this.handleMouseUp),
              this.off(e, "touchmove", this.handleMouseMove),
              this.off(e, "touchend", this.handleMouseUp),
              this.removeAttribute("tabindex"),
              this.addClass("disabled"),
              this.playerEvent &&
                this.off(this.player_, this.playerEvent, this.update),
              (this.enabled_ = !1);
          }
        }),
        (i.createEl = function (t, n, i) {
          return (
            void 0 === n && (n = {}),
            void 0 === i && (i = {}),
            (n.className = n.className + " vjs-slider"),
            (n = l(
              {
                tabIndex: 0,
              },
              n
            )),
            (i = l(
              {
                role: "slider",
                "aria-valuenow": 0,
                "aria-valuemin": 0,
                "aria-valuemax": 100,
                tabIndex: 0,
              },
              i
            )),
            e.prototype.createEl.call(this, t, n, i)
          );
        }),
        (i.handleMouseDown = function (e) {
          var t = this.bar.el_.ownerDocument;
          "mousedown" === e.type && e.preventDefault(),
            "touchstart" !== e.type || Vn || e.preventDefault(),
            I(),
            this.addClass("vjs-sliding"),
            this.trigger("slideractive"),
            this.on(t, "mousemove", this.handleMouseMove),
            this.on(t, "mouseup", this.handleMouseUp),
            this.on(t, "touchmove", this.handleMouseMove),
            this.on(t, "touchend", this.handleMouseUp),
            this.handleMouseMove(e);
        }),
        (i.handleMouseMove = function () {}),
        (i.handleMouseUp = function () {
          var e = this.bar.el_.ownerDocument;
          D(),
            this.removeClass("vjs-sliding"),
            this.trigger("sliderinactive"),
            this.off(e, "mousemove", this.handleMouseMove),
            this.off(e, "mouseup", this.handleMouseUp),
            this.off(e, "touchmove", this.handleMouseMove),
            this.off(e, "touchend", this.handleMouseUp),
            this.update();
        }),
        (i.update = function () {
          if (this.el_) {
            var e = this.getPercent(),
              t = this.bar;
            if (t) {
              ("number" != typeof e || e != e || 0 > e || e === 1 / 0) &&
                (e = 0);
              var n = (100 * e).toFixed(2) + "%",
                i = t.el().style;
              return this.vertical() ? (i.height = n) : (i.width = n), e;
            }
          }
        }),
        (i.calculateDistance = function (e) {
          var t = j(this.el_, e);
          return this.vertical() ? t.y : t.x;
        }),
        (i.handleFocus = function () {
          this.on(this.bar.el_.ownerDocument, "keydown", this.handleKeyPress);
        }),
        (i.handleKeyPress = function (e) {
          37 === e.which || 40 === e.which
            ? (e.preventDefault(), this.stepBack())
            : (38 !== e.which && 39 !== e.which) ||
              (e.preventDefault(), this.stepForward());
        }),
        (i.handleBlur = function () {
          this.off(this.bar.el_.ownerDocument, "keydown", this.handleKeyPress);
        }),
        (i.handleClick = function (e) {
          e.stopImmediatePropagation(), e.preventDefault();
        }),
        (i.vertical = function (e) {
          return void 0 === e
            ? this.vertical_ || !1
            : ((this.vertical_ = !!e),
              void this.addClass(
                this.vertical_ ? "vjs-slider-vertical" : "vjs-slider-horizontal"
              ));
        }),
        t
      );
    })(xn);
    xn.registerComponent("Slider", Fr);
    var Hr = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).partEls_ = []),
          i.on(t, "progress", i.update),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-load-progress",
            innerHTML:
              '<span class="vjs-control-text"><span>' +
              this.localize("Loaded") +
              "</span>: 0%</span>",
          });
        }),
        (i.dispose = function () {
          (this.partEls_ = null), e.prototype.dispose.call(this);
        }),
        (i.update = function () {
          var e = this.player_.buffered(),
            t = this.player_.duration(),
            n = this.player_.bufferedEnd(),
            i = this.partEls_,
            r = function (e, t) {
              var n = e / t || 0;
              return 100 * (n >= 1 ? 1 : n) + "%";
            };
          this.el_.style.width = r(n, t);
          for (var s = 0; s < e.length; s++) {
            var o = e.start(s),
              a = e.end(s),
              l = i[s];
            l || ((l = this.el_.appendChild(y())), (i[s] = l)),
              (l.style.left = r(o, n)),
              (l.style.width = r(a - o, n));
          }
          for (var c = i.length; c > e.length; c--)
            this.el_.removeChild(i[c - 1]);
          i.length = e.length;
        }),
        t
      );
    })(xn);
    xn.registerComponent("LoadProgressBar", Hr);
    var Wr = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-time-tooltip",
          });
        }),
        (i.update = function (e, t, n) {
          var i = M(this.el_),
            r = M(this.player_.el()),
            s = e.width * t;
          if (r && i) {
            var o = e.left - r.left + s,
              a = e.width - s + (r.right - e.right),
              l = i.width / 2;
            l > o ? (l += l - o) : l > a && (l = a),
              0 > l ? (l = 0) : l > i.width && (l = i.width),
              (this.el_.style.right = "-" + l + "px"),
              b(this.el_, n);
          }
        }),
        t
      );
    })(xn);
    xn.registerComponent("TimeTooltip", Wr);
    var qr = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-play-progress vjs-slider-bar",
            innerHTML:
              '<span class="vjs-control-text"><span>' +
              this.localize("Progress") +
              "</span>: 0%</span>",
          });
        }),
        (i.update = function (e, t) {
          var n = this;
          this.rafId_ && this.cancelAnimationFrame(this.rafId_),
            (this.rafId_ = this.requestAnimationFrame(function () {
              var i = Nt(
                  n.player_.scrubbing()
                    ? n.player_.getCache().currentTime
                    : n.player_.currentTime(),
                  n.player_.duration()
                ),
                r = n.getChild("timeTooltip");
              r && r.update(e, t, i);
            }));
        }),
        t
      );
    })(xn);
    (qr.prototype.options_ = {
      children: [],
    }),
      Bn || Fn || qr.prototype.options_.children.push("timeTooltip"),
      xn.registerComponent("PlayProgressBar", qr);
    var zr = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).update = gn(
            mn(s(s(i)), i.update),
            25
          )),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-mouse-display",
          });
        }),
        (i.update = function (e, t) {
          var n = this;
          this.rafId_ && this.cancelAnimationFrame(this.rafId_),
            (this.rafId_ = this.requestAnimationFrame(function () {
              var i = n.player_.duration(),
                r = Nt(t * i, i);
              (n.el_.style.left = e.width * t + "px"),
                n.getChild("timeTooltip").update(e, t, r);
            }));
        }),
        t
      );
    })(xn);
    (zr.prototype.options_ = {
      children: ["timeTooltip"],
    }),
      xn.registerComponent("MouseTimeDisplay", zr);
    var Vr = (function (e) {
      function t(t, n) {
        var i;
        return (i = e.call(this, t, n) || this).setEventHandlers_(), i;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.setEventHandlers_ = function () {
          var e = this;
          (this.update = gn(mn(this, this.update), 30)),
            this.on(this.player_, "timeupdate", this.update),
            this.on(this.player_, "ended", this.handleEnded),
            (this.updateInterval = null),
            this.on(this.player_, ["playing"], function () {
              e.clearInterval(e.updateInterval),
                (e.updateInterval = e.setInterval(function () {
                  e.requestAnimationFrame(function () {
                    e.update();
                  });
                }, 30));
            }),
            this.on(this.player_, ["ended", "pause", "waiting"], function () {
              e.clearInterval(e.updateInterval);
            }),
            this.on(this.player_, ["timeupdate", "ended"], this.update);
        }),
        (i.createEl = function () {
          return e.prototype.createEl.call(
            this,
            "div",
            {
              className: "vjs-progress-holder",
            },
            {
              "aria-label": this.localize("Progress Bar"),
            }
          );
        }),
        (i.update_ = function (e, t) {
          var n = this.player_.duration();
          this.el_.setAttribute("aria-valuenow", (100 * t).toFixed(2)),
            this.el_.setAttribute(
              "aria-valuetext",
              this.localize(
                "progress bar timing: currentTime={1} duration={2}",
                [Nt(e, n), Nt(n, n)],
                "{1} of {2}"
              )
            ),
            this.bar.update(M(this.el_), t);
        }),
        (i.update = function () {
          var t = e.prototype.update.call(this);
          return this.update_(this.getCurrentTime_(), t), t;
        }),
        (i.getCurrentTime_ = function () {
          return this.player_.scrubbing()
            ? this.player_.getCache().currentTime
            : this.player_.currentTime();
        }),
        (i.handleEnded = function () {
          this.update_(this.player_.duration(), 1);
        }),
        (i.getPercent = function () {
          var e = this.getCurrentTime_() / this.player_.duration();
          return e >= 1 ? 1 : e || 0;
        }),
        (i.handleMouseDown = function (t) {
          F(t) &&
            (t.stopPropagation(),
            this.player_.scrubbing(!0),
            (this.videoWasPlaying = !this.player_.paused()),
            this.player_.pause(),
            e.prototype.handleMouseDown.call(this, t));
        }),
        (i.handleMouseMove = function (e) {
          if (F(e)) {
            var t = this.calculateDistance(e) * this.player_.duration();
            t === this.player_.duration() && (t -= 0.1),
              this.player_.currentTime(t);
          }
        }),
        (i.enable = function () {
          e.prototype.enable.call(this);
          var t = this.getChild("mouseTimeDisplay");
          t && t.show();
        }),
        (i.disable = function () {
          e.prototype.disable.call(this);
          var t = this.getChild("mouseTimeDisplay");
          t && t.hide();
        }),
        (i.handleMouseUp = function (t) {
          e.prototype.handleMouseUp.call(this, t),
            t && t.stopPropagation(),
            this.player_.scrubbing(!1),
            this.player_.trigger({
              type: "timeupdate",
              target: this,
              manuallyTriggered: !0,
            }),
            this.videoWasPlaying && ut(this.player_.play());
        }),
        (i.stepForward = function () {
          this.player_.currentTime(this.player_.currentTime() + 5);
        }),
        (i.stepBack = function () {
          this.player_.currentTime(this.player_.currentTime() - 5);
        }),
        (i.handleAction = function () {
          this.player_.paused() ? this.player_.play() : this.player_.pause();
        }),
        (i.handleKeyPress = function (t) {
          32 === t.which || 13 === t.which
            ? (t.preventDefault(), this.handleAction(t))
            : e.prototype.handleKeyPress &&
              e.prototype.handleKeyPress.call(this, t);
        }),
        t
      );
    })(Fr);
    (Vr.prototype.options_ = {
      children: ["loadProgressBar", "playProgressBar"],
      barName: "playProgressBar",
    }),
      Bn ||
        Fn ||
        Vr.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"),
      (Vr.prototype.playerEvent = "timeupdate"),
      xn.registerComponent("SeekBar", Vr);
    var Kr = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).handleMouseMove = gn(
            mn(s(s(i)), i.handleMouseMove),
            25
          )),
          (i.throttledHandleMouseSeek = gn(mn(s(s(i)), i.handleMouseSeek), 25)),
          i.enable(),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-progress-control vjs-control",
          });
        }),
        (i.handleMouseMove = function (e) {
          var t = this.getChild("seekBar");
          if (t) {
            var n = t.getChild("mouseTimeDisplay"),
              i = t.el(),
              r = M(i),
              s = j(i, e).x;
            s > 1 ? (s = 1) : 0 > s && (s = 0), n && n.update(r, s);
          }
        }),
        (i.handleMouseSeek = function (e) {
          var t = this.getChild("seekBar");
          t && t.handleMouseMove(e);
        }),
        (i.enabled = function () {
          return this.enabled_;
        }),
        (i.disable = function () {
          this.children().forEach(function (e) {
            return e.disable && e.disable();
          }),
            this.enabled() &&
              (this.off(["mousedown", "touchstart"], this.handleMouseDown),
              this.off(this.el_, "mousemove", this.handleMouseMove),
              this.handleMouseUp(),
              this.addClass("disabled"),
              (this.enabled_ = !1));
        }),
        (i.enable = function () {
          this.children().forEach(function (e) {
            return e.enable && e.enable();
          }),
            this.enabled() ||
              (this.on(["mousedown", "touchstart"], this.handleMouseDown),
              this.on(this.el_, "mousemove", this.handleMouseMove),
              this.removeClass("disabled"),
              (this.enabled_ = !0));
        }),
        (i.handleMouseDown = function (e) {
          var t = this.el_.ownerDocument,
            n = this.getChild("seekBar");
          n && n.handleMouseDown(e),
            this.on(t, "mousemove", this.throttledHandleMouseSeek),
            this.on(t, "touchmove", this.throttledHandleMouseSeek),
            this.on(t, "mouseup", this.handleMouseUp),
            this.on(t, "touchend", this.handleMouseUp);
        }),
        (i.handleMouseUp = function (e) {
          var t = this.el_.ownerDocument,
            n = this.getChild("seekBar");
          n && n.handleMouseUp(e),
            this.off(t, "mousemove", this.throttledHandleMouseSeek),
            this.off(t, "touchmove", this.throttledHandleMouseSeek),
            this.off(t, "mouseup", this.handleMouseUp),
            this.off(t, "touchend", this.handleMouseUp);
        }),
        t
      );
    })(xn);
    (Kr.prototype.options_ = {
      children: ["seekBar"],
    }),
      xn.registerComponent("ProgressControl", Kr);
    var Gr = (function (e) {
      function i(n, i) {
        var r;
        return (
          (r = e.call(this, n, i) || this).on(
            n,
            "fullscreenchange",
            r.handleFullscreenChange
          ),
          !1 === t[Zn.fullscreenEnabled] && r.disable(),
          r
        );
      }
      n(i, e);
      var r = i.prototype;
      return (
        (r.buildCSSClass = function () {
          return (
            "vjs-fullscreen-control " + e.prototype.buildCSSClass.call(this)
          );
        }),
        (r.handleFullscreenChange = function () {
          this.controlText(
            this.player_.isFullscreen() ? "Non-Fullscreen" : "Fullscreen"
          );
        }),
        (r.handleClick = function () {
          this.player_.isFullscreen()
            ? this.player_.exitFullscreen()
            : this.player_.requestFullscreen();
        }),
        i
      );
    })(Or);
    (Gr.prototype.controlText_ = "Fullscreen"),
      xn.registerComponent("FullscreenToggle", Gr);
    var Yr = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      return (
        n(t, e),
        (t.prototype.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-volume-level",
            innerHTML: '<span class="vjs-control-text"></span>',
          });
        }),
        t
      );
    })(xn);
    xn.registerComponent("VolumeLevel", Yr);
    var Xr = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).on(
            "slideractive",
            i.updateLastVolume_
          ),
          i.on(t, "volumechange", i.updateARIAAttributes),
          t.ready(function () {
            return i.updateARIAAttributes();
          }),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          return e.prototype.createEl.call(
            this,
            "div",
            {
              className: "vjs-volume-bar vjs-slider-bar",
            },
            {
              "aria-label": this.localize("Volume Level"),
              "aria-live": "polite",
            }
          );
        }),
        (i.handleMouseDown = function (t) {
          F(t) && e.prototype.handleMouseDown.call(this, t);
        }),
        (i.handleMouseMove = function (e) {
          F(e) &&
            (this.checkMuted(), this.player_.volume(this.calculateDistance(e)));
        }),
        (i.checkMuted = function () {
          this.player_.muted() && this.player_.muted(!1);
        }),
        (i.getPercent = function () {
          return this.player_.muted() ? 0 : this.player_.volume();
        }),
        (i.stepForward = function () {
          this.checkMuted(), this.player_.volume(this.player_.volume() + 0.1);
        }),
        (i.stepBack = function () {
          this.checkMuted(), this.player_.volume(this.player_.volume() - 0.1);
        }),
        (i.updateARIAAttributes = function () {
          var e = this.player_.muted() ? 0 : this.volumeAsPercentage_();
          this.el_.setAttribute("aria-valuenow", e),
            this.el_.setAttribute("aria-valuetext", e + "%");
        }),
        (i.volumeAsPercentage_ = function () {
          return Math.round(100 * this.player_.volume());
        }),
        (i.updateLastVolume_ = function () {
          var e = this,
            t = this.player_.volume();
          this.one("sliderinactive", function () {
            0 === e.player_.volume() && e.player_.lastVolume_(t);
          });
        }),
        t
      );
    })(Fr);
    (Xr.prototype.options_ = {
      children: ["volumeLevel"],
      barName: "volumeLevel",
    }),
      (Xr.prototype.playerEvent = "volumechange"),
      xn.registerComponent("VolumeBar", Xr);
    var Qr = (function (e) {
      function t(t, n) {
        var i, r, o;
        return (
          void 0 === n && (n = {}),
          (n.vertical = n.vertical || !1),
          ("undefined" == typeof n.volumeBar || u(n.volumeBar)) &&
            ((n.volumeBar = n.volumeBar || {}),
            (n.volumeBar.vertical = n.vertical)),
          (i = e.call(this, t, n) || this),
          (r = s(s(i))),
          (o = t).tech_ &&
            !o.tech_.featuresVolumeControl &&
            r.addClass("vjs-hidden"),
          r.on(o, "loadstart", function () {
            o.tech_.featuresVolumeControl
              ? r.removeClass("vjs-hidden")
              : r.addClass("vjs-hidden");
          }),
          (i.throttledHandleMouseMove = gn(mn(s(s(i)), i.handleMouseMove), 25)),
          i.on("mousedown", i.handleMouseDown),
          i.on("touchstart", i.handleMouseDown),
          i.on(i.volumeBar, ["focus", "slideractive"], function () {
            i.volumeBar.addClass("vjs-slider-active"),
              i.addClass("vjs-slider-active"),
              i.trigger("slideractive");
          }),
          i.on(i.volumeBar, ["blur", "sliderinactive"], function () {
            i.volumeBar.removeClass("vjs-slider-active"),
              i.removeClass("vjs-slider-active"),
              i.trigger("sliderinactive");
          }),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          var t = "vjs-volume-horizontal";
          return (
            this.options_.vertical && (t = "vjs-volume-vertical"),
            e.prototype.createEl.call(this, "div", {
              className: "vjs-volume-control vjs-control " + t,
            })
          );
        }),
        (i.handleMouseDown = function () {
          var e = this.el_.ownerDocument;
          this.on(e, "mousemove", this.throttledHandleMouseMove),
            this.on(e, "touchmove", this.throttledHandleMouseMove),
            this.on(e, "mouseup", this.handleMouseUp),
            this.on(e, "touchend", this.handleMouseUp);
        }),
        (i.handleMouseUp = function () {
          var e = this.el_.ownerDocument;
          this.off(e, "mousemove", this.throttledHandleMouseMove),
            this.off(e, "touchmove", this.throttledHandleMouseMove),
            this.off(e, "mouseup", this.handleMouseUp),
            this.off(e, "touchend", this.handleMouseUp);
        }),
        (i.handleMouseMove = function (e) {
          this.volumeBar.handleMouseMove(e);
        }),
        t
      );
    })(xn);
    (Qr.prototype.options_ = {
      children: ["volumeBar"],
    }),
      xn.registerComponent("VolumeControl", Qr);
    var Jr = (function (e) {
      function t(t, n) {
        var i, r, o;
        return (
          (i = e.call(this, t, n) || this),
          (r = s(s(i))),
          (o = t).tech_ &&
            !o.tech_.featuresMuteControl &&
            r.addClass("vjs-hidden"),
          r.on(o, "loadstart", function () {
            o.tech_.featuresMuteControl
              ? r.removeClass("vjs-hidden")
              : r.addClass("vjs-hidden");
          }),
          i.on(t, ["loadstart", "volumechange"], i.update),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-mute-control " + e.prototype.buildCSSClass.call(this);
        }),
        (i.handleClick = function () {
          var e = this.player_.volume(),
            t = this.player_.lastVolume_();
          if (0 === e) {
            var n = 0.1 > t ? 0.1 : t;
            this.player_.volume(n), this.player_.muted(!1);
          } else this.player_.muted(!this.player_.muted());
        }),
        (i.update = function () {
          this.updateIcon_(), this.updateControlText_();
        }),
        (i.updateIcon_ = function () {
          var e = this.player_.volume(),
            t = 3;
          Bn && this.player_.muted(this.player_.tech_.el_.muted),
            0 === e || this.player_.muted()
              ? (t = 0)
              : 0.33 > e
              ? (t = 1)
              : 0.67 > e && (t = 2);
          for (var n = 0; 4 > n; n++) T(this.el_, "vjs-vol-" + n);
          k(this.el_, "vjs-vol-" + t);
        }),
        (i.updateControlText_ = function () {
          var e =
            this.player_.muted() || 0 === this.player_.volume()
              ? "Unmute"
              : "Mute";
          this.controlText() !== e && this.controlText(e);
        }),
        t
      );
    })(Or);
    (Jr.prototype.controlText_ = "Mute"),
      xn.registerComponent("MuteToggle", Jr);
    var Zr = (function (e) {
      function t(t, n) {
        var i;
        return (
          void 0 === n && (n = {}),
          (n.inline = "undefined" != typeof n.inline ? n.inline : !0),
          ("undefined" == typeof n.volumeControl || u(n.volumeControl)) &&
            ((n.volumeControl = n.volumeControl || {}),
            (n.volumeControl.vertical = !n.inline)),
          (i = e.call(this, t, n) || this).on(
            t,
            ["loadstart"],
            i.volumePanelState_
          ),
          i.on(i.volumeControl, ["slideractive"], i.sliderActive_),
          i.on(i.volumeControl, ["sliderinactive"], i.sliderInactive_),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.sliderActive_ = function () {
          this.addClass("vjs-slider-active");
        }),
        (i.sliderInactive_ = function () {
          this.removeClass("vjs-slider-active");
        }),
        (i.volumePanelState_ = function () {
          this.volumeControl.hasClass("vjs-hidden") &&
            this.muteToggle.hasClass("vjs-hidden") &&
            this.addClass("vjs-hidden"),
            this.volumeControl.hasClass("vjs-hidden") &&
              !this.muteToggle.hasClass("vjs-hidden") &&
              this.addClass("vjs-mute-toggle-only");
        }),
        (i.createEl = function () {
          var t = "vjs-volume-panel-horizontal";
          return (
            this.options_.inline || (t = "vjs-volume-panel-vertical"),
            e.prototype.createEl.call(this, "div", {
              className: "vjs-volume-panel vjs-control " + t,
            })
          );
        }),
        t
      );
    })(xn);
    (Zr.prototype.options_ = {
      children: ["muteToggle", "volumeControl"],
    }),
      xn.registerComponent("VolumePanel", Zr);
    var es = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this),
          n && (i.menuButton_ = n.menuButton),
          (i.focusedChild_ = -1),
          i.on("keydown", i.handleKeyPress),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.addItem = function (e) {
          this.addChild(e),
            e.on(
              "click",
              mn(this, function () {
                this.menuButton_ &&
                  (this.menuButton_.unpressButton(),
                  "CaptionSettingsMenuItem" !== e.name() &&
                    this.menuButton_.focus());
              })
            );
        }),
        (i.createEl = function () {
          var t = this.options_.contentElType || "ul";
          (this.contentEl_ = y(t, {
            className: "vjs-menu-content",
          })),
            this.contentEl_.setAttribute("role", "menu");
          var n = e.prototype.createEl.call(this, "div", {
            append: this.contentEl_,
            className: "vjs-menu",
          });
          return (
            n.appendChild(this.contentEl_),
            Y(n, "click", function (e) {
              e.preventDefault(), e.stopImmediatePropagation();
            }),
            n
          );
        }),
        (i.dispose = function () {
          (this.contentEl_ = null), e.prototype.dispose.call(this);
        }),
        (i.handleKeyPress = function (e) {
          37 === e.which || 40 === e.which
            ? (e.preventDefault(), this.stepForward())
            : (38 !== e.which && 39 !== e.which) ||
              (e.preventDefault(), this.stepBack());
        }),
        (i.stepForward = function () {
          var e = 0;
          void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1),
            this.focus(e);
        }),
        (i.stepBack = function () {
          var e = 0;
          void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1),
            this.focus(e);
        }),
        (i.focus = function (e) {
          void 0 === e && (e = 0);
          var t = this.children().slice();
          t.length &&
            t[0].className &&
            /vjs-menu-title/.test(t[0].className) &&
            t.shift(),
            0 < t.length &&
              (0 > e ? (e = 0) : e >= t.length && (e = t.length - 1),
              t[(this.focusedChild_ = e)].el_.focus());
        }),
        t
      );
    })(xn);
    xn.registerComponent("Menu", es);
    var ts = (function (e) {
      function i(t, n) {
        var i;
        void 0 === n && (n = {}),
          ((i = e.call(this, t, n) || this).menuButton_ = new Or(t, n)),
          i.menuButton_.controlText(i.controlText_),
          i.menuButton_.el_.setAttribute("aria-haspopup", "true");
        var r = Or.prototype.buildCSSClass();
        return (
          (i.menuButton_.el_.className = i.buildCSSClass() + " " + r),
          i.menuButton_.removeClass("vjs-control"),
          i.addChild(i.menuButton_),
          i.update(),
          (i.enabled_ = !0),
          i.on(i.menuButton_, "tap", i.handleClick),
          i.on(i.menuButton_, "click", i.handleClick),
          i.on(i.menuButton_, "focus", i.handleFocus),
          i.on(i.menuButton_, "blur", i.handleBlur),
          i.on("keydown", i.handleSubmenuKeyPress),
          i
        );
      }
      n(i, e);
      var r = i.prototype;
      return (
        (r.update = function () {
          var e = this.createMenu();
          this.menu && (this.menu.dispose(), this.removeChild(this.menu)),
            (this.menu = e),
            this.addChild(e),
            (this.buttonPressed_ = !1),
            this.menuButton_.el_.setAttribute("aria-expanded", "false"),
            this.items && this.items.length <= this.hideThreshold_
              ? this.hide()
              : this.show();
        }),
        (r.createMenu = function () {
          var e = new es(this.player_, {
            menuButton: this,
          });
          if (((this.hideThreshold_ = 0), this.options_.title)) {
            var t = y("li", {
              className: "vjs-menu-title",
              innerHTML: nt(this.options_.title),
              tabIndex: -1,
            });
            (this.hideThreshold_ += 1),
              e.children_.unshift(t),
              w(t, e.contentEl());
          }
          if (((this.items = this.createItems()), this.items))
            for (var n = 0; n < this.items.length; n++)
              e.addItem(this.items[n]);
          return e;
        }),
        (r.createItems = function () {}),
        (r.createEl = function () {
          return e.prototype.createEl.call(
            this,
            "div",
            {
              className: this.buildWrapperCSSClass(),
            },
            {}
          );
        }),
        (r.buildWrapperCSSClass = function () {
          var t = "vjs-menu-button";
          return (
            (t += !0 === this.options_.inline ? "-inline" : "-popup"),
            "vjs-menu-button " +
              t +
              " " +
              Or.prototype.buildCSSClass() +
              " " +
              e.prototype.buildCSSClass.call(this)
          );
        }),
        (r.buildCSSClass = function () {
          var t = "vjs-menu-button";
          return (
            (t += !0 === this.options_.inline ? "-inline" : "-popup"),
            "vjs-menu-button " + t + " " + e.prototype.buildCSSClass.call(this)
          );
        }),
        (r.controlText = function (e, t) {
          return (
            void 0 === t && (t = this.menuButton_.el()),
            this.menuButton_.controlText(e, t)
          );
        }),
        (r.handleClick = function () {
          this.one(
            this.menu.contentEl(),
            "mouseleave",
            mn(this, function () {
              this.unpressButton(), this.el_.blur();
            })
          ),
            this.buttonPressed_ ? this.unpressButton() : this.pressButton();
        }),
        (r.focus = function () {
          this.menuButton_.focus();
        }),
        (r.blur = function () {
          this.menuButton_.blur();
        }),
        (r.handleFocus = function () {
          Y(t, "keydown", mn(this, this.handleKeyPress));
        }),
        (r.handleBlur = function () {
          X(t, "keydown", mn(this, this.handleKeyPress));
        }),
        (r.handleKeyPress = function (e) {
          27 === e.which || 9 === e.which
            ? (this.buttonPressed_ && this.unpressButton(),
              9 !== e.which &&
                (e.preventDefault(), this.menuButton_.el_.focus()))
            : (38 !== e.which && 40 !== e.which) ||
              this.buttonPressed_ ||
              (this.pressButton(), e.preventDefault());
        }),
        (r.handleSubmenuKeyPress = function (e) {
          (27 !== e.which && 9 !== e.which) ||
            (this.buttonPressed_ && this.unpressButton(),
            9 !== e.which &&
              (e.preventDefault(), this.menuButton_.el_.focus()));
        }),
        (r.pressButton = function () {
          if (this.enabled_) {
            if (
              ((this.buttonPressed_ = !0),
              this.menu.lockShowing(),
              this.menuButton_.el_.setAttribute("aria-expanded", "true"),
              Bn && _())
            )
              return;
            this.menu.focus();
          }
        }),
        (r.unpressButton = function () {
          this.enabled_ &&
            ((this.buttonPressed_ = !1),
            this.menu.unlockShowing(),
            this.menuButton_.el_.setAttribute("aria-expanded", "false"));
        }),
        (r.disable = function () {
          this.unpressButton(),
            (this.enabled_ = !1),
            this.addClass("vjs-disabled"),
            this.menuButton_.disable();
        }),
        (r.enable = function () {
          (this.enabled_ = !0),
            this.removeClass("vjs-disabled"),
            this.menuButton_.enable();
        }),
        i
      );
    })(xn);
    xn.registerComponent("MenuButton", ts);
    var ns = (function (e) {
      function t(t, n) {
        var i,
          r = n.tracks;
        if (
          ((i = e.call(this, t, n) || this).items.length <= 1 && i.hide(), !r)
        )
          return s(i);
        var o = mn(s(s(i)), i.update);
        return (
          r.addEventListener("removetrack", o),
          r.addEventListener("addtrack", o),
          i.player_.on("ready", o),
          i.player_.on("dispose", function () {
            r.removeEventListener("removetrack", o),
              r.removeEventListener("addtrack", o);
          }),
          i
        );
      }
      return n(t, e), t;
    })(ts);
    xn.registerComponent("TrackButton", ns);
    var is = (function (e) {
      function t(t, n) {
        var i;
        return (
          ((i = e.call(this, t, n) || this).selectable = n.selectable),
          (i.isSelected_ = n.selected || !1),
          (i.multiSelectable = n.multiSelectable),
          i.selected(i.isSelected_),
          i.selectable
            ? i.multiSelectable
              ? i.el_.setAttribute("role", "menuitemcheckbox")
              : i.el_.setAttribute("role", "menuitemradio")
            : i.el_.setAttribute("role", "menuitem"),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function (t, n, i) {
          return (
            (this.nonIconControl = !0),
            e.prototype.createEl.call(
              this,
              "li",
              l(
                {
                  className: "vjs-menu-item",
                  innerHTML:
                    '<span class="vjs-menu-item-text">' +
                    this.localize(this.options_.label) +
                    "</span>",
                  tabIndex: -1,
                },
                n
              ),
              i
            )
          );
        }),
        (i.handleClick = function () {
          this.selected(!0);
        }),
        (i.selected = function (e) {
          this.selectable &&
            (this.isSelected_ = e
              ? (this.addClass("vjs-selected"),
                this.el_.setAttribute("aria-checked", "true"),
                this.controlText(", selected"),
                !0)
              : (this.removeClass("vjs-selected"),
                this.el_.setAttribute("aria-checked", "false"),
                this.controlText(""),
                !1));
        }),
        t
      );
    })(kr);
    xn.registerComponent("MenuItem", is);
    var rs = (function (i) {
      function r(n, r) {
        var o,
          a = r.track,
          l = n.textTracks();
        (r.label = a.label || a.language || "Unknown"),
          (r.selected = "showing" === a.mode),
          ((o = i.call(this, n, r) || this).track = a);
        var c,
          u = function () {
            for (var e = arguments.length, t = new Array(e), n = 0; e > n; n++)
              t[n] = arguments[n];
            o.handleTracksChange.apply(s(s(o)), t);
          },
          d = function () {
            for (var e = arguments.length, t = new Array(e), n = 0; e > n; n++)
              t[n] = arguments[n];
            o.handleSelectedLanguageChange.apply(s(s(o)), t);
          };
        return (
          n.on(["loadstart", "texttrackchange"], u),
          l.addEventListener("change", u),
          l.addEventListener("selectedlanguagechange", d),
          o.on("dispose", function () {
            n.off(["loadstart", "texttrackchange"], u),
              l.removeEventListener("change", u),
              l.removeEventListener("selectedlanguagechange", d);
          }),
          void 0 === l.onchange &&
            o.on(["tap", "click"], function () {
              if ("object" != typeof e.Event)
                try {
                  c = new e.Event("change");
                } catch (n) {}
              c || (c = t.createEvent("Event")).initEvent("change", !0, !0),
                l.dispatchEvent(c);
            }),
          o.handleTracksChange(),
          o
        );
      }
      n(r, i);
      var o = r.prototype;
      return (
        (o.handleClick = function (e) {
          var t = this.track.kind,
            n = this.track.kinds,
            r = this.player_.textTracks();
          if ((n || (n = [t]), i.prototype.handleClick.call(this, e), r))
            for (var s = 0; s < r.length; s++) {
              var o = r[s];
              o === this.track && -1 < n.indexOf(o.kind)
                ? "showing" !== o.mode && (o.mode = "showing")
                : "disabled" !== o.mode && (o.mode = "disabled");
            }
        }),
        (o.handleTracksChange = function () {
          var e = "showing" === this.track.mode;
          e !== this.isSelected_ && this.selected(e);
        }),
        (o.handleSelectedLanguageChange = function () {
          if ("showing" === this.track.mode) {
            var e = this.player_.cache_.selectedLanguage;
            if (
              e &&
              e.enabled &&
              e.language === this.track.language &&
              e.kind !== this.track.kind
            )
              return;
            this.player_.cache_.selectedLanguage = {
              enabled: !0,
              language: this.track.language,
              kind: this.track.kind,
            };
          }
        }),
        (o.dispose = function () {
          (this.track = null), i.prototype.dispose.call(this);
        }),
        r
      );
    })(is);
    xn.registerComponent("TextTrackMenuItem", rs);
    var ss = (function (e) {
      function t(t, n) {
        return (
          (n.track = {
            player: t,
            kind: n.kind,
            kinds: n.kinds,
            default: !1,
            mode: "disabled",
          }),
          n.kinds || (n.kinds = [n.kind]),
          (n.track.label = n.label ? n.label : n.kinds.join(" and ") + " off"),
          (n.selectable = !0),
          (n.multiSelectable = !1),
          e.call(this, t, n) || this
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.handleTracksChange = function () {
          for (
            var e = this.player().textTracks(), t = !0, n = 0, i = e.length;
            i > n;
            n++
          ) {
            var r = e[n];
            if (
              -1 < this.options_.kinds.indexOf(r.kind) &&
              "showing" === r.mode
            ) {
              t = !1;
              break;
            }
          }
          t !== this.isSelected_ && this.selected(t);
        }),
        (i.handleSelectedLanguageChange = function () {
          for (
            var e = this.player().textTracks(), t = !0, n = 0, i = e.length;
            i > n;
            n++
          ) {
            var r = e[n];
            if (
              -1 < ["captions", "descriptions", "subtitles"].indexOf(r.kind) &&
              "showing" === r.mode
            ) {
              t = !1;
              break;
            }
          }
          t &&
            (this.player_.cache_.selectedLanguage = {
              enabled: !1,
            });
        }),
        t
      );
    })(rs);
    xn.registerComponent("OffTextTrackMenuItem", ss);
    var os = (function (e) {
      function t(t, n) {
        return (
          void 0 === n && (n = {}),
          (n.tracks = t.textTracks()),
          e.call(this, t, n) || this
        );
      }
      return (
        n(t, e),
        (t.prototype.createItems = function (e, t) {
          var n;
          void 0 === e && (e = []),
            void 0 === t && (t = rs),
            this.label_ && (n = this.label_ + " off"),
            e.push(
              new ss(this.player_, {
                kinds: this.kinds_,
                kind: this.kind_,
                label: n,
              })
            ),
            (this.hideThreshold_ += 1);
          var i = this.player_.textTracks();
          Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
          for (var r = 0; r < i.length; r++) {
            var s = i[r];
            if (-1 < this.kinds_.indexOf(s.kind)) {
              var o = new t(this.player_, {
                track: s,
                selectable: !0,
                multiSelectable: !1,
              });
              o.addClass("vjs-" + s.kind + "-menu-item"), e.push(o);
            }
          }
          return e;
        }),
        t
      );
    })(ns);
    xn.registerComponent("TextTrackButton", os);
    var as = (function (e) {
      function t(t, n) {
        var i,
          r = n.track,
          o = n.cue,
          a = t.currentTime();
        return (
          (n.selectable = !0),
          (n.multiSelectable = !1),
          (n.label = o.text),
          (n.selected = o.startTime <= a && a < o.endTime),
          ((i = e.call(this, t, n) || this).track = r),
          (i.cue = o),
          r.addEventListener("cuechange", mn(s(s(i)), i.update)),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.handleClick = function () {
          e.prototype.handleClick.call(this),
            this.player_.currentTime(this.cue.startTime),
            this.update(this.cue.startTime);
        }),
        (i.update = function () {
          var e = this.cue,
            t = this.player_.currentTime();
          this.selected(e.startTime <= t && t < e.endTime);
        }),
        t
      );
    })(is);
    xn.registerComponent("ChaptersTrackMenuItem", as);
    var ls = (function (e) {
      function t(t, n, i) {
        return e.call(this, t, n, i) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-chapters-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-chapters-button " + e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        (i.update = function (t) {
          (this.track_ &&
            (!t || ("addtrack" !== t.type && "removetrack" !== t.type))) ||
            this.setTrack(this.findChaptersTrack()),
            e.prototype.update.call(this);
        }),
        (i.setTrack = function (e) {
          if (this.track_ !== e) {
            if (
              (this.updateHandler_ ||
                (this.updateHandler_ = this.update.bind(this)),
              this.track_)
            ) {
              var t = this.player_
                .remoteTextTrackEls()
                .getTrackElementByTrack_(this.track_);
              t && t.removeEventListener("load", this.updateHandler_),
                (this.track_ = null);
            }
            if (((this.track_ = e), this.track_)) {
              this.track_.mode = "hidden";
              var n = this.player_
                .remoteTextTrackEls()
                .getTrackElementByTrack_(this.track_);
              n && n.addEventListener("load", this.updateHandler_);
            }
          }
        }),
        (i.findChaptersTrack = function () {
          for (
            var e = this.player_.textTracks() || [], t = e.length - 1;
            t >= 0;
            t--
          ) {
            var n = e[t];
            if (n.kind === this.kind_) return n;
          }
        }),
        (i.getMenuCaption = function () {
          return this.track_ && this.track_.label
            ? this.track_.label
            : this.localize(nt(this.kind_));
        }),
        (i.createMenu = function () {
          return (
            (this.options_.title = this.getMenuCaption()),
            e.prototype.createMenu.call(this)
          );
        }),
        (i.createItems = function () {
          var e = [];
          if (!this.track_) return e;
          var t = this.track_.cues;
          if (!t) return e;
          for (var n = 0, i = t.length; i > n; n++) {
            var r = t[n],
              s = new as(this.player_, {
                track: this.track_,
                cue: r,
              });
            e.push(s);
          }
          return e;
        }),
        t
      );
    })(os);
    (ls.prototype.kind_ = "chapters"),
      (ls.prototype.controlText_ = "Chapters"),
      xn.registerComponent("ChaptersButton", ls);
    var cs = (function (e) {
      function t(t, n, i) {
        var r;
        r = e.call(this, t, n, i) || this;
        var o = t.textTracks(),
          a = mn(s(s(r)), r.handleTracksChange);
        return (
          o.addEventListener("change", a),
          r.on("dispose", function () {
            o.removeEventListener("change", a);
          }),
          r
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.handleTracksChange = function () {
          for (
            var e = this.player().textTracks(), t = !1, n = 0, i = e.length;
            i > n;
            n++
          ) {
            var r = e[n];
            if (r.kind !== this.kind_ && "showing" === r.mode) {
              t = !0;
              break;
            }
          }
          t ? this.disable() : this.enable();
        }),
        (i.buildCSSClass = function () {
          return (
            "vjs-descriptions-button " + e.prototype.buildCSSClass.call(this)
          );
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-descriptions-button " +
            e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        t
      );
    })(os);
    (cs.prototype.kind_ = "descriptions"),
      (cs.prototype.controlText_ = "Descriptions"),
      xn.registerComponent("DescriptionsButton", cs);
    var us = (function (e) {
      function t(t, n, i) {
        return e.call(this, t, n, i) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-subtitles-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-subtitles-button " +
            e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        t
      );
    })(os);
    (us.prototype.kind_ = "subtitles"),
      (us.prototype.controlText_ = "Subtitles"),
      xn.registerComponent("SubtitlesButton", us);
    var ds = (function (e) {
      function t(t, n) {
        var i;
        return (
          (n.track = {
            player: t,
            kind: n.kind,
            label: n.kind + " settings",
            selectable: !1,
            default: !1,
            mode: "disabled",
          }),
          (n.selectable = !1),
          (n.name = "CaptionSettingsMenuItem"),
          (i = e.call(this, t, n) || this).addClass("vjs-texttrack-settings"),
          i.controlText(", opens " + n.kind + " settings dialog"),
          i
        );
      }
      return (
        n(t, e),
        (t.prototype.handleClick = function () {
          this.player().getChild("textTrackSettings").open();
        }),
        t
      );
    })(rs);
    xn.registerComponent("CaptionSettingsMenuItem", ds);
    var ps = (function (e) {
      function t(t, n, i) {
        return e.call(this, t, n, i) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-captions-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-captions-button " + e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        (i.createItems = function () {
          var t = [];
          return (
            (this.player().tech_ &&
              this.player().tech_.featuresNativeTextTracks) ||
              !this.player().getChild("textTrackSettings") ||
              (t.push(
                new ds(this.player_, {
                  kind: this.kind_,
                })
              ),
              (this.hideThreshold_ += 1)),
            e.prototype.createItems.call(this, t)
          );
        }),
        t
      );
    })(os);
    (ps.prototype.kind_ = "captions"),
      (ps.prototype.controlText_ = "Captions"),
      xn.registerComponent("CaptionsButton", ps);
    var hs = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      return (
        n(t, e),
        (t.prototype.createEl = function (t, n, i) {
          var r =
            '<span class="vjs-menu-item-text">' +
            this.localize(this.options_.label);
          return (
            "captions" === this.options_.track.kind &&
              (r +=
                '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' +
                this.localize("Captions") +
                "</span>\n      "),
            (r += "</span>"),
            e.prototype.createEl.call(
              this,
              t,
              l(
                {
                  innerHTML: r,
                },
                n
              ),
              i
            )
          );
        }),
        t
      );
    })(rs);
    xn.registerComponent("SubsCapsMenuItem", hs);
    var fs = (function (e) {
      function t(t, n) {
        var i;
        return (
          void 0 === n && (n = {}),
          ((i = e.call(this, t, n) || this).label_ = "subtitles"),
          -1 < ["en", "en-us", "en-ca", "fr-ca"].indexOf(i.player_.language_) &&
            (i.label_ = "captions"),
          i.menuButton_.controlText(nt(i.label_)),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-subs-caps-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-subs-caps-button " +
            e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        (i.createItems = function () {
          var t = [];
          return (
            (this.player().tech_ &&
              this.player().tech_.featuresNativeTextTracks) ||
              !this.player().getChild("textTrackSettings") ||
              (t.push(
                new ds(this.player_, {
                  kind: this.label_,
                })
              ),
              (this.hideThreshold_ += 1)),
            (t = e.prototype.createItems.call(this, t, hs))
          );
        }),
        t
      );
    })(os);
    (fs.prototype.kinds_ = ["captions", "subtitles"]),
      (fs.prototype.controlText_ = "Subtitles"),
      xn.registerComponent("SubsCapsButton", fs);
    var ms = (function (e) {
      function t(t, n) {
        var i,
          r = n.track,
          o = t.audioTracks();
        (n.label = r.label || r.language || "Unknown"),
          (n.selected = r.enabled),
          ((i = e.call(this, t, n) || this).track = r),
          i.addClass("vjs-" + r.kind + "-menu-item");
        var a = function () {
          for (var e = arguments.length, t = new Array(e), n = 0; e > n; n++)
            t[n] = arguments[n];
          i.handleTracksChange.apply(s(s(i)), t);
        };
        return (
          o.addEventListener("change", a),
          i.on("dispose", function () {
            o.removeEventListener("change", a);
          }),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function (t, n, i) {
          var r =
            '<span class="vjs-menu-item-text">' +
            this.localize(this.options_.label);
          return (
            "main-desc" === this.options_.track.kind &&
              (r +=
                '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' +
                this.localize("Descriptions") +
                "</span>\n      "),
            (r += "</span>"),
            e.prototype.createEl.call(
              this,
              t,
              l(
                {
                  innerHTML: r,
                },
                n
              ),
              i
            )
          );
        }),
        (i.handleClick = function (t) {
          var n = this.player_.audioTracks();
          e.prototype.handleClick.call(this, t);
          for (var i = 0; i < n.length; i++) {
            var r = n[i];
            r.enabled = r === this.track;
          }
        }),
        (i.handleTracksChange = function () {
          this.selected(this.track.enabled);
        }),
        t
      );
    })(is);
    xn.registerComponent("AudioTrackMenuItem", ms);
    var gs = (function (e) {
      function t(t, n) {
        return (
          void 0 === n && (n = {}),
          (n.tracks = t.audioTracks()),
          e.call(this, t, n) || this
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-audio-button " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-audio-button " + e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        (i.createItems = function (e) {
          void 0 === e && (e = []), (this.hideThreshold_ = 1);
          for (var t = this.player_.audioTracks(), n = 0; n < t.length; n++) {
            var i = t[n];
            e.push(
              new ms(this.player_, {
                track: i,
                selectable: !0,
                multiSelectable: !1,
              })
            );
          }
          return e;
        }),
        t
      );
    })(ns);
    (gs.prototype.controlText_ = "Audio Track"),
      xn.registerComponent("AudioTrackButton", gs);
    var _s = (function (e) {
      function t(t, n) {
        var i,
          r = n.rate,
          s = parseFloat(r, 10);
        return (
          (n.label = r),
          (n.selected = 1 === s),
          (n.selectable = !0),
          (n.multiSelectable = !1),
          ((i = e.call(this, t, n) || this).label = r),
          (i.rate = s),
          i.on(t, "ratechange", i.update),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.handleClick = function () {
          e.prototype.handleClick.call(this),
            this.player().playbackRate(this.rate);
        }),
        (i.update = function () {
          this.selected(this.player().playbackRate() === this.rate);
        }),
        t
      );
    })(is);
    (_s.prototype.contentElType = "button"),
      xn.registerComponent("PlaybackRateMenuItem", _s);
    var vs = (function (e) {
      function t(t, n) {
        var i;
        return (
          (i = e.call(this, t, n) || this).updateVisibility(),
          i.updateLabel(),
          i.on(t, "loadstart", i.updateVisibility),
          i.on(t, "ratechange", i.updateLabel),
          i
        );
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.createEl = function () {
          var t = e.prototype.createEl.call(this);
          return (
            (this.labelEl_ = y("div", {
              className: "vjs-playback-rate-value",
              innerHTML: "1x",
            })),
            t.appendChild(this.labelEl_),
            t
          );
        }),
        (i.dispose = function () {
          (this.labelEl_ = null), e.prototype.dispose.call(this);
        }),
        (i.buildCSSClass = function () {
          return "vjs-playback-rate " + e.prototype.buildCSSClass.call(this);
        }),
        (i.buildWrapperCSSClass = function () {
          return (
            "vjs-playback-rate " + e.prototype.buildWrapperCSSClass.call(this)
          );
        }),
        (i.createMenu = function () {
          var e = new es(this.player()),
            t = this.playbackRates();
          if (t)
            for (var n = t.length - 1; n >= 0; n--)
              e.addChild(
                new _s(this.player(), {
                  rate: t[n] + "x",
                })
              );
          return e;
        }),
        (i.updateARIAAttributes = function () {
          this.el().setAttribute("aria-valuenow", this.player().playbackRate());
        }),
        (i.handleClick = function () {
          for (
            var e = this.player().playbackRate(),
              t = this.playbackRates(),
              n = t[0],
              i = 0;
            i < t.length;
            i++
          )
            if (t[i] > e) {
              n = t[i];
              break;
            }
          this.player().playbackRate(n);
        }),
        (i.playbackRates = function () {
          return (
            this.options_.playbackRates ||
            (this.options_.playerOptions &&
              this.options_.playerOptions.playbackRates)
          );
        }),
        (i.playbackRateSupported = function () {
          return (
            this.player().tech_ &&
            this.player().tech_.featuresPlaybackRate &&
            this.playbackRates() &&
            0 < this.playbackRates().length
          );
        }),
        (i.updateVisibility = function () {
          this.playbackRateSupported()
            ? this.removeClass("vjs-hidden")
            : this.addClass("vjs-hidden");
        }),
        (i.updateLabel = function () {
          this.playbackRateSupported() &&
            (this.labelEl_.innerHTML = this.player().playbackRate() + "x");
        }),
        t
      );
    })(ts);
    (vs.prototype.controlText_ = "Playback Rate"),
      xn.registerComponent("PlaybackRateMenuButton", vs);
    var ys = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-spacer " + e.prototype.buildCSSClass.call(this);
        }),
        (i.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: this.buildCSSClass(),
          });
        }),
        t
      );
    })(xn);
    xn.registerComponent("Spacer", ys);
    var bs = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return (
            "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this)
          );
        }),
        (i.createEl = function () {
          var t = e.prototype.createEl.call(this, {
            className: this.buildCSSClass(),
          });
          return (t.innerHTML = " "), t;
        }),
        t
      );
    })(ys);
    xn.registerComponent("CustomControlSpacer", bs);
    var ws = (function (e) {
      function t() {
        return e.apply(this, arguments) || this;
      }
      return (
        n(t, e),
        (t.prototype.createEl = function () {
          return e.prototype.createEl.call(this, "div", {
            className: "vjs-control-bar",
            dir: "ltr",
          });
        }),
        t
      );
    })(xn);
    (ws.prototype.options_ = {
      children: [
        "playToggle",
        "volumePanel",
        "currentTimeDisplay",
        "timeDivider",
        "durationDisplay",
        "progressControl",
        "liveDisplay",
        "remainingTimeDisplay",
        "customControlSpacer",
        "playbackRateMenuButton",
        "chaptersButton",
        "descriptionsButton",
        "subsCapsButton",
        "audioTrackButton",
        "fullscreenToggle",
      ],
    }),
      xn.registerComponent("ControlBar", ws);
    var Cs = (function (e) {
      function t(t, n) {
        var i;
        return (i = e.call(this, t, n) || this).on(t, "error", i.open), i;
      }
      n(t, e);
      var i = t.prototype;
      return (
        (i.buildCSSClass = function () {
          return "vjs-error-display " + e.prototype.buildCSSClass.call(this);
        }),
        (i.content = function () {
          var e = this.player().error();
          return e ? this.localize(e.message) : "";
        }),
        t
      );
    })(ui);
    (Cs.prototype.options_ = it(ui.prototype.options_, {
      pauseOnOpen: !1,
      fillAlways: !0,
      temporary: !1,
      uncloseable: !0,
    })),
      xn.registerComponent("ErrorDisplay", Cs);
    var ks = "vjs-text-track-settings",
      Ts = ["#000", "Black"],
      Es = ["#00F", "Blue"],
      Ss = ["#0FF", "Cyan"],
      xs = ["#0F0", "Green"],
      Ps = ["#F0F", "Magenta"],
      Os = ["#F00", "Red"],
      As = ["#FFF", "White"],
      Is = ["#FF0", "Yellow"],
      Ds = ["1", "Opaque"],
      Ms = ["0.5", "Semi-Transparent"],
      Rs = ["0", "Transparent"],
      js = {
        backgroundColor: {
          selector: ".vjs-bg-color > select",
          id: "captions-background-color-%s",
          label: "Color",
          options: [Ts, As, Os, xs, Es, Is, Ps, Ss],
        },
        backgroundOpacity: {
          selector: ".vjs-bg-opacity > select",
          id: "captions-background-opacity-%s",
          label: "Transparency",
          options: [Ds, Ms, Rs],
        },
        color: {
          selector: ".vjs-fg-color > select",
          id: "captions-foreground-color-%s",
          label: "Color",
          options: [As, Ts, Os, xs, Es, Is, Ps, Ss],
        },
        edgeStyle: {
          selector: ".vjs-edge-style > select",
          id: "%s",
          label: "Text Edge Style",
          options: [
            ["none", "None"],
            ["raised", "Raised"],
            ["depressed", "Depressed"],
            ["uniform", "Uniform"],
            ["dropshadow", "Dropshadow"],
          ],
        },
        fontFamily: {
          selector: ".vjs-font-family > select",
          id: "captions-font-family-%s",
          label: "Font Family",
          options: [
            ["proportionalSansSerif", "Proportional Sans-Serif"],
            ["monospaceSansSerif", "Monospace Sans-Serif"],
            ["proportionalSerif", "Proportional Serif"],
            ["monospaceSerif", "Monospace Serif"],
            ["casual", "Casual"],
            ["script", "Script"],
            ["small-caps", "Small Caps"],
          ],
        },
        fontPercent: {
          selector: ".vjs-font-percent > select",
          id: "captions-font-size-%s",
          label: "Font Size",
          options: [
            ["0.50", "50%"],
            ["0.75", "75%"],
            ["1.00", "100%"],
            ["1.25", "125%"],
            ["1.50", "150%"],
            ["1.75", "175%"],
            ["2.00", "200%"],
            ["3.00", "300%"],
            ["4.00", "400%"],
          ],
          default: 2,
          parser: function (e) {
            return "1.00" === e ? null : Number(e);
          },
        },
        textOpacity: {
          selector: ".vjs-text-opacity > select",
          id: "captions-foreground-opacity-%s",
          label: "Transparency",
          options: [Ds, Ms],
        },
        windowColor: {
          selector: ".vjs-window-color > select",
          id: "captions-window-color-%s",
          label: "Color",
        },
        windowOpacity: {
          selector: ".vjs-window-opacity > select",
          id: "captions-window-opacity-%s",
          label: "Transparency",
          options: [Rs, Ms, Ds],
        },
      };
    js.windowColor.options = js.backgroundColor.options;
    var Ls = (function (i) {
      function r(e, t) {
        var n;
        return (
          (t.temporary = !1),
          ((n = i.call(this, e, t) || this).updateDisplay = mn(
            s(s(n)),
            n.updateDisplay
          )),
          n.fill(),
          (n.hasBeenOpened_ = n.hasBeenFilled_ = !0),
          (n.endDialog = y("p", {
            className: "vjs-control-text",
            textContent: n.localize("End of dialog window."),
          })),
          n.el().appendChild(n.endDialog),
          n.setDefaults(),
          void 0 === t.persistTextTrackSettings &&
            (n.options_.persistTextTrackSettings =
              n.options_.playerOptions.persistTextTrackSettings),
          n.on(n.$(".vjs-done-button"), "click", function () {
            n.saveSettings(), n.close();
          }),
          n.on(n.$(".vjs-default-button"), "click", function () {
            n.setDefaults(), n.updateDisplay();
          }),
          a(js, function (e) {
            n.on(n.$(e.selector), "change", n.updateDisplay);
          }),
          n.options_.persistTextTrackSettings && n.restoreSettings(),
          n
        );
      }
      n(r, i);
      var o = r.prototype;
      return (
        (o.dispose = function () {
          (this.endDialog = null), i.prototype.dispose.call(this);
        }),
        (o.createElSelect_ = function (e, t, n) {
          var i = this;
          void 0 === t && (t = ""), void 0 === n && (n = "label");
          var r = js[e],
            s = r.id.replace("%s", this.id_),
            o = [t, s].join(" ").trim();
          return [
            "<" +
              n +
              ' id="' +
              s +
              '" class="' +
              ("label" === n ? "vjs-label" : "") +
              '">',
            this.localize(r.label),
            "</" + n + ">",
            '<select aria-labelledby="' + o + '">',
          ]
            .concat(
              r.options.map(function (e) {
                var t = s + "-" + e[1].replace(/\W+/g, "");
                return [
                  '<option id="' + t + '" value="' + e[0] + '" ',
                  'aria-labelledby="' + o + " " + t + '">',
                  i.localize(e[1]),
                  "</option>",
                ].join("");
              })
            )
            .concat("</select>")
            .join("");
        }),
        (o.createElFgColor_ = function () {
          var e = "captions-text-legend-" + this.id_;
          return [
            '<fieldset class="vjs-fg-color vjs-track-setting">',
            '<legend id="' + e + '">',
            this.localize("Text"),
            "</legend>",
            this.createElSelect_("color", e),
            '<span class="vjs-text-opacity vjs-opacity">',
            this.createElSelect_("textOpacity", e),
            "</span>",
            "</fieldset>",
          ].join("");
        }),
        (o.createElBgColor_ = function () {
          var e = "captions-background-" + this.id_;
          return [
            '<fieldset class="vjs-bg-color vjs-track-setting">',
            '<legend id="' + e + '">',
            this.localize("Background"),
            "</legend>",
            this.createElSelect_("backgroundColor", e),
            '<span class="vjs-bg-opacity vjs-opacity">',
            this.createElSelect_("backgroundOpacity", e),
            "</span>",
            "</fieldset>",
          ].join("");
        }),
        (o.createElWinColor_ = function () {
          var e = "captions-window-" + this.id_;
          return [
            '<fieldset class="vjs-window-color vjs-track-setting">',
            '<legend id="' + e + '">',
            this.localize("Window"),
            "</legend>",
            this.createElSelect_("windowColor", e),
            '<span class="vjs-window-opacity vjs-opacity">',
            this.createElSelect_("windowOpacity", e),
            "</span>",
            "</fieldset>",
          ].join("");
        }),
        (o.createElColors_ = function () {
          return y("div", {
            className: "vjs-track-settings-colors",
            innerHTML: [
              this.createElFgColor_(),
              this.createElBgColor_(),
              this.createElWinColor_(),
            ].join(""),
          });
        }),
        (o.createElFont_ = function () {
          return y("div", {
            className: "vjs-track-settings-font",
            innerHTML: [
              '<fieldset class="vjs-font-percent vjs-track-setting">',
              this.createElSelect_("fontPercent", "", "legend"),
              "</fieldset>",
              '<fieldset class="vjs-edge-style vjs-track-setting">',
              this.createElSelect_("edgeStyle", "", "legend"),
              "</fieldset>",
              '<fieldset class="vjs-font-family vjs-track-setting">',
              this.createElSelect_("fontFamily", "", "legend"),
              "</fieldset>",
            ].join(""),
          });
        }),
        (o.createElControls_ = function () {
          var e = this.localize("restore all settings to the default values");
          return y("div", {
            className: "vjs-track-settings-controls",
            innerHTML: [
              '<button type="button" class="vjs-default-button" title="' +
                e +
                '">',
              this.localize("Reset"),
              '<span class="vjs-control-text"> ' + e + "</span>",
              "</button>",
              '<button type="button" class="vjs-done-button">' +
                this.localize("Done") +
                "</button>",
            ].join(""),
          });
        }),
        (o.content = function () {
          return [
            this.createElColors_(),
            this.createElFont_(),
            this.createElControls_(),
          ];
        }),
        (o.label = function () {
          return this.localize("Caption Settings Dialog");
        }),
        (o.description = function () {
          return this.localize(
            "Beginning of dialog window. Escape will cancel and close the window."
          );
        }),
        (o.buildCSSClass = function () {
          return (
            i.prototype.buildCSSClass.call(this) + " vjs-text-track-settings"
          );
        }),
        (o.getValues = function () {
          var e,
            t,
            n,
            i = this;
          return (
            (t = function (e, t, n) {
              var r,
                s,
                o =
                  ((r = i.$(t.selector)),
                  (s = t.parser),
                  Ut(r.options[r.options.selectedIndex].value, s));
              return void 0 !== o && (e[n] = o), e;
            }),
            void 0 === (n = {}) && (n = 0),
            Jt((e = js)).reduce(function (n, i) {
              return t(n, e[i], i);
            }, n)
          );
        }),
        (o.setValues = function (e) {
          var t = this;
          a(js, function (n, i) {
            !(function (e, t, n) {
              if (t)
                for (var i = 0; i < e.options.length; i++)
                  if (Ut(e.options[i].value, n) === t) {
                    e.selectedIndex = i;
                    break;
                  }
            })(t.$(n.selector), e[i], n.parser);
          });
        }),
        (o.setDefaults = function () {
          var e = this;
          a(js, function (t) {
            var n = t.hasOwnProperty("default") ? t["default"] : 0;
            e.$(t.selector).selectedIndex = n;
          });
        }),
        (o.restoreSettings = function () {
          var t;
          try {
            t = JSON.parse(e.localStorage.getItem(ks));
          } catch (t) {
            Gt.warn(t);
          }
          t && this.setValues(t);
        }),
        (o.saveSettings = function () {
          if (this.options_.persistTextTrackSettings) {
            var t = this.getValues();
            try {
              Object.keys(t).length
                ? e.localStorage.setItem(ks, JSON.stringify(t))
                : e.localStorage.removeItem(ks);
            } catch (t) {
              Gt.warn(t);
            }
          }
        }),
        (o.updateDisplay = function () {
          var e = this.player_.getChild("textTrackDisplay");
          e && e.updateDisplay();
        }),
        (o.conditionalBlur_ = function () {
          (this.previouslyActiveEl_ = null),
            this.off(t, "keydown", this.handleKeyDown);
          var e = this.player_.controlBar,
            n = e && e.subsCapsButton,
            i = e && e.captionsButton;
          n ? n.focus() : i && i.focus();
        }),
        r
      );
    })(ui);
    xn.registerComponent("TextTrackSettings", Ls);
    var Ns = (function (t) {
      function i(n, i) {
        var r,
          o = i.ResizeObserver || e.ResizeObserver;
        null === i.ResizeObserver && (o = !1);
        var a = it(
          {
            createEl: !o,
            reportTouchActivity: !1,
          },
          i
        );
        return (
          ((r = t.call(this, n, a) || this).ResizeObserver =
            i.ResizeObserver || e.ResizeObserver),
          (r.loadListener_ = null),
          (r.resizeObserver_ = null),
          (r.debouncedHandler_ = (function (t, n, i, r) {
            var s;
            void 0 === r && (r = e);
            var o = function () {
              var e = this,
                o = arguments,
                a = function () {
                  (a = s = null), i || t.apply(e, o);
                };
              !s && i && t.apply(e, o),
                r.clearTimeout(s),
                (s = r.setTimeout(a, n));
            };
            return (
              (o.cancel = function () {
                r.clearTimeout(s), (s = null);
              }),
              o
            );
          })(
            function () {
              r.resizeHandler();
            },
            100,
            !1,
            s(s(r))
          )),
          o
            ? ((r.resizeObserver_ = new r.ResizeObserver(r.debouncedHandler_)),
              r.resizeObserver_.observe(n.el()))
            : ((r.loadListener_ = function () {
                r.el_ &&
                  r.el_.contentWindow &&
                  Y(r.el_.contentWindow, "resize", r.debouncedHandler_);
              }),
              r.one("load", r.loadListener_)),
          r
        );
      }
      n(i, t);
      var r = i.prototype;
      return (
        (r.createEl = function () {
          return t.prototype.createEl.call(this, "iframe", {
            className: "vjs-resize-manager",
          });
        }),
        (r.resizeHandler = function () {
          this.player_ &&
            this.player_.trigger &&
            this.player_.trigger("playerresize");
        }),
        (r.dispose = function () {
          this.debouncedHandler_ && this.debouncedHandler_.cancel(),
            this.resizeObserver_ &&
              (this.player_.el() &&
                this.resizeObserver_.unobserve(this.player_.el()),
              this.resizeObserver_.disconnect()),
            this.el_ &&
              this.el_.contentWindow &&
              X(this.el_.contentWindow, "resize", this.debouncedHandler_),
            this.loadListener_ && this.off("load", this.loadListener_),
            (this.ResizeObserver = null),
            (this.resizeObserver = null),
            (this.debouncedHandler_ = null),
            (this.loadListener_ = null);
        }),
        i
      );
    })(xn);
    xn.registerComponent("ResizeManager", Ns);
    var Us = function (e) {
        var t = e.el();
        if (t.hasAttribute("src")) return e.triggerSourceset(t.src), !0;
        var n = e.$$("source"),
          i = [],
          r = "";
        if (!n.length) return !1;
        for (var s = 0; s < n.length; s++) {
          var o = n[s].src;
          o && -1 === i.indexOf(o) && i.push(o);
        }
        return (
          !!i.length &&
          (1 === i.length && (r = i[0]), e.triggerSourceset(r), !0)
        );
      },
      Bs = Object.defineProperty({}, "innerHTML", {
        get: function () {
          return this.cloneNode(!0).innerHTML;
        },
        set: function (n) {
          var i = t.createElement(this.nodeName.toLowerCase());
          i.innerHTML = n;
          for (var r = t.createDocumentFragment(); i.childNodes.length; )
            r.appendChild(i.childNodes[0]);
          return (
            (this.innerText = ""),
            e.Element.prototype.appendChild.call(this, r),
            this.innerHTML
          );
        },
      }),
      $s = function (e, t) {
        for (
          var n = {}, i = 0;
          i < e.length &&
          !((n = Object.getOwnPropertyDescriptor(e[i], t)) && n.set && n.get);
          i++
        );
        return (n.enumerable = !0), (n.configurable = !0), n;
      },
      Fs = function (t) {
        var n = t.el();
        if (!n.resetSourceWatch_) {
          var i = {},
            r = $s(
              [t.el(), e.HTMLMediaElement.prototype, e.Element.prototype, Bs],
              "innerHTML"
            ),
            s = function (e) {
              return function () {
                for (
                  var i = arguments.length, r = new Array(i), s = 0;
                  i > s;
                  s++
                )
                  r[s] = arguments[s];
                var o = e.apply(n, r);
                return Us(t), o;
              };
            };
          ["append", "appendChild", "insertAdjacentHTML"].forEach(function (e) {
            n[e] && ((i[e] = n[e]), (n[e] = s(i[e])));
          }),
            Object.defineProperty(
              n,
              "innerHTML",
              it(r, {
                set: s(r.set),
              })
            ),
            (n.resetSourceWatch_ = function () {
              (n.resetSourceWatch_ = null),
                Object.keys(i).forEach(function (e) {
                  n[e] = i[e];
                }),
                Object.defineProperty(n, "innerHTML", r);
            }),
            t.one("sourceset", n.resetSourceWatch_);
        }
      },
      Hs = Object.defineProperty({}, "src", {
        get: function () {
          return this.hasAttribute("src")
            ? Si(e.Element.prototype.getAttribute.call(this, "src"))
            : "";
        },
        set: function (t) {
          return e.Element.prototype.setAttribute.call(this, "src", t), t;
        },
      }),
      Ws = function (t) {
        if (t.featuresSourceset) {
          var n = t.el();
          if (!n.resetSourceset_) {
            var i = $s([t.el(), e.HTMLMediaElement.prototype, Hs], "src"),
              r = n.setAttribute,
              s = n.load;
            Object.defineProperty(
              n,
              "src",
              it(i, {
                set: function (e) {
                  var r = i.set.call(n, e);
                  return t.triggerSourceset(n.src), r;
                },
              })
            ),
              (n.setAttribute = function (e, i) {
                var s = r.call(n, e, i);
                return /src/i.test(e) && t.triggerSourceset(n.src), s;
              }),
              (n.load = function () {
                var e = s.call(n);
                return Us(t) || (t.triggerSourceset(""), Fs(t)), e;
              }),
              n.currentSrc ? t.triggerSourceset(n.currentSrc) : Us(t) || Fs(t),
              (n.resetSourceset_ = function () {
                (n.resetSourceset_ = null),
                  (n.load = s),
                  (n.setAttribute = r),
                  Object.defineProperty(n, "src", i),
                  n.resetSourceWatch_ && n.resetSourceWatch_();
              });
          }
        }
      },
      qs = (function (i) {
        function r(e, t) {
          var n;
          n = i.call(this, e, t) || this;
          var r = e.source,
            s = !1;
          if (
            (r &&
            (n.el_.currentSrc !== r.src ||
              (e.tag && 3 === e.tag.initNetworkState_))
              ? n.setSource(r)
              : n.handleLateInit_(n.el_),
            e.enableSourceset && n.setupSourcesetHandling_(),
            n.el_.hasChildNodes())
          ) {
            for (var o = n.el_.childNodes, a = o.length, l = []; a--; ) {
              var c = o[a];
              "track" === c.nodeName.toLowerCase() &&
                (n.featuresNativeTextTracks
                  ? (n.remoteTextTrackEls().addTrackElement_(c),
                    n.remoteTextTracks().addTrack(c.track),
                    n.textTracks().addTrack(c.track),
                    s ||
                      n.el_.hasAttribute("crossorigin") ||
                      !Pi(c.src) ||
                      (s = !0))
                  : l.push(c));
            }
            for (var u = 0; u < l.length; u++) n.el_.removeChild(l[u]);
          }
          return (
            n.proxyNativeTracks_(),
            n.featuresNativeTextTracks && s && Gt.warn(Xt(Bt())),
            n.restoreMetadataTracksInIOSNativePlayer_(),
            (Qn || Nn || Wn) &&
              !0 === e.nativeControlsForTouch &&
              n.setControls(!0),
            n.proxyWebkitFullscreen_(),
            n.triggerReady(),
            n
          );
        }
        n(r, i);
        var s = r.prototype;
        return (
          (s.dispose = function () {
            this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(),
              r.disposeMediaElement(this.el_),
              (this.options_ = null),
              i.prototype.dispose.call(this);
          }),
          (s.setupSourcesetHandling_ = function () {
            Ws(this);
          }),
          (s.restoreMetadataTracksInIOSNativePlayer_ = function () {
            var e,
              t = this.textTracks(),
              n = function () {
                e = [];
                for (var n = 0; n < t.length; n++) {
                  var i = t[n];
                  "metadata" === i.kind &&
                    e.push({
                      track: i,
                      storedMode: i.mode,
                    });
                }
              };
            n(),
              t.addEventListener("change", n),
              this.on("dispose", function () {
                return t.removeEventListener("change", n);
              });
            var i = function r() {
              for (var n = 0; n < e.length; n++) {
                var i = e[n];
                "disabled" === i.track.mode &&
                  i.track.mode !== i.storedMode &&
                  (i.track.mode = i.storedMode);
              }
              t.removeEventListener("change", r);
            };
            this.on("webkitbeginfullscreen", function () {
              t.removeEventListener("change", n),
                t.removeEventListener("change", i),
                t.addEventListener("change", i);
            }),
              this.on("webkitendfullscreen", function () {
                t.removeEventListener("change", n),
                  t.addEventListener("change", n),
                  t.removeEventListener("change", i);
              });
          }),
          (s.overrideNative_ = function (e, t) {
            var n = this;
            if (t === this["featuresNative" + e + "Tracks"]) {
              var i = e.toLowerCase();
              this[i + "TracksListeners_"] &&
                Object.keys(this[i + "TracksListeners_"]).forEach(function (e) {
                  n.el()[i + "Tracks"].removeEventListener(
                    e,
                    n[i + "TracksListeners_"][e]
                  );
                }),
                (this["featuresNative" + e + "Tracks"] = !t),
                (this[i + "TracksListeners_"] = null),
                this.proxyNativeTracksForType_(i);
            }
          }),
          (s.overrideNativeAudioTracks = function (e) {
            this.overrideNative_("Audio", e);
          }),
          (s.overrideNativeVideoTracks = function (e) {
            this.overrideNative_("Video", e);
          }),
          (s.proxyNativeTracksForType_ = function (e) {
            var t = this,
              n = Qi[e],
              i = this.el()[n.getterName],
              r = this[n.getterName]();
            if (
              this["featuresNative" + n.capitalName + "Tracks"] &&
              i &&
              i.addEventListener
            ) {
              var s = {
                  change: function () {
                    r.trigger({
                      type: "change",
                      target: r,
                      currentTarget: r,
                      srcElement: r,
                    });
                  },
                  addtrack: function (e) {
                    r.addTrack(e.track);
                  },
                  removetrack: function (e) {
                    r.removeTrack(e.track);
                  },
                },
                o = function () {
                  for (var e = [], t = 0; t < r.length; t++) {
                    for (var n = !1, s = 0; s < i.length; s++)
                      if (i[s] === r[t]) {
                        n = !0;
                        break;
                      }
                    n || e.push(r[t]);
                  }
                  for (; e.length; ) r.removeTrack(e.shift());
                };
              (this[n.getterName + "Listeners_"] = s),
                Object.keys(s).forEach(function (e) {
                  var n = s[e];
                  i.addEventListener(e, n),
                    t.on("dispose", function () {
                      return i.removeEventListener(e, n);
                    });
                }),
                this.on("loadstart", o),
                this.on("dispose", function () {
                  return t.off("loadstart", o);
                });
            }
          }),
          (s.proxyNativeTracks_ = function () {
            var e = this;
            Qi.names.forEach(function (t) {
              e.proxyNativeTracksForType_(t);
            });
          }),
          (s.createEl = function () {
            var e = this.options_.tag;
            if (
              !e ||
              (!this.options_.playerElIngest && !this.movingMediaElementInDOM)
            ) {
              if (e) {
                var n = e.cloneNode(!0);
                e.parentNode && e.parentNode.insertBefore(n, e),
                  r.disposeMediaElement(e),
                  (e = n);
              } else {
                e = t.createElement("video");
                var i = it({}, this.options_.tag && x(this.options_.tag));
                (Qn && !0 === this.options_.nativeControlsForTouch) ||
                  delete i.controls,
                  S(
                    e,
                    l(i, {
                      id: this.options_.techId,
                      class: "vjs-tech",
                    })
                  );
              }
              e.playerId = this.options_.playerId;
            }
            "undefined" != typeof this.options_.preload &&
              O(e, "preload", this.options_.preload);
            for (
              var s = ["loop", "muted", "playsinline", "autoplay"], o = 0;
              o < s.length;
              o++
            ) {
              var a = s[o],
                c = this.options_[a];
              "undefined" != typeof c && (c ? O(e, a, a) : A(e, a), (e[a] = c));
            }
            return e;
          }),
          (s.handleLateInit_ = function (e) {
            if (0 !== e.networkState && 3 !== e.networkState) {
              if (0 === e.readyState) {
                var t = !1,
                  n = function () {
                    t = !0;
                  };
                this.on("loadstart", n);
                var i = function () {
                  t || this.trigger("loadstart");
                };
                return (
                  this.on("loadedmetadata", i),
                  void this.ready(function () {
                    this.off("loadstart", n),
                      this.off("loadedmetadata", i),
                      t || this.trigger("loadstart");
                  })
                );
              }
              var r = ["loadstart"];
              r.push("loadedmetadata"),
                2 <= e.readyState && r.push("loadeddata"),
                3 <= e.readyState && r.push("canplay"),
                4 <= e.readyState && r.push("canplaythrough"),
                this.ready(function () {
                  r.forEach(function (e) {
                    this.trigger(e);
                  }, this);
                });
            }
          }),
          (s.setCurrentTime = function (e) {
            try {
              this.el_.currentTime = e;
            } catch (e) {
              Gt(e, "Video is not ready. (Video.js)");
            }
          }),
          (s.duration = function () {
            var e = this;
            return this.el_.duration === 1 / 0 &&
              Fn &&
              Vn &&
              0 === this.el_.currentTime
              ? (this.on("timeupdate", function t() {
                  0 < e.el_.currentTime &&
                    (e.el_.duration === 1 / 0 && e.trigger("durationchange"),
                    e.off("timeupdate", t));
                }),
                0 / 0)
              : this.el_.duration || 0 / 0;
          }),
          (s.width = function () {
            return this.el_.offsetWidth;
          }),
          (s.height = function () {
            return this.el_.offsetHeight;
          }),
          (s.proxyWebkitFullscreen_ = function () {
            var e = this;
            if ("webkitDisplayingFullscreen" in this.el_) {
              var t = function () {
                  this.trigger("fullscreenchange", {
                    isFullscreen: !1,
                  });
                },
                n = function () {
                  "webkitPresentationMode" in this.el_ &&
                    "picture-in-picture" !== this.el_.webkitPresentationMode &&
                    (this.one("webkitendfullscreen", t),
                    this.trigger("fullscreenchange", {
                      isFullscreen: !0,
                    }));
                };
              this.on("webkitbeginfullscreen", n),
                this.on("dispose", function () {
                  e.off("webkitbeginfullscreen", n),
                    e.off("webkitendfullscreen", t);
                });
            }
          }),
          (s.supportsFullScreen = function () {
            if ("function" == typeof this.el_.webkitEnterFullScreen) {
              var t = (e.navigator && e.navigator.userAgent) || "";
              if (/Android/.test(t) || !/Chrome|Mac OS X 10.5/.test(t))
                return !0;
            }
            return !1;
          }),
          (s.enterFullScreen = function () {
            var e = this.el_;
            e.paused && e.networkState <= e.HAVE_METADATA
              ? (this.el_.play(),
                this.setTimeout(function () {
                  e.pause(), e.webkitEnterFullScreen();
                }, 0))
              : e.webkitEnterFullScreen();
          }),
          (s.exitFullScreen = function () {
            this.el_.webkitExitFullScreen();
          }),
          (s.src = function (e) {
            return void 0 === e ? this.el_.src : void this.setSrc(e);
          }),
          (s.reset = function () {
            r.resetMediaElement(this.el_);
          }),
          (s.currentSrc = function () {
            return this.currentSource_
              ? this.currentSource_.src
              : this.el_.currentSrc;
          }),
          (s.setControls = function (e) {
            this.el_.controls = !!e;
          }),
          (s.addTextTrack = function (e, t, n) {
            return this.featuresNativeTextTracks
              ? this.el_.addTextTrack(e, t, n)
              : i.prototype.addTextTrack.call(this, e, t, n);
          }),
          (s.createRemoteTextTrack = function (e) {
            if (!this.featuresNativeTextTracks)
              return i.prototype.createRemoteTextTrack.call(this, e);
            var n = t.createElement("track");
            return (
              e.kind && (n.kind = e.kind),
              e.label && (n.label = e.label),
              (e.language || e.srclang) &&
                (n.srclang = e.language || e.srclang),
              e["default"] && (n["default"] = e["default"]),
              e.id && (n.id = e.id),
              e.src && (n.src = e.src),
              n
            );
          }),
          (s.addRemoteTextTrack = function (e, t) {
            var n = i.prototype.addRemoteTextTrack.call(this, e, t);
            return this.featuresNativeTextTracks && this.el().appendChild(n), n;
          }),
          (s.removeRemoteTextTrack = function (e) {
            if (
              (i.prototype.removeRemoteTextTrack.call(this, e),
              this.featuresNativeTextTracks)
            )
              for (var t = this.$$("track"), n = t.length; n--; )
                (e !== t[n] && e !== t[n].track) || this.el().removeChild(t[n]);
          }),
          (s.getVideoPlaybackQuality = function () {
            if ("function" == typeof this.el().getVideoPlaybackQuality)
              return this.el().getVideoPlaybackQuality();
            var t = {};
            return (
              "undefined" != typeof this.el().webkitDroppedFrameCount &&
                "undefined" != typeof this.el().webkitDecodedFrameCount &&
                ((t.droppedVideoFrames = this.el().webkitDroppedFrameCount),
                (t.totalVideoFrames = this.el().webkitDecodedFrameCount)),
              e.performance && "function" == typeof e.performance.now
                ? (t.creationTime = e.performance.now())
                : e.performance &&
                  e.performance.timing &&
                  "number" == typeof e.performance.timing.navigationStart &&
                  (t.creationTime =
                    e.Date.now() - e.performance.timing.navigationStart),
              t
            );
          }),
          r
        );
      })(hr);
    if (m()) {
      qs.TEST_VID = t.createElement("video");
      var zs = t.createElement("track");
      (zs.kind = "captions"),
        (zs.srclang = "en"),
        (zs.label = "English"),
        qs.TEST_VID.appendChild(zs);
    }
    (qs.isSupported = function () {
      try {
        qs.TEST_VID.volume = 0.5;
      } catch (e) {
        return !1;
      }
      return !(!qs.TEST_VID || !qs.TEST_VID.canPlayType);
    }),
      (qs.canPlayType = function (e) {
        return qs.TEST_VID.canPlayType(e);
      }),
      (qs.canPlaySource = function (e) {
        return qs.canPlayType(e.type);
      }),
      (qs.canControlVolume = function () {
        try {
          var e = qs.TEST_VID.volume;
          return (qs.TEST_VID.volume = e / 2 + 0.1), e !== qs.TEST_VID.volume;
        } catch (e) {
          return !1;
        }
      }),
      (qs.canMuteVolume = function () {
        try {
          var e = qs.TEST_VID.muted;
          return (
            (qs.TEST_VID.muted = !e),
            qs.TEST_VID.muted
              ? O(qs.TEST_VID, "muted", "muted")
              : A(qs.TEST_VID, "muted"),
            e !== qs.TEST_VID.muted
          );
        } catch (e) {
          return !1;
        }
      }),
      (qs.canControlPlaybackRate = function () {
        if (Fn && Vn && 58 > Kn) return !1;
        try {
          var e = qs.TEST_VID.playbackRate;
          return (
            (qs.TEST_VID.playbackRate = e / 2 + 0.1),
            e !== qs.TEST_VID.playbackRate
          );
        } catch (e) {
          return !1;
        }
      }),
      (qs.canOverrideAttributes = function () {
        try {
          var e = function () {};
          Object.defineProperty(t.createElement("video"), "src", {
            get: e,
            set: e,
          }),
            Object.defineProperty(t.createElement("audio"), "src", {
              get: e,
              set: e,
            }),
            Object.defineProperty(t.createElement("video"), "innerHTML", {
              get: e,
              set: e,
            }),
            Object.defineProperty(t.createElement("audio"), "innerHTML", {
              get: e,
              set: e,
            });
        } catch (e) {
          return !1;
        }
        return !0;
      }),
      (qs.supportsNativeTextTracks = function () {
        return Xn || (Bn && Vn);
      }),
      (qs.supportsNativeVideoTracks = function () {
        return !(!qs.TEST_VID || !qs.TEST_VID.videoTracks);
      }),
      (qs.supportsNativeAudioTracks = function () {
        return !(!qs.TEST_VID || !qs.TEST_VID.audioTracks);
      }),
      (qs.Events = [
        "loadstart",
        "suspend",
        "abort",
        "error",
        "emptied",
        "stalled",
        "loadedmetadata",
        "loadeddata",
        "canplay",
        "canplaythrough",
        "playing",
        "waiting",
        "seeking",
        "seeked",
        "ended",
        "durationchange",
        "timeupdate",
        "progress",
        "play",
        "pause",
        "ratechange",
        "resize",
        "volumechange",
      ]),
      (qs.prototype.featuresVolumeControl = qs.canControlVolume()),
      (qs.prototype.featuresMuteControl = qs.canMuteVolume()),
      (qs.prototype.featuresPlaybackRate = qs.canControlPlaybackRate()),
      (qs.prototype.featuresSourceset = qs.canOverrideAttributes()),
      (qs.prototype.movingMediaElementInDOM = !Bn),
      (qs.prototype.featuresFullscreenResize = !0),
      (qs.prototype.featuresProgressEvents = !0),
      (qs.prototype.featuresTimeupdateEvents = !0),
      (qs.prototype.featuresNativeTextTracks = qs.supportsNativeTextTracks()),
      (qs.prototype.featuresNativeVideoTracks = qs.supportsNativeVideoTracks()),
      (qs.prototype.featuresNativeAudioTracks = qs.supportsNativeAudioTracks());
    var Vs = qs.TEST_VID && qs.TEST_VID.constructor.prototype.canPlayType,
      Ks = /^application\/(?:x-|vnd\.apple\.)mpegurl/i;
    (qs.patchCanPlayType = function () {
      Hn >= 4 &&
        !qn &&
        !Vn &&
        (qs.TEST_VID.constructor.prototype.canPlayType = function (e) {
          return e && Ks.test(e) ? "maybe" : Vs.call(this, e);
        });
    }),
      (qs.unpatchCanPlayType = function () {
        var e = qs.TEST_VID.constructor.prototype.canPlayType;
        return (qs.TEST_VID.constructor.prototype.canPlayType = Vs), e;
      }),
      qs.patchCanPlayType(),
      (qs.disposeMediaElement = function (e) {
        if (e) {
          for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes(); )
            e.removeChild(e.firstChild);
          e.removeAttribute("src"),
            "function" == typeof e.load &&
              (function () {
                try {
                  e.load();
                } catch (e) {}
              })();
        }
      }),
      (qs.resetMediaElement = function (e) {
        if (e) {
          for (var t = e.querySelectorAll("source"), n = t.length; n--; )
            e.removeChild(t[n]);
          e.removeAttribute("src"),
            "function" == typeof e.load &&
              (function () {
                try {
                  e.load();
                } catch (e) {}
              })();
        }
      }),
      [
        "muted",
        "defaultMuted",
        "autoplay",
        "controls",
        "loop",
        "playsinline",
      ].forEach(function (e) {
        qs.prototype[e] = function () {
          return this.el_[e] || this.el_.hasAttribute(e);
        };
      }),
      ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach(
        function (e) {
          qs.prototype["set" + nt(e)] = function (t) {
            (this.el_[e] = t)
              ? this.el_.setAttribute(e, e)
              : this.el_.removeAttribute(e);
          };
        }
      ),
      [
        "paused",
        "currentTime",
        "buffered",
        "volume",
        "poster",
        "preload",
        "error",
        "seeking",
        "seekable",
        "ended",
        "playbackRate",
        "defaultPlaybackRate",
        "played",
        "networkState",
        "readyState",
        "videoWidth",
        "videoHeight",
      ].forEach(function (e) {
        qs.prototype[e] = function () {
          return this.el_[e];
        };
      }),
      [
        "volume",
        "src",
        "poster",
        "preload",
        "playbackRate",
        "defaultPlaybackRate",
      ].forEach(function (e) {
        qs.prototype["set" + nt(e)] = function (t) {
          this.el_[e] = t;
        };
      }),
      ["pause", "load", "play"].forEach(function (e) {
        qs.prototype[e] = function () {
          return this.el_[e]();
        };
      }),
      hr.withSourceHandlers(qs),
      (qs.nativeSourceHandler = {}),
      (qs.nativeSourceHandler.canPlayType = function (e) {
        try {
          return qs.TEST_VID.canPlayType(e);
        } catch (e) {
          return "";
        }
      }),
      (qs.nativeSourceHandler.canHandleSource = function (e) {
        if (e.type) return qs.nativeSourceHandler.canPlayType(e.type);
        if (e.src) {
          var t = xi(e.src);
          return qs.nativeSourceHandler.canPlayType("video/" + t);
        }
        return "";
      }),
      (qs.nativeSourceHandler.handleSource = function (e, t) {
        t.setSrc(e.src);
      }),
      (qs.nativeSourceHandler.dispose = function () {}),
      qs.registerSourceHandler(qs.nativeSourceHandler),
      hr.registerTech("Html5", qs);
    var Gs = [
        "progress",
        "abort",
        "suspend",
        "emptied",
        "stalled",
        "loadedmetadata",
        "loadeddata",
        "timeupdate",
        "resize",
        "volumechange",
        "texttrackchange",
      ],
      Ys = {
        canplay: "CanPlay",
        canplaythrough: "CanPlayThrough",
        playing: "Playing",
        seeked: "Seeked",
      },
      Xs = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"],
      Qs = {};
    Xs.forEach(function (e) {
      var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
      Qs[e] = "vjs-layout-" + t;
    });
    var Js = {
        tiny: 210,
        xsmall: 320,
        small: 425,
        medium: 768,
        large: 1440,
        xlarge: 2560,
        huge: 1 / 0,
      },
      Zs = (function (i) {
        function r(e, t, n) {
          var o;
          if (
            ((e.id = e.id || t.id || "vjs_video_" + H()),
            ((t = l(r.getTagSettings(e), t)).initChildren = !1),
            (t.createEl = !1),
            (t.evented = !1),
            (t.reportTouchActivity = !1),
            !t.language)
          )
            if ("function" == typeof e.closest) {
              var a = e.closest("[lang]");
              a && a.getAttribute && (t.language = a.getAttribute("lang"));
            } else
              for (var c = e; c && 1 === c.nodeType; ) {
                if (x(c).hasOwnProperty("lang")) {
                  t.language = c.getAttribute("lang");
                  break;
                }
                c = c.parentNode;
              }
          if (
            (((o = i.call(this, null, t, n) || this).log = Yt(o.id_)),
            (o.isPosterFromTech_ = !1),
            (o.queuedCallbacks_ = []),
            (o.isReady_ = !1),
            (o.hasStarted_ = !1),
            (o.userActive_ = !1),
            !o.options_ ||
              !o.options_.techOrder ||
              !o.options_.techOrder.length)
          )
            throw new Error(
              "No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?"
            );
          if (
            ((o.tag = e),
            (o.tagAttributes = e && x(e)),
            o.language(o.options_.language),
            t.languages)
          ) {
            var u = {};
            Object.getOwnPropertyNames(t.languages).forEach(function (e) {
              u[e.toLowerCase()] = t.languages[e];
            }),
              (o.languages_ = u);
          } else o.languages_ = r.prototype.options_.languages;
          (o.cache_ = {}),
            (o.poster_ = t.poster || ""),
            (o.controls_ = !!t.controls),
            (o.cache_.lastVolume = 1),
            (e.controls = !1),
            e.removeAttribute("controls"),
            e.hasAttribute("autoplay")
              ? (o.options_.autoplay = !0)
              : o.autoplay(o.options_.autoplay),
            (o.scrubbing_ = !1),
            (o.el_ = o.createEl()),
            (o.cache_.lastPlaybackRate = o.defaultPlaybackRate()),
            et(s(s(o)), {
              eventBusKey: "el_",
            });
          var d = it(o.options_);
          if (t.plugins) {
            var p = t.plugins;
            Object.keys(p).forEach(function (e) {
              if ("function" != typeof this[e])
                throw new Error('plugin "' + e + '" does not exist');
              this[e](p[e]);
            }, s(s(o)));
          }
          (o.options_.playerOptions = d),
            (o.middleware_ = []),
            o.initChildren(),
            o.isAudio("audio" === e.nodeName.toLowerCase()),
            o.addClass(
              o.controls() ? "vjs-controls-enabled" : "vjs-controls-disabled"
            ),
            o.el_.setAttribute("role", "region"),
            o.isAudio()
              ? o.el_.setAttribute("aria-label", o.localize("Audio Player"))
              : o.el_.setAttribute("aria-label", o.localize("Video Player")),
            o.isAudio() && o.addClass("vjs-audio"),
            o.flexNotSupported_() && o.addClass("vjs-no-flex"),
            Bn || o.addClass("vjs-workinghover"),
            (r.players[o.id_] = s(s(o)));
          var h = zt.split(".")[0];
          return (
            o.addClass("vjs-v" + h),
            o.userActive(!0),
            o.reportUserActivity(),
            o.one("play", o.listenForUserActivity_),
            o.on("fullscreenchange", o.handleFullscreenChange_),
            o.on("stageclick", o.handleStageClick_),
            o.breakpoints(o.options_.breakpoints),
            o.responsive(o.options_.responsive),
            (o.changingSrc_ = !1),
            (o.playWaitingForReady_ = !1),
            (o.playOnLoadstart_ = null),
            o
          );
        }
        n(r, i);
        var o = r.prototype;
        return (
          (o.dispose = function () {
            this.trigger("dispose"),
              this.off("dispose"),
              this.styleEl_ &&
                this.styleEl_.parentNode &&
                (this.styleEl_.parentNode.removeChild(this.styleEl_),
                (this.styleEl_ = null)),
              (r.players[this.id_] = null),
              this.tag && this.tag.player && (this.tag.player = null),
              this.el_ && this.el_.player && (this.el_.player = null),
              this.tech_ &&
                (this.tech_.dispose(),
                (this.isPosterFromTech_ = !1),
                (this.poster_ = "")),
              this.playerElIngest_ && (this.playerElIngest_ = null),
              this.tag && (this.tag = null),
              (mr[this.id()] = null),
              i.prototype.dispose.call(this);
          }),
          (o.createEl = function () {
            var n,
              r = this.tag,
              s = (this.playerElIngest_ =
                r.parentNode &&
                r.parentNode.hasAttribute &&
                r.parentNode.hasAttribute("data-vjs-player")),
              o = "video-js" === this.tag.tagName.toLowerCase();
            s
              ? (n = this.el_ = r.parentNode)
              : o || (n = this.el_ = i.prototype.createEl.call(this, "div"));
            var a = x(r);
            if (o) {
              for (
                n = this.el_ = r, r = this.tag = t.createElement("video");
                n.children.length;

              )
                r.appendChild(n.firstChild);
              C(n, "video-js") || k(n, "video-js"),
                n.appendChild(r),
                (s = this.playerElIngest_ = n),
                Object.keys(n).forEach(function (e) {
                  r[e] = n[e];
                });
            }
            if (
              (r.setAttribute("tabindex", "-1"),
              (a.tabindex = "-1"),
              Gn &&
                (r.setAttribute("role", "application"),
                (a.role = "application")),
              r.removeAttribute("width"),
              r.removeAttribute("height"),
              "width" in a && delete a.width,
              "height" in a && delete a.height,
              Object.getOwnPropertyNames(a).forEach(function (e) {
                (o && "class" === e) || n.setAttribute(e, a[e]),
                  o && r.setAttribute(e, a[e]);
              }),
              (r.playerId = r.id),
              (r.id += "_html5_api"),
              (r.className = "vjs-tech"),
              (r.player = n.player = this),
              this.addClass("vjs-paused"),
              !0 !== e.VIDEOJS_NO_DYNAMIC_STYLE)
            ) {
              this.styleEl_ = hn("vjs-styles-dimensions");
              var l = Zt(".vjs-styles-defaults"),
                c = Zt("head");
              c.insertBefore(this.styleEl_, l ? l.nextSibling : c.firstChild);
            }
            (this.fill_ = !1),
              (this.fluid_ = !1),
              this.width(this.options_.width),
              this.height(this.options_.height),
              this.fill(this.options_.fill),
              this.fluid(this.options_.fluid),
              this.aspectRatio(this.options_.aspectRatio);
            for (
              var u = r.getElementsByTagName("a"), d = 0;
              d < u.length;
              d++
            ) {
              var p = u.item(d);
              k(p, "vjs-hidden"), p.setAttribute("hidden", "hidden");
            }
            return (
              (r.initNetworkState_ = r.networkState),
              r.parentNode && !s && r.parentNode.insertBefore(n, r),
              w(r, n),
              this.children_.unshift(r),
              this.el_.setAttribute("lang", this.language_),
              (this.el_ = n)
            );
          }),
          (o.width = function (e) {
            return this.dimension("width", e);
          }),
          (o.height = function (e) {
            return this.dimension("height", e);
          }),
          (o.dimension = function (e, t) {
            var n = e + "_";
            if (void 0 === t) return this[n] || 0;
            if ("" === t) return (this[n] = void 0), void this.updateStyleEl_();
            var i = parseFloat(t);
            isNaN(i)
              ? Gt.error('Improper value "' + t + '" supplied for for ' + e)
              : ((this[n] = i), this.updateStyleEl_());
          }),
          (o.fluid = function (e) {
            return void 0 === e
              ? !!this.fluid_
              : ((this.fluid_ = !!e),
                e
                  ? (this.addClass("vjs-fluid"), this.fill(!1))
                  : this.removeClass("vjs-fluid"),
                this.updateStyleEl_(),
                void 0);
          }),
          (o.fill = function (e) {
            return void 0 === e
              ? !!this.fill_
              : ((this.fill_ = !!e),
                void (e
                  ? (this.addClass("vjs-fill"), this.fluid(!1))
                  : this.removeClass("vjs-fill")));
          }),
          (o.aspectRatio = function (e) {
            if (void 0 === e) return this.aspectRatio_;
            if (!/^\d+\:\d+$/.test(e))
              throw new Error(
                "Improper value supplied for aspect ratio. The format should be width:height, for example 16:9."
              );
            (this.aspectRatio_ = e), this.fluid(!0), this.updateStyleEl_();
          }),
          (o.updateStyleEl_ = function () {
            if (!0 !== e.VIDEOJS_NO_DYNAMIC_STYLE) {
              var t,
                n,
                i,
                r = (
                  void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_
                    ? this.aspectRatio_
                    : 0 < this.videoWidth()
                    ? this.videoWidth() + ":" + this.videoHeight()
                    : "16:9"
                ).split(":"),
                s = r[1] / r[0];
              (t =
                void 0 !== this.width_
                  ? this.width_
                  : void 0 !== this.height_
                  ? this.height_ / s
                  : this.videoWidth() || 300),
                (n = void 0 !== this.height_ ? this.height_ : t * s),
                (i = /^[^a-zA-Z]/.test(this.id())
                  ? "dimensions-" + this.id()
                  : this.id() + "-dimensions"),
                this.addClass(i),
                fn(
                  this.styleEl_,
                  "\n      ." +
                    i +
                    " {\n        width: " +
                    t +
                    "px;\n        height: " +
                    n +
                    "px;\n      }\n\n      ." +
                    i +
                    ".vjs-fluid {\n        padding-top: " +
                    100 * s +
                    "%;\n      }\n    "
                );
            } else {
              var o =
                  "number" == typeof this.width_
                    ? this.width_
                    : this.options_.width,
                a =
                  "number" == typeof this.height_
                    ? this.height_
                    : this.options_.height,
                l = this.tech_ && this.tech_.el();
              l && (o >= 0 && (l.width = o), a >= 0 && (l.height = a));
            }
          }),
          (o.loadTech_ = function (e, t) {
            var n = this;
            this.tech_ && this.unloadTech_();
            var i = nt(e),
              r = e.charAt(0).toLowerCase() + e.slice(1);
            "Html5" !== i &&
              this.tag &&
              (hr.getTech("Html5").disposeMediaElement(this.tag),
              (this.tag.player = null),
              (this.tag = null)),
              (this.techName_ = i),
              (this.isReady_ = !1);
            var s = {
              source: t,
              autoplay: "string" != typeof this.autoplay() && this.autoplay(),
              nativeControlsForTouch: this.options_.nativeControlsForTouch,
              playerId: this.id(),
              techId: this.id() + "_" + r + "_api",
              playsinline: this.options_.playsinline,
              preload: this.options_.preload,
              loop: this.options_.loop,
              muted: this.options_.muted,
              poster: this.poster(),
              language: this.language(),
              playerElIngest: this.playerElIngest_ || !1,
              "vtt.js": this.options_["vtt.js"],
              canOverridePoster: !!this.options_.techCanOverridePoster,
              enableSourceset: this.options_.enableSourceset,
            };
            Zi.names.forEach(function (e) {
              var t = Zi[e];
              s[t.getterName] = n[t.privateName];
            }),
              l(s, this.options_[i]),
              l(s, this.options_[r]),
              l(s, this.options_[e.toLowerCase()]),
              this.tag && (s.tag = this.tag),
              t &&
                t.src === this.cache_.src &&
                0 < this.cache_.currentTime &&
                (s.startTime = this.cache_.currentTime);
            var o = hr.getTech(e);
            if (!o)
              throw new Error(
                "No Tech named '" +
                  i +
                  "' exists! '" +
                  i +
                  "' should be registered using videojs.registerTech()'"
              );
            (this.tech_ = new o(s)),
              this.tech_.ready(mn(this, this.handleTechReady_), !0),
              li(this.textTracksJson_ || [], this.tech_),
              Gs.forEach(function (e) {
                n.on(n.tech_, e, n["handleTech" + nt(e) + "_"]);
              }),
              Object.keys(Ys).forEach(function (e) {
                n.on(n.tech_, e, function (t) {
                  0 === n.tech_.playbackRate() && n.tech_.seeking()
                    ? n.queuedCallbacks_.push({
                        callback: n["handleTech" + Ys[e] + "_"].bind(n),
                        event: t,
                      })
                    : n["handleTech" + Ys[e] + "_"](t);
                });
              }),
              this.on(this.tech_, "loadstart", this.handleTechLoadStart_),
              this.on(this.tech_, "sourceset", this.handleTechSourceset_),
              this.on(this.tech_, "waiting", this.handleTechWaiting_),
              this.on(this.tech_, "ended", this.handleTechEnded_),
              this.on(this.tech_, "seeking", this.handleTechSeeking_),
              this.on(this.tech_, "play", this.handleTechPlay_),
              this.on(this.tech_, "firstplay", this.handleTechFirstPlay_),
              this.on(this.tech_, "pause", this.handleTechPause_),
              this.on(
                this.tech_,
                "durationchange",
                this.handleTechDurationChange_
              ),
              this.on(
                this.tech_,
                "fullscreenchange",
                this.handleTechFullscreenChange_
              ),
              this.on(this.tech_, "error", this.handleTechError_),
              this.on(this.tech_, "loadedmetadata", this.updateStyleEl_),
              this.on(this.tech_, "posterchange", this.handleTechPosterChange_),
              this.on(this.tech_, "textdata", this.handleTechTextData_),
              this.on(this.tech_, "ratechange", this.handleTechRateChange_),
              this.usingNativeControls(this.techGet_("controls")),
              this.controls() &&
                !this.usingNativeControls() &&
                this.addTechControlsListeners_(),
              this.tech_.el().parentNode === this.el() ||
                ("Html5" === i && this.tag) ||
                w(this.tech_.el(), this.el()),
              this.tag && ((this.tag.player = null), (this.tag = null));
          }),
          (o.unloadTech_ = function () {
            var e = this;
            Zi.names.forEach(function (t) {
              var n = Zi[t];
              e[n.privateName] = e[n.getterName]();
            }),
              (this.textTracksJson_ = ai(this.tech_)),
              (this.isReady_ = !1),
              this.tech_.dispose(),
              (this.tech_ = !1),
              this.isPosterFromTech_ &&
                ((this.poster_ = ""), this.trigger("posterchange")),
              (this.isPosterFromTech_ = !1);
          }),
          (o.tech = function (e) {
            return void 0 === e && Gt.warn(Xt($t())), this.tech_;
          }),
          (o.addTechControlsListeners_ = function () {
            this.removeTechControlsListeners_(),
              this.on(this.tech_, "mousedown", this.handleTechClick_),
              this.on(this.tech_, "dblclick", this.handleTechDoubleClick_),
              this.on(this.tech_, "touchstart", this.handleTechTouchStart_),
              this.on(this.tech_, "touchmove", this.handleTechTouchMove_),
              this.on(this.tech_, "touchend", this.handleTechTouchEnd_),
              this.on(this.tech_, "tap", this.handleTechTap_);
          }),
          (o.removeTechControlsListeners_ = function () {
            this.off(this.tech_, "tap", this.handleTechTap_),
              this.off(this.tech_, "touchstart", this.handleTechTouchStart_),
              this.off(this.tech_, "touchmove", this.handleTechTouchMove_),
              this.off(this.tech_, "touchend", this.handleTechTouchEnd_),
              this.off(this.tech_, "mousedown", this.handleTechClick_),
              this.off(this.tech_, "dblclick", this.handleTechDoubleClick_);
          }),
          (o.handleTechReady_ = function () {
            this.triggerReady(),
              this.cache_.volume &&
                this.techCall_("setVolume", this.cache_.volume),
              this.handleTechPosterChange_(),
              this.handleTechDurationChange_();
          }),
          (o.handleTechLoadStart_ = function () {
            this.removeClass("vjs-ended"),
              this.removeClass("vjs-seeking"),
              this.error(null),
              this.paused()
                ? (this.hasStarted(!1), this.trigger("loadstart"))
                : (this.trigger("loadstart"), this.trigger("firstplay")),
              this.manualAutoplay_(this.autoplay());
          }),
          (o.manualAutoplay_ = function (e) {
            var t = this;
            if (this.tech_ && "string" == typeof e) {
              var n,
                i = function () {
                  var e = t.muted();
                  t.muted(!0);
                  var n = t.play();
                  return n && n.then && n["catch"]
                    ? n["catch"](function () {
                        t.muted(e);
                      })
                    : void 0;
                };
              if (
                ("any" === e
                  ? (n = this.play()) &&
                    n.then &&
                    n["catch"] &&
                    n["catch"](function () {
                      return i();
                    })
                  : (n = "muted" === e ? i() : this.play()),
                n && n.then && n["catch"])
              )
                return n
                  .then(function () {
                    t.trigger({
                      type: "autoplay-success",
                      autoplay: e,
                    });
                  })
                  ["catch"](function () {
                    t.trigger({
                      type: "autoplay-failure",
                      autoplay: e,
                    });
                  });
            }
          }),
          (o.updateSourceCaches_ = function (e) {
            void 0 === e && (e = "");
            var t = e,
              n = "";
            "string" != typeof t && ((t = e.src), (n = e.type)),
              (this.cache_.source = this.cache_.source || {}),
              (this.cache_.sources = this.cache_.sources || []),
              t &&
                !n &&
                (n = (function (e, t) {
                  if (!t) return "";
                  if (e.cache_.source.src === t && e.cache_.source.type)
                    return e.cache_.source.type;
                  var n = e.cache_.sources.filter(function (e) {
                    return e.src === t;
                  });
                  if (n.length) return n[0].type;
                  for (var i = e.$$("source"), r = 0; r < i.length; r++) {
                    var s = i[r];
                    if (s.type && s.src && s.src === t) return s.type;
                  }
                  return wr(t);
                })(this, t)),
              (this.cache_.source = it({}, e, {
                src: t,
                type: n,
              }));
            for (
              var i = this.cache_.sources.filter(function (e) {
                  return e.src && e.src === t;
                }),
                r = [],
                s = this.$$("source"),
                o = [],
                a = 0;
              a < s.length;
              a++
            ) {
              var l = x(s[a]);
              r.push(l), l.src && l.src === t && o.push(l.src);
            }
            o.length && !i.length
              ? (this.cache_.sources = r)
              : i.length || (this.cache_.sources = [this.cache_.source]),
              (this.cache_.src = t);
          }),
          (o.handleTechSourceset_ = function (e) {
            var t = this;
            if (!this.changingSrc_) {
              var n = function (e) {
                  return t.updateSourceCaches_(e);
                },
                i = this.currentSource().src,
                r = e.src;
              i &&
                !/^blob:/.test(i) &&
                /^blob:/.test(r) &&
                (!this.lastSource_ ||
                  (this.lastSource_.tech !== r &&
                    this.lastSource_.player !== i)) &&
                (n = function () {}),
                n(r),
                e.src ||
                  this.tech_.one(["sourceset", "loadstart"], function s(e) {
                    if ("sourceset" !== e.type) {
                      var n = t.techGet("currentSrc");
                      (t.lastSource_.tech = n), t.updateSourceCaches_(n);
                    }
                    t.tech_.off(["sourceset", "loadstart"], s);
                  });
            }
            (this.lastSource_ = {
              player: this.currentSource().src,
              tech: e.src,
            }),
              this.trigger({
                src: e.src,
                type: "sourceset",
              });
          }),
          (o.hasStarted = function (e) {
            return void 0 === e
              ? this.hasStarted_
              : void (
                  e !== this.hasStarted_ &&
                  ((this.hasStarted_ = e),
                  this.hasStarted_
                    ? (this.addClass("vjs-has-started"),
                      this.trigger("firstplay"))
                    : this.removeClass("vjs-has-started"))
                );
          }),
          (o.handleTechPlay_ = function () {
            this.removeClass("vjs-ended"),
              this.removeClass("vjs-paused"),
              this.addClass("vjs-playing"),
              this.hasStarted(!0),
              this.trigger("play");
          }),
          (o.handleTechRateChange_ = function () {
            0 < this.tech_.playbackRate() &&
              0 === this.cache_.lastPlaybackRate &&
              (this.queuedCallbacks_.forEach(function (e) {
                return e.callback(e.event);
              }),
              (this.queuedCallbacks_ = [])),
              (this.cache_.lastPlaybackRate = this.tech_.playbackRate()),
              this.trigger("ratechange");
          }),
          (o.handleTechWaiting_ = function () {
            var e = this;
            this.addClass("vjs-waiting"),
              this.trigger("waiting"),
              this.one("timeupdate", function () {
                return e.removeClass("vjs-waiting");
              });
          }),
          (o.handleTechCanPlay_ = function () {
            this.removeClass("vjs-waiting"), this.trigger("canplay");
          }),
          (o.handleTechCanPlayThrough_ = function () {
            this.removeClass("vjs-waiting"), this.trigger("canplaythrough");
          }),
          (o.handleTechPlaying_ = function () {
            this.removeClass("vjs-waiting"), this.trigger("playing");
          }),
          (o.handleTechSeeking_ = function () {
            this.addClass("vjs-seeking"), this.trigger("seeking");
          }),
          (o.handleTechSeeked_ = function () {
            this.removeClass("vjs-seeking"), this.trigger("seeked");
          }),
          (o.handleTechFirstPlay_ = function () {
            this.options_.starttime &&
              (Gt.warn(
                "Passing the `starttime` option to the player will be deprecated in 6.0"
              ),
              this.currentTime(this.options_.starttime)),
              this.addClass("vjs-has-started"),
              this.trigger("firstplay");
          }),
          (o.handleTechPause_ = function () {
            this.removeClass("vjs-playing"),
              this.addClass("vjs-paused"),
              this.trigger("pause");
          }),
          (o.handleTechEnded_ = function () {
            this.addClass("vjs-ended"),
              this.options_.loop
                ? (this.currentTime(0), this.play())
                : this.paused() || this.pause(),
              this.trigger("ended");
          }),
          (o.handleTechDurationChange_ = function () {
            this.duration(this.techGet_("duration"));
          }),
          (o.handleTechClick_ = function (e) {
            F(e) &&
              this.controls_ &&
              (this.paused() ? ut(this.play()) : this.pause());
          }),
          (o.handleTechDoubleClick_ = function (e) {
            this.controls_ &&
              (Array.prototype.some.call(
                this.$$(".vjs-control-bar, .vjs-modal-dialog"),
                function (t) {
                  return t.contains(e.target);
                }
              ) ||
                (this.isFullscreen()
                  ? this.exitFullscreen()
                  : this.requestFullscreen()));
          }),
          (o.handleTechTap_ = function () {
            this.userActive(!this.userActive());
          }),
          (o.handleTechTouchStart_ = function () {
            this.userWasActive = this.userActive();
          }),
          (o.handleTechTouchMove_ = function () {
            this.userWasActive && this.reportUserActivity();
          }),
          (o.handleTechTouchEnd_ = function (e) {
            e.preventDefault();
          }),
          (o.handleFullscreenChange_ = function () {
            this.isFullscreen()
              ? this.addClass("vjs-fullscreen")
              : this.removeClass("vjs-fullscreen");
          }),
          (o.handleStageClick_ = function () {
            this.reportUserActivity();
          }),
          (o.handleTechFullscreenChange_ = function (e, t) {
            t && this.isFullscreen(t.isFullscreen),
              this.trigger("fullscreenchange");
          }),
          (o.handleTechError_ = function () {
            var e = this.tech_.error();
            this.error(e);
          }),
          (o.handleTechTextData_ = function () {
            var e = null;
            1 < arguments.length && (e = arguments[1]),
              this.trigger("textdata", e);
          }),
          (o.getCache = function () {
            return this.cache_;
          }),
          (o.techCall_ = function (e, t) {
            this.ready(function () {
              if (e in vr)
                return (
                  (n = this.middleware_),
                  (i = this.tech_),
                  (s = t),
                  i[(r = e)](n.reduce(Dt(r), s))
                );
              if (e in yr) return It(this.middleware_, this.tech_, e, t);
              var n, i, r, s;
              try {
                this.tech_ && this.tech_[e](t);
              } catch (n) {
                throw (Gt(n), n);
              }
            }, !0);
          }),
          (o.techGet_ = function (e) {
            if (this.tech_ && this.tech_.isReady_) {
              if (e in _r)
                return (
                  (t = this.middleware_),
                  (n = this.tech_),
                  (i = e),
                  t.reduceRight(Dt(i), n[i]())
                );
              if (e in yr) return It(this.middleware_, this.tech_, e);
              var t, n, i;
              try {
                return this.tech_[e]();
              } catch (t) {
                if (void 0 === this.tech_[e])
                  throw (
                    (Gt(
                      "Video.js: " +
                        e +
                        " method not defined for " +
                        this.techName_ +
                        " playback technology.",
                      t
                    ),
                    t)
                  );
                if ("TypeError" === t.name)
                  throw (
                    (Gt(
                      "Video.js: " +
                        e +
                        " unavailable on " +
                        this.techName_ +
                        " playback technology element.",
                      t
                    ),
                    (this.tech_.isReady_ = !1),
                    t)
                  );
                throw (Gt(t), t);
              }
            }
          }),
          (o.play = function () {
            var t = this,
              n = this.options_.Promise || e.Promise;
            return n
              ? new n(function (e) {
                  t.play_(e);
                })
              : this.play_();
          }),
          (o.play_ = function (e) {
            var t = this;
            if (
              (void 0 === e && (e = ut),
              this.playOnLoadstart_ &&
                this.off("loadstart", this.playOnLoadstart_),
              this.isReady_)
            ) {
              if (!this.changingSrc_ && (this.src() || this.currentSrc()))
                return void e(this.techGet_("play"));
              (this.playOnLoadstart_ = function () {
                (t.playOnLoadstart_ = null), e(t.play());
              }),
                this.one("loadstart", this.playOnLoadstart_);
            } else {
              if (this.playWaitingForReady_) return;
              (this.playWaitingForReady_ = !0),
                this.ready(function () {
                  (t.playWaitingForReady_ = !1), e(t.play());
                });
            }
          }),
          (o.pause = function () {
            this.techCall_("pause");
          }),
          (o.paused = function () {
            return !1 !== this.techGet_("paused");
          }),
          (o.played = function () {
            return this.techGet_("played") || ot(0, 0);
          }),
          (o.scrubbing = function (e) {
            return "undefined" == typeof e
              ? this.scrubbing_
              : ((this.scrubbing_ = !!e),
                void (e
                  ? this.addClass("vjs-scrubbing")
                  : this.removeClass("vjs-scrubbing")));
          }),
          (o.currentTime = function (e) {
            return "undefined" != typeof e
              ? (0 > e && (e = 0), void this.techCall_("setCurrentTime", e))
              : ((this.cache_.currentTime = this.techGet_("currentTime") || 0),
                this.cache_.currentTime);
          }),
          (o.duration = function (e) {
            return void 0 === e
              ? void 0 !== this.cache_.duration
                ? this.cache_.duration
                : 0 / 0
              : ((e = parseFloat(e)) < 0 && (e = 1 / 0),
                void (
                  e !== this.cache_.duration &&
                  ((this.cache_.duration = e) === 1 / 0
                    ? this.addClass("vjs-live")
                    : this.removeClass("vjs-live"),
                  this.trigger("durationchange"))
                ));
          }),
          (o.remainingTime = function () {
            return this.duration() - this.currentTime();
          }),
          (o.remainingTimeDisplay = function () {
            return Math.floor(this.duration()) - Math.floor(this.currentTime());
          }),
          (o.buffered = function () {
            var e = this.techGet_("buffered");
            return (e && e.length) || (e = ot(0, 0)), e;
          }),
          (o.bufferedPercent = function () {
            return at(this.buffered(), this.duration());
          }),
          (o.bufferedEnd = function () {
            var e = this.buffered(),
              t = this.duration(),
              n = e.end(e.length - 1);
            return n > t && (n = t), n;
          }),
          (o.volume = function (e) {
            var t;
            return void 0 !== e
              ? ((t = Math.max(0, Math.min(1, parseFloat(e)))),
                (this.cache_.volume = t),
                this.techCall_("setVolume", t),
                void (t > 0 && this.lastVolume_(t)))
              : ((t = parseFloat(this.techGet_("volume"))), isNaN(t) ? 1 : t);
          }),
          (o.muted = function (e) {
            return void 0 === e
              ? this.techGet_("muted") || !1
              : void this.techCall_("setMuted", e);
          }),
          (o.defaultMuted = function (e) {
            return void 0 !== e
              ? this.techCall_("setDefaultMuted", e)
              : this.techGet_("defaultMuted") || !1;
          }),
          (o.lastVolume_ = function (e) {
            return void 0 === e || 0 === e
              ? this.cache_.lastVolume
              : void (this.cache_.lastVolume = e);
          }),
          (o.supportsFullScreen = function () {
            return this.techGet_("supportsFullScreen") || !1;
          }),
          (o.isFullscreen = function (e) {
            return void 0 === e
              ? !!this.isFullscreen_
              : void (this.isFullscreen_ = !!e);
          }),
          (o.requestFullscreen = function () {
            var e = Zn;
            this.isFullscreen(!0),
              e.requestFullscreen
                ? (Y(
                    t,
                    e.fullscreenchange,
                    mn(this, function n() {
                      this.isFullscreen(t[e.fullscreenElement]),
                        !1 === this.isFullscreen() &&
                          X(t, e.fullscreenchange, n),
                        this.trigger("fullscreenchange");
                    })
                  ),
                  this.el_[e.requestFullscreen]())
                : this.tech_.supportsFullScreen()
                ? this.techCall_("enterFullScreen")
                : (this.enterFullWindow(), this.trigger("fullscreenchange"));
          }),
          (o.exitFullscreen = function () {
            var e = Zn;
            this.isFullscreen(!1),
              e.requestFullscreen
                ? t[e.exitFullscreen]()
                : this.tech_.supportsFullScreen()
                ? this.techCall_("exitFullScreen")
                : (this.exitFullWindow(), this.trigger("fullscreenchange"));
          }),
          (o.enterFullWindow = function () {
            (this.isFullWindow = !0),
              (this.docOrigOverflow = t.documentElement.style.overflow),
              Y(t, "keydown", mn(this, this.fullWindowOnEscKey)),
              (t.documentElement.style.overflow = "hidden"),
              k(t.body, "vjs-full-window"),
              this.trigger("enterFullWindow");
          }),
          (o.fullWindowOnEscKey = function (e) {
            27 === e.keyCode &&
              (!0 === this.isFullscreen()
                ? this.exitFullscreen()
                : this.exitFullWindow());
          }),
          (o.exitFullWindow = function () {
            (this.isFullWindow = !1),
              X(t, "keydown", this.fullWindowOnEscKey),
              (t.documentElement.style.overflow = this.docOrigOverflow),
              T(t.body, "vjs-full-window"),
              this.trigger("exitFullWindow");
          }),
          (o.canPlayType = function (e) {
            for (var t, n = 0, i = this.options_.techOrder; n < i.length; n++) {
              var r = i[n],
                s = hr.getTech(r);
              if ((s || (s = xn.getComponent(r)), s)) {
                if (s.isSupported() && (t = s.canPlayType(e))) return t;
              } else
                Gt.error(
                  'The "' +
                    r +
                    '" tech is undefined. Skipped browser support check for that tech.'
                );
            }
            return "";
          }),
          (o.selectSource = function (e) {
            var t,
              n = this,
              i = this.options_.techOrder
                .map(function (e) {
                  return [e, hr.getTech(e)];
                })
                .filter(function (e) {
                  var t = e[0],
                    n = e[1];
                  return n
                    ? n.isSupported()
                    : (Gt.error(
                        'The "' +
                          t +
                          '" tech is undefined. Skipped browser support check for that tech.'
                      ),
                      !1);
                }),
              r = function (e, t, n) {
                var i;
                return (
                  e.some(function (e) {
                    return t.some(function (t) {
                      return (i = n(e, t)) ? !0 : void 0;
                    });
                  }),
                  i
                );
              },
              s = function (e, t) {
                var i = e[0];
                return e[1].canPlaySource(t, n.options_[i.toLowerCase()])
                  ? {
                      source: t,
                      tech: i,
                    }
                  : void 0;
              };
            return (
              (this.options_.sourceOrder
                ? r(
                    e,
                    i,
                    ((t = s),
                    function (e, n) {
                      return t(n, e);
                    })
                  )
                : r(i, e, s)) || !1
            );
          }),
          (o.src = function (e) {
            var t = this;
            if ("undefined" == typeof e) return this.cache_.src || "";
            var n = (function i(e) {
              if (Array.isArray(e)) {
                var t = [];
                e.forEach(function (e) {
                  (e = i(e)),
                    Array.isArray(e) ? (t = t.concat(e)) : c(e) && t.push(e);
                }),
                  (e = t);
              } else
                e =
                  "string" == typeof e && e.trim()
                    ? [
                        Rt({
                          src: e,
                        }),
                      ]
                    : c(e) && "string" == typeof e.src && e.src && e.src.trim()
                    ? [Rt(e)]
                    : [];
              return e;
            })(e);
            n.length
              ? ((this.changingSrc_ = !0),
                (this.cache_.sources = n),
                this.updateSourceCaches_(n[0]),
                At(this, n[0], function (e, i) {
                  var r, s;
                  return (
                    (t.middleware_ = i),
                    (t.cache_.sources = n),
                    t.updateSourceCaches_(e),
                    t.src_(e)
                      ? 1 < n.length
                        ? t.src(n.slice(1))
                        : ((t.changingSrc_ = !1),
                          t.setTimeout(function () {
                            this.error({
                              code: 4,
                              message: this.localize(
                                this.options_.notSupportedMessage
                              ),
                            });
                          }, 0),
                          void t.triggerReady())
                      : ((r = i),
                        (s = t.tech_),
                        r.forEach(function (e) {
                          return e.setTech && e.setTech(s);
                        }),
                        void 0)
                  );
                }))
              : this.setTimeout(function () {
                  this.error({
                    code: 4,
                    message: this.localize(this.options_.notSupportedMessage),
                  });
                }, 0);
          }),
          (o.src_ = function (e) {
            var t,
              n,
              i = this,
              r = this.selectSource([e]);
            return (
              !r ||
              ((t = r.tech),
              (n = this.techName_),
              nt(t) !== nt(n)
                ? ((this.changingSrc_ = !0),
                  this.loadTech_(r.tech, r.source),
                  this.tech_.ready(function () {
                    i.changingSrc_ = !1;
                  }))
                : this.ready(function () {
                    this.tech_.constructor.prototype.hasOwnProperty("setSource")
                      ? this.techCall_("setSource", e)
                      : this.techCall_("src", e.src),
                      (this.changingSrc_ = !1);
                  }, !0),
              !1)
            );
          }),
          (o.load = function () {
            this.techCall_("load");
          }),
          (o.reset = function () {
            this.tech_ && this.tech_.clearTracks("text"),
              this.loadTech_(this.options_.techOrder[0], null),
              this.techCall_("reset");
          }),
          (o.currentSources = function () {
            var e = this.currentSource(),
              t = [];
            return (
              0 !== Object.keys(e).length && t.push(e), this.cache_.sources || t
            );
          }),
          (o.currentSource = function () {
            return this.cache_.source || {};
          }),
          (o.currentSrc = function () {
            return (this.currentSource() && this.currentSource().src) || "";
          }),
          (o.currentType = function () {
            return (this.currentSource() && this.currentSource().type) || "";
          }),
          (o.preload = function (e) {
            return void 0 !== e
              ? (this.techCall_("setPreload", e),
                void (this.options_.preload = e))
              : this.techGet_("preload");
          }),
          (o.autoplay = function (e) {
            if (void 0 === e) return this.options_.autoplay || !1;
            var t;
            "string" == typeof e && /(any|play|muted)/.test(e)
              ? ((this.options_.autoplay = e),
                this.manualAutoplay_(e),
                (t = !1))
              : (this.options_.autoplay = !!e),
              (t = t || this.options_.autoplay),
              this.tech_ && this.techCall_("setAutoplay", t);
          }),
          (o.playsinline = function (e) {
            return void 0 !== e
              ? (this.techCall_("setPlaysinline", e),
                (this.options_.playsinline = e),
                this)
              : this.techGet_("playsinline");
          }),
          (o.loop = function (e) {
            return void 0 !== e
              ? (this.techCall_("setLoop", e), void (this.options_.loop = e))
              : this.techGet_("loop");
          }),
          (o.poster = function (e) {
            return void 0 === e
              ? this.poster_
              : (e || (e = ""),
                void (
                  e !== this.poster_ &&
                  ((this.poster_ = e),
                  this.techCall_("setPoster", e),
                  (this.isPosterFromTech_ = !1),
                  this.trigger("posterchange"))
                ));
          }),
          (o.handleTechPosterChange_ = function () {
            if (
              (!this.poster_ || this.options_.techCanOverridePoster) &&
              this.tech_ &&
              this.tech_.poster
            ) {
              var e = this.tech_.poster() || "";
              e !== this.poster_ &&
                ((this.poster_ = e),
                (this.isPosterFromTech_ = !0),
                this.trigger("posterchange"));
            }
          }),
          (o.controls = function (e) {
            return void 0 === e
              ? !!this.controls_
              : ((e = !!e),
                void (
                  this.controls_ !== e &&
                  ((this.controls_ = e),
                  this.usingNativeControls() &&
                    this.techCall_("setControls", e),
                  this.controls_
                    ? (this.removeClass("vjs-controls-disabled"),
                      this.addClass("vjs-controls-enabled"),
                      this.trigger("controlsenabled"),
                      this.usingNativeControls() ||
                        this.addTechControlsListeners_())
                    : (this.removeClass("vjs-controls-enabled"),
                      this.addClass("vjs-controls-disabled"),
                      this.trigger("controlsdisabled"),
                      this.usingNativeControls() ||
                        this.removeTechControlsListeners_()))
                ));
          }),
          (o.usingNativeControls = function (e) {
            return void 0 === e
              ? !!this.usingNativeControls_
              : ((e = !!e),
                void (
                  this.usingNativeControls_ !== e &&
                  ((this.usingNativeControls_ = e),
                  this.usingNativeControls_
                    ? (this.addClass("vjs-using-native-controls"),
                      this.trigger("usingnativecontrols"))
                    : (this.removeClass("vjs-using-native-controls"),
                      this.trigger("usingcustomcontrols")))
                ));
          }),
          (o.error = function (e) {
            return void 0 === e
              ? this.error_ || null
              : null === e
              ? ((this.error_ = e),
                this.removeClass("vjs-error"),
                void (this.errorDisplay && this.errorDisplay.close()))
              : ((this.error_ = new lt(e)),
                this.addClass("vjs-error"),
                Gt.error(
                  "(CODE:" +
                    this.error_.code +
                    " " +
                    lt.errorTypes[this.error_.code] +
                    ")",
                  this.error_.message,
                  this.error_
                ),
                void this.trigger("error"));
          }),
          (o.reportUserActivity = function () {
            this.userActivity_ = !0;
          }),
          (o.userActive = function (e) {
            if (void 0 === e) return this.userActive_;
            if ((e = !!e) !== this.userActive_) {
              if (((this.userActive_ = e), this.userActive_))
                return (
                  (this.userActivity_ = !0),
                  this.removeClass("vjs-user-inactive"),
                  this.addClass("vjs-user-active"),
                  void this.trigger("useractive")
                );
              this.tech_ &&
                this.tech_.one("mousemove", function (e) {
                  e.stopPropagation(), e.preventDefault();
                }),
                (this.userActivity_ = !1),
                this.removeClass("vjs-user-active"),
                this.addClass("vjs-user-inactive"),
                this.trigger("userinactive");
            }
          }),
          (o.listenForUserActivity_ = function () {
            var e,
              t,
              n,
              i,
              r = mn(this, this.reportUserActivity);
            this.on("mousedown", function () {
              r(), this.clearInterval(e), (e = this.setInterval(r, 250));
            }),
              this.on("mousemove", function (e) {
                (e.screenX === t && e.screenY === n) ||
                  ((t = e.screenX), (n = e.screenY), r());
              }),
              this.on("mouseup", function () {
                r(), this.clearInterval(e);
              }),
              this.on("keydown", r),
              this.on("keyup", r),
              this.setInterval(function () {
                if (this.userActivity_) {
                  (this.userActivity_ = !1),
                    this.userActive(!0),
                    this.clearTimeout(i);
                  var e = this.options_.inactivityTimeout;
                  0 >= e ||
                    (i = this.setTimeout(function () {
                      this.userActivity_ || this.userActive(!1);
                    }, e));
                }
              }, 250);
          }),
          (o.playbackRate = function (e) {
            return void 0 === e
              ? this.tech_ && this.tech_.featuresPlaybackRate
                ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate")
                : 1
              : void this.techCall_("setPlaybackRate", e);
          }),
          (o.defaultPlaybackRate = function (e) {
            return void 0 !== e
              ? this.techCall_("setDefaultPlaybackRate", e)
              : this.tech_ && this.tech_.featuresPlaybackRate
              ? this.techGet_("defaultPlaybackRate")
              : 1;
          }),
          (o.isAudio = function (e) {
            return void 0 === e ? !!this.isAudio_ : void (this.isAudio_ = !!e);
          }),
          (o.addTextTrack = function (e, t, n) {
            return this.tech_ ? this.tech_.addTextTrack(e, t, n) : void 0;
          }),
          (o.addRemoteTextTrack = function (e, t) {
            return this.tech_ ? this.tech_.addRemoteTextTrack(e, t) : void 0;
          }),
          (o.removeRemoteTextTrack = function (e) {
            void 0 === e && (e = {});
            var t = e.track;
            return (
              t || (t = e),
              this.tech_ ? this.tech_.removeRemoteTextTrack(t) : void 0
            );
          }),
          (o.getVideoPlaybackQuality = function () {
            return this.techGet_("getVideoPlaybackQuality");
          }),
          (o.videoWidth = function () {
            return (
              (this.tech_ &&
                this.tech_.videoWidth &&
                this.tech_.videoWidth()) ||
              0
            );
          }),
          (o.videoHeight = function () {
            return (
              (this.tech_ &&
                this.tech_.videoHeight &&
                this.tech_.videoHeight()) ||
              0
            );
          }),
          (o.language = function (e) {
            return void 0 === e
              ? this.language_
              : void (this.language_ = String(e).toLowerCase());
          }),
          (o.languages = function () {
            return it(r.prototype.options_.languages, this.languages_);
          }),
          (o.toJSON = function () {
            var e = it(this.options_),
              t = e.tracks;
            e.tracks = [];
            for (var n = 0; n < t.length; n++) {
              var i = t[n];
              ((i = it(i)).player = void 0), (e.tracks[n] = i);
            }
            return e;
          }),
          (o.createModal = function (e, t) {
            var n = this;
            (t = t || {}).content = e || "";
            var i = new ui(this, t);
            return (
              this.addChild(i),
              i.on("dispose", function () {
                n.removeChild(i);
              }),
              i.open(),
              i
            );
          }),
          (o.updateCurrentBreakpoint_ = function () {
            if (this.responsive())
              for (
                var e = this.currentBreakpoint(),
                  t = this.currentWidth(),
                  n = 0;
                n < Xs.length;
                n++
              ) {
                var i = Xs[n];
                if (t <= this.breakpoints_[i]) {
                  if (e === i) return;
                  e && this.removeClass(Qs[e]),
                    this.addClass(Qs[i]),
                    (this.breakpoint_ = i);
                  break;
                }
              }
          }),
          (o.removeCurrentBreakpoint_ = function () {
            var e = this.currentBreakpointClass();
            (this.breakpoint_ = ""), e && this.removeClass(e);
          }),
          (o.breakpoints = function (e) {
            return (
              void 0 === e ||
                ((this.breakpoint_ = ""),
                (this.breakpoints_ = l({}, Js, e)),
                this.updateCurrentBreakpoint_()),
              l(this.breakpoints_)
            );
          }),
          (o.responsive = function (e) {
            return void 0 === e
              ? this.responsive_
              : (e = Boolean(e)) !== this.responsive_
              ? ((this.responsive_ = e)
                  ? (this.on("playerresize", this.updateCurrentBreakpoint_),
                    this.updateCurrentBreakpoint_())
                  : (this.off("playerresize", this.updateCurrentBreakpoint_),
                    this.removeCurrentBreakpoint_()),
                e)
              : void 0;
          }),
          (o.currentBreakpoint = function () {
            return this.breakpoint_;
          }),
          (o.currentBreakpointClass = function () {
            return Qs[this.breakpoint_] || "";
          }),
          (r.getTagSettings = function (e) {
            var t = {
                sources: [],
                tracks: [],
              },
              n = x(e),
              i = n["data-setup"];
            if (
              (C(e, "vjs-fill") && (n.fill = !0),
              C(e, "vjs-fluid") && (n.fluid = !0),
              null !== i)
            ) {
              var r = si(i || "{}"),
                s = r[0],
                o = r[1];
              s && Gt.error(s), l(n, o);
            }
            if ((l(t, n), e.hasChildNodes()))
              for (var a = e.childNodes, c = 0, u = a.length; u > c; c++) {
                var d = a[c],
                  p = d.nodeName.toLowerCase();
                "source" === p
                  ? t.sources.push(x(d))
                  : "track" === p && t.tracks.push(x(d));
              }
            return t;
          }),
          (o.flexNotSupported_ = function () {
            var e = t.createElement("i");
            return !(
              "flexBasis" in e.style ||
              "webkitFlexBasis" in e.style ||
              "mozFlexBasis" in e.style ||
              "msFlexBasis" in e.style ||
              "msFlexOrder" in e.style
            );
          }),
          r
        );
      })(xn);
    Zi.names.forEach(function (e) {
      var t = Zi[e];
      Zs.prototype[t.getterName] = function () {
        return this.tech_
          ? this.tech_[t.getterName]()
          : ((this[t.privateName] = this[t.privateName] || new t.ListClass()),
            this[t.privateName]);
      };
    }),
      (Zs.players = {});
    var eo = e.navigator;
    (Zs.prototype.options_ = {
      techOrder: hr.defaultTechOrder_,
      html5: {},
      flash: {},
      inactivityTimeout: 2e3,
      playbackRates: [],
      children: [
        "mediaLoader",
        "posterImage",
        "textTrackDisplay",
        "loadingSpinner",
        "bigPlayButton",
        "controlBar",
        "errorDisplay",
        "textTrackSettings",
        "resizeManager",
      ],
      language:
        (eo &&
          ((eo.languages && eo.languages[0]) ||
            eo.userLanguage ||
            eo.language)) ||
        "en",
      languages: {},
      notSupportedMessage: "No compatible source was found for this media.",
      breakpoints: {},
      responsive: !1,
    }),
      ["ended", "seeking", "seekable", "networkState", "readyState"].forEach(
        function (e) {
          Zs.prototype[e] = function () {
            return this.techGet_(e);
          };
        }
      ),
      Gs.forEach(function (e) {
        Zs.prototype["handleTech" + nt(e) + "_"] = function () {
          return this.trigger(e);
        };
      }),
      xn.registerComponent("Player", Zs);
    var to = "plugin",
      no = "activePlugins_",
      io = {},
      ro = function (e) {
        return io.hasOwnProperty(e);
      },
      so = function (e) {
        return ro(e) ? io[e] : void 0;
      },
      oo = function (e, t) {
        (e[no] = e[no] || {}), (e[no][t] = !0);
      },
      ao = function (e, t, n) {
        var i = (n ? "before" : "") + "pluginsetup";
        e.trigger(i, t), e.trigger(i + ":" + t.name, t);
      },
      lo = function (e, t) {
        return (
          (t.prototype.name = e),
          function () {
            ao(
              this,
              {
                name: e,
                plugin: t,
                instance: null,
              },
              !0
            );
            for (var n = arguments.length, i = new Array(n), s = 0; n > s; s++)
              i[s] = arguments[s];
            var o = r(t, [this].concat(i));
            return (
              (this[e] = function () {
                return o;
              }),
              ao(this, o.getEventHash()),
              o
            );
          }
        );
      },
      co = (function () {
        function e(t) {
          if (this.constructor === e)
            throw new Error(
              "Plugin must be sub-classed; not directly instantiated."
            );
          (this.player = t),
            et(this),
            delete this.trigger,
            tt(this, this.constructor.defaultState),
            oo(t, this.name),
            (this.dispose = mn(this, this.dispose)),
            t.on("dispose", this.dispose);
        }
        var t = e.prototype;
        return (
          (t.version = function () {
            return this.constructor.VERSION;
          }),
          (t.getEventHash = function (e) {
            return (
              void 0 === e && (e = {}),
              (e.name = this.name),
              (e.plugin = this.constructor),
              (e.instance = this),
              e
            );
          }),
          (t.trigger = function (e, t) {
            return (
              void 0 === t && (t = {}),
              Q(this.eventBusEl_, e, this.getEventHash(t))
            );
          }),
          (t.handleStateChanged = function () {}),
          (t.dispose = function () {
            var e = this.name,
              t = this.player;
            this.trigger("dispose"),
              this.off(),
              t.off("dispose", this.dispose),
              (t[no][e] = !1),
              (this.player = this.state = null),
              (t[e] = lo(e, io[e]));
          }),
          (e.isBasic = function (t) {
            var n = "string" == typeof t ? so(t) : t;
            return (
              "function" == typeof n && !e.prototype.isPrototypeOf(n.prototype)
            );
          }),
          (e.registerPlugin = function (t, n) {
            if ("string" != typeof t)
              throw new Error(
                'Illegal plugin name, "' +
                  t +
                  '", must be a string, was ' +
                  typeof t +
                  "."
              );
            if (ro(t))
              Gt.warn(
                'A plugin named "' +
                  t +
                  '" already exists. You may want to avoid re-registering plugins!'
              );
            else if (Zs.prototype.hasOwnProperty(t))
              throw new Error(
                'Illegal plugin name, "' +
                  t +
                  '", cannot share a name with an existing player method!'
              );
            if ("function" != typeof n)
              throw new Error(
                'Illegal plugin for "' +
                  t +
                  '", must be a function, was ' +
                  typeof n +
                  "."
              );
            var i, r, s;
            return (
              (io[t] = n),
              t !== to &&
                (Zs.prototype[t] = e.isBasic(n)
                  ? ((i = t),
                    (r = n),
                    (s = function () {
                      ao(
                        this,
                        {
                          name: i,
                          plugin: r,
                          instance: null,
                        },
                        !0
                      );
                      var e = r.apply(this, arguments);
                      return (
                        oo(this, i),
                        ao(this, {
                          name: i,
                          plugin: r,
                          instance: e,
                        }),
                        e
                      );
                    }),
                    Object.keys(r).forEach(function (e) {
                      s[e] = r[e];
                    }),
                    s)
                  : lo(t, n)),
              n
            );
          }),
          (e.deregisterPlugin = function (e) {
            if (e === to) throw new Error("Cannot de-register base plugin.");
            ro(e) && (delete io[e], delete Zs.prototype[e]);
          }),
          (e.getPlugins = function (e) {
            var t;
            return (
              void 0 === e && (e = Object.keys(io)),
              e.forEach(function (e) {
                var n = so(e);
                n && ((t = t || {})[e] = n);
              }),
              t
            );
          }),
          (e.getPluginVersion = function (e) {
            var t = so(e);
            return (t && t.VERSION) || "";
          }),
          e
        );
      })();
    (co.getPlugin = so),
      (co.BASE_PLUGIN_NAME = to),
      co.registerPlugin(to, co),
      (Zs.prototype.usingPlugin = function (e) {
        return !!this[no] && !0 === this[no][e];
      }),
      (Zs.prototype.hasPlugin = function (e) {
        return !!ro(e);
      });
    var uo = function (e) {
      return 0 === e.indexOf("#") ? e.slice(1) : e;
    };
    if (
      ((Ft.hooks_ = {}),
      (Ft.hooks = function (e, t) {
        return (
          (Ft.hooks_[e] = Ft.hooks_[e] || []),
          t && (Ft.hooks_[e] = Ft.hooks_[e].concat(t)),
          Ft.hooks_[e]
        );
      }),
      (Ft.hook = function (e, t) {
        Ft.hooks(e, t);
      }),
      (Ft.hookOnce = function (e, t) {
        Ft.hooks(
          e,
          [].concat(t).map(function (t) {
            return function n() {
              return Ft.removeHook(e, n), t.apply(void 0, arguments);
            };
          })
        );
      }),
      (Ft.removeHook = function (e, t) {
        var n = Ft.hooks(e).indexOf(t);
        return !(
          -1 >= n ||
          ((Ft.hooks_[e] = Ft.hooks_[e].slice()), Ft.hooks_[e].splice(n, 1), 0)
        );
      }),
      !0 !== e.VIDEOJS_NO_DYNAMIC_STYLE && m())
    ) {
      var po = Zt(".vjs-styles-defaults");
      if (!po) {
        po = hn("vjs-styles-defaults");
        var ho = Zt("head");
        ho && ho.insertBefore(po, ho.firstChild),
          fn(
            po,
            "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "
          );
      }
    }
    Z(1, Ft),
      (Ft.VERSION = zt),
      (Ft.options = Zs.prototype.options_),
      (Ft.getPlayers = function () {
        return Zs.players;
      }),
      (Ft.getPlayer = function (e) {
        var t,
          n = Zs.players;
        if ("string" == typeof e) {
          var i = uo(e),
            r = n[i];
          if (r) return r;
          t = Zt("#" + i);
        } else t = e;
        if (g(t)) {
          var s = t,
            o = s.player,
            a = s.playerId;
          if (o || n[a]) return o || n[a];
        }
      }),
      (Ft.getAllPlayers = function () {
        return Object.keys(Zs.players)
          .map(function (e) {
            return Zs.players[e];
          })
          .filter(Boolean);
      }),
      (Ft.players = Zs.players),
      (Ft.getComponent = xn.getComponent),
      (Ft.registerComponent = function (e, t) {
        hr.isTech(t) &&
          Gt.warn(
            "The " +
              e +
              " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"
          ),
          xn.registerComponent.call(xn, e, t);
      }),
      (Ft.getTech = hr.getTech),
      (Ft.registerTech = hr.registerTech),
      (Ft.use = function (e, t) {
        (fr[e] = fr[e] || []), fr[e].push(t);
      }),
      Object.defineProperty(Ft, "middleware", {
        value: {},
        writeable: !1,
        enumerable: !0,
      }),
      Object.defineProperty(Ft.middleware, "TERMINATOR", {
        value: gr,
        writeable: !1,
        enumerable: !0,
      }),
      (Ft.browser = Jn),
      (Ft.TOUCH_ENABLED = Qn),
      (Ft.extend = function (e, t) {
        void 0 === t && (t = {});
        var n = function () {
            e.apply(this, arguments);
          },
          i = {};
        for (var r in ("object" == typeof t
          ? (t.constructor !== Object.prototype.constructor &&
              (n = t.constructor),
            (i = t))
          : "function" == typeof t && (n = t),
        (function (e, t) {
          if ("function" != typeof t && null !== t)
            throw new TypeError(
              "Super expression must either be null or a function, not " +
                typeof t
            );
          (e.prototype = Object.create(t && t.prototype, {
            constructor: {
              value: e,
              enumerable: !1,
              writable: !0,
              configurable: !0,
            },
          })),
            t && (e.super_ = t);
        })(n, e),
        i))
          i.hasOwnProperty(r) && (n.prototype[r] = i[r]);
        return n;
      }),
      (Ft.mergeOptions = it),
      (Ft.bind = mn),
      (Ft.registerPlugin = co.registerPlugin),
      (Ft.deregisterPlugin = co.deregisterPlugin),
      (Ft.plugin = function (e, t) {
        return (
          Gt.warn(
            "videojs.plugin() is deprecated; use videojs.registerPlugin() instead"
          ),
          co.registerPlugin(e, t)
        );
      }),
      (Ft.getPlugins = co.getPlugins),
      (Ft.getPlugin = co.getPlugin),
      (Ft.getPluginVersion = co.getPluginVersion),
      (Ft.addLanguage = function (e, t) {
        var n;
        return (
          (e = ("" + e).toLowerCase()),
          (Ft.options.languages = it(
            Ft.options.languages,
            (((n = {})[e] = t), n)
          )),
          Ft.options.languages[e]
        );
      }),
      (Ft.log = Gt),
      (Ft.createLogger = Yt),
      (Ft.createTimeRange = Ft.createTimeRanges = ot),
      (Ft.formatTime = Nt),
      (Ft.setFormatTime = function (e) {
        Rr = e;
      }),
      (Ft.resetFormatTime = function () {
        Rr = Mr;
      }),
      (Ft.parseUrl = Ei),
      (Ft.isCrossOrigin = Pi),
      (Ft.EventTarget = _n),
      (Ft.on = Y),
      (Ft.one = J),
      (Ft.off = X),
      (Ft.trigger = Q),
      (Ft.xhr = zi),
      (Ft.TextTrack = Ki),
      (Ft.AudioTrack = Gi),
      (Ft.VideoTrack = Yi),
      [
        "isEl",
        "isTextNode",
        "createEl",
        "hasClass",
        "addClass",
        "removeClass",
        "toggleClass",
        "setAttributes",
        "getAttributes",
        "emptyEl",
        "appendContent",
        "insertContent",
      ].forEach(function (e) {
        Ft[e] = function () {
          return (
            Gt.warn(
              "videojs." +
                e +
                "() is deprecated; use videojs.dom." +
                e +
                "() instead"
            ),
            tn[e].apply(null, arguments)
          );
        };
      }),
      (Ft.computedStyle = d),
      (Ft.dom = tn),
      (Ft.url = Oi);
    var fo = dt(function (e) {
        var t, n, i, r, s;
        (t =
          /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/),
          (n = /^([^\/?#]*)(.*)$/),
          (i = /(?:\/|^)\.(?=\/)/g),
          (r = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g),
          (s = {
            buildAbsoluteURL: function (e, t, i) {
              if (((i = i || {}), (e = e.trim()), !(t = t.trim()))) {
                if (!i.alwaysNormalize) return e;
                var r = s.parseURL(e);
                if (!r) throw new Error("Error trying to parse base URL.");
                return (
                  (r.path = s.normalizePath(r.path)), s.buildURLFromParts(r)
                );
              }
              var o = s.parseURL(t);
              if (!o) throw new Error("Error trying to parse relative URL.");
              if (o.scheme)
                return i.alwaysNormalize
                  ? ((o.path = s.normalizePath(o.path)), s.buildURLFromParts(o))
                  : t;
              var a = s.parseURL(e);
              if (!a) throw new Error("Error trying to parse base URL.");
              if (!a.netLoc && a.path && "/" !== a.path[0]) {
                var l = n.exec(a.path);
                (a.netLoc = l[1]), (a.path = l[2]);
              }
              a.netLoc && !a.path && (a.path = "/");
              var c = {
                scheme: a.scheme,
                netLoc: o.netLoc,
                path: null,
                params: o.params,
                query: o.query,
                fragment: o.fragment,
              };
              if (!o.netLoc && ((c.netLoc = a.netLoc), "/" !== o.path[0]))
                if (o.path) {
                  var u = a.path,
                    d = u.substring(0, u.lastIndexOf("/") + 1) + o.path;
                  c.path = s.normalizePath(d);
                } else
                  (c.path = a.path),
                    o.params ||
                      ((c.params = a.params), o.query || (c.query = a.query));
              return (
                null === c.path &&
                  (c.path = i.alwaysNormalize
                    ? s.normalizePath(o.path)
                    : o.path),
                s.buildURLFromParts(c)
              );
            },
            parseURL: function (e) {
              var n = t.exec(e);
              return n
                ? {
                    scheme: n[1] || "",
                    netLoc: n[2] || "",
                    path: n[3] || "",
                    params: n[4] || "",
                    query: n[5] || "",
                    fragment: n[6] || "",
                  }
                : null;
            },
            normalizePath: function (e) {
              for (
                e = e.split("").reverse().join("").replace(i, "");
                e.length !== (e = e.replace(r, "")).length;

              );
              return e.split("").reverse().join("");
            },
            buildURLFromParts: function (e) {
              return (
                e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
              );
            },
          }),
          (e.exports = s);
      }),
      mo = function (e, t) {
        if (!(e instanceof t))
          throw new TypeError("Cannot call a class as a function");
      },
      go =
        Object.assign ||
        function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n)
              Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        },
      _o = function (e, t) {
        if ("function" != typeof t && null !== t)
          throw new TypeError(
            "Super expression must either be null or a function, not " +
              typeof t
          );
        (e.prototype = Object.create(t && t.prototype, {
          constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })),
          t &&
            (Object.setPrototypeOf
              ? Object.setPrototypeOf(e, t)
              : (e.__proto__ = t));
      },
      vo = function (e, t) {
        if (!e)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called"
          );
        return !t || ("object" != typeof t && "function" != typeof t) ? e : t;
      },
      yo = (function () {
        function e() {
          mo(this, e), (this.listeners = {});
        }
        return (
          (e.prototype.on = function (e, t) {
            this.listeners[e] || (this.listeners[e] = []),
              this.listeners[e].push(t);
          }),
          (e.prototype.off = function (e, t) {
            if (!this.listeners[e]) return !1;
            var n = this.listeners[e].indexOf(t);
            return this.listeners[e].splice(n, 1), n > -1;
          }),
          (e.prototype.trigger = function (e) {
            var t = this.listeners[e],
              n = void 0,
              i = void 0,
              r = void 0;
            if (t)
              if (2 === arguments.length)
                for (i = t.length, n = 0; i > n; ++n)
                  t[n].call(this, arguments[1]);
              else
                for (
                  r = Array.prototype.slice.call(arguments, 1),
                    i = t.length,
                    n = 0;
                  i > n;
                  ++n
                )
                  t[n].apply(this, r);
          }),
          (e.prototype.dispose = function () {
            this.listeners = {};
          }),
          (e.prototype.pipe = function (e) {
            this.on("data", function (t) {
              e.push(t);
            });
          }),
          e
        );
      })(),
      bo = (function (e) {
        function t() {
          mo(this, t);
          var n = vo(this, e.call(this));
          return (n.buffer = ""), n;
        }
        return (
          _o(t, e),
          (t.prototype.push = function (e) {
            var t = void 0;
            for (
              this.buffer += e, t = this.buffer.indexOf("\n");
              t > -1;
              t = this.buffer.indexOf("\n")
            )
              this.trigger("data", this.buffer.substring(0, t)),
                (this.buffer = this.buffer.substring(t + 1));
          }),
          t
        );
      })(yo),
      wo = function (e) {
        for (
          var t = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),
            n = {},
            i = t.length,
            r = void 0;
          i--;

        )
          "" !== t[i] &&
            (((r = /([^=]*)=(.*)/.exec(t[i]).slice(1))[0] = r[0].replace(
              /^\s+|\s+$/g,
              ""
            )),
            (r[1] = r[1].replace(/^\s+|\s+$/g, "")),
            (r[1] = r[1].replace(/^['"](.*)['"]$/g, "$1")),
            (n[r[0]] = r[1]));
        return n;
      },
      Co = (function (e) {
        function t() {
          mo(this, t);
          var n = vo(this, e.call(this));
          return (n.customParsers = []), n;
        }
        return (
          _o(t, e),
          (t.prototype.push = function (e) {
            var t = void 0,
              n = void 0;
            if (0 !== (e = e.replace(/^[\u0000\s]+|[\u0000\s]+$/g, "")).length)
              if ("#" === e[0]) {
                for (var i = 0; i < this.customParsers.length; i++)
                  if (this.customParsers[i].call(this, e)) return;
                if (0 === e.indexOf("#EXT"))
                  if (((e = e.replace("\r", "")), (t = /^#EXTM3U/.exec(e))))
                    this.trigger("data", {
                      type: "tag",
                      tagType: "m3u",
                    });
                  else {
                    if ((t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "inf",
                        }),
                        t[1] && (n.duration = parseFloat(t[1])),
                        t[2] && (n.title = t[2]),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "targetduration",
                        }),
                        t[1] && (n.duration = parseInt(t[1], 10)),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "totalduration",
                        }),
                        t[1] && (n.duration = parseInt(t[1], 10)),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "version",
                        }),
                        t[1] && (n.version = parseInt(t[1], 10)),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "media-sequence",
                        }),
                        t[1] && (n.number = parseInt(t[1], 10)),
                        void this.trigger("data", n)
                      );
                    if (
                      (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(
                        e
                      ))
                    )
                      return (
                        (n = {
                          type: "tag",
                          tagType: "discontinuity-sequence",
                        }),
                        t[1] && (n.number = parseInt(t[1], 10)),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "playlist-type",
                        }),
                        t[1] && (n.playlistType = t[1]),
                        void this.trigger("data", n)
                      );
                    if (
                      (t = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))
                    )
                      return (
                        (n = {
                          type: "tag",
                          tagType: "byterange",
                        }),
                        t[1] && (n.length = parseInt(t[1], 10)),
                        t[2] && (n.offset = parseInt(t[2], 10)),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e)))
                      return (
                        (n = {
                          type: "tag",
                          tagType: "allow-cache",
                        }),
                        t[1] && (n.allowed = !/NO/.test(t[1])),
                        void this.trigger("data", n)
                      );
                    if ((t = /^#EXT-X-MAP:?(.*)$/.exec(e))) {
                      if (
                        ((n = {
                          type: "tag",
                          tagType: "map",
                        }),
                        t[1])
                      ) {
                        var r = wo(t[1]);
                        if ((r.URI && (n.uri = r.URI), r.BYTERANGE)) {
                          var s = r.BYTERANGE.split("@"),
                            o = s[0],
                            a = s[1];
                          (n.byterange = {}),
                            o && (n.byterange.length = parseInt(o, 10)),
                            a && (n.byterange.offset = parseInt(a, 10));
                        }
                      }
                      this.trigger("data", n);
                    } else if ((t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e))) {
                      if (
                        ((n = {
                          type: "tag",
                          tagType: "stream-inf",
                        }),
                        t[1])
                      ) {
                        if (
                          ((n.attributes = wo(t[1])), n.attributes.RESOLUTION)
                        ) {
                          var l = n.attributes.RESOLUTION.split("x"),
                            c = {};
                          l[0] && (c.width = parseInt(l[0], 10)),
                            l[1] && (c.height = parseInt(l[1], 10)),
                            (n.attributes.RESOLUTION = c);
                        }
                        n.attributes.BANDWIDTH &&
                          (n.attributes.BANDWIDTH = parseInt(
                            n.attributes.BANDWIDTH,
                            10
                          )),
                          n.attributes["PROGRAM-ID"] &&
                            (n.attributes["PROGRAM-ID"] = parseInt(
                              n.attributes["PROGRAM-ID"],
                              10
                            ));
                      }
                      this.trigger("data", n);
                    } else {
                      if ((t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)))
                        return (
                          (n = {
                            type: "tag",
                            tagType: "media",
                          }),
                          t[1] && (n.attributes = wo(t[1])),
                          void this.trigger("data", n)
                        );
                      if ((t = /^#EXT-X-ENDLIST/.exec(e)))
                        this.trigger("data", {
                          type: "tag",
                          tagType: "endlist",
                        });
                      else if ((t = /^#EXT-X-DISCONTINUITY/.exec(e)))
                        this.trigger("data", {
                          type: "tag",
                          tagType: "discontinuity",
                        });
                      else {
                        if ((t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "program-date-time",
                            }),
                            t[1] &&
                              ((n.dateTimeString = t[1]),
                              (n.dateTimeObject = new Date(t[1]))),
                            void this.trigger("data", n)
                          );
                        if ((t = /^#EXT-X-KEY:?(.*)$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "key",
                            }),
                            t[1] &&
                              ((n.attributes = wo(t[1])),
                              n.attributes.IV &&
                                ("0x" ===
                                  n.attributes.IV.substring(
                                    0,
                                    2
                                  ).toLowerCase() &&
                                  (n.attributes.IV =
                                    n.attributes.IV.substring(2)),
                                (n.attributes.IV =
                                  n.attributes.IV.match(/.{8}/g)),
                                (n.attributes.IV[0] = parseInt(
                                  n.attributes.IV[0],
                                  16
                                )),
                                (n.attributes.IV[1] = parseInt(
                                  n.attributes.IV[1],
                                  16
                                )),
                                (n.attributes.IV[2] = parseInt(
                                  n.attributes.IV[2],
                                  16
                                )),
                                (n.attributes.IV[3] = parseInt(
                                  n.attributes.IV[3],
                                  16
                                )),
                                (n.attributes.IV = new Uint32Array(
                                  n.attributes.IV
                                )))),
                            void this.trigger("data", n)
                          );
                        if ((t = /^#EXT-X-START:?(.*)$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "start",
                            }),
                            t[1] &&
                              ((n.attributes = wo(t[1])),
                              (n.attributes["TIME-OFFSET"] = parseFloat(
                                n.attributes["TIME-OFFSET"]
                              )),
                              (n.attributes.PRECISE = /YES/.test(
                                n.attributes.PRECISE
                              ))),
                            void this.trigger("data", n)
                          );
                        if ((t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "cue-out-cont",
                            }),
                            (n.data = t[1] ? t[1] : ""),
                            void this.trigger("data", n)
                          );
                        if ((t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "cue-out",
                            }),
                            (n.data = t[1] ? t[1] : ""),
                            void this.trigger("data", n)
                          );
                        if ((t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)))
                          return (
                            (n = {
                              type: "tag",
                              tagType: "cue-in",
                            }),
                            (n.data = t[1] ? t[1] : ""),
                            void this.trigger("data", n)
                          );
                        this.trigger("data", {
                          type: "tag",
                          data: e.slice(4),
                        });
                      }
                    }
                  }
                else
                  this.trigger("data", {
                    type: "comment",
                    text: e.slice(1),
                  });
              } else
                this.trigger("data", {
                  type: "uri",
                  uri: e,
                });
          }),
          (t.prototype.addParser = function (e) {
            var t = this,
              n = e.expression,
              i = e.customType,
              r = e.dataParser,
              s = e.segment;
            "function" != typeof r &&
              (r = function (e) {
                return e;
              }),
              this.customParsers.push(function (e) {
                return n.exec(e)
                  ? (t.trigger("data", {
                      type: "custom",
                      data: r(e),
                      customType: i,
                      segment: s,
                    }),
                    !0)
                  : void 0;
              });
          }),
          t
        );
      })(yo),
      ko = (function (e) {
        function t() {
          mo(this, t);
          var n = vo(this, e.call(this));
          (n.lineStream = new bo()),
            (n.parseStream = new Co()),
            n.lineStream.pipe(n.parseStream);
          var i = n,
            r = [],
            s = {},
            o = void 0,
            a = void 0,
            l = {
              AUDIO: {},
              VIDEO: {},
              "CLOSED-CAPTIONS": {},
              SUBTITLES: {},
            },
            c = 0;
          return (
            (n.manifest = {
              allowCache: !0,
              discontinuityStarts: [],
              segments: [],
            }),
            n.parseStream.on("data", function (e) {
              var t = void 0,
                n = void 0;
              ({
                tag: function () {
                  ((
                    {
                      "allow-cache": function () {
                        (this.manifest.allowCache = e.allowed),
                          "allowed" in e ||
                            (this.trigger("info", {
                              message: "defaulting allowCache to YES",
                            }),
                            (this.manifest.allowCache = !0));
                      },
                      byterange: function () {
                        var t = {};
                        "length" in e &&
                          (((s.byterange = t).length = e.length),
                          "offset" in e ||
                            (this.trigger("info", {
                              message: "defaulting offset to zero",
                            }),
                            (e.offset = 0))),
                          "offset" in e &&
                            ((s.byterange = t).offset = e.offset);
                      },
                      endlist: function () {
                        this.manifest.endList = !0;
                      },
                      inf: function () {
                        "mediaSequence" in this.manifest ||
                          ((this.manifest.mediaSequence = 0),
                          this.trigger("info", {
                            message: "defaulting media sequence to zero",
                          })),
                          "discontinuitySequence" in this.manifest ||
                            ((this.manifest.discontinuitySequence = 0),
                            this.trigger("info", {
                              message:
                                "defaulting discontinuity sequence to zero",
                            })),
                          0 < e.duration && (s.duration = e.duration),
                          0 === e.duration &&
                            ((s.duration = 0.01),
                            this.trigger("info", {
                              message:
                                "updating zero segment duration to a small value",
                            })),
                          (this.manifest.segments = r);
                      },
                      key: function () {
                        e.attributes
                          ? "NONE" !== e.attributes.METHOD
                            ? e.attributes.URI
                              ? (e.attributes.METHOD ||
                                  this.trigger("warn", {
                                    message: "defaulting key method to AES-128",
                                  }),
                                (a = {
                                  method: e.attributes.METHOD || "AES-128",
                                  uri: e.attributes.URI,
                                }),
                                "undefined" != typeof e.attributes.IV &&
                                  (a.iv = e.attributes.IV))
                              : this.trigger("warn", {
                                  message:
                                    "ignoring key declaration without URI",
                                })
                            : (a = null)
                          : this.trigger("warn", {
                              message:
                                "ignoring key declaration without attribute list",
                            });
                      },
                      "media-sequence": function () {
                        isFinite(e.number)
                          ? (this.manifest.mediaSequence = e.number)
                          : this.trigger("warn", {
                              message:
                                "ignoring invalid media sequence: " + e.number,
                            });
                      },
                      "discontinuity-sequence": function () {
                        isFinite(e.number)
                          ? ((this.manifest.discontinuitySequence = e.number),
                            (c = e.number))
                          : this.trigger("warn", {
                              message:
                                "ignoring invalid discontinuity sequence: " +
                                e.number,
                            });
                      },
                      "playlist-type": function () {
                        /VOD|EVENT/.test(e.playlistType)
                          ? (this.manifest.playlistType = e.playlistType)
                          : this.trigger("warn", {
                              message:
                                "ignoring unknown playlist type: " + e.playlist,
                            });
                      },
                      map: function () {
                        (o = {}),
                          e.uri && (o.uri = e.uri),
                          e.byterange && (o.byterange = e.byterange);
                      },
                      "stream-inf": function () {
                        (this.manifest.playlists = r),
                          (this.manifest.mediaGroups =
                            this.manifest.mediaGroups || l),
                          e.attributes
                            ? (s.attributes || (s.attributes = {}),
                              go(s.attributes, e.attributes))
                            : this.trigger("warn", {
                                message: "ignoring empty stream-inf attributes",
                              });
                      },
                      media: function () {
                        if (
                          ((this.manifest.mediaGroups =
                            this.manifest.mediaGroups || l),
                          e.attributes &&
                            e.attributes.TYPE &&
                            e.attributes["GROUP-ID"] &&
                            e.attributes.NAME)
                        ) {
                          var i = this.manifest.mediaGroups[e.attributes.TYPE];
                          (i[e.attributes["GROUP-ID"]] =
                            i[e.attributes["GROUP-ID"]] || {}),
                            (t = i[e.attributes["GROUP-ID"]]),
                            (n.autoselect = (n = {
                              default: /yes/i.test(e.attributes.DEFAULT),
                            })["default"]
                              ? !0
                              : /yes/i.test(e.attributes.AUTOSELECT)),
                            e.attributes.LANGUAGE &&
                              (n.language = e.attributes.LANGUAGE),
                            e.attributes.URI && (n.uri = e.attributes.URI),
                            e.attributes["INSTREAM-ID"] &&
                              (n.instreamId = e.attributes["INSTREAM-ID"]),
                            e.attributes.CHARACTERISTICS &&
                              (n.characteristics =
                                e.attributes.CHARACTERISTICS),
                            e.attributes.FORCED &&
                              (n.forced = /yes/i.test(e.attributes.FORCED)),
                            (t[e.attributes.NAME] = n);
                        } else
                          this.trigger("warn", {
                            message:
                              "ignoring incomplete or missing media group",
                          });
                      },
                      discontinuity: function () {
                        (c += 1),
                          (s.discontinuity = !0),
                          this.manifest.discontinuityStarts.push(r.length);
                      },
                      "program-date-time": function () {
                        "undefined" == typeof this.manifest.dateTimeString &&
                          ((this.manifest.dateTimeString = e.dateTimeString),
                          (this.manifest.dateTimeObject = e.dateTimeObject)),
                          (s.dateTimeString = e.dateTimeString),
                          (s.dateTimeObject = e.dateTimeObject);
                      },
                      targetduration: function () {
                        !isFinite(e.duration) || e.duration < 0
                          ? this.trigger("warn", {
                              message:
                                "ignoring invalid target duration: " +
                                e.duration,
                            })
                          : (this.manifest.targetDuration = e.duration);
                      },
                      totalduration: function () {
                        !isFinite(e.duration) || e.duration < 0
                          ? this.trigger("warn", {
                              message:
                                "ignoring invalid total duration: " +
                                e.duration,
                            })
                          : (this.manifest.totalDuration = e.duration);
                      },
                      start: function () {
                        e.attributes && !isNaN(e.attributes["TIME-OFFSET"])
                          ? (this.manifest.start = {
                              timeOffset: e.attributes["TIME-OFFSET"],
                              precise: e.attributes.PRECISE,
                            })
                          : this.trigger("warn", {
                              message:
                                "ignoring start declaration without appropriate attribute list",
                            });
                      },
                      "cue-out": function () {
                        s.cueOut = e.data;
                      },
                      "cue-out-cont": function () {
                        s.cueOutCont = e.data;
                      },
                      "cue-in": function () {
                        s.cueIn = e.data;
                      },
                    }[e.tagType] || function () {}
                  ).call(i));
                },
                uri: function () {
                  (s.uri = e.uri),
                    r.push(s),
                    !this.manifest.targetDuration ||
                      "duration" in s ||
                      (this.trigger("warn", {
                        message:
                          "defaulting segment duration to the target duration",
                      }),
                      (s.duration = this.manifest.targetDuration)),
                    a && (s.key = a),
                    (s.timeline = c),
                    o && (s.map = o),
                    (s = {});
                },
                comment: function () {},
                custom: function () {
                  e.segment
                    ? ((s.custom = s.custom || {}),
                      (s.custom[e.customType] = e.data))
                    : ((this.manifest.custom = this.manifest.custom || {}),
                      (this.manifest.custom[e.customType] = e.data));
                },
              }[e.type].call(i));
            }),
            n
          );
        }
        return (
          _o(t, e),
          (t.prototype.push = function (e) {
            this.lineStream.push(e);
          }),
          (t.prototype.end = function () {
            this.lineStream.push("\n");
          }),
          (t.prototype.addParser = function (e) {
            this.parseStream.addParser(e);
          }),
          t
        );
      })(yo),
      To = function (e) {
        return !!e && "object" == typeof e;
      },
      Eo = function xp() {
        for (var e = arguments.length, t = new Array(e), n = 0; e > n; n++)
          t[n] = arguments[n];
        return t.reduce(function (e, t) {
          return (
            Object.keys(t).forEach(function (n) {
              e[n] =
                Array.isArray(e[n]) && Array.isArray(t[n])
                  ? e[n].concat(t[n])
                  : To(e[n]) && To(t[n])
                  ? xp(e[n], t[n])
                  : t[n];
            }),
            e
          );
        }, {});
      },
      So = function (e) {
        return e.reduce(function (e, t) {
          return e.concat(t);
        }, []);
      },
      xo = function (e) {
        if (!e.length) return [];
        for (var t = [], n = 0; n < e.length; n++) t.push(e[n]);
        return t;
      },
      Po = function (e) {
        var t;
        return ((t = e.reduce(function (e, t) {
          var n,
            i = t.attributes.id + (t.attributes.lang || "");
          return (
            e[i]
              ? ((t.segments[0].discontinuity = !0),
                (n = e[i].segments).push.apply(n, t.segments),
                t.attributes.contentProtection &&
                  (e[i].attributes.contentProtection =
                    t.attributes.contentProtection))
              : (e[i] = t),
            e
          );
        }, {})),
        Object.keys(t).map(function (e) {
          return t[e];
        })).map(function (e) {
          var t, n;
          return (
            (e.discontinuityStarts =
              ((t = e.segments),
              (n = "discontinuity"),
              t.reduce(function (e, t, i) {
                return t[n] && e.push(i), e;
              }, []))),
            e
          );
        });
      },
      Oo = function (e) {
        var t,
          n = e.attributes,
          i = e.segments,
          r = {
            attributes:
              ((t = {
                NAME: n.id,
                AUDIO: "audio",
                SUBTITLES: "subs",
                RESOLUTION: {
                  width: n.width,
                  height: n.height,
                },
                CODECS: n.codecs,
                BANDWIDTH: n.bandwidth,
              }),
              (t["PROGRAM-ID"] = 1),
              t),
            uri: "",
            endList: "static" === (n.type || "static"),
            timeline: n.periodIndex,
            resolvedUri: "",
            targetDuration: n.duration,
            segments: i,
            mediaSequence: i.length ? i[0].number : 1,
          };
        return (
          n.contentProtection && (r.contentProtection = n.contentProtection), r
        );
      };
    "undefined" != typeof window
      ? window
      : "undefined" != typeof global
      ? global
      : "undefined" != typeof self && self;
    var Ao,
      Io,
      Do,
      Mo,
      Ro,
      jo,
      Lo =
        ((function (e) {
          var t, n, i, r, s;
          (t =
            /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/),
            (n = /^([^\/?#]*)(.*)$/),
            (i = /(?:\/|^)\.(?=\/)/g),
            (r = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g),
            (s = {
              buildAbsoluteURL: function (e, t, i) {
                if (((i = i || {}), (e = e.trim()), !(t = t.trim()))) {
                  if (!i.alwaysNormalize) return e;
                  var r = s.parseURL(e);
                  if (!r) throw new Error("Error trying to parse base URL.");
                  return (
                    (r.path = s.normalizePath(r.path)), s.buildURLFromParts(r)
                  );
                }
                var o = s.parseURL(t);
                if (!o) throw new Error("Error trying to parse relative URL.");
                if (o.scheme)
                  return i.alwaysNormalize
                    ? ((o.path = s.normalizePath(o.path)),
                      s.buildURLFromParts(o))
                    : t;
                var a = s.parseURL(e);
                if (!a) throw new Error("Error trying to parse base URL.");
                if (!a.netLoc && a.path && "/" !== a.path[0]) {
                  var l = n.exec(a.path);
                  (a.netLoc = l[1]), (a.path = l[2]);
                }
                a.netLoc && !a.path && (a.path = "/");
                var c = {
                  scheme: a.scheme,
                  netLoc: o.netLoc,
                  path: null,
                  params: o.params,
                  query: o.query,
                  fragment: o.fragment,
                };
                if (!o.netLoc && ((c.netLoc = a.netLoc), "/" !== o.path[0]))
                  if (o.path) {
                    var u = a.path,
                      d = u.substring(0, u.lastIndexOf("/") + 1) + o.path;
                    c.path = s.normalizePath(d);
                  } else
                    (c.path = a.path),
                      o.params ||
                        ((c.params = a.params), o.query || (c.query = a.query));
                return (
                  null === c.path &&
                    (c.path = i.alwaysNormalize
                      ? s.normalizePath(o.path)
                      : o.path),
                  s.buildURLFromParts(c)
                );
              },
              parseURL: function (e) {
                var n = t.exec(e);
                return n
                  ? {
                      scheme: n[1] || "",
                      netLoc: n[2] || "",
                      path: n[3] || "",
                      params: n[4] || "",
                      query: n[5] || "",
                      fragment: n[6] || "",
                    }
                  : null;
              },
              normalizePath: function (e) {
                for (
                  e = e.split("").reverse().join("").replace(i, "");
                  e.length !== (e = e.replace(r, "")).length;

                );
                return e.split("").reverse().join("");
              },
              buildURLFromParts: function (e) {
                return (
                  e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                );
              },
            }),
            (e.exports = s);
        })(
          (Ao = {
            exports: {},
          }),
          Ao.exports
        ),
        Ao.exports),
      No = function (t, n) {
        return /^[a-z]+:/i.test(n)
          ? n
          : (/\/\//i.test(t) || (t = Lo.buildAbsoluteURL(e.location.href, t)),
            Lo.buildAbsoluteURL(t, n));
      },
      Uo = function (e) {
        var t = e.baseUrl,
          n = void 0 === t ? "" : t,
          i = e.source,
          r = void 0 === i ? "" : i,
          s = e.range,
          o = void 0 === s ? "" : s,
          a = {
            uri: r,
            resolvedUri: No(n || "", r),
          };
        if (o) {
          var l = o.split("-"),
            c = parseInt(l[0], 10),
            u = parseInt(l[1], 10);
          a.byterange = {
            length: u - c,
            offset: c,
          };
        }
        return a;
      },
      Bo = function (e, t) {
        for (
          var n,
            i,
            r,
            s,
            o,
            a,
            l,
            c,
            u,
            d,
            p,
            h,
            f = e.type,
            m = void 0 === f ? "static" : f,
            g = e.minimumUpdatePeriod,
            _ = void 0 === g ? 0 : g,
            v = e.media,
            y = void 0 === v ? "" : v,
            b = e.sourceDuration,
            w = e.timescale,
            C = void 0 === w ? 1 : w,
            k = e.startNumber,
            T = void 0 === k ? 1 : k,
            E = e.periodIndex,
            S = [],
            x = -1,
            P = 0;
          P < t.length;
          P++
        ) {
          var O = t[P],
            A = O.d,
            I = O.r || 0,
            D = O.t || 0;
          0 > x && (x = D), D && D > x && (x = D);
          var M = void 0;
          if (0 > I) {
            var R = P + 1;
            M =
              R === t.length
                ? "dynamic" === m && _ > 0 && 0 < y.indexOf("$Number$")
                  ? ((i = x),
                    (r = A),
                    (s = (n = e).NOW),
                    (o = n.clientOffset),
                    (a = n.availabilityStartTime),
                    (l = n.timescale),
                    (c = void 0 === l ? 1 : l),
                    (u = n.start),
                    (d = void 0 === u ? 0 : u),
                    (p = n.minimumUpdatePeriod),
                    (h = (s + o) / 1e3 + (void 0 === p ? 0 : p) - (a + d)),
                    Math.ceil((h * c - i) / r))
                  : (b * C - x) / A
                : (t[R].t - x) / A;
          } else M = I + 1;
          for (var j = T + S.length + M, L = T + S.length; j > L; )
            S.push({
              number: L,
              duration: A / C,
              time: x,
              timeline: E,
            }),
              (x += A),
              L++;
        }
        return S;
      },
      $o = {
        static: function (e) {
          var t = e.duration,
            n = e.timescale,
            i = void 0 === n ? 1 : n,
            r = e.sourceDuration;
          return {
            start: 0,
            end: Math.ceil(r / (t / i)),
          };
        },
        dynamic: function (e) {
          var t = e.NOW,
            n = e.clientOffset,
            i = e.availabilityStartTime,
            r = e.timescale,
            s = void 0 === r ? 1 : r,
            o = e.duration,
            a = e.start,
            l = void 0 === a ? 0 : a,
            c = e.minimumUpdatePeriod,
            u = void 0 === c ? 0 : c,
            d = e.timeShiftBufferDepth,
            p = void 0 === d ? 1 / 0 : d,
            h = (t + n) / 1e3,
            f = i + l,
            m = h + u - f,
            g = Math.ceil((m * s) / o),
            _ = Math.floor(((h - f - p) * s) / o),
            v = Math.floor(((h - f) * s) / o);
          return {
            start: Math.max(0, _),
            end: Math.min(g, v),
          };
        },
      },
      Fo = function (e) {
        var t,
          n = e.type,
          i = void 0 === n ? "static" : n,
          r = e.duration,
          s = e.timescale,
          o = void 0 === s ? 1 : s,
          a = e.sourceDuration,
          l = $o[i](e),
          c = (function (e, t) {
            for (var n = [], i = e; t > i; i++) n.push(i);
            return n;
          })(l.start, l.end).map(
            ((t = e),
            function (e, n) {
              var i = t.duration,
                r = t.timescale,
                s = void 0 === r ? 1 : r,
                o = t.periodIndex,
                a = t.startNumber;
              return {
                number: (void 0 === a ? 1 : a) + e,
                duration: i / s,
                timeline: o,
                time: n * i,
              };
            })
          );
        if ("static" === i) {
          var u = c.length - 1;
          c[u].duration = a - (r / o) * u;
        }
        return c;
      },
      Ho = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
      Wo = function (e, t) {
        return e.replace(
          Ho,
          ((n = t),
          function (e, t, i, r) {
            if ("$$" === e) return "$";
            if ("undefined" == typeof n[t]) return e;
            var s = "" + n[t];
            return "RepresentationID" === t
              ? s
              : (r = i ? parseInt(r, 10) : 1) <= s.length
              ? s
              : "" + new Array(r - s.length + 1).join("0") + s;
          })
        );
        var n;
      },
      qo = function (e, t) {
        var n,
          i,
          r = {
            RepresentationID: e.id,
            Bandwidth: e.bandwidth || 0,
          },
          s = e.initialization,
          o =
            void 0 === s
              ? {
                  sourceURL: "",
                  range: "",
                }
              : s,
          a = Uo({
            baseUrl: e.baseUrl,
            source: Wo(o.sourceURL, r),
            range: o.range,
          });
        return ((i = t),
        (n = e).duration || i
          ? n.duration
            ? Fo(n)
            : Bo(n, i)
          : [
              {
                number: n.startNumber || 1,
                duration: n.sourceDuration,
                time: 0,
                timeline: n.periodIndex,
              },
            ]).map(function (t) {
          (r.Number = t.number), (r.Time = t.time);
          var n = Wo(e.media || "", r);
          return {
            uri: n,
            timeline: t.timeline,
            duration: t.duration,
            resolvedUri: No(e.baseUrl || "", n),
            map: a,
            number: t.number,
          };
        });
      },
      zo = "INVALID_NUMBER_OF_PERIOD",
      Vo = "DASH_EMPTY_MANIFEST",
      Ko = "DASH_INVALID_XML",
      Go = "NO_BASE_URL",
      Yo = "SEGMENT_TIME_UNSPECIFIED",
      Xo = "UNSUPPORTED_UTC_TIMING_SCHEME",
      Qo = function (e, t) {
        var n = e.duration,
          i = e.segmentUrls,
          r = void 0 === i ? [] : i;
        if ((!n && !t) || (n && t)) throw new Error(Yo);
        var s,
          o = r.map(function (t) {
            return (
              (i = t),
              (r = (n = e).baseUrl),
              (s = n.initialization),
              (a = Uo({
                baseUrl: r,
                source: (o = void 0 === s ? {} : s).sourceURL,
                range: o.range,
              })),
              ((l = Uo({
                baseUrl: r,
                source: i.media,
                range: i.mediaRange,
              })).map = a),
              l
            );
            var n, i, r, s, o, a, l;
          });
        return (
          n && (s = Fo(e)),
          t && (s = Bo(e, t)),
          s
            .map(function (e, t) {
              if (o[t]) {
                var n = o[t];
                return (
                  (n.timeline = e.timeline),
                  (n.duration = e.duration),
                  (n.number = e.number),
                  n
                );
              }
            })
            .filter(function (e) {
              return e;
            })
        );
      },
      Jo = function (e) {
        var t = e.baseUrl,
          n = e.initialization,
          i = void 0 === n ? {} : n,
          r = e.sourceDuration,
          s = e.timescale,
          o = void 0 === s ? 1 : s,
          a = e.indexRange,
          l = void 0 === a ? "" : a,
          c = e.duration;
        if (!t) throw new Error(Go);
        var u = Uo({
            baseUrl: t,
            source: i.sourceURL,
            range: i.range,
          }),
          d = Uo({
            baseUrl: t,
            source: t,
            range: l,
          });
        if (((d.map = u), c)) {
          var p = Fo(e);
          p.length &&
            ((d.duration = p[0].duration), (d.timeline = p[0].timeline));
        } else r && ((d.duration = r / o), (d.timeline = 0));
        return (d.number = 0), [d];
      },
      Zo = function (e) {
        var t,
          n,
          i = e.attributes,
          r = e.segmentInfo;
        if (
          (r.template
            ? ((n = qo), (t = Eo(i, r.template)))
            : r.base
            ? ((n = Jo), (t = Eo(i, r.base)))
            : r.list && ((n = Qo), (t = Eo(i, r.list))),
          !n)
        )
          return {
            attributes: i,
          };
        var s = n(t, r.timeline);
        if (t.duration) {
          var o = t,
            a = o.duration,
            l = o.timescale,
            c = void 0 === l ? 1 : l;
          t.duration = a / c;
        } else
          t.duration = s.length
            ? s.reduce(function (e, t) {
                return Math.max(e, Math.ceil(t.duration));
              }, 0)
            : 0;
        return {
          attributes: t,
          segments: s,
        };
      },
      ea = function (e, t) {
        return xo(e.childNodes).filter(function (e) {
          return e.tagName === t;
        });
      },
      ta = function (e) {
        return e.textContent.trim();
      },
      na = function (e) {
        var t =
          /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(
            e
          );
        if (!t) return 0;
        var n = t.slice(1),
          i = n[0],
          r = n[1],
          s = n[2],
          o = n[3],
          a = n[4],
          l = n[5];
        return (
          31536e3 * parseFloat(i || 0) +
          2592e3 * parseFloat(r || 0) +
          86400 * parseFloat(s || 0) +
          3600 * parseFloat(o || 0) +
          60 * parseFloat(a || 0) +
          parseFloat(l || 0)
        );
      },
      ia = {
        mediaPresentationDuration: function (e) {
          return na(e);
        },
        availabilityStartTime: function (e) {
          return (
            /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test((t = e)) && (t += "Z"),
            Date.parse(t) / 1e3
          );
          var t;
        },
        minimumUpdatePeriod: function (e) {
          return na(e);
        },
        timeShiftBufferDepth: function (e) {
          return na(e);
        },
        start: function (e) {
          return na(e);
        },
        width: function (e) {
          return parseInt(e, 10);
        },
        height: function (e) {
          return parseInt(e, 10);
        },
        bandwidth: function (e) {
          return parseInt(e, 10);
        },
        startNumber: function (e) {
          return parseInt(e, 10);
        },
        timescale: function (e) {
          return parseInt(e, 10);
        },
        duration: function (e) {
          var t = parseInt(e, 10);
          return isNaN(t) ? na(e) : t;
        },
        d: function (e) {
          return parseInt(e, 10);
        },
        t: function (e) {
          return parseInt(e, 10);
        },
        r: function (e) {
          return parseInt(e, 10);
        },
        DEFAULT: function (e) {
          return e;
        },
      },
      ra = function (e) {
        return e && e.attributes
          ? xo(e.attributes).reduce(function (e, t) {
              var n = ia[t.name] || ia.DEFAULT;
              return (e[t.name] = n(t.value)), e;
            }, {})
          : {};
      },
      sa = {
        "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
        "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
        "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":
          "com.microsoft.playready",
        "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime",
      },
      oa = function (e, t) {
        return t.length
          ? So(
              e.map(function (e) {
                return t.map(function (t) {
                  return No(e, ta(t));
                });
              })
            )
          : e;
      },
      aa = function (e) {
        var t = ea(e, "SegmentTemplate")[0],
          n = ea(e, "SegmentList")[0],
          i =
            n &&
            ea(n, "SegmentURL").map(function (e) {
              return Eo(
                {
                  tag: "SegmentURL",
                },
                ra(e)
              );
            }),
          r = ea(e, "SegmentBase")[0],
          s = n || t,
          o = s && ea(s, "SegmentTimeline")[0],
          a = n || r || t,
          l = a && ea(a, "Initialization")[0],
          c = t && ra(t);
        c && l
          ? (c.initialization = l && ra(l))
          : c &&
            c.initialization &&
            (c.initialization = {
              sourceURL: c.initialization,
            });
        var u = {
          template: c,
          timeline:
            o &&
            ea(o, "S").map(function (e) {
              return ra(e);
            }),
          list:
            n &&
            Eo(ra(n), {
              segmentUrls: i,
              initialization: ra(l),
            }),
          base:
            r &&
            Eo(ra(r), {
              initialization: ra(l),
            }),
        };
        return (
          Object.keys(u).forEach(function (e) {
            u[e] || delete u[e];
          }),
          u
        );
      },
      la = function (t) {
        return t.reduce(function (t, n) {
          var i = ra(n),
            r = sa[i.schemeIdUri];
          if (r) {
            t[r] = {
              attributes: i,
            };
            var s = ea(n, "cenc:pssh")[0];
            if (s) {
              var o = ta(s),
                a =
                  o &&
                  (function (t) {
                    for (
                      var n = e.atob(t), i = new Uint8Array(n.length), r = 0;
                      r < n.length;
                      r++
                    )
                      i[r] = n.charCodeAt(r);
                    return i;
                  })(o);
              t[r].pssh = a;
            }
          }
          return t;
        }, {});
      },
      ca = function (e, t, n) {
        return function (i) {
          var r = ra(i),
            s = oa(t, ea(i, "BaseURL")),
            o = ea(i, "Role")[0],
            a = {
              role: ra(o),
            },
            l = Eo(e, r, a),
            c = la(ea(i, "ContentProtection"));
          Object.keys(c).length &&
            (l = Eo(l, {
              contentProtection: c,
            }));
          var u,
            d,
            p,
            h = aa(i),
            f = ea(i, "Representation"),
            m = Eo(n, h);
          return So(
            f.map(
              ((u = l),
              (d = s),
              (p = m),
              function (e) {
                var t = ea(e, "BaseURL"),
                  n = oa(d, t),
                  i = Eo(u, ra(e)),
                  r = aa(e);
                return n.map(function (e) {
                  return {
                    segmentInfo: Eo(p, r),
                    attributes: Eo(i, {
                      baseUrl: e,
                    }),
                  };
                });
              })
            )
          );
        };
      },
      ua = function (t, n) {
        void 0 === n && (n = {});
        var i = n,
          r = i.manifestUri,
          s = void 0 === r ? "" : r,
          o = i.NOW,
          a = void 0 === o ? Date.now() : o,
          l = i.clientOffset,
          c = void 0 === l ? 0 : l,
          u = ea(t, "Period");
        if (!u.length) throw new Error(zo);
        var d,
          p,
          h = ra(t),
          f = oa([s], ea(t, "BaseURL"));
        return (
          (h.sourceDuration = h.mediaPresentationDuration || 0),
          (h.NOW = a),
          (h.clientOffset = c),
          So(
            u.map(
              ((d = h),
              (p = f),
              function (t, n) {
                var i = oa(p, ea(t, "BaseURL")),
                  r = ra(t),
                  s = parseInt(r.id, 10),
                  o = e.isNaN(s) ? n : s,
                  a = Eo(d, {
                    periodIndex: o,
                  }),
                  l = ea(t, "AdaptationSet"),
                  c = aa(t);
                return So(l.map(ca(a, i, c)));
              })
            )
          )
        );
      },
      da = function (t) {
        if ("" === t) throw new Error(Vo);
        var n = new e.DOMParser().parseFromString(t, "application/xml"),
          i =
            n && "MPD" === n.documentElement.tagName ? n.documentElement : null;
        if (!i || (i && 0 < i.getElementsByTagName("parsererror").length))
          throw new Error(Ko);
        return i;
      },
      pa = function (e, t) {
        return (function (e) {
          var t;
          if (!e.length) return {};
          var n = e[0].attributes,
            i = n.sourceDuration,
            r = n.minimumUpdatePeriod,
            s = void 0 === r ? 0 : r,
            o = Po(
              e.filter(function (e) {
                var t = e.attributes;
                return "video/mp4" === t.mimeType || "video" === t.contentType;
              })
            ).map(Oo),
            a = Po(
              e.filter(function (e) {
                var t = e.attributes;
                return "audio/mp4" === t.mimeType || "audio" === t.contentType;
              })
            ),
            l = e.filter(function (e) {
              var t = e.attributes;
              return "text/vtt" === t.mimeType || "text" === t.contentType;
            }),
            c = {
              allowCache: !0,
              discontinuityStarts: [],
              segments: [],
              endList: !0,
              mediaGroups:
                ((t = {
                  AUDIO: {},
                  VIDEO: {},
                }),
                (t["CLOSED-CAPTIONS"] = {}),
                (t.SUBTITLES = {}),
                t),
              uri: "",
              duration: i,
              playlists: o,
              minimumUpdatePeriod: 1e3 * s,
            };
          return (
            a.length &&
              (c.mediaGroups.AUDIO.audio = a.reduce(function (e, t) {
                var n,
                  i,
                  r,
                  s,
                  o,
                  a = (t.attributes.role && t.attributes.role.value) || "main",
                  l = t.attributes.lang || "",
                  c = "main";
                return (
                  l && (c = t.attributes.lang + " (" + a + ")"),
                  (e[c] &&
                    e[c].playlists[0].attributes.BANDWIDTH >
                      t.attributes.bandwidth) ||
                    (e[c] = {
                      language: l,
                      autoselect: !0,
                      default: "main" === a,
                      playlists: [
                        ((n = t),
                        (r = n.attributes),
                        (s = n.segments),
                        (o = {
                          attributes:
                            ((i = {
                              NAME: r.id,
                              BANDWIDTH: r.bandwidth,
                              CODECS: r.codecs,
                            }),
                            (i["PROGRAM-ID"] = 1),
                            i),
                          uri: "",
                          endList: "static" === (r.type || "static"),
                          timeline: r.periodIndex,
                          resolvedUri: "",
                          targetDuration: r.duration,
                          segments: s,
                          mediaSequence: s.length ? s[0].number : 1,
                        }),
                        r.contentProtection &&
                          (o.contentProtection = r.contentProtection),
                        o),
                      ],
                      uri: "",
                    }),
                  e
                );
              }, {})),
            l.length &&
              (c.mediaGroups.SUBTITLES.subs = l.reduce(function (e, t) {
                var n,
                  i,
                  r,
                  s,
                  o = t.attributes.lang || "text";
                return (
                  e[o] ||
                    (e[o] = {
                      language: o,
                      default: !1,
                      autoselect: !1,
                      playlists: [
                        ((n = t),
                        (r = n.attributes),
                        (s = n.segments),
                        "undefined" == typeof s &&
                          ((s = [
                            {
                              uri: r.baseUrl,
                              timeline: r.periodIndex,
                              resolvedUri: r.baseUrl || "",
                              duration: r.sourceDuration,
                              number: 0,
                            },
                          ]),
                          (r.duration = r.sourceDuration)),
                        {
                          attributes:
                            ((i = {
                              NAME: r.id,
                              BANDWIDTH: r.bandwidth,
                            }),
                            (i["PROGRAM-ID"] = 1),
                            i),
                          uri: "",
                          endList: "static" === (r.type || "static"),
                          timeline: r.periodIndex,
                          resolvedUri: r.baseUrl || "",
                          targetDuration: r.duration,
                          segments: s,
                          mediaSequence: s.length ? s[0].number : 1,
                        }),
                      ],
                      uri: "",
                    }),
                  e
                );
              }, {})),
            c
          );
        })(ua(da(e), t).map(Zo));
      },
      ha = function (e) {
        return (function (e) {
          var t = ea(e, "UTCTiming")[0];
          if (!t) return null;
          var n = ra(t);
          switch (n.schemeIdUri) {
            case "urn:mpeg:dash:utc:http-head:2014":
            case "urn:mpeg:dash:utc:http-head:2012":
              n.method = "HEAD";
              break;
            case "urn:mpeg:dash:utc:http-xsdate:2014":
            case "urn:mpeg:dash:utc:http-iso:2014":
            case "urn:mpeg:dash:utc:http-xsdate:2012":
            case "urn:mpeg:dash:utc:http-iso:2012":
              n.method = "GET";
              break;
            case "urn:mpeg:dash:utc:direct:2014":
            case "urn:mpeg:dash:utc:direct:2012":
              (n.method = "DIRECT"), (n.value = Date.parse(n.value));
              break;
            case "urn:mpeg:dash:utc:http-ntp:2014":
            case "urn:mpeg:dash:utc:ntp:2014":
            case "urn:mpeg:dash:utc:sntp:2014":
            default:
              throw new Error(Xo);
          }
          return n;
        })(da(e));
      },
      fa = function (e) {
        return e >>> 0;
      };
    (Mo = function (e) {
      return Io(e, ["moov", "trak"]).reduce(function (e, t) {
        var n, i, r, s, o;
        return (n = Io(t, ["tkhd"])[0])
          ? ((i = n[0]),
            (s = fa(
              (n[(r = 0 === i ? 12 : 20)] << 24) |
                (n[r + 1] << 16) |
                (n[r + 2] << 8) |
                n[r + 3]
            )),
            (o = Io(t, ["mdia", "mdhd"])[0])
              ? ((r = 0 === (i = o[0]) ? 12 : 20),
                (e[s] = fa(
                  (o[r] << 24) | (o[r + 1] << 16) | (o[r + 2] << 8) | o[r + 3]
                )),
                e)
              : null)
          : null;
      }, {});
    }),
      (Ro = function (e, t) {
        var n, i, r;
        return (
          (n = Io(t, ["moof", "traf"])),
          (i = [].concat.apply(
            [],
            n.map(function (t) {
              return Io(t, ["tfhd"]).map(function (n) {
                var i, r;
                return (
                  (i = fa((n[4] << 24) | (n[5] << 16) | (n[6] << 8) | n[7])),
                  (r = e[i] || 9e4),
                  (Io(t, ["tfdt"]).map(function (e) {
                    var t, n;
                    return (
                      (t = e[0]),
                      (n = fa(
                        (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7]
                      )),
                      1 === t &&
                        ((n *= Math.pow(2, 32)),
                        (n += fa(
                          (e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11]
                        ))),
                      n
                    );
                  })[0] || 1 / 0) / r
                );
              });
            })
          )),
          (r = Math.min.apply(null, i)),
          isFinite(r) ? r : 0
        );
      }),
      (jo = function (e) {
        var t = Io(e, ["moov", "trak"]),
          n = [];
        return (
          t.forEach(function (e) {
            var t = Io(e, ["mdia", "hdlr"]),
              i = Io(e, ["tkhd"]);
            t.forEach(function (e, t) {
              var r,
                s,
                o = Do(e.subarray(8, 12)),
                a = i[t];
              "vide" === o &&
                ((s = r.getUint32(
                  0 ===
                    (r = new DataView(
                      a.buffer,
                      a.byteOffset,
                      a.byteLength
                    )).getUint8(0)
                    ? 12
                    : 20
                )),
                n.push(s));
            });
          }),
          n
        );
      });
    var ma,
      ga,
      _a,
      va,
      ya,
      ba,
      wa,
      Ca,
      ka,
      Ta,
      Ea,
      Sa,
      xa,
      Pa,
      Oa,
      Aa,
      Ia,
      Da,
      Ma,
      Ra,
      ja,
      La,
      Na,
      Ua,
      Ba,
      $a,
      Fa,
      Ha,
      Wa,
      qa,
      za,
      Va,
      Ka,
      Ga,
      Ya,
      Xa,
      Qa,
      Ja,
      Za,
      el,
      tl = {
        findBox: (Io = function (e, t) {
          var n,
            i,
            r,
            s,
            o,
            a = [];
          if (!t.length) return null;
          for (n = 0; n < e.byteLength; )
            (i = fa(
              (e[n] << 24) | (e[n + 1] << 16) | (e[n + 2] << 8) | e[n + 3]
            )),
              (r = Do(e.subarray(n + 4, n + 8))),
              (s = i > 1 ? n + i : e.byteLength),
              r === t[0] &&
                (1 === t.length
                  ? a.push(e.subarray(n + 8, s))
                  : (o = Io(e.subarray(n + 8, s), t.slice(1))).length &&
                    (a = a.concat(o))),
              (n = s);
          return a;
        }),
        parseType: (Do = function (e) {
          var t = "";
          return (
            (t += String.fromCharCode(e[0])),
            (t += String.fromCharCode(e[1])),
            (t += String.fromCharCode(e[2])),
            (t += String.fromCharCode(e[3]))
          );
        }),
        timescale: Mo,
        startTime: Ro,
        videoTrackIds: jo,
      },
      nl = Math.pow(2, 32) - 1;
    !(function () {
      var e;
      if (
        ((La = {
          avc1: [],
          avcC: [],
          btrt: [],
          dinf: [],
          dref: [],
          esds: [],
          ftyp: [],
          hdlr: [],
          mdat: [],
          mdhd: [],
          mdia: [],
          mfhd: [],
          minf: [],
          moof: [],
          moov: [],
          mp4a: [],
          mvex: [],
          mvhd: [],
          sdtp: [],
          smhd: [],
          stbl: [],
          stco: [],
          stsc: [],
          stsd: [],
          stsz: [],
          stts: [],
          styp: [],
          tfdt: [],
          tfhd: [],
          traf: [],
          trak: [],
          trun: [],
          trex: [],
          tkhd: [],
          vmhd: [],
        }),
        "undefined" != typeof Uint8Array)
      ) {
        for (e in La)
          La.hasOwnProperty(e) &&
            (La[e] = [
              e.charCodeAt(0),
              e.charCodeAt(1),
              e.charCodeAt(2),
              e.charCodeAt(3),
            ]);
        (Na = new Uint8Array([
          "i".charCodeAt(0),
          "s".charCodeAt(0),
          "o".charCodeAt(0),
          "m".charCodeAt(0),
        ])),
          (Ba = new Uint8Array([
            "a".charCodeAt(0),
            "v".charCodeAt(0),
            "c".charCodeAt(0),
            "1".charCodeAt(0),
          ])),
          (Ua = new Uint8Array([0, 0, 0, 1])),
          ($a = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114,
            0,
          ])),
          (Fa = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114,
            0,
          ])),
          (Ha = {
            video: $a,
            audio: Fa,
          }),
          (za = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1,
          ])),
          (qa = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
          (Va = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
          (Ka = Va),
          (Ga = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
          (Ya = Va),
          (Wa = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
      }
    })(),
      (ma = function (e) {
        var t,
          n,
          i = [],
          r = 0;
        for (t = 1; t < arguments.length; t++) i.push(arguments[t]);
        for (t = i.length; t--; ) r += i[t].byteLength;
        for (
          n = new Uint8Array(r + 8),
            new DataView(n.buffer, n.byteOffset, n.byteLength).setUint32(
              0,
              n.byteLength
            ),
            n.set(e, 4),
            t = 0,
            r = 8;
          t < i.length;
          t++
        )
          n.set(i[t], r), (r += i[t].byteLength);
        return n;
      }),
      (ga = function () {
        return ma(La.dinf, ma(La.dref, za));
      }),
      (_a = function (e) {
        return ma(
          La.esds,
          new Uint8Array([
            0,
            0,
            0,
            0,
            3,
            25,
            0,
            0,
            0,
            4,
            17,
            64,
            21,
            0,
            6,
            0,
            0,
            0,
            218,
            192,
            0,
            0,
            218,
            192,
            5,
            2,
            (e.audioobjecttype << 3) | (e.samplingfrequencyindex >>> 1),
            (e.samplingfrequencyindex << 7) | (e.channelcount << 3),
            6,
            1,
            2,
          ])
        );
      }),
      (Oa = function (e) {
        return ma(La.hdlr, Ha[e]);
      }),
      (Pa = function (e) {
        var t = new Uint8Array([
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          3,
          0,
          1,
          95,
          144,
          (e.duration >>> 24) & 255,
          (e.duration >>> 16) & 255,
          (e.duration >>> 8) & 255,
          255 & e.duration,
          85,
          196,
          0,
          0,
        ]);
        return (
          e.samplerate &&
            ((t[12] = (e.samplerate >>> 24) & 255),
            (t[13] = (e.samplerate >>> 16) & 255),
            (t[14] = (e.samplerate >>> 8) & 255),
            (t[15] = 255 & e.samplerate)),
          ma(La.mdhd, t)
        );
      }),
      (xa = function (e) {
        return ma(La.mdia, Pa(e), Oa(e.type), ba(e));
      }),
      (ya = function (e) {
        return ma(
          La.mfhd,
          new Uint8Array([
            0,
            0,
            0,
            0,
            (4278190080 & e) >> 24,
            (16711680 & e) >> 16,
            (65280 & e) >> 8,
            255 & e,
          ])
        );
      }),
      (ba = function (e) {
        return ma(
          La.minf,
          "video" === e.type ? ma(La.vmhd, Wa) : ma(La.smhd, qa),
          ga(),
          Ia(e)
        );
      }),
      (wa = function (e, t) {
        for (var n = [], i = t.length; i--; ) n[i] = Ma(t[i]);
        return ma.apply(null, [La.moof, ya(e)].concat(n));
      }),
      (Ca = function (e) {
        for (var t = e.length, n = []; t--; ) n[t] = Ea(e[t]);
        return ma.apply(
          null,
          [La.moov, Ta(4294967295)].concat(n).concat(ka(e))
        );
      }),
      (ka = function (e) {
        for (var t = e.length, n = []; t--; ) n[t] = Ra(e[t]);
        return ma.apply(null, [La.mvex].concat(n));
      }),
      (Ta = function (e) {
        var t = new Uint8Array([
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          2,
          0,
          1,
          95,
          144,
          (4278190080 & e) >> 24,
          (16711680 & e) >> 16,
          (65280 & e) >> 8,
          255 & e,
          0,
          1,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          64,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          255,
          255,
          255,
          255,
        ]);
        return ma(La.mvhd, t);
      }),
      (Aa = function (e) {
        var t,
          n,
          i = e.samples || [],
          r = new Uint8Array(4 + i.length);
        for (n = 0; n < i.length; n++)
          (t = i[n].flags),
            (r[n + 4] =
              (t.dependsOn << 4) | (t.isDependedOn << 2) | t.hasRedundancy);
        return ma(La.sdtp, r);
      }),
      (Ia = function (e) {
        return ma(
          La.stbl,
          Da(e),
          ma(La.stts, Ya),
          ma(La.stsc, Ka),
          ma(La.stsz, Ga),
          ma(La.stco, Va)
        );
      }),
      (Da = function (e) {
        return ma(
          La.stsd,
          new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]),
          "video" === e.type ? Xa(e) : Qa(e)
        );
      }),
      (Xa = function (e) {
        var t,
          n = e.sps || [],
          i = e.pps || [],
          r = [],
          s = [];
        for (t = 0; t < n.length; t++)
          r.push((65280 & n[t].byteLength) >>> 8),
            r.push(255 & n[t].byteLength),
            (r = r.concat(Array.prototype.slice.call(n[t])));
        for (t = 0; t < i.length; t++)
          s.push((65280 & i[t].byteLength) >>> 8),
            s.push(255 & i[t].byteLength),
            (s = s.concat(Array.prototype.slice.call(i[t])));
        return ma(
          La.avc1,
          new Uint8Array([
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            (65280 & e.width) >> 8,
            255 & e.width,
            (65280 & e.height) >> 8,
            255 & e.height,
            0,
            72,
            0,
            0,
            0,
            72,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            19,
            118,
            105,
            100,
            101,
            111,
            106,
            115,
            45,
            99,
            111,
            110,
            116,
            114,
            105,
            98,
            45,
            104,
            108,
            115,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            24,
            17,
            17,
          ]),
          ma(
            La.avcC,
            new Uint8Array(
              [1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255]
                .concat([n.length])
                .concat(r)
                .concat([i.length])
                .concat(s)
            )
          ),
          ma(
            La.btrt,
            new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])
          )
        );
      }),
      (Qa = function (e) {
        return ma(
          La.mp4a,
          new Uint8Array([
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            (65280 & e.channelcount) >> 8,
            255 & e.channelcount,
            (65280 & e.samplesize) >> 8,
            255 & e.samplesize,
            0,
            0,
            0,
            0,
            (65280 & e.samplerate) >> 8,
            255 & e.samplerate,
            0,
            0,
          ]),
          _a(e)
        );
      }),
      (Sa = function (e) {
        var t = new Uint8Array([
          0,
          0,
          0,
          7,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          (4278190080 & e.id) >> 24,
          (16711680 & e.id) >> 16,
          (65280 & e.id) >> 8,
          255 & e.id,
          0,
          0,
          0,
          0,
          (4278190080 & e.duration) >> 24,
          (16711680 & e.duration) >> 16,
          (65280 & e.duration) >> 8,
          255 & e.duration,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          64,
          0,
          0,
          0,
          (65280 & e.width) >> 8,
          255 & e.width,
          0,
          0,
          (65280 & e.height) >> 8,
          255 & e.height,
          0,
          0,
        ]);
        return ma(La.tkhd, t);
      }),
      (Ma = function (e) {
        var t, n, i, r, s, o;
        return (
          (t = ma(
            La.tfhd,
            new Uint8Array([
              0,
              0,
              0,
              58,
              (4278190080 & e.id) >> 24,
              (16711680 & e.id) >> 16,
              (65280 & e.id) >> 8,
              255 & e.id,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
            ])
          )),
          (s = Math.floor(e.baseMediaDecodeTime / (nl + 1))),
          (o = Math.floor(e.baseMediaDecodeTime % (nl + 1))),
          (n = ma(
            La.tfdt,
            new Uint8Array([
              1,
              0,
              0,
              0,
              (s >>> 24) & 255,
              (s >>> 16) & 255,
              (s >>> 8) & 255,
              255 & s,
              (o >>> 24) & 255,
              (o >>> 16) & 255,
              (o >>> 8) & 255,
              255 & o,
            ])
          )),
          "audio" === e.type
            ? ((i = ja(e, 92)), ma(La.traf, t, n, i))
            : ((r = Aa(e)), (i = ja(e, r.length + 92)), ma(La.traf, t, n, i, r))
        );
      }),
      (Ea = function (e) {
        return (
          (e.duration = e.duration || 4294967295), ma(La.trak, Sa(e), xa(e))
        );
      }),
      (Ra = function (e) {
        var t = new Uint8Array([
          0,
          0,
          0,
          0,
          (4278190080 & e.id) >> 24,
          (16711680 & e.id) >> 16,
          (65280 & e.id) >> 8,
          255 & e.id,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          1,
        ]);
        return "video" !== e.type && (t[t.length - 1] = 0), ma(La.trex, t);
      }),
      (el = function (e, t) {
        var n = 0,
          i = 0,
          r = 0,
          s = 0;
        return (
          e.length &&
            (void 0 !== e[0].duration && (n = 1),
            void 0 !== e[0].size && (i = 2),
            void 0 !== e[0].flags && (r = 4),
            void 0 !== e[0].compositionTimeOffset && (s = 8)),
          [
            0,
            0,
            n | i | r | s,
            1,
            (4278190080 & e.length) >>> 24,
            (16711680 & e.length) >>> 16,
            (65280 & e.length) >>> 8,
            255 & e.length,
            (4278190080 & t) >>> 24,
            (16711680 & t) >>> 16,
            (65280 & t) >>> 8,
            255 & t,
          ]
        );
      }),
      (Za = function (e, t) {
        var n, i, r, s;
        for (
          t += 20 + 16 * (i = e.samples || []).length, n = el(i, t), s = 0;
          s < i.length;
          s++
        )
          (r = i[s]),
            (n = n.concat([
              (4278190080 & r.duration) >>> 24,
              (16711680 & r.duration) >>> 16,
              (65280 & r.duration) >>> 8,
              255 & r.duration,
              (4278190080 & r.size) >>> 24,
              (16711680 & r.size) >>> 16,
              (65280 & r.size) >>> 8,
              255 & r.size,
              (r.flags.isLeading << 2) | r.flags.dependsOn,
              (r.flags.isDependedOn << 6) |
                (r.flags.hasRedundancy << 4) |
                (r.flags.paddingValue << 1) |
                r.flags.isNonSyncSample,
              61440 & r.flags.degradationPriority,
              15 & r.flags.degradationPriority,
              (4278190080 & r.compositionTimeOffset) >>> 24,
              (16711680 & r.compositionTimeOffset) >>> 16,
              (65280 & r.compositionTimeOffset) >>> 8,
              255 & r.compositionTimeOffset,
            ]));
        return ma(La.trun, new Uint8Array(n));
      }),
      (Ja = function (e, t) {
        var n, i, r, s;
        for (
          t += 20 + 8 * (i = e.samples || []).length, n = el(i, t), s = 0;
          s < i.length;
          s++
        )
          (r = i[s]),
            (n = n.concat([
              (4278190080 & r.duration) >>> 24,
              (16711680 & r.duration) >>> 16,
              (65280 & r.duration) >>> 8,
              255 & r.duration,
              (4278190080 & r.size) >>> 24,
              (16711680 & r.size) >>> 16,
              (65280 & r.size) >>> 8,
              255 & r.size,
            ]));
        return ma(La.trun, new Uint8Array(n));
      }),
      (ja = function (e, t) {
        return "audio" === e.type ? Ja(e, t) : Za(e, t);
      });
    var il = {
        ftyp: (va = function () {
          return ma(La.ftyp, Na, Ua, Na, Ba);
        }),
        mdat: function (e) {
          return ma(La.mdat, e);
        },
        moof: wa,
        moov: Ca,
        initSegment: function (e) {
          var t,
            n = va(),
            i = Ca(e);
          return (
            (t = new Uint8Array(n.byteLength + i.byteLength)).set(n),
            t.set(i, n.byteLength),
            t
          );
        },
      },
      rl = function () {
        this.init = function () {
          var e = {};
          (this.on = function (t, n) {
            e[t] || (e[t] = []), (e[t] = e[t].concat(n));
          }),
            (this.off = function (t, n) {
              var i;
              return (
                !!e[t] &&
                ((i = e[t].indexOf(n)),
                (e[t] = e[t].slice()),
                e[t].splice(i, 1),
                i > -1)
              );
            }),
            (this.trigger = function (t) {
              var n, i, r, s;
              if ((n = e[t]))
                if (2 === arguments.length)
                  for (r = n.length, i = 0; r > i; ++i)
                    n[i].call(this, arguments[1]);
                else {
                  for (
                    s = [], i = arguments.length, i = 1;
                    i < arguments.length;
                    ++i
                  )
                    s.push(arguments[i]);
                  for (r = n.length, i = 0; r > i; ++i) n[i].apply(this, s);
                }
            }),
            (this.dispose = function () {
              e = {};
            });
        };
      };
    (rl.prototype.pipe = function (e) {
      return (
        this.on("data", function (t) {
          e.push(t);
        }),
        this.on("done", function (t) {
          e.flush(t);
        }),
        e
      );
    }),
      (rl.prototype.push = function (e) {
        this.trigger("data", e);
      }),
      (rl.prototype.flush = function (e) {
        this.trigger("done", e);
      });
    var sl = rl,
      ol = function (e) {
        var t,
          n,
          i = [],
          r = [];
        for (t = i.byteLength = 0; t < e.length; t++)
          "access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType
            ? (i.length && ((i.duration = n.dts - i.dts), r.push(i)),
              ((i = [n]).byteLength = n.data.byteLength),
              (i.pts = n.pts),
              (i.dts = n.dts))
            : ("slice_layer_without_partitioning_rbsp_idr" === n.nalUnitType &&
                (i.keyFrame = !0),
              (i.duration = n.dts - i.dts),
              (i.byteLength += n.data.byteLength),
              i.push(n));
        return (
          r.length &&
            (!i.duration || i.duration <= 0) &&
            (i.duration = r[r.length - 1].duration),
          r.push(i),
          r
        );
      },
      al = function (e) {
        var t,
          n,
          i = [],
          r = [];
        for (
          i.byteLength = 0,
            i.nalCount = 0,
            i.duration = 0,
            i.pts = e[0].pts,
            i.dts = e[0].dts,
            r.byteLength = 0,
            r.nalCount = 0,
            r.duration = 0,
            r.pts = e[0].pts,
            r.dts = e[0].dts,
            t = 0;
          t < e.length;
          t++
        )
          (n = e[t]).keyFrame
            ? (i.length &&
                (r.push(i),
                (r.byteLength += i.byteLength),
                (r.nalCount += i.nalCount),
                (r.duration += i.duration)),
              ((i = [n]).nalCount = n.length),
              (i.byteLength = n.byteLength),
              (i.pts = n.pts),
              (i.dts = n.dts),
              (i.duration = n.duration))
            : ((i.duration += n.duration),
              (i.nalCount += n.length),
              (i.byteLength += n.byteLength),
              i.push(n));
        return (
          r.length &&
            i.duration <= 0 &&
            (i.duration = r[r.length - 1].duration),
          (r.byteLength += i.byteLength),
          (r.nalCount += i.nalCount),
          (r.duration += i.duration),
          r.push(i),
          r
        );
      },
      ll = function (e) {
        var t;
        return (
          !e[0][0].keyFrame &&
            1 < e.length &&
            ((t = e.shift()),
            (e.byteLength -= t.byteLength),
            (e.nalCount -= t.nalCount),
            (e[0][0].dts = t.dts),
            (e[0][0].pts = t.pts),
            (e[0][0].duration += t.duration)),
          e
        );
      },
      cl = function (e, t) {
        var n,
          i,
          r,
          s,
          o,
          a,
          l,
          c = t || 0,
          u = [];
        for (n = 0; n < e.length; n++)
          for (s = e[n], i = 0; i < s.length; i++)
            (o = s[i]),
              (a = o),
              (l = void 0),
              ((l = {
                size: 0,
                flags: {
                  isLeading: 0,
                  dependsOn: 1,
                  isDependedOn: 0,
                  hasRedundancy: 0,
                  degradationPriority: 0,
                  isNonSyncSample: 1,
                },
              }).dataOffset = c),
              (l.compositionTimeOffset = a.pts - a.dts),
              (l.duration = a.duration),
              (l.size = 4 * a.length),
              (l.size += a.byteLength),
              a.keyFrame &&
                ((l.flags.dependsOn = 2), (l.flags.isNonSyncSample = 0)),
              (c += (r = l).size),
              u.push(r);
        return u;
      },
      ul = function (e) {
        var t,
          n,
          i,
          r,
          s,
          o,
          a = 0,
          l = e.byteLength,
          c = e.nalCount,
          u = new Uint8Array(l + 4 * c),
          d = new DataView(u.buffer);
        for (t = 0; t < e.length; t++)
          for (r = e[t], n = 0; n < r.length; n++)
            for (s = r[n], i = 0; i < s.length; i++)
              (o = s[i]),
                d.setUint32(a, o.data.byteLength),
                (a += 4),
                u.set(o.data, a),
                (a += o.data.byteLength);
        return u;
      },
      dl = function (e) {
        delete e.minSegmentDts,
          delete e.maxSegmentDts,
          delete e.minSegmentPts,
          delete e.maxSegmentPts;
      },
      pl = function (e, t) {
        var n,
          i = e.minSegmentDts;
        return (
          t || (i -= e.timelineStartInfo.dts),
          (n = e.timelineStartInfo.baseMediaDecodeTime),
          (n += i),
          (n = Math.max(0, n)),
          "audio" === e.type &&
            ((n *= e.samplerate / 9e4), (n = Math.floor(n))),
          n
        );
      },
      hl = function (e, t) {
        "number" == typeof t.pts &&
          (void 0 === e.timelineStartInfo.pts &&
            (e.timelineStartInfo.pts = t.pts),
          (e.minSegmentPts =
            void 0 === e.minSegmentPts
              ? t.pts
              : Math.min(e.minSegmentPts, t.pts)),
          (e.maxSegmentPts =
            void 0 === e.maxSegmentPts
              ? t.pts
              : Math.max(e.maxSegmentPts, t.pts))),
          "number" == typeof t.dts &&
            (void 0 === e.timelineStartInfo.dts &&
              (e.timelineStartInfo.dts = t.dts),
            (e.minSegmentDts =
              void 0 === e.minSegmentDts
                ? t.dts
                : Math.min(e.minSegmentDts, t.dts)),
            (e.maxSegmentDts =
              void 0 === e.maxSegmentDts
                ? t.dts
                : Math.max(e.maxSegmentDts, t.dts)));
      },
      fl = function (e) {
        for (
          var t = 0,
            n = {
              payloadType: -1,
              payloadSize: 0,
            },
            i = 0,
            r = 0;
          t < e.byteLength && 128 !== e[t];

        ) {
          for (; 255 === e[t]; ) (i += 255), t++;
          for (i += e[t++]; 255 === e[t]; ) (r += 255), t++;
          if (((r += e[t++]), !n.payload && 4 === i)) {
            (n.payloadType = i),
              (n.payloadSize = r),
              (n.payload = e.subarray(t, t + r));
            break;
          }
          (t += r), (r = i = 0);
        }
        return n;
      },
      ml = function (e) {
        return 181 !== e.payload[0]
          ? null
          : 49 != ((e.payload[1] << 8) | e.payload[2])
          ? null
          : "GA94" !==
            String.fromCharCode(
              e.payload[3],
              e.payload[4],
              e.payload[5],
              e.payload[6]
            )
          ? null
          : 3 !== e.payload[7]
          ? null
          : e.payload.subarray(8, e.payload.length - 1);
      },
      gl = function (e, t) {
        var n,
          i,
          r,
          s,
          o = [];
        if (!(64 & t[0])) return o;
        for (i = 31 & t[0], n = 0; i > n; n++)
          (s = {
            type: 3 & t[2 + (r = 3 * n)],
            pts: e,
          }),
            4 & t[r + 2] &&
              ((s.ccData = (t[r + 3] << 8) | t[r + 4]), o.push(s));
        return o;
      },
      _l = function (e) {
        for (var t, n, i = e.byteLength, r = [], s = 1; i - 2 > s; )
          0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
            ? (r.push(s + 2), (s += 2))
            : s++;
        if (0 === r.length) return e;
        (t = i - r.length), (n = new Uint8Array(t));
        var o = 0;
        for (s = 0; t > s; o++, s++)
          o === r[0] && (o++, r.shift()), (n[s] = e[o]);
        return n;
      },
      vl = 4,
      yl = function Pp() {
        Pp.prototype.init.call(this),
          (this.captionPackets_ = []),
          (this.ccStreams_ = [
            new Tl(0, 0),
            new Tl(0, 1),
            new Tl(1, 0),
            new Tl(1, 1),
          ]),
          this.reset(),
          this.ccStreams_.forEach(function (e) {
            e.on("data", this.trigger.bind(this, "data")),
              e.on("done", this.trigger.bind(this, "done"));
          }, this);
      };
    ((yl.prototype = new sl()).push = function (e) {
      var t, n, i;
      if (
        "sei_rbsp" === e.nalUnitType &&
        (t = fl(e.escapedRBSP)).payloadType === vl &&
        (n = ml(t))
      )
        if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
        else {
          if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_)
            return (
              this.numSameDts_--,
              void (this.numSameDts_ || (this.ignoreNextEqualDts_ = !1))
            );
          (i = gl(e.pts, n)),
            (this.captionPackets_ = this.captionPackets_.concat(i)),
            this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
            this.numSameDts_++,
            (this.latestDts_ = e.dts);
        }
    }),
      (yl.prototype.flush = function () {
        this.captionPackets_.length
          ? (this.captionPackets_.forEach(function (e, t) {
              e.presortIndex = t;
            }),
            this.captionPackets_.sort(function (e, t) {
              return e.pts === t.pts
                ? e.presortIndex - t.presortIndex
                : e.pts - t.pts;
            }),
            this.captionPackets_.forEach(function (e) {
              e.type < 2 && this.dispatchCea608Packet(e);
            }, this),
            (this.captionPackets_.length = 0),
            this.ccStreams_.forEach(function (e) {
              e.flush();
            }, this))
          : this.ccStreams_.forEach(function (e) {
              e.flush();
            }, this);
      }),
      (yl.prototype.reset = function () {
        (this.latestDts_ = null),
          (this.ignoreNextEqualDts_ = !1),
          (this.numSameDts_ = 0),
          (this.activeCea608Channel_ = [null, null]),
          this.ccStreams_.forEach(function (e) {
            e.reset();
          });
      }),
      (yl.prototype.dispatchCea608Packet = function (e) {
        this.setsChannel1Active(e)
          ? (this.activeCea608Channel_[e.type] = 0)
          : this.setsChannel2Active(e) &&
            (this.activeCea608Channel_[e.type] = 1),
          null !== this.activeCea608Channel_[e.type] &&
            this.ccStreams_[
              (e.type << 1) + this.activeCea608Channel_[e.type]
            ].push(e);
      }),
      (yl.prototype.setsChannel1Active = function (e) {
        return 4096 == (30720 & e.ccData);
      }),
      (yl.prototype.setsChannel2Active = function (e) {
        return 6144 == (30720 & e.ccData);
      });
    var bl = {
        42: 225,
        92: 233,
        94: 237,
        95: 243,
        96: 250,
        123: 231,
        124: 247,
        125: 209,
        126: 241,
        127: 9608,
        304: 174,
        305: 176,
        306: 189,
        307: 191,
        308: 8482,
        309: 162,
        310: 163,
        311: 9834,
        312: 224,
        313: 160,
        314: 232,
        315: 226,
        316: 234,
        317: 238,
        318: 244,
        319: 251,
        544: 193,
        545: 201,
        546: 211,
        547: 218,
        548: 220,
        549: 252,
        550: 8216,
        551: 161,
        552: 42,
        553: 39,
        554: 8212,
        555: 169,
        556: 8480,
        557: 8226,
        558: 8220,
        559: 8221,
        560: 192,
        561: 194,
        562: 199,
        563: 200,
        564: 202,
        565: 203,
        566: 235,
        567: 206,
        568: 207,
        569: 239,
        570: 212,
        571: 217,
        572: 249,
        573: 219,
        574: 171,
        575: 187,
        800: 195,
        801: 227,
        802: 205,
        803: 204,
        804: 236,
        805: 210,
        806: 242,
        807: 213,
        808: 245,
        809: 123,
        810: 125,
        811: 92,
        812: 94,
        813: 95,
        814: 124,
        815: 126,
        816: 196,
        817: 228,
        818: 214,
        819: 246,
        820: 223,
        821: 165,
        822: 164,
        823: 9474,
        824: 197,
        825: 229,
        826: 216,
        827: 248,
        828: 9484,
        829: 9488,
        830: 9492,
        831: 9496,
      },
      wl = function (e) {
        return null === e ? "" : ((e = bl[e] || e), String.fromCharCode(e));
      },
      Cl = [
        4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864,
        4896, 5120, 5152,
      ],
      kl = function () {
        for (var e = [], t = 15; t--; ) e.push("");
        return e;
      },
      Tl = function Op(e, t) {
        Op.prototype.init.call(this),
          (this.field_ = e || 0),
          (this.dataChannel_ = t || 0),
          (this.name_ = "CC" + (1 + ((this.field_ << 1) | this.dataChannel_))),
          this.setConstants(),
          this.reset(),
          (this.push = function (e) {
            var t, n, i, r, s;
            if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
              if (
                (4096 == (61440 & t)
                  ? (this.lastControlCode_ = t)
                  : t !== this.PADDING_ && (this.lastControlCode_ = null),
                (i = t >>> 8),
                (r = 255 & t),
                t !== this.PADDING_)
              )
                if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                else if (t === this.END_OF_CAPTION_)
                  (this.mode_ = "popOn"),
                    this.clearFormatting(e.pts),
                    this.flushDisplayed(e.pts),
                    (n = this.displayed_),
                    (this.displayed_ = this.nonDisplayed_),
                    (this.nonDisplayed_ = n),
                    (this.startPts_ = e.pts);
                else if (t === this.ROLL_UP_2_ROWS_)
                  (this.rollUpRows_ = 2), this.setRollUp(e.pts);
                else if (t === this.ROLL_UP_3_ROWS_)
                  (this.rollUpRows_ = 3), this.setRollUp(e.pts);
                else if (t === this.ROLL_UP_4_ROWS_)
                  (this.rollUpRows_ = 4), this.setRollUp(e.pts);
                else if (t === this.CARRIAGE_RETURN_)
                  this.clearFormatting(e.pts),
                    this.flushDisplayed(e.pts),
                    this.shiftRowsUp_(),
                    (this.startPts_ = e.pts);
                else if (t === this.BACKSPACE_)
                  "popOn" === this.mode_
                    ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                        this.row_
                      ].slice(0, -1))
                    : (this.displayed_[this.row_] = this.displayed_[
                        this.row_
                      ].slice(0, -1));
                else if (t === this.ERASE_DISPLAYED_MEMORY_)
                  this.flushDisplayed(e.pts), (this.displayed_ = kl());
                else if (t === this.ERASE_NON_DISPLAYED_MEMORY_)
                  this.nonDisplayed_ = kl();
                else if (t === this.RESUME_DIRECT_CAPTIONING_)
                  "paintOn" !== this.mode_ &&
                    (this.flushDisplayed(e.pts), (this.displayed_ = kl())),
                    (this.mode_ = "paintOn"),
                    (this.startPts_ = e.pts);
                else if (this.isSpecialCharacter(i, r))
                  (s = wl((i = (3 & i) << 8) | r)),
                    this[this.mode_](e.pts, s),
                    this.column_++;
                else if (this.isExtCharacter(i, r))
                  "popOn" === this.mode_
                    ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                        this.row_
                      ].slice(0, -1))
                    : (this.displayed_[this.row_] = this.displayed_[
                        this.row_
                      ].slice(0, -1)),
                    (s = wl((i = (3 & i) << 8) | r)),
                    this[this.mode_](e.pts, s),
                    this.column_++;
                else if (this.isMidRowCode(i, r))
                  this.clearFormatting(e.pts),
                    this[this.mode_](e.pts, " "),
                    this.column_++,
                    14 == (14 & r) && this.addFormatting(e.pts, ["i"]),
                    1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                else if (this.isOffsetControlCode(i, r)) this.column_ += 3 & r;
                else if (this.isPAC(i, r)) {
                  var o = Cl.indexOf(7968 & t);
                  "rollUp" === this.mode_ && this.setRollUp(e.pts, o),
                    o !== this.row_ &&
                      (this.clearFormatting(e.pts), (this.row_ = o)),
                    1 & r &&
                      -1 === this.formatting_.indexOf("u") &&
                      this.addFormatting(e.pts, ["u"]),
                    16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)),
                    this.isColorPAC(r) &&
                      14 == (14 & r) &&
                      this.addFormatting(e.pts, ["i"]);
                } else
                  this.isNormalChar(i) &&
                    (0 === r && (r = null),
                    (s = wl(i)),
                    (s += wl(r)),
                    this[this.mode_](e.pts, s),
                    (this.column_ += s.length));
            } else this.lastControlCode_ = null;
          });
      };
    (Tl.prototype = new sl()),
      (Tl.prototype.flushDisplayed = function (e) {
        var t = this.displayed_
          .map(function (e) {
            return e.trim();
          })
          .join("\n")
          .replace(/^\n+|\n+$/g, "");
        t.length &&
          this.trigger("data", {
            startPts: this.startPts_,
            endPts: e,
            text: t,
            stream: this.name_,
          });
      }),
      (Tl.prototype.reset = function () {
        (this.mode_ = "popOn"),
          (this.topRow_ = 0),
          (this.startPts_ = 0),
          (this.displayed_ = kl()),
          (this.nonDisplayed_ = kl()),
          (this.lastControlCode_ = null),
          (this.column_ = 0),
          (this.row_ = 14),
          (this.rollUpRows_ = 2),
          (this.formatting_ = []);
      }),
      (Tl.prototype.setConstants = function () {
        0 === this.dataChannel_
          ? ((this.BASE_ = 16),
            (this.EXT_ = 17),
            (this.CONTROL_ = (20 | this.field_) << 8),
            (this.OFFSET_ = 23))
          : 1 === this.dataChannel_ &&
            ((this.BASE_ = 24),
            (this.EXT_ = 25),
            (this.CONTROL_ = (28 | this.field_) << 8),
            (this.OFFSET_ = 31)),
          (this.PADDING_ = 0),
          (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
          (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
          (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
          (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
          (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
          (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
          (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
          (this.BACKSPACE_ = 33 | this.CONTROL_),
          (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
          (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
      }),
      (Tl.prototype.isSpecialCharacter = function (e, t) {
        return e === this.EXT_ && t >= 48 && 63 >= t;
      }),
      (Tl.prototype.isExtCharacter = function (e, t) {
        return (
          (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && 63 >= t
        );
      }),
      (Tl.prototype.isMidRowCode = function (e, t) {
        return e === this.EXT_ && t >= 32 && 47 >= t;
      }),
      (Tl.prototype.isOffsetControlCode = function (e, t) {
        return e === this.OFFSET_ && t >= 33 && 35 >= t;
      }),
      (Tl.prototype.isPAC = function (e, t) {
        return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && 127 >= t;
      }),
      (Tl.prototype.isColorPAC = function (e) {
        return (e >= 64 && 79 >= e) || (e >= 96 && 127 >= e);
      }),
      (Tl.prototype.isNormalChar = function (e) {
        return e >= 32 && 127 >= e;
      }),
      (Tl.prototype.setRollUp = function (e, t) {
        if (
          ("rollUp" !== this.mode_ &&
            ((this.row_ = 14),
            (this.mode_ = "rollUp"),
            this.flushDisplayed(e),
            (this.nonDisplayed_ = kl()),
            (this.displayed_ = kl())),
          void 0 !== t && t !== this.row_)
        )
          for (var n = 0; n < this.rollUpRows_; n++)
            (this.displayed_[t - n] = this.displayed_[this.row_ - n]),
              (this.displayed_[this.row_ - n] = "");
        void 0 === t && (t = this.row_),
          (this.topRow_ = t - this.rollUpRows_ + 1);
      }),
      (Tl.prototype.addFormatting = function (e, t) {
        this.formatting_ = this.formatting_.concat(t);
        var n = t.reduce(function (e, t) {
          return e + "<" + t + ">";
        }, "");
        this[this.mode_](e, n);
      }),
      (Tl.prototype.clearFormatting = function (e) {
        if (this.formatting_.length) {
          var t = this.formatting_.reverse().reduce(function (e, t) {
            return e + "</" + t + ">";
          }, "");
          (this.formatting_ = []), this[this.mode_](e, t);
        }
      }),
      (Tl.prototype.popOn = function (e, t) {
        var n = this.nonDisplayed_[this.row_];
        (n += t), (this.nonDisplayed_[this.row_] = n);
      }),
      (Tl.prototype.rollUp = function (e, t) {
        var n = this.displayed_[this.row_];
        (n += t), (this.displayed_[this.row_] = n);
      }),
      (Tl.prototype.shiftRowsUp_ = function () {
        var e;
        for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
        for (e = this.row_ + 1; 15 > e; e++) this.displayed_[e] = "";
        for (e = this.topRow_; e < this.row_; e++)
          this.displayed_[e] = this.displayed_[e + 1];
        this.displayed_[this.row_] = "";
      }),
      (Tl.prototype.paintOn = function (e, t) {
        var n = this.displayed_[this.row_];
        (n += t), (this.displayed_[this.row_] = n);
      });
    var El = {
        CaptionStream: yl,
        Cea608Stream: Tl,
      },
      Sl = {
        H264_STREAM_TYPE: 27,
        ADTS_STREAM_TYPE: 15,
        METADATA_STREAM_TYPE: 21,
      },
      xl = function (e, t) {
        var n = 1;
        for (e > t && (n = -1); 4294967296 < Math.abs(t - e); )
          e += 8589934592 * n;
        return e;
      },
      Pl = function Ap(e) {
        var t, n;
        Ap.prototype.init.call(this),
          (this.type_ = e),
          (this.push = function (e) {
            e.type === this.type_ &&
              (void 0 === n && (n = e.dts),
              (e.dts = xl(e.dts, n)),
              (e.pts = xl(e.pts, n)),
              (t = e.dts),
              this.trigger("data", e));
          }),
          (this.flush = function () {
            (n = t), this.trigger("done");
          }),
          (this.discontinuity = function () {
            t = n = void 0;
          });
      };
    Pl.prototype = new sl();
    var Ol,
      Al = Pl,
      Il = xl,
      Dl = function (e, t, n) {
        var i,
          r = "";
        for (i = t; n > i; i++) r += "%" + ("00" + e[i].toString(16)).slice(-2);
        return r;
      },
      Ml = function (e, t, n) {
        return decodeURIComponent(Dl(e, t, n));
      },
      Rl = function (e) {
        return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
      },
      jl = {
        TXXX: function (e) {
          var t;
          if (3 === e.data[0]) {
            for (t = 1; t < e.data.length; t++)
              if (0 === e.data[t]) {
                (e.description = Ml(e.data, 1, t)),
                  (e.value = Ml(e.data, t + 1, e.data.length).replace(
                    /\0*$/,
                    ""
                  ));
                break;
              }
            e.data = e.value;
          }
        },
        WXXX: function (e) {
          var t;
          if (3 === e.data[0])
            for (t = 1; t < e.data.length; t++)
              if (0 === e.data[t]) {
                (e.description = Ml(e.data, 1, t)),
                  (e.url = Ml(e.data, t + 1, e.data.length));
                break;
              }
        },
        PRIV: function (e) {
          var t, n;
          for (t = 0; t < e.data.length; t++)
            if (0 === e.data[t]) {
              e.owner = ((n = e.data), unescape(Dl(n, 0, t)));
              break;
            }
          (e.privateData = e.data.subarray(t + 1)), (e.data = e.privateData);
        },
      };
    (Ol = function (e) {
      var t,
        n = {
          debug: !(!e || !e.debug),
          descriptor: e && e.descriptor,
        },
        i = 0,
        r = [],
        s = 0;
      if (
        (Ol.prototype.init.call(this),
        (this.dispatchType = Sl.METADATA_STREAM_TYPE.toString(16)),
        n.descriptor)
      )
        for (t = 0; t < n.descriptor.length; t++)
          this.dispatchType += ("00" + n.descriptor[t].toString(16)).slice(-2);
      this.push = function (e) {
        var t, o, a, l, c;
        if ("timed-metadata" === e.type)
          if (
            (e.dataAlignmentIndicator && ((s = 0), (r.length = 0)),
            0 === r.length &&
              (e.data.length < 10 ||
                e.data[0] !== "I".charCodeAt(0) ||
                e.data[1] !== "D".charCodeAt(0) ||
                e.data[2] !== "3".charCodeAt(0)))
          )
            n.debug;
          else if (
            (r.push(e),
            (s += e.data.byteLength),
            1 === r.length && ((i = Rl(e.data.subarray(6, 10))), (i += 10)),
            !(i > s))
          ) {
            for (
              t = {
                data: new Uint8Array(i),
                frames: [],
                pts: r[0].pts,
                dts: r[0].dts,
              },
                c = 0;
              i > c;

            )
              t.data.set(r[0].data.subarray(0, i - c), c),
                (c += r[0].data.byteLength),
                (s -= r[0].data.byteLength),
                r.shift();
            (o = 10),
              64 & t.data[5] &&
                ((o += 4),
                (o += Rl(t.data.subarray(10, 14))),
                (i -= Rl(t.data.subarray(16, 20))));
            do {
              if ((a = Rl(t.data.subarray(o + 4, o + 8))) < 1) return;
              if (
                (((l = {
                  id: String.fromCharCode(
                    t.data[o],
                    t.data[o + 1],
                    t.data[o + 2],
                    t.data[o + 3]
                  ),
                  data: t.data.subarray(o + 10, o + a + 10),
                }).key = l.id),
                jl[l.id] &&
                  (jl[l.id](l),
                  "com.apple.streaming.transportStreamTimestamp" === l.owner))
              ) {
                var u = l.data,
                  d =
                    ((1 & u[3]) << 30) |
                    (u[4] << 22) |
                    (u[5] << 14) |
                    (u[6] << 6) |
                    (u[7] >>> 2);
                (d *= 4),
                  (d += 3 & u[7]),
                  (l.timeStamp = d),
                  void 0 === t.pts &&
                    void 0 === t.dts &&
                    ((t.pts = l.timeStamp), (t.dts = l.timeStamp)),
                  this.trigger("timestamp", l);
              }
              t.frames.push(l), (o += 10), (o += a);
            } while (i > o);
            this.trigger("data", t);
          }
      };
    }).prototype = new sl();
    var Ll,
      Nl,
      Ul,
      Bl = Ol,
      $l = Al;
    ((Ll = function () {
      var e = new Uint8Array(188),
        t = 0;
      Ll.prototype.init.call(this),
        (this.push = function (n) {
          var i,
            r = 0,
            s = 188;
          for (
            t
              ? ((i = new Uint8Array(n.byteLength + t)).set(e.subarray(0, t)),
                i.set(n, t),
                (t = 0))
              : (i = n);
            s < i.byteLength;

          )
            71 !== i[r] || 71 !== i[s]
              ? (r++, s++)
              : (this.trigger("data", i.subarray(r, s)),
                (r += 188),
                (s += 188));
          r < i.byteLength && (e.set(i.subarray(r), 0), (t = i.byteLength - r));
        }),
        (this.flush = function () {
          188 === t && 71 === e[0] && (this.trigger("data", e), (t = 0)),
            this.trigger("done");
        });
    }).prototype = new sl()),
      ((Nl = function () {
        var e, t, n, i;
        Nl.prototype.init.call(this),
          ((i = this).packetsWaitingForPmt = []),
          (this.programMapTable = void 0),
          (e = function (e, i) {
            var r = 0;
            i.payloadUnitStartIndicator && (r += e[r] + 1),
              "pat" === i.type ? t(e.subarray(r), i) : n(e.subarray(r), i);
          }),
          (t = function (e, t) {
            (t.section_number = e[7]),
              (t.last_section_number = e[8]),
              (i.pmtPid = ((31 & e[10]) << 8) | e[11]),
              (t.pmtPid = i.pmtPid);
          }),
          (n = function (e, t) {
            var n, r;
            if (1 & e[5]) {
              for (
                i.programMapTable = {
                  video: null,
                  audio: null,
                  "timed-metadata": {},
                },
                  n = 3 + (((15 & e[1]) << 8) | e[2]) - 4,
                  r = 12 + (((15 & e[10]) << 8) | e[11]);
                n > r;

              ) {
                var s = e[r],
                  o = ((31 & e[r + 1]) << 8) | e[r + 2];
                s === Sl.H264_STREAM_TYPE && null === i.programMapTable.video
                  ? (i.programMapTable.video = o)
                  : s === Sl.ADTS_STREAM_TYPE &&
                    null === i.programMapTable.audio
                  ? (i.programMapTable.audio = o)
                  : s === Sl.METADATA_STREAM_TYPE &&
                    (i.programMapTable["timed-metadata"][o] = s),
                  (r += 5 + (((15 & e[r + 3]) << 8) | e[r + 4]));
              }
              t.programMapTable = i.programMapTable;
            }
          }),
          (this.push = function (t) {
            var n = {},
              i = 4;
            if (
              ((n.payloadUnitStartIndicator = !!(64 & t[1])),
              (n.pid = 31 & t[1]),
              (n.pid <<= 8),
              (n.pid |= t[2]),
              1 < (48 & t[3]) >>> 4 && (i += t[i] + 1),
              0 === n.pid)
            )
              (n.type = "pat"), e(t.subarray(i), n), this.trigger("data", n);
            else if (n.pid === this.pmtPid)
              for (
                n.type = "pmt", e(t.subarray(i), n), this.trigger("data", n);
                this.packetsWaitingForPmt.length;

              )
                this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
            else
              void 0 === this.programMapTable
                ? this.packetsWaitingForPmt.push([t, i, n])
                : this.processPes_(t, i, n);
          }),
          (this.processPes_ = function (e, t, n) {
            (n.streamType =
              n.pid === this.programMapTable.video
                ? Sl.H264_STREAM_TYPE
                : n.pid === this.programMapTable.audio
                ? Sl.ADTS_STREAM_TYPE
                : this.programMapTable["timed-metadata"][n.pid]),
              (n.type = "pes"),
              (n.data = e.subarray(t)),
              this.trigger("data", n);
          });
      }).prototype = new sl()),
      (Nl.STREAM_TYPES = {
        h264: 27,
        adts: 15,
      }),
      ((Ul = function () {
        var e = this,
          t = {
            data: [],
            size: 0,
          },
          n = {
            data: [],
            size: 0,
          },
          i = {
            data: [],
            size: 0,
          },
          r = function (t, n, i) {
            var r,
              s,
              o = new Uint8Array(t.size),
              a = {
                type: n,
              },
              l = 0,
              c = 0;
            if (t.data.length && !(t.size < 9)) {
              for (a.trackId = t.data[0].pid, l = 0; l < t.data.length; l++)
                (s = t.data[l]), o.set(s.data, c), (c += s.data.byteLength);
              var u, d, p;
              (u = o),
                ((d = a).packetLength = 6 + ((u[4] << 8) | u[5])),
                (d.dataAlignmentIndicator = 0 != (4 & u[6])),
                192 & (p = u[7]) &&
                  ((d.pts =
                    ((14 & u[9]) << 27) |
                    ((255 & u[10]) << 20) |
                    ((254 & u[11]) << 12) |
                    ((255 & u[12]) << 5) |
                    ((254 & u[13]) >>> 3)),
                  (d.pts *= 4),
                  (d.pts += (6 & u[13]) >>> 1),
                  (d.dts = d.pts),
                  64 & p &&
                    ((d.dts =
                      ((14 & u[14]) << 27) |
                      ((255 & u[15]) << 20) |
                      ((254 & u[16]) << 12) |
                      ((255 & u[17]) << 5) |
                      ((254 & u[18]) >>> 3)),
                    (d.dts *= 4),
                    (d.dts += (6 & u[18]) >>> 1))),
                (d.data = u.subarray(9 + u[8])),
                (r = "video" === n || a.packetLength <= t.size),
                (i || r) && ((t.size = 0), (t.data.length = 0)),
                r && e.trigger("data", a);
            }
          };
        Ul.prototype.init.call(this),
          (this.push = function (s) {
            ({
              pat: function () {},
              pes: function () {
                var e, o;
                switch (s.streamType) {
                  case Sl.H264_STREAM_TYPE:
                  case Sl.H264_STREAM_TYPE:
                    (e = t), (o = "video");
                    break;
                  case Sl.ADTS_STREAM_TYPE:
                    (e = n), (o = "audio");
                    break;
                  case Sl.METADATA_STREAM_TYPE:
                    (e = i), (o = "timed-metadata");
                    break;
                  default:
                    return;
                }
                s.payloadUnitStartIndicator && r(e, o, !0),
                  e.data.push(s),
                  (e.size += s.data.byteLength);
              },
              pmt: function () {
                var t = {
                    type: "metadata",
                    tracks: [],
                  },
                  n = s.programMapTable;
                null !== n.video &&
                  t.tracks.push({
                    timelineStartInfo: {
                      baseMediaDecodeTime: 0,
                    },
                    id: +n.video,
                    codec: "avc",
                    type: "video",
                  }),
                  null !== n.audio &&
                    t.tracks.push({
                      timelineStartInfo: {
                        baseMediaDecodeTime: 0,
                      },
                      id: +n.audio,
                      codec: "adts",
                      type: "audio",
                    }),
                  e.trigger("data", t);
              },
            }[s.type]());
          }),
          (this.flush = function () {
            r(t, "video"),
              r(n, "audio"),
              r(i, "timed-metadata"),
              this.trigger("done");
          });
      }).prototype = new sl());
    var Fl = {
      PAT_PID: 0,
      MP2T_PACKET_LENGTH: 188,
      TransportPacketStream: Ll,
      TransportParseStream: Nl,
      ElementaryStream: Ul,
      TimestampRolloverStream: $l,
      CaptionStream: El.CaptionStream,
      Cea608Stream: El.Cea608Stream,
      MetadataStream: Bl,
    };
    for (var Hl in Sl) Sl.hasOwnProperty(Hl) && (Fl[Hl] = Sl[Hl]);
    var Wl,
      ql = Fl,
      zl = [
        96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025,
        8e3, 7350,
      ];
    (Wl = function () {
      var e;
      Wl.prototype.init.call(this),
        (this.push = function (t) {
          var n,
            i,
            r,
            s,
            o,
            a,
            l = 0,
            c = 0;
          if ("audio" === t.type)
            for (
              e
                ? ((s = e),
                  (e = new Uint8Array(s.byteLength + t.data.byteLength)).set(s),
                  e.set(t.data, s.byteLength))
                : (e = t.data);
              l + 5 < e.length;

            )
              if (255 === e[l] && 240 == (246 & e[l + 1])) {
                if (
                  ((i = 2 * (1 & ~e[l + 1])),
                  (n =
                    ((3 & e[l + 3]) << 11) |
                    (e[l + 4] << 3) |
                    ((224 & e[l + 5]) >> 5)),
                  (a =
                    (9e4 * (o = 1024 * (1 + (3 & e[l + 6])))) /
                    zl[(60 & e[l + 2]) >>> 2]),
                  (r = l + n),
                  e.byteLength < r)
                )
                  return;
                if (
                  (this.trigger("data", {
                    pts: t.pts + c * a,
                    dts: t.dts + c * a,
                    sampleCount: o,
                    audioobjecttype: 1 + ((e[l + 2] >>> 6) & 3),
                    channelcount:
                      ((1 & e[l + 2]) << 2) | ((192 & e[l + 3]) >>> 6),
                    samplerate: zl[(60 & e[l + 2]) >>> 2],
                    samplingfrequencyindex: (60 & e[l + 2]) >>> 2,
                    samplesize: 16,
                    data: e.subarray(l + 7 + i, r),
                  }),
                  e.byteLength === r)
                )
                  return void (e = void 0);
                c++, (e = e.subarray(r));
              } else l++;
        }),
        (this.flush = function () {
          this.trigger("done");
        });
    }).prototype = new sl();
    var Vl,
      Kl,
      Gl,
      Yl = Wl,
      Xl = function (e) {
        var t = e.byteLength,
          n = 0,
          i = 0;
        (this.length = function () {
          return 8 * t;
        }),
          (this.bitsAvailable = function () {
            return 8 * t + i;
          }),
          (this.loadWord = function () {
            var r = e.byteLength - t,
              s = new Uint8Array(4),
              o = Math.min(4, t);
            if (0 === o) throw new Error("no bytes available");
            s.set(e.subarray(r, r + o)),
              (n = new DataView(s.buffer).getUint32(0)),
              (i = 8 * o),
              (t -= o);
          }),
          (this.skipBits = function (e) {
            var r;
            i > e ||
              ((e -= i),
              (e -= 8 * (r = Math.floor(e / 8))),
              (t -= r),
              this.loadWord()),
              (n <<= e),
              (i -= e);
          }),
          (this.readBits = function (e) {
            var r = Math.min(i, e),
              s = n >>> (32 - r);
            return (
              0 < (i -= r) ? (n <<= r) : t > 0 && this.loadWord(),
              0 < (r = e - r) ? (s << r) | this.readBits(r) : s
            );
          }),
          (this.skipLeadingZeros = function () {
            var e;
            for (e = 0; i > e; ++e)
              if (0 != (n & (2147483648 >>> e))) return (n <<= e), (i -= e), e;
            return this.loadWord(), e + this.skipLeadingZeros();
          }),
          (this.skipUnsignedExpGolomb = function () {
            this.skipBits(1 + this.skipLeadingZeros());
          }),
          (this.skipExpGolomb = function () {
            this.skipBits(1 + this.skipLeadingZeros());
          }),
          (this.readUnsignedExpGolomb = function () {
            var e = this.skipLeadingZeros();
            return this.readBits(e + 1) - 1;
          }),
          (this.readExpGolomb = function () {
            var e = this.readUnsignedExpGolomb();
            return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1);
          }),
          (this.readBoolean = function () {
            return 1 === this.readBits(1);
          }),
          (this.readUnsignedByte = function () {
            return this.readBits(8);
          }),
          this.loadWord();
      };
    ((Kl = function () {
      var e,
        t,
        n = 0;
      Kl.prototype.init.call(this),
        (this.push = function (i) {
          var r;
          for (
            t = t
              ? ((r = new Uint8Array(t.byteLength + i.data.byteLength)).set(t),
                r.set(i.data, t.byteLength),
                r)
              : i.data;
            n < t.byteLength - 3;
            n++
          )
            if (1 === t[n + 2]) {
              e = n + 5;
              break;
            }
          for (; e < t.byteLength; )
            switch (t[e]) {
              case 0:
                if (0 !== t[e - 1]) {
                  e += 2;
                  break;
                }
                if (0 !== t[e - 2]) {
                  e++;
                  break;
                }
                for (
                  n + 3 !== e - 2 &&
                  this.trigger("data", t.subarray(n + 3, e - 2));
                  1 !== t[++e] && e < t.length;

                );
                (n = e - 2), (e += 3);
                break;
              case 1:
                if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                  e += 3;
                  break;
                }
                this.trigger("data", t.subarray(n + 3, e - 2)),
                  (n = e - 2),
                  (e += 3);
                break;
              default:
                e += 3;
            }
          (t = t.subarray(n)), (e -= n), (n = 0);
        }),
        (this.flush = function () {
          t && 3 < t.byteLength && this.trigger("data", t.subarray(n + 3)),
            (t = null),
            (n = 0),
            this.trigger("done");
        });
    }).prototype = new sl()),
      (Gl = {
        100: !0,
        110: !0,
        122: !0,
        244: !0,
        44: !0,
        83: !0,
        86: !0,
        118: !0,
        128: !0,
        138: !0,
        139: !0,
        134: !0,
      }),
      ((Vl = function () {
        var e,
          t,
          n,
          i,
          r,
          s,
          o,
          a = new Kl();
        Vl.prototype.init.call(this),
          ((e = this).push = function (e) {
            "video" === e.type &&
              ((t = e.trackId), (n = e.pts), (i = e.dts), a.push(e));
          }),
          a.on("data", function (o) {
            var a = {
              trackId: t,
              pts: n,
              dts: i,
              data: o,
            };
            switch (31 & o[0]) {
              case 5:
                a.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                break;
              case 6:
                (a.nalUnitType = "sei_rbsp"),
                  (a.escapedRBSP = r(o.subarray(1)));
                break;
              case 7:
                (a.nalUnitType = "seq_parameter_set_rbsp"),
                  (a.escapedRBSP = r(o.subarray(1))),
                  (a.config = s(a.escapedRBSP));
                break;
              case 8:
                a.nalUnitType = "pic_parameter_set_rbsp";
                break;
              case 9:
                a.nalUnitType = "access_unit_delimiter_rbsp";
            }
            e.trigger("data", a);
          }),
          a.on("done", function () {
            e.trigger("done");
          }),
          (this.flush = function () {
            a.flush();
          }),
          (o = function (e, t) {
            var n,
              i = 8,
              r = 8;
            for (n = 0; e > n; n++)
              0 !== r && (r = (i + t.readExpGolomb() + 256) % 256),
                (i = 0 === r ? i : r);
          }),
          (r = function (e) {
            for (var t, n, i = e.byteLength, r = [], s = 1; i - 2 > s; )
              0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
                ? (r.push(s + 2), (s += 2))
                : s++;
            if (0 === r.length) return e;
            (t = i - r.length), (n = new Uint8Array(t));
            var o = 0;
            for (s = 0; t > s; o++, s++)
              o === r[0] && (o++, r.shift()), (n[s] = e[o]);
            return n;
          }),
          (s = function (e) {
            var t,
              n,
              i,
              r,
              s,
              a,
              l,
              c,
              u,
              d,
              p,
              h,
              f,
              m = 0,
              g = 0,
              _ = 0,
              v = 0,
              y = 1;
            if (
              ((n = (t = new Xl(e)).readUnsignedByte()),
              (r = t.readUnsignedByte()),
              (i = t.readUnsignedByte()),
              t.skipUnsignedExpGolomb(),
              Gl[n] &&
                (3 === (s = t.readUnsignedExpGolomb()) && t.skipBits(1),
                t.skipUnsignedExpGolomb(),
                t.skipUnsignedExpGolomb(),
                t.skipBits(1),
                t.readBoolean()))
            )
              for (p = 3 !== s ? 8 : 12, f = 0; p > f; f++)
                t.readBoolean() && o(6 > f ? 16 : 64, t);
            if (
              (t.skipUnsignedExpGolomb(), 0 === (a = t.readUnsignedExpGolomb()))
            )
              t.readUnsignedExpGolomb();
            else if (1 === a)
              for (
                t.skipBits(1),
                  t.skipExpGolomb(),
                  t.skipExpGolomb(),
                  l = t.readUnsignedExpGolomb(),
                  f = 0;
                l > f;
                f++
              )
                t.skipExpGolomb();
            if (
              (t.skipUnsignedExpGolomb(),
              t.skipBits(1),
              (c = t.readUnsignedExpGolomb()),
              (u = t.readUnsignedExpGolomb()),
              0 === (d = t.readBits(1)) && t.skipBits(1),
              t.skipBits(1),
              t.readBoolean() &&
                ((m = t.readUnsignedExpGolomb()),
                (g = t.readUnsignedExpGolomb()),
                (_ = t.readUnsignedExpGolomb()),
                (v = t.readUnsignedExpGolomb())),
              t.readBoolean() && t.readBoolean())
            ) {
              switch (t.readUnsignedByte()) {
                case 1:
                  h = [1, 1];
                  break;
                case 2:
                  h = [12, 11];
                  break;
                case 3:
                  h = [10, 11];
                  break;
                case 4:
                  h = [16, 11];
                  break;
                case 5:
                  h = [40, 33];
                  break;
                case 6:
                  h = [24, 11];
                  break;
                case 7:
                  h = [20, 11];
                  break;
                case 8:
                  h = [32, 11];
                  break;
                case 9:
                  h = [80, 33];
                  break;
                case 10:
                  h = [18, 11];
                  break;
                case 11:
                  h = [15, 11];
                  break;
                case 12:
                  h = [64, 33];
                  break;
                case 13:
                  h = [160, 99];
                  break;
                case 14:
                  h = [4, 3];
                  break;
                case 15:
                  h = [3, 2];
                  break;
                case 16:
                  h = [2, 1];
                  break;
                case 255:
                  h = [
                    (t.readUnsignedByte() << 8) | t.readUnsignedByte(),
                    (t.readUnsignedByte() << 8) | t.readUnsignedByte(),
                  ];
              }
              h && (y = h[0] / h[1]);
            }
            return {
              profileIdc: n,
              levelIdc: i,
              profileCompatibility: r,
              width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * y),
              height: (2 - d) * (u + 1) * 16 - 2 * _ - 2 * v,
            };
          });
      }).prototype = new sl());
    var Ql,
      Jl = {
        H264Stream: Vl,
        NalByteStream: Kl,
      };
    (Ql = function () {
      var e = new Uint8Array(),
        t = 0;
      Ql.prototype.init.call(this),
        (this.setTimestamp = function (e) {
          t = e;
        }),
        (this.parseId3TagSize = function (e, t) {
          var n =
            (e[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
          return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10;
        }),
        (this.parseAdtsSize = function (e, t) {
          var n = (224 & e[t + 5]) >> 5,
            i = e[t + 4] << 3;
          return (6144 & e[t + 3]) | i | n;
        }),
        (this.push = function (n) {
          var i,
            r,
            s,
            o,
            a = 0,
            l = 0;
          for (
            e.length
              ? ((o = e.length),
                (e = new Uint8Array(n.byteLength + o)).set(e.subarray(0, o)),
                e.set(n, o))
              : (e = n);
            3 <= e.length - l;

          )
            if (
              e[l] !== "I".charCodeAt(0) ||
              e[l + 1] !== "D".charCodeAt(0) ||
              e[l + 2] !== "3".charCodeAt(0)
            )
              if (!0 & e[l] && 240 == (240 & e[l + 1])) {
                if (e.length - l < 7) break;
                if ((a = this.parseAdtsSize(e, l)) > e.length) break;
                (s = {
                  type: "audio",
                  data: e.subarray(l, l + a),
                  pts: t,
                  dts: t,
                }),
                  this.trigger("data", s),
                  (l += a);
              } else l++;
            else {
              if (e.length - l < 10) break;
              if ((a = this.parseId3TagSize(e, l)) > e.length) break;
              (r = {
                type: "timed-metadata",
                data: e.subarray(l, l + a),
              }),
                this.trigger("data", r),
                (l += a);
            }
          (i = e.length - l), (e = i > 0 ? e.subarray(l) : new Uint8Array());
        });
    }).prototype = new sl();
    var Zl,
      ec,
      tc,
      nc,
      ic,
      rc,
      sc,
      oc = Ql,
      ac = [33, 16, 5, 32, 164, 27],
      lc = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
      cc = function (e) {
        for (var t = []; e--; ) t.push(0);
        return t;
      },
      uc = {
        96e3: [ac, [227, 64], cc(154), [56]],
        88200: [ac, [231], cc(170), [56]],
        64e3: [ac, [248, 192], cc(240), [56]],
        48e3: [ac, [255, 192], cc(268), [55, 148, 128], cc(54), [112]],
        44100: [ac, [255, 192], cc(268), [55, 163, 128], cc(84), [112]],
        32e3: [ac, [255, 192], cc(268), [55, 234], cc(226), [112]],
        24e3: [
          ac,
          [255, 192],
          cc(268),
          [55, 255, 128],
          cc(268),
          [111, 112],
          cc(126),
          [224],
        ],
        16e3: [
          ac,
          [255, 192],
          cc(268),
          [55, 255, 128],
          cc(268),
          [111, 255],
          cc(269),
          [223, 108],
          cc(195),
          [1, 192],
        ],
        12e3: [
          lc,
          cc(268),
          [3, 127, 248],
          cc(268),
          [6, 255, 240],
          cc(268),
          [13, 255, 224],
          cc(268),
          [27, 253, 128],
          cc(259),
          [56],
        ],
        11025: [
          lc,
          cc(268),
          [3, 127, 248],
          cc(268),
          [6, 255, 240],
          cc(268),
          [13, 255, 224],
          cc(268),
          [27, 255, 192],
          cc(268),
          [55, 175, 128],
          cc(108),
          [112],
        ],
        8e3: [lc, cc(268), [3, 121, 16], cc(47), [7]],
      },
      dc =
        ((Zl = uc),
        Object.keys(Zl).reduce(function (e, t) {
          return (
            (e[t] = new Uint8Array(
              Zl[t].reduce(function (e, t) {
                return e.concat(t);
              }, [])
            )),
            e
          );
        }, {}));
    (rc = function (e, t) {
      return ec(ic(e, t));
    }),
      (sc = function (e, t) {
        return tc(nc(e), t);
      }),
      (ec = function (e) {
        return 9e4 * e;
      }),
      (tc = function (e, t) {
        return e * t;
      }),
      (nc = function (e) {
        return e / 9e4;
      }),
      (ic = function (e, t) {
        return e / t;
      });
    var pc,
      hc,
      fc,
      mc,
      gc,
      _c,
      vc,
      yc = rc,
      bc = sc,
      wc = Jl.H264Stream,
      Cc = [
        "audioobjecttype",
        "channelcount",
        "samplerate",
        "samplingfrequencyindex",
        "samplesize",
      ],
      kc = [
        "width",
        "height",
        "profileIdc",
        "levelIdc",
        "profileCompatibility",
      ];
    (gc = function (e) {
      return (
        e[0] === "I".charCodeAt(0) &&
        e[1] === "D".charCodeAt(0) &&
        e[2] === "3".charCodeAt(0)
      );
    }),
      (_c = function (e, t) {
        var n;
        if (e.length !== t.length) return !1;
        for (n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
        return !0;
      }),
      (vc = function (e) {
        var t,
          n = 0;
        for (t = 0; t < e.length; t++) n += e[t].data.byteLength;
        return n;
      }),
      ((hc = function (e, t) {
        var n = [],
          i = 0,
          r = 0,
          s = 0,
          o = 1 / 0;
        (t = t || {}),
          hc.prototype.init.call(this),
          (this.push = function (t) {
            hl(e, t),
              e &&
                Cc.forEach(function (n) {
                  e[n] = t[n];
                }),
              n.push(t);
          }),
          (this.setEarliestDts = function (t) {
            r = t - e.timelineStartInfo.baseMediaDecodeTime;
          }),
          (this.setVideoBaseMediaDecodeTime = function (e) {
            o = e;
          }),
          (this.setAudioAppendStart = function (e) {
            s = e;
          }),
          (this.flush = function () {
            var r, s, o, a;
            0 !== n.length &&
              ((r = this.trimAdtsFramesByEarliestDts_(n)),
              (e.baseMediaDecodeTime = pl(e, t.keepOriginalTimestamps)),
              this.prefixWithSilence_(e, r),
              (e.samples = this.generateSampleTable_(r)),
              (o = il.mdat(this.concatenateFrameData_(r))),
              (n = []),
              (s = il.moof(i, [e])),
              (a = new Uint8Array(s.byteLength + o.byteLength)),
              i++,
              a.set(s),
              a.set(o, s.byteLength),
              dl(e),
              this.trigger("data", {
                track: e,
                boxes: a,
              })),
              this.trigger("done", "AudioSegmentStream");
          }),
          (this.prefixWithSilence_ = function (e, t) {
            var n,
              i,
              r,
              a,
              l = 0,
              c = 0,
              u = 0;
            if (
              t.length &&
              ((n = yc(e.baseMediaDecodeTime, e.samplerate)),
              (i = Math.ceil(9e4 / (e.samplerate / 1024))),
              s &&
                o &&
                ((l = n - Math.max(s, o)), (u = (c = Math.floor(l / i)) * i)),
              !(1 > c || u > 45e3))
            ) {
              for ((r = dc[e.samplerate]) || (r = t[0].data), a = 0; c > a; a++)
                t.splice(a, 0, {
                  data: r,
                });
              e.baseMediaDecodeTime -= Math.floor(bc(u, e.samplerate));
            }
          }),
          (this.trimAdtsFramesByEarliestDts_ = function (t) {
            return e.minSegmentDts >= r
              ? t
              : ((e.minSegmentDts = 1 / 0),
                t.filter(function (t) {
                  return (
                    t.dts >= r &&
                    ((e.minSegmentDts = Math.min(e.minSegmentDts, t.dts)),
                    (e.minSegmentPts = e.minSegmentDts),
                    !0)
                  );
                }));
          }),
          (this.generateSampleTable_ = function (e) {
            var t,
              n,
              i = [];
            for (t = 0; t < e.length; t++)
              (n = e[t]),
                i.push({
                  size: n.data.byteLength,
                  duration: 1024,
                });
            return i;
          }),
          (this.concatenateFrameData_ = function (e) {
            var t,
              n,
              i = 0,
              r = new Uint8Array(vc(e));
            for (t = 0; t < e.length; t++)
              (n = e[t]), r.set(n.data, i), (i += n.data.byteLength);
            return r;
          });
      }).prototype = new sl()),
      ((pc = function (e, t) {
        var n,
          i,
          r = 0,
          s = [],
          o = [];
        (t = t || {}),
          pc.prototype.init.call(this),
          delete e.minPTS,
          (this.gopCache_ = []),
          (this.push = function (t) {
            hl(e, t),
              "seq_parameter_set_rbsp" !== t.nalUnitType ||
                n ||
                ((n = t.config),
                (e.sps = [t.data]),
                kc.forEach(function (t) {
                  e[t] = n[t];
                }, this)),
              "pic_parameter_set_rbsp" !== t.nalUnitType ||
                i ||
                ((i = t.data), (e.pps = [t.data])),
              s.push(t);
          }),
          (this.flush = function () {
            for (
              var n, i, a, l, c, u;
              s.length && "access_unit_delimiter_rbsp" !== s[0].nalUnitType;

            )
              s.shift();
            if (0 === s.length)
              return (
                this.resetStream_(),
                void this.trigger("done", "VideoSegmentStream")
              );
            if (
              ((n = ol(s)),
              (a = al(n))[0][0].keyFrame ||
                ((i = this.getGopForFusion_(s[0], e))
                  ? (a.unshift(i),
                    (a.byteLength += i.byteLength),
                    (a.nalCount += i.nalCount),
                    (a.pts = i.pts),
                    (a.dts = i.dts),
                    (a.duration += i.duration))
                  : (a = ll(a))),
              o.length)
            ) {
              var d;
              if (
                !(d = t.alignGopsAtEnd
                  ? this.alignGopsAtEnd_(a)
                  : this.alignGopsAtStart_(a))
              )
                return (
                  this.gopCache_.unshift({
                    gop: a.pop(),
                    pps: e.pps,
                    sps: e.sps,
                  }),
                  (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
                  (s = []),
                  this.resetStream_(),
                  void this.trigger("done", "VideoSegmentStream")
                );
              dl(e), (a = d);
            }
            hl(e, a),
              (e.samples = cl(a)),
              (c = il.mdat(ul(a))),
              (e.baseMediaDecodeTime = pl(e, t.keepOriginalTimestamps)),
              this.trigger(
                "processedGopsInfo",
                a.map(function (e) {
                  return {
                    pts: e.pts,
                    dts: e.dts,
                    byteLength: e.byteLength,
                  };
                })
              ),
              this.gopCache_.unshift({
                gop: a.pop(),
                pps: e.pps,
                sps: e.sps,
              }),
              (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
              (s = []),
              this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
              this.trigger("timelineStartInfo", e.timelineStartInfo),
              (l = il.moof(r, [e])),
              (u = new Uint8Array(l.byteLength + c.byteLength)),
              r++,
              u.set(l),
              u.set(c, l.byteLength),
              this.trigger("data", {
                track: e,
                boxes: u,
              }),
              this.resetStream_(),
              this.trigger("done", "VideoSegmentStream");
          }),
          (this.resetStream_ = function () {
            dl(e), (i = n = void 0);
          }),
          (this.getGopForFusion_ = function (t) {
            var n,
              i,
              r,
              s,
              o,
              a = 1 / 0;
            for (o = 0; o < this.gopCache_.length; o++)
              (r = (s = this.gopCache_[o]).gop),
                e.pps &&
                  _c(e.pps[0], s.pps[0]) &&
                  e.sps &&
                  _c(e.sps[0], s.sps[0]) &&
                  (r.dts < e.timelineStartInfo.dts ||
                    (-1e4 <= (n = t.dts - r.dts - r.duration) &&
                      45e3 >= n &&
                      (!i || a > n) &&
                      ((i = s), (a = n))));
            return i ? i.gop : null;
          }),
          (this.alignGopsAtStart_ = function (e) {
            var t, n, i, r, s, a, l, c;
            for (
              s = e.byteLength, a = e.nalCount, l = e.duration, t = n = 0;
              t < o.length &&
              n < e.length &&
              ((i = o[t]), (r = e[n]), i.pts !== r.pts);

            )
              r.pts > i.pts
                ? t++
                : (n++,
                  (s -= r.byteLength),
                  (a -= r.nalCount),
                  (l -= r.duration));
            return 0 === n
              ? e
              : n === e.length
              ? null
              : (((c = e.slice(n)).byteLength = s),
                (c.duration = l),
                (c.nalCount = a),
                (c.pts = c[0].pts),
                (c.dts = c[0].dts),
                c);
          }),
          (this.alignGopsAtEnd_ = function (e) {
            var t, n, i, r, s, a, l;
            for (
              t = o.length - 1, n = e.length - 1, s = null, a = !1;
              t >= 0 && n >= 0;

            ) {
              if (((i = o[t]), (r = e[n]), i.pts === r.pts)) {
                a = !0;
                break;
              }
              i.pts > r.pts ? t-- : (t === o.length - 1 && (s = n), n--);
            }
            if (!a && null === s) return null;
            if (0 === (l = a ? n : s)) return e;
            var c = e.slice(l),
              u = c.reduce(
                function (e, t) {
                  return (
                    (e.byteLength += t.byteLength),
                    (e.duration += t.duration),
                    (e.nalCount += t.nalCount),
                    e
                  );
                },
                {
                  byteLength: 0,
                  duration: 0,
                  nalCount: 0,
                }
              );
            return (
              (c.byteLength = u.byteLength),
              (c.duration = u.duration),
              (c.nalCount = u.nalCount),
              (c.pts = c[0].pts),
              (c.dts = c[0].dts),
              c
            );
          }),
          (this.alignGopsWith = function (e) {
            o = e;
          });
      }).prototype = new sl()),
      ((mc = function (e, t) {
        (this.numberOfTracks = 0),
          (this.metadataStream = t),
          (this.remuxTracks = "undefined" != typeof e.remux ? !!e.remux : !0),
          (this.pendingTracks = []),
          (this.videoTrack = null),
          (this.pendingBoxes = []),
          (this.pendingCaptions = []),
          (this.pendingMetadata = []),
          (this.pendingBytes = 0),
          (this.emittedTracks = 0),
          mc.prototype.init.call(this),
          (this.push = function (e) {
            return e.text
              ? this.pendingCaptions.push(e)
              : e.frames
              ? this.pendingMetadata.push(e)
              : (this.pendingTracks.push(e.track),
                this.pendingBoxes.push(e.boxes),
                (this.pendingBytes += e.boxes.byteLength),
                "video" === e.track.type && (this.videoTrack = e.track),
                void ("audio" === e.track.type && (this.audioTrack = e.track)));
          });
      }).prototype = new sl()),
      (mc.prototype.flush = function (e) {
        var t,
          n,
          i,
          r,
          s = 0,
          o = {
            captions: [],
            captionStreams: {},
            metadata: [],
            info: {},
          },
          a = 0;
        if (this.pendingTracks.length < this.numberOfTracks) {
          if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
          if (this.remuxTracks) return;
          if (0 === this.pendingTracks.length)
            return (
              this.emittedTracks++,
              void (
                this.emittedTracks >= this.numberOfTracks &&
                (this.trigger("done"), (this.emittedTracks = 0))
              )
            );
        }
        for (
          this.videoTrack
            ? ((a = this.videoTrack.timelineStartInfo.pts),
              kc.forEach(function (e) {
                o.info[e] = this.videoTrack[e];
              }, this))
            : this.audioTrack &&
              ((a = this.audioTrack.timelineStartInfo.pts),
              Cc.forEach(function (e) {
                o.info[e] = this.audioTrack[e];
              }, this)),
            o.type =
              1 === this.pendingTracks.length
                ? this.pendingTracks[0].type
                : "combined",
            this.emittedTracks += this.pendingTracks.length,
            i = il.initSegment(this.pendingTracks),
            o.initSegment = new Uint8Array(i.byteLength),
            o.initSegment.set(i),
            o.data = new Uint8Array(this.pendingBytes),
            r = 0;
          r < this.pendingBoxes.length;
          r++
        )
          o.data.set(this.pendingBoxes[r], s),
            (s += this.pendingBoxes[r].byteLength);
        for (r = 0; r < this.pendingCaptions.length; r++)
          ((t = this.pendingCaptions[r]).startTime = t.startPts - a),
            (t.startTime /= 9e4),
            (t.endTime = t.endPts - a),
            (t.endTime /= 9e4),
            (o.captionStreams[t.stream] = !0),
            o.captions.push(t);
        for (r = 0; r < this.pendingMetadata.length; r++)
          ((n = this.pendingMetadata[r]).cueTime = n.pts - a),
            (n.cueTime /= 9e4),
            o.metadata.push(n);
        (o.metadata.dispatchType = this.metadataStream.dispatchType),
          (this.pendingTracks.length = 0),
          (this.videoTrack = null),
          (this.pendingBoxes.length = 0),
          (this.pendingCaptions.length = 0),
          (this.pendingBytes = 0),
          (this.pendingMetadata.length = 0),
          this.trigger("data", o),
          this.emittedTracks >= this.numberOfTracks &&
            (this.trigger("done"), (this.emittedTracks = 0));
      }),
      ((fc = function (e) {
        var t,
          n,
          i = this,
          r = !0;
        fc.prototype.init.call(this),
          (e = e || {}),
          (this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0),
          (this.transmuxPipeline_ = {}),
          (this.setupAacPipeline = function () {
            var t = {};
            ((this.transmuxPipeline_ = t).type = "aac"),
              (t.metadataStream = new ql.MetadataStream()),
              (t.aacStream = new oc()),
              (t.audioTimestampRolloverStream = new ql.TimestampRolloverStream(
                "audio"
              )),
              (t.timedMetadataTimestampRolloverStream =
                new ql.TimestampRolloverStream("timed-metadata")),
              (t.adtsStream = new Yl()),
              (t.coalesceStream = new mc(e, t.metadataStream)),
              (t.headOfPipeline = t.aacStream),
              t.aacStream
                .pipe(t.audioTimestampRolloverStream)
                .pipe(t.adtsStream),
              t.aacStream
                .pipe(t.timedMetadataTimestampRolloverStream)
                .pipe(t.metadataStream)
                .pipe(t.coalesceStream),
              t.metadataStream.on("timestamp", function (e) {
                t.aacStream.setTimestamp(e.timeStamp);
              }),
              t.aacStream.on("data", function (r) {
                "timed-metadata" !== r.type ||
                  t.audioSegmentStream ||
                  ((n = n || {
                    timelineStartInfo: {
                      baseMediaDecodeTime: i.baseMediaDecodeTime,
                    },
                    codec: "adts",
                    type: "audio",
                  }),
                  t.coalesceStream.numberOfTracks++,
                  (t.audioSegmentStream = new hc(n, e)),
                  t.adtsStream
                    .pipe(t.audioSegmentStream)
                    .pipe(t.coalesceStream));
              }),
              t.coalesceStream.on("data", this.trigger.bind(this, "data")),
              t.coalesceStream.on("done", this.trigger.bind(this, "done"));
          }),
          (this.setupTsPipeline = function () {
            var r = {};
            ((this.transmuxPipeline_ = r).type = "ts"),
              (r.metadataStream = new ql.MetadataStream()),
              (r.packetStream = new ql.TransportPacketStream()),
              (r.parseStream = new ql.TransportParseStream()),
              (r.elementaryStream = new ql.ElementaryStream()),
              (r.videoTimestampRolloverStream = new ql.TimestampRolloverStream(
                "video"
              )),
              (r.audioTimestampRolloverStream = new ql.TimestampRolloverStream(
                "audio"
              )),
              (r.timedMetadataTimestampRolloverStream =
                new ql.TimestampRolloverStream("timed-metadata")),
              (r.adtsStream = new Yl()),
              (r.h264Stream = new wc()),
              (r.captionStream = new ql.CaptionStream()),
              (r.coalesceStream = new mc(e, r.metadataStream)),
              (r.headOfPipeline = r.packetStream),
              r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),
              r.elementaryStream
                .pipe(r.videoTimestampRolloverStream)
                .pipe(r.h264Stream),
              r.elementaryStream
                .pipe(r.audioTimestampRolloverStream)
                .pipe(r.adtsStream),
              r.elementaryStream
                .pipe(r.timedMetadataTimestampRolloverStream)
                .pipe(r.metadataStream)
                .pipe(r.coalesceStream),
              r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),
              r.elementaryStream.on("data", function (s) {
                var o;
                if ("metadata" === s.type) {
                  for (o = s.tracks.length; o--; )
                    t || "video" !== s.tracks[o].type
                      ? n ||
                        "audio" !== s.tracks[o].type ||
                        ((n =
                          s.tracks[o]).timelineStartInfo.baseMediaDecodeTime =
                          i.baseMediaDecodeTime)
                      : ((t =
                          s.tracks[o]).timelineStartInfo.baseMediaDecodeTime =
                          i.baseMediaDecodeTime);
                  t &&
                    !r.videoSegmentStream &&
                    (r.coalesceStream.numberOfTracks++,
                    (r.videoSegmentStream = new pc(t, e)),
                    r.videoSegmentStream.on("timelineStartInfo", function (e) {
                      n &&
                        ((n.timelineStartInfo = e),
                        r.audioSegmentStream.setEarliestDts(e.dts));
                    }),
                    r.videoSegmentStream.on(
                      "processedGopsInfo",
                      i.trigger.bind(i, "gopInfo")
                    ),
                    r.videoSegmentStream.on(
                      "baseMediaDecodeTime",
                      function (e) {
                        n &&
                          r.audioSegmentStream.setVideoBaseMediaDecodeTime(e);
                      }
                    ),
                    r.h264Stream
                      .pipe(r.videoSegmentStream)
                      .pipe(r.coalesceStream)),
                    n &&
                      !r.audioSegmentStream &&
                      (r.coalesceStream.numberOfTracks++,
                      (r.audioSegmentStream = new hc(n, e)),
                      r.adtsStream
                        .pipe(r.audioSegmentStream)
                        .pipe(r.coalesceStream));
                }
              }),
              r.coalesceStream.on("data", this.trigger.bind(this, "data")),
              r.coalesceStream.on("done", this.trigger.bind(this, "done"));
          }),
          (this.setBaseMediaDecodeTime = function (e) {
            var i = this.transmuxPipeline_;
            (this.baseMediaDecodeTime = e),
              n &&
                ((n.timelineStartInfo.dts = void 0),
                (n.timelineStartInfo.pts = void 0),
                dl(n),
                (n.timelineStartInfo.baseMediaDecodeTime = e),
                i.audioTimestampRolloverStream &&
                  i.audioTimestampRolloverStream.discontinuity()),
              t &&
                (i.videoSegmentStream &&
                  ((i.videoSegmentStream.gopCache_ = []),
                  i.videoTimestampRolloverStream.discontinuity()),
                (t.timelineStartInfo.dts = void 0),
                (t.timelineStartInfo.pts = void 0),
                dl(t),
                i.captionStream.reset(),
                (t.timelineStartInfo.baseMediaDecodeTime = e)),
              i.timedMetadataTimestampRolloverStream &&
                i.timedMetadataTimestampRolloverStream.discontinuity();
          }),
          (this.setAudioAppendStart = function (e) {
            n &&
              this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e);
          }),
          (this.alignGopsWith = function (e) {
            t &&
              this.transmuxPipeline_.videoSegmentStream &&
              this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e);
          }),
          (this.push = function (e) {
            if (r) {
              var t = gc(e);
              t && "aac" !== this.transmuxPipeline_.type
                ? this.setupAacPipeline()
                : t ||
                  "ts" === this.transmuxPipeline_.type ||
                  this.setupTsPipeline(),
                (r = !1);
            }
            this.transmuxPipeline_.headOfPipeline.push(e);
          }),
          (this.flush = function () {
            (r = !0), this.transmuxPipeline_.headOfPipeline.flush();
          }),
          (this.resetCaptions = function () {
            this.transmuxPipeline_.captionStream &&
              this.transmuxPipeline_.captionStream.reset();
          });
      }).prototype = new sl());
    var Tc,
      Ec,
      Sc = {
        Transmuxer: fc,
        VideoSegmentStream: pc,
        AudioSegmentStream: hc,
        AUDIO_PROPERTIES: Cc,
        VIDEO_PROPERTIES: kc,
      },
      xc = tl.parseType,
      Pc = function (e) {
        return new Date(1e3 * e - 20828448e5);
      },
      Oc = function (e) {
        return {
          isLeading: (12 & e[0]) >>> 2,
          dependsOn: 3 & e[0],
          isDependedOn: (192 & e[1]) >>> 6,
          hasRedundancy: (48 & e[1]) >>> 4,
          paddingValue: (14 & e[1]) >>> 1,
          isNonSyncSample: 1 & e[1],
          degradationPriority: (e[2] << 8) | e[3],
        };
      },
      Ac = {
        avc1: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
          return {
            dataReferenceIndex: t.getUint16(6),
            width: t.getUint16(24),
            height: t.getUint16(26),
            horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
            vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
            frameCount: t.getUint16(40),
            depth: t.getUint16(74),
            config: Tc(e.subarray(78, e.byteLength)),
          };
        },
        avcC: function (e) {
          var t,
            n,
            i,
            r,
            s = new DataView(e.buffer, e.byteOffset, e.byteLength),
            o = {
              configurationVersion: e[0],
              avcProfileIndication: e[1],
              profileCompatibility: e[2],
              avcLevelIndication: e[3],
              lengthSizeMinusOne: 3 & e[4],
              sps: [],
              pps: [],
            },
            a = 31 & e[5];
          for (i = 6, r = 0; a > r; r++)
            (n = s.getUint16(i)),
              (i += 2),
              o.sps.push(new Uint8Array(e.subarray(i, i + n))),
              (i += n);
          for (t = e[i], i++, r = 0; t > r; r++)
            (n = s.getUint16(i)),
              (i += 2),
              o.pps.push(new Uint8Array(e.subarray(i, i + n))),
              (i += n);
          return o;
        },
        btrt: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
          return {
            bufferSizeDB: t.getUint32(0),
            maxBitrate: t.getUint32(4),
            avgBitrate: t.getUint32(8),
          };
        },
        esds: function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            esId: (e[6] << 8) | e[7],
            streamPriority: 31 & e[8],
            decoderConfig: {
              objectProfileIndication: e[11],
              streamType: (e[12] >>> 2) & 63,
              bufferSize: (e[13] << 16) | (e[14] << 8) | e[15],
              maxBitrate: (e[16] << 24) | (e[17] << 16) | (e[18] << 8) | e[19],
              avgBitrate: (e[20] << 24) | (e[21] << 16) | (e[22] << 8) | e[23],
              decoderConfigDescriptor: {
                tag: e[24],
                length: e[25],
                audioObjectType: (e[26] >>> 3) & 31,
                samplingFrequencyIndex:
                  ((7 & e[26]) << 1) | ((e[27] >>> 7) & 1),
                channelConfiguration: (e[27] >>> 3) & 15,
              },
            },
          };
        },
        ftyp: function (e) {
          for (
            var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
              n = {
                majorBrand: xc(e.subarray(0, 4)),
                minorVersion: t.getUint32(4),
                compatibleBrands: [],
              },
              i = 8;
            i < e.byteLength;

          )
            n.compatibleBrands.push(xc(e.subarray(i, i + 4))), (i += 4);
          return n;
        },
        dinf: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        dref: function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            dataReferences: Tc(e.subarray(8)),
          };
        },
        hdlr: function (e) {
          var t = {
              version: new DataView(
                e.buffer,
                e.byteOffset,
                e.byteLength
              ).getUint8(0),
              flags: new Uint8Array(e.subarray(1, 4)),
              handlerType: xc(e.subarray(8, 12)),
              name: "",
            },
            n = 8;
          for (n = 24; n < e.byteLength; n++) {
            if (0 === e[n]) {
              n++;
              break;
            }
            t.name += String.fromCharCode(e[n]);
          }
          return (t.name = decodeURIComponent(escape(t.name))), t;
        },
        mdat: function (e) {
          return {
            byteLength: e.byteLength,
            nals: (function (e) {
              var t,
                n,
                i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                r = [];
              for (t = 0; t + 4 < e.length; t += n)
                if (((n = i.getUint32(t)), (t += 4), 0 >= n))
                  r.push("<span style='color:red;'>MALFORMED DATA</span>");
                else
                  switch (31 & e[t]) {
                    case 1:
                      r.push("slice_layer_without_partitioning_rbsp");
                      break;
                    case 5:
                      r.push("slice_layer_without_partitioning_rbsp_idr");
                      break;
                    case 6:
                      r.push("sei_rbsp");
                      break;
                    case 7:
                      r.push("seq_parameter_set_rbsp");
                      break;
                    case 8:
                      r.push("pic_parameter_set_rbsp");
                      break;
                    case 9:
                      r.push("access_unit_delimiter_rbsp");
                      break;
                    default:
                      r.push(("UNKNOWN NAL - " + e[t]) & 31);
                  }
              return r;
            })(e),
          };
        },
        mdhd: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = 4,
            r = {
              version: n.getUint8(0),
              flags: new Uint8Array(e.subarray(1, 4)),
              language: "",
            };
          return (
            1 === r.version
              ? ((i += 4),
                (r.creationTime = Pc(n.getUint32(i))),
                (i += 8),
                (r.modificationTime = Pc(n.getUint32(i))),
                (i += 4),
                (r.timescale = n.getUint32(i)),
                (i += 8))
              : ((r.creationTime = Pc(n.getUint32(i))),
                (i += 4),
                (r.modificationTime = Pc(n.getUint32(i))),
                (i += 4),
                (r.timescale = n.getUint32(i)),
                (i += 4)),
            (r.duration = n.getUint32(i)),
            (i += 4),
            (t = n.getUint16(i)),
            (r.language += String.fromCharCode(96 + (t >> 10))),
            (r.language += String.fromCharCode(96 + ((992 & t) >> 5))),
            (r.language += String.fromCharCode(96 + (31 & t))),
            r
          );
        },
        mdia: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        mfhd: function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            sequenceNumber: (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
          };
        },
        minf: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        mp4a: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
            n = {
              dataReferenceIndex: t.getUint16(6),
              channelcount: t.getUint16(16),
              samplesize: t.getUint16(18),
              samplerate: t.getUint16(24) + t.getUint16(26) / 65536,
            };
          return (
            28 < e.byteLength && (n.streamDescriptor = Tc(e.subarray(28))[0]), n
          );
        },
        moof: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        moov: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        mvex: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        mvhd: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
            n = 4,
            i = {
              version: t.getUint8(0),
              flags: new Uint8Array(e.subarray(1, 4)),
            };
          return (
            1 === i.version
              ? ((n += 4),
                (i.creationTime = Pc(t.getUint32(n))),
                (n += 8),
                (i.modificationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.timescale = t.getUint32(n)),
                (n += 8))
              : ((i.creationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.modificationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.timescale = t.getUint32(n)),
                (n += 4)),
            (i.duration = t.getUint32(n)),
            (n += 4),
            (i.rate = t.getUint16(n) + t.getUint16(n + 2) / 16),
            (n += 4),
            (i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8),
            (n += 2),
            (n += 2),
            (n += 8),
            (i.matrix = new Uint32Array(e.subarray(n, n + 36))),
            (n += 36),
            (n += 24),
            (i.nextTrackId = t.getUint32(n)),
            i
          );
        },
        pdin: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
          return {
            version: t.getUint8(0),
            flags: new Uint8Array(e.subarray(1, 4)),
            rate: t.getUint32(4),
            initialDelay: t.getUint32(8),
          };
        },
        sdtp: function (e) {
          var t,
            n = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              samples: [],
            };
          for (t = 4; t < e.byteLength; t++)
            n.samples.push({
              dependsOn: (48 & e[t]) >> 4,
              isDependedOn: (12 & e[t]) >> 2,
              hasRedundancy: 3 & e[t],
            });
          return n;
        },
        sidx: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              references: [],
              referenceId: n.getUint32(4),
              timescale: n.getUint32(8),
              earliestPresentationTime: n.getUint32(12),
              firstOffset: n.getUint32(16),
            },
            r = n.getUint16(22);
          for (t = 24; r; t += 12, r--)
            i.references.push({
              referenceType: (128 & e[t]) >>> 7,
              referencedSize: 2147483647 & n.getUint32(t),
              subsegmentDuration: n.getUint32(t + 4),
              startsWithSap: !!(128 & e[t + 8]),
              sapType: (112 & e[t + 8]) >>> 4,
              sapDeltaTime: 268435455 & n.getUint32(t + 8),
            });
          return i;
        },
        smhd: function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            balance: e[4] + e[5] / 256,
          };
        },
        stbl: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        stco: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              chunkOffsets: [],
            },
            r = n.getUint32(4);
          for (t = 8; r; t += 4, r--) i.chunkOffsets.push(n.getUint32(t));
          return i;
        },
        stsc: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = n.getUint32(4),
            r = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              sampleToChunks: [],
            };
          for (t = 8; i; t += 12, i--)
            r.sampleToChunks.push({
              firstChunk: n.getUint32(t),
              samplesPerChunk: n.getUint32(t + 4),
              sampleDescriptionIndex: n.getUint32(t + 8),
            });
          return r;
        },
        stsd: function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            sampleDescriptions: Tc(e.subarray(8)),
          };
        },
        stsz: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              sampleSize: n.getUint32(4),
              entries: [],
            };
          for (t = 12; t < e.byteLength; t += 4) i.entries.push(n.getUint32(t));
          return i;
        },
        stts: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              timeToSamples: [],
            },
            r = n.getUint32(4);
          for (t = 8; r; t += 8, r--)
            i.timeToSamples.push({
              sampleCount: n.getUint32(t),
              sampleDelta: n.getUint32(t + 4),
            });
          return i;
        },
        styp: function (e) {
          return Ac.ftyp(e);
        },
        tfdt: function (e) {
          var t = {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            baseMediaDecodeTime:
              (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
          };
          return (
            1 === t.version &&
              ((t.baseMediaDecodeTime *= Math.pow(2, 32)),
              (t.baseMediaDecodeTime +=
                (e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11])),
            t
          );
        },
        tfhd: function (e) {
          var t,
            n = new DataView(e.buffer, e.byteOffset, e.byteLength),
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              trackId: n.getUint32(4),
            },
            r = 1 & i.flags[2],
            s = 2 & i.flags[2],
            o = 8 & i.flags[2],
            a = 16 & i.flags[2],
            l = 32 & i.flags[2],
            c = 65536 & i.flags[0],
            u = 131072 & i.flags[0];
          return (
            (t = 8),
            r && ((t += 4), (i.baseDataOffset = n.getUint32(12)), (t += 4)),
            s && ((i.sampleDescriptionIndex = n.getUint32(t)), (t += 4)),
            o && ((i.defaultSampleDuration = n.getUint32(t)), (t += 4)),
            a && ((i.defaultSampleSize = n.getUint32(t)), (t += 4)),
            l && (i.defaultSampleFlags = n.getUint32(t)),
            c && (i.durationIsEmpty = !0),
            !r && u && (i.baseDataOffsetIsMoof = !0),
            i
          );
        },
        tkhd: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
            n = 4,
            i = {
              version: t.getUint8(0),
              flags: new Uint8Array(e.subarray(1, 4)),
            };
          return (
            1 === i.version
              ? ((n += 4),
                (i.creationTime = Pc(t.getUint32(n))),
                (n += 8),
                (i.modificationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.trackId = t.getUint32(n)),
                (n += 4),
                (n += 8))
              : ((i.creationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.modificationTime = Pc(t.getUint32(n))),
                (n += 4),
                (i.trackId = t.getUint32(n)),
                (n += 4),
                (n += 4)),
            (i.duration = t.getUint32(n)),
            (n += 4),
            (n += 8),
            (i.layer = t.getUint16(n)),
            (n += 2),
            (i.alternateGroup = t.getUint16(n)),
            (n += 2),
            (i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8),
            (n += 2),
            (n += 2),
            (i.matrix = new Uint32Array(e.subarray(n, n + 36))),
            (n += 36),
            (i.width = t.getUint16(n) + t.getUint16(n + 2) / 16),
            (n += 4),
            (i.height = t.getUint16(n) + t.getUint16(n + 2) / 16),
            i
          );
        },
        traf: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        trak: function (e) {
          return {
            boxes: Tc(e),
          };
        },
        trex: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            trackId: t.getUint32(4),
            defaultSampleDescriptionIndex: t.getUint32(8),
            defaultSampleDuration: t.getUint32(12),
            defaultSampleSize: t.getUint32(16),
            sampleDependsOn: 3 & e[20],
            sampleIsDependedOn: (192 & e[21]) >> 6,
            sampleHasRedundancy: (48 & e[21]) >> 4,
            samplePaddingValue: (14 & e[21]) >> 1,
            sampleIsDifferenceSample: !!(1 & e[21]),
            sampleDegradationPriority: t.getUint16(22),
          };
        },
        trun: function (e) {
          var t,
            n = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              samples: [],
            },
            i = new DataView(e.buffer, e.byteOffset, e.byteLength),
            r = 1 & n.flags[2],
            s = 4 & n.flags[2],
            o = 1 & n.flags[1],
            a = 2 & n.flags[1],
            l = 4 & n.flags[1],
            c = 8 & n.flags[1],
            u = i.getUint32(4),
            d = 8;
          for (
            r && ((n.dataOffset = i.getInt32(d)), (d += 4)),
              s &&
                u &&
                ((t = {
                  flags: Oc(e.subarray(d, d + 4)),
                }),
                (d += 4),
                o && ((t.duration = i.getUint32(d)), (d += 4)),
                a && ((t.size = i.getUint32(d)), (d += 4)),
                c && ((t.compositionTimeOffset = i.getUint32(d)), (d += 4)),
                n.samples.push(t),
                u--);
            u--;

          )
            (t = {}),
              o && ((t.duration = i.getUint32(d)), (d += 4)),
              a && ((t.size = i.getUint32(d)), (d += 4)),
              l && ((t.flags = Oc(e.subarray(d, d + 4))), (d += 4)),
              c && ((t.compositionTimeOffset = i.getUint32(d)), (d += 4)),
              n.samples.push(t);
          return n;
        },
        "url ": function (e) {
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
          };
        },
        vmhd: function (e) {
          var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
          return {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            graphicsmode: t.getUint16(4),
            opcolor: new Uint16Array([
              t.getUint16(6),
              t.getUint16(8),
              t.getUint16(10),
            ]),
          };
        },
      },
      Ic = {
        inspect: (Tc = function (e) {
          for (
            var t,
              n,
              i,
              r,
              s,
              o = 0,
              a = [],
              l = new ArrayBuffer(e.length),
              c = new Uint8Array(l),
              u = 0;
            u < e.length;
            ++u
          )
            c[u] = e[u];
          for (t = new DataView(l); o < e.byteLength; )
            (n = t.getUint32(o)),
              (i = xc(e.subarray(o + 4, o + 8))),
              (r = n > 1 ? o + n : e.byteLength),
              ((s = (
                Ac[i] ||
                function (e) {
                  return {
                    data: e,
                  };
                }
              )(e.subarray(o + 8, r))).size = n),
              (s.type = i),
              a.push(s),
              (o = r);
          return a;
        }),
        textify: (Ec = function (e, t) {
          var n;
          return (
            (t = t || 0),
            (n = new Array(2 * t + 1).join(" ")),
            e
              .map(function (e) {
                return (
                  n +
                  e.type +
                  "\n" +
                  Object.keys(e)
                    .filter(function (e) {
                      return "type" !== e && "boxes" !== e;
                    })
                    .map(function (t) {
                      var i = n + "  " + t + ": ",
                        r = e[t];
                      if (r instanceof Uint8Array || r instanceof Uint32Array) {
                        var s = Array.prototype.slice
                          .call(
                            new Uint8Array(r.buffer, r.byteOffset, r.byteLength)
                          )
                          .map(function (e) {
                            return " " + ("00" + e.toString(16)).slice(-2);
                          })
                          .join("")
                          .match(/.{1,24}/g);
                        return s
                          ? 1 === s.length
                            ? i + "<" + s.join("").slice(1) + ">"
                            : i +
                              "<\n" +
                              s
                                .map(function (e) {
                                  return n + "  " + e;
                                })
                                .join("\n") +
                              "\n" +
                              n +
                              "  >"
                          : i + "<>";
                      }
                      return (
                        i +
                        JSON.stringify(r, null, 2)
                          .split("\n")
                          .map(function (e, t) {
                            return 0 === t ? e : n + "  " + e;
                          })
                          .join("\n")
                      );
                    })
                    .join("\n") +
                  (e.boxes ? "\n" + Ec(e.boxes, t + 1) : "")
                );
              })
              .join("\n")
          );
        }),
        parseTfdt: Ac.tfdt,
        parseHdlr: Ac.hdlr,
        parseTfhd: Ac.tfhd,
        parseTrun: Ac.trun,
      },
      Dc = _l,
      Mc = El.CaptionStream,
      Rc = function (e, t) {
        for (var n = e, i = 0; i < t.length; i++) {
          var r = t[i];
          if (n < r.size) return r;
          n -= r.size;
        }
        return null;
      },
      jc = function (e, t) {
        var n = tl.findBox(e, ["moof", "traf"]),
          i = tl.findBox(e, ["mdat"]),
          r = {},
          s = [];
        return (
          i.forEach(function (e, t) {
            var i = n[t];
            s.push({
              mdat: e,
              traf: i,
            });
          }),
          s.forEach(function (e) {
            var n,
              i,
              s,
              o,
              a,
              l,
              c,
              u,
              d = e.mdat,
              p = e.traf,
              h = tl.findBox(p, ["tfhd"]),
              f = Ic.parseTfhd(h[0]),
              m = f.trackId,
              g = tl.findBox(p, ["tfdt"]),
              _ = 0 < g.length ? Ic.parseTfdt(g[0]).baseMediaDecodeTime : 0,
              v = tl.findBox(p, ["trun"]);
            t === m &&
              0 < v.length &&
              ((i = v),
              (o = _),
              (a = (s = f).defaultSampleDuration || 0),
              (l = s.defaultSampleSize || 0),
              (c = s.trackId),
              (u = []),
              i.forEach(function (e) {
                var t = Ic.parseTrun(e).samples;
                t.forEach(function (e) {
                  void 0 === e.duration && (e.duration = a),
                    void 0 === e.size && (e.size = l),
                    (e.trackId = c),
                    (e.dts = o),
                    void 0 === e.compositionTimeOffset &&
                      (e.compositionTimeOffset = 0),
                    (e.pts = o + e.compositionTimeOffset),
                    (o += e.duration);
                }),
                  (u = u.concat(t));
              }),
              (n = (function (e, t, n) {
                var i,
                  r,
                  s,
                  o,
                  a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  l = [];
                for (r = 0; r + 4 < e.length; r += s)
                  if (((s = a.getUint32(r)), (r += 4), !(0 >= s)))
                    switch (31 & e[r]) {
                      case 6:
                        var c = e.subarray(r + 1, r + 1 + s),
                          u = Rc(r, t);
                        (i = {
                          nalUnitType: "sei_rbsp",
                          size: s,
                          data: c,
                          escapedRBSP: Dc(c),
                          trackId: n,
                        }),
                          u
                            ? ((i.pts = u.pts), (i.dts = u.dts), (o = u))
                            : ((i.pts = o.pts), (i.dts = o.dts)),
                          l.push(i);
                    }
                return l;
              })(d, u, m)),
              r[m] || (r[m] = []),
              (r[m] = r[m].concat(n)));
          }),
          r
        );
      },
      Lc = {
        generator: il,
        probe: tl,
        Transmuxer: Sc.Transmuxer,
        AudioSegmentStream: Sc.AudioSegmentStream,
        VideoSegmentStream: Sc.VideoSegmentStream,
        CaptionParser: function () {
          var e,
            t,
            n,
            i,
            r,
            s = !1;
          (this.isInitialized = function () {
            return s;
          }),
            (this.init = function () {
              (e = new Mc()),
                (s = !0),
                e.on("data", function (e) {
                  (e.startTime = e.startPts / i),
                    (e.endTime = e.endPts / i),
                    r.captions.push(e),
                    (r.captionStreams[e.stream] = !0);
                });
            }),
            (this.isNewInit = function (e, t) {
              return !(
                (e && 0 === e.length) ||
                (t && "object" == typeof t && 0 === Object.keys(t).length) ||
                (n === e[0] && i === t[n])
              );
            }),
            (this.parse = function (e, s, o) {
              var a, l, c, u;
              if (!this.isInitialized()) return null;
              if (!s || !o) return null;
              if (this.isNewInit(s, o)) (n = s[0]), (i = o[n]);
              else if (!n || !i) return t.push(e), null;
              for (; 0 < t.length; ) {
                var d = t.shift();
                this.parse(d, s, o);
              }
              return (
                (l = e),
                (u = i),
                null !==
                  (a = (c = n)
                    ? {
                        seiNals: jc(l, c)[c],
                        timescale: u,
                      }
                    : null) && a.seiNals
                  ? (this.pushNals(a.seiNals), this.flushStream(), r)
                  : null
              );
            }),
            (this.pushNals = function (t) {
              return this.isInitialized() && t && 0 !== t.length
                ? void t.forEach(function (t) {
                    e.push(t);
                  })
                : null;
            }),
            (this.flushStream = function () {
              return this.isInitialized() ? void e.flush() : null;
            }),
            (this.clearParsedCaptions = function () {
              (r.captions = []), (r.captionStreams = {});
            }),
            (this.resetCaptionStream = function () {
              return this.isInitialized() ? void e.reset() : null;
            }),
            (this.clearAllCaptions = function () {
              this.clearParsedCaptions(), this.resetCaptionStream();
            }),
            (this.reset = function () {
              (t = []),
                (i = n = null),
                r
                  ? this.clearParsedCaptions()
                  : (r = {
                      captions: [],
                      captionStreams: {},
                    }),
                this.resetCaptionStream();
            }),
            this.reset();
        },
      }.CaptionParser,
      Nc = function (e) {
        var t = 31 & e[1];
        return (t <<= 8), (t |= e[2]);
      },
      Uc = function (e) {
        return !!(64 & e[1]);
      },
      Bc = function (e) {
        var t = 0;
        return 1 < (48 & e[3]) >>> 4 && (t += e[4] + 1), t;
      },
      $c = function (e) {
        switch (e) {
          case 5:
            return "slice_layer_without_partitioning_rbsp_idr";
          case 6:
            return "sei_rbsp";
          case 7:
            return "seq_parameter_set_rbsp";
          case 8:
            return "pic_parameter_set_rbsp";
          case 9:
            return "access_unit_delimiter_rbsp";
          default:
            return null;
        }
      },
      Fc = {
        parseType: function (e, t) {
          var n = Nc(e);
          return 0 === n ? "pat" : n === t ? "pmt" : t ? "pes" : null;
        },
        parsePat: function (e) {
          var t = Uc(e),
            n = 4 + Bc(e);
          return t && (n += e[n] + 1), ((31 & e[n + 10]) << 8) | e[n + 11];
        },
        parsePmt: function (e) {
          var t = {},
            n = Uc(e),
            i = 4 + Bc(e);
          if ((n && (i += e[i] + 1), 1 & e[i + 5])) {
            var r;
            r = 3 + (((15 & e[i + 1]) << 8) | e[i + 2]) - 4;
            for (var s = 12 + (((15 & e[i + 10]) << 8) | e[i + 11]); r > s; ) {
              var o = i + s;
              (t[((31 & e[o + 1]) << 8) | e[o + 2]] = e[o]),
                (s += 5 + (((15 & e[o + 3]) << 8) | e[o + 4]));
            }
            return t;
          }
        },
        parsePayloadUnitStartIndicator: Uc,
        parsePesType: function (e, t) {
          switch (t[Nc(e)]) {
            case Sl.H264_STREAM_TYPE:
              return "video";
            case Sl.ADTS_STREAM_TYPE:
              return "audio";
            case Sl.METADATA_STREAM_TYPE:
              return "timed-metadata";
            default:
              return null;
          }
        },
        parsePesTime: function (e) {
          if (!Uc(e)) return null;
          var t = 4 + Bc(e);
          if (t >= e.byteLength) return null;
          var n,
            i = null;
          return (
            192 & (n = e[t + 7]) &&
              (((i = {}).pts =
                ((14 & e[t + 9]) << 27) |
                ((255 & e[t + 10]) << 20) |
                ((254 & e[t + 11]) << 12) |
                ((255 & e[t + 12]) << 5) |
                ((254 & e[t + 13]) >>> 3)),
              (i.pts *= 4),
              (i.pts += (6 & e[t + 13]) >>> 1),
              (i.dts = i.pts),
              64 & n &&
                ((i.dts =
                  ((14 & e[t + 14]) << 27) |
                  ((255 & e[t + 15]) << 20) |
                  ((254 & e[t + 16]) << 12) |
                  ((255 & e[t + 17]) << 5) |
                  ((254 & e[t + 18]) >>> 3)),
                (i.dts *= 4),
                (i.dts += (6 & e[t + 18]) >>> 1))),
            i
          );
        },
        videoPacketContainsKeyFrame: function (e) {
          for (
            var t = 4 + Bc(e), n = e.subarray(t), i = 0, r = 0, s = !1;
            r < n.byteLength - 3;
            r++
          )
            if (1 === n[r + 2]) {
              i = r + 5;
              break;
            }
          for (; i < n.byteLength; )
            switch (n[i]) {
              case 0:
                if (0 !== n[i - 1]) {
                  i += 2;
                  break;
                }
                if (0 !== n[i - 2]) {
                  i++;
                  break;
                }
                for (
                  r + 3 !== i - 2 &&
                  "slice_layer_without_partitioning_rbsp_idr" ===
                    $c(31 & n[r + 3]) &&
                  (s = !0);
                  1 !== n[++i] && i < n.length;

                );
                (r = i - 2), (i += 3);
                break;
              case 1:
                if (0 !== n[i - 1] || 0 !== n[i - 2]) {
                  i += 3;
                  break;
                }
                "slice_layer_without_partitioning_rbsp_idr" ===
                  $c(31 & n[r + 3]) && (s = !0),
                  (r = i - 2),
                  (i += 3);
                break;
              default:
                i += 3;
            }
          return (
            (n = n.subarray(r)),
            (i -= r),
            (r = 0),
            n &&
              3 < n.byteLength &&
              "slice_layer_without_partitioning_rbsp_idr" ===
                $c(31 & n[r + 3]) &&
              (s = !0),
            s
          );
        },
      },
      Hc = [
        96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025,
        8e3, 7350,
      ],
      Wc = function (e) {
        return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
      },
      qc = {
        parseId3TagSize: function (e, t) {
          var n =
            (e[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
          return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10;
        },
        parseAdtsSize: function (e, t) {
          var n = (224 & e[t + 5]) >> 5,
            i = e[t + 4] << 3;
          return (6144 & e[t + 3]) | i | n;
        },
        parseType: function (e, t) {
          return e[t] === "I".charCodeAt(0) &&
            e[t + 1] === "D".charCodeAt(0) &&
            e[t + 2] === "3".charCodeAt(0)
            ? "timed-metadata"
            : !0 & e[t] && 240 == (240 & e[t + 1])
            ? "audio"
            : null;
        },
        parseSampleRate: function (e) {
          for (var t = 0; t + 5 < e.length; ) {
            if (255 === e[t] && 240 == (246 & e[t + 1]))
              return Hc[(60 & e[t + 2]) >>> 2];
            t++;
          }
          return null;
        },
        parseAacTimestamp: function (e) {
          var t, n, i;
          (t = 10), 64 & e[5] && ((t += 4), (t += Wc(e.subarray(10, 14))));
          do {
            if ((n = Wc(e.subarray(t + 4, t + 8))) < 1) return null;
            if (
              "PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])
            ) {
              i = e.subarray(t + 10, t + n + 10);
              for (var r = 0; r < i.byteLength; r++)
                if (0 === i[r]) {
                  if (
                    "com.apple.streaming.transportStreamTimestamp" !==
                    unescape(
                      (function (e, t, n) {
                        var i,
                          r = "";
                        for (i = t; n > i; i++)
                          r += "%" + ("00" + e[i].toString(16)).slice(-2);
                        return r;
                      })(i, 0, r)
                    )
                  )
                    break;
                  var s = i.subarray(r + 1),
                    o =
                      ((1 & s[3]) << 30) |
                      (s[4] << 22) |
                      (s[5] << 14) |
                      (s[6] << 6) |
                      (s[7] >>> 2);
                  return (o *= 4), (o += 3 & s[7]);
                }
            }
            (t += 10), (t += n);
          } while (t < e.byteLength);
          return null;
        },
      },
      zc = Il,
      Vc = {};
    (Vc.ts = Fc), (Vc.aac = qc);
    var Kc = 188,
      Gc = function (e, t, n) {
        for (var i, r, s, o, a = 0, l = Kc, c = !1; l < e.byteLength; )
          if (71 !== e[a] || 71 !== e[l]) a++, l++;
          else {
            switch (((i = e.subarray(a, l)), Vc.ts.parseType(i, t.pid))) {
              case "pes":
                (r = Vc.ts.parsePesType(i, t.table)),
                  (s = Vc.ts.parsePayloadUnitStartIndicator(i)),
                  "audio" === r &&
                    s &&
                    (o = Vc.ts.parsePesTime(i)) &&
                    ((o.type = "audio"), n.audio.push(o), (c = !0));
            }
            if (c) break;
            (a += Kc), (l += Kc);
          }
        for (a = (l = e.byteLength) - Kc, c = !1; a >= 0; )
          if (71 !== e[a] || 71 !== e[l]) a--, l--;
          else {
            switch (((i = e.subarray(a, l)), Vc.ts.parseType(i, t.pid))) {
              case "pes":
                (r = Vc.ts.parsePesType(i, t.table)),
                  (s = Vc.ts.parsePayloadUnitStartIndicator(i)),
                  "audio" === r &&
                    s &&
                    (o = Vc.ts.parsePesTime(i)) &&
                    ((o.type = "audio"), n.audio.push(o), (c = !0));
            }
            if (c) break;
            (a -= Kc), (l -= Kc);
          }
      },
      Yc = function (e, t, n) {
        for (
          var i,
            r,
            s,
            o,
            a,
            l,
            c,
            u = 0,
            d = Kc,
            p = !1,
            h = {
              data: [],
              size: 0,
            };
          d < e.byteLength;

        )
          if (71 !== e[u] || 71 !== e[d]) u++, d++;
          else {
            switch (((i = e.subarray(u, d)), Vc.ts.parseType(i, t.pid))) {
              case "pes":
                if (
                  ((r = Vc.ts.parsePesType(i, t.table)),
                  (s = Vc.ts.parsePayloadUnitStartIndicator(i)),
                  "video" === r &&
                    (s &&
                      !p &&
                      (o = Vc.ts.parsePesTime(i)) &&
                      ((o.type = "video"), n.video.push(o), (p = !0)),
                    !n.firstKeyFrame))
                ) {
                  if (s && 0 !== h.size) {
                    for (a = new Uint8Array(h.size), l = 0; h.data.length; )
                      (c = h.data.shift()), a.set(c, l), (l += c.byteLength);
                    Vc.ts.videoPacketContainsKeyFrame(a) &&
                      ((n.firstKeyFrame = Vc.ts.parsePesTime(a)),
                      (n.firstKeyFrame.type = "video")),
                      (h.size = 0);
                  }
                  h.data.push(i), (h.size += i.byteLength);
                }
            }
            if (p && n.firstKeyFrame) break;
            (u += Kc), (d += Kc);
          }
        for (u = (d = e.byteLength) - Kc, p = !1; u >= 0; )
          if (71 !== e[u] || 71 !== e[d]) u--, d--;
          else {
            switch (((i = e.subarray(u, d)), Vc.ts.parseType(i, t.pid))) {
              case "pes":
                (r = Vc.ts.parsePesType(i, t.table)),
                  (s = Vc.ts.parsePayloadUnitStartIndicator(i)),
                  "video" === r &&
                    s &&
                    (o = Vc.ts.parsePesTime(i)) &&
                    ((o.type = "video"), n.video.push(o), (p = !0));
            }
            if (p) break;
            (u -= Kc), (d -= Kc);
          }
      },
      Xc = function (e) {
        var t = {
            pid: null,
            table: null,
          },
          n = {};
        for (var i in ((function (e, t) {
          for (var n, i = 0, r = Kc; r < e.byteLength; )
            if (71 !== e[i] || 71 !== e[r]) i++, r++;
            else {
              switch (((n = e.subarray(i, r)), Vc.ts.parseType(n, t.pid))) {
                case "pat":
                  t.pid || (t.pid = Vc.ts.parsePat(n));
                  break;
                case "pmt":
                  t.table || (t.table = Vc.ts.parsePmt(n));
              }
              if (t.pid && t.table) return;
              (i += Kc), (r += Kc);
            }
        })(e, t),
        t.table))
          if (t.table.hasOwnProperty(i))
            switch (t.table[i]) {
              case Sl.H264_STREAM_TYPE:
                (n.video = []),
                  Yc(e, t, n),
                  0 === n.video.length && delete n.video;
                break;
              case Sl.ADTS_STREAM_TYPE:
                (n.audio = []),
                  Gc(e, t, n),
                  0 === n.audio.length && delete n.audio;
            }
        return n;
      },
      Qc = function (e, t) {
        var n, i;
        return (i =
          (n = e)[0] === "I".charCodeAt(0) &&
          n[1] === "D".charCodeAt(0) &&
          n[2] === "3".charCodeAt(0)
            ? (function (e) {
                for (
                  var t, n = !1, i = 0, r = null, s = null, o = 0, a = 0;
                  3 <= e.length - a;

                ) {
                  switch (Vc.aac.parseType(e, a)) {
                    case "timed-metadata":
                      if (e.length - a < 10) {
                        n = !0;
                        break;
                      }
                      if ((o = Vc.aac.parseId3TagSize(e, a)) > e.length) {
                        n = !0;
                        break;
                      }
                      null === s &&
                        ((t = e.subarray(a, a + o)),
                        (s = Vc.aac.parseAacTimestamp(t))),
                        (a += o);
                      break;
                    case "audio":
                      if (e.length - a < 7) {
                        n = !0;
                        break;
                      }
                      if ((o = Vc.aac.parseAdtsSize(e, a)) > e.length) {
                        n = !0;
                        break;
                      }
                      null === r &&
                        ((t = e.subarray(a, a + o)),
                        (r = Vc.aac.parseSampleRate(t))),
                        i++,
                        (a += o);
                      break;
                    default:
                      a++;
                  }
                  if (n) return null;
                }
                if (null === r || null === s) return null;
                var l = 9e4 / r;
                return {
                  audio: [
                    {
                      type: "audio",
                      dts: s,
                      pts: s,
                    },
                    {
                      type: "audio",
                      dts: s + 1024 * i * l,
                      pts: s + 1024 * i * l,
                    },
                  ],
                };
              })(e)
            : Xc(e)) &&
          (i.audio || i.video)
          ? ((function (e, t) {
              if (e.audio && e.audio.length) {
                var n = t;
                "undefined" == typeof n && (n = e.audio[0].dts),
                  e.audio.forEach(function (e) {
                    (e.dts = zc(e.dts, n)),
                      (e.pts = zc(e.pts, n)),
                      (e.dtsTime = e.dts / 9e4),
                      (e.ptsTime = e.pts / 9e4);
                  });
              }
              if (e.video && e.video.length) {
                var i = t;
                if (
                  ("undefined" == typeof i && (i = e.video[0].dts),
                  e.video.forEach(function (e) {
                    (e.dts = zc(e.dts, i)),
                      (e.pts = zc(e.pts, i)),
                      (e.dtsTime = e.dts / 9e4),
                      (e.ptsTime = e.pts / 9e4);
                  }),
                  e.firstKeyFrame)
                ) {
                  var r = e.firstKeyFrame;
                  (r.dts = zc(r.dts, i)),
                    (r.pts = zc(r.pts, i)),
                    (r.dtsTime = r.dts / 9e4),
                    (r.ptsTime = r.dts / 9e4);
                }
              }
            })(i, t),
            i)
          : null;
      },
      Jc = function (e, t) {
        if (!(e instanceof t))
          throw new TypeError("Cannot call a class as a function");
      },
      Zc = (function () {
        function e(e, t) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            (i.enumerable = i.enumerable || !1),
              (i.configurable = !0),
              "value" in i && (i.writable = !0),
              Object.defineProperty(e, i.key, i);
          }
        }
        return function (t, n, i) {
          return n && e(t.prototype, n), i && e(t, i), t;
        };
      })(),
      eu = null,
      tu = (function () {
        function e(t) {
          Jc(this, e),
            eu ||
              (eu = (function () {
                var e = [
                    [[], [], [], [], []],
                    [[], [], [], [], []],
                  ],
                  t = e[0],
                  n = e[1],
                  i = t[4],
                  r = n[4],
                  s = void 0,
                  o = void 0,
                  a = void 0,
                  l = [],
                  c = [],
                  u = void 0,
                  d = void 0,
                  p = void 0,
                  h = void 0,
                  f = void 0;
                for (s = 0; 256 > s; s++)
                  c[(l[s] = (s << 1) ^ (283 * (s >> 7))) ^ s] = s;
                for (o = a = 0; !i[o]; o ^= u || 1, a = c[a] || 1)
                  for (
                    p =
                      ((p = a ^ (a << 1) ^ (a << 2) ^ (a << 3) ^ (a << 4)) >>
                        8) ^
                      (255 & p) ^
                      99,
                      f =
                        (16843009 * l[(d = l[(u = l[(r[(i[o] = p)] = o)])])]) ^
                        (65537 * d) ^
                        (257 * u) ^
                        (16843008 * o),
                      h = (257 * l[p]) ^ (16843008 * p),
                      s = 0;
                    4 > s;
                    s++
                  )
                    (t[s][o] = h = (h << 24) ^ (h >>> 8)),
                      (n[s][p] = f = (f << 24) ^ (f >>> 8));
                for (s = 0; 5 > s; s++)
                  (t[s] = t[s].slice(0)), (n[s] = n[s].slice(0));
                return e;
              })()),
            (this._tables = [
              [
                eu[0][0].slice(),
                eu[0][1].slice(),
                eu[0][2].slice(),
                eu[0][3].slice(),
                eu[0][4].slice(),
              ],
              [
                eu[1][0].slice(),
                eu[1][1].slice(),
                eu[1][2].slice(),
                eu[1][3].slice(),
                eu[1][4].slice(),
              ],
            ]);
          var n = void 0,
            i = void 0,
            r = void 0,
            s = void 0,
            o = void 0,
            a = this._tables[0][4],
            l = this._tables[1],
            c = t.length,
            u = 1;
          if (4 !== c && 6 !== c && 8 !== c)
            throw new Error("Invalid aes key size");
          for (
            s = t.slice(0), o = [], this._key = [s, o], n = c;
            4 * c + 28 > n;
            n++
          )
            (r = s[n - 1]),
              (n % c == 0 || (8 === c && n % c == 4)) &&
                ((r =
                  (a[r >>> 24] << 24) ^
                  (a[(r >> 16) & 255] << 16) ^
                  (a[(r >> 8) & 255] << 8) ^
                  a[255 & r]),
                n % c == 0 &&
                  ((r = (r << 8) ^ (r >>> 24) ^ (u << 24)),
                  (u = (u << 1) ^ (283 * (u >> 7))))),
              (s[n] = s[n - c] ^ r);
          for (i = 0; n; i++, n--)
            (r = s[3 & i ? n : n - 4]),
              (o[i] =
                4 >= n || 4 > i
                  ? r
                  : l[0][a[r >>> 24]] ^
                    l[1][a[(r >> 16) & 255]] ^
                    l[2][a[(r >> 8) & 255]] ^
                    l[3][a[255 & r]]);
        }
        return (
          (e.prototype.decrypt = function (e, t, n, i, r, s) {
            var o = this._key[1],
              a = e ^ o[0],
              l = i ^ o[1],
              c = n ^ o[2],
              u = t ^ o[3],
              d = void 0,
              p = void 0,
              h = void 0,
              f = o.length / 4 - 2,
              m = void 0,
              g = 4,
              _ = this._tables[1],
              v = _[0],
              y = _[1],
              b = _[2],
              w = _[3],
              C = _[4];
            for (m = 0; f > m; m++)
              (d =
                v[a >>> 24] ^
                y[(l >> 16) & 255] ^
                b[(c >> 8) & 255] ^
                w[255 & u] ^
                o[g]),
                (p =
                  v[l >>> 24] ^
                  y[(c >> 16) & 255] ^
                  b[(u >> 8) & 255] ^
                  w[255 & a] ^
                  o[g + 1]),
                (h =
                  v[c >>> 24] ^
                  y[(u >> 16) & 255] ^
                  b[(a >> 8) & 255] ^
                  w[255 & l] ^
                  o[g + 2]),
                (u =
                  v[u >>> 24] ^
                  y[(a >> 16) & 255] ^
                  b[(l >> 8) & 255] ^
                  w[255 & c] ^
                  o[g + 3]),
                (g += 4),
                (a = d),
                (l = p),
                (c = h);
            for (m = 0; 4 > m; m++)
              (r[(3 & -m) + s] =
                (C[a >>> 24] << 24) ^
                (C[(l >> 16) & 255] << 16) ^
                (C[(c >> 8) & 255] << 8) ^
                C[255 & u] ^
                o[g++]),
                (d = a),
                (a = l),
                (l = c),
                (c = u),
                (u = d);
          }),
          e
        );
      })(),
      nu = (function () {
        function e() {
          Jc(this, e), (this.listeners = {});
        }
        return (
          (e.prototype.on = function (e, t) {
            this.listeners[e] || (this.listeners[e] = []),
              this.listeners[e].push(t);
          }),
          (e.prototype.off = function (e, t) {
            if (!this.listeners[e]) return !1;
            var n = this.listeners[e].indexOf(t);
            return this.listeners[e].splice(n, 1), n > -1;
          }),
          (e.prototype.trigger = function (e) {
            var t = this.listeners[e];
            if (t)
              if (2 === arguments.length)
                for (var n = t.length, i = 0; n > i; ++i)
                  t[i].call(this, arguments[1]);
              else
                for (
                  var r = Array.prototype.slice.call(arguments, 1),
                    s = t.length,
                    o = 0;
                  s > o;
                  ++o
                )
                  t[o].apply(this, r);
          }),
          (e.prototype.dispose = function () {
            this.listeners = {};
          }),
          (e.prototype.pipe = function (e) {
            this.on("data", function (t) {
              e.push(t);
            });
          }),
          e
        );
      })(),
      iu = (function (e) {
        function t() {
          Jc(this, t);
          var n = (function (e, t) {
            if (!e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return !t || ("object" != typeof t && "function" != typeof t)
              ? e
              : t;
          })(this, e.call(this, nu));
          return (n.jobs = []), (n.delay = 1), (n.timeout_ = null), n;
        }
        return (
          (function (e, t) {
            if ("function" != typeof t && null !== t)
              throw new TypeError(
                "Super expression must either be null or a function, not " +
                  typeof t
              );
            (e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
              t &&
                (Object.setPrototypeOf
                  ? Object.setPrototypeOf(e, t)
                  : (e.__proto__ = t));
          })(t, e),
          (t.prototype.processJob_ = function () {
            this.jobs.shift()(),
              (this.timeout_ = this.jobs.length
                ? setTimeout(this.processJob_.bind(this), this.delay)
                : null);
          }),
          (t.prototype.push = function (e) {
            this.jobs.push(e),
              this.timeout_ ||
                (this.timeout_ = setTimeout(
                  this.processJob_.bind(this),
                  this.delay
                ));
          }),
          t
        );
      })(nu),
      ru = function (e) {
        return (
          (e << 24) | ((65280 & e) << 8) | ((16711680 & e) >> 8) | (e >>> 24)
        );
      },
      su = function (e, t, n) {
        var i = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
          r = new tu(Array.prototype.slice.call(t)),
          s = new Uint8Array(e.byteLength),
          o = new Int32Array(s.buffer),
          a = void 0,
          l = void 0,
          c = void 0,
          u = void 0,
          d = void 0,
          p = void 0,
          h = void 0,
          f = void 0,
          m = void 0;
        for (
          a = n[0], l = n[1], c = n[2], u = n[3], m = 0;
          m < i.length;
          m += 4
        )
          (d = ru(i[m])),
            (p = ru(i[m + 1])),
            (h = ru(i[m + 2])),
            (f = ru(i[m + 3])),
            r.decrypt(d, p, h, f, o, m),
            (o[m] = ru(o[m] ^ a)),
            (o[m + 1] = ru(o[m + 1] ^ l)),
            (o[m + 2] = ru(o[m + 2] ^ c)),
            (o[m + 3] = ru(o[m + 3] ^ u)),
            (a = d),
            (l = p),
            (c = h),
            (u = f);
        return s;
      },
      ou = (function () {
        function e(t, n, i, r) {
          Jc(this, e);
          var s = e.STEP,
            o = new Int32Array(t.buffer),
            a = new Uint8Array(t.byteLength),
            l = 0;
          for (
            this.asyncStream_ = new iu(),
              this.asyncStream_.push(
                this.decryptChunk_(o.subarray(l, l + s), n, i, a)
              ),
              l = s;
            l < o.length;
            l += s
          )
            (i = new Uint32Array([
              ru(o[l - 4]),
              ru(o[l - 3]),
              ru(o[l - 2]),
              ru(o[l - 1]),
            ])),
              this.asyncStream_.push(
                this.decryptChunk_(o.subarray(l, l + s), n, i, a)
              );
          this.asyncStream_.push(function () {
            var e;
            r(null, (e = a).subarray(0, e.byteLength - e[e.byteLength - 1]));
          });
        }
        return (
          (e.prototype.decryptChunk_ = function (e, t, n, i) {
            return function () {
              var r = su(e, t, n);
              i.set(r, e.byteOffset);
            };
          }),
          Zc(e, null, [
            {
              key: "STEP",
              get: function () {
                return 32e3;
              },
            },
          ]),
          e
        );
      })(),
      au = function (t, n) {
        return /^[a-z]+:/i.test(n)
          ? n
          : (/\/\//i.test(t) || (t = fo.buildAbsoluteURL(e.location.href, t)),
            fo.buildAbsoluteURL(t, n));
      },
      lu = function (e, t) {
        if (!(e instanceof t))
          throw new TypeError("Cannot call a class as a function");
      },
      cu = (function () {
        function e(e, t) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            (i.enumerable = i.enumerable || !1),
              (i.configurable = !0),
              "value" in i && (i.writable = !0),
              Object.defineProperty(e, i.key, i);
          }
        }
        return function (t, n, i) {
          return n && e(t.prototype, n), i && e(t, i), t;
        };
      })(),
      uu = function (e, t) {
        if ("function" != typeof t && null !== t)
          throw new TypeError(
            "Super expression must either be null or a function, not " +
              typeof t
          );
        (e.prototype = Object.create(t && t.prototype, {
          constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })),
          t &&
            (Object.setPrototypeOf
              ? Object.setPrototypeOf(e, t)
              : (e.__proto__ = t));
      },
      du = function (e, t) {
        if (!e)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called"
          );
        return !t || ("object" != typeof t && "function" != typeof t) ? e : t;
      },
      pu = function (e, t) {
        if (Array.isArray(e)) return e;
        if (Symbol.iterator in Object(e))
          return (function (e, t) {
            var n = [],
              i = !0,
              r = !1,
              s = void 0;
            try {
              for (
                var o, a = e[Symbol.iterator]();
                !(i = (o = a.next()).done) &&
                (n.push(o.value), !t || n.length !== t);
                i = !0
              );
            } catch (e) {
              (r = !0), (s = e);
            } finally {
              try {
                !i && a["return"] && a["return"]();
              } finally {
                if (r) throw s;
              }
            }
            return n;
          })(e, t);
        throw new TypeError(
          "Invalid attempt to destructure non-iterable instance"
        );
      },
      hu = Ft.mergeOptions,
      fu = Ft.EventTarget,
      mu = Ft.log,
      gu = function (e, t) {
        ["AUDIO", "SUBTITLES"].forEach(function (n) {
          for (var i in e.mediaGroups[n])
            for (var r in e.mediaGroups[n][i]) {
              var s = e.mediaGroups[n][i][r];
              t(s, n, i, r);
            }
        });
      },
      _u = function (e, t) {
        var n = hu(e, {}),
          i = n.playlists[t.uri];
        if (!i) return null;
        if (
          i.segments &&
          t.segments &&
          i.segments.length === t.segments.length &&
          i.mediaSequence === t.mediaSequence
        )
          return null;
        var r = hu(i, t);
        i.segments &&
          (r.segments = (function (e, t, n) {
            var i = t.slice();
            n = n || 0;
            for (var r = Math.min(e.length, t.length + n), s = n; r > s; s++)
              i[s - n] = hu(e[s], i[s - n]);
            return i;
          })(i.segments, t.segments, t.mediaSequence - i.mediaSequence)),
          r.segments.forEach(function (e) {
            var t, n;
            (t = e),
              (n = r.resolvedUri),
              t.resolvedUri || (t.resolvedUri = au(n, t.uri)),
              t.key &&
                !t.key.resolvedUri &&
                (t.key.resolvedUri = au(n, t.key.uri)),
              t.map &&
                !t.map.resolvedUri &&
                (t.map.resolvedUri = au(n, t.map.uri));
          });
        for (var s = 0; s < n.playlists.length; s++)
          n.playlists[s].uri === t.uri && (n.playlists[s] = r);
        return (n.playlists[t.uri] = r), n;
      },
      vu = function (e) {
        for (var t = e.playlists.length; t--; ) {
          var n = e.playlists[t];
          ((e.playlists[n.uri] = n).resolvedUri = au(e.uri, n.uri)),
            (n.id = t),
            n.attributes ||
              ((n.attributes = {}),
              mu.warn(
                "Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."
              ));
        }
      },
      yu = function (e) {
        gu(e, function (t) {
          t.uri && (t.resolvedUri = au(e.uri, t.uri));
        });
      },
      bu = function (e, t) {
        var n = e.segments[e.segments.length - 1];
        return t && n && n.duration
          ? 1e3 * n.duration
          : 500 * (e.targetDuration || 10);
      },
      wu = (function () {
        function t(e, n, i) {
          lu(this, t);
          var r = du(
            this,
            (t.__proto__ || Object.getPrototypeOf(t)).call(this)
          );
          if (
            ((r.srcUrl = e), (r.hls_ = n), (r.withCredentials = i), !r.srcUrl)
          )
            throw new Error("A non-empty playlist URL is required");
          return (
            (r.state = "HAVE_NOTHING"),
            r.on("mediaupdatetimeout", function () {
              "HAVE_METADATA" === r.state &&
                ((r.state = "HAVE_CURRENT_METADATA"),
                (r.request = r.hls_.xhr(
                  {
                    uri: au(r.master.uri, r.media().uri),
                    withCredentials: r.withCredentials,
                  },
                  function (e) {
                    return r.request
                      ? e
                        ? r.playlistRequestError(
                            r.request,
                            r.media().uri,
                            "HAVE_METADATA"
                          )
                        : void r.haveMetadata(r.request, r.media().uri)
                      : void 0;
                  }
                )));
            }),
            r
          );
        }
        return (
          uu(t, fu),
          cu(t, [
            {
              key: "playlistRequestError",
              value: function (e, t, n) {
                (this.request = null),
                  n && (this.state = n),
                  (this.error = {
                    playlist: this.master.playlists[t],
                    status: e.status,
                    message: "HLS playlist request error at URL: " + t,
                    responseText: e.responseText,
                    code: 500 <= e.status ? 4 : 2,
                  }),
                  this.trigger("error");
              },
            },
            {
              key: "haveMetadata",
              value: function (t, n) {
                var i = this;
                (this.request = null), (this.state = "HAVE_METADATA");
                var r = new ko();
                r.push(t.responseText),
                  r.end(),
                  (r.manifest.uri = n),
                  (r.manifest.attributes = r.manifest.attributes || {});
                var s = _u(this.master, r.manifest);
                (this.targetDuration = r.manifest.targetDuration),
                  s
                    ? ((this.master = s),
                      (this.media_ = this.master.playlists[r.manifest.uri]))
                    : this.trigger("playlistunchanged"),
                  this.media().endList ||
                    (e.clearTimeout(this.mediaUpdateTimeout),
                    (this.mediaUpdateTimeout = e.setTimeout(function () {
                      i.trigger("mediaupdatetimeout");
                    }, bu(this.media(), !!s)))),
                  this.trigger("loadedplaylist");
              },
            },
            {
              key: "dispose",
              value: function () {
                this.stopRequest(), e.clearTimeout(this.mediaUpdateTimeout);
              },
            },
            {
              key: "stopRequest",
              value: function () {
                if (this.request) {
                  var e = this.request;
                  (this.request = null),
                    (e.onreadystatechange = null),
                    e.abort();
                }
              },
            },
            {
              key: "media",
              value: function (e) {
                var t = this;
                if (!e) return this.media_;
                if ("HAVE_NOTHING" === this.state)
                  throw new Error(
                    "Cannot switch media playlist from " + this.state
                  );
                var n = this.state;
                if ("string" == typeof e) {
                  if (!this.master.playlists[e])
                    throw new Error("Unknown playlist URI: " + e);
                  e = this.master.playlists[e];
                }
                var i = !this.media_ || e.uri !== this.media_.uri;
                if (this.master.playlists[e.uri].endList)
                  return (
                    this.request &&
                      ((this.request.onreadystatechange = null),
                      this.request.abort(),
                      (this.request = null)),
                    (this.state = "HAVE_METADATA"),
                    (this.media_ = e),
                    void (
                      i &&
                      (this.trigger("mediachanging"),
                      this.trigger("mediachange"))
                    )
                  );
                if (i) {
                  if (((this.state = "SWITCHING_MEDIA"), this.request)) {
                    if (au(this.master.uri, e.uri) === this.request.url) return;
                    (this.request.onreadystatechange = null),
                      this.request.abort(),
                      (this.request = null);
                  }
                  this.media_ && this.trigger("mediachanging"),
                    (this.request = this.hls_.xhr(
                      {
                        uri: au(this.master.uri, e.uri),
                        withCredentials: this.withCredentials,
                      },
                      function (i, r) {
                        if (t.request) {
                          if (i)
                            return t.playlistRequestError(t.request, e.uri, n);
                          t.haveMetadata(r, e.uri),
                            t.trigger(
                              "HAVE_MASTER" === n
                                ? "loadedmetadata"
                                : "mediachange"
                            );
                        }
                      }
                    ));
                }
              },
            },
            {
              key: "pause",
              value: function () {
                this.stopRequest(),
                  e.clearTimeout(this.mediaUpdateTimeout),
                  "HAVE_NOTHING" === this.state && (this.started = !1),
                  "SWITCHING_MEDIA" === this.state
                    ? (this.state = this.media_
                        ? "HAVE_METADATA"
                        : "HAVE_MASTER")
                    : "HAVE_CURRENT_METADATA" === this.state &&
                      (this.state = "HAVE_METADATA");
              },
            },
            {
              key: "load",
              value: function (t) {
                var n = this;
                e.clearTimeout(this.mediaUpdateTimeout);
                var i = this.media();
                if (t) {
                  var r = i ? (i.targetDuration / 2) * 1e3 : 5e3;
                  this.mediaUpdateTimeout = e.setTimeout(function () {
                    return n.load();
                  }, r);
                } else
                  this.started
                    ? this.trigger(
                        i && !i.endList
                          ? "mediaupdatetimeout"
                          : "loadedplaylist"
                      )
                    : this.start();
              },
            },
            {
              key: "start",
              value: function () {
                var t = this;
                (this.started = !0),
                  (this.request = this.hls_.xhr(
                    {
                      uri: this.srcUrl,
                      withCredentials: this.withCredentials,
                    },
                    function (n, i) {
                      if (t.request) {
                        if (((t.request = null), n))
                          return (
                            (t.error = {
                              status: i.status,
                              message:
                                "HLS playlist request error at URL: " +
                                t.srcUrl,
                              responseText: i.responseText,
                              code: 2,
                            }),
                            "HAVE_NOTHING" === t.state && (t.started = !1),
                            t.trigger("error")
                          );
                        var r = new ko();
                        return (
                          r.push(i.responseText),
                          r.end(),
                          (t.state = "HAVE_MASTER"),
                          (r.manifest.uri = t.srcUrl),
                          r.manifest.playlists
                            ? ((t.master = r.manifest),
                              vu(t.master),
                              yu(t.master),
                              t.trigger("loadedplaylist"),
                              void (
                                t.request || t.media(r.manifest.playlists[0])
                              ))
                            : ((t.master = {
                                mediaGroups: {
                                  AUDIO: {},
                                  VIDEO: {},
                                  "CLOSED-CAPTIONS": {},
                                  SUBTITLES: {},
                                },
                                uri: e.location.href,
                                playlists: [
                                  {
                                    uri: t.srcUrl,
                                    id: 0,
                                  },
                                ],
                              }),
                              (t.master.playlists[t.srcUrl] =
                                t.master.playlists[0]),
                              (t.master.playlists[0].resolvedUri = t.srcUrl),
                              (t.master.playlists[0].attributes =
                                t.master.playlists[0].attributes || {}),
                              t.haveMetadata(i, t.srcUrl),
                              t.trigger("loadedmetadata"))
                        );
                      }
                    }
                  ));
              },
            },
          ]),
          t
        );
      })(),
      Cu = Ft.createTimeRange,
      ku = function (e, t, n) {
        var i, r;
        return (
          "undefined" == typeof t && (t = e.mediaSequence + e.segments.length),
          t < e.mediaSequence
            ? 0
            : (i = (function (e, t) {
                var n = 0,
                  i = t - e.mediaSequence,
                  r = e.segments[i];
                if (r) {
                  if ("undefined" != typeof r.start)
                    return {
                      result: r.start,
                      precise: !0,
                    };
                  if ("undefined" != typeof r.end)
                    return {
                      result: r.end - r.duration,
                      precise: !0,
                    };
                }
                for (; i--; ) {
                  if ("undefined" != typeof (r = e.segments[i]).end)
                    return {
                      result: n + r.end,
                      precise: !0,
                    };
                  if (((n += r.duration), "undefined" != typeof r.start))
                    return {
                      result: n + r.start,
                      precise: !0,
                    };
                }
                return {
                  result: n,
                  precise: !1,
                };
              })(e, t)).precise
            ? i.result
            : (r = (function (e, t) {
                for (
                  var n = 0, i = void 0, r = t - e.mediaSequence;
                  r < e.segments.length;
                  r++
                ) {
                  if ("undefined" != typeof (i = e.segments[r]).start)
                    return {
                      result: i.start - n,
                      precise: !0,
                    };
                  if (((n += i.duration), "undefined" != typeof i.end))
                    return {
                      result: i.end - n,
                      precise: !0,
                    };
                }
                return {
                  result: -1,
                  precise: !1,
                };
              })(e, t)).precise
            ? r.result
            : i.result + n
        );
      },
      Tu = function (t, n, i) {
        if (!t) return 0;
        if (("number" != typeof i && (i = 0), "undefined" == typeof n)) {
          if (t.totalDuration) return t.totalDuration;
          if (!t.endList) return e.Infinity;
        }
        return ku(t, n, i);
      },
      Eu = function (e, t, n) {
        var i = 0;
        if (t > n) {
          var r = [n, t];
          (t = r[0]), (n = r[1]);
        }
        if (0 > t) {
          for (var s = t; s < Math.min(0, n); s++) i += e.targetDuration;
          t = 0;
        }
        for (var o = t; n > o; o++) i += e.segments[o].duration;
        return i;
      },
      Su = function (e) {
        if (!e.segments.length) return 0;
        for (
          var t = e.segments.length - 1,
            n = e.segments[t].duration || e.targetDuration,
            i = n + 2 * e.targetDuration;
          t-- && !(i <= (n += e.segments[t].duration));

        );
        return Math.max(0, t);
      },
      xu = function (e, t, n) {
        if (!e || !e.segments) return null;
        if (e.endList) return Tu(e);
        if (null === t) return null;
        t = t || 0;
        var i = n ? Su(e) : e.segments.length;
        return ku(e, e.mediaSequence + i, t);
      },
      Pu = function (e) {
        return e - Math.floor(e) == 0;
      },
      Ou = function (e, t) {
        if (Pu(t)) return t + 0.1 * e;
        for (var n = t.toString().split(".")[1].length, i = 1; n >= i; i++) {
          var r = Math.pow(10, i),
            s = t * r;
          if (Pu(s) || i === n) return (s + e) / r;
        }
      },
      Au = Ou.bind(null, 1),
      Iu = Ou.bind(null, -1),
      Du = function (e) {
        return e.excludeUntil && e.excludeUntil > Date.now();
      },
      Mu = function (e) {
        return e.excludeUntil && e.excludeUntil === 1 / 0;
      },
      Ru = function (e) {
        var t = Du(e);
        return !e.disabled && !t;
      },
      ju = function (e, t) {
        return t.attributes && t.attributes[e];
      },
      Lu = function (e, t) {
        if (1 === e.playlists.length) return !0;
        var n = t.attributes.BANDWIDTH || Number.MAX_VALUE;
        return (
          0 ===
          e.playlists.filter(function (e) {
            return !!Ru(e) && (e.attributes.BANDWIDTH || 0) < n;
          }).length
        );
      },
      Nu = {
        duration: Tu,
        seekable: function (e, t) {
          var n = t || 0,
            i = xu(e, t, !0);
          return null === i ? Cu() : Cu(n, i);
        },
        safeLiveIndex: Su,
        getMediaInfoForTime: function (e, t, n, i) {
          var r = void 0,
            s = void 0,
            o = e.segments.length,
            a = t - i;
          if (0 > a) {
            if (n > 0)
              for (r = n - 1; r >= 0; r--)
                if (((s = e.segments[r]), 0 < (a += Iu(s.duration))))
                  return {
                    mediaIndex: r,
                    startTime: i - Eu(e, n, r),
                  };
            return {
              mediaIndex: 0,
              startTime: t,
            };
          }
          if (0 > n) {
            for (r = n; 0 > r; r++)
              if ((a -= e.targetDuration) < 0)
                return {
                  mediaIndex: 0,
                  startTime: t,
                };
            n = 0;
          }
          for (r = n; o > r; r++)
            if (((s = e.segments[r]), (a -= Au(s.duration)) < 0))
              return {
                mediaIndex: r,
                startTime: i + Eu(e, n, r),
              };
          return {
            mediaIndex: o - 1,
            startTime: t,
          };
        },
        isEnabled: Ru,
        isDisabled: function (e) {
          return e.disabled;
        },
        isBlacklisted: Du,
        isIncompatible: Mu,
        playlistEnd: xu,
        isAes: function (e) {
          for (var t = 0; t < e.segments.length; t++)
            if (e.segments[t].key) return !0;
          return !1;
        },
        isFmp4: function (e) {
          for (var t = 0; t < e.segments.length; t++)
            if (e.segments[t].map) return !0;
          return !1;
        },
        hasAttribute: ju,
        estimateSegmentRequestTime: function (e, t, n) {
          var i =
            3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 0;
          return ju("BANDWIDTH", n)
            ? (e * n.attributes.BANDWIDTH - 8 * i) / t
            : 0 / 0;
        },
        isLowestEnabledRendition: Lu,
      },
      Uu = Ft.xhr,
      Bu = Ft.mergeOptions,
      $u = function () {
        return function e(t, n) {
          t = Bu(
            {
              timeout: 45e3,
            },
            t
          );
          var i = e.beforeRequest || Ft.Hls.xhr.beforeRequest;
          if (i && "function" == typeof i) {
            var r = i(t);
            r && (t = r);
          }
          var s = Uu(t, function (e, t) {
              var i = s.response;
              !e &&
                i &&
                ((s.responseTime = Date.now()),
                (s.roundTripTime = s.responseTime - s.requestTime),
                (s.bytesReceived = i.byteLength || i.length),
                s.bandwidth ||
                  (s.bandwidth = Math.floor(
                    (s.bytesReceived / s.roundTripTime) * 8 * 1e3
                  ))),
                t.headers && (s.responseHeaders = t.headers),
                e && "ETIMEDOUT" === e.code && (s.timedout = !0),
                e ||
                  s.aborted ||
                  200 === t.statusCode ||
                  206 === t.statusCode ||
                  0 === t.statusCode ||
                  (e = new Error(
                    "XHR Failed with a response of: " +
                      (s && (i || s.responseText))
                  )),
                n(e, s);
            }),
            o = s.abort;
          return (
            (s.abort = function () {
              return (s.aborted = !0), o.apply(s, arguments);
            }),
            (s.uri = t.uri),
            (s.requestTime = Date.now()),
            s
          );
        };
      },
      Fu = function (e, t) {
        var n = e.toString(16);
        return "00".substring(0, 2 - n.length) + n + (t % 2 ? " " : "");
      },
      Hu = function (e) {
        return e >= 32 && 126 > e ? String.fromCharCode(e) : ".";
      },
      Wu = function (e) {
        var t = {};
        return (
          Object.keys(e).forEach(function (n) {
            var i = e[n];
            t[n] = ArrayBuffer.isView(i)
              ? {
                  bytes: i.buffer,
                  byteOffset: i.byteOffset,
                  byteLength: i.byteLength,
                }
              : i;
          }),
          t
        );
      },
      qu = function (e) {
        var t = e.byterange || {
          length: 1 / 0,
          offset: 0,
        };
        return [t.length, t.offset, e.resolvedUri].join(",");
      },
      zu = function (e) {
        for (
          var t = Array.prototype.slice.call(e), n = "", i = 0;
          i < t.length / 16;
          i++
        )
          n +=
            t
              .slice(16 * i, 16 * i + 16)
              .map(Fu)
              .join("") +
            " " +
            t
              .slice(16 * i, 16 * i + 16)
              .map(Hu)
              .join("") +
            "\n";
        return n;
      },
      Vu = Object.freeze({
        createTransferableMessage: Wu,
        initSegmentId: qu,
        hexDump: zu,
        tagDump: function (e) {
          var t = e.bytes;
          return zu(t);
        },
        textRanges: function (e) {
          var t,
            n,
            i = "",
            r = void 0;
          for (r = 0; r < e.length; r++)
            (n = r), (i += (t = e).start(n) + "-" + t.end(n) + " ");
          return i;
        },
      }),
      Ku = 1 / 30,
      Gu = function (e, t) {
        var n = [],
          i = void 0;
        if (e && e.length)
          for (i = 0; i < e.length; i++)
            t(e.start(i), e.end(i)) && n.push([e.start(i), e.end(i)]);
        return Ft.createTimeRanges(n);
      },
      Yu = function (e, t) {
        return Gu(e, function (e, n) {
          return t >= e - Ku && n + Ku >= t;
        });
      },
      Xu = function (e, t) {
        return Gu(e, function (e) {
          return e - Ku >= t;
        });
      },
      Qu = function (e) {
        var t = [];
        if (!e || !e.length) return "";
        for (var n = 0; n < e.length; n++)
          t.push(e.start(n) + " => " + e.end(n));
        return t.join(", ");
      },
      Ju = function (e) {
        for (var t = [], n = 0; n < e.length; n++)
          t.push({
            start: e.start(n),
            end: e.end(n),
          });
        return t;
      },
      Zu = function (e, t, n) {
        var i = void 0,
          r = void 0;
        if (n && n.cues)
          for (i = n.cues.length; i--; )
            (r = n.cues[i]).startTime <= t && r.endTime >= e && n.removeCue(r);
      },
      ed = function (e) {
        return isNaN(e) || Math.abs(e) === 1 / 0 ? Number.MAX_VALUE : e;
      },
      td = function (t, n, i) {
        var r = e.WebKitDataCue || e.VTTCue;
        if (
          (n &&
            n.forEach(function (e) {
              var t = e.stream;
              this.inbandTextTracks_[t].addCue(
                new r(
                  e.startTime + this.timestampOffset,
                  e.endTime + this.timestampOffset,
                  e.text
                )
              );
            }, t),
          i)
        ) {
          var s = ed(t.mediaSource_.duration);
          if (
            (i.forEach(function (e) {
              var t = e.cueTime + this.timestampOffset;
              e.frames.forEach(function (e) {
                var n,
                  i = new r(t, t, e.value || e.url || e.data || "");
                (i.frame = e),
                  (i.value = e),
                  (n = i),
                  Object.defineProperties(n.frame, {
                    id: {
                      get: function () {
                        return (
                          Ft.log.warn(
                            "cue.frame.id is deprecated. Use cue.value.key instead."
                          ),
                          n.value.key
                        );
                      },
                    },
                    value: {
                      get: function () {
                        return (
                          Ft.log.warn(
                            "cue.frame.value is deprecated. Use cue.value.data instead."
                          ),
                          n.value.data
                        );
                      },
                    },
                    privateData: {
                      get: function () {
                        return (
                          Ft.log.warn(
                            "cue.frame.privateData is deprecated. Use cue.value.data instead."
                          ),
                          n.value.data
                        );
                      },
                    },
                  }),
                  this.metadataTrack_.addCue(i);
              }, this);
            }, t),
            t.metadataTrack_ &&
              t.metadataTrack_.cues &&
              t.metadataTrack_.cues.length)
          ) {
            for (
              var o = t.metadataTrack_.cues, a = [], l = 0;
              l < o.length;
              l++
            )
              o[l] && a.push(o[l]);
            var c = a.reduce(function (e, t) {
                var n = e[t.startTime] || [];
                return n.push(t), (e[t.startTime] = n), e;
              }, {}),
              u = Object.keys(c).sort(function (e, t) {
                return Number(e) - Number(t);
              });
            u.forEach(function (e, t) {
              var n = c[e],
                i = Number(u[t + 1]) || s;
              n.forEach(function (e) {
                e.endTime = i;
              });
            });
          }
        }
      },
      nd = "undefined" != typeof window ? window : {},
      id = "undefined" == typeof Symbol ? "__target" : Symbol(),
      rd = "application/javascript",
      sd =
        nd.BlobBuilder ||
        nd.WebKitBlobBuilder ||
        nd.MozBlobBuilder ||
        nd.MSBlobBuilder,
      od = nd.URL || nd.webkitURL || (od && od.msURL),
      ad = nd.Worker;
    if (ad) {
      var ld,
        cd = Wt("self.onmessage = function () {}"),
        ud = new Uint8Array(1);
      try {
        (ld = new ad(cd)).postMessage(ud, [ud.buffer]);
      } catch (Kt) {
        ad = null;
      } finally {
        od.revokeObjectURL(cd), ld && ld.terminate();
      }
    }
    var dd = new Ht("./transmuxer-worker.worker.js", function () {
        var e = this;
        !(function () {
          var t,
            n,
            i,
            r,
            s,
            o,
            a,
            l,
            c,
            u,
            d,
            p,
            h,
            f,
            m,
            g,
            _,
            v,
            y,
            b,
            w,
            C,
            k,
            T,
            E,
            S,
            x,
            P,
            O,
            A,
            I,
            D,
            M,
            R,
            j,
            L,
            N,
            U,
            B,
            $,
            F = Math.pow(2, 32) - 1;
          !(function () {
            var e;
            if (
              ((C = {
                avc1: [],
                avcC: [],
                btrt: [],
                dinf: [],
                dref: [],
                esds: [],
                ftyp: [],
                hdlr: [],
                mdat: [],
                mdhd: [],
                mdia: [],
                mfhd: [],
                minf: [],
                moof: [],
                moov: [],
                mp4a: [],
                mvex: [],
                mvhd: [],
                sdtp: [],
                smhd: [],
                stbl: [],
                stco: [],
                stsc: [],
                stsd: [],
                stsz: [],
                stts: [],
                styp: [],
                tfdt: [],
                tfhd: [],
                traf: [],
                trak: [],
                trun: [],
                trex: [],
                tkhd: [],
                vmhd: [],
              }),
              "undefined" != typeof Uint8Array)
            ) {
              for (e in C)
                C.hasOwnProperty(e) &&
                  (C[e] = [
                    e.charCodeAt(0),
                    e.charCodeAt(1),
                    e.charCodeAt(2),
                    e.charCodeAt(3),
                  ]);
              (k = new Uint8Array([
                "i".charCodeAt(0),
                "s".charCodeAt(0),
                "o".charCodeAt(0),
                "m".charCodeAt(0),
              ])),
                (E = new Uint8Array([
                  "a".charCodeAt(0),
                  "v".charCodeAt(0),
                  "c".charCodeAt(0),
                  "1".charCodeAt(0),
                ])),
                (T = new Uint8Array([0, 0, 0, 1])),
                (S = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100,
                  108, 101, 114, 0,
                ])),
                (x = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100,
                  108, 101, 114, 0,
                ])),
                (P = {
                  video: S,
                  audio: x,
                }),
                (I = new Uint8Array([
                  0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0,
                  0, 1,
                ])),
                (A = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                (D = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                (M = D),
                (R = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                (j = D),
                (O = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
            }
          })(),
            (t = function (e) {
              var t,
                n,
                i = [],
                r = 0;
              for (t = 1; t < arguments.length; t++) i.push(arguments[t]);
              for (t = i.length; t--; ) r += i[t].byteLength;
              for (
                n = new Uint8Array(r + 8),
                  new DataView(n.buffer, n.byteOffset, n.byteLength).setUint32(
                    0,
                    n.byteLength
                  ),
                  n.set(e, 4),
                  t = 0,
                  r = 8;
                t < i.length;
                t++
              )
                n.set(i[t], r), (r += i[t].byteLength);
              return n;
            }),
            (n = function () {
              return t(C.dinf, t(C.dref, I));
            }),
            (i = function (e) {
              return t(
                C.esds,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  3,
                  25,
                  0,
                  0,
                  0,
                  4,
                  17,
                  64,
                  21,
                  0,
                  6,
                  0,
                  0,
                  0,
                  218,
                  192,
                  0,
                  0,
                  218,
                  192,
                  5,
                  2,
                  (e.audioobjecttype << 3) | (e.samplingfrequencyindex >>> 1),
                  (e.samplingfrequencyindex << 7) | (e.channelcount << 3),
                  6,
                  1,
                  2,
                ])
              );
            }),
            (m = function (e) {
              return t(C.hdlr, P[e]);
            }),
            (f = function (e) {
              var n = new Uint8Array([
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                2,
                0,
                0,
                0,
                3,
                0,
                1,
                95,
                144,
                (e.duration >>> 24) & 255,
                (e.duration >>> 16) & 255,
                (e.duration >>> 8) & 255,
                255 & e.duration,
                85,
                196,
                0,
                0,
              ]);
              return (
                e.samplerate &&
                  ((n[12] = (e.samplerate >>> 24) & 255),
                  (n[13] = (e.samplerate >>> 16) & 255),
                  (n[14] = (e.samplerate >>> 8) & 255),
                  (n[15] = 255 & e.samplerate)),
                t(C.mdhd, n)
              );
            }),
            (h = function (e) {
              return t(C.mdia, f(e), m(e.type), o(e));
            }),
            (s = function (e) {
              return t(
                C.mfhd,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  (4278190080 & e) >> 24,
                  (16711680 & e) >> 16,
                  (65280 & e) >> 8,
                  255 & e,
                ])
              );
            }),
            (o = function (e) {
              return t(
                C.minf,
                "video" === e.type ? t(C.vmhd, O) : t(C.smhd, A),
                n(),
                _(e)
              );
            }),
            (a = function (e, n) {
              for (var i = [], r = n.length; r--; ) i[r] = y(n[r]);
              return t.apply(null, [C.moof, s(e)].concat(i));
            }),
            (l = function (e) {
              for (var n = e.length, i = []; n--; ) i[n] = d(e[n]);
              return t.apply(
                null,
                [C.moov, u(4294967295)].concat(i).concat(c(e))
              );
            }),
            (c = function (e) {
              for (var n = e.length, i = []; n--; ) i[n] = b(e[n]);
              return t.apply(null, [C.mvex].concat(i));
            }),
            (u = function (e) {
              var n = new Uint8Array([
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                2,
                0,
                1,
                95,
                144,
                (4278190080 & e) >> 24,
                (16711680 & e) >> 16,
                (65280 & e) >> 8,
                255 & e,
                0,
                1,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                64,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                255,
                255,
                255,
                255,
              ]);
              return t(C.mvhd, n);
            }),
            (g = function (e) {
              var n,
                i,
                r = e.samples || [],
                s = new Uint8Array(4 + r.length);
              for (i = 0; i < r.length; i++)
                (n = r[i].flags),
                  (s[i + 4] =
                    (n.dependsOn << 4) |
                    (n.isDependedOn << 2) |
                    n.hasRedundancy);
              return t(C.sdtp, s);
            }),
            (_ = function (e) {
              return t(
                C.stbl,
                v(e),
                t(C.stts, j),
                t(C.stsc, M),
                t(C.stsz, R),
                t(C.stco, D)
              );
            }),
            (v = function (e) {
              return t(
                C.stsd,
                new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]),
                "video" === e.type ? L(e) : N(e)
              );
            }),
            (L = function (e) {
              var n,
                i = e.sps || [],
                r = e.pps || [],
                s = [],
                o = [];
              for (n = 0; n < i.length; n++)
                s.push((65280 & i[n].byteLength) >>> 8),
                  s.push(255 & i[n].byteLength),
                  (s = s.concat(Array.prototype.slice.call(i[n])));
              for (n = 0; n < r.length; n++)
                o.push((65280 & r[n].byteLength) >>> 8),
                  o.push(255 & r[n].byteLength),
                  (o = o.concat(Array.prototype.slice.call(r[n])));
              return t(
                C.avc1,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  (65280 & e.width) >> 8,
                  255 & e.width,
                  (65280 & e.height) >> 8,
                  255 & e.height,
                  0,
                  72,
                  0,
                  0,
                  0,
                  72,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  19,
                  118,
                  105,
                  100,
                  101,
                  111,
                  106,
                  115,
                  45,
                  99,
                  111,
                  110,
                  116,
                  114,
                  105,
                  98,
                  45,
                  104,
                  108,
                  115,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  24,
                  17,
                  17,
                ]),
                t(
                  C.avcC,
                  new Uint8Array(
                    [1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255]
                      .concat([i.length])
                      .concat(s)
                      .concat([r.length])
                      .concat(o)
                  )
                ),
                t(
                  C.btrt,
                  new Uint8Array([
                    0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
                  ])
                )
              );
            }),
            (N = function (e) {
              return t(
                C.mp4a,
                new Uint8Array([
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  (65280 & e.channelcount) >> 8,
                  255 & e.channelcount,
                  (65280 & e.samplesize) >> 8,
                  255 & e.samplesize,
                  0,
                  0,
                  0,
                  0,
                  (65280 & e.samplerate) >> 8,
                  255 & e.samplerate,
                  0,
                  0,
                ]),
                i(e)
              );
            }),
            (p = function (e) {
              var n = new Uint8Array([
                0,
                0,
                0,
                7,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                (4278190080 & e.id) >> 24,
                (16711680 & e.id) >> 16,
                (65280 & e.id) >> 8,
                255 & e.id,
                0,
                0,
                0,
                0,
                (4278190080 & e.duration) >> 24,
                (16711680 & e.duration) >> 16,
                (65280 & e.duration) >> 8,
                255 & e.duration,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                64,
                0,
                0,
                0,
                (65280 & e.width) >> 8,
                255 & e.width,
                0,
                0,
                (65280 & e.height) >> 8,
                255 & e.height,
                0,
                0,
              ]);
              return t(C.tkhd, n);
            }),
            (y = function (e) {
              var n, i, r, s, o, a;
              return (
                (n = t(
                  C.tfhd,
                  new Uint8Array([
                    0,
                    0,
                    0,
                    58,
                    (4278190080 & e.id) >> 24,
                    (16711680 & e.id) >> 16,
                    (65280 & e.id) >> 8,
                    255 & e.id,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                  ])
                )),
                (o = Math.floor(e.baseMediaDecodeTime / (F + 1))),
                (a = Math.floor(e.baseMediaDecodeTime % (F + 1))),
                (i = t(
                  C.tfdt,
                  new Uint8Array([
                    1,
                    0,
                    0,
                    0,
                    (o >>> 24) & 255,
                    (o >>> 16) & 255,
                    (o >>> 8) & 255,
                    255 & o,
                    (a >>> 24) & 255,
                    (a >>> 16) & 255,
                    (a >>> 8) & 255,
                    255 & a,
                  ])
                )),
                "audio" === e.type
                  ? ((r = w(e, 92)), t(C.traf, n, i, r))
                  : ((s = g(e)),
                    (r = w(e, s.length + 92)),
                    t(C.traf, n, i, r, s))
              );
            }),
            (d = function (e) {
              return (
                (e.duration = e.duration || 4294967295), t(C.trak, p(e), h(e))
              );
            }),
            (b = function (e) {
              var n = new Uint8Array([
                0,
                0,
                0,
                0,
                (4278190080 & e.id) >> 24,
                (16711680 & e.id) >> 16,
                (65280 & e.id) >> 8,
                255 & e.id,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                1,
              ]);
              return "video" !== e.type && (n[n.length - 1] = 0), t(C.trex, n);
            }),
            ($ = function (e, t) {
              var n = 0,
                i = 0,
                r = 0,
                s = 0;
              return (
                e.length &&
                  (void 0 !== e[0].duration && (n = 1),
                  void 0 !== e[0].size && (i = 2),
                  void 0 !== e[0].flags && (r = 4),
                  void 0 !== e[0].compositionTimeOffset && (s = 8)),
                [
                  0,
                  0,
                  n | i | r | s,
                  1,
                  (4278190080 & e.length) >>> 24,
                  (16711680 & e.length) >>> 16,
                  (65280 & e.length) >>> 8,
                  255 & e.length,
                  (4278190080 & t) >>> 24,
                  (16711680 & t) >>> 16,
                  (65280 & t) >>> 8,
                  255 & t,
                ]
              );
            }),
            (B = function (e, n) {
              var i, r, s, o;
              for (
                n += 20 + 16 * (r = e.samples || []).length, i = $(r, n), o = 0;
                o < r.length;
                o++
              )
                (s = r[o]),
                  (i = i.concat([
                    (4278190080 & s.duration) >>> 24,
                    (16711680 & s.duration) >>> 16,
                    (65280 & s.duration) >>> 8,
                    255 & s.duration,
                    (4278190080 & s.size) >>> 24,
                    (16711680 & s.size) >>> 16,
                    (65280 & s.size) >>> 8,
                    255 & s.size,
                    (s.flags.isLeading << 2) | s.flags.dependsOn,
                    (s.flags.isDependedOn << 6) |
                      (s.flags.hasRedundancy << 4) |
                      (s.flags.paddingValue << 1) |
                      s.flags.isNonSyncSample,
                    61440 & s.flags.degradationPriority,
                    15 & s.flags.degradationPriority,
                    (4278190080 & s.compositionTimeOffset) >>> 24,
                    (16711680 & s.compositionTimeOffset) >>> 16,
                    (65280 & s.compositionTimeOffset) >>> 8,
                    255 & s.compositionTimeOffset,
                  ]));
              return t(C.trun, new Uint8Array(i));
            }),
            (U = function (e, n) {
              var i, r, s, o;
              for (
                n += 20 + 8 * (r = e.samples || []).length, i = $(r, n), o = 0;
                o < r.length;
                o++
              )
                (s = r[o]),
                  (i = i.concat([
                    (4278190080 & s.duration) >>> 24,
                    (16711680 & s.duration) >>> 16,
                    (65280 & s.duration) >>> 8,
                    255 & s.duration,
                    (4278190080 & s.size) >>> 24,
                    (16711680 & s.size) >>> 16,
                    (65280 & s.size) >>> 8,
                    255 & s.size,
                  ]));
              return t(C.trun, new Uint8Array(i));
            }),
            (w = function (e, t) {
              return "audio" === e.type ? U(e, t) : B(e, t);
            });
          var H,
            W,
            q,
            z,
            V,
            K = {
              ftyp: (r = function () {
                return t(C.ftyp, k, T, k, E);
              }),
              mdat: function (e) {
                return t(C.mdat, e);
              },
              moof: a,
              moov: l,
              initSegment: function (e) {
                var t,
                  n = r(),
                  i = l(e);
                return (
                  (t = new Uint8Array(n.byteLength + i.byteLength)).set(n),
                  t.set(i, n.byteLength),
                  t
                );
              },
            },
            G = function (e) {
              return e >>> 0;
            };
          (q = function (e) {
            return H(e, ["moov", "trak"]).reduce(function (e, t) {
              var n, i, r, s, o;
              return (n = H(t, ["tkhd"])[0])
                ? ((i = n[0]),
                  (s = G(
                    (n[(r = 0 === i ? 12 : 20)] << 24) |
                      (n[r + 1] << 16) |
                      (n[r + 2] << 8) |
                      n[r + 3]
                  )),
                  (o = H(t, ["mdia", "mdhd"])[0])
                    ? ((r = 0 === (i = o[0]) ? 12 : 20),
                      (e[s] = G(
                        (o[r] << 24) |
                          (o[r + 1] << 16) |
                          (o[r + 2] << 8) |
                          o[r + 3]
                      )),
                      e)
                    : null)
                : null;
            }, {});
          }),
            (z = function (e, t) {
              var n, i, r;
              return (
                (n = H(t, ["moof", "traf"])),
                (i = [].concat.apply(
                  [],
                  n.map(function (t) {
                    return H(t, ["tfhd"]).map(function (n) {
                      var i, r;
                      return (
                        (i = G(
                          (n[4] << 24) | (n[5] << 16) | (n[6] << 8) | n[7]
                        )),
                        (r = e[i] || 9e4),
                        (H(t, ["tfdt"]).map(function (e) {
                          var t, n;
                          return (
                            (t = e[0]),
                            (n = G(
                              (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7]
                            )),
                            1 === t &&
                              ((n *= Math.pow(2, 32)),
                              (n += G(
                                (e[8] << 24) |
                                  (e[9] << 16) |
                                  (e[10] << 8) |
                                  e[11]
                              ))),
                            n
                          );
                        })[0] || 1 / 0) / r
                      );
                    });
                  })
                )),
                (r = Math.min.apply(null, i)),
                isFinite(r) ? r : 0
              );
            }),
            (V = function (e) {
              var t = H(e, ["moov", "trak"]),
                n = [];
              return (
                t.forEach(function (e) {
                  var t = H(e, ["mdia", "hdlr"]),
                    i = H(e, ["tkhd"]);
                  t.forEach(function (e, t) {
                    var r,
                      s,
                      o = W(e.subarray(8, 12)),
                      a = i[t];
                    "vide" === o &&
                      ((s = r.getUint32(
                        0 ===
                          (r = new DataView(
                            a.buffer,
                            a.byteOffset,
                            a.byteLength
                          )).getUint8(0)
                          ? 12
                          : 20
                      )),
                      n.push(s));
                  });
                }),
                n
              );
            });
          var Y = {
              findBox: (H = function (e, t) {
                var n,
                  i,
                  r,
                  s,
                  o,
                  a = [];
                if (!t.length) return null;
                for (n = 0; n < e.byteLength; )
                  (i = G(
                    (e[n] << 24) | (e[n + 1] << 16) | (e[n + 2] << 8) | e[n + 3]
                  )),
                    (r = W(e.subarray(n + 4, n + 8))),
                    (s = i > 1 ? n + i : e.byteLength),
                    r === t[0] &&
                      (1 === t.length
                        ? a.push(e.subarray(n + 8, s))
                        : (o = H(e.subarray(n + 8, s), t.slice(1))).length &&
                          (a = a.concat(o))),
                    (n = s);
                return a;
              }),
              parseType: (W = function (e) {
                var t = "";
                return (
                  (t += String.fromCharCode(e[0])),
                  (t += String.fromCharCode(e[1])),
                  (t += String.fromCharCode(e[2])),
                  (t += String.fromCharCode(e[3]))
                );
              }),
              timescale: q,
              startTime: z,
              videoTrackIds: V,
            },
            X = function () {
              this.init = function () {
                var e = {};
                (this.on = function (t, n) {
                  e[t] || (e[t] = []), (e[t] = e[t].concat(n));
                }),
                  (this.off = function (t, n) {
                    var i;
                    return (
                      !!e[t] &&
                      ((i = e[t].indexOf(n)),
                      (e[t] = e[t].slice()),
                      e[t].splice(i, 1),
                      i > -1)
                    );
                  }),
                  (this.trigger = function (t) {
                    var n, i, r, s;
                    if ((n = e[t]))
                      if (2 === arguments.length)
                        for (r = n.length, i = 0; r > i; ++i)
                          n[i].call(this, arguments[1]);
                      else {
                        for (
                          s = [], i = arguments.length, i = 1;
                          i < arguments.length;
                          ++i
                        )
                          s.push(arguments[i]);
                        for (r = n.length, i = 0; r > i; ++i)
                          n[i].apply(this, s);
                      }
                  }),
                  (this.dispose = function () {
                    e = {};
                  });
              };
            };
          (X.prototype.pipe = function (e) {
            return (
              this.on("data", function (t) {
                e.push(t);
              }),
              this.on("done", function (t) {
                e.flush(t);
              }),
              e
            );
          }),
            (X.prototype.push = function (e) {
              this.trigger("data", e);
            }),
            (X.prototype.flush = function (e) {
              this.trigger("done", e);
            });
          var Q = X,
            J = function (e) {
              var t,
                n,
                i = [],
                r = [];
              for (t = i.byteLength = 0; t < e.length; t++)
                "access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType
                  ? (i.length && ((i.duration = n.dts - i.dts), r.push(i)),
                    ((i = [n]).byteLength = n.data.byteLength),
                    (i.pts = n.pts),
                    (i.dts = n.dts))
                  : ("slice_layer_without_partitioning_rbsp_idr" ===
                      n.nalUnitType && (i.keyFrame = !0),
                    (i.duration = n.dts - i.dts),
                    (i.byteLength += n.data.byteLength),
                    i.push(n));
              return (
                r.length &&
                  (!i.duration || i.duration <= 0) &&
                  (i.duration = r[r.length - 1].duration),
                r.push(i),
                r
              );
            },
            Z = function (e) {
              var t,
                n,
                i = [],
                r = [];
              for (
                i.byteLength = 0,
                  i.nalCount = 0,
                  i.duration = 0,
                  i.pts = e[0].pts,
                  i.dts = e[0].dts,
                  r.byteLength = 0,
                  r.nalCount = 0,
                  r.duration = 0,
                  r.pts = e[0].pts,
                  r.dts = e[0].dts,
                  t = 0;
                t < e.length;
                t++
              )
                (n = e[t]).keyFrame
                  ? (i.length &&
                      (r.push(i),
                      (r.byteLength += i.byteLength),
                      (r.nalCount += i.nalCount),
                      (r.duration += i.duration)),
                    ((i = [n]).nalCount = n.length),
                    (i.byteLength = n.byteLength),
                    (i.pts = n.pts),
                    (i.dts = n.dts),
                    (i.duration = n.duration))
                  : ((i.duration += n.duration),
                    (i.nalCount += n.length),
                    (i.byteLength += n.byteLength),
                    i.push(n));
              return (
                r.length &&
                  i.duration <= 0 &&
                  (i.duration = r[r.length - 1].duration),
                (r.byteLength += i.byteLength),
                (r.nalCount += i.nalCount),
                (r.duration += i.duration),
                r.push(i),
                r
              );
            },
            et = function (e) {
              var t;
              return (
                !e[0][0].keyFrame &&
                  1 < e.length &&
                  ((t = e.shift()),
                  (e.byteLength -= t.byteLength),
                  (e.nalCount -= t.nalCount),
                  (e[0][0].dts = t.dts),
                  (e[0][0].pts = t.pts),
                  (e[0][0].duration += t.duration)),
                e
              );
            },
            tt = function (e, t) {
              var n,
                i,
                r,
                s,
                o,
                a,
                l,
                c = t || 0,
                u = [];
              for (n = 0; n < e.length; n++)
                for (s = e[n], i = 0; i < s.length; i++)
                  (o = s[i]),
                    (a = o),
                    (l = void 0),
                    ((l = {
                      size: 0,
                      flags: {
                        isLeading: 0,
                        dependsOn: 1,
                        isDependedOn: 0,
                        hasRedundancy: 0,
                        degradationPriority: 0,
                        isNonSyncSample: 1,
                      },
                    }).dataOffset = c),
                    (l.compositionTimeOffset = a.pts - a.dts),
                    (l.duration = a.duration),
                    (l.size = 4 * a.length),
                    (l.size += a.byteLength),
                    a.keyFrame &&
                      ((l.flags.dependsOn = 2), (l.flags.isNonSyncSample = 0)),
                    (c += (r = l).size),
                    u.push(r);
              return u;
            },
            nt = function (e) {
              var t,
                n,
                i,
                r,
                s,
                o,
                a = 0,
                l = e.byteLength,
                c = e.nalCount,
                u = new Uint8Array(l + 4 * c),
                d = new DataView(u.buffer);
              for (t = 0; t < e.length; t++)
                for (r = e[t], n = 0; n < r.length; n++)
                  for (s = r[n], i = 0; i < s.length; i++)
                    (o = s[i]),
                      d.setUint32(a, o.data.byteLength),
                      (a += 4),
                      u.set(o.data, a),
                      (a += o.data.byteLength);
              return u;
            },
            it = function (e) {
              delete e.minSegmentDts,
                delete e.maxSegmentDts,
                delete e.minSegmentPts,
                delete e.maxSegmentPts;
            },
            rt = function (e, t) {
              var n,
                i = e.minSegmentDts;
              return (
                t || (i -= e.timelineStartInfo.dts),
                (n = e.timelineStartInfo.baseMediaDecodeTime),
                (n += i),
                (n = Math.max(0, n)),
                "audio" === e.type &&
                  ((n *= e.samplerate / 9e4), (n = Math.floor(n))),
                n
              );
            },
            st = function (e, t) {
              "number" == typeof t.pts &&
                (void 0 === e.timelineStartInfo.pts &&
                  (e.timelineStartInfo.pts = t.pts),
                (e.minSegmentPts =
                  void 0 === e.minSegmentPts
                    ? t.pts
                    : Math.min(e.minSegmentPts, t.pts)),
                (e.maxSegmentPts =
                  void 0 === e.maxSegmentPts
                    ? t.pts
                    : Math.max(e.maxSegmentPts, t.pts))),
                "number" == typeof t.dts &&
                  (void 0 === e.timelineStartInfo.dts &&
                    (e.timelineStartInfo.dts = t.dts),
                  (e.minSegmentDts =
                    void 0 === e.minSegmentDts
                      ? t.dts
                      : Math.min(e.minSegmentDts, t.dts)),
                  (e.maxSegmentDts =
                    void 0 === e.maxSegmentDts
                      ? t.dts
                      : Math.max(e.maxSegmentDts, t.dts)));
            },
            ot = function (e) {
              for (
                var t = 0,
                  n = {
                    payloadType: -1,
                    payloadSize: 0,
                  },
                  i = 0,
                  r = 0;
                t < e.byteLength && 128 !== e[t];

              ) {
                for (; 255 === e[t]; ) (i += 255), t++;
                for (i += e[t++]; 255 === e[t]; ) (r += 255), t++;
                if (((r += e[t++]), !n.payload && 4 === i)) {
                  (n.payloadType = i),
                    (n.payloadSize = r),
                    (n.payload = e.subarray(t, t + r));
                  break;
                }
                (t += r), (r = i = 0);
              }
              return n;
            },
            at = function (e) {
              return 181 !== e.payload[0]
                ? null
                : 49 != ((e.payload[1] << 8) | e.payload[2])
                ? null
                : "GA94" !==
                  String.fromCharCode(
                    e.payload[3],
                    e.payload[4],
                    e.payload[5],
                    e.payload[6]
                  )
                ? null
                : 3 !== e.payload[7]
                ? null
                : e.payload.subarray(8, e.payload.length - 1);
            },
            lt = function (e, t) {
              var n,
                i,
                r,
                s,
                o = [];
              if (!(64 & t[0])) return o;
              for (i = 31 & t[0], n = 0; i > n; n++)
                (s = {
                  type: 3 & t[2 + (r = 3 * n)],
                  pts: e,
                }),
                  4 & t[r + 2] &&
                    ((s.ccData = (t[r + 3] << 8) | t[r + 4]), o.push(s));
              return o;
            },
            ct = function (e) {
              for (var t, n, i = e.byteLength, r = [], s = 1; i - 2 > s; )
                0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
                  ? (r.push(s + 2), (s += 2))
                  : s++;
              if (0 === r.length) return e;
              (t = i - r.length), (n = new Uint8Array(t));
              var o = 0;
              for (s = 0; t > s; o++, s++)
                o === r[0] && (o++, r.shift()), (n[s] = e[o]);
              return n;
            },
            ut = 4,
            dt = function In() {
              In.prototype.init.call(this),
                (this.captionPackets_ = []),
                (this.ccStreams_ = [
                  new gt(0, 0),
                  new gt(0, 1),
                  new gt(1, 0),
                  new gt(1, 1),
                ]),
                this.reset(),
                this.ccStreams_.forEach(function (e) {
                  e.on("data", this.trigger.bind(this, "data")),
                    e.on("done", this.trigger.bind(this, "done"));
                }, this);
            };
          ((dt.prototype = new Q()).push = function (e) {
            var t, n, i;
            if (
              "sei_rbsp" === e.nalUnitType &&
              (t = ot(e.escapedRBSP)).payloadType === ut &&
              (n = at(t))
            )
              if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
              else {
                if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_)
                  return (
                    this.numSameDts_--,
                    void (this.numSameDts_ || (this.ignoreNextEqualDts_ = !1))
                  );
                (i = lt(e.pts, n)),
                  (this.captionPackets_ = this.captionPackets_.concat(i)),
                  this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
                  this.numSameDts_++,
                  (this.latestDts_ = e.dts);
              }
          }),
            (dt.prototype.flush = function () {
              this.captionPackets_.length
                ? (this.captionPackets_.forEach(function (e, t) {
                    e.presortIndex = t;
                  }),
                  this.captionPackets_.sort(function (e, t) {
                    return e.pts === t.pts
                      ? e.presortIndex - t.presortIndex
                      : e.pts - t.pts;
                  }),
                  this.captionPackets_.forEach(function (e) {
                    e.type < 2 && this.dispatchCea608Packet(e);
                  }, this),
                  (this.captionPackets_.length = 0),
                  this.ccStreams_.forEach(function (e) {
                    e.flush();
                  }, this))
                : this.ccStreams_.forEach(function (e) {
                    e.flush();
                  }, this);
            }),
            (dt.prototype.reset = function () {
              (this.latestDts_ = null),
                (this.ignoreNextEqualDts_ = !1),
                (this.numSameDts_ = 0),
                (this.activeCea608Channel_ = [null, null]),
                this.ccStreams_.forEach(function (e) {
                  e.reset();
                });
            }),
            (dt.prototype.dispatchCea608Packet = function (e) {
              this.setsChannel1Active(e)
                ? (this.activeCea608Channel_[e.type] = 0)
                : this.setsChannel2Active(e) &&
                  (this.activeCea608Channel_[e.type] = 1),
                null !== this.activeCea608Channel_[e.type] &&
                  this.ccStreams_[
                    (e.type << 1) + this.activeCea608Channel_[e.type]
                  ].push(e);
            }),
            (dt.prototype.setsChannel1Active = function (e) {
              return 4096 == (30720 & e.ccData);
            }),
            (dt.prototype.setsChannel2Active = function (e) {
              return 6144 == (30720 & e.ccData);
            });
          var pt = {
              42: 225,
              92: 233,
              94: 237,
              95: 243,
              96: 250,
              123: 231,
              124: 247,
              125: 209,
              126: 241,
              127: 9608,
              304: 174,
              305: 176,
              306: 189,
              307: 191,
              308: 8482,
              309: 162,
              310: 163,
              311: 9834,
              312: 224,
              313: 160,
              314: 232,
              315: 226,
              316: 234,
              317: 238,
              318: 244,
              319: 251,
              544: 193,
              545: 201,
              546: 211,
              547: 218,
              548: 220,
              549: 252,
              550: 8216,
              551: 161,
              552: 42,
              553: 39,
              554: 8212,
              555: 169,
              556: 8480,
              557: 8226,
              558: 8220,
              559: 8221,
              560: 192,
              561: 194,
              562: 199,
              563: 200,
              564: 202,
              565: 203,
              566: 235,
              567: 206,
              568: 207,
              569: 239,
              570: 212,
              571: 217,
              572: 249,
              573: 219,
              574: 171,
              575: 187,
              800: 195,
              801: 227,
              802: 205,
              803: 204,
              804: 236,
              805: 210,
              806: 242,
              807: 213,
              808: 245,
              809: 123,
              810: 125,
              811: 92,
              812: 94,
              813: 95,
              814: 124,
              815: 126,
              816: 196,
              817: 228,
              818: 214,
              819: 246,
              820: 223,
              821: 165,
              822: 164,
              823: 9474,
              824: 197,
              825: 229,
              826: 216,
              827: 248,
              828: 9484,
              829: 9488,
              830: 9492,
              831: 9496,
            },
            ht = function (e) {
              return null === e
                ? ""
                : ((e = pt[e] || e), String.fromCharCode(e));
            },
            ft = [
              4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096,
              4864, 4896, 5120, 5152,
            ],
            mt = function () {
              for (var e = [], t = 15; t--; ) e.push("");
              return e;
            },
            gt = function Dn(e, t) {
              Dn.prototype.init.call(this),
                (this.field_ = e || 0),
                (this.dataChannel_ = t || 0),
                (this.name_ =
                  "CC" + (1 + ((this.field_ << 1) | this.dataChannel_))),
                this.setConstants(),
                this.reset(),
                (this.push = function (e) {
                  var t, n, i, r, s;
                  if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                    if (
                      (4096 == (61440 & t)
                        ? (this.lastControlCode_ = t)
                        : t !== this.PADDING_ && (this.lastControlCode_ = null),
                      (i = t >>> 8),
                      (r = 255 & t),
                      t !== this.PADDING_)
                    )
                      if (t === this.RESUME_CAPTION_LOADING_)
                        this.mode_ = "popOn";
                      else if (t === this.END_OF_CAPTION_)
                        (this.mode_ = "popOn"),
                          this.clearFormatting(e.pts),
                          this.flushDisplayed(e.pts),
                          (n = this.displayed_),
                          (this.displayed_ = this.nonDisplayed_),
                          (this.nonDisplayed_ = n),
                          (this.startPts_ = e.pts);
                      else if (t === this.ROLL_UP_2_ROWS_)
                        (this.rollUpRows_ = 2), this.setRollUp(e.pts);
                      else if (t === this.ROLL_UP_3_ROWS_)
                        (this.rollUpRows_ = 3), this.setRollUp(e.pts);
                      else if (t === this.ROLL_UP_4_ROWS_)
                        (this.rollUpRows_ = 4), this.setRollUp(e.pts);
                      else if (t === this.CARRIAGE_RETURN_)
                        this.clearFormatting(e.pts),
                          this.flushDisplayed(e.pts),
                          this.shiftRowsUp_(),
                          (this.startPts_ = e.pts);
                      else if (t === this.BACKSPACE_)
                        "popOn" === this.mode_
                          ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                              this.row_
                            ].slice(0, -1))
                          : (this.displayed_[this.row_] = this.displayed_[
                              this.row_
                            ].slice(0, -1));
                      else if (t === this.ERASE_DISPLAYED_MEMORY_)
                        this.flushDisplayed(e.pts), (this.displayed_ = mt());
                      else if (t === this.ERASE_NON_DISPLAYED_MEMORY_)
                        this.nonDisplayed_ = mt();
                      else if (t === this.RESUME_DIRECT_CAPTIONING_)
                        "paintOn" !== this.mode_ &&
                          (this.flushDisplayed(e.pts),
                          (this.displayed_ = mt())),
                          (this.mode_ = "paintOn"),
                          (this.startPts_ = e.pts);
                      else if (this.isSpecialCharacter(i, r))
                        (s = ht((i = (3 & i) << 8) | r)),
                          this[this.mode_](e.pts, s),
                          this.column_++;
                      else if (this.isExtCharacter(i, r))
                        "popOn" === this.mode_
                          ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                              this.row_
                            ].slice(0, -1))
                          : (this.displayed_[this.row_] = this.displayed_[
                              this.row_
                            ].slice(0, -1)),
                          (s = ht((i = (3 & i) << 8) | r)),
                          this[this.mode_](e.pts, s),
                          this.column_++;
                      else if (this.isMidRowCode(i, r))
                        this.clearFormatting(e.pts),
                          this[this.mode_](e.pts, " "),
                          this.column_++,
                          14 == (14 & r) && this.addFormatting(e.pts, ["i"]),
                          1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                      else if (this.isOffsetControlCode(i, r))
                        this.column_ += 3 & r;
                      else if (this.isPAC(i, r)) {
                        var o = ft.indexOf(7968 & t);
                        "rollUp" === this.mode_ && this.setRollUp(e.pts, o),
                          o !== this.row_ &&
                            (this.clearFormatting(e.pts), (this.row_ = o)),
                          1 & r &&
                            -1 === this.formatting_.indexOf("u") &&
                            this.addFormatting(e.pts, ["u"]),
                          16 == (16 & t) &&
                            (this.column_ = 4 * ((14 & t) >> 1)),
                          this.isColorPAC(r) &&
                            14 == (14 & r) &&
                            this.addFormatting(e.pts, ["i"]);
                      } else
                        this.isNormalChar(i) &&
                          (0 === r && (r = null),
                          (s = ht(i)),
                          (s += ht(r)),
                          this[this.mode_](e.pts, s),
                          (this.column_ += s.length));
                  } else this.lastControlCode_ = null;
                });
            };
          (gt.prototype = new Q()),
            (gt.prototype.flushDisplayed = function (e) {
              var t = this.displayed_
                .map(function (e) {
                  return e.trim();
                })
                .join("\n")
                .replace(/^\n+|\n+$/g, "");
              t.length &&
                this.trigger("data", {
                  startPts: this.startPts_,
                  endPts: e,
                  text: t,
                  stream: this.name_,
                });
            }),
            (gt.prototype.reset = function () {
              (this.mode_ = "popOn"),
                (this.topRow_ = 0),
                (this.startPts_ = 0),
                (this.displayed_ = mt()),
                (this.nonDisplayed_ = mt()),
                (this.lastControlCode_ = null),
                (this.column_ = 0),
                (this.row_ = 14),
                (this.rollUpRows_ = 2),
                (this.formatting_ = []);
            }),
            (gt.prototype.setConstants = function () {
              0 === this.dataChannel_
                ? ((this.BASE_ = 16),
                  (this.EXT_ = 17),
                  (this.CONTROL_ = (20 | this.field_) << 8),
                  (this.OFFSET_ = 23))
                : 1 === this.dataChannel_ &&
                  ((this.BASE_ = 24),
                  (this.EXT_ = 25),
                  (this.CONTROL_ = (28 | this.field_) << 8),
                  (this.OFFSET_ = 31)),
                (this.PADDING_ = 0),
                (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
                (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
                (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
                (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
                (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
                (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
                (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
                (this.BACKSPACE_ = 33 | this.CONTROL_),
                (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
                (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
            }),
            (gt.prototype.isSpecialCharacter = function (e, t) {
              return e === this.EXT_ && t >= 48 && 63 >= t;
            }),
            (gt.prototype.isExtCharacter = function (e, t) {
              return (
                (e === this.EXT_ + 1 || e === this.EXT_ + 2) &&
                t >= 32 &&
                63 >= t
              );
            }),
            (gt.prototype.isMidRowCode = function (e, t) {
              return e === this.EXT_ && t >= 32 && 47 >= t;
            }),
            (gt.prototype.isOffsetControlCode = function (e, t) {
              return e === this.OFFSET_ && t >= 33 && 35 >= t;
            }),
            (gt.prototype.isPAC = function (e, t) {
              return (
                e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && 127 >= t
              );
            }),
            (gt.prototype.isColorPAC = function (e) {
              return (e >= 64 && 79 >= e) || (e >= 96 && 127 >= e);
            }),
            (gt.prototype.isNormalChar = function (e) {
              return e >= 32 && 127 >= e;
            }),
            (gt.prototype.setRollUp = function (e, t) {
              if (
                ("rollUp" !== this.mode_ &&
                  ((this.row_ = 14),
                  (this.mode_ = "rollUp"),
                  this.flushDisplayed(e),
                  (this.nonDisplayed_ = mt()),
                  (this.displayed_ = mt())),
                void 0 !== t && t !== this.row_)
              )
                for (var n = 0; n < this.rollUpRows_; n++)
                  (this.displayed_[t - n] = this.displayed_[this.row_ - n]),
                    (this.displayed_[this.row_ - n] = "");
              void 0 === t && (t = this.row_),
                (this.topRow_ = t - this.rollUpRows_ + 1);
            }),
            (gt.prototype.addFormatting = function (e, t) {
              this.formatting_ = this.formatting_.concat(t);
              var n = t.reduce(function (e, t) {
                return e + "<" + t + ">";
              }, "");
              this[this.mode_](e, n);
            }),
            (gt.prototype.clearFormatting = function (e) {
              if (this.formatting_.length) {
                var t = this.formatting_.reverse().reduce(function (e, t) {
                  return e + "</" + t + ">";
                }, "");
                (this.formatting_ = []), this[this.mode_](e, t);
              }
            }),
            (gt.prototype.popOn = function (e, t) {
              var n = this.nonDisplayed_[this.row_];
              (n += t), (this.nonDisplayed_[this.row_] = n);
            }),
            (gt.prototype.rollUp = function (e, t) {
              var n = this.displayed_[this.row_];
              (n += t), (this.displayed_[this.row_] = n);
            }),
            (gt.prototype.shiftRowsUp_ = function () {
              var e;
              for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
              for (e = this.row_ + 1; 15 > e; e++) this.displayed_[e] = "";
              for (e = this.topRow_; e < this.row_; e++)
                this.displayed_[e] = this.displayed_[e + 1];
              this.displayed_[this.row_] = "";
            }),
            (gt.prototype.paintOn = function (e, t) {
              var n = this.displayed_[this.row_];
              (n += t), (this.displayed_[this.row_] = n);
            });
          var _t = {
              CaptionStream: dt,
              Cea608Stream: gt,
            },
            vt = {
              H264_STREAM_TYPE: 27,
              ADTS_STREAM_TYPE: 15,
              METADATA_STREAM_TYPE: 21,
            },
            yt = function (e, t) {
              var n = 1;
              for (e > t && (n = -1); 4294967296 < Math.abs(t - e); )
                e += 8589934592 * n;
              return e;
            },
            bt = function Mn(e) {
              var t, n;
              Mn.prototype.init.call(this),
                (this.type_ = e),
                (this.push = function (e) {
                  e.type === this.type_ &&
                    (void 0 === n && (n = e.dts),
                    (e.dts = yt(e.dts, n)),
                    (e.pts = yt(e.pts, n)),
                    (t = e.dts),
                    this.trigger("data", e));
                }),
                (this.flush = function () {
                  (n = t), this.trigger("done");
                }),
                (this.discontinuity = function () {
                  t = n = void 0;
                });
            };
          bt.prototype = new Q();
          var wt,
            Ct = bt,
            kt = function (e, t, n) {
              var i,
                r = "";
              for (i = t; n > i; i++)
                r += "%" + ("00" + e[i].toString(16)).slice(-2);
              return r;
            },
            Tt = function (e, t, n) {
              return decodeURIComponent(kt(e, t, n));
            },
            Et = function (e) {
              return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
            },
            St = {
              TXXX: function (e) {
                var t;
                if (3 === e.data[0]) {
                  for (t = 1; t < e.data.length; t++)
                    if (0 === e.data[t]) {
                      (e.description = Tt(e.data, 1, t)),
                        (e.value = Tt(e.data, t + 1, e.data.length).replace(
                          /\0*$/,
                          ""
                        ));
                      break;
                    }
                  e.data = e.value;
                }
              },
              WXXX: function (e) {
                var t;
                if (3 === e.data[0])
                  for (t = 1; t < e.data.length; t++)
                    if (0 === e.data[t]) {
                      (e.description = Tt(e.data, 1, t)),
                        (e.url = Tt(e.data, t + 1, e.data.length));
                      break;
                    }
              },
              PRIV: function (e) {
                var t, n;
                for (t = 0; t < e.data.length; t++)
                  if (0 === e.data[t]) {
                    e.owner = ((n = e.data), unescape(kt(n, 0, t)));
                    break;
                  }
                (e.privateData = e.data.subarray(t + 1)),
                  (e.data = e.privateData);
              },
            };
          (wt = function (e) {
            var t,
              n = {
                debug: !(!e || !e.debug),
                descriptor: e && e.descriptor,
              },
              i = 0,
              r = [],
              s = 0;
            if (
              (wt.prototype.init.call(this),
              (this.dispatchType = vt.METADATA_STREAM_TYPE.toString(16)),
              n.descriptor)
            )
              for (t = 0; t < n.descriptor.length; t++)
                this.dispatchType += (
                  "00" + n.descriptor[t].toString(16)
                ).slice(-2);
            this.push = function (e) {
              var t, o, a, l, c;
              if ("timed-metadata" === e.type)
                if (
                  (e.dataAlignmentIndicator && ((s = 0), (r.length = 0)),
                  0 === r.length &&
                    (e.data.length < 10 ||
                      e.data[0] !== "I".charCodeAt(0) ||
                      e.data[1] !== "D".charCodeAt(0) ||
                      e.data[2] !== "3".charCodeAt(0)))
                )
                  n.debug;
                else if (
                  (r.push(e),
                  (s += e.data.byteLength),
                  1 === r.length &&
                    ((i = Et(e.data.subarray(6, 10))), (i += 10)),
                  !(i > s))
                ) {
                  for (
                    t = {
                      data: new Uint8Array(i),
                      frames: [],
                      pts: r[0].pts,
                      dts: r[0].dts,
                    },
                      c = 0;
                    i > c;

                  )
                    t.data.set(r[0].data.subarray(0, i - c), c),
                      (c += r[0].data.byteLength),
                      (s -= r[0].data.byteLength),
                      r.shift();
                  (o = 10),
                    64 & t.data[5] &&
                      ((o += 4),
                      (o += Et(t.data.subarray(10, 14))),
                      (i -= Et(t.data.subarray(16, 20))));
                  do {
                    if ((a = Et(t.data.subarray(o + 4, o + 8))) < 1) return;
                    if (
                      (((l = {
                        id: String.fromCharCode(
                          t.data[o],
                          t.data[o + 1],
                          t.data[o + 2],
                          t.data[o + 3]
                        ),
                        data: t.data.subarray(o + 10, o + a + 10),
                      }).key = l.id),
                      St[l.id] &&
                        (St[l.id](l),
                        "com.apple.streaming.transportStreamTimestamp" ===
                          l.owner))
                    ) {
                      var u = l.data,
                        d =
                          ((1 & u[3]) << 30) |
                          (u[4] << 22) |
                          (u[5] << 14) |
                          (u[6] << 6) |
                          (u[7] >>> 2);
                      (d *= 4),
                        (d += 3 & u[7]),
                        (l.timeStamp = d),
                        void 0 === t.pts &&
                          void 0 === t.dts &&
                          ((t.pts = l.timeStamp), (t.dts = l.timeStamp)),
                        this.trigger("timestamp", l);
                    }
                    t.frames.push(l), (o += 10), (o += a);
                  } while (i > o);
                  this.trigger("data", t);
                }
            };
          }).prototype = new Q();
          var xt,
            Pt,
            Ot,
            At = wt,
            It = Ct;
          ((xt = function () {
            var e = new Uint8Array(188),
              t = 0;
            xt.prototype.init.call(this),
              (this.push = function (n) {
                var i,
                  r = 0,
                  s = 188;
                for (
                  t
                    ? ((i = new Uint8Array(n.byteLength + t)).set(
                        e.subarray(0, t)
                      ),
                      i.set(n, t),
                      (t = 0))
                    : (i = n);
                  s < i.byteLength;

                )
                  71 !== i[r] || 71 !== i[s]
                    ? (r++, s++)
                    : (this.trigger("data", i.subarray(r, s)),
                      (r += 188),
                      (s += 188));
                r < i.byteLength &&
                  (e.set(i.subarray(r), 0), (t = i.byteLength - r));
              }),
              (this.flush = function () {
                188 === t && 71 === e[0] && (this.trigger("data", e), (t = 0)),
                  this.trigger("done");
              });
          }).prototype = new Q()),
            ((Pt = function () {
              var e, t, n, i;
              Pt.prototype.init.call(this),
                ((i = this).packetsWaitingForPmt = []),
                (this.programMapTable = void 0),
                (e = function (e, i) {
                  var r = 0;
                  i.payloadUnitStartIndicator && (r += e[r] + 1),
                    "pat" === i.type
                      ? t(e.subarray(r), i)
                      : n(e.subarray(r), i);
                }),
                (t = function (e, t) {
                  (t.section_number = e[7]),
                    (t.last_section_number = e[8]),
                    (i.pmtPid = ((31 & e[10]) << 8) | e[11]),
                    (t.pmtPid = i.pmtPid);
                }),
                (n = function (e, t) {
                  var n, r;
                  if (1 & e[5]) {
                    for (
                      i.programMapTable = {
                        video: null,
                        audio: null,
                        "timed-metadata": {},
                      },
                        n = 3 + (((15 & e[1]) << 8) | e[2]) - 4,
                        r = 12 + (((15 & e[10]) << 8) | e[11]);
                      n > r;

                    ) {
                      var s = e[r],
                        o = ((31 & e[r + 1]) << 8) | e[r + 2];
                      s === vt.H264_STREAM_TYPE &&
                      null === i.programMapTable.video
                        ? (i.programMapTable.video = o)
                        : s === vt.ADTS_STREAM_TYPE &&
                          null === i.programMapTable.audio
                        ? (i.programMapTable.audio = o)
                        : s === vt.METADATA_STREAM_TYPE &&
                          (i.programMapTable["timed-metadata"][o] = s),
                        (r += 5 + (((15 & e[r + 3]) << 8) | e[r + 4]));
                    }
                    t.programMapTable = i.programMapTable;
                  }
                }),
                (this.push = function (t) {
                  var n = {},
                    i = 4;
                  if (
                    ((n.payloadUnitStartIndicator = !!(64 & t[1])),
                    (n.pid = 31 & t[1]),
                    (n.pid <<= 8),
                    (n.pid |= t[2]),
                    1 < (48 & t[3]) >>> 4 && (i += t[i] + 1),
                    0 === n.pid)
                  )
                    (n.type = "pat"),
                      e(t.subarray(i), n),
                      this.trigger("data", n);
                  else if (n.pid === this.pmtPid)
                    for (
                      n.type = "pmt",
                        e(t.subarray(i), n),
                        this.trigger("data", n);
                      this.packetsWaitingForPmt.length;

                    )
                      this.processPes_.apply(
                        this,
                        this.packetsWaitingForPmt.shift()
                      );
                  else
                    void 0 === this.programMapTable
                      ? this.packetsWaitingForPmt.push([t, i, n])
                      : this.processPes_(t, i, n);
                }),
                (this.processPes_ = function (e, t, n) {
                  (n.streamType =
                    n.pid === this.programMapTable.video
                      ? vt.H264_STREAM_TYPE
                      : n.pid === this.programMapTable.audio
                      ? vt.ADTS_STREAM_TYPE
                      : this.programMapTable["timed-metadata"][n.pid]),
                    (n.type = "pes"),
                    (n.data = e.subarray(t)),
                    this.trigger("data", n);
                });
            }).prototype = new Q()),
            (Pt.STREAM_TYPES = {
              h264: 27,
              adts: 15,
            }),
            ((Ot = function () {
              var e = this,
                t = {
                  data: [],
                  size: 0,
                },
                n = {
                  data: [],
                  size: 0,
                },
                i = {
                  data: [],
                  size: 0,
                },
                r = function (t, n, i) {
                  var r,
                    s,
                    o = new Uint8Array(t.size),
                    a = {
                      type: n,
                    },
                    l = 0,
                    c = 0;
                  if (t.data.length && !(t.size < 9)) {
                    for (
                      a.trackId = t.data[0].pid, l = 0;
                      l < t.data.length;
                      l++
                    )
                      (s = t.data[l]),
                        o.set(s.data, c),
                        (c += s.data.byteLength);
                    var u, d, p;
                    (u = o),
                      ((d = a).packetLength = 6 + ((u[4] << 8) | u[5])),
                      (d.dataAlignmentIndicator = 0 != (4 & u[6])),
                      192 & (p = u[7]) &&
                        ((d.pts =
                          ((14 & u[9]) << 27) |
                          ((255 & u[10]) << 20) |
                          ((254 & u[11]) << 12) |
                          ((255 & u[12]) << 5) |
                          ((254 & u[13]) >>> 3)),
                        (d.pts *= 4),
                        (d.pts += (6 & u[13]) >>> 1),
                        (d.dts = d.pts),
                        64 & p &&
                          ((d.dts =
                            ((14 & u[14]) << 27) |
                            ((255 & u[15]) << 20) |
                            ((254 & u[16]) << 12) |
                            ((255 & u[17]) << 5) |
                            ((254 & u[18]) >>> 3)),
                          (d.dts *= 4),
                          (d.dts += (6 & u[18]) >>> 1))),
                      (d.data = u.subarray(9 + u[8])),
                      (r = "video" === n || a.packetLength <= t.size),
                      (i || r) && ((t.size = 0), (t.data.length = 0)),
                      r && e.trigger("data", a);
                  }
                };
              Ot.prototype.init.call(this),
                (this.push = function (s) {
                  ({
                    pat: function () {},
                    pes: function () {
                      var e, o;
                      switch (s.streamType) {
                        case vt.H264_STREAM_TYPE:
                        case vt.H264_STREAM_TYPE:
                          (e = t), (o = "video");
                          break;
                        case vt.ADTS_STREAM_TYPE:
                          (e = n), (o = "audio");
                          break;
                        case vt.METADATA_STREAM_TYPE:
                          (e = i), (o = "timed-metadata");
                          break;
                        default:
                          return;
                      }
                      s.payloadUnitStartIndicator && r(e, o, !0),
                        e.data.push(s),
                        (e.size += s.data.byteLength);
                    },
                    pmt: function () {
                      var t = {
                          type: "metadata",
                          tracks: [],
                        },
                        n = s.programMapTable;
                      null !== n.video &&
                        t.tracks.push({
                          timelineStartInfo: {
                            baseMediaDecodeTime: 0,
                          },
                          id: +n.video,
                          codec: "avc",
                          type: "video",
                        }),
                        null !== n.audio &&
                          t.tracks.push({
                            timelineStartInfo: {
                              baseMediaDecodeTime: 0,
                            },
                            id: +n.audio,
                            codec: "adts",
                            type: "audio",
                          }),
                        e.trigger("data", t);
                    },
                  }[s.type]());
                }),
                (this.flush = function () {
                  r(t, "video"),
                    r(n, "audio"),
                    r(i, "timed-metadata"),
                    this.trigger("done");
                });
            }).prototype = new Q());
          var Dt = {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: 188,
            TransportPacketStream: xt,
            TransportParseStream: Pt,
            ElementaryStream: Ot,
            TimestampRolloverStream: It,
            CaptionStream: _t.CaptionStream,
            Cea608Stream: _t.Cea608Stream,
            MetadataStream: At,
          };
          for (var Mt in vt) vt.hasOwnProperty(Mt) && (Dt[Mt] = vt[Mt]);
          var Rt,
            jt = Dt,
            Lt = [
              96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
              11025, 8e3, 7350,
            ];
          (Rt = function () {
            var e;
            Rt.prototype.init.call(this),
              (this.push = function (t) {
                var n,
                  i,
                  r,
                  s,
                  o,
                  a,
                  l = 0,
                  c = 0;
                if ("audio" === t.type)
                  for (
                    e
                      ? ((s = e),
                        (e = new Uint8Array(
                          s.byteLength + t.data.byteLength
                        )).set(s),
                        e.set(t.data, s.byteLength))
                      : (e = t.data);
                    l + 5 < e.length;

                  )
                    if (255 === e[l] && 240 == (246 & e[l + 1])) {
                      if (
                        ((i = 2 * (1 & ~e[l + 1])),
                        (n =
                          ((3 & e[l + 3]) << 11) |
                          (e[l + 4] << 3) |
                          ((224 & e[l + 5]) >> 5)),
                        (a =
                          (9e4 * (o = 1024 * (1 + (3 & e[l + 6])))) /
                          Lt[(60 & e[l + 2]) >>> 2]),
                        (r = l + n),
                        e.byteLength < r)
                      )
                        return;
                      if (
                        (this.trigger("data", {
                          pts: t.pts + c * a,
                          dts: t.dts + c * a,
                          sampleCount: o,
                          audioobjecttype: 1 + ((e[l + 2] >>> 6) & 3),
                          channelcount:
                            ((1 & e[l + 2]) << 2) | ((192 & e[l + 3]) >>> 6),
                          samplerate: Lt[(60 & e[l + 2]) >>> 2],
                          samplingfrequencyindex: (60 & e[l + 2]) >>> 2,
                          samplesize: 16,
                          data: e.subarray(l + 7 + i, r),
                        }),
                        e.byteLength === r)
                      )
                        return void (e = void 0);
                      c++, (e = e.subarray(r));
                    } else l++;
              }),
              (this.flush = function () {
                this.trigger("done");
              });
          }).prototype = new Q();
          var Nt,
            Ut,
            Bt,
            $t = Rt,
            Ft = function (e) {
              var t = e.byteLength,
                n = 0,
                i = 0;
              (this.length = function () {
                return 8 * t;
              }),
                (this.bitsAvailable = function () {
                  return 8 * t + i;
                }),
                (this.loadWord = function () {
                  var r = e.byteLength - t,
                    s = new Uint8Array(4),
                    o = Math.min(4, t);
                  if (0 === o) throw new Error("no bytes available");
                  s.set(e.subarray(r, r + o)),
                    (n = new DataView(s.buffer).getUint32(0)),
                    (i = 8 * o),
                    (t -= o);
                }),
                (this.skipBits = function (e) {
                  var r;
                  i > e ||
                    ((e -= i),
                    (e -= 8 * (r = Math.floor(e / 8))),
                    (t -= r),
                    this.loadWord()),
                    (n <<= e),
                    (i -= e);
                }),
                (this.readBits = function (e) {
                  var r = Math.min(i, e),
                    s = n >>> (32 - r);
                  return (
                    0 < (i -= r) ? (n <<= r) : t > 0 && this.loadWord(),
                    0 < (r = e - r) ? (s << r) | this.readBits(r) : s
                  );
                }),
                (this.skipLeadingZeros = function () {
                  var e;
                  for (e = 0; i > e; ++e)
                    if (0 != (n & (2147483648 >>> e)))
                      return (n <<= e), (i -= e), e;
                  return this.loadWord(), e + this.skipLeadingZeros();
                }),
                (this.skipUnsignedExpGolomb = function () {
                  this.skipBits(1 + this.skipLeadingZeros());
                }),
                (this.skipExpGolomb = function () {
                  this.skipBits(1 + this.skipLeadingZeros());
                }),
                (this.readUnsignedExpGolomb = function () {
                  var e = this.skipLeadingZeros();
                  return this.readBits(e + 1) - 1;
                }),
                (this.readExpGolomb = function () {
                  var e = this.readUnsignedExpGolomb();
                  return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1);
                }),
                (this.readBoolean = function () {
                  return 1 === this.readBits(1);
                }),
                (this.readUnsignedByte = function () {
                  return this.readBits(8);
                }),
                this.loadWord();
            };
          ((Ut = function () {
            var e,
              t,
              n = 0;
            Ut.prototype.init.call(this),
              (this.push = function (i) {
                var r;
                for (
                  t = t
                    ? ((r = new Uint8Array(
                        t.byteLength + i.data.byteLength
                      )).set(t),
                      r.set(i.data, t.byteLength),
                      r)
                    : i.data;
                  n < t.byteLength - 3;
                  n++
                )
                  if (1 === t[n + 2]) {
                    e = n + 5;
                    break;
                  }
                for (; e < t.byteLength; )
                  switch (t[e]) {
                    case 0:
                      if (0 !== t[e - 1]) {
                        e += 2;
                        break;
                      }
                      if (0 !== t[e - 2]) {
                        e++;
                        break;
                      }
                      for (
                        n + 3 !== e - 2 &&
                        this.trigger("data", t.subarray(n + 3, e - 2));
                        1 !== t[++e] && e < t.length;

                      );
                      (n = e - 2), (e += 3);
                      break;
                    case 1:
                      if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                        e += 3;
                        break;
                      }
                      this.trigger("data", t.subarray(n + 3, e - 2)),
                        (n = e - 2),
                        (e += 3);
                      break;
                    default:
                      e += 3;
                  }
                (t = t.subarray(n)), (e -= n), (n = 0);
              }),
              (this.flush = function () {
                t &&
                  3 < t.byteLength &&
                  this.trigger("data", t.subarray(n + 3)),
                  (t = null),
                  (n = 0),
                  this.trigger("done");
              });
          }).prototype = new Q()),
            (Bt = {
              100: !0,
              110: !0,
              122: !0,
              244: !0,
              44: !0,
              83: !0,
              86: !0,
              118: !0,
              128: !0,
              138: !0,
              139: !0,
              134: !0,
            }),
            ((Nt = function () {
              var e,
                t,
                n,
                i,
                r,
                s,
                o,
                a = new Ut();
              Nt.prototype.init.call(this),
                ((e = this).push = function (e) {
                  "video" === e.type &&
                    ((t = e.trackId), (n = e.pts), (i = e.dts), a.push(e));
                }),
                a.on("data", function (o) {
                  var a = {
                    trackId: t,
                    pts: n,
                    dts: i,
                    data: o,
                  };
                  switch (31 & o[0]) {
                    case 5:
                      a.nalUnitType =
                        "slice_layer_without_partitioning_rbsp_idr";
                      break;
                    case 6:
                      (a.nalUnitType = "sei_rbsp"),
                        (a.escapedRBSP = r(o.subarray(1)));
                      break;
                    case 7:
                      (a.nalUnitType = "seq_parameter_set_rbsp"),
                        (a.escapedRBSP = r(o.subarray(1))),
                        (a.config = s(a.escapedRBSP));
                      break;
                    case 8:
                      a.nalUnitType = "pic_parameter_set_rbsp";
                      break;
                    case 9:
                      a.nalUnitType = "access_unit_delimiter_rbsp";
                  }
                  e.trigger("data", a);
                }),
                a.on("done", function () {
                  e.trigger("done");
                }),
                (this.flush = function () {
                  a.flush();
                }),
                (o = function (e, t) {
                  var n,
                    i = 8,
                    r = 8;
                  for (n = 0; e > n; n++)
                    0 !== r && (r = (i + t.readExpGolomb() + 256) % 256),
                      (i = 0 === r ? i : r);
                }),
                (r = function (e) {
                  for (var t, n, i = e.byteLength, r = [], s = 1; i - 2 > s; )
                    0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
                      ? (r.push(s + 2), (s += 2))
                      : s++;
                  if (0 === r.length) return e;
                  (t = i - r.length), (n = new Uint8Array(t));
                  var o = 0;
                  for (s = 0; t > s; o++, s++)
                    o === r[0] && (o++, r.shift()), (n[s] = e[o]);
                  return n;
                }),
                (s = function (e) {
                  var t,
                    n,
                    i,
                    r,
                    s,
                    a,
                    l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f,
                    m = 0,
                    g = 0,
                    _ = 0,
                    v = 0,
                    y = 1;
                  if (
                    ((n = (t = new Ft(e)).readUnsignedByte()),
                    (r = t.readUnsignedByte()),
                    (i = t.readUnsignedByte()),
                    t.skipUnsignedExpGolomb(),
                    Bt[n] &&
                      (3 === (s = t.readUnsignedExpGolomb()) && t.skipBits(1),
                      t.skipUnsignedExpGolomb(),
                      t.skipUnsignedExpGolomb(),
                      t.skipBits(1),
                      t.readBoolean()))
                  )
                    for (p = 3 !== s ? 8 : 12, f = 0; p > f; f++)
                      t.readBoolean() && o(6 > f ? 16 : 64, t);
                  if (
                    (t.skipUnsignedExpGolomb(),
                    0 === (a = t.readUnsignedExpGolomb()))
                  )
                    t.readUnsignedExpGolomb();
                  else if (1 === a)
                    for (
                      t.skipBits(1),
                        t.skipExpGolomb(),
                        t.skipExpGolomb(),
                        l = t.readUnsignedExpGolomb(),
                        f = 0;
                      l > f;
                      f++
                    )
                      t.skipExpGolomb();
                  if (
                    (t.skipUnsignedExpGolomb(),
                    t.skipBits(1),
                    (c = t.readUnsignedExpGolomb()),
                    (u = t.readUnsignedExpGolomb()),
                    0 === (d = t.readBits(1)) && t.skipBits(1),
                    t.skipBits(1),
                    t.readBoolean() &&
                      ((m = t.readUnsignedExpGolomb()),
                      (g = t.readUnsignedExpGolomb()),
                      (_ = t.readUnsignedExpGolomb()),
                      (v = t.readUnsignedExpGolomb())),
                    t.readBoolean() && t.readBoolean())
                  ) {
                    switch (t.readUnsignedByte()) {
                      case 1:
                        h = [1, 1];
                        break;
                      case 2:
                        h = [12, 11];
                        break;
                      case 3:
                        h = [10, 11];
                        break;
                      case 4:
                        h = [16, 11];
                        break;
                      case 5:
                        h = [40, 33];
                        break;
                      case 6:
                        h = [24, 11];
                        break;
                      case 7:
                        h = [20, 11];
                        break;
                      case 8:
                        h = [32, 11];
                        break;
                      case 9:
                        h = [80, 33];
                        break;
                      case 10:
                        h = [18, 11];
                        break;
                      case 11:
                        h = [15, 11];
                        break;
                      case 12:
                        h = [64, 33];
                        break;
                      case 13:
                        h = [160, 99];
                        break;
                      case 14:
                        h = [4, 3];
                        break;
                      case 15:
                        h = [3, 2];
                        break;
                      case 16:
                        h = [2, 1];
                        break;
                      case 255:
                        h = [
                          (t.readUnsignedByte() << 8) | t.readUnsignedByte(),
                          (t.readUnsignedByte() << 8) | t.readUnsignedByte(),
                        ];
                    }
                    h && (y = h[0] / h[1]);
                  }
                  return {
                    profileIdc: n,
                    levelIdc: i,
                    profileCompatibility: r,
                    width: Math.ceil((16 * (c + 1) - 2 * m - 2 * g) * y),
                    height: (2 - d) * (u + 1) * 16 - 2 * _ - 2 * v,
                  };
                });
            }).prototype = new Q());
          var Ht,
            Wt = {
              H264Stream: Nt,
              NalByteStream: Ut,
            };
          (Ht = function () {
            var e = new Uint8Array(),
              t = 0;
            Ht.prototype.init.call(this),
              (this.setTimestamp = function (e) {
                t = e;
              }),
              (this.parseId3TagSize = function (e, t) {
                var n =
                  (e[t + 6] << 21) |
                  (e[t + 7] << 14) |
                  (e[t + 8] << 7) |
                  e[t + 9];
                return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10;
              }),
              (this.parseAdtsSize = function (e, t) {
                var n = (224 & e[t + 5]) >> 5,
                  i = e[t + 4] << 3;
                return (6144 & e[t + 3]) | i | n;
              }),
              (this.push = function (n) {
                var i,
                  r,
                  s,
                  o,
                  a = 0,
                  l = 0;
                for (
                  e.length
                    ? ((o = e.length),
                      (e = new Uint8Array(n.byteLength + o)).set(
                        e.subarray(0, o)
                      ),
                      e.set(n, o))
                    : (e = n);
                  3 <= e.length - l;

                )
                  if (
                    e[l] !== "I".charCodeAt(0) ||
                    e[l + 1] !== "D".charCodeAt(0) ||
                    e[l + 2] !== "3".charCodeAt(0)
                  )
                    if (!0 & e[l] && 240 == (240 & e[l + 1])) {
                      if (e.length - l < 7) break;
                      if ((a = this.parseAdtsSize(e, l)) > e.length) break;
                      (s = {
                        type: "audio",
                        data: e.subarray(l, l + a),
                        pts: t,
                        dts: t,
                      }),
                        this.trigger("data", s),
                        (l += a);
                    } else l++;
                  else {
                    if (e.length - l < 10) break;
                    if ((a = this.parseId3TagSize(e, l)) > e.length) break;
                    (r = {
                      type: "timed-metadata",
                      data: e.subarray(l, l + a),
                    }),
                      this.trigger("data", r),
                      (l += a);
                  }
                (i = e.length - l),
                  (e = i > 0 ? e.subarray(l) : new Uint8Array());
              });
          }).prototype = new Q();
          var qt,
            zt,
            Vt,
            Kt,
            Gt,
            Yt,
            Xt,
            Qt = Ht,
            Jt = [33, 16, 5, 32, 164, 27],
            Zt = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
            en = function (e) {
              for (var t = []; e--; ) t.push(0);
              return t;
            },
            tn = {
              96e3: [Jt, [227, 64], en(154), [56]],
              88200: [Jt, [231], en(170), [56]],
              64e3: [Jt, [248, 192], en(240), [56]],
              48e3: [Jt, [255, 192], en(268), [55, 148, 128], en(54), [112]],
              44100: [Jt, [255, 192], en(268), [55, 163, 128], en(84), [112]],
              32e3: [Jt, [255, 192], en(268), [55, 234], en(226), [112]],
              24e3: [
                Jt,
                [255, 192],
                en(268),
                [55, 255, 128],
                en(268),
                [111, 112],
                en(126),
                [224],
              ],
              16e3: [
                Jt,
                [255, 192],
                en(268),
                [55, 255, 128],
                en(268),
                [111, 255],
                en(269),
                [223, 108],
                en(195),
                [1, 192],
              ],
              12e3: [
                Zt,
                en(268),
                [3, 127, 248],
                en(268),
                [6, 255, 240],
                en(268),
                [13, 255, 224],
                en(268),
                [27, 253, 128],
                en(259),
                [56],
              ],
              11025: [
                Zt,
                en(268),
                [3, 127, 248],
                en(268),
                [6, 255, 240],
                en(268),
                [13, 255, 224],
                en(268),
                [27, 255, 192],
                en(268),
                [55, 175, 128],
                en(108),
                [112],
              ],
              8e3: [Zt, en(268), [3, 121, 16], en(47), [7]],
            },
            nn =
              ((qt = tn),
              Object.keys(qt).reduce(function (e, t) {
                return (
                  (e[t] = new Uint8Array(
                    qt[t].reduce(function (e, t) {
                      return e.concat(t);
                    }, [])
                  )),
                  e
                );
              }, {}));
          (Yt = function (e, t) {
            return zt(Gt(e, t));
          }),
            (Xt = function (e, t) {
              return Vt(Kt(e), t);
            }),
            (zt = function (e) {
              return 9e4 * e;
            }),
            (Vt = function (e, t) {
              return e * t;
            }),
            (Kt = function (e) {
              return e / 9e4;
            }),
            (Gt = function (e, t) {
              return e / t;
            });
          var rn,
            sn,
            on,
            an,
            ln,
            cn,
            un,
            dn = Yt,
            pn = Xt,
            hn = Wt.H264Stream,
            fn = [
              "audioobjecttype",
              "channelcount",
              "samplerate",
              "samplingfrequencyindex",
              "samplesize",
            ],
            mn = [
              "width",
              "height",
              "profileIdc",
              "levelIdc",
              "profileCompatibility",
            ];
          (ln = function (e) {
            return (
              e[0] === "I".charCodeAt(0) &&
              e[1] === "D".charCodeAt(0) &&
              e[2] === "3".charCodeAt(0)
            );
          }),
            (cn = function (e, t) {
              var n;
              if (e.length !== t.length) return !1;
              for (n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
              return !0;
            }),
            (un = function (e) {
              var t,
                n = 0;
              for (t = 0; t < e.length; t++) n += e[t].data.byteLength;
              return n;
            }),
            ((sn = function (e, t) {
              var n = [],
                i = 0,
                r = 0,
                s = 0,
                o = 1 / 0;
              (t = t || {}),
                sn.prototype.init.call(this),
                (this.push = function (t) {
                  st(e, t),
                    e &&
                      fn.forEach(function (n) {
                        e[n] = t[n];
                      }),
                    n.push(t);
                }),
                (this.setEarliestDts = function (t) {
                  r = t - e.timelineStartInfo.baseMediaDecodeTime;
                }),
                (this.setVideoBaseMediaDecodeTime = function (e) {
                  o = e;
                }),
                (this.setAudioAppendStart = function (e) {
                  s = e;
                }),
                (this.flush = function () {
                  var r, s, o, a;
                  0 !== n.length &&
                    ((r = this.trimAdtsFramesByEarliestDts_(n)),
                    (e.baseMediaDecodeTime = rt(e, t.keepOriginalTimestamps)),
                    this.prefixWithSilence_(e, r),
                    (e.samples = this.generateSampleTable_(r)),
                    (o = K.mdat(this.concatenateFrameData_(r))),
                    (n = []),
                    (s = K.moof(i, [e])),
                    (a = new Uint8Array(s.byteLength + o.byteLength)),
                    i++,
                    a.set(s),
                    a.set(o, s.byteLength),
                    it(e),
                    this.trigger("data", {
                      track: e,
                      boxes: a,
                    })),
                    this.trigger("done", "AudioSegmentStream");
                }),
                (this.prefixWithSilence_ = function (e, t) {
                  var n,
                    i,
                    r,
                    a,
                    l = 0,
                    c = 0,
                    u = 0;
                  if (
                    t.length &&
                    ((n = dn(e.baseMediaDecodeTime, e.samplerate)),
                    (i = Math.ceil(9e4 / (e.samplerate / 1024))),
                    s &&
                      o &&
                      ((l = n - Math.max(s, o)),
                      (u = (c = Math.floor(l / i)) * i)),
                    !(1 > c || u > 45e3))
                  ) {
                    for (
                      (r = nn[e.samplerate]) || (r = t[0].data), a = 0;
                      c > a;
                      a++
                    )
                      t.splice(a, 0, {
                        data: r,
                      });
                    e.baseMediaDecodeTime -= Math.floor(pn(u, e.samplerate));
                  }
                }),
                (this.trimAdtsFramesByEarliestDts_ = function (t) {
                  return e.minSegmentDts >= r
                    ? t
                    : ((e.minSegmentDts = 1 / 0),
                      t.filter(function (t) {
                        return (
                          t.dts >= r &&
                          ((e.minSegmentDts = Math.min(e.minSegmentDts, t.dts)),
                          (e.minSegmentPts = e.minSegmentDts),
                          !0)
                        );
                      }));
                }),
                (this.generateSampleTable_ = function (e) {
                  var t,
                    n,
                    i = [];
                  for (t = 0; t < e.length; t++)
                    (n = e[t]),
                      i.push({
                        size: n.data.byteLength,
                        duration: 1024,
                      });
                  return i;
                }),
                (this.concatenateFrameData_ = function (e) {
                  var t,
                    n,
                    i = 0,
                    r = new Uint8Array(un(e));
                  for (t = 0; t < e.length; t++)
                    (n = e[t]), r.set(n.data, i), (i += n.data.byteLength);
                  return r;
                });
            }).prototype = new Q()),
            ((rn = function (e, t) {
              var n,
                i,
                r = 0,
                s = [],
                o = [];
              (t = t || {}),
                rn.prototype.init.call(this),
                delete e.minPTS,
                (this.gopCache_ = []),
                (this.push = function (t) {
                  st(e, t),
                    "seq_parameter_set_rbsp" !== t.nalUnitType ||
                      n ||
                      ((n = t.config),
                      (e.sps = [t.data]),
                      mn.forEach(function (t) {
                        e[t] = n[t];
                      }, this)),
                    "pic_parameter_set_rbsp" !== t.nalUnitType ||
                      i ||
                      ((i = t.data), (e.pps = [t.data])),
                    s.push(t);
                }),
                (this.flush = function () {
                  for (
                    var n, i, a, l, c, u;
                    s.length &&
                    "access_unit_delimiter_rbsp" !== s[0].nalUnitType;

                  )
                    s.shift();
                  if (0 === s.length)
                    return (
                      this.resetStream_(),
                      void this.trigger("done", "VideoSegmentStream")
                    );
                  if (
                    ((n = J(s)),
                    (a = Z(n))[0][0].keyFrame ||
                      ((i = this.getGopForFusion_(s[0], e))
                        ? (a.unshift(i),
                          (a.byteLength += i.byteLength),
                          (a.nalCount += i.nalCount),
                          (a.pts = i.pts),
                          (a.dts = i.dts),
                          (a.duration += i.duration))
                        : (a = et(a))),
                    o.length)
                  ) {
                    var d;
                    if (
                      !(d = t.alignGopsAtEnd
                        ? this.alignGopsAtEnd_(a)
                        : this.alignGopsAtStart_(a))
                    )
                      return (
                        this.gopCache_.unshift({
                          gop: a.pop(),
                          pps: e.pps,
                          sps: e.sps,
                        }),
                        (this.gopCache_.length = Math.min(
                          6,
                          this.gopCache_.length
                        )),
                        (s = []),
                        this.resetStream_(),
                        void this.trigger("done", "VideoSegmentStream")
                      );
                    it(e), (a = d);
                  }
                  st(e, a),
                    (e.samples = tt(a)),
                    (c = K.mdat(nt(a))),
                    (e.baseMediaDecodeTime = rt(e, t.keepOriginalTimestamps)),
                    this.trigger(
                      "processedGopsInfo",
                      a.map(function (e) {
                        return {
                          pts: e.pts,
                          dts: e.dts,
                          byteLength: e.byteLength,
                        };
                      })
                    ),
                    this.gopCache_.unshift({
                      gop: a.pop(),
                      pps: e.pps,
                      sps: e.sps,
                    }),
                    (this.gopCache_.length = Math.min(
                      6,
                      this.gopCache_.length
                    )),
                    (s = []),
                    this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
                    this.trigger("timelineStartInfo", e.timelineStartInfo),
                    (l = K.moof(r, [e])),
                    (u = new Uint8Array(l.byteLength + c.byteLength)),
                    r++,
                    u.set(l),
                    u.set(c, l.byteLength),
                    this.trigger("data", {
                      track: e,
                      boxes: u,
                    }),
                    this.resetStream_(),
                    this.trigger("done", "VideoSegmentStream");
                }),
                (this.resetStream_ = function () {
                  it(e), (i = n = void 0);
                }),
                (this.getGopForFusion_ = function (t) {
                  var n,
                    i,
                    r,
                    s,
                    o,
                    a = 1 / 0;
                  for (o = 0; o < this.gopCache_.length; o++)
                    (r = (s = this.gopCache_[o]).gop),
                      e.pps &&
                        cn(e.pps[0], s.pps[0]) &&
                        e.sps &&
                        cn(e.sps[0], s.sps[0]) &&
                        (r.dts < e.timelineStartInfo.dts ||
                          (-1e4 <= (n = t.dts - r.dts - r.duration) &&
                            45e3 >= n &&
                            (!i || a > n) &&
                            ((i = s), (a = n))));
                  return i ? i.gop : null;
                }),
                (this.alignGopsAtStart_ = function (e) {
                  var t, n, i, r, s, a, l, c;
                  for (
                    s = e.byteLength, a = e.nalCount, l = e.duration, t = n = 0;
                    t < o.length &&
                    n < e.length &&
                    ((i = o[t]), (r = e[n]), i.pts !== r.pts);

                  )
                    r.pts > i.pts
                      ? t++
                      : (n++,
                        (s -= r.byteLength),
                        (a -= r.nalCount),
                        (l -= r.duration));
                  return 0 === n
                    ? e
                    : n === e.length
                    ? null
                    : (((c = e.slice(n)).byteLength = s),
                      (c.duration = l),
                      (c.nalCount = a),
                      (c.pts = c[0].pts),
                      (c.dts = c[0].dts),
                      c);
                }),
                (this.alignGopsAtEnd_ = function (e) {
                  var t, n, i, r, s, a, l;
                  for (
                    t = o.length - 1, n = e.length - 1, s = null, a = !1;
                    t >= 0 && n >= 0;

                  ) {
                    if (((i = o[t]), (r = e[n]), i.pts === r.pts)) {
                      a = !0;
                      break;
                    }
                    i.pts > r.pts ? t-- : (t === o.length - 1 && (s = n), n--);
                  }
                  if (!a && null === s) return null;
                  if (0 === (l = a ? n : s)) return e;
                  var c = e.slice(l),
                    u = c.reduce(
                      function (e, t) {
                        return (
                          (e.byteLength += t.byteLength),
                          (e.duration += t.duration),
                          (e.nalCount += t.nalCount),
                          e
                        );
                      },
                      {
                        byteLength: 0,
                        duration: 0,
                        nalCount: 0,
                      }
                    );
                  return (
                    (c.byteLength = u.byteLength),
                    (c.duration = u.duration),
                    (c.nalCount = u.nalCount),
                    (c.pts = c[0].pts),
                    (c.dts = c[0].dts),
                    c
                  );
                }),
                (this.alignGopsWith = function (e) {
                  o = e;
                });
            }).prototype = new Q()),
            ((an = function (e, t) {
              (this.numberOfTracks = 0),
                (this.metadataStream = t),
                (this.remuxTracks =
                  "undefined" != typeof e.remux ? !!e.remux : !0),
                (this.pendingTracks = []),
                (this.videoTrack = null),
                (this.pendingBoxes = []),
                (this.pendingCaptions = []),
                (this.pendingMetadata = []),
                (this.pendingBytes = 0),
                (this.emittedTracks = 0),
                an.prototype.init.call(this),
                (this.push = function (e) {
                  return e.text
                    ? this.pendingCaptions.push(e)
                    : e.frames
                    ? this.pendingMetadata.push(e)
                    : (this.pendingTracks.push(e.track),
                      this.pendingBoxes.push(e.boxes),
                      (this.pendingBytes += e.boxes.byteLength),
                      "video" === e.track.type && (this.videoTrack = e.track),
                      void (
                        "audio" === e.track.type && (this.audioTrack = e.track)
                      ));
                });
            }).prototype = new Q()),
            (an.prototype.flush = function (e) {
              var t,
                n,
                i,
                r,
                s = 0,
                o = {
                  captions: [],
                  captionStreams: {},
                  metadata: [],
                  info: {},
                },
                a = 0;
              if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e)
                  return;
                if (this.remuxTracks) return;
                if (0 === this.pendingTracks.length)
                  return (
                    this.emittedTracks++,
                    void (
                      this.emittedTracks >= this.numberOfTracks &&
                      (this.trigger("done"), (this.emittedTracks = 0))
                    )
                  );
              }
              for (
                this.videoTrack
                  ? ((a = this.videoTrack.timelineStartInfo.pts),
                    mn.forEach(function (e) {
                      o.info[e] = this.videoTrack[e];
                    }, this))
                  : this.audioTrack &&
                    ((a = this.audioTrack.timelineStartInfo.pts),
                    fn.forEach(function (e) {
                      o.info[e] = this.audioTrack[e];
                    }, this)),
                  o.type =
                    1 === this.pendingTracks.length
                      ? this.pendingTracks[0].type
                      : "combined",
                  this.emittedTracks += this.pendingTracks.length,
                  i = K.initSegment(this.pendingTracks),
                  o.initSegment = new Uint8Array(i.byteLength),
                  o.initSegment.set(i),
                  o.data = new Uint8Array(this.pendingBytes),
                  r = 0;
                r < this.pendingBoxes.length;
                r++
              )
                o.data.set(this.pendingBoxes[r], s),
                  (s += this.pendingBoxes[r].byteLength);
              for (r = 0; r < this.pendingCaptions.length; r++)
                ((t = this.pendingCaptions[r]).startTime = t.startPts - a),
                  (t.startTime /= 9e4),
                  (t.endTime = t.endPts - a),
                  (t.endTime /= 9e4),
                  (o.captionStreams[t.stream] = !0),
                  o.captions.push(t);
              for (r = 0; r < this.pendingMetadata.length; r++)
                ((n = this.pendingMetadata[r]).cueTime = n.pts - a),
                  (n.cueTime /= 9e4),
                  o.metadata.push(n);
              (o.metadata.dispatchType = this.metadataStream.dispatchType),
                (this.pendingTracks.length = 0),
                (this.videoTrack = null),
                (this.pendingBoxes.length = 0),
                (this.pendingCaptions.length = 0),
                (this.pendingBytes = 0),
                (this.pendingMetadata.length = 0),
                this.trigger("data", o),
                this.emittedTracks >= this.numberOfTracks &&
                  (this.trigger("done"), (this.emittedTracks = 0));
            }),
            ((on = function (e) {
              var t,
                n,
                i = this,
                r = !0;
              on.prototype.init.call(this),
                (e = e || {}),
                (this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0),
                (this.transmuxPipeline_ = {}),
                (this.setupAacPipeline = function () {
                  var t = {};
                  ((this.transmuxPipeline_ = t).type = "aac"),
                    (t.metadataStream = new jt.MetadataStream()),
                    (t.aacStream = new Qt()),
                    (t.audioTimestampRolloverStream =
                      new jt.TimestampRolloverStream("audio")),
                    (t.timedMetadataTimestampRolloverStream =
                      new jt.TimestampRolloverStream("timed-metadata")),
                    (t.adtsStream = new $t()),
                    (t.coalesceStream = new an(e, t.metadataStream)),
                    (t.headOfPipeline = t.aacStream),
                    t.aacStream
                      .pipe(t.audioTimestampRolloverStream)
                      .pipe(t.adtsStream),
                    t.aacStream
                      .pipe(t.timedMetadataTimestampRolloverStream)
                      .pipe(t.metadataStream)
                      .pipe(t.coalesceStream),
                    t.metadataStream.on("timestamp", function (e) {
                      t.aacStream.setTimestamp(e.timeStamp);
                    }),
                    t.aacStream.on("data", function (r) {
                      "timed-metadata" !== r.type ||
                        t.audioSegmentStream ||
                        ((n = n || {
                          timelineStartInfo: {
                            baseMediaDecodeTime: i.baseMediaDecodeTime,
                          },
                          codec: "adts",
                          type: "audio",
                        }),
                        t.coalesceStream.numberOfTracks++,
                        (t.audioSegmentStream = new sn(n, e)),
                        t.adtsStream
                          .pipe(t.audioSegmentStream)
                          .pipe(t.coalesceStream));
                    }),
                    t.coalesceStream.on(
                      "data",
                      this.trigger.bind(this, "data")
                    ),
                    t.coalesceStream.on(
                      "done",
                      this.trigger.bind(this, "done")
                    );
                }),
                (this.setupTsPipeline = function () {
                  var r = {};
                  ((this.transmuxPipeline_ = r).type = "ts"),
                    (r.metadataStream = new jt.MetadataStream()),
                    (r.packetStream = new jt.TransportPacketStream()),
                    (r.parseStream = new jt.TransportParseStream()),
                    (r.elementaryStream = new jt.ElementaryStream()),
                    (r.videoTimestampRolloverStream =
                      new jt.TimestampRolloverStream("video")),
                    (r.audioTimestampRolloverStream =
                      new jt.TimestampRolloverStream("audio")),
                    (r.timedMetadataTimestampRolloverStream =
                      new jt.TimestampRolloverStream("timed-metadata")),
                    (r.adtsStream = new $t()),
                    (r.h264Stream = new hn()),
                    (r.captionStream = new jt.CaptionStream()),
                    (r.coalesceStream = new an(e, r.metadataStream)),
                    (r.headOfPipeline = r.packetStream),
                    r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),
                    r.elementaryStream
                      .pipe(r.videoTimestampRolloverStream)
                      .pipe(r.h264Stream),
                    r.elementaryStream
                      .pipe(r.audioTimestampRolloverStream)
                      .pipe(r.adtsStream),
                    r.elementaryStream
                      .pipe(r.timedMetadataTimestampRolloverStream)
                      .pipe(r.metadataStream)
                      .pipe(r.coalesceStream),
                    r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),
                    r.elementaryStream.on("data", function (s) {
                      var o;
                      if ("metadata" === s.type) {
                        for (o = s.tracks.length; o--; )
                          t || "video" !== s.tracks[o].type
                            ? n ||
                              "audio" !== s.tracks[o].type ||
                              ((n =
                                s.tracks[
                                  o
                                ]).timelineStartInfo.baseMediaDecodeTime =
                                i.baseMediaDecodeTime)
                            : ((t =
                                s.tracks[
                                  o
                                ]).timelineStartInfo.baseMediaDecodeTime =
                                i.baseMediaDecodeTime);
                        t &&
                          !r.videoSegmentStream &&
                          (r.coalesceStream.numberOfTracks++,
                          (r.videoSegmentStream = new rn(t, e)),
                          r.videoSegmentStream.on(
                            "timelineStartInfo",
                            function (e) {
                              n &&
                                ((n.timelineStartInfo = e),
                                r.audioSegmentStream.setEarliestDts(e.dts));
                            }
                          ),
                          r.videoSegmentStream.on(
                            "processedGopsInfo",
                            i.trigger.bind(i, "gopInfo")
                          ),
                          r.videoSegmentStream.on(
                            "baseMediaDecodeTime",
                            function (e) {
                              n &&
                                r.audioSegmentStream.setVideoBaseMediaDecodeTime(
                                  e
                                );
                            }
                          ),
                          r.h264Stream
                            .pipe(r.videoSegmentStream)
                            .pipe(r.coalesceStream)),
                          n &&
                            !r.audioSegmentStream &&
                            (r.coalesceStream.numberOfTracks++,
                            (r.audioSegmentStream = new sn(n, e)),
                            r.adtsStream
                              .pipe(r.audioSegmentStream)
                              .pipe(r.coalesceStream));
                      }
                    }),
                    r.coalesceStream.on(
                      "data",
                      this.trigger.bind(this, "data")
                    ),
                    r.coalesceStream.on(
                      "done",
                      this.trigger.bind(this, "done")
                    );
                }),
                (this.setBaseMediaDecodeTime = function (e) {
                  var i = this.transmuxPipeline_;
                  (this.baseMediaDecodeTime = e),
                    n &&
                      ((n.timelineStartInfo.dts = void 0),
                      (n.timelineStartInfo.pts = void 0),
                      it(n),
                      (n.timelineStartInfo.baseMediaDecodeTime = e),
                      i.audioTimestampRolloverStream &&
                        i.audioTimestampRolloverStream.discontinuity()),
                    t &&
                      (i.videoSegmentStream &&
                        ((i.videoSegmentStream.gopCache_ = []),
                        i.videoTimestampRolloverStream.discontinuity()),
                      (t.timelineStartInfo.dts = void 0),
                      (t.timelineStartInfo.pts = void 0),
                      it(t),
                      i.captionStream.reset(),
                      (t.timelineStartInfo.baseMediaDecodeTime = e)),
                    i.timedMetadataTimestampRolloverStream &&
                      i.timedMetadataTimestampRolloverStream.discontinuity();
                }),
                (this.setAudioAppendStart = function (e) {
                  n &&
                    this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(
                      e
                    );
                }),
                (this.alignGopsWith = function (e) {
                  t &&
                    this.transmuxPipeline_.videoSegmentStream &&
                    this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e);
                }),
                (this.push = function (e) {
                  if (r) {
                    var t = ln(e);
                    t && "aac" !== this.transmuxPipeline_.type
                      ? this.setupAacPipeline()
                      : t ||
                        "ts" === this.transmuxPipeline_.type ||
                        this.setupTsPipeline(),
                      (r = !1);
                  }
                  this.transmuxPipeline_.headOfPipeline.push(e);
                }),
                (this.flush = function () {
                  (r = !0), this.transmuxPipeline_.headOfPipeline.flush();
                }),
                (this.resetCaptions = function () {
                  this.transmuxPipeline_.captionStream &&
                    this.transmuxPipeline_.captionStream.reset();
                });
            }).prototype = new Q());
          var gn,
            _n,
            vn = {
              Transmuxer: on,
              VideoSegmentStream: rn,
              AudioSegmentStream: sn,
              AUDIO_PROPERTIES: fn,
              VIDEO_PROPERTIES: mn,
            },
            yn = Y.parseType,
            bn = function (e) {
              return new Date(1e3 * e - 20828448e5);
            },
            wn = function (e) {
              return {
                isLeading: (12 & e[0]) >>> 2,
                dependsOn: 3 & e[0],
                isDependedOn: (192 & e[1]) >>> 6,
                hasRedundancy: (48 & e[1]) >>> 4,
                paddingValue: (14 & e[1]) >>> 1,
                isNonSyncSample: 1 & e[1],
                degradationPriority: (e[2] << 8) | e[3],
              };
            },
            Cn = {
              avc1: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                return {
                  dataReferenceIndex: t.getUint16(6),
                  width: t.getUint16(24),
                  height: t.getUint16(26),
                  horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                  vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                  frameCount: t.getUint16(40),
                  depth: t.getUint16(74),
                  config: gn(e.subarray(78, e.byteLength)),
                };
              },
              avcC: function (e) {
                var t,
                  n,
                  i,
                  r,
                  s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  o = {
                    configurationVersion: e[0],
                    avcProfileIndication: e[1],
                    profileCompatibility: e[2],
                    avcLevelIndication: e[3],
                    lengthSizeMinusOne: 3 & e[4],
                    sps: [],
                    pps: [],
                  },
                  a = 31 & e[5];
                for (i = 6, r = 0; a > r; r++)
                  (n = s.getUint16(i)),
                    (i += 2),
                    o.sps.push(new Uint8Array(e.subarray(i, i + n))),
                    (i += n);
                for (t = e[i], i++, r = 0; t > r; r++)
                  (n = s.getUint16(i)),
                    (i += 2),
                    o.pps.push(new Uint8Array(e.subarray(i, i + n))),
                    (i += n);
                return o;
              },
              btrt: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                return {
                  bufferSizeDB: t.getUint32(0),
                  maxBitrate: t.getUint32(4),
                  avgBitrate: t.getUint32(8),
                };
              },
              esds: function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  esId: (e[6] << 8) | e[7],
                  streamPriority: 31 & e[8],
                  decoderConfig: {
                    objectProfileIndication: e[11],
                    streamType: (e[12] >>> 2) & 63,
                    bufferSize: (e[13] << 16) | (e[14] << 8) | e[15],
                    maxBitrate:
                      (e[16] << 24) | (e[17] << 16) | (e[18] << 8) | e[19],
                    avgBitrate:
                      (e[20] << 24) | (e[21] << 16) | (e[22] << 8) | e[23],
                    decoderConfigDescriptor: {
                      tag: e[24],
                      length: e[25],
                      audioObjectType: (e[26] >>> 3) & 31,
                      samplingFrequencyIndex:
                        ((7 & e[26]) << 1) | ((e[27] >>> 7) & 1),
                      channelConfiguration: (e[27] >>> 3) & 15,
                    },
                  },
                };
              },
              ftyp: function (e) {
                for (
                  var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    n = {
                      majorBrand: yn(e.subarray(0, 4)),
                      minorVersion: t.getUint32(4),
                      compatibleBrands: [],
                    },
                    i = 8;
                  i < e.byteLength;

                )
                  n.compatibleBrands.push(yn(e.subarray(i, i + 4))), (i += 4);
                return n;
              },
              dinf: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              dref: function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  dataReferences: gn(e.subarray(8)),
                };
              },
              hdlr: function (e) {
                var t = {
                    version: new DataView(
                      e.buffer,
                      e.byteOffset,
                      e.byteLength
                    ).getUint8(0),
                    flags: new Uint8Array(e.subarray(1, 4)),
                    handlerType: yn(e.subarray(8, 12)),
                    name: "",
                  },
                  n = 8;
                for (n = 24; n < e.byteLength; n++) {
                  if (0 === e[n]) {
                    n++;
                    break;
                  }
                  t.name += String.fromCharCode(e[n]);
                }
                return (t.name = decodeURIComponent(escape(t.name))), t;
              },
              mdat: function (e) {
                return {
                  byteLength: e.byteLength,
                  nals: (function (e) {
                    var t,
                      n,
                      i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                      r = [];
                    for (t = 0; t + 4 < e.length; t += n)
                      if (((n = i.getUint32(t)), (t += 4), 0 >= n))
                        r.push(
                          "<span style='color:red;'>MALFORMED DATA</span>"
                        );
                      else
                        switch (31 & e[t]) {
                          case 1:
                            r.push("slice_layer_without_partitioning_rbsp");
                            break;
                          case 5:
                            r.push("slice_layer_without_partitioning_rbsp_idr");
                            break;
                          case 6:
                            r.push("sei_rbsp");
                            break;
                          case 7:
                            r.push("seq_parameter_set_rbsp");
                            break;
                          case 8:
                            r.push("pic_parameter_set_rbsp");
                            break;
                          case 9:
                            r.push("access_unit_delimiter_rbsp");
                            break;
                          default:
                            r.push(("UNKNOWN NAL - " + e[t]) & 31);
                        }
                    return r;
                  })(e),
                };
              },
              mdhd: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = 4,
                  r = {
                    version: n.getUint8(0),
                    flags: new Uint8Array(e.subarray(1, 4)),
                    language: "",
                  };
                return (
                  1 === r.version
                    ? ((i += 4),
                      (r.creationTime = bn(n.getUint32(i))),
                      (i += 8),
                      (r.modificationTime = bn(n.getUint32(i))),
                      (i += 4),
                      (r.timescale = n.getUint32(i)),
                      (i += 8))
                    : ((r.creationTime = bn(n.getUint32(i))),
                      (i += 4),
                      (r.modificationTime = bn(n.getUint32(i))),
                      (i += 4),
                      (r.timescale = n.getUint32(i)),
                      (i += 4)),
                  (r.duration = n.getUint32(i)),
                  (i += 4),
                  (t = n.getUint16(i)),
                  (r.language += String.fromCharCode(96 + (t >> 10))),
                  (r.language += String.fromCharCode(96 + ((992 & t) >> 5))),
                  (r.language += String.fromCharCode(96 + (31 & t))),
                  r
                );
              },
              mdia: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              mfhd: function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  sequenceNumber:
                    (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                };
              },
              minf: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              mp4a: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  n = {
                    dataReferenceIndex: t.getUint16(6),
                    channelcount: t.getUint16(16),
                    samplesize: t.getUint16(18),
                    samplerate: t.getUint16(24) + t.getUint16(26) / 65536,
                  };
                return (
                  28 < e.byteLength &&
                    (n.streamDescriptor = gn(e.subarray(28))[0]),
                  n
                );
              },
              moof: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              moov: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              mvex: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              mvhd: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  n = 4,
                  i = {
                    version: t.getUint8(0),
                    flags: new Uint8Array(e.subarray(1, 4)),
                  };
                return (
                  1 === i.version
                    ? ((n += 4),
                      (i.creationTime = bn(t.getUint32(n))),
                      (n += 8),
                      (i.modificationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.timescale = t.getUint32(n)),
                      (n += 8))
                    : ((i.creationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.modificationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.timescale = t.getUint32(n)),
                      (n += 4)),
                  (i.duration = t.getUint32(n)),
                  (n += 4),
                  (i.rate = t.getUint16(n) + t.getUint16(n + 2) / 16),
                  (n += 4),
                  (i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8),
                  (n += 2),
                  (n += 2),
                  (n += 8),
                  (i.matrix = new Uint32Array(e.subarray(n, n + 36))),
                  (n += 36),
                  (n += 24),
                  (i.nextTrackId = t.getUint32(n)),
                  i
                );
              },
              pdin: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                return {
                  version: t.getUint8(0),
                  flags: new Uint8Array(e.subarray(1, 4)),
                  rate: t.getUint32(4),
                  initialDelay: t.getUint32(8),
                };
              },
              sdtp: function (e) {
                var t,
                  n = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    samples: [],
                  };
                for (t = 4; t < e.byteLength; t++)
                  n.samples.push({
                    dependsOn: (48 & e[t]) >> 4,
                    isDependedOn: (12 & e[t]) >> 2,
                    hasRedundancy: 3 & e[t],
                  });
                return n;
              },
              sidx: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    references: [],
                    referenceId: n.getUint32(4),
                    timescale: n.getUint32(8),
                    earliestPresentationTime: n.getUint32(12),
                    firstOffset: n.getUint32(16),
                  },
                  r = n.getUint16(22);
                for (t = 24; r; t += 12, r--)
                  i.references.push({
                    referenceType: (128 & e[t]) >>> 7,
                    referencedSize: 2147483647 & n.getUint32(t),
                    subsegmentDuration: n.getUint32(t + 4),
                    startsWithSap: !!(128 & e[t + 8]),
                    sapType: (112 & e[t + 8]) >>> 4,
                    sapDeltaTime: 268435455 & n.getUint32(t + 8),
                  });
                return i;
              },
              smhd: function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  balance: e[4] + e[5] / 256,
                };
              },
              stbl: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              stco: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    chunkOffsets: [],
                  },
                  r = n.getUint32(4);
                for (t = 8; r; t += 4, r--) i.chunkOffsets.push(n.getUint32(t));
                return i;
              },
              stsc: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = n.getUint32(4),
                  r = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    sampleToChunks: [],
                  };
                for (t = 8; i; t += 12, i--)
                  r.sampleToChunks.push({
                    firstChunk: n.getUint32(t),
                    samplesPerChunk: n.getUint32(t + 4),
                    sampleDescriptionIndex: n.getUint32(t + 8),
                  });
                return r;
              },
              stsd: function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  sampleDescriptions: gn(e.subarray(8)),
                };
              },
              stsz: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    sampleSize: n.getUint32(4),
                    entries: [],
                  };
                for (t = 12; t < e.byteLength; t += 4)
                  i.entries.push(n.getUint32(t));
                return i;
              },
              stts: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    timeToSamples: [],
                  },
                  r = n.getUint32(4);
                for (t = 8; r; t += 8, r--)
                  i.timeToSamples.push({
                    sampleCount: n.getUint32(t),
                    sampleDelta: n.getUint32(t + 4),
                  });
                return i;
              },
              styp: function (e) {
                return Cn.ftyp(e);
              },
              tfdt: function (e) {
                var t = {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  baseMediaDecodeTime:
                    (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                };
                return (
                  1 === t.version &&
                    ((t.baseMediaDecodeTime *= Math.pow(2, 32)),
                    (t.baseMediaDecodeTime +=
                      (e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11])),
                  t
                );
              },
              tfhd: function (e) {
                var t,
                  n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  i = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    trackId: n.getUint32(4),
                  },
                  r = 1 & i.flags[2],
                  s = 2 & i.flags[2],
                  o = 8 & i.flags[2],
                  a = 16 & i.flags[2],
                  l = 32 & i.flags[2],
                  c = 65536 & i.flags[0],
                  u = 131072 & i.flags[0];
                return (
                  (t = 8),
                  r &&
                    ((t += 4), (i.baseDataOffset = n.getUint32(12)), (t += 4)),
                  s && ((i.sampleDescriptionIndex = n.getUint32(t)), (t += 4)),
                  o && ((i.defaultSampleDuration = n.getUint32(t)), (t += 4)),
                  a && ((i.defaultSampleSize = n.getUint32(t)), (t += 4)),
                  l && (i.defaultSampleFlags = n.getUint32(t)),
                  c && (i.durationIsEmpty = !0),
                  !r && u && (i.baseDataOffsetIsMoof = !0),
                  i
                );
              },
              tkhd: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  n = 4,
                  i = {
                    version: t.getUint8(0),
                    flags: new Uint8Array(e.subarray(1, 4)),
                  };
                return (
                  1 === i.version
                    ? ((n += 4),
                      (i.creationTime = bn(t.getUint32(n))),
                      (n += 8),
                      (i.modificationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.trackId = t.getUint32(n)),
                      (n += 4),
                      (n += 8))
                    : ((i.creationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.modificationTime = bn(t.getUint32(n))),
                      (n += 4),
                      (i.trackId = t.getUint32(n)),
                      (n += 4),
                      (n += 4)),
                  (i.duration = t.getUint32(n)),
                  (n += 4),
                  (n += 8),
                  (i.layer = t.getUint16(n)),
                  (n += 2),
                  (i.alternateGroup = t.getUint16(n)),
                  (n += 2),
                  (i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8),
                  (n += 2),
                  (n += 2),
                  (i.matrix = new Uint32Array(e.subarray(n, n + 36))),
                  (n += 36),
                  (i.width = t.getUint16(n) + t.getUint16(n + 2) / 16),
                  (n += 4),
                  (i.height = t.getUint16(n) + t.getUint16(n + 2) / 16),
                  i
                );
              },
              traf: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              trak: function (e) {
                return {
                  boxes: gn(e),
                };
              },
              trex: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  trackId: t.getUint32(4),
                  defaultSampleDescriptionIndex: t.getUint32(8),
                  defaultSampleDuration: t.getUint32(12),
                  defaultSampleSize: t.getUint32(16),
                  sampleDependsOn: 3 & e[20],
                  sampleIsDependedOn: (192 & e[21]) >> 6,
                  sampleHasRedundancy: (48 & e[21]) >> 4,
                  samplePaddingValue: (14 & e[21]) >> 1,
                  sampleIsDifferenceSample: !!(1 & e[21]),
                  sampleDegradationPriority: t.getUint16(22),
                };
              },
              trun: function (e) {
                var t,
                  n = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    samples: [],
                  },
                  i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                  r = 1 & n.flags[2],
                  s = 4 & n.flags[2],
                  o = 1 & n.flags[1],
                  a = 2 & n.flags[1],
                  l = 4 & n.flags[1],
                  c = 8 & n.flags[1],
                  u = i.getUint32(4),
                  d = 8;
                for (
                  r && ((n.dataOffset = i.getInt32(d)), (d += 4)),
                    s &&
                      u &&
                      ((t = {
                        flags: wn(e.subarray(d, d + 4)),
                      }),
                      (d += 4),
                      o && ((t.duration = i.getUint32(d)), (d += 4)),
                      a && ((t.size = i.getUint32(d)), (d += 4)),
                      c &&
                        ((t.compositionTimeOffset = i.getUint32(d)), (d += 4)),
                      n.samples.push(t),
                      u--);
                  u--;

                )
                  (t = {}),
                    o && ((t.duration = i.getUint32(d)), (d += 4)),
                    a && ((t.size = i.getUint32(d)), (d += 4)),
                    l && ((t.flags = wn(e.subarray(d, d + 4))), (d += 4)),
                    c && ((t.compositionTimeOffset = i.getUint32(d)), (d += 4)),
                    n.samples.push(t);
                return n;
              },
              "url ": function (e) {
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                };
              },
              vmhd: function (e) {
                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                return {
                  version: e[0],
                  flags: new Uint8Array(e.subarray(1, 4)),
                  graphicsmode: t.getUint16(4),
                  opcolor: new Uint16Array([
                    t.getUint16(6),
                    t.getUint16(8),
                    t.getUint16(10),
                  ]),
                };
              },
            },
            kn = {
              inspect: (gn = function (e) {
                for (
                  var t,
                    n,
                    i,
                    r,
                    s,
                    o = 0,
                    a = [],
                    l = new ArrayBuffer(e.length),
                    c = new Uint8Array(l),
                    u = 0;
                  u < e.length;
                  ++u
                )
                  c[u] = e[u];
                for (t = new DataView(l); o < e.byteLength; )
                  (n = t.getUint32(o)),
                    (i = yn(e.subarray(o + 4, o + 8))),
                    (r = n > 1 ? o + n : e.byteLength),
                    ((s = (
                      Cn[i] ||
                      function (e) {
                        return {
                          data: e,
                        };
                      }
                    )(e.subarray(o + 8, r))).size = n),
                    (s.type = i),
                    a.push(s),
                    (o = r);
                return a;
              }),
              textify: (_n = function (e, t) {
                var n;
                return (
                  (t = t || 0),
                  (n = new Array(2 * t + 1).join(" ")),
                  e
                    .map(function (e) {
                      return (
                        n +
                        e.type +
                        "\n" +
                        Object.keys(e)
                          .filter(function (e) {
                            return "type" !== e && "boxes" !== e;
                          })
                          .map(function (t) {
                            var i = n + "  " + t + ": ",
                              r = e[t];
                            if (
                              r instanceof Uint8Array ||
                              r instanceof Uint32Array
                            ) {
                              var s = Array.prototype.slice
                                .call(
                                  new Uint8Array(
                                    r.buffer,
                                    r.byteOffset,
                                    r.byteLength
                                  )
                                )
                                .map(function (e) {
                                  return (
                                    " " + ("00" + e.toString(16)).slice(-2)
                                  );
                                })
                                .join("")
                                .match(/.{1,24}/g);
                              return s
                                ? 1 === s.length
                                  ? i + "<" + s.join("").slice(1) + ">"
                                  : i +
                                    "<\n" +
                                    s
                                      .map(function (e) {
                                        return n + "  " + e;
                                      })
                                      .join("\n") +
                                    "\n" +
                                    n +
                                    "  >"
                                : i + "<>";
                            }
                            return (
                              i +
                              JSON.stringify(r, null, 2)
                                .split("\n")
                                .map(function (e, t) {
                                  return 0 === t ? e : n + "  " + e;
                                })
                                .join("\n")
                            );
                          })
                          .join("\n") +
                        (e.boxes ? "\n" + _n(e.boxes, t + 1) : "")
                      );
                    })
                    .join("\n")
                );
              }),
              parseTfdt: Cn.tfdt,
              parseHdlr: Cn.hdlr,
              parseTfhd: Cn.tfhd,
              parseTrun: Cn.trun,
            },
            Tn = ct,
            En = _t.CaptionStream,
            Sn = function (e, t) {
              for (var n = e, i = 0; i < t.length; i++) {
                var r = t[i];
                if (n < r.size) return r;
                n -= r.size;
              }
              return null;
            },
            xn = function (e, t) {
              var n = Y.findBox(e, ["moof", "traf"]),
                i = Y.findBox(e, ["mdat"]),
                r = {},
                s = [];
              return (
                i.forEach(function (e, t) {
                  var i = n[t];
                  s.push({
                    mdat: e,
                    traf: i,
                  });
                }),
                s.forEach(function (e) {
                  var n,
                    i,
                    s,
                    o,
                    a,
                    l,
                    c,
                    u,
                    d = e.mdat,
                    p = e.traf,
                    h = Y.findBox(p, ["tfhd"]),
                    f = kn.parseTfhd(h[0]),
                    m = f.trackId,
                    g = Y.findBox(p, ["tfdt"]),
                    _ =
                      0 < g.length ? kn.parseTfdt(g[0]).baseMediaDecodeTime : 0,
                    v = Y.findBox(p, ["trun"]);
                  t === m &&
                    0 < v.length &&
                    ((i = v),
                    (o = _),
                    (a = (s = f).defaultSampleDuration || 0),
                    (l = s.defaultSampleSize || 0),
                    (c = s.trackId),
                    (u = []),
                    i.forEach(function (e) {
                      var t = kn.parseTrun(e).samples;
                      t.forEach(function (e) {
                        void 0 === e.duration && (e.duration = a),
                          void 0 === e.size && (e.size = l),
                          (e.trackId = c),
                          (e.dts = o),
                          void 0 === e.compositionTimeOffset &&
                            (e.compositionTimeOffset = 0),
                          (e.pts = o + e.compositionTimeOffset),
                          (o += e.duration);
                      }),
                        (u = u.concat(t));
                    }),
                    (n = (function (e, t, n) {
                      var i,
                        r,
                        s,
                        o,
                        a = new DataView(e.buffer, e.byteOffset, e.byteLength),
                        l = [];
                      for (r = 0; r + 4 < e.length; r += s)
                        if (((s = a.getUint32(r)), (r += 4), !(0 >= s)))
                          switch (31 & e[r]) {
                            case 6:
                              var c = e.subarray(r + 1, r + 1 + s),
                                u = Sn(r, t);
                              (i = {
                                nalUnitType: "sei_rbsp",
                                size: s,
                                data: c,
                                escapedRBSP: Tn(c),
                                trackId: n,
                              }),
                                u
                                  ? ((i.pts = u.pts), (i.dts = u.dts), (o = u))
                                  : ((i.pts = o.pts), (i.dts = o.dts)),
                                l.push(i);
                          }
                      return l;
                    })(d, u, m)),
                    r[m] || (r[m] = []),
                    (r[m] = r[m].concat(n)));
                }),
                r
              );
            },
            Pn = {
              generator: K,
              probe: Y,
              Transmuxer: vn.Transmuxer,
              AudioSegmentStream: vn.AudioSegmentStream,
              VideoSegmentStream: vn.VideoSegmentStream,
              CaptionParser: function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  s = !1;
                (this.isInitialized = function () {
                  return s;
                }),
                  (this.init = function () {
                    (e = new En()),
                      (s = !0),
                      e.on("data", function (e) {
                        (e.startTime = e.startPts / i),
                          (e.endTime = e.endPts / i),
                          r.captions.push(e),
                          (r.captionStreams[e.stream] = !0);
                      });
                  }),
                  (this.isNewInit = function (e, t) {
                    return !(
                      (e && 0 === e.length) ||
                      (t &&
                        "object" == typeof t &&
                        0 === Object.keys(t).length) ||
                      (n === e[0] && i === t[n])
                    );
                  }),
                  (this.parse = function (e, s, o) {
                    var a, l, c, u;
                    if (!this.isInitialized()) return null;
                    if (!s || !o) return null;
                    if (this.isNewInit(s, o)) (n = s[0]), (i = o[n]);
                    else if (!n || !i) return t.push(e), null;
                    for (; 0 < t.length; ) {
                      var d = t.shift();
                      this.parse(d, s, o);
                    }
                    return (
                      (l = e),
                      (u = i),
                      null !==
                        (a = (c = n)
                          ? {
                              seiNals: xn(l, c)[c],
                              timescale: u,
                            }
                          : null) && a.seiNals
                        ? (this.pushNals(a.seiNals), this.flushStream(), r)
                        : null
                    );
                  }),
                  (this.pushNals = function (t) {
                    return this.isInitialized() && t && 0 !== t.length
                      ? void t.forEach(function (t) {
                          e.push(t);
                        })
                      : null;
                  }),
                  (this.flushStream = function () {
                    return this.isInitialized() ? void e.flush() : null;
                  }),
                  (this.clearParsedCaptions = function () {
                    (r.captions = []), (r.captionStreams = {});
                  }),
                  (this.resetCaptionStream = function () {
                    return this.isInitialized() ? void e.reset() : null;
                  }),
                  (this.clearAllCaptions = function () {
                    this.clearParsedCaptions(), this.resetCaptionStream();
                  }),
                  (this.reset = function () {
                    (t = []),
                      (i = n = null),
                      r
                        ? this.clearParsedCaptions()
                        : (r = {
                            captions: [],
                            captionStreams: {},
                          }),
                      this.resetCaptionStream();
                  }),
                  this.reset();
              },
            },
            On = (function () {
              function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                  var i = t[n];
                  (i.enumerable = i.enumerable || !1),
                    (i.configurable = !0),
                    "value" in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i);
                }
              }
              return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t;
              };
            })(),
            An = (function () {
              function e(t, n) {
                !(function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function");
                })(this, e),
                  (this.options = n || {}),
                  (this.self = t),
                  this.init();
              }
              return (
                On(e, [
                  {
                    key: "init",
                    value: function () {
                      var e, t;
                      this.transmuxer && this.transmuxer.dispose(),
                        (this.transmuxer = new Pn.Transmuxer(this.options)),
                        (e = this.self),
                        (t = this.transmuxer).on("data", function (t) {
                          var n = t.initSegment;
                          t.initSegment = {
                            data: n.buffer,
                            byteOffset: n.byteOffset,
                            byteLength: n.byteLength,
                          };
                          var i = t.data;
                          (t.data = i.buffer),
                            e.postMessage(
                              {
                                action: "data",
                                segment: t,
                                byteOffset: i.byteOffset,
                                byteLength: i.byteLength,
                              },
                              [t.data]
                            );
                        }),
                        t.captionStream &&
                          t.captionStream.on("data", function (t) {
                            e.postMessage({
                              action: "caption",
                              data: t,
                            });
                          }),
                        t.on("done", function () {
                          e.postMessage({
                            action: "done",
                          });
                        }),
                        t.on("gopInfo", function (t) {
                          e.postMessage({
                            action: "gopInfo",
                            gopInfo: t,
                          });
                        });
                    },
                  },
                  {
                    key: "push",
                    value: function (e) {
                      var t = new Uint8Array(
                        e.data,
                        e.byteOffset,
                        e.byteLength
                      );
                      this.transmuxer.push(t);
                    },
                  },
                  {
                    key: "reset",
                    value: function () {
                      this.init();
                    },
                  },
                  {
                    key: "setTimestampOffset",
                    value: function (e) {
                      var t = e.timestampOffset || 0;
                      this.transmuxer.setBaseMediaDecodeTime(
                        Math.round(9e4 * t)
                      );
                    },
                  },
                  {
                    key: "setAudioAppendStart",
                    value: function (e) {
                      this.transmuxer.setAudioAppendStart(
                        Math.ceil(9e4 * e.appendStart)
                      );
                    },
                  },
                  {
                    key: "flush",
                    value: function () {
                      this.transmuxer.flush();
                    },
                  },
                  {
                    key: "resetCaptions",
                    value: function () {
                      this.transmuxer.resetCaptions();
                    },
                  },
                  {
                    key: "alignGopsWith",
                    value: function (e) {
                      this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice());
                    },
                  },
                ]),
                e
              );
            })();
          !new (function (e) {
            e.onmessage = function (t) {
              "init" === t.data.action && t.data.options
                ? (this.messageHandlers = new An(e, t.data.options))
                : (this.messageHandlers || (this.messageHandlers = new An(e)),
                  t.data &&
                    t.data.action &&
                    "init" !== t.data.action &&
                    this.messageHandlers[t.data.action] &&
                    this.messageHandlers[t.data.action](t.data));
            };
          })(e);
        })();
      }),
      pd = {
        videoCodec: "avc1",
        videoObjectTypeIndicator: ".4d400d",
        audioProfile: "2",
      },
      hd = function (e) {
        return e.map(function (e) {
          return e.replace(/avc1\.(\d+)\.(\d+)/i, function (e, t, n) {
            return (
              "avc1." +
              ("00" + Number(t).toString(16)).slice(-2) +
              "00" +
              ("00" + Number(n).toString(16)).slice(-2)
            );
          });
        });
      },
      fd = function () {
        var e,
          t =
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "",
          n = {
            codecCount: 0,
          };
        return (
          (n.codecCount = t.split(",").length),
          (n.codecCount = n.codecCount || 2),
          (e = /(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t)) &&
            ((n.videoCodec = e[2]), (n.videoObjectTypeIndicator = e[3])),
          (n.audioProfile = /(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(
            t
          )),
          (n.audioProfile = n.audioProfile && n.audioProfile[2]),
          n
        );
      },
      md = function (e, t, n) {
        return (
          e +
          "/" +
          t +
          '; codecs="' +
          n
            .filter(function (e) {
              return !!e;
            })
            .join(", ") +
          '"'
        );
      },
      gd = function (e, t) {
        var n,
          i,
          r =
            (n = t).segments && n.segments.length && n.segments[0].map
              ? "mp4"
              : "mp2t",
          s = (i = t.attributes || {}).CODECS ? fd(i.CODECS) : pd,
          o = t.attributes || {},
          a = !0,
          l = !1;
        if (!t) return [];
        if (e.mediaGroups.AUDIO && o.AUDIO) {
          var c = e.mediaGroups.AUDIO[o.AUDIO];
          if (c)
            for (var u in ((a = !(l = !0)), c))
              if (!c[u].uri && !c[u].playlists) {
                a = !0;
                break;
              }
        }
        l &&
          !s.audioProfile &&
          (a ||
            (s.audioProfile = (function (e, t) {
              if (!e.mediaGroups.AUDIO || !t) return null;
              var n = e.mediaGroups.AUDIO[t];
              if (!n) return null;
              for (var i in n) {
                var r = n[i];
                if (r["default"] && r.playlists)
                  return fd(r.playlists[0].attributes.CODECS).audioProfile;
              }
              return null;
            })(e, o.AUDIO)),
          s.audioProfile ||
            (Ft.log.warn(
              "Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"
            ),
            (s.audioProfile = pd.audioProfile)));
        var d = {};
        s.videoCodec &&
          (d.video = "" + s.videoCodec + s.videoObjectTypeIndicator),
          s.audioProfile && (d.audio = "mp4a.40." + s.audioProfile);
        var p = md("audio", r, [d.audio]),
          h = md("video", r, [d.video]),
          f = md("video", r, [d.video, d.audio]);
        return l
          ? !a && d.video
            ? [h, p]
            : a || d.video
            ? [f, p]
            : [p, p]
          : d.video
          ? [f]
          : [p];
      },
      _d = function (e) {
        return /mp4a\.\d+.\d+/i.test(e);
      },
      vd = function (e) {
        return /avc1\.[\da-f]+/i.test(e);
      },
      yd = (function () {
        function e(t, n) {
          lu(this, e);
          var i = du(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, Ft.EventTarget)
          );
          (i.timestampOffset_ = 0),
            (i.pendingBuffers_ = []),
            (i.bufferUpdating_ = !1),
            (i.mediaSource_ = t),
            (i.codecs_ = n),
            (i.audioCodec_ = null),
            (i.videoCodec_ = null),
            (i.audioDisabled_ = !1),
            (i.appendAudioInitSegment_ = !0),
            (i.gopBuffer_ = []),
            (i.timeMapping_ = 0),
            (i.safeAppend_ = 11 <= Ft.browser.IE_VERSION);
          var r = {
            remux: !1,
            alignGopsAtEnd: i.safeAppend_,
          };
          return (
            i.codecs_.forEach(function (e) {
              _d(e) ? (i.audioCodec_ = e) : vd(e) && (i.videoCodec_ = e);
            }),
            (i.transmuxer_ = new dd()),
            i.transmuxer_.postMessage({
              action: "init",
              options: r,
            }),
            (i.transmuxer_.onmessage = function (e) {
              return "data" === e.data.action
                ? i.data_(e)
                : "done" === e.data.action
                ? i.done_(e)
                : "gopInfo" === e.data.action
                ? i.appendGopInfo_(e)
                : void 0;
            }),
            Object.defineProperty(i, "timestampOffset", {
              get: function () {
                return this.timestampOffset_;
              },
              set: function (e) {
                "number" == typeof e &&
                  e >= 0 &&
                  ((this.timestampOffset_ = e),
                  (this.appendAudioInitSegment_ = !0),
                  (this.gopBuffer_.length = 0),
                  (this.timeMapping_ = 0),
                  this.transmuxer_.postMessage({
                    action: "setTimestampOffset",
                    timestampOffset: e,
                  }));
              },
            }),
            Object.defineProperty(i, "appendWindowStart", {
              get: function () {
                return (this.videoBuffer_ || this.audioBuffer_)
                  .appendWindowStart;
              },
              set: function (e) {
                this.videoBuffer_ && (this.videoBuffer_.appendWindowStart = e),
                  this.audioBuffer_ &&
                    (this.audioBuffer_.appendWindowStart = e);
              },
            }),
            Object.defineProperty(i, "updating", {
              get: function () {
                return !!(
                  this.bufferUpdating_ ||
                  (!this.audioDisabled_ &&
                    this.audioBuffer_ &&
                    this.audioBuffer_.updating) ||
                  (this.videoBuffer_ && this.videoBuffer_.updating)
                );
              },
            }),
            Object.defineProperty(i, "buffered", {
              get: function () {
                return (function (e, t, n) {
                  var i = null,
                    r = null,
                    s = 0,
                    o = [],
                    a = [];
                  if (!e && !t) return Ft.createTimeRange();
                  if (!e) return t.buffered;
                  if (!t) return e.buffered;
                  if (n) return e.buffered;
                  if (0 === e.buffered.length && 0 === t.buffered.length)
                    return Ft.createTimeRange();
                  for (var l = e.buffered, c = t.buffered, u = l.length; u--; )
                    o.push({
                      time: l.start(u),
                      type: "start",
                    }),
                      o.push({
                        time: l.end(u),
                        type: "end",
                      });
                  for (u = c.length; u--; )
                    o.push({
                      time: c.start(u),
                      type: "start",
                    }),
                      o.push({
                        time: c.end(u),
                        type: "end",
                      });
                  for (
                    o.sort(function (e, t) {
                      return e.time - t.time;
                    }),
                      u = 0;
                    u < o.length;
                    u++
                  )
                    "start" === o[u].type
                      ? 2 == ++s && (i = o[u].time)
                      : "end" === o[u].type && 1 == --s && (r = o[u].time),
                      null !== i &&
                        null !== r &&
                        (a.push([i, r]), (r = i = null));
                  return Ft.createTimeRanges(a);
                })(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_);
              },
            }),
            i
          );
        }
        return (
          uu(e, Ft.EventTarget),
          cu(e, [
            {
              key: "data_",
              value: function (e) {
                var t = e.data.segment;
                (t.data = new Uint8Array(
                  t.data,
                  e.data.byteOffset,
                  e.data.byteLength
                )),
                  (t.initSegment = new Uint8Array(
                    t.initSegment.data,
                    t.initSegment.byteOffset,
                    t.initSegment.byteLength
                  )),
                  (function (e, t, n) {
                    var i = t.player_;
                    if (n.captions && n.captions.length)
                      for (var r in (e.inbandTextTracks_ ||
                        (e.inbandTextTracks_ = {}),
                      n.captionStreams))
                        if (!e.inbandTextTracks_[r]) {
                          i.tech_.trigger({
                            type: "usage",
                            name: "hls-608",
                          });
                          var s = i.textTracks().getTrackById(r);
                          e.inbandTextTracks_[r] =
                            s ||
                            i.addRemoteTextTrack(
                              {
                                kind: "captions",
                                id: r,
                                label: r,
                              },
                              !1
                            ).track;
                        }
                    n.metadata &&
                      n.metadata.length &&
                      !e.metadataTrack_ &&
                      ((e.metadataTrack_ = i.addRemoteTextTrack(
                        {
                          kind: "metadata",
                          label: "Timed Metadata",
                        },
                        !1
                      ).track),
                      (e.metadataTrack_.inBandMetadataTrackDispatchType =
                        n.metadata.dispatchType));
                  })(this, this.mediaSource_, t),
                  this.pendingBuffers_.push(t);
              },
            },
            {
              key: "done_",
              value: function () {
                "closed" !== this.mediaSource_.readyState
                  ? this.processPendingSegments_()
                  : (this.pendingBuffers_.length = 0);
              },
            },
            {
              key: "createRealSourceBuffers_",
              value: function () {
                var e = this,
                  t = ["audio", "video"];
                t.forEach(function (n) {
                  if (e[n + "Codec_"] && !e[n + "Buffer_"]) {
                    var i = null;
                    if (e.mediaSource_[n + "Buffer_"])
                      (i = e.mediaSource_[n + "Buffer_"]).updating = !1;
                    else {
                      var r = n + '/mp4;codecs="' + e[n + "Codec_"] + '"';
                      (i = (function (e, t) {
                        var n = e.addSourceBuffer(t),
                          i = Object.create(null);
                        (i.updating = !1), (i.realBuffer_ = n);
                        var r = function (e) {
                          "function" == typeof n[e]
                            ? (i[e] = function () {
                                return n[e].apply(n, arguments);
                              })
                            : "undefined" == typeof i[e] &&
                              Object.defineProperty(i, e, {
                                get: function () {
                                  return n[e];
                                },
                                set: function (t) {
                                  return (n[e] = t);
                                },
                              });
                        };
                        for (var s in n) r(s);
                        return i;
                      })(e.mediaSource_.nativeMediaSource_, r)),
                        (e.mediaSource_[n + "Buffer_"] = i);
                    }
                    (e[n + "Buffer_"] = i),
                      ["update", "updatestart", "updateend"].forEach(function (
                        r
                      ) {
                        i.addEventListener(r, function () {
                          return "audio" === n && e.audioDisabled_
                            ? void 0
                            : ("updateend" === r &&
                                (e[n + "Buffer_"].updating = !1),
                              t.every(function (t) {
                                return (
                                  !("audio" !== t || !e.audioDisabled_) ||
                                  n === t ||
                                  !e[t + "Buffer_"] ||
                                  !e[t + "Buffer_"].updating
                                );
                              })
                                ? e.trigger(r)
                                : void 0);
                        });
                      });
                  }
                });
              },
            },
            {
              key: "appendBuffer",
              value: function (e) {
                if (
                  ((this.bufferUpdating_ = !0),
                  this.audioBuffer_ && this.audioBuffer_.buffered.length)
                ) {
                  var t = this.audioBuffer_.buffered;
                  this.transmuxer_.postMessage({
                    action: "setAudioAppendStart",
                    appendStart: t.end(t.length - 1),
                  });
                }
                this.videoBuffer_ &&
                  this.transmuxer_.postMessage({
                    action: "alignGopsWith",
                    gopsToAlignWith: (function (e, t, n) {
                      if ("undefined" == typeof t || null === t || !e.length)
                        return [];
                      var i = Math.ceil(9e4 * (t - n + 3)),
                        r = void 0;
                      for (r = 0; r < e.length && !(e[r].pts > i); r++);
                      return e.slice(r);
                    })(
                      this.gopBuffer_,
                      this.mediaSource_.player_
                        ? this.mediaSource_.player_.currentTime()
                        : null,
                      this.timeMapping_
                    ),
                  }),
                  this.transmuxer_.postMessage(
                    {
                      action: "push",
                      data: e.buffer,
                      byteOffset: e.byteOffset,
                      byteLength: e.byteLength,
                    },
                    [e.buffer]
                  ),
                  this.transmuxer_.postMessage({
                    action: "flush",
                  });
              },
            },
            {
              key: "appendGopInfo_",
              value: function (e) {
                this.gopBuffer_ = (function (e, t, n) {
                  if (!t.length) return e;
                  if (n) return t.slice();
                  for (
                    var i = t[0].pts, r = 0;
                    r < e.length && !(e[r].pts >= i);
                    r++
                  );
                  return e.slice(0, r).concat(t);
                })(this.gopBuffer_, e.data.gopInfo, this.safeAppend_);
              },
            },
            {
              key: "remove",
              value: function (e, t) {
                if (
                  (this.videoBuffer_ &&
                    ((this.videoBuffer_.updating = !0),
                    this.videoBuffer_.remove(e, t),
                    (this.gopBuffer_ = (function (e, t, n, i) {
                      for (
                        var r = Math.ceil(9e4 * (t - i)),
                          s = Math.ceil(9e4 * (n - i)),
                          o = e.slice(),
                          a = e.length;
                        a-- && !(e[a].pts <= s);

                      );
                      if (-1 === a) return o;
                      for (var l = a + 1; l-- && !(e[l].pts <= r); );
                      return (l = Math.max(l, 0)), o.splice(l, a - l + 1), o;
                    })(this.gopBuffer_, e, t, this.timeMapping_))),
                  !this.audioDisabled_ &&
                    this.audioBuffer_ &&
                    ((this.audioBuffer_.updating = !0),
                    this.audioBuffer_.remove(e, t)),
                  Zu(e, t, this.metadataTrack_),
                  this.inbandTextTracks_)
                )
                  for (var n in this.inbandTextTracks_)
                    Zu(e, t, this.inbandTextTracks_[n]);
              },
            },
            {
              key: "processPendingSegments_",
              value: function () {
                var e = {
                  video: {
                    segments: [],
                    bytes: 0,
                  },
                  audio: {
                    segments: [],
                    bytes: 0,
                  },
                  captions: [],
                  metadata: [],
                };
                (e = this.pendingBuffers_.reduce(function (e, t) {
                  var n = t.type,
                    i = t.data,
                    r = t.initSegment;
                  return (
                    e[n].segments.push(i),
                    (e[n].bytes += i.byteLength),
                    (e[n].initSegment = r),
                    t.captions && (e.captions = e.captions.concat(t.captions)),
                    t.info && (e[n].info = t.info),
                    t.metadata && (e.metadata = e.metadata.concat(t.metadata)),
                    e
                  );
                }, e)),
                  this.videoBuffer_ ||
                    this.audioBuffer_ ||
                    (0 === e.video.bytes && (this.videoCodec_ = null),
                    0 === e.audio.bytes && (this.audioCodec_ = null),
                    this.createRealSourceBuffers_()),
                  e.audio.info &&
                    this.mediaSource_.trigger({
                      type: "audioinfo",
                      info: e.audio.info,
                    }),
                  e.video.info &&
                    this.mediaSource_.trigger({
                      type: "videoinfo",
                      info: e.video.info,
                    }),
                  this.appendAudioInitSegment_ &&
                    (!this.audioDisabled_ &&
                      this.audioBuffer_ &&
                      (e.audio.segments.unshift(e.audio.initSegment),
                      (e.audio.bytes += e.audio.initSegment.byteLength)),
                    (this.appendAudioInitSegment_ = !1));
                var t = !1;
                this.videoBuffer_ && e.video.bytes
                  ? (e.video.segments.unshift(e.video.initSegment),
                    (e.video.bytes += e.video.initSegment.byteLength),
                    this.concatAndAppendSegments_(e.video, this.videoBuffer_),
                    td(this, e.captions, e.metadata))
                  : !this.videoBuffer_ ||
                    (!this.audioDisabled_ && this.audioBuffer_) ||
                    (t = !0),
                  !this.audioDisabled_ &&
                    this.audioBuffer_ &&
                    this.concatAndAppendSegments_(e.audio, this.audioBuffer_),
                  (this.pendingBuffers_.length = 0),
                  t && this.trigger("updateend"),
                  (this.bufferUpdating_ = !1);
              },
            },
            {
              key: "concatAndAppendSegments_",
              value: function (e, t) {
                var n = 0,
                  i = void 0;
                if (e.bytes) {
                  (i = new Uint8Array(e.bytes)),
                    e.segments.forEach(function (e) {
                      i.set(e, n), (n += e.byteLength);
                    });
                  try {
                    (t.updating = !0), t.appendBuffer(i);
                  } catch (e) {
                    this.mediaSource_.player_ &&
                      this.mediaSource_.player_.error({
                        code: -3,
                        type: "APPEND_BUFFER_ERR",
                        message: e.message,
                        originalError: e,
                      });
                  }
                }
              },
            },
            {
              key: "abort",
              value: function () {
                this.videoBuffer_ && this.videoBuffer_.abort(),
                  !this.audioDisabled_ &&
                    this.audioBuffer_ &&
                    this.audioBuffer_.abort(),
                  this.transmuxer_ &&
                    this.transmuxer_.postMessage({
                      action: "reset",
                    }),
                  (this.pendingBuffers_.length = 0),
                  (this.bufferUpdating_ = !1);
              },
            },
          ]),
          e
        );
      })(),
      bd = (function () {
        function n() {
          lu(this, n);
          var i = du(
              this,
              (n.__proto__ || Object.getPrototypeOf(n)).call(this)
            ),
            r = void 0;
          for (r in ((i.nativeMediaSource_ = new e.MediaSource()),
          i.nativeMediaSource_))
            r in n.prototype ||
              "function" != typeof i.nativeMediaSource_[r] ||
              (i[r] = i.nativeMediaSource_[r].bind(i.nativeMediaSource_));
          return (
            (i.duration_ = 0 / 0),
            Object.defineProperty(i, "duration", {
              get: function () {
                return this.duration_ === 1 / 0
                  ? this.duration_
                  : this.nativeMediaSource_.duration;
              },
              set: function (e) {
                (this.duration_ = e) === 1 / 0 ||
                  (this.nativeMediaSource_.duration = e);
              },
            }),
            Object.defineProperty(i, "seekable", {
              get: function () {
                return this.duration_ === 1 / 0
                  ? Ft.createTimeRanges([[0, this.nativeMediaSource_.duration]])
                  : this.nativeMediaSource_.seekable;
              },
            }),
            Object.defineProperty(i, "readyState", {
              get: function () {
                return this.nativeMediaSource_.readyState;
              },
            }),
            Object.defineProperty(i, "activeSourceBuffers", {
              get: function () {
                return this.activeSourceBuffers_;
              },
            }),
            (i.sourceBuffers = []),
            (i.activeSourceBuffers_ = []),
            (i.updateActiveSourceBuffers_ = function () {
              if (
                ((i.activeSourceBuffers_.length = 0),
                1 === i.sourceBuffers.length)
              ) {
                var e = i.sourceBuffers[0];
                return (
                  (e.appendAudioInitSegment_ = !0),
                  (e.audioDisabled_ = !e.audioCodec_),
                  void i.activeSourceBuffers_.push(e)
                );
              }
              for (
                var t = !1, n = !0, r = 0;
                r < i.player_.audioTracks().length;
                r++
              ) {
                var s = i.player_.audioTracks()[r];
                if (s.enabled && "main" !== s.kind) {
                  n = !(t = !0);
                  break;
                }
              }
              i.sourceBuffers.forEach(function (e, r) {
                if (
                  ((e.appendAudioInitSegment_ = !0),
                  e.videoCodec_ && e.audioCodec_)
                )
                  e.audioDisabled_ = t;
                else if (e.videoCodec_ && !e.audioCodec_)
                  (e.audioDisabled_ = !0), (n = !1);
                else if (
                  !e.videoCodec_ &&
                  e.audioCodec_ &&
                  ((e.audioDisabled_ = r ? n : !n), e.audioDisabled_)
                )
                  return;
                i.activeSourceBuffers_.push(e);
              });
            }),
            (i.onPlayerMediachange_ = function () {
              i.sourceBuffers.forEach(function (e) {
                e.appendAudioInitSegment_ = !0;
              });
            }),
            (i.onHlsReset_ = function () {
              i.sourceBuffers.forEach(function (e) {
                e.transmuxer_ &&
                  e.transmuxer_.postMessage({
                    action: "resetCaptions",
                  });
              });
            }),
            (i.onHlsSegmentTimeMapping_ = function (e) {
              i.sourceBuffers.forEach(function (t) {
                return (t.timeMapping_ = e.mapping);
              });
            }),
            ["sourceopen", "sourceclose", "sourceended"].forEach(function (e) {
              this.nativeMediaSource_.addEventListener(
                e,
                this.trigger.bind(this)
              );
            }, i),
            i.on("sourceopen", function () {
              var e = t.querySelector('[src="' + i.url_ + '"]');
              e &&
                ((i.player_ = Ft(e.parentNode)),
                i.player_.tech_.on("hls-reset", i.onHlsReset_),
                i.player_.tech_.on(
                  "hls-segment-time-mapping",
                  i.onHlsSegmentTimeMapping_
                ),
                i.player_.audioTracks &&
                  i.player_.audioTracks() &&
                  (i.player_
                    .audioTracks()
                    .on("change", i.updateActiveSourceBuffers_),
                  i.player_
                    .audioTracks()
                    .on("addtrack", i.updateActiveSourceBuffers_),
                  i.player_
                    .audioTracks()
                    .on("removetrack", i.updateActiveSourceBuffers_)),
                i.player_.on("mediachange", i.onPlayerMediachange_));
            }),
            i.on("sourceended", function () {
              for (
                var e = ed(i.duration), t = 0;
                t < i.sourceBuffers.length;
                t++
              ) {
                var n = i.sourceBuffers[t],
                  r = n.metadataTrack_ && n.metadataTrack_.cues;
                r && r.length && (r[r.length - 1].endTime = e);
              }
            }),
            i.on("sourceclose", function () {
              this.sourceBuffers.forEach(function (e) {
                e.transmuxer_ && e.transmuxer_.terminate();
              }),
                (this.sourceBuffers.length = 0),
                this.player_ &&
                  (this.player_.audioTracks &&
                    this.player_.audioTracks() &&
                    (this.player_
                      .audioTracks()
                      .off("change", this.updateActiveSourceBuffers_),
                    this.player_
                      .audioTracks()
                      .off("addtrack", this.updateActiveSourceBuffers_),
                    this.player_
                      .audioTracks()
                      .off("removetrack", this.updateActiveSourceBuffers_)),
                  this.player_.el_ &&
                    (this.player_.off("mediachange", this.onPlayerMediachange_),
                    this.player_.tech_.off("hls-reset", this.onHlsReset_),
                    this.player_.tech_.off(
                      "hls-segment-time-mapping",
                      this.onHlsSegmentTimeMapping_
                    )));
            }),
            i
          );
        }
        return (
          uu(n, Ft.EventTarget),
          cu(n, [
            {
              key: "addSeekableRange_",
              value: function (e, t) {
                var n = void 0;
                if (this.duration !== 1 / 0)
                  throw (
                    (((n = new Error(
                      "MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"
                    )).name = "InvalidStateError"),
                    (n.code = 11),
                    n)
                  );
                (t > this.nativeMediaSource_.duration ||
                  isNaN(this.nativeMediaSource_.duration)) &&
                  (this.nativeMediaSource_.duration = t);
              },
            },
            {
              key: "addSourceBuffer",
              value: function (e) {
                var t,
                  n,
                  i = void 0,
                  r =
                    ((t = {
                      type: "",
                      parameters: {},
                    }),
                    (n = e.trim().split(";")),
                    (t.type = n.shift().trim()),
                    n.forEach(function (e) {
                      var n = e.trim().split("=");
                      if (1 < n.length) {
                        var i = n[0].replace(/"/g, "").trim(),
                          r = n[1].replace(/"/g, "").trim();
                        t.parameters[i] = r;
                      }
                    }),
                    t);
                if (/^(video|audio)\/mp2t$/i.test(r.type)) {
                  var s = [];
                  r.parameters &&
                    r.parameters.codecs &&
                    ((s = r.parameters.codecs.split(",")),
                    (s = (s = hd(s)).filter(function (e) {
                      return _d(e) || vd(e);
                    }))),
                    0 === s.length && (s = ["avc1.4d400d", "mp4a.40.2"]),
                    (i = new yd(this, s)),
                    0 !== this.sourceBuffers.length &&
                      (this.sourceBuffers[0].createRealSourceBuffers_(),
                      i.createRealSourceBuffers_(),
                      (this.sourceBuffers[0].audioDisabled_ = !0));
                } else i = this.nativeMediaSource_.addSourceBuffer(e);
                return this.sourceBuffers.push(i), i;
              },
            },
          ]),
          n
        );
      })(),
      wd = 0;
    Ft.mediaSources = {};
    var Cd = function (e, t) {
        var n = Ft.mediaSources[e];
        if (!n) throw new Error("Media Source not found (Video.js)");
        n.trigger({
          type: "sourceopen",
          swfId: t,
        });
      },
      kd = function () {
        return (
          !!e.MediaSource &&
          !!e.MediaSource.isTypeSupported &&
          e.MediaSource.isTypeSupported(
            'video/mp4;codecs="avc1.4d400d,mp4a.40.2"'
          )
        );
      },
      Td = function () {
        if (
          ((this.MediaSource = {
            open: Cd,
            supportsNativeMediaSources: kd,
          }),
          kd())
        )
          return new bd();
        throw new Error(
          "Cannot use create a virtual MediaSource for this video"
        );
      };
    (Td.open = Cd), (Td.supportsNativeMediaSources = kd);
    var Ed = {
      createObjectURL: function (t) {
        var n = void 0;
        return t instanceof bd
          ? ((n = e.URL.createObjectURL(t.nativeMediaSource_)), (t.url_ = n))
          : t instanceof bd
          ? ((n = "blob:vjs-media-source/" + wd),
            wd++,
            (Ft.mediaSources[n] = t),
            n)
          : ((n = e.URL.createObjectURL(t)), (t.url_ = n));
      },
    };
    (Ft.MediaSource = Td), (Ft.URL = Ed);
    var Sd = Ft.EventTarget,
      xd = Ft.mergeOptions,
      Pd = function (e, t) {
        for (
          var n = xd(e, {
              duration: t.duration,
              minimumUpdatePeriod: t.minimumUpdatePeriod,
            }),
            i = 0;
          i < t.playlists.length;
          i++
        ) {
          var r = _u(n, t.playlists[i]);
          r && (n = r);
        }
        return (
          gu(t, function (e, t, i, r) {
            if (e.playlists && e.playlists.length) {
              var s = e.playlists[0].uri,
                o = _u(n, e.playlists[0]);
              o && ((n = o).mediaGroups[t][i][r].playlists[0] = n.playlists[s]);
            }
          }),
          n
        );
      },
      Od = (function () {
        function t(n, i, r, s) {
          lu(this, t);
          var o = du(
            this,
            (t.__proto__ || Object.getPrototypeOf(t)).call(this)
          );
          if (((o.hls_ = i), (o.withCredentials = r), !n))
            throw new Error("A non-empty playlist URL or playlist is required");
          return (
            o.on("minimumUpdatePeriod", function () {
              o.refreshXml_();
            }),
            o.on("mediaupdatetimeout", function () {
              o.refreshMedia_();
            }),
            "string" == typeof n
              ? ((o.srcUrl = n), (o.state = "HAVE_NOTHING"), du(o))
              : ((o.masterPlaylistLoader_ = s),
                (o.state = "HAVE_METADATA"),
                (o.started = !0),
                o.media(n),
                e.setTimeout(function () {
                  o.trigger("loadedmetadata");
                }, 0),
                o)
          );
        }
        return (
          uu(t, Sd),
          cu(t, [
            {
              key: "dispose",
              value: function () {
                this.stopRequest(), e.clearTimeout(this.mediaUpdateTimeout);
              },
            },
            {
              key: "stopRequest",
              value: function () {
                if (this.request) {
                  var e = this.request;
                  (this.request = null),
                    (e.onreadystatechange = null),
                    e.abort();
                }
              },
            },
            {
              key: "media",
              value: function (e) {
                if (!e) return this.media_;
                if ("HAVE_NOTHING" === this.state)
                  throw new Error(
                    "Cannot switch media playlist from " + this.state
                  );
                var t = this.state;
                if ("string" == typeof e) {
                  if (!this.master.playlists[e])
                    throw new Error("Unknown playlist URI: " + e);
                  e = this.master.playlists[e];
                }
                var n = !this.media_ || e.uri !== this.media_.uri;
                (this.state = "HAVE_METADATA"),
                  n &&
                    (this.media_ && this.trigger("mediachanging"),
                    (this.media_ = e),
                    this.refreshMedia_(),
                    "HAVE_MASTER" !== t && this.trigger("mediachange"));
              },
            },
            {
              key: "pause",
              value: function () {
                this.stopRequest(),
                  "HAVE_NOTHING" === this.state && (this.started = !1);
              },
            },
            {
              key: "load",
              value: function () {
                this.started ? this.trigger("loadedplaylist") : this.start();
              },
            },
            {
              key: "parseMasterXml",
              value: function () {
                var e = pa(this.masterXml_, {
                  manifestUri: this.srcUrl,
                  clientOffset: this.clientOffset_,
                });
                e.uri = this.srcUrl;
                for (var t = 0; t < e.playlists.length; t++) {
                  var n = "placeholder-uri-" + t;
                  (e.playlists[t].uri = n), (e.playlists[n] = e.playlists[t]);
                }
                return (
                  gu(e, function (t, n, i, r) {
                    if (t.playlists && t.playlists.length) {
                      var s = "placeholder-uri-" + n + "-" + i + "-" + r;
                      (t.playlists[0].uri = s),
                        (e.playlists[s] = t.playlists[0]);
                    }
                  }),
                  vu(e),
                  yu(e),
                  e
                );
              },
            },
            {
              key: "start",
              value: function () {
                var e = this;
                (this.started = !0),
                  (this.request = this.hls_.xhr(
                    {
                      uri: this.srcUrl,
                      withCredentials: this.withCredentials,
                    },
                    function (t, n) {
                      if (e.request) {
                        if (((e.request = null), t))
                          return (
                            (e.error = {
                              status: n.status,
                              message:
                                "DASH playlist request error at URL: " +
                                e.srcUrl,
                              responseText: n.responseText,
                              code: 2,
                            }),
                            "HAVE_NOTHING" === e.state && (e.started = !1),
                            e.trigger("error")
                          );
                        (e.masterXml_ = n.responseText),
                          (e.masterLoaded_ =
                            n.responseHeaders && n.responseHeaders.date
                              ? Date.parse(n.responseHeaders.date)
                              : Date.now()),
                          e.syncClientServerClock_(
                            e.onClientServerClockSync_.bind(e)
                          );
                      }
                    }
                  ));
              },
            },
            {
              key: "syncClientServerClock_",
              value: function (e) {
                var t = this,
                  n = ha(this.masterXml_);
                return null === n
                  ? ((this.clientOffset_ = this.masterLoaded_ - Date.now()),
                    e())
                  : "DIRECT" === n.method
                  ? ((this.clientOffset_ = n.value - Date.now()), e())
                  : void (this.request = this.hls_.xhr(
                      {
                        uri: au(this.srcUrl, n.value),
                        method: n.method,
                        withCredentials: this.withCredentials,
                      },
                      function (i, r) {
                        if (t.request) {
                          if (i)
                            return (
                              (t.clientOffset_ = t.masterLoaded_ - Date.now()),
                              e()
                            );
                          var s = void 0;
                          (s =
                            "HEAD" === n.method
                              ? r.responseHeaders && r.responseHeaders.date
                                ? Date.parse(r.responseHeaders.date)
                                : t.masterLoaded_
                              : Date.parse(r.responseText)),
                            (t.clientOffset_ = s - Date.now()),
                            e();
                        }
                      }
                    ));
              },
            },
            {
              key: "onClientServerClockSync_",
              value: function () {
                var t = this;
                (this.master = this.parseMasterXml()),
                  (this.state = "HAVE_MASTER"),
                  this.trigger("loadedplaylist"),
                  this.media_ || this.media(this.master.playlists[0]),
                  e.setTimeout(function () {
                    t.trigger("loadedmetadata");
                  }, 0),
                  this.master.minimumUpdatePeriod &&
                    e.setTimeout(function () {
                      t.trigger("minimumUpdatePeriod");
                    }, this.master.minimumUpdatePeriod);
              },
            },
            {
              key: "refreshXml_",
              value: function () {
                var t = this;
                this.request = this.hls_.xhr(
                  {
                    uri: this.srcUrl,
                    withCredentials: this.withCredentials,
                  },
                  function (n, i) {
                    if (t.request) {
                      if (((t.request = null), n))
                        return (
                          (t.error = {
                            status: i.status,
                            message:
                              "DASH playlist request error at URL: " + t.srcUrl,
                            responseText: i.responseText,
                            code: 2,
                          }),
                          "HAVE_NOTHING" === t.state && (t.started = !1),
                          t.trigger("error")
                        );
                      t.masterXml_ = i.responseText;
                      var r = t.parseMasterXml();
                      (t.master = Pd(t.master, r)),
                        e.setTimeout(function () {
                          t.trigger("minimumUpdatePeriod");
                        }, t.master.minimumUpdatePeriod);
                    }
                  }
                );
              },
            },
            {
              key: "refreshMedia_",
              value: function () {
                var t = this,
                  n = void 0,
                  i = void 0;
                i = this.masterPlaylistLoader_
                  ? ((n = this.masterPlaylistLoader_.master),
                    this.masterPlaylistLoader_.parseMasterXml())
                  : ((n = this.master), this.parseMasterXml());
                var r = Pd(n, i);
                r
                  ? (this.masterPlaylistLoader_
                      ? (this.masterPlaylistLoader_.master = r)
                      : (this.master = r),
                    (this.media_ = r.playlists[this.media_.uri]))
                  : this.trigger("playlistunchanged"),
                  this.media().endList ||
                    (this.mediaUpdateTimeout = e.setTimeout(function () {
                      t.trigger("mediaupdatetimeout");
                    }, bu(this.media(), !!r))),
                  this.trigger("loadedplaylist");
              },
            },
          ]),
          t
        );
      })(),
      Ad = function (e) {
        return Ft.log.debug
          ? Ft.log.debug.bind(Ft, "VHS:", e + " >")
          : function () {};
      },
      Id = (function () {
        function e(t, n, i, r) {
          lu(this, e),
            (this.callbacks_ = []),
            (this.pendingCallback_ = null),
            (this.timestampOffset_ = 0),
            (this.mediaSource = t),
            (this.processedAppend_ = !1),
            (this.type_ = i),
            (this.mimeType_ = n),
            (this.logger_ = Ad("SourceUpdater[" + i + "][" + n + "]")),
            "closed" === t.readyState
              ? t.addEventListener(
                  "sourceopen",
                  this.createSourceBuffer_.bind(this, n, r)
                )
              : this.createSourceBuffer_(n, r);
        }
        return (
          cu(e, [
            {
              key: "createSourceBuffer_",
              value: function (e, t) {
                var n = this;
                (this.sourceBuffer_ = this.mediaSource.addSourceBuffer(e)),
                  this.logger_("created SourceBuffer"),
                  t &&
                  (t.trigger("sourcebufferadded"),
                  this.mediaSource.sourceBuffers.length < 2)
                    ? t.on("sourcebufferadded", function () {
                        n.start_();
                      })
                    : this.start_();
              },
            },
            {
              key: "start_",
              value: function () {
                var e = this;
                (this.started_ = !0),
                  (this.onUpdateendCallback_ = function () {
                    var t = e.pendingCallback_;
                    (e.pendingCallback_ = null),
                      e.logger_("buffered [" + Qu(e.buffered()) + "]"),
                      t && t(),
                      e.runCallback_();
                  }),
                  this.sourceBuffer_.addEventListener(
                    "updateend",
                    this.onUpdateendCallback_
                  ),
                  this.runCallback_();
              },
            },
            {
              key: "abort",
              value: function (e) {
                var t = this;
                this.processedAppend_ &&
                  this.queueCallback_(function () {
                    t.sourceBuffer_.abort();
                  }, e);
              },
            },
            {
              key: "appendBuffer",
              value: function (e, t) {
                var n = this;
                (this.processedAppend_ = !0),
                  this.queueCallback_(function () {
                    n.sourceBuffer_.appendBuffer(e);
                  }, t);
              },
            },
            {
              key: "buffered",
              value: function () {
                return this.sourceBuffer_
                  ? this.sourceBuffer_.buffered
                  : Ft.createTimeRanges();
              },
            },
            {
              key: "remove",
              value: function (e, t) {
                var n = this,
                  i =
                    2 < arguments.length && void 0 !== arguments[2]
                      ? arguments[2]
                      : qt;
                this.processedAppend_ &&
                  this.queueCallback_(function () {
                    n.logger_("remove [" + e + " => " + t + "]"),
                      n.sourceBuffer_.remove(e, t);
                  }, i);
              },
            },
            {
              key: "updating",
              value: function () {
                return (
                  !this.sourceBuffer_ ||
                  this.sourceBuffer_.updating ||
                  this.pendingCallback_
                );
              },
            },
            {
              key: "timestampOffset",
              value: function (e) {
                var t = this;
                return (
                  "undefined" != typeof e &&
                    (this.queueCallback_(function () {
                      t.sourceBuffer_.timestampOffset = e;
                    }),
                    (this.timestampOffset_ = e)),
                  this.timestampOffset_
                );
              },
            },
            {
              key: "queueCallback_",
              value: function (e, t) {
                this.callbacks_.push([e.bind(this), t]), this.runCallback_();
              },
            },
            {
              key: "runCallback_",
              value: function () {
                var e = void 0;
                !this.updating() &&
                  this.callbacks_.length &&
                  this.started_ &&
                  ((e = this.callbacks_.shift()),
                  (this.pendingCallback_ = e[1]),
                  e[0]());
              },
            },
            {
              key: "dispose",
              value: function () {
                this.sourceBuffer_.removeEventListener(
                  "updateend",
                  this.onUpdateendCallback_
                ),
                  this.sourceBuffer_ &&
                    "open" === this.mediaSource.readyState &&
                    this.sourceBuffer_.abort();
              },
            },
          ]),
          e
        );
      })(),
      Dd = {
        GOAL_BUFFER_LENGTH: 30,
        MAX_GOAL_BUFFER_LENGTH: 60,
        GOAL_BUFFER_LENGTH_RATE: 1,
        INITIAL_BANDWIDTH: 4194304,
        BANDWIDTH_VARIANCE: 1.2,
        BUFFER_LOW_WATER_LINE: 0,
        MAX_BUFFER_LOW_WATER_LINE: 30,
        BUFFER_LOW_WATER_LINE_RATE: 1,
      },
      Md = 2,
      Rd = -101,
      jd = -102,
      Ld = function (e) {
        var t,
          n,
          i = {};
        return (
          e.byterange &&
            (i.Range =
              ((t = e.byterange),
              (n = t.offset + t.length - 1),
              "bytes=" + t.offset + "-" + n)),
          i
        );
      },
      Nd = function (e) {
        e.forEach(function (e) {
          e.abort();
        });
      },
      Ud = function (e, t) {
        return t.timedout
          ? {
              status: t.status,
              message: "HLS request timed-out at URL: " + t.uri,
              code: Rd,
              xhr: t,
            }
          : t.aborted
          ? {
              status: t.status,
              message: "HLS request aborted at URL: " + t.uri,
              code: jd,
              xhr: t,
            }
          : e
          ? {
              status: t.status,
              message: "HLS request errored at URL: " + t.uri,
              code: Md,
              xhr: t,
            }
          : null;
      },
      Bd = function (e, t, n) {
        var i = [],
          r = 0;
        return function (s, o) {
          if ((s && (Nd(e), i.push(s)), (r += 1) === e.length)) {
            if (((o.endOfAllRequests = Date.now()), 0 < i.length)) {
              var a = i.reduce(function (e, t) {
                return t.code > e.code ? t : e;
              });
              return n(a, o);
            }
            return o.encryptedBytes
              ? ((c = o),
                (u = n),
                (l = t).addEventListener("message", function d(e) {
                  if (e.data.source === c.requestId) {
                    l.removeEventListener("message", d);
                    var t = e.data.decrypted;
                    return (
                      (c.bytes = new Uint8Array(
                        t.bytes,
                        t.byteOffset,
                        t.byteLength
                      )),
                      u(null, c)
                    );
                  }
                }),
                void l.postMessage(
                  Wu({
                    source: c.requestId,
                    encrypted: c.encryptedBytes,
                    key: c.key.bytes,
                    iv: c.key.iv,
                  }),
                  [c.encryptedBytes.buffer, c.key.bytes.buffer]
                ))
              : n(null, o);
          }
          var l, c, u;
        };
      },
      $d = function (e, t) {
        return function (n) {
          var i, r, s;
          return (
            (e.stats = Ft.mergeOptions(
              e.stats,
              ((r = (i = n).target),
              ((s = {
                bandwidth: 1 / 0,
                bytesReceived: 0,
                roundTripTime: Date.now() - r.requestTime || 0,
              }).bytesReceived = i.loaded),
              (s.bandwidth = Math.floor(
                (s.bytesReceived / s.roundTripTime) * 8 * 1e3
              )),
              s)
            )),
            !e.stats.firstBytesReceivedAt &&
              e.stats.bytesReceived &&
              (e.stats.firstBytesReceivedAt = Date.now()),
            t(n, e)
          );
        };
      },
      Fd = function (e, t, n, i, r, s, o) {
        var a,
          l,
          c,
          u,
          d,
          p = [],
          h = Bd(p, n, o);
        if (r.key) {
          var f = e(
            Ft.mergeOptions(t, {
              uri: r.key.resolvedUri,
              responseType: "arraybuffer",
            }),
            ((a = r),
            (l = h),
            function (e, t) {
              var n = t.response,
                i = Ud(e, t);
              if (i) return l(i, a);
              if (16 !== n.byteLength)
                return l(
                  {
                    status: t.status,
                    message: "Invalid HLS key at URL: " + t.uri,
                    code: Md,
                    xhr: t,
                  },
                  a
                );
              var r = new DataView(n);
              return (
                (a.key.bytes = new Uint32Array([
                  r.getUint32(0),
                  r.getUint32(4),
                  r.getUint32(8),
                  r.getUint32(12),
                ])),
                l(null, a)
              );
            })
          );
          p.push(f);
        }
        if (r.map && !r.map.bytes) {
          var m = e(
            Ft.mergeOptions(t, {
              uri: r.map.resolvedUri,
              responseType: "arraybuffer",
              headers: Ld(r.map),
            }),
            ((c = r),
            (u = i),
            (d = h),
            function (e, t) {
              var n = t.response,
                i = Ud(e, t);
              return i
                ? d(i, c)
                : 0 === n.byteLength
                ? d(
                    {
                      status: t.status,
                      message: "Empty HLS segment content at URL: " + t.uri,
                      code: Md,
                      xhr: t,
                    },
                    c
                  )
                : ((c.map.bytes = new Uint8Array(t.response)),
                  u.isInitialized() || u.init(),
                  (c.map.timescales = tl.timescale(c.map.bytes)),
                  (c.map.videoTrackIds = tl.videoTrackIds(c.map.bytes)),
                  d(null, c));
            })
          );
          p.push(m);
        }
        var g,
          _,
          v,
          y = e(
            Ft.mergeOptions(t, {
              uri: r.resolvedUri,
              responseType: "arraybuffer",
              headers: Ld(r),
            }),
            ((g = r),
            (_ = i),
            (v = h),
            function (e, t) {
              var n,
                i = t.response,
                r = Ud(e, t),
                s = void 0;
              return r
                ? v(r, g)
                : 0 === i.byteLength
                ? v(
                    {
                      status: t.status,
                      message: "Empty HLS segment content at URL: " + t.uri,
                      code: Md,
                      xhr: t,
                    },
                    g
                  )
                : ((g.stats = {
                    bandwidth: (n = t).bandwidth,
                    bytesReceived: n.bytesReceived || 0,
                    roundTripTime: n.roundTripTime || 0,
                  }),
                  g.key
                    ? (g.encryptedBytes = new Uint8Array(t.response))
                    : (g.bytes = new Uint8Array(t.response)),
                  g.map &&
                    g.map.bytes &&
                    (_.isInitialized() || _.init(),
                    (s = _.parse(
                      g.bytes,
                      g.map.videoTrackIds,
                      g.map.timescales
                    )) &&
                      s.captions &&
                      ((g.captionStreams = s.captionStreams),
                      (g.fmp4Captions = s.captions))),
                  v(null, g));
            })
          );
        return (
          y.addEventListener("progress", $d(r, s)),
          p.push(y),
          function () {
            return Nd(p);
          }
        );
      },
      Hd = function (t, n) {
        var i;
        return t && (i = e.getComputedStyle(t)) ? i[n] : "";
      },
      Wd = function (e, t) {
        var n = e.slice();
        e.sort(function (e, i) {
          var r = t(e, i);
          return 0 === r ? n.indexOf(e) - n.indexOf(i) : r;
        });
      },
      qd = function (t, n) {
        var i = void 0,
          r = void 0;
        return (
          t.attributes.BANDWIDTH && (i = t.attributes.BANDWIDTH),
          (i = i || e.Number.MAX_VALUE),
          n.attributes.BANDWIDTH && (r = n.attributes.BANDWIDTH),
          i - (r = r || e.Number.MAX_VALUE)
        );
      },
      zd = function (e, t, n) {
        if (!e || !t) return !1;
        var i = n === e.segments.length;
        return e.endList && "open" === t.readyState && i;
      },
      Vd = function (e) {
        return "number" == typeof e && isFinite(e);
      },
      Kd = (function () {
        function t(e) {
          lu(this, t);
          var n = du(
            this,
            (t.__proto__ || Object.getPrototypeOf(t)).call(this)
          );
          if (!e) throw new TypeError("Initialization settings are required");
          if ("function" != typeof e.currentTime)
            throw new TypeError("No currentTime getter specified");
          if (!e.mediaSource) throw new TypeError("No MediaSource specified");
          return (
            (n.bandwidth = e.bandwidth),
            (n.throughput = {
              rate: 0,
              count: 0,
            }),
            (n.roundTrip = 0 / 0),
            n.resetStats_(),
            (n.mediaIndex = null),
            (n.hasPlayed_ = e.hasPlayed),
            (n.currentTime_ = e.currentTime),
            (n.seekable_ = e.seekable),
            (n.seeking_ = e.seeking),
            (n.duration_ = e.duration),
            (n.mediaSource_ = e.mediaSource),
            (n.hls_ = e.hls),
            (n.loaderType_ = e.loaderType),
            (n.startingMedia_ = void 0),
            (n.segmentMetadataTrack_ = e.segmentMetadataTrack),
            (n.goalBufferLength_ = e.goalBufferLength),
            (n.sourceType_ = e.sourceType),
            (n.inbandTextTracks_ = e.inbandTextTracks),
            (n.state_ = "INIT"),
            (n.checkBufferTimeout_ = null),
            (n.error_ = void 0),
            (n.currentTimeline_ = -1),
            (n.pendingSegment_ = null),
            (n.mimeType_ = null),
            (n.sourceUpdater_ = null),
            (n.xhrOptions_ = null),
            (n.activeInitSegmentId_ = null),
            (n.initSegments_ = {}),
            (n.captionParser_ = new Lc()),
            (n.decrypter_ = e.decrypter),
            (n.syncController_ = e.syncController),
            (n.syncPoint_ = {
              segmentIndex: 0,
              time: 0,
            }),
            n.syncController_.on("syncinfoupdate", function () {
              return n.trigger("syncinfoupdate");
            }),
            n.mediaSource_.addEventListener("sourceopen", function () {
              return (n.ended_ = !1);
            }),
            (n.fetchAtBuffer_ = !1),
            (n.logger_ = Ad("SegmentLoader[" + n.loaderType_ + "]")),
            Object.defineProperty(n, "state", {
              get: function () {
                return this.state_;
              },
              set: function (e) {
                e !== this.state_ &&
                  (this.logger_(this.state_ + " -> " + e), (this.state_ = e));
              },
            }),
            n
          );
        }
        return (
          uu(t, Ft.EventTarget),
          cu(t, [
            {
              key: "resetStats_",
              value: function () {
                (this.mediaBytesTransferred = 0),
                  (this.mediaRequests = 0),
                  (this.mediaRequestsAborted = 0),
                  (this.mediaRequestsTimedout = 0),
                  (this.mediaRequestsErrored = 0),
                  (this.mediaTransferDuration = 0),
                  (this.mediaSecondsLoaded = 0);
              },
            },
            {
              key: "dispose",
              value: function () {
                (this.state = "DISPOSED"),
                  this.pause(),
                  this.abort_(),
                  this.sourceUpdater_ && this.sourceUpdater_.dispose(),
                  this.resetStats_(),
                  this.captionParser_.reset();
              },
            },
            {
              key: "abort",
              value: function () {
                "WAITING" === this.state
                  ? (this.abort_(),
                    (this.state = "READY"),
                    this.paused() || this.monitorBuffer_())
                  : this.pendingSegment_ && (this.pendingSegment_ = null);
              },
            },
            {
              key: "abort_",
              value: function () {
                this.pendingSegment_ && this.pendingSegment_.abortRequests(),
                  (this.pendingSegment_ = null);
              },
            },
            {
              key: "error",
              value: function (e) {
                return (
                  "undefined" != typeof e && (this.error_ = e),
                  (this.pendingSegment_ = null),
                  this.error_
                );
              },
            },
            {
              key: "endOfStream",
              value: function () {
                (this.ended_ = !0), this.pause(), this.trigger("ended");
              },
            },
            {
              key: "buffered_",
              value: function () {
                return this.sourceUpdater_
                  ? this.sourceUpdater_.buffered()
                  : Ft.createTimeRanges();
              },
            },
            {
              key: "initSegment",
              value: function (e) {
                var t =
                  1 < arguments.length &&
                  void 0 !== arguments[1] &&
                  arguments[1];
                if (!e) return null;
                var n = qu(e),
                  i = this.initSegments_[n];
                return (
                  t &&
                    !i &&
                    e.bytes &&
                    (this.initSegments_[n] = i =
                      {
                        resolvedUri: e.resolvedUri,
                        byterange: e.byterange,
                        bytes: e.bytes,
                        timescales: e.timescales,
                        videoTrackIds: e.videoTrackIds,
                      }),
                  i || e
                );
              },
            },
            {
              key: "couldBeginLoading_",
              value: function () {
                return (
                  this.playlist_ &&
                  (this.sourceUpdater_ ||
                    (this.mimeType_ && "INIT" === this.state)) &&
                  !this.paused()
                );
              },
            },
            {
              key: "load",
              value: function () {
                if ((this.monitorBuffer_(), this.playlist_)) {
                  if (
                    (this.syncController_.setDateTimeMapping(this.playlist_),
                    "INIT" === this.state && this.couldBeginLoading_())
                  )
                    return this.init_();
                  !this.couldBeginLoading_() ||
                    ("READY" !== this.state && "INIT" !== this.state) ||
                    (this.state = "READY");
                }
              },
            },
            {
              key: "init_",
              value: function () {
                return (
                  (this.state = "READY"),
                  (this.sourceUpdater_ = new Id(
                    this.mediaSource_,
                    this.mimeType_,
                    this.loaderType_,
                    this.sourceBufferEmitter_
                  )),
                  this.resetEverything(),
                  this.monitorBuffer_()
                );
              },
            },
            {
              key: "playlist",
              value: function (e) {
                var t =
                  1 < arguments.length && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
                if (e) {
                  var n = this.playlist_,
                    i = this.pendingSegment_;
                  (this.playlist_ = e),
                    (this.xhrOptions_ = t),
                    this.hasPlayed_() ||
                      (e.syncInfo = {
                        mediaSequence: e.mediaSequence,
                        time: 0,
                      });
                  var r = n ? n.id : null;
                  if (
                    (this.logger_(
                      "playlist update [" + r + " => " + e.id + "]"
                    ),
                    this.trigger("syncinfoupdate"),
                    "INIT" === this.state && this.couldBeginLoading_())
                  )
                    return this.init_();
                  if (n && n.uri === e.uri) {
                    var s = e.mediaSequence - n.mediaSequence;
                    this.logger_("live window shift [" + s + "]"),
                      null !== this.mediaIndex && (this.mediaIndex -= s),
                      i &&
                        ((i.mediaIndex -= s),
                        0 <= i.mediaIndex &&
                          (i.segment = e.segments[i.mediaIndex])),
                      this.syncController_.saveExpiredSegmentInfo(n, e);
                  } else null !== this.mediaIndex && this.resyncLoader();
                }
              },
            },
            {
              key: "pause",
              value: function () {
                this.checkBufferTimeout_ &&
                  (e.clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = null));
              },
            },
            {
              key: "paused",
              value: function () {
                return null === this.checkBufferTimeout_;
              },
            },
            {
              key: "mimeType",
              value: function (e, t) {
                this.mimeType_ ||
                  ((this.mimeType_ = e),
                  (this.sourceBufferEmitter_ = t),
                  "INIT" === this.state &&
                    this.couldBeginLoading_() &&
                    this.init_());
              },
            },
            {
              key: "resetEverything",
              value: function (e) {
                (this.ended_ = !1),
                  this.resetLoader(),
                  this.remove(0, this.duration_(), e),
                  this.captionParser_.clearAllCaptions(),
                  this.trigger("reseteverything");
              },
            },
            {
              key: "resetLoader",
              value: function () {
                (this.fetchAtBuffer_ = !1), this.resyncLoader();
              },
            },
            {
              key: "resyncLoader",
              value: function () {
                (this.mediaIndex = null),
                  (this.syncPoint_ = null),
                  this.abort();
              },
            },
            {
              key: "remove",
              value: function (e, t, n) {
                if (
                  (this.sourceUpdater_ && this.sourceUpdater_.remove(e, t, n),
                  Zu(e, t, this.segmentMetadataTrack_),
                  this.inbandTextTracks_)
                )
                  for (var i in this.inbandTextTracks_)
                    Zu(e, t, this.inbandTextTracks_[i]);
              },
            },
            {
              key: "monitorBuffer_",
              value: function () {
                this.checkBufferTimeout_ &&
                  e.clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = e.setTimeout(
                    this.monitorBufferTick_.bind(this),
                    1
                  ));
              },
            },
            {
              key: "monitorBufferTick_",
              value: function () {
                "READY" === this.state && this.fillBuffer_(),
                  this.checkBufferTimeout_ &&
                    e.clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = e.setTimeout(
                    this.monitorBufferTick_.bind(this),
                    500
                  ));
              },
            },
            {
              key: "fillBuffer_",
              value: function () {
                if (!this.sourceUpdater_.updating()) {
                  this.syncPoint_ ||
                    (this.syncPoint_ = this.syncController_.getSyncPoint(
                      this.playlist_,
                      this.duration_(),
                      this.currentTimeline_,
                      this.currentTime_()
                    ));
                  var e = this.checkBuffer_(
                    this.buffered_(),
                    this.playlist_,
                    this.mediaIndex,
                    this.hasPlayed_(),
                    this.currentTime_(),
                    this.syncPoint_
                  );
                  e &&
                    (zd(this.playlist_, this.mediaSource_, e.mediaIndex)
                      ? this.endOfStream()
                      : (e.mediaIndex !== this.playlist_.segments.length - 1 ||
                          "ended" !== this.mediaSource_.readyState ||
                          this.seeking_()) &&
                        ((e.timeline !== this.currentTimeline_ ||
                          (null !== e.startOfSegment &&
                            e.startOfSegment <
                              this.sourceUpdater_.timestampOffset())) &&
                          (this.syncController_.reset(),
                          (e.timestampOffset = e.startOfSegment),
                          this.captionParser_.clearAllCaptions()),
                        this.loadSegment_(e)));
                }
              },
            },
            {
              key: "checkBuffer_",
              value: function (e, t, n, i, r, s) {
                var o = 0,
                  a = void 0;
                e.length && (o = e.end(e.length - 1));
                var l = Math.max(0, o - r);
                if (!t.segments.length) return null;
                if (l >= this.goalBufferLength_()) return null;
                if (!i && l >= 1) return null;
                if (null === s)
                  return (
                    (n = this.getSyncSegmentCandidate_(t)),
                    this.generateSegmentInfo_(t, n, null, !0)
                  );
                if (null !== n) {
                  var c = t.segments[n];
                  return (
                    (a = c && c.end ? c.end : o),
                    this.generateSegmentInfo_(t, n + 1, a, !1)
                  );
                }
                if (this.fetchAtBuffer_) {
                  var u = Nu.getMediaInfoForTime(t, o, s.segmentIndex, s.time);
                  (n = u.mediaIndex), (a = u.startTime);
                } else {
                  var d = Nu.getMediaInfoForTime(t, r, s.segmentIndex, s.time);
                  (n = d.mediaIndex), (a = d.startTime);
                }
                return this.generateSegmentInfo_(t, n, a, !1);
              },
            },
            {
              key: "getSyncSegmentCandidate_",
              value: function (e) {
                var t = this;
                if (-1 === this.currentTimeline_) return 0;
                var n = e.segments
                  .map(function (e, t) {
                    return {
                      timeline: e.timeline,
                      segmentIndex: t,
                    };
                  })
                  .filter(function (e) {
                    return e.timeline === t.currentTimeline_;
                  });
                return n.length
                  ? n[Math.min(n.length - 1, 1)].segmentIndex
                  : Math.max(e.segments.length - 1, 0);
              },
            },
            {
              key: "generateSegmentInfo_",
              value: function (e, t, n, i) {
                if (0 > t || t >= e.segments.length) return null;
                var r = e.segments[t];
                return {
                  requestId: "segment-loader-" + Math.random(),
                  uri: r.resolvedUri,
                  mediaIndex: t,
                  isSyncRequest: i,
                  startOfSegment: n,
                  playlist: e,
                  bytes: null,
                  encryptedBytes: null,
                  timestampOffset: null,
                  timeline: r.timeline,
                  duration: r.duration,
                  segment: r,
                };
              },
            },
            {
              key: "abortRequestEarly_",
              value: function (e) {
                if (
                  this.hls_.tech_.paused() ||
                  !this.xhrOptions_.timeout ||
                  !this.playlist_.attributes.BANDWIDTH
                )
                  return !1;
                if (Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3)
                  return !1;
                var t = this.currentTime_(),
                  n = e.bandwidth,
                  i = this.pendingSegment_.duration,
                  r = Nu.estimateSegmentRequestTime(
                    i,
                    n,
                    this.playlist_,
                    e.bytesReceived
                  ),
                  s =
                    (function (e, t) {
                      var n =
                        2 < arguments.length && void 0 !== arguments[2]
                          ? arguments[2]
                          : 1;
                      return ((e.length ? e.end(e.length - 1) : 0) - t) / n;
                    })(this.buffered_(), t, this.hls_.tech_.playbackRate()) - 1;
                if (s >= r) return !1;
                var o = (function (e) {
                  var t = e.master,
                    n = e.currentTime,
                    i = e.bandwidth,
                    r = e.duration,
                    s = e.segmentDuration,
                    o = e.timeUntilRebuffer,
                    a = e.currentTimeline,
                    l = e.syncController,
                    c = t.playlists.filter(function (e) {
                      return !Nu.isIncompatible(e);
                    }),
                    u = c.filter(Nu.isEnabled);
                  u.length ||
                    (u = c.filter(function (e) {
                      return !Nu.isDisabled(e);
                    }));
                  var d = u
                      .filter(Nu.hasAttribute.bind(null, "BANDWIDTH"))
                      .map(function (e) {
                        var t = l.getSyncPoint(e, r, a, n) ? 1 : 2;
                        return {
                          playlist: e,
                          rebufferingImpact:
                            Nu.estimateSegmentRequestTime(s, i, e) * t - o,
                        };
                      }),
                    p = d.filter(function (e) {
                      return e.rebufferingImpact <= 0;
                    });
                  return (
                    Wd(p, function (e, t) {
                      return qd(t.playlist, e.playlist);
                    }),
                    p.length
                      ? p[0]
                      : (Wd(d, function (e, t) {
                          return e.rebufferingImpact - t.rebufferingImpact;
                        }),
                        d[0] || null)
                  );
                })({
                  master: this.hls_.playlists.master,
                  currentTime: t,
                  bandwidth: n,
                  duration: this.duration_(),
                  segmentDuration: i,
                  timeUntilRebuffer: s,
                  currentTimeline: this.currentTimeline_,
                  syncController: this.syncController_,
                });
                if (o) {
                  var a = r - s - o.rebufferingImpact,
                    l = 0.5;
                  return (
                    Ku >= s && (l = 1),
                    !o.playlist ||
                    o.playlist.uri === this.playlist_.uri ||
                    l > a
                      ? !1
                      : ((this.bandwidth =
                          o.playlist.attributes.BANDWIDTH *
                            Dd.BANDWIDTH_VARIANCE +
                          1),
                        this.abort(),
                        this.trigger("earlyabort"),
                        !0)
                  );
                }
              },
            },
            {
              key: "handleProgress_",
              value: function (e, t) {
                this.pendingSegment_ &&
                  t.requestId === this.pendingSegment_.requestId &&
                  !this.abortRequestEarly_(t.stats) &&
                  this.trigger("progress");
              },
            },
            {
              key: "loadSegment_",
              value: function (e) {
                (this.state = "WAITING"),
                  (this.pendingSegment_ = e),
                  this.trimBackBuffer_(e),
                  (e.abortRequests = Fd(
                    this.hls_.xhr,
                    this.xhrOptions_,
                    this.decrypter_,
                    this.captionParser_,
                    this.createSimplifiedSegmentObj_(e),
                    this.handleProgress_.bind(this),
                    this.segmentRequestFinished_.bind(this)
                  ));
              },
            },
            {
              key: "trimBackBuffer_",
              value: function () {
                var e,
                  t,
                  n,
                  i,
                  r =
                    ((e = this.seekable_()),
                    (t = this.currentTime_()),
                    (n = this.playlist_.targetDuration || 10),
                    (i = void 0),
                    (i =
                      e.length && 0 < e.start(0) && e.start(0) < t
                        ? e.start(0)
                        : t - 30),
                    Math.min(i, t - n));
                r > 0 && this.remove(0, r);
              },
            },
            {
              key: "createSimplifiedSegmentObj_",
              value: function (e) {
                var t = e.segment,
                  n = {
                    resolvedUri: t.resolvedUri,
                    byterange: t.byterange,
                    requestId: e.requestId,
                  };
                if (t.key) {
                  var i =
                    t.key.iv ||
                    new Uint32Array([
                      0,
                      0,
                      0,
                      e.mediaIndex + e.playlist.mediaSequence,
                    ]);
                  n.key = {
                    resolvedUri: t.key.resolvedUri,
                    iv: i,
                  };
                }
                return t.map && (n.map = this.initSegment(t.map)), n;
              },
            },
            {
              key: "segmentRequestFinished_",
              value: function (e, t) {
                if (
                  ((this.mediaRequests += 1),
                  t.stats &&
                    ((this.mediaBytesTransferred += t.stats.bytesReceived),
                    (this.mediaTransferDuration += t.stats.roundTripTime)),
                  this.pendingSegment_)
                ) {
                  if (t.requestId === this.pendingSegment_.requestId) {
                    if (e)
                      return (
                        (this.pendingSegment_ = null),
                        (this.state = "READY"),
                        e.code === jd
                          ? void (this.mediaRequestsAborted += 1)
                          : (this.pause(),
                            e.code === Rd
                              ? ((this.mediaRequestsTimedout += 1),
                                (this.bandwidth = 1),
                                (this.roundTrip = 0 / 0),
                                void this.trigger("bandwidthupdate"))
                              : ((this.mediaRequestsErrored += 1),
                                this.error(e),
                                void this.trigger("error")))
                      );
                    (this.bandwidth = t.stats.bandwidth),
                      (this.roundTrip = t.stats.roundTripTime),
                      t.map && (t.map = this.initSegment(t.map, !0)),
                      this.processSegmentResponse_(t);
                  }
                } else this.mediaRequestsAborted += 1;
              },
            },
            {
              key: "processSegmentResponse_",
              value: function (e) {
                var t = this.pendingSegment_;
                (t.bytes = e.bytes),
                  e.map && (t.segment.map.bytes = e.map.bytes),
                  (t.endOfAllRequests = e.endOfAllRequests),
                  e.fmp4Captions &&
                    (!(function (e, t, n) {
                      for (var i in n)
                        if (!e[i]) {
                          t.trigger({
                            type: "usage",
                            name: "hls-608",
                          });
                          var r = t.textTracks().getTrackById(i);
                          e[i] =
                            r ||
                            t.addRemoteTextTrack(
                              {
                                kind: "captions",
                                id: i,
                                label: i,
                              },
                              !1
                            ).track;
                        }
                    })(
                      this.inbandTextTracks_,
                      this.hls_.tech_,
                      e.captionStreams
                    ),
                    (function (e) {
                      var t = e.inbandTextTracks,
                        n = e.captionArray,
                        i = e.timestampOffset;
                      if (n) {
                        var r = window.WebKitDataCue || window.VTTCue;
                        n.forEach(function (e) {
                          var n = e.stream,
                            s = e.startTime,
                            o = e.endTime;
                          t[n] &&
                            ((s += i),
                            (o += i),
                            t[n].addCue(new r(s, o, e.text)));
                        });
                      }
                    })({
                      inbandTextTracks: this.inbandTextTracks_,
                      captionArray: e.fmp4Captions,
                      timestampOffset: 0,
                    }),
                    this.captionParser_.clearParsedCaptions()),
                  this.handleSegment_();
              },
            },
            {
              key: "handleSegment_",
              value: function () {
                var e = this;
                if (this.pendingSegment_) {
                  var t = this.pendingSegment_,
                    n = t.segment,
                    i = this.syncController_.probeSegmentInfo(t);
                  "undefined" == typeof this.startingMedia_ &&
                    i &&
                    (i.containsAudio || i.containsVideo) &&
                    (this.startingMedia_ = {
                      containsAudio: i.containsAudio,
                      containsVideo: i.containsVideo,
                    });
                  var r,
                    s,
                    o,
                    a =
                      ((r = this.loaderType_),
                      (s = this.startingMedia_),
                      (o = i),
                      "main" === r && s && o
                        ? o.containsAudio || o.containsVideo
                          ? s.containsVideo && !o.containsVideo
                            ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest."
                            : !s.containsVideo && o.containsVideo
                            ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest."
                            : null
                          : "Neither audio nor video found in segment."
                        : null);
                  if (a)
                    return (
                      this.error({
                        message: a,
                        blacklistDuration: 1 / 0,
                      }),
                      void this.trigger("error")
                    );
                  if (t.isSyncRequest)
                    return (
                      this.trigger("syncinfoupdate"),
                      (this.pendingSegment_ = null),
                      void (this.state = "READY")
                    );
                  null !== t.timestampOffset &&
                    t.timestampOffset !==
                      this.sourceUpdater_.timestampOffset() &&
                    (this.sourceUpdater_.timestampOffset(t.timestampOffset),
                    this.trigger("timestampoffset"));
                  var l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f,
                    m,
                    g,
                    _,
                    v,
                    y = this.syncController_.mappingForTimeline(t.timeline);
                  if (
                    (null !== y &&
                      this.trigger({
                        type: "segmenttimemapping",
                        mapping: y,
                      }),
                    (this.state = "APPENDING"),
                    n.map)
                  ) {
                    var b = qu(n.map);
                    if (
                      !this.activeInitSegmentId_ ||
                      this.activeInitSegmentId_ !== b
                    ) {
                      var w = this.initSegment(n.map);
                      this.sourceUpdater_.appendBuffer(w.bytes, function () {
                        e.activeInitSegmentId_ = b;
                      });
                    }
                  }
                  (t.byteLength = t.bytes.byteLength),
                    (this.mediaSecondsLoaded +=
                      "number" == typeof n.start && "number" == typeof n.end
                        ? n.end - n.start
                        : n.duration),
                    this.logger_(
                      ((c = (l = t).segment),
                      (u = c.start),
                      (d = c.end),
                      (p = l.playlist),
                      (h = p.mediaSequence),
                      (f = p.id),
                      (m = p.segments),
                      (g = void 0 === m ? [] : m),
                      (_ = l.mediaIndex),
                      (v = l.timeline),
                      [
                        "appending [" +
                          _ +
                          "] of [" +
                          h +
                          ", " +
                          (h + g.length) +
                          "] from playlist [" +
                          f +
                          "]",
                        "[" + u + " => " + d + "] in timeline [" + v + "]",
                      ].join(" "))
                    ),
                    this.sourceUpdater_.appendBuffer(
                      t.bytes,
                      this.handleUpdateEnd_.bind(this)
                    );
                } else this.state = "READY";
              },
            },
            {
              key: "handleUpdateEnd_",
              value: function () {
                if (!this.pendingSegment_)
                  return (
                    (this.state = "READY"),
                    void (this.paused() || this.monitorBuffer_())
                  );
                var e = this.pendingSegment_,
                  t = e.segment,
                  n = null !== this.mediaIndex;
                (this.pendingSegment_ = null),
                  this.recordThroughput_(e),
                  this.addSegmentMetadataCue_(e),
                  (this.state = "READY"),
                  (this.mediaIndex = e.mediaIndex),
                  (this.fetchAtBuffer_ = !0),
                  (this.currentTimeline_ = e.timeline),
                  this.trigger("syncinfoupdate"),
                  t.end &&
                  this.currentTime_() - t.end > 3 * e.playlist.targetDuration
                    ? this.resetEverything()
                    : (n && this.trigger("bandwidthupdate"),
                      this.trigger("progress"),
                      zd(e.playlist, this.mediaSource_, e.mediaIndex + 1) &&
                        this.endOfStream(),
                      this.paused() || this.monitorBuffer_());
              },
            },
            {
              key: "recordThroughput_",
              value: function (e) {
                var t = this.throughput.rate,
                  n = Date.now() - e.endOfAllRequests + 1,
                  i = Math.floor((e.byteLength / n) * 8 * 1e3);
                this.throughput.rate += (i - t) / ++this.throughput.count;
              },
            },
            {
              key: "addSegmentMetadataCue_",
              value: function (t) {
                if (this.segmentMetadataTrack_) {
                  var n = t.segment,
                    i = n.start,
                    r = n.end;
                  if (Vd(i) && Vd(r)) {
                    Zu(i, r, this.segmentMetadataTrack_);
                    var s = e.WebKitDataCue || e.VTTCue,
                      o = {
                        bandwidth: t.playlist.attributes.BANDWIDTH,
                        resolution: t.playlist.attributes.RESOLUTION,
                        codecs: t.playlist.attributes.CODECS,
                        byteLength: t.byteLength,
                        uri: t.uri,
                        timeline: t.timeline,
                        playlist: t.playlist.uri,
                        start: i,
                        end: r,
                      },
                      a = new s(i, r, JSON.stringify(o));
                    (a.value = o), this.segmentMetadataTrack_.addCue(a);
                  }
                }
              },
            },
          ]),
          t
        );
      })(),
      Gd = function (e) {
        return decodeURIComponent(escape(String.fromCharCode.apply(null, e)));
      },
      Yd = new Uint8Array(
        "\n\n".split("").map(function (e) {
          return e.charCodeAt(0);
        })
      ),
      Xd = (function () {
        function t(e) {
          var n =
            1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
          lu(this, t);
          var i = du(
            this,
            (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)
          );
          return (i.mediaSource_ = null), (i.subtitlesTrack_ = null), i;
        }
        return (
          uu(t, Kd),
          cu(t, [
            {
              key: "buffered_",
              value: function () {
                if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length)
                  return Ft.createTimeRanges();
                var e = this.subtitlesTrack_.cues,
                  t = e[0].startTime,
                  n = e[e.length - 1].startTime;
                return Ft.createTimeRanges([[t, n]]);
              },
            },
            {
              key: "initSegment",
              value: function (e) {
                var t =
                  1 < arguments.length &&
                  void 0 !== arguments[1] &&
                  arguments[1];
                if (!e) return null;
                var n = qu(e),
                  i = this.initSegments_[n];
                if (t && !i && e.bytes) {
                  var r = Yd.byteLength + e.bytes.byteLength,
                    s = new Uint8Array(r);
                  s.set(e.bytes),
                    s.set(Yd, e.bytes.byteLength),
                    (this.initSegments_[n] = i =
                      {
                        resolvedUri: e.resolvedUri,
                        byterange: e.byterange,
                        bytes: s,
                      });
                }
                return i || e;
              },
            },
            {
              key: "couldBeginLoading_",
              value: function () {
                return this.playlist_ && this.subtitlesTrack_ && !this.paused();
              },
            },
            {
              key: "init_",
              value: function () {
                return (
                  (this.state = "READY"),
                  this.resetEverything(),
                  this.monitorBuffer_()
                );
              },
            },
            {
              key: "track",
              value: function (e) {
                return (
                  "undefined" == typeof e ||
                    ((this.subtitlesTrack_ = e),
                    "INIT" === this.state &&
                      this.couldBeginLoading_() &&
                      this.init_()),
                  this.subtitlesTrack_
                );
              },
            },
            {
              key: "remove",
              value: function (e, t) {
                Zu(e, t, this.subtitlesTrack_);
              },
            },
            {
              key: "fillBuffer_",
              value: function () {
                var e = this;
                this.syncPoint_ ||
                  (this.syncPoint_ = this.syncController_.getSyncPoint(
                    this.playlist_,
                    this.duration_(),
                    this.currentTimeline_,
                    this.currentTime_()
                  ));
                var t = this.checkBuffer_(
                  this.buffered_(),
                  this.playlist_,
                  this.mediaIndex,
                  this.hasPlayed_(),
                  this.currentTime_(),
                  this.syncPoint_
                );
                if ((t = this.skipEmptySegments_(t))) {
                  if (
                    null ===
                    this.syncController_.timestampOffsetForTimeline(t.timeline)
                  )
                    return (
                      this.syncController_.one("timestampoffset", function () {
                        (e.state = "READY"), e.paused() || e.monitorBuffer_();
                      }),
                      void (this.state = "WAITING_ON_TIMELINE")
                    );
                  this.loadSegment_(t);
                }
              },
            },
            {
              key: "skipEmptySegments_",
              value: function (e) {
                for (; e && e.segment.empty; )
                  e = this.generateSegmentInfo_(
                    e.playlist,
                    e.mediaIndex + 1,
                    e.startOfSegment + e.duration,
                    e.isSyncRequest
                  );
                return e;
              },
            },
            {
              key: "handleSegment_",
              value: function () {
                var t = this;
                if (this.pendingSegment_ && this.subtitlesTrack_) {
                  this.state = "APPENDING";
                  var n = this.pendingSegment_,
                    i = n.segment;
                  if (
                    "function" != typeof e.WebVTT &&
                    this.subtitlesTrack_ &&
                    this.subtitlesTrack_.tech_
                  ) {
                    var r = function () {
                      t.handleSegment_();
                    };
                    return (
                      (this.state = "WAITING_ON_VTTJS"),
                      this.subtitlesTrack_.tech_.one("vttjsloaded", r),
                      void this.subtitlesTrack_.tech_.one(
                        "vttjserror",
                        function () {
                          t.subtitlesTrack_.tech_.off("vttjsloaded", r),
                            t.error({
                              message: "Error loading vtt.js",
                            }),
                            (t.state = "READY"),
                            t.pause(),
                            t.trigger("error");
                        }
                      )
                    );
                  }
                  i.requested = !0;
                  try {
                    this.parseVTTCues_(n);
                  } catch (n) {
                    return (
                      this.error({
                        message: n.message,
                      }),
                      (this.state = "READY"),
                      this.pause(),
                      this.trigger("error")
                    );
                  }
                  if (
                    (this.updateTimeMapping_(
                      n,
                      this.syncController_.timelines[n.timeline],
                      this.playlist_
                    ),
                    n.isSyncRequest)
                  )
                    return (
                      this.trigger("syncinfoupdate"),
                      (this.pendingSegment_ = null),
                      void (this.state = "READY")
                    );
                  (n.byteLength = n.bytes.byteLength),
                    (this.mediaSecondsLoaded += i.duration),
                    n.cues.length &&
                      this.remove(
                        n.cues[0].endTime,
                        n.cues[n.cues.length - 1].endTime
                      ),
                    n.cues.forEach(function (e) {
                      t.subtitlesTrack_.addCue(e);
                    }),
                    this.handleUpdateEnd_();
                } else this.state = "READY";
              },
            },
            {
              key: "parseVTTCues_",
              value: function (t) {
                var n = void 0,
                  i = !1;
                "function" == typeof e.TextDecoder
                  ? (n = new e.TextDecoder("utf8"))
                  : ((n = e.WebVTT.StringDecoder()), (i = !0));
                var r = new e.WebVTT.Parser(e, e.vttjs, n);
                if (
                  ((t.cues = []),
                  (t.timestampmap = {
                    MPEGTS: 0,
                    LOCAL: 0,
                  }),
                  (r.oncue = t.cues.push.bind(t.cues)),
                  (r.ontimestampmap = function (e) {
                    return (t.timestampmap = e);
                  }),
                  (r.onparsingerror = function (e) {
                    Ft.log.warn(
                      "Error encountered when parsing cues: " + e.message
                    );
                  }),
                  t.segment.map)
                ) {
                  var s = t.segment.map.bytes;
                  i && (s = Gd(s)), r.parse(s);
                }
                var o = t.bytes;
                i && (o = Gd(o)), r.parse(o), r.flush();
              },
            },
            {
              key: "updateTimeMapping_",
              value: function (e, t, n) {
                var i = e.segment;
                if (t)
                  if (e.cues.length) {
                    var r = e.timestampmap,
                      s = r.MPEGTS / 9e4 - r.LOCAL + t.mapping;
                    if (
                      (e.cues.forEach(function (e) {
                        (e.startTime += s), (e.endTime += s);
                      }),
                      !n.syncInfo)
                    ) {
                      var o = e.cues[0].startTime,
                        a = e.cues[e.cues.length - 1].startTime;
                      n.syncInfo = {
                        mediaSequence: n.mediaSequence + e.mediaIndex,
                        time: Math.min(o, a - i.duration),
                      };
                    }
                  } else i.empty = !0;
              },
            },
          ]),
          t
        );
      })(),
      Qd = function (e, t) {
        for (var n = e.cues, i = 0; i < n.length; i++) {
          var r = n[i];
          if (t >= r.adStartTime && t <= r.adEndTime) return r;
        }
        return null;
      },
      Jd = Qc,
      Zd = [
        {
          name: "VOD",
          run: function (e, t, n) {
            return n === 1 / 0
              ? null
              : {
                  time: 0,
                  segmentIndex: 0,
                };
          },
        },
        {
          name: "ProgramDateTime",
          run: function (e, t, n, i, r) {
            if (!e.datetimeToDisplayTime) return null;
            var s = t.segments || [],
              o = null,
              a = null;
            r = r || 0;
            for (var l = 0; l < s.length; l++) {
              var c = s[l];
              if (c.dateTimeObject) {
                var u =
                    c.dateTimeObject.getTime() / 1e3 + e.datetimeToDisplayTime,
                  d = Math.abs(r - u);
                if (null !== a && d > a) break;
                (a = d),
                  (o = {
                    time: u,
                    segmentIndex: l,
                  });
              }
            }
            return o;
          },
        },
        {
          name: "Segment",
          run: function (e, t, n, i, r) {
            var s = t.segments || [],
              o = null,
              a = null;
            r = r || 0;
            for (var l = 0; l < s.length; l++) {
              var c = s[l];
              if (c.timeline === i && "undefined" != typeof c.start) {
                var u = Math.abs(r - c.start);
                if (null !== a && u > a) break;
                (!o || null === a || a >= u) &&
                  ((a = u),
                  (o = {
                    time: c.start,
                    segmentIndex: l,
                  }));
              }
            }
            return o;
          },
        },
        {
          name: "Discontinuity",
          run: function (e, t, n, i, r) {
            var s = null;
            if (
              ((r = r || 0),
              t.discontinuityStarts && t.discontinuityStarts.length)
            )
              for (var o = null, a = 0; a < t.discontinuityStarts.length; a++) {
                var l = t.discontinuityStarts[a],
                  c = t.discontinuitySequence + a + 1,
                  u = e.discontinuities[c];
                if (u) {
                  var d = Math.abs(r - u.time);
                  if (null !== o && d > o) break;
                  (!s || null === o || o >= d) &&
                    ((o = d),
                    (s = {
                      time: u.time,
                      segmentIndex: l,
                    }));
                }
              }
            return s;
          },
        },
        {
          name: "Playlist",
          run: function (e, t) {
            return t.syncInfo
              ? {
                  time: t.syncInfo.time,
                  segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence,
                }
              : null;
          },
        },
      ],
      ep = (function () {
        function e() {
          lu(this, e);
          var t = du(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this)
          );
          return (
            (t.inspectCache_ = void 0),
            (t.timelines = []),
            (t.discontinuities = []),
            (t.datetimeToDisplayTime = null),
            (t.logger_ = Ad("SyncController")),
            t
          );
        }
        return (
          uu(e, Ft.EventTarget),
          cu(e, [
            {
              key: "getSyncPoint",
              value: function (e, t, n, i) {
                var r = this.runStrategies_(e, t, n, i);
                return r.length
                  ? this.selectSyncPoint_(r, {
                      key: "time",
                      value: i,
                    })
                  : null;
              },
            },
            {
              key: "getExpiredTime",
              value: function (e, t) {
                if (!e || !e.segments) return null;
                var n = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                if (!n.length) return null;
                var i = this.selectSyncPoint_(n, {
                  key: "segmentIndex",
                  value: 0,
                });
                return (
                  0 < i.segmentIndex && (i.time *= -1),
                  Math.abs(i.time + Eu(e, i.segmentIndex, 0))
                );
              },
            },
            {
              key: "runStrategies_",
              value: function (e, t, n, i) {
                for (var r = [], s = 0; s < Zd.length; s++) {
                  var o = Zd[s],
                    a = o.run(this, e, t, n, i);
                  a &&
                    ((a.strategy = o.name),
                    r.push({
                      strategy: o.name,
                      syncPoint: a,
                    }));
                }
                return r;
              },
            },
            {
              key: "selectSyncPoint_",
              value: function (e, t) {
                for (
                  var n = e[0].syncPoint,
                    i = Math.abs(e[0].syncPoint[t.key] - t.value),
                    r = e[0].strategy,
                    s = 1;
                  s < e.length;
                  s++
                ) {
                  var o = Math.abs(e[s].syncPoint[t.key] - t.value);
                  i > o && ((i = o), (n = e[s].syncPoint), (r = e[s].strategy));
                }
                return (
                  this.logger_(
                    "syncPoint for [" +
                      t.key +
                      ": " +
                      t.value +
                      "] chosen with strategy [" +
                      r +
                      "]: [time:" +
                      n.time +
                      ", segmentIndex:" +
                      n.segmentIndex +
                      "]"
                  ),
                  n
                );
              },
            },
            {
              key: "saveExpiredSegmentInfo",
              value: function (e, t) {
                for (
                  var n = t.mediaSequence - e.mediaSequence - 1;
                  n >= 0;
                  n--
                ) {
                  var i = e.segments[n];
                  if (i && "undefined" != typeof i.start) {
                    (t.syncInfo = {
                      mediaSequence: e.mediaSequence + n,
                      time: i.start,
                    }),
                      this.logger_(
                        "playlist refresh sync: [time:" +
                          t.syncInfo.time +
                          ", mediaSequence: " +
                          t.syncInfo.mediaSequence +
                          "]"
                      ),
                      this.trigger("syncinfoupdate");
                    break;
                  }
                }
              },
            },
            {
              key: "setDateTimeMapping",
              value: function (e) {
                if (
                  !this.datetimeToDisplayTime &&
                  e.segments &&
                  e.segments.length &&
                  e.segments[0].dateTimeObject
                ) {
                  var t = e.segments[0].dateTimeObject.getTime() / 1e3;
                  this.datetimeToDisplayTime = -t;
                }
              },
            },
            {
              key: "reset",
              value: function () {
                this.inspectCache_ = void 0;
              },
            },
            {
              key: "probeSegmentInfo",
              value: function (e) {
                var t = e.segment,
                  n = e.playlist,
                  i = void 0;
                return (
                  (i = t.map
                    ? this.probeMp4Segment_(e)
                    : this.probeTsSegment_(e)) &&
                    this.calculateSegmentTimeMapping_(e, i) &&
                    (this.saveDiscontinuitySyncInfo_(e),
                    n.syncInfo ||
                      (n.syncInfo = {
                        mediaSequence: n.mediaSequence + e.mediaIndex,
                        time: t.start,
                      })),
                  i
                );
              },
            },
            {
              key: "probeMp4Segment_",
              value: function (e) {
                var t = e.segment,
                  n = tl.timescale(t.map.bytes),
                  i = tl.startTime(n, e.bytes);
                return (
                  null !== e.timestampOffset && (e.timestampOffset -= i),
                  {
                    start: i,
                    end: i + t.duration,
                  }
                );
              },
            },
            {
              key: "probeTsSegment_",
              value: function (e) {
                var t = Jd(e.bytes, this.inspectCache_),
                  n = void 0,
                  i = void 0;
                return t
                  ? (t.video && 2 === t.video.length
                      ? ((this.inspectCache_ = t.video[1].dts),
                        (n = t.video[0].dtsTime),
                        (i = t.video[1].dtsTime))
                      : t.audio &&
                        2 === t.audio.length &&
                        ((this.inspectCache_ = t.audio[1].dts),
                        (n = t.audio[0].dtsTime),
                        (i = t.audio[1].dtsTime)),
                    {
                      start: n,
                      end: i,
                      containsVideo: t.video && 2 === t.video.length,
                      containsAudio: t.audio && 2 === t.audio.length,
                    })
                  : null;
              },
            },
            {
              key: "timestampOffsetForTimeline",
              value: function (e) {
                return "undefined" == typeof this.timelines[e]
                  ? null
                  : this.timelines[e].time;
              },
            },
            {
              key: "mappingForTimeline",
              value: function (e) {
                return "undefined" == typeof this.timelines[e]
                  ? null
                  : this.timelines[e].mapping;
              },
            },
            {
              key: "calculateSegmentTimeMapping_",
              value: function (e, t) {
                var n = e.segment,
                  i = this.timelines[e.timeline];
                if (null !== e.timestampOffset)
                  (i = {
                    time: e.startOfSegment,
                    mapping: e.startOfSegment - t.start,
                  }),
                    (this.timelines[e.timeline] = i),
                    this.trigger("timestampoffset"),
                    this.logger_(
                      "time mapping for timeline " +
                        e.timeline +
                        ": [time: " +
                        i.time +
                        "] [mapping: " +
                        i.mapping +
                        "]"
                    ),
                    (n.start = e.startOfSegment),
                    (n.end = t.end + i.mapping);
                else {
                  if (!i) return !1;
                  (n.start = t.start + i.mapping), (n.end = t.end + i.mapping);
                }
                return !0;
              },
            },
            {
              key: "saveDiscontinuitySyncInfo_",
              value: function (e) {
                var t = e.playlist,
                  n = e.segment;
                if (n.discontinuity)
                  this.discontinuities[n.timeline] = {
                    time: n.start,
                    accuracy: 0,
                  };
                else if (t.discontinuityStarts && t.discontinuityStarts.length)
                  for (var i = 0; i < t.discontinuityStarts.length; i++) {
                    var r = t.discontinuityStarts[i],
                      s = t.discontinuitySequence + i + 1,
                      o = r - e.mediaIndex,
                      a = Math.abs(o);
                    if (
                      !this.discontinuities[s] ||
                      this.discontinuities[s].accuracy > a
                    ) {
                      var l = void 0;
                      (l =
                        0 > o
                          ? n.start - Eu(t, e.mediaIndex, r)
                          : n.end + Eu(t, e.mediaIndex + 1, r)),
                        (this.discontinuities[s] = {
                          time: l,
                          accuracy: a,
                        });
                    }
                  }
              },
            },
          ]),
          e
        );
      })(),
      tp = new Ht("./decrypter-worker.worker.js", function () {
        var e,
          t,
          n,
          i,
          r,
          s,
          o,
          a,
          l = this;
        (e = function (e, t) {
          if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function");
        }),
          (t = (function () {
            function e(e, t) {
              for (var n = 0; n < t.length; n++) {
                var i = t[n];
                (i.enumerable = i.enumerable || !1),
                  (i.configurable = !0),
                  "value" in i && (i.writable = !0),
                  Object.defineProperty(e, i.key, i);
              }
            }
            return function (t, n, i) {
              return n && e(t.prototype, n), i && e(t, i), t;
            };
          })()),
          (n = null),
          (i = (function () {
            function t(i) {
              e(this, t),
                n ||
                  (n = (function () {
                    var e = [
                        [[], [], [], [], []],
                        [[], [], [], [], []],
                      ],
                      t = e[0],
                      n = e[1],
                      i = t[4],
                      r = n[4],
                      s = void 0,
                      o = void 0,
                      a = void 0,
                      l = [],
                      c = [],
                      u = void 0,
                      d = void 0,
                      p = void 0,
                      h = void 0,
                      f = void 0;
                    for (s = 0; 256 > s; s++)
                      c[(l[s] = (s << 1) ^ (283 * (s >> 7))) ^ s] = s;
                    for (o = a = 0; !i[o]; o ^= u || 1, a = c[a] || 1)
                      for (
                        p =
                          ((p =
                            a ^ (a << 1) ^ (a << 2) ^ (a << 3) ^ (a << 4)) >>
                            8) ^
                          (255 & p) ^
                          99,
                          f =
                            (16843009 *
                              l[(d = l[(u = l[(r[(i[o] = p)] = o)])])]) ^
                            (65537 * d) ^
                            (257 * u) ^
                            (16843008 * o),
                          h = (257 * l[p]) ^ (16843008 * p),
                          s = 0;
                        4 > s;
                        s++
                      )
                        (t[s][o] = h = (h << 24) ^ (h >>> 8)),
                          (n[s][p] = f = (f << 24) ^ (f >>> 8));
                    for (s = 0; 5 > s; s++)
                      (t[s] = t[s].slice(0)), (n[s] = n[s].slice(0));
                    return e;
                  })()),
                (this._tables = [
                  [
                    n[0][0].slice(),
                    n[0][1].slice(),
                    n[0][2].slice(),
                    n[0][3].slice(),
                    n[0][4].slice(),
                  ],
                  [
                    n[1][0].slice(),
                    n[1][1].slice(),
                    n[1][2].slice(),
                    n[1][3].slice(),
                    n[1][4].slice(),
                  ],
                ]);
              var r = void 0,
                s = void 0,
                o = void 0,
                a = void 0,
                l = void 0,
                c = this._tables[0][4],
                u = this._tables[1],
                d = i.length,
                p = 1;
              if (4 !== d && 6 !== d && 8 !== d)
                throw new Error("Invalid aes key size");
              for (
                a = i.slice(0), l = [], this._key = [a, l], r = d;
                4 * d + 28 > r;
                r++
              )
                (o = a[r - 1]),
                  (r % d == 0 || (8 === d && r % d == 4)) &&
                    ((o =
                      (c[o >>> 24] << 24) ^
                      (c[(o >> 16) & 255] << 16) ^
                      (c[(o >> 8) & 255] << 8) ^
                      c[255 & o]),
                    r % d == 0 &&
                      ((o = (o << 8) ^ (o >>> 24) ^ (p << 24)),
                      (p = (p << 1) ^ (283 * (p >> 7))))),
                  (a[r] = a[r - d] ^ o);
              for (s = 0; r; s++, r--)
                (o = a[3 & s ? r : r - 4]),
                  (l[s] =
                    4 >= r || 4 > s
                      ? o
                      : u[0][c[o >>> 24]] ^
                        u[1][c[(o >> 16) & 255]] ^
                        u[2][c[(o >> 8) & 255]] ^
                        u[3][c[255 & o]]);
            }
            return (
              (t.prototype.decrypt = function (e, t, n, i, r, s) {
                var o = this._key[1],
                  a = e ^ o[0],
                  l = i ^ o[1],
                  c = n ^ o[2],
                  u = t ^ o[3],
                  d = void 0,
                  p = void 0,
                  h = void 0,
                  f = o.length / 4 - 2,
                  m = void 0,
                  g = 4,
                  _ = this._tables[1],
                  v = _[0],
                  y = _[1],
                  b = _[2],
                  w = _[3],
                  C = _[4];
                for (m = 0; f > m; m++)
                  (d =
                    v[a >>> 24] ^
                    y[(l >> 16) & 255] ^
                    b[(c >> 8) & 255] ^
                    w[255 & u] ^
                    o[g]),
                    (p =
                      v[l >>> 24] ^
                      y[(c >> 16) & 255] ^
                      b[(u >> 8) & 255] ^
                      w[255 & a] ^
                      o[g + 1]),
                    (h =
                      v[c >>> 24] ^
                      y[(u >> 16) & 255] ^
                      b[(a >> 8) & 255] ^
                      w[255 & l] ^
                      o[g + 2]),
                    (u =
                      v[u >>> 24] ^
                      y[(a >> 16) & 255] ^
                      b[(l >> 8) & 255] ^
                      w[255 & c] ^
                      o[g + 3]),
                    (g += 4),
                    (a = d),
                    (l = p),
                    (c = h);
                for (m = 0; 4 > m; m++)
                  (r[(3 & -m) + s] =
                    (C[a >>> 24] << 24) ^
                    (C[(l >> 16) & 255] << 16) ^
                    (C[(c >> 8) & 255] << 8) ^
                    C[255 & u] ^
                    o[g++]),
                    (d = a),
                    (a = l),
                    (l = c),
                    (c = u),
                    (u = d);
              }),
              t
            );
          })()),
          (r = (function () {
            function t() {
              e(this, t), (this.listeners = {});
            }
            return (
              (t.prototype.on = function (e, t) {
                this.listeners[e] || (this.listeners[e] = []),
                  this.listeners[e].push(t);
              }),
              (t.prototype.off = function (e, t) {
                if (!this.listeners[e]) return !1;
                var n = this.listeners[e].indexOf(t);
                return this.listeners[e].splice(n, 1), n > -1;
              }),
              (t.prototype.trigger = function (e) {
                var t = this.listeners[e];
                if (t)
                  if (2 === arguments.length)
                    for (var n = t.length, i = 0; n > i; ++i)
                      t[i].call(this, arguments[1]);
                  else
                    for (
                      var r = Array.prototype.slice.call(arguments, 1),
                        s = t.length,
                        o = 0;
                      s > o;
                      ++o
                    )
                      t[o].apply(this, r);
              }),
              (t.prototype.dispose = function () {
                this.listeners = {};
              }),
              (t.prototype.pipe = function (e) {
                this.on("data", function (t) {
                  e.push(t);
                });
              }),
              t
            );
          })()),
          (s = (function (t) {
            function n() {
              e(this, n);
              var i = (function (e, t) {
                if (!e)
                  throw new ReferenceError(
                    "this hasn't been initialised - super() hasn't been called"
                  );
                return !t || ("object" != typeof t && "function" != typeof t)
                  ? e
                  : t;
              })(this, t.call(this, r));
              return (i.jobs = []), (i.delay = 1), (i.timeout_ = null), i;
            }
            return (
              (function (e, t) {
                if ("function" != typeof t && null !== t)
                  throw new TypeError(
                    "Super expression must either be null or a function, not " +
                      typeof t
                  );
                (e.prototype = Object.create(t && t.prototype, {
                  constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0,
                  },
                })),
                  t &&
                    (Object.setPrototypeOf
                      ? Object.setPrototypeOf(e, t)
                      : (e.__proto__ = t));
              })(n, t),
              (n.prototype.processJob_ = function () {
                this.jobs.shift()(),
                  (this.timeout_ = this.jobs.length
                    ? setTimeout(this.processJob_.bind(this), this.delay)
                    : null);
              }),
              (n.prototype.push = function (e) {
                this.jobs.push(e),
                  this.timeout_ ||
                    (this.timeout_ = setTimeout(
                      this.processJob_.bind(this),
                      this.delay
                    ));
              }),
              n
            );
          })(r)),
          (o = function (e) {
            return (
              (e << 24) |
              ((65280 & e) << 8) |
              ((16711680 & e) >> 8) |
              (e >>> 24)
            );
          }),
          (a = (function () {
            function n(t, i, r, a) {
              e(this, n);
              var l = n.STEP,
                c = new Int32Array(t.buffer),
                u = new Uint8Array(t.byteLength),
                d = 0;
              for (
                this.asyncStream_ = new s(),
                  this.asyncStream_.push(
                    this.decryptChunk_(c.subarray(d, d + l), i, r, u)
                  ),
                  d = l;
                d < c.length;
                d += l
              )
                (r = new Uint32Array([
                  o(c[d - 4]),
                  o(c[d - 3]),
                  o(c[d - 2]),
                  o(c[d - 1]),
                ])),
                  this.asyncStream_.push(
                    this.decryptChunk_(c.subarray(d, d + l), i, r, u)
                  );
              this.asyncStream_.push(function () {
                var e;
                a(
                  null,
                  (e = u).subarray(0, e.byteLength - e[e.byteLength - 1])
                );
              });
            }
            return (
              (n.prototype.decryptChunk_ = function (e, t, n, r) {
                return function () {
                  var s = (function (e, t, n) {
                    var r = new Int32Array(
                        e.buffer,
                        e.byteOffset,
                        e.byteLength >> 2
                      ),
                      s = new i(Array.prototype.slice.call(t)),
                      a = new Uint8Array(e.byteLength),
                      l = new Int32Array(a.buffer),
                      c = void 0,
                      u = void 0,
                      d = void 0,
                      p = void 0,
                      h = void 0,
                      f = void 0,
                      m = void 0,
                      g = void 0,
                      _ = void 0;
                    for (
                      c = n[0], u = n[1], d = n[2], p = n[3], _ = 0;
                      _ < r.length;
                      _ += 4
                    )
                      (h = o(r[_])),
                        (f = o(r[_ + 1])),
                        (m = o(r[_ + 2])),
                        (g = o(r[_ + 3])),
                        s.decrypt(h, f, m, g, l, _),
                        (l[_] = o(l[_] ^ c)),
                        (l[_ + 1] = o(l[_ + 1] ^ u)),
                        (l[_ + 2] = o(l[_ + 2] ^ d)),
                        (l[_ + 3] = o(l[_ + 3] ^ p)),
                        (c = h),
                        (u = f),
                        (d = m),
                        (p = g);
                    return a;
                  })(e, t, n);
                  r.set(s, e.byteOffset);
                };
              }),
              t(n, null, [
                {
                  key: "STEP",
                  get: function () {
                    return 32e3;
                  },
                },
              ]),
              n
            );
          })()),
          new (function (e) {
            e.onmessage = function (t) {
              var n = t.data,
                i = new Uint8Array(
                  n.encrypted.bytes,
                  n.encrypted.byteOffset,
                  n.encrypted.byteLength
                ),
                r = new Uint32Array(
                  n.key.bytes,
                  n.key.byteOffset,
                  n.key.byteLength / 4
                ),
                s = new Uint32Array(
                  n.iv.bytes,
                  n.iv.byteOffset,
                  n.iv.byteLength / 4
                );
              new a(i, r, s, function (t, i) {
                var r, s;
                e.postMessage(
                  ((r = {
                    source: n.source,
                    decrypted: i,
                  }),
                  (s = {}),
                  Object.keys(r).forEach(function (e) {
                    var t = r[e];
                    s[e] = ArrayBuffer.isView(t)
                      ? {
                          bytes: t.buffer,
                          byteOffset: t.byteOffset,
                          byteLength: t.byteLength,
                        }
                      : t;
                  }),
                  s),
                  [i.buffer]
                );
              });
            };
          })(l);
      }),
      np = function (e, t) {
        e.abort(),
          e.pause(),
          t &&
            t.activePlaylistLoader &&
            (t.activePlaylistLoader.pause(), (t.activePlaylistLoader = null));
      },
      ip = function (e, t) {
        (t.activePlaylistLoader = e).load();
      },
      rp = {
        AUDIO: function (e, t) {
          return function () {
            var n = t.segmentLoaders[e],
              i = t.mediaTypes[e],
              r = t.blacklistCurrentPlaylist;
            np(n, i);
            var s = i.activeTrack(),
              o = i.activeGroup(),
              a = (
                o.filter(function (e) {
                  return e["default"];
                })[0] || o[0]
              ).id,
              l = i.tracks[a];
            if (s !== l) {
              for (var c in (Ft.log.warn(
                "Problem encountered loading the alternate audio track.Switching back to default."
              ),
              i.tracks))
                i.tracks[c].enabled = i.tracks[c] === l;
              i.onTrackChanged();
            } else
              r({
                message: "Problem encountered loading the default audio track.",
              });
          };
        },
        SUBTITLES: function (e, t) {
          return function () {
            var n = t.segmentLoaders[e],
              i = t.mediaTypes[e];
            Ft.log.warn(
              "Problem encountered loading the subtitle track.Disabling subtitle track."
            ),
              np(n, i);
            var r = i.activeTrack();
            r && (r.mode = "disabled"), i.onTrackChanged();
          };
        },
      },
      sp = {
        AUDIO: function (e, t, n) {
          if (t) {
            var i = n.tech,
              r = n.requestOptions,
              s = n.segmentLoaders[e];
            t.on("loadedmetadata", function () {
              var e = t.media();
              s.playlist(e, r),
                (!i.paused() || (e.endList && "none" !== i.preload())) &&
                  s.load();
            }),
              t.on("loadedplaylist", function () {
                s.playlist(t.media(), r), i.paused() || s.load();
              }),
              t.on("error", rp[e](e, n));
          }
        },
        SUBTITLES: function (e, t, n) {
          var i = n.tech,
            r = n.requestOptions,
            s = n.segmentLoaders[e],
            o = n.mediaTypes[e];
          t.on("loadedmetadata", function () {
            var e = t.media();
            s.playlist(e, r),
              s.track(o.activeTrack()),
              (!i.paused() || (e.endList && "none" !== i.preload())) &&
                s.load();
          }),
            t.on("loadedplaylist", function () {
              s.playlist(t.media(), r), i.paused() || s.load();
            }),
            t.on("error", rp[e](e, n));
        },
      },
      op = function (e, t) {
        return function (n) {
          return n.attributes[e] === t;
        };
      },
      ap = function (e) {
        return function (t) {
          return t.resolvedUri === e;
        };
      },
      lp = {
        AUDIO: function (e, t) {
          var n,
            i,
            r = t.hls,
            s = t.sourceType,
            o = t.segmentLoaders[e],
            a = t.requestOptions.withCredentials,
            l = t.master,
            c = l.mediaGroups,
            u = l.playlists,
            d = t.mediaTypes[e],
            p = d.groups,
            h = d.tracks,
            f = t.masterPlaylistLoader;
          for (var m in ((c[e] && 0 !== Object.keys(c[e]).length) ||
            (c[e] = {
              main: {
                default: {
                  default: !0,
                },
              },
            }),
          c[e])) {
            p[m] || (p[m] = []);
            var g = u.filter(op(e, m));
            for (var _ in c[e][m]) {
              var v = c[e][m][_];
              g.filter(ap(v.resolvedUri)).length && delete v.resolvedUri;
              var y = void 0;
              if (
                ((y = v.resolvedUri
                  ? new wu(v.resolvedUri, r, a)
                  : v.playlists && "dash" === s
                  ? new Od(v.playlists[0], r, a, f)
                  : null),
                (v = Ft.mergeOptions(
                  {
                    id: _,
                    playlistLoader: y,
                  },
                  v
                )),
                sp[e](e, v.playlistLoader, t),
                p[m].push(v),
                "undefined" == typeof h[_])
              ) {
                var b = new Ft.AudioTrack({
                  id: _,
                  kind:
                    ((n = v),
                    (i = void 0),
                    (i = n["default"] ? "main" : "alternative"),
                    n.characteristics &&
                      0 <=
                        n.characteristics.indexOf(
                          "public.accessibility.describes-video"
                        ) &&
                      (i = "main-desc"),
                    i),
                  enabled: !1,
                  language: v.language,
                  default: v["default"],
                  label: _,
                });
                h[_] = b;
              }
            }
          }
          o.on("error", rp[e](e, t));
        },
        SUBTITLES: function (e, t) {
          var n = t.tech,
            i = t.hls,
            r = t.sourceType,
            s = t.segmentLoaders[e],
            o = t.requestOptions.withCredentials,
            a = t.master.mediaGroups,
            l = t.mediaTypes[e],
            c = l.groups,
            u = l.tracks,
            d = t.masterPlaylistLoader;
          for (var p in a[e])
            for (var h in (c[p] || (c[p] = []), a[e][p]))
              if (!a[e][p][h].forced) {
                var f = a[e][p][h],
                  m = void 0;
                if (
                  ("hls" === r
                    ? (m = new wu(f.resolvedUri, i, o))
                    : "dash" === r && (m = new Od(f.playlists[0], i, o, d)),
                  (f = Ft.mergeOptions(
                    {
                      id: h,
                      playlistLoader: m,
                    },
                    f
                  )),
                  sp[e](e, f.playlistLoader, t),
                  c[p].push(f),
                  "undefined" == typeof u[h])
                ) {
                  var g = n.addRemoteTextTrack(
                    {
                      id: h,
                      kind: "subtitles",
                      default: f["default"] && f.autoselect,
                      language: f.language,
                      label: h,
                    },
                    !1
                  ).track;
                  u[h] = g;
                }
              }
          s.on("error", rp[e](e, t));
        },
        "CLOSED-CAPTIONS": function (e, t) {
          var n = t.tech,
            i = t.master.mediaGroups,
            r = t.mediaTypes[e],
            s = r.groups,
            o = r.tracks;
          for (var a in i[e])
            for (var l in (s[a] || (s[a] = []), i[e][a])) {
              var c = i[e][a][l];
              if (
                c.instreamId.match(/CC\d/) &&
                (s[a].push(
                  Ft.mergeOptions(
                    {
                      id: l,
                    },
                    c
                  )
                ),
                "undefined" == typeof o[l])
              ) {
                var u = n.addRemoteTextTrack(
                  {
                    id: c.instreamId,
                    kind: "captions",
                    default: c["default"] && c.autoselect,
                    language: c.language,
                    label: l,
                  },
                  !1
                ).track;
                o[l] = u;
              }
            }
        },
      },
      cp = {
        AUDIO: function (e, t) {
          return function () {
            var n = t.mediaTypes[e].tracks;
            for (var i in n) if (n[i].enabled) return n[i];
            return null;
          };
        },
        SUBTITLES: function (e, t) {
          return function () {
            var n = t.mediaTypes[e].tracks;
            for (var i in n) if ("showing" === n[i].mode) return n[i];
            return null;
          };
        },
      },
      up = function (e) {
        ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (t) {
          lp[t](t, e);
        });
        var t = e.mediaTypes,
          n = e.masterPlaylistLoader,
          i = e.tech,
          r = e.hls;
        ["AUDIO", "SUBTITLES"].forEach(function (n) {
          var i, r, s, o, a, l;
          (t[n].activeGroup =
            ((i = n),
            (r = e),
            function (e) {
              var t = r.masterPlaylistLoader,
                n = r.mediaTypes[i].groups,
                s = t.media();
              if (!s) return null;
              var o = null;
              return (
                s.attributes[i] && (o = n[s.attributes[i]]),
                (o = o || n.main),
                "undefined" == typeof e
                  ? o
                  : null === e
                  ? null
                  : o.filter(function (t) {
                      return t.id === e.id;
                    })[0] || null
              );
            })),
            (t[n].activeTrack = cp[n](n, e)),
            (t[n].onGroupChanged =
              ((s = n),
              (o = e),
              function () {
                var e = o.segmentLoaders,
                  t = e[s],
                  n = e.main,
                  i = o.mediaTypes[s],
                  r = i.activeTrack(),
                  a = i.activeGroup(r),
                  l = i.activePlaylistLoader;
                np(t, i),
                  a &&
                    (a.playlistLoader
                      ? (t.resyncLoader(), ip(a.playlistLoader, i))
                      : l && n.resetEverything());
              })),
            (t[n].onTrackChanged =
              ((a = n),
              (l = e),
              function () {
                var e = l.segmentLoaders,
                  t = e[a],
                  n = e.main,
                  i = l.mediaTypes[a],
                  r = i.activeTrack(),
                  s = i.activeGroup(r),
                  o = i.activePlaylistLoader;
                np(t, i),
                  s &&
                    (s.playlistLoader
                      ? (o !== s.playlistLoader &&
                          (t.track && t.track(r), t.resetEverything()),
                        ip(s.playlistLoader, i))
                      : n.resetEverything());
              }));
        });
        var s = t.AUDIO.activeGroup(),
          o = (
            s.filter(function (e) {
              return e["default"];
            })[0] || s[0]
          ).id;
        (t.AUDIO.tracks[o].enabled = !0),
          t.AUDIO.onTrackChanged(),
          n.on("mediachange", function () {
            ["AUDIO", "SUBTITLES"].forEach(function (e) {
              return t[e].onGroupChanged();
            });
          });
        var a = function () {
          t.AUDIO.onTrackChanged(),
            i.trigger({
              type: "usage",
              name: "hls-audio-change",
            });
        };
        for (var l in (i.audioTracks().addEventListener("change", a),
        i
          .remoteTextTracks()
          .addEventListener("change", t.SUBTITLES.onTrackChanged),
        r.on("dispose", function () {
          i.audioTracks().removeEventListener("change", a),
            i
              .remoteTextTracks()
              .removeEventListener("change", t.SUBTITLES.onTrackChanged);
        }),
        i.clearTracks("audio"),
        t.AUDIO.tracks))
          i.audioTracks().addTrack(t.AUDIO.tracks[l]);
      },
      dp = void 0,
      pp = [
        "mediaRequests",
        "mediaRequestsAborted",
        "mediaRequestsTimedout",
        "mediaRequestsErrored",
        "mediaTransferDuration",
        "mediaBytesTransferred",
      ],
      hp = (function () {
        function t(e) {
          lu(this, t);
          var n,
            i = du(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)),
            r = e.url,
            s = e.withCredentials,
            o = e.tech,
            a = e.bandwidth,
            l = e.externHls,
            c = e.useCueTags,
            u = e.blacklistDuration,
            d = e.enableLowInitialPlaylist,
            p = e.sourceType,
            h = e.seekTo;
          if (!r) throw new Error("A non-empty playlist URL is required");
          (dp = l),
            (i.withCredentials = s),
            (i.tech_ = o),
            (i.hls_ = o.hls),
            (i.seekTo_ = h),
            (i.sourceType_ = p),
            (i.useCueTags_ = c),
            (i.blacklistDuration = u),
            (i.enableLowInitialPlaylist = d),
            i.useCueTags_ &&
              ((i.cueTagsTrack_ = i.tech_.addTextTrack("metadata", "ad-cues")),
              (i.cueTagsTrack_.inBandMetadataTrackDispatchType = "")),
            (i.requestOptions_ = {
              withCredentials: i.withCredentials,
              timeout: null,
            }),
            (i.mediaTypes_ =
              ((n = {}),
              ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (e) {
                n[e] = {
                  groups: {},
                  tracks: {},
                  activePlaylistLoader: null,
                  activeGroup: qt,
                  activeTrack: qt,
                  onGroupChanged: qt,
                  onTrackChanged: qt,
                };
              }),
              n)),
            (i.mediaSource = new Ft.MediaSource()),
            i.mediaSource.addEventListener(
              "sourceopen",
              i.handleSourceOpen_.bind(i)
            ),
            (i.seekable_ = Ft.createTimeRanges()),
            (i.hasPlayed_ = function () {
              return !1;
            }),
            (i.syncController_ = new ep(e)),
            (i.segmentMetadataTrack_ = o.addRemoteTextTrack(
              {
                kind: "metadata",
                label: "segment-metadata",
              },
              !1
            ).track),
            (i.decrypter_ = new tp()),
            (i.inbandTextTracks_ = {});
          var f = {
            hls: i.hls_,
            mediaSource: i.mediaSource,
            currentTime: i.tech_.currentTime.bind(i.tech_),
            seekable: function () {
              return i.seekable();
            },
            seeking: function () {
              return i.tech_.seeking();
            },
            duration: function () {
              return i.mediaSource.duration;
            },
            hasPlayed: function () {
              return i.hasPlayed_();
            },
            goalBufferLength: function () {
              return i.goalBufferLength();
            },
            bandwidth: a,
            syncController: i.syncController_,
            decrypter: i.decrypter_,
            sourceType: i.sourceType_,
            inbandTextTracks: i.inbandTextTracks_,
          };
          return (
            (i.masterPlaylistLoader_ =
              "dash" === i.sourceType_
                ? new Od(r, i.hls_, i.withCredentials)
                : new wu(r, i.hls_, i.withCredentials)),
            i.setupMasterPlaylistLoaderListeners_(),
            (i.mainSegmentLoader_ = new Kd(
              Ft.mergeOptions(f, {
                segmentMetadataTrack: i.segmentMetadataTrack_,
                loaderType: "main",
              }),
              e
            )),
            (i.audioSegmentLoader_ = new Kd(
              Ft.mergeOptions(f, {
                loaderType: "audio",
              }),
              e
            )),
            (i.subtitleSegmentLoader_ = new Xd(
              Ft.mergeOptions(f, {
                loaderType: "vtt",
              }),
              e
            )),
            i.setupSegmentLoaderListeners_(),
            pp.forEach(function (e) {
              i[e + "_"] = function (e) {
                return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e];
              }.bind(i, e);
            }),
            (i.logger_ = Ad("MPC")),
            i.masterPlaylistLoader_.load(),
            i
          );
        }
        return (
          uu(t, Ft.EventTarget),
          cu(t, [
            {
              key: "setupMasterPlaylistLoaderListeners_",
              value: function () {
                var e = this;
                this.masterPlaylistLoader_.on("loadedmetadata", function () {
                  var t = e.masterPlaylistLoader_.media(),
                    n = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                  (e.requestOptions_.timeout = Lu(
                    e.masterPlaylistLoader_.master,
                    e.masterPlaylistLoader_.media()
                  )
                    ? 0
                    : n),
                    t.endList &&
                      "none" !== e.tech_.preload() &&
                      (e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                      e.mainSegmentLoader_.load()),
                    up({
                      sourceType: e.sourceType_,
                      segmentLoaders: {
                        AUDIO: e.audioSegmentLoader_,
                        SUBTITLES: e.subtitleSegmentLoader_,
                        main: e.mainSegmentLoader_,
                      },
                      tech: e.tech_,
                      requestOptions: e.requestOptions_,
                      masterPlaylistLoader: e.masterPlaylistLoader_,
                      hls: e.hls_,
                      master: e.master(),
                      mediaTypes: e.mediaTypes_,
                      blacklistCurrentPlaylist:
                        e.blacklistCurrentPlaylist.bind(e),
                    }),
                    e.triggerPresenceUsage_(e.master(), t);
                  try {
                    e.setupSourceBuffers_();
                  } catch (t) {
                    return (
                      Ft.log.warn("Failed to create SourceBuffers", t),
                      e.mediaSource.endOfStream("decode")
                    );
                  }
                  e.setupFirstPlay(), e.trigger("selectedinitialmedia");
                }),
                  this.masterPlaylistLoader_.on("loadedplaylist", function () {
                    var t = e.masterPlaylistLoader_.media();
                    if (!t) {
                      e.excludeUnsupportedVariants_();
                      var n = void 0;
                      return (
                        e.enableLowInitialPlaylist &&
                          (n = e.selectInitialPlaylist()),
                        n || (n = e.selectPlaylist()),
                        (e.initialMedia_ = n),
                        void e.masterPlaylistLoader_.media(e.initialMedia_)
                      );
                    }
                    if (
                      (e.useCueTags_ && e.updateAdCues_(t),
                      e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                      e.updateDuration(),
                      e.tech_.paused() ||
                        (e.mainSegmentLoader_.load(),
                        e.audioSegmentLoader_ && e.audioSegmentLoader_.load()),
                      !t.endList)
                    ) {
                      var i = function () {
                        var t = e.seekable();
                        0 !== t.length &&
                          e.mediaSource.addSeekableRange_(t.start(0), t.end(0));
                      };
                      e.duration() !== 1 / 0
                        ? e.tech_.one("durationchange", function r() {
                            e.duration() === 1 / 0
                              ? i()
                              : e.tech_.one("durationchange", r);
                          })
                        : i();
                    }
                  }),
                  this.masterPlaylistLoader_.on("error", function () {
                    e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error);
                  }),
                  this.masterPlaylistLoader_.on("mediachanging", function () {
                    e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause();
                  }),
                  this.masterPlaylistLoader_.on("mediachange", function () {
                    var t = e.masterPlaylistLoader_.media(),
                      n = 1.5 * e.masterPlaylistLoader_.targetDuration * 1e3;
                    (e.requestOptions_.timeout = Lu(
                      e.masterPlaylistLoader_.master,
                      e.masterPlaylistLoader_.media()
                    )
                      ? 0
                      : n),
                      e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                      e.mainSegmentLoader_.load(),
                      e.tech_.trigger({
                        type: "mediachange",
                        bubbles: !0,
                      });
                  }),
                  this.masterPlaylistLoader_.on(
                    "playlistunchanged",
                    function () {
                      var t = e.masterPlaylistLoader_.media();
                      e.stuckAtPlaylistEnd_(t) &&
                        (e.blacklistCurrentPlaylist({
                          message: "Playlist no longer updating.",
                        }),
                        e.tech_.trigger("playliststuck"));
                    }
                  ),
                  this.masterPlaylistLoader_.on(
                    "renditiondisabled",
                    function () {
                      e.tech_.trigger({
                        type: "usage",
                        name: "hls-rendition-disabled",
                      });
                    }
                  ),
                  this.masterPlaylistLoader_.on(
                    "renditionenabled",
                    function () {
                      e.tech_.trigger({
                        type: "usage",
                        name: "hls-rendition-enabled",
                      });
                    }
                  );
              },
            },
            {
              key: "triggerPresenceUsage_",
              value: function (e, t) {
                var n = e.mediaGroups || {},
                  i = !0,
                  r = Object.keys(n.AUDIO);
                for (var s in n.AUDIO)
                  for (var o in n.AUDIO[s]) n.AUDIO[s][o].uri || (i = !1);
                i &&
                  this.tech_.trigger({
                    type: "usage",
                    name: "hls-demuxed",
                  }),
                  Object.keys(n.SUBTITLES).length &&
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-webvtt",
                    }),
                  dp.Playlist.isAes(t) &&
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-aes",
                    }),
                  dp.Playlist.isFmp4(t) &&
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-fmp4",
                    }),
                  r.length &&
                    1 < Object.keys(n.AUDIO[r[0]]).length &&
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-alternate-audio",
                    }),
                  this.useCueTags_ &&
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-playlist-cue-tags",
                    });
              },
            },
            {
              key: "setupSegmentLoaderListeners_",
              value: function () {
                var e = this;
                this.mainSegmentLoader_.on("bandwidthupdate", function () {
                  var t = e.selectPlaylist(),
                    n = e.masterPlaylistLoader_.media(),
                    i = e.tech_.buffered(),
                    r = i.length
                      ? i.end(i.length - 1) - e.tech_.currentTime()
                      : 0,
                    s = e.bufferLowWaterLine();
                  (!n.endList ||
                    e.duration() < Dd.MAX_BUFFER_LOW_WATER_LINE ||
                    t.attributes.BANDWIDTH < n.attributes.BANDWIDTH ||
                    r >= s) &&
                    e.masterPlaylistLoader_.media(t),
                    e.tech_.trigger("bandwidthupdate");
                }),
                  this.mainSegmentLoader_.on("progress", function () {
                    e.trigger("progress");
                  }),
                  this.mainSegmentLoader_.on("error", function () {
                    e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error());
                  }),
                  this.mainSegmentLoader_.on("syncinfoupdate", function () {
                    e.onSyncInfoUpdate_();
                  }),
                  this.mainSegmentLoader_.on("timestampoffset", function () {
                    e.tech_.trigger({
                      type: "usage",
                      name: "hls-timestamp-offset",
                    });
                  }),
                  this.audioSegmentLoader_.on("syncinfoupdate", function () {
                    e.onSyncInfoUpdate_();
                  }),
                  this.mainSegmentLoader_.on("ended", function () {
                    e.onEndOfStream();
                  }),
                  this.mainSegmentLoader_.on("earlyabort", function () {
                    e.blacklistCurrentPlaylist(
                      {
                        message:
                          "Aborted early because there isn't enough bandwidth to complete the request without rebuffering.",
                      },
                      120
                    );
                  }),
                  this.mainSegmentLoader_.on("reseteverything", function () {
                    e.tech_.trigger("hls-reset");
                  }),
                  this.mainSegmentLoader_.on(
                    "segmenttimemapping",
                    function (t) {
                      e.tech_.trigger({
                        type: "hls-segment-time-mapping",
                        mapping: t.mapping,
                      });
                    }
                  ),
                  this.audioSegmentLoader_.on("ended", function () {
                    e.onEndOfStream();
                  });
              },
            },
            {
              key: "mediaSecondsLoaded_",
              value: function () {
                return Math.max(
                  this.audioSegmentLoader_.mediaSecondsLoaded +
                    this.mainSegmentLoader_.mediaSecondsLoaded
                );
              },
            },
            {
              key: "load",
              value: function () {
                this.mainSegmentLoader_.load(),
                  this.mediaTypes_.AUDIO.activePlaylistLoader &&
                    this.audioSegmentLoader_.load(),
                  this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                    this.subtitleSegmentLoader_.load();
              },
            },
            {
              key: "smoothQualityChange_",
              value: function () {
                var e = this.selectPlaylist();
                e !== this.masterPlaylistLoader_.media() &&
                  (this.masterPlaylistLoader_.media(e),
                  this.mainSegmentLoader_.resetLoader());
              },
            },
            {
              key: "fastQualityChange_",
              value: function () {
                var e = this,
                  t = this.selectPlaylist();
                t !== this.masterPlaylistLoader_.media() &&
                  (this.masterPlaylistLoader_.media(t),
                  this.mainSegmentLoader_.resetEverything(function () {
                    e.tech_.setCurrentTime(
                      Ft.browser.IE_VERSION || Ft.browser.IS_EDGE
                        ? e.tech_.currentTime() + 0.04
                        : e.tech_.currentTime()
                    );
                  }));
              },
            },
            {
              key: "play",
              value: function () {
                if (!this.setupFirstPlay()) {
                  this.tech_.ended() && this.seekTo_(0),
                    this.hasPlayed_() && this.load();
                  var e = this.tech_.seekable();
                  return this.tech_.duration() === 1 / 0 &&
                    this.tech_.currentTime() < e.start(0)
                    ? this.seekTo_(e.end(e.length - 1))
                    : void 0;
                }
              },
            },
            {
              key: "setupFirstPlay",
              value: function () {
                var e = this,
                  t = this.masterPlaylistLoader_.media();
                if (!t || this.tech_.paused() || this.hasPlayed_()) return !1;
                if (!t.endList) {
                  var n = this.seekable();
                  if (!n.length) return !1;
                  if (Ft.browser.IE_VERSION && 0 === this.tech_.readyState())
                    return (
                      this.tech_.one("loadedmetadata", function () {
                        e.trigger("firstplay"),
                          e.seekTo_(n.end(0)),
                          (e.hasPlayed_ = function () {
                            return !0;
                          });
                      }),
                      !1
                    );
                  this.trigger("firstplay"), this.seekTo_(n.end(0));
                }
                return (
                  (this.hasPlayed_ = function () {
                    return !0;
                  }),
                  this.load(),
                  !0
                );
              },
            },
            {
              key: "handleSourceOpen_",
              value: function () {
                try {
                  this.setupSourceBuffers_();
                } catch (e) {
                  return (
                    Ft.log.warn("Failed to create Source Buffers", e),
                    this.mediaSource.endOfStream("decode")
                  );
                }
                if (this.tech_.autoplay()) {
                  var e = this.tech_.play();
                  "undefined" != typeof e &&
                    "function" == typeof e.then &&
                    e.then(null, function () {});
                }
                this.trigger("sourceopen");
              },
            },
            {
              key: "onEndOfStream",
              value: function () {
                var e = this.mainSegmentLoader_.ended_;
                this.mediaTypes_.AUDIO.activePlaylistLoader &&
                  (e =
                    !this.mainSegmentLoader_.startingMedia_ ||
                    this.mainSegmentLoader_.startingMedia_.containsVideo
                      ? e && this.audioSegmentLoader_.ended_
                      : this.audioSegmentLoader_.ended_),
                  e && this.mediaSource.endOfStream();
              },
            },
            {
              key: "stuckAtPlaylistEnd_",
              value: function (e) {
                if (!this.seekable().length) return !1;
                var t = this.syncController_.getExpiredTime(
                  e,
                  this.mediaSource.duration
                );
                if (null === t) return !1;
                var n = dp.Playlist.playlistEnd(e, t),
                  i = this.tech_.currentTime(),
                  r = this.tech_.buffered();
                if (!r.length) return 0.1 >= n - i;
                var s = r.end(r.length - 1);
                return 0.1 >= s - i && 0.1 >= n - s;
              },
            },
            {
              key: "blacklistCurrentPlaylist",
              value: function () {
                var e,
                  t =
                    0 < arguments.length && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  n = arguments[1],
                  i = void 0;
                if (
                  ((i = t.playlist || this.masterPlaylistLoader_.media()),
                  (n = n || t.blacklistDuration || this.blacklistDuration),
                  !i)
                ) {
                  this.error = t;
                  try {
                    return this.mediaSource.endOfStream("network");
                  } catch (e) {
                    return this.trigger("error");
                  }
                }
                var r =
                  1 ===
                  this.masterPlaylistLoader_.master.playlists.filter(Ru).length;
                return r
                  ? (Ft.log.warn(
                      "Problem encountered with the current HLS playlist. Trying again since it is the final playlist."
                    ),
                    this.tech_.trigger("retryplaylist"),
                    this.masterPlaylistLoader_.load(r))
                  : ((i.excludeUntil = Date.now() + 1e3 * n),
                    this.tech_.trigger("blacklistplaylist"),
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-rendition-blacklisted",
                    }),
                    (e = this.selectPlaylist()),
                    Ft.log.warn(
                      "Problem encountered with the current HLS playlist." +
                        (t.message ? " " + t.message : "") +
                        " Switching to another playlist."
                    ),
                    this.masterPlaylistLoader_.media(e));
              },
            },
            {
              key: "pauseLoading",
              value: function () {
                this.mainSegmentLoader_.pause(),
                  this.mediaTypes_.AUDIO.activePlaylistLoader &&
                    this.audioSegmentLoader_.pause(),
                  this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                    this.subtitleSegmentLoader_.pause();
              },
            },
            {
              key: "setCurrentTime",
              value: function (e) {
                var t = Yu(this.tech_.buffered(), e);
                return this.masterPlaylistLoader_ &&
                  this.masterPlaylistLoader_.media() &&
                  this.masterPlaylistLoader_.media().segments
                  ? t && t.length
                    ? e
                    : (this.mainSegmentLoader_.resetEverything(),
                      this.mainSegmentLoader_.abort(),
                      this.mediaTypes_.AUDIO.activePlaylistLoader &&
                        (this.audioSegmentLoader_.resetEverything(),
                        this.audioSegmentLoader_.abort()),
                      this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                        (this.subtitleSegmentLoader_.resetEverything(),
                        this.subtitleSegmentLoader_.abort()),
                      void this.load())
                  : 0;
              },
            },
            {
              key: "duration",
              value: function () {
                return this.masterPlaylistLoader_
                  ? this.mediaSource
                    ? this.mediaSource.duration
                    : dp.Playlist.duration(this.masterPlaylistLoader_.media())
                  : 0;
              },
            },
            {
              key: "seekable",
              value: function () {
                return this.seekable_;
              },
            },
            {
              key: "onSyncInfoUpdate_",
              value: function () {
                var e = void 0,
                  t = void 0;
                if (this.masterPlaylistLoader_) {
                  var n = this.masterPlaylistLoader_.media();
                  if (n) {
                    var i = this.syncController_.getExpiredTime(
                      n,
                      this.mediaSource.duration
                    );
                    if (
                      null !== i &&
                      0 !== (e = dp.Playlist.seekable(n, i)).length
                    ) {
                      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                        if (
                          ((n =
                            this.mediaTypes_.AUDIO.activePlaylistLoader.media()),
                          null ===
                            (i = this.syncController_.getExpiredTime(
                              n,
                              this.mediaSource.duration
                            )))
                        )
                          return;
                        if (0 === (t = dp.Playlist.seekable(n, i)).length)
                          return;
                      }
                      (this.seekable_ = t
                        ? t.start(0) > e.end(0) || e.start(0) > t.end(0)
                          ? e
                          : Ft.createTimeRanges([
                              [
                                t.start(0) > e.start(0)
                                  ? t.start(0)
                                  : e.start(0),
                                t.end(0) < e.end(0) ? t.end(0) : e.end(0),
                              ],
                            ])
                        : e),
                        this.logger_(
                          "seekable updated [" + Qu(this.seekable_) + "]"
                        ),
                        this.tech_.trigger("seekablechanged");
                    }
                  }
                }
              },
            },
            {
              key: "updateDuration",
              value: function () {
                var e = this,
                  t = this.mediaSource.duration,
                  n = dp.Playlist.duration(this.masterPlaylistLoader_.media()),
                  i = this.tech_.buffered(),
                  r = function s() {
                    (e.mediaSource.duration = n),
                      e.tech_.trigger("durationchange"),
                      e.mediaSource.removeEventListener("sourceopen", s);
                  };
                0 < i.length && (n = Math.max(n, i.end(i.length - 1))),
                  t !== n &&
                    ("open" !== this.mediaSource.readyState
                      ? this.mediaSource.addEventListener("sourceopen", r)
                      : r());
              },
            },
            {
              key: "dispose",
              value: function () {
                var e = this;
                this.decrypter_.terminate(),
                  this.masterPlaylistLoader_.dispose(),
                  this.mainSegmentLoader_.dispose(),
                  ["AUDIO", "SUBTITLES"].forEach(function (t) {
                    var n = e.mediaTypes_[t].groups;
                    for (var i in n)
                      n[i].forEach(function (e) {
                        e.playlistLoader && e.playlistLoader.dispose();
                      });
                  }),
                  this.audioSegmentLoader_.dispose(),
                  this.subtitleSegmentLoader_.dispose();
              },
            },
            {
              key: "master",
              value: function () {
                return this.masterPlaylistLoader_.master;
              },
            },
            {
              key: "media",
              value: function () {
                return this.masterPlaylistLoader_.media() || this.initialMedia_;
              },
            },
            {
              key: "setupSourceBuffers_",
              value: function () {
                var e,
                  t = this.masterPlaylistLoader_.media();
                if (t && "open" === this.mediaSource.readyState) {
                  if ((e = gd(this.masterPlaylistLoader_.master, t)).length < 1)
                    return (
                      (this.error =
                        "No compatible SourceBuffer configuration for the variant stream:" +
                        t.resolvedUri),
                      this.mediaSource.endOfStream("decode")
                    );
                  this.configureLoaderMimeTypes_(e),
                    this.excludeIncompatibleVariants_(t);
                }
              },
            },
            {
              key: "configureLoaderMimeTypes_",
              value: function (e) {
                var t =
                  1 < e.length && -1 === e[0].indexOf(",") && e[0] !== e[1]
                    ? new Ft.EventTarget()
                    : null;
                this.mainSegmentLoader_.mimeType(e[0], t),
                  e[1] && this.audioSegmentLoader_.mimeType(e[1], t);
              },
            },
            {
              key: "excludeUnsupportedVariants_",
              value: function () {
                this.master().playlists.forEach(function (t) {
                  t.attributes.CODECS &&
                    e.MediaSource &&
                    e.MediaSource.isTypeSupported &&
                    !e.MediaSource.isTypeSupported(
                      'video/mp4; codecs="' +
                        t.attributes.CODECS.replace(
                          /avc1\.(\d+)\.(\d+)/i,
                          function (e) {
                            return hd([e])[0];
                          }
                        ) +
                        '"'
                    ) &&
                    (t.excludeUntil = 1 / 0);
                });
              },
            },
            {
              key: "excludeIncompatibleVariants_",
              value: function (e) {
                var t = 2,
                  n = null,
                  i = void 0;
                e.attributes.CODECS &&
                  ((i = fd(e.attributes.CODECS)),
                  (n = i.videoCodec),
                  (t = i.codecCount)),
                  this.master().playlists.forEach(function (e) {
                    var i = {
                      codecCount: 2,
                      videoCodec: null,
                    };
                    e.attributes.CODECS && (i = fd(e.attributes.CODECS)),
                      i.codecCount !== t && (e.excludeUntil = 1 / 0),
                      i.videoCodec !== n && (e.excludeUntil = 1 / 0);
                  });
              },
            },
            {
              key: "updateAdCues_",
              value: function (t) {
                var n = 0,
                  i = this.seekable();
                i.length && (n = i.start(0)),
                  (function (t, n) {
                    var i =
                      2 < arguments.length && void 0 !== arguments[2]
                        ? arguments[2]
                        : 0;
                    if (t.segments)
                      for (
                        var r = i, s = void 0, o = 0;
                        o < t.segments.length;
                        o++
                      ) {
                        var a = t.segments[o];
                        if ((s || (s = Qd(n, r + a.duration / 2)), s)) {
                          if ("cueIn" in a) {
                            (s.endTime = r),
                              (s.adEndTime = r),
                              (r += a.duration),
                              (s = null);
                            continue;
                          }
                          if (r < s.endTime) {
                            r += a.duration;
                            continue;
                          }
                          s.endTime += a.duration;
                        } else if (
                          ("cueOut" in a &&
                            (((s = new e.VTTCue(
                              r,
                              r + a.duration,
                              a.cueOut
                            )).adStartTime = r),
                            (s.adEndTime = r + parseFloat(a.cueOut)),
                            n.addCue(s)),
                          "cueOutCont" in a)
                        ) {
                          var l,
                            c,
                            u = a.cueOutCont.split("/").map(parseFloat),
                            d = pu(u, 2);
                          (l = d[0]),
                            (c = d[1]),
                            ((s = new e.VTTCue(
                              r,
                              r + a.duration,
                              ""
                            )).adStartTime = r - l),
                            (s.adEndTime = s.adStartTime + c),
                            n.addCue(s);
                        }
                        r += a.duration;
                      }
                  })(t, this.cueTagsTrack_, n);
              },
            },
            {
              key: "goalBufferLength",
              value: function () {
                var e = this.tech_.currentTime(),
                  t = Dd.GOAL_BUFFER_LENGTH,
                  n = Dd.GOAL_BUFFER_LENGTH_RATE,
                  i = Math.max(t, Dd.MAX_GOAL_BUFFER_LENGTH);
                return Math.min(t + e * n, i);
              },
            },
            {
              key: "bufferLowWaterLine",
              value: function () {
                var e = this.tech_.currentTime(),
                  t = Dd.BUFFER_LOW_WATER_LINE,
                  n = Dd.BUFFER_LOW_WATER_LINE_RATE,
                  i = Math.max(t, Dd.MAX_BUFFER_LOW_WATER_LINE);
                return Math.min(t + e * n, i);
              },
            },
          ]),
          t
        );
      })(),
      fp = function Ip(e, t, n) {
        lu(this, Ip);
        var i,
          r,
          s,
          o = e.masterPlaylistController_,
          a =
            o[
              (e.options_.smoothQualityChange ? "smooth" : "fast") +
                "QualityChange_"
            ].bind(o);
        if (t.attributes.RESOLUTION) {
          var l = t.attributes.RESOLUTION;
          (this.width = l.width), (this.height = l.height);
        }
        (this.bandwidth = t.attributes.BANDWIDTH),
          (this.id = n),
          (this.enabled =
            ((i = e.playlists),
            (r = t.uri),
            (s = a),
            function (e) {
              var t = i.master.playlists[r],
                n = Mu(t),
                o = Ru(t);
              return "undefined" == typeof e
                ? o
                : (e ? delete t.disabled : (t.disabled = !0),
                  e === o ||
                    n ||
                    (s(),
                    i.trigger(e ? "renditionenabled" : "renditiondisabled")),
                  e);
            }));
      },
      mp = ["seeking", "seeked", "pause", "playing", "error"],
      gp = (function () {
        function t(n) {
          var i = this;
          lu(this, t),
            (this.tech_ = n.tech),
            (this.seekable = n.seekable),
            (this.seekTo = n.seekTo),
            (this.consecutiveUpdates = 0),
            (this.lastRecordedTime = null),
            (this.timer_ = null),
            (this.checkCurrentTimeTimeout_ = null),
            (this.logger_ = Ad("PlaybackWatcher")),
            this.logger_("initialize");
          var r = function () {
              return i.monitorCurrentTime_();
            },
            s = function () {
              return i.techWaiting_();
            },
            o = function () {
              return i.cancelTimer_();
            },
            a = function () {
              return i.fixesBadSeeks_();
            };
          this.tech_.on("seekablechanged", a),
            this.tech_.on("waiting", s),
            this.tech_.on(mp, o),
            this.tech_.on("canplay", r),
            (this.dispose = function () {
              i.logger_("dispose"),
                i.tech_.off("seekablechanged", a),
                i.tech_.off("waiting", s),
                i.tech_.off(mp, o),
                i.tech_.off("canplay", r),
                i.checkCurrentTimeTimeout_ &&
                  e.clearTimeout(i.checkCurrentTimeTimeout_),
                i.cancelTimer_();
            });
        }
        return (
          cu(t, [
            {
              key: "monitorCurrentTime_",
              value: function () {
                this.checkCurrentTime_(),
                  this.checkCurrentTimeTimeout_ &&
                    e.clearTimeout(this.checkCurrentTimeTimeout_),
                  (this.checkCurrentTimeTimeout_ = e.setTimeout(
                    this.monitorCurrentTime_.bind(this),
                    250
                  ));
              },
            },
            {
              key: "checkCurrentTime_",
              value: function () {
                if (this.tech_.seeking() && this.fixesBadSeeks_())
                  return (
                    (this.consecutiveUpdates = 0),
                    void (this.lastRecordedTime = this.tech_.currentTime())
                  );
                if (!this.tech_.paused() && !this.tech_.seeking()) {
                  var e = this.tech_.currentTime(),
                    t = this.tech_.buffered();
                  if (
                    this.lastRecordedTime === e &&
                    (!t.length || e + 0.1 >= t.end(t.length - 1))
                  )
                    return this.techWaiting_();
                  5 <= this.consecutiveUpdates && e === this.lastRecordedTime
                    ? (this.consecutiveUpdates++, this.waiting_())
                    : e === this.lastRecordedTime
                    ? this.consecutiveUpdates++
                    : ((this.consecutiveUpdates = 0),
                      (this.lastRecordedTime = e));
                }
              },
            },
            {
              key: "cancelTimer_",
              value: function () {
                (this.consecutiveUpdates = 0),
                  this.timer_ &&
                    (this.logger_("cancelTimer_"), clearTimeout(this.timer_)),
                  (this.timer_ = null);
              },
            },
            {
              key: "fixesBadSeeks_",
              value: function () {
                var e = this.tech_.seeking(),
                  t = this.seekable(),
                  n = this.tech_.currentTime(),
                  i = void 0;
                return (
                  e &&
                    this.afterSeekableWindow_(t, n) &&
                    (i = t.end(t.length - 1)),
                  e &&
                    this.beforeSeekableWindow_(t, n) &&
                    (i = t.start(0) + 0.1),
                  "undefined" != typeof i &&
                    (this.logger_(
                      "Trying to seek outside of seekable at time " +
                        n +
                        " with seekable range " +
                        Qu(t) +
                        ". Seeking to " +
                        i +
                        "."
                    ),
                    this.seekTo(i),
                    !0)
                );
              },
            },
            {
              key: "waiting_",
              value: function () {
                if (!this.techWaiting_()) {
                  var e = this.tech_.currentTime(),
                    t = this.tech_.buffered(),
                    n = Yu(t, e);
                  return n.length && e + 3 <= n.end(0)
                    ? (this.cancelTimer_(),
                      this.seekTo(e),
                      this.logger_(
                        "Stopped at " +
                          e +
                          " while inside a buffered region [" +
                          n.start(0) +
                          " -> " +
                          n.end(0) +
                          "]. Attempting to resume playback by seeking to the current time."
                      ),
                      void this.tech_.trigger({
                        type: "usage",
                        name: "hls-unknown-waiting",
                      }))
                    : void 0;
                }
              },
            },
            {
              key: "techWaiting_",
              value: function () {
                var e = this.seekable(),
                  t = this.tech_.currentTime();
                if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                if (this.tech_.seeking() || null !== this.timer_) return !0;
                if (this.beforeSeekableWindow_(e, t)) {
                  var n = e.end(e.length - 1);
                  return (
                    this.logger_(
                      "Fell out of live window at time " +
                        t +
                        ". Seeking to live point (seekable end) " +
                        n
                    ),
                    this.cancelTimer_(),
                    this.seekTo(n),
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-live-resync",
                    }),
                    !0
                  );
                }
                var i = this.tech_.buffered(),
                  r = Xu(i, t);
                if (this.videoUnderflow_(r, i, t))
                  return (
                    this.cancelTimer_(),
                    this.seekTo(t),
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-video-underflow",
                    }),
                    !0
                  );
                if (0 < r.length) {
                  var s = r.start(0) - t;
                  return (
                    this.logger_(
                      "Stopped at " +
                        t +
                        ", setting timer for " +
                        s +
                        ", seeking to " +
                        r.start(0)
                    ),
                    (this.timer_ = setTimeout(
                      this.skipTheGap_.bind(this),
                      1e3 * s,
                      t
                    )),
                    !0
                  );
                }
                return !1;
              },
            },
            {
              key: "afterSeekableWindow_",
              value: function (e, t) {
                return !!e.length && t > e.end(e.length - 1) + 0.1;
              },
            },
            {
              key: "beforeSeekableWindow_",
              value: function (e, t) {
                return !!(e.length && 0 < e.start(0) && t < e.start(0) - 0.1);
              },
            },
            {
              key: "videoUnderflow_",
              value: function (e, t, n) {
                if (0 === e.length) {
                  var i = this.gapFromVideoUnderflow_(t, n);
                  if (i)
                    return (
                      this.logger_(
                        "Encountered a gap in video from " +
                          i.start +
                          " to " +
                          i.end +
                          ". Seeking to current time " +
                          n
                      ),
                      !0
                    );
                }
                return !1;
              },
            },
            {
              key: "skipTheGap_",
              value: function (e) {
                var t = this.tech_.buffered(),
                  n = this.tech_.currentTime(),
                  i = Xu(t, n);
                this.cancelTimer_(),
                  0 !== i.length &&
                    n === e &&
                    (this.logger_(
                      "skipTheGap_:",
                      "currentTime:",
                      n,
                      "scheduled currentTime:",
                      e,
                      "nextRange start:",
                      i.start(0)
                    ),
                    this.seekTo(i.start(0) + Ku),
                    this.tech_.trigger({
                      type: "usage",
                      name: "hls-gap-skip",
                    }));
              },
            },
            {
              key: "gapFromVideoUnderflow_",
              value: function (e, t) {
                for (
                  var n = (function (e) {
                      if (e.length < 2) return Ft.createTimeRanges();
                      for (var t = [], n = 1; n < e.length; n++) {
                        var i = e.end(n - 1),
                          r = e.start(n);
                        t.push([i, r]);
                      }
                      return Ft.createTimeRanges(t);
                    })(e),
                    i = 0;
                  i < n.length;
                  i++
                ) {
                  var r = n.start(i),
                    s = n.end(i);
                  if (4 > t - r && t - r > 2)
                    return {
                      start: r,
                      end: s,
                    };
                }
                return null;
              },
            },
          ]),
          t
        );
      })(),
      _p = {
        errorInterval: 30,
        getSource: function (e) {
          return e(
            this.tech({
              IWillNotUseThisInPlugins: !0,
            }).currentSource_
          );
        },
      },
      vp = function (e) {
        !(function t(e, n) {
          var i = 0,
            r = 0,
            s = Ft.mergeOptions(_p, n);
          e.ready(function () {
            e.trigger({
              type: "usage",
              name: "hls-error-reload-initialized",
            });
          });
          var o = function () {
              r && e.currentTime(r);
            },
            a = function (t) {
              null != t &&
                ((r = (e.duration() !== 1 / 0 && e.currentTime()) || 0),
                e.one("loadedmetadata", o),
                e.src(t),
                e.trigger({
                  type: "usage",
                  name: "hls-error-reload",
                }),
                e.play());
            },
            l = function () {
              if (Date.now() - i < 1e3 * s.errorInterval)
                e.trigger({
                  type: "usage",
                  name: "hls-error-reload-canceled",
                });
              else {
                if (s.getSource && "function" == typeof s.getSource)
                  return (i = Date.now()), s.getSource.call(e, a);
                Ft.log.error(
                  "ERROR: reloadSourceOnError - The option getSource must be a function!"
                );
              }
            },
            c = function u() {
              e.off("loadedmetadata", o),
                e.off("error", l),
                e.off("dispose", u);
            };
          e.on("error", l),
            e.on("dispose", c),
            (e.reloadSourceOnError = function (n) {
              c(), t(e, n);
            });
        })(this, e);
      };
    Ft.use("*", function (e) {
      return {
        setSource: function (e, t) {
          t(null, e);
        },
        setCurrentTime: function (t) {
          return (
            e.vhs &&
              e.currentSource().src === e.vhs.source_.src &&
              e.vhs.setCurrentTime(t),
            t
          );
        },
        play: function () {
          e.vhs &&
            e.currentSource().src === e.vhs.source_.src &&
            e.vhs.setCurrentTime(e.currentTime());
        },
      };
    });
    var yp = {
      PlaylistLoader: wu,
      Playlist: Nu,
      Decrypter: ou,
      AsyncStream: iu,
      decrypt: su,
      utils: Vu,
      STANDARD_PLAYLIST_SELECTOR: function () {
        return (function (t, n, i, r, s) {
          var o = t.playlists.map(function (t) {
            var n, i;
            return (
              (n = t.attributes.RESOLUTION && t.attributes.RESOLUTION.width),
              (i = t.attributes.RESOLUTION && t.attributes.RESOLUTION.height),
              {
                bandwidth: t.attributes.BANDWIDTH || e.Number.MAX_VALUE,
                width: n,
                height: i,
                playlist: t,
              }
            );
          });
          Wd(o, function (e, t) {
            return e.bandwidth - t.bandwidth;
          });
          var a = (o = o.filter(function (e) {
            return !Nu.isIncompatible(e.playlist);
          })).filter(function (e) {
            return Nu.isEnabled(e.playlist);
          });
          a.length ||
            (a = o.filter(function (e) {
              return !Nu.isDisabled(e.playlist);
            }));
          var l = a.filter(function (e) {
              return e.bandwidth * Dd.BANDWIDTH_VARIANCE < n;
            }),
            c = l[l.length - 1],
            u = l.filter(function (e) {
              return e.bandwidth === c.bandwidth;
            })[0];
          if (!1 === s) {
            var d = u || a[0] || o[0];
            return d ? d.playlist : null;
          }
          var p = l.filter(function (e) {
            return e.width && e.height;
          });
          Wd(p, function (e, t) {
            return e.width - t.width;
          });
          var h = p.filter(function (e) {
            return e.width === i && e.height === r;
          });
          c = h[h.length - 1];
          var f = h.filter(function (e) {
              return e.bandwidth === c.bandwidth;
            })[0],
            m = void 0,
            g = void 0,
            _ = void 0;
          f ||
            ((g = (m = p.filter(function (e) {
              return e.width > i || e.height > r;
            })).filter(function (e) {
              return e.width === m[0].width && e.height === m[0].height;
            })),
            (c = g[g.length - 1]),
            (_ = g.filter(function (e) {
              return e.bandwidth === c.bandwidth;
            })[0]));
          var v = _ || f || u || a[0] || o[0];
          return v ? v.playlist : null;
        })(
          this.playlists.master,
          this.systemBandwidth,
          parseInt(Hd(this.tech_.el(), "width"), 10),
          parseInt(Hd(this.tech_.el(), "height"), 10),
          this.limitRenditionByPlayerDimensions
        );
      },
      INITIAL_PLAYLIST_SELECTOR: function () {
        var e = this.playlists.master.playlists.filter(Nu.isEnabled);
        return (
          Wd(e, function (e, t) {
            return qd(e, t);
          }),
          e.filter(function (e) {
            return fd(e.attributes.CODECS).videoCodec;
          })[0] || null
        );
      },
      comparePlaylistBandwidth: qd,
      comparePlaylistResolution: function (t, n) {
        var i = void 0,
          r = void 0;
        return (
          t.attributes.RESOLUTION &&
            t.attributes.RESOLUTION.width &&
            (i = t.attributes.RESOLUTION.width),
          (i = i || e.Number.MAX_VALUE),
          n.attributes.RESOLUTION &&
            n.attributes.RESOLUTION.width &&
            (r = n.attributes.RESOLUTION.width),
          i === (r = r || e.Number.MAX_VALUE) &&
          t.attributes.BANDWIDTH &&
          n.attributes.BANDWIDTH
            ? t.attributes.BANDWIDTH - n.attributes.BANDWIDTH
            : i - r
        );
      },
      xhr: $u(),
    };
    [
      "GOAL_BUFFER_LENGTH",
      "MAX_GOAL_BUFFER_LENGTH",
      "GOAL_BUFFER_LENGTH_RATE",
      "BUFFER_LOW_WATER_LINE",
      "MAX_BUFFER_LOW_WATER_LINE",
      "BUFFER_LOW_WATER_LINE_RATE",
      "BANDWIDTH_VARIANCE",
    ].forEach(function (e) {
      Object.defineProperty(yp, e, {
        get: function () {
          return (
            Ft.log.warn(
              "using Hls." +
                e +
                " is UNSAFE be sure you know what you are doing"
            ),
            Dd[e]
          );
        },
        set: function (t) {
          Ft.log.warn(
            "using Hls." + e + " is UNSAFE be sure you know what you are doing"
          ),
            "number" != typeof t || 0 > t
              ? Ft.log.warn(
                  "value of Hls." + e + " must be greater than or equal to 0"
                )
              : (Dd[e] = t);
        },
      });
    });
    var bp = function (e) {
        return /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)
          ? "hls"
          : /^application\/dash\+xml/i.test(e)
          ? "dash"
          : null;
      },
      wp = function (e, t) {
        for (var n = t.media(), i = -1, r = 0; r < e.length; r++)
          if (e[r].id === n.uri) {
            i = r;
            break;
          }
        (e.selectedIndex_ = i),
          e.trigger({
            selectedIndex: i,
            type: "change",
          });
      };
    yp.canPlaySource = function () {
      return Ft.log.warn(
        "HLS is no longer a tech. Please remove it from your player's techOrder."
      );
    };
    var Cp = function (e) {
      if ("dash" === e.options_.sourceType) {
        var t = Ft.players[e.tech_.options_.playerId];
        if (t.eme) {
          var n = (function (e, t, n) {
            if (!e) return e;
            var i = {};
            for (var r in e)
              (i[r] = {
                audioContentType:
                  'audio/mp4; codecs="' + n.attributes.CODECS + '"',
                videoContentType:
                  'video/mp4; codecs="' + t.attributes.CODECS + '"',
              }),
                t.contentProtection &&
                  t.contentProtection[r] &&
                  t.contentProtection[r].pssh &&
                  (i[r].pssh = t.contentProtection[r].pssh),
                "string" == typeof e[r] && (i[r].url = e[r]);
            return Ft.mergeOptions(e, i);
          })(
            e.source_.keySystems,
            e.playlists.media(),
            e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media()
          );
          n &&
            ((t.currentSource().keySystems = n),
            t.eme.initializeMediaKeys && t.eme.initializeMediaKeys());
        }
      }
    };
    (yp.supportsNativeHls = (function () {
      var e = t.createElement("video");
      return Ft.getTech("Html5").isSupported()
        ? [
            "application/vnd.apple.mpegurl",
            "audio/mpegurl",
            "audio/x-mpegurl",
            "application/x-mpegurl",
            "video/x-mpegurl",
            "video/mpegurl",
            "application/mpegurl",
          ].some(function (t) {
            return /maybe|probably/i.test(e.canPlayType(t));
          })
        : !1;
    })()),
      (yp.supportsNativeDash =
        !!Ft.getTech("Html5").isSupported() &&
        /maybe|probably/i.test(
          t.createElement("video").canPlayType("application/dash+xml")
        )),
      (yp.supportsTypeNatively = function (e) {
        return "hls" === e
          ? yp.supportsNativeHls
          : "dash" === e && yp.supportsNativeDash;
      }),
      (yp.isSupported = function () {
        return Ft.log.warn(
          "HLS is no longer a tech. Please remove it from your player's techOrder."
        );
      });
    var kp = Ft.getComponent("Component"),
      Tp = (function () {
        function e(n, i, r) {
          lu(this, e);
          var s = du(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, i, r.hls)
          );
          if (i.options_ && i.options_.playerId) {
            var o = Ft(i.options_.playerId);
            o.hasOwnProperty("hls") ||
              Object.defineProperty(o, "hls", {
                get: function () {
                  return (
                    Ft.log.warn(
                      "player.hls is deprecated. Use player.tech().hls instead."
                    ),
                    i.trigger({
                      type: "usage",
                      name: "hls-player-access",
                    }),
                    s
                  );
                },
              }),
              (o.vhs = s),
              (o.dash = s);
          }
          if (
            ((s.tech_ = i),
            (s.source_ = n),
            (s.stats = {}),
            s.setOptions_(),
            s.options_.overrideNative &&
              i.overrideNativeAudioTracks &&
              i.overrideNativeVideoTracks)
          )
            i.overrideNativeAudioTracks(!0), i.overrideNativeVideoTracks(!0);
          else if (
            s.options_.overrideNative &&
            (i.featuresNativeVideoTracks || i.featuresNativeAudioTracks)
          )
            throw new Error(
              "Overriding native HLS requires emulated tracks. See https://git.io/vMpjB"
            );
          return (
            s.on(
              t,
              [
                "fullscreenchange",
                "webkitfullscreenchange",
                "mozfullscreenchange",
                "MSFullscreenChange",
              ],
              function () {
                var e =
                  t.fullscreenElement ||
                  t.webkitFullscreenElement ||
                  t.mozFullScreenElement ||
                  t.msFullscreenElement;
                e &&
                  e.contains(s.tech_.el()) &&
                  s.masterPlaylistController_.smoothQualityChange_();
              }
            ),
            s.on(s.tech_, "seeking", function () {
              this.tech_.seeking() &&
                0 === this.tech_.currentTime() &&
                this.tech_.player_.loop() &&
                this.setCurrentTime(0);
            }),
            s.on(s.tech_, "error", function () {
              this.masterPlaylistController_ &&
                this.masterPlaylistController_.pauseLoading();
            }),
            s.on(s.tech_, "play", s.play),
            s
          );
        }
        return (
          uu(e, kp),
          cu(e, [
            {
              key: "setOptions_",
              value: function () {
                var e = this;
                (this.options_.withCredentials =
                  this.options_.withCredentials || !1),
                  (this.options_.limitRenditionByPlayerDimensions =
                    !1 !== this.options_.limitRenditionByPlayerDimensions),
                  (this.options_.smoothQualityChange =
                    this.options_.smoothQualityChange || !1),
                  "number" != typeof this.options_.blacklistDuration &&
                    (this.options_.blacklistDuration = 300),
                  "number" != typeof this.options_.bandwidth &&
                    (this.options_.bandwidth = Dd.INITIAL_BANDWIDTH),
                  (this.options_.enableLowInitialPlaylist =
                    this.options_.enableLowInitialPlaylist &&
                    this.options_.bandwidth === Dd.INITIAL_BANDWIDTH),
                  [
                    "withCredentials",
                    "limitRenditionByPlayerDimensions",
                    "bandwidth",
                    "smoothQualityChange",
                  ].forEach(function (t) {
                    "undefined" != typeof e.source_[t] &&
                      (e.options_[t] = e.source_[t]);
                  }),
                  (this.bandwidth = this.options_.bandwidth),
                  (this.limitRenditionByPlayerDimensions =
                    this.options_.limitRenditionByPlayerDimensions);
              },
            },
            {
              key: "src",
              value: function (e, t) {
                var n = this;
                e &&
                  (this.setOptions_(),
                  (this.options_.url = this.source_.src),
                  (this.options_.tech = this.tech_),
                  (this.options_.externHls = yp),
                  (this.options_.sourceType = bp(t)),
                  (this.options_.seekTo = function (e) {
                    n.tech_.setCurrentTime(e), n.setCurrentTime(e);
                  }),
                  (this.masterPlaylistController_ = new hp(this.options_)),
                  (this.playbackWatcher_ = new gp(
                    Ft.mergeOptions(this.options_, {
                      seekable: function () {
                        return n.seekable();
                      },
                    })
                  )),
                  this.masterPlaylistController_.on("error", function () {
                    Ft.players[n.tech_.options_.playerId].error(
                      n.masterPlaylistController_.error
                    );
                  }),
                  (this.masterPlaylistController_.selectPlaylist = this
                    .selectPlaylist
                    ? this.selectPlaylist.bind(this)
                    : yp.STANDARD_PLAYLIST_SELECTOR.bind(this)),
                  (this.masterPlaylistController_.selectInitialPlaylist =
                    yp.INITIAL_PLAYLIST_SELECTOR.bind(this)),
                  (this.playlists =
                    this.masterPlaylistController_.masterPlaylistLoader_),
                  (this.mediaSource =
                    this.masterPlaylistController_.mediaSource),
                  Object.defineProperties(this, {
                    selectPlaylist: {
                      get: function () {
                        return this.masterPlaylistController_.selectPlaylist;
                      },
                      set: function (e) {
                        this.masterPlaylistController_.selectPlaylist =
                          e.bind(this);
                      },
                    },
                    throughput: {
                      get: function () {
                        return this.masterPlaylistController_.mainSegmentLoader_
                          .throughput.rate;
                      },
                      set: function (e) {
                        (this.masterPlaylistController_.mainSegmentLoader_.throughput.rate =
                          e),
                          (this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1);
                      },
                    },
                    bandwidth: {
                      get: function () {
                        return this.masterPlaylistController_.mainSegmentLoader_
                          .bandwidth;
                      },
                      set: function (e) {
                        (this.masterPlaylistController_.mainSegmentLoader_.bandwidth =
                          e),
                          (this.masterPlaylistController_.mainSegmentLoader_.throughput =
                            {
                              rate: 0,
                              count: 0,
                            });
                      },
                    },
                    systemBandwidth: {
                      get: function () {
                        var e = 1 / (this.bandwidth || 1),
                          t = void 0;
                        return (
                          (t = 0 < this.throughput ? 1 / this.throughput : 0),
                          Math.floor(1 / (e + t))
                        );
                      },
                      set: function () {
                        Ft.log.error(
                          'The "systemBandwidth" property is read-only'
                        );
                      },
                    },
                  }),
                  Object.defineProperties(this.stats, {
                    bandwidth: {
                      get: function () {
                        return n.bandwidth || 0;
                      },
                      enumerable: !0,
                    },
                    mediaRequests: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaRequests_() || 0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaRequestsAborted: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaRequestsAborted_() ||
                          0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaRequestsTimedout: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaRequestsTimedout_() ||
                          0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaRequestsErrored: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaRequestsErrored_() ||
                          0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaTransferDuration: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaTransferDuration_() ||
                          0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaBytesTransferred: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaBytesTransferred_() ||
                          0
                        );
                      },
                      enumerable: !0,
                    },
                    mediaSecondsLoaded: {
                      get: function () {
                        return (
                          n.masterPlaylistController_.mediaSecondsLoaded_() || 0
                        );
                      },
                      enumerable: !0,
                    },
                    buffered: {
                      get: function () {
                        return Ju(n.tech_.buffered());
                      },
                      enumerable: !0,
                    },
                    currentTime: {
                      get: function () {
                        return n.tech_.currentTime();
                      },
                      enumerable: !0,
                    },
                    currentSource: {
                      get: function () {
                        return n.tech_.currentSource_;
                      },
                      enumerable: !0,
                    },
                    currentTech: {
                      get: function () {
                        return n.tech_.name_;
                      },
                      enumerable: !0,
                    },
                    duration: {
                      get: function () {
                        return n.tech_.duration();
                      },
                      enumerable: !0,
                    },
                    master: {
                      get: function () {
                        return n.playlists.master;
                      },
                      enumerable: !0,
                    },
                    playerDimensions: {
                      get: function () {
                        return n.tech_.currentDimensions();
                      },
                      enumerable: !0,
                    },
                    seekable: {
                      get: function () {
                        return Ju(n.tech_.seekable());
                      },
                      enumerable: !0,
                    },
                    timestamp: {
                      get: function () {
                        return Date.now();
                      },
                      enumerable: !0,
                    },
                    videoPlaybackQuality: {
                      get: function () {
                        return n.tech_.getVideoPlaybackQuality();
                      },
                      enumerable: !0,
                    },
                  }),
                  this.tech_.one(
                    "canplay",
                    this.masterPlaylistController_.setupFirstPlay.bind(
                      this.masterPlaylistController_
                    )
                  ),
                  this.masterPlaylistController_.on(
                    "selectedinitialmedia",
                    function () {
                      var e, t;
                      (t = (e = n).playlists),
                        (e.representations = function () {
                          return t.master.playlists
                            .filter(function (e) {
                              return !Mu(e);
                            })
                            .map(function (t) {
                              return new fp(e, t, t.uri);
                            });
                        }),
                        Cp(n);
                    }
                  ),
                  this.on(
                    this.masterPlaylistController_,
                    "progress",
                    function () {
                      this.tech_.trigger("progress");
                    }
                  ),
                  this.tech_.ready(function () {
                    return n.setupQualityLevels_();
                  }),
                  this.tech_.el() &&
                    this.tech_.src(
                      Ft.URL.createObjectURL(
                        this.masterPlaylistController_.mediaSource
                      )
                    ));
              },
            },
            {
              key: "setupQualityLevels_",
              value: function () {
                var e = this,
                  t = Ft.players[this.tech_.options_.playerId];
                t &&
                  t.qualityLevels &&
                  ((this.qualityLevels_ = t.qualityLevels()),
                  this.masterPlaylistController_.on(
                    "selectedinitialmedia",
                    function () {
                      var t, n;
                      (t = e.qualityLevels_),
                        (n = e).representations().forEach(function (e) {
                          t.addQualityLevel(e);
                        }),
                        wp(t, n.playlists);
                    }
                  ),
                  this.playlists.on("mediachange", function () {
                    wp(e.qualityLevels_, e.playlists);
                  }));
              },
            },
            {
              key: "play",
              value: function () {
                this.masterPlaylistController_.play();
              },
            },
            {
              key: "setCurrentTime",
              value: function (e) {
                this.masterPlaylistController_.setCurrentTime(e);
              },
            },
            {
              key: "duration",
              value: function () {
                return this.masterPlaylistController_.duration();
              },
            },
            {
              key: "seekable",
              value: function () {
                return this.masterPlaylistController_.seekable();
              },
            },
            {
              key: "dispose",
              value: function () {
                this.playbackWatcher_ && this.playbackWatcher_.dispose(),
                  this.masterPlaylistController_ &&
                    this.masterPlaylistController_.dispose(),
                  this.qualityLevels_ && this.qualityLevels_.dispose(),
                  (function t(e, n, i) {
                    null === e && (e = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(e, n);
                    if (void 0 === r) {
                      var s = Object.getPrototypeOf(e);
                      return null === s ? void 0 : t(s, n, i);
                    }
                    if ("value" in r) return r.value;
                    var o = r.get;
                    return void 0 !== o ? o.call(i) : void 0;
                  })(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    "dispose",
                    this
                  ).call(this);
              },
            },
          ]),
          e
        );
      })(),
      Ep = {
        name: "videojs-http-streaming",
        VERSION: "1.4.1",
        canHandleSource: function (e) {
          var t =
              1 < arguments.length && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            n = Ft.mergeOptions(Ft.options, t);
          return Ep.canPlayType(e.type, n);
        },
        handleSource: function (e, t) {
          var n =
              2 < arguments.length && void 0 !== arguments[2]
                ? arguments[2]
                : {},
            i = Ft.mergeOptions(Ft.options, n);
          return (
            (t.hls = new Tp(e, t, i)),
            (t.hls.xhr = $u()),
            t.hls.src(e.src, e.type),
            t.hls
          );
        },
        canPlayType: function (e) {
          var t =
              1 < arguments.length && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            n = Ft.mergeOptions(Ft.options, t).hls.overrideNative,
            i = bp(e);
          return !i || (yp.supportsTypeNatively(i) && !n) ? "" : "maybe";
        },
      };
    return (
      ("undefined" != typeof Ft.MediaSource && "undefined" != typeof Ft.URL) ||
        ((Ft.MediaSource = Td), (Ft.URL = Ed)),
      Td.supportsNativeMediaSources() &&
        Ft.getTech("Html5").registerSourceHandler(Ep, 0),
      (Ft.HlsHandler = Tp),
      (Ft.HlsSourceHandler = Ep),
      (Ft.Hls = yp),
      Ft.use || Ft.registerComponent("Hls", yp),
      (Ft.options.hls = Ft.options.hls || {}),
      Ft.registerPlugin
        ? Ft.registerPlugin("reloadSourceOnError", vp)
        : Ft.plugin("reloadSourceOnError", vp),
      Ft
    );
  }),
  /**
   * videojs-flash
   * @version 2.1.2
   * @copyright 2018 Brightcove, Inc.
   * @license Apache-2.0
   */
  !(function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = t(require("video.js")))
      : "function" == typeof define && define.amd
      ? define(["video.js"], t)
      : (e.videojsFlash = t(e.videojs));
  })(this, function (e) {
    "use strict";
    function t(e) {
      var t = e.charAt(0).toUpperCase() + e.slice(1);
      g["set" + t] = function (t) {
        return this.el_.vjs_setProperty(e, t);
      };
    }
    function n(e) {
      g[e] = function () {
        return this.el_.vjs_getProperty(e);
      };
    }
    e = e && e.hasOwnProperty("default") ? e["default"] : e;
    for (
      var i =
          "undefined" != typeof window
            ? window
            : "undefined" != typeof global
            ? global
            : "undefined" != typeof self
            ? self
            : {},
        r =
          "undefined" != typeof window
            ? window
            : void 0 !== i
            ? i
            : "undefined" != typeof self
            ? self
            : {},
        s = function (e, t) {
          if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function");
        },
        o = function (e, t) {
          if (!e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return !t || ("object" != typeof t && "function" != typeof t) ? e : t;
        },
        a = e.getComponent("Tech"),
        l = e.dom,
        c = e.url,
        u = e.createTimeRange,
        d = e.mergeOptions,
        p = (r && r.navigator) || {},
        h = (function (e) {
          function t(n, i) {
            s(this, t);
            var a = o(this, e.call(this, n, i));
            return (
              n.source &&
                a.ready(function () {
                  this.setSource(n.source);
                }, !0),
              n.startTime &&
                a.ready(function () {
                  this.load(), this.play(), this.currentTime(n.startTime);
                }, !0),
              (r.videojs = r.videojs || {}),
              (r.videojs.Flash = r.videojs.Flash || {}),
              (r.videojs.Flash.onReady = t.onReady),
              (r.videojs.Flash.onEvent = t.onEvent),
              (r.videojs.Flash.onError = t.onError),
              a.on("seeked", function () {
                this.lastSeekTarget_ = void 0;
              }),
              a
            );
          }
          return (
            (function (e, t) {
              if ("function" != typeof t && null !== t)
                throw new TypeError(
                  "Super expression must either be null or a function, not " +
                    typeof t
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: {
                  value: e,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                t &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(e, t)
                    : (e.__proto__ = t));
            })(t, e),
            (t.prototype.createEl = function () {
              var e = this.options_;
              e.swf ||
                (e.swf = "https://vjs.zencdn.net/swf/5.4.2/video-js.swf");
              var n = e.techId,
                i = d(
                  {
                    readyFunction: "videojs.Flash.onReady",
                    eventProxyFunction: "videojs.Flash.onEvent",
                    errorEventProxyFunction: "videojs.Flash.onError",
                    autoplay: e.autoplay,
                    preload: e.preload,
                    loop: e.loop,
                    muted: e.muted,
                  },
                  e.flashVars
                ),
                r = d(
                  {
                    wmode: "opaque",
                    bgcolor: "#000000",
                  },
                  e.params
                ),
                s = d(
                  {
                    id: n,
                    name: n,
                    class: "vjs-tech",
                  },
                  e.attributes
                );
              return (
                (this.el_ = t.embed(e.swf, i, r, s)),
                (this.el_.tech = this),
                this.el_
              );
            }),
            (t.prototype.play = function () {
              this.ended() && this.setCurrentTime(0), this.el_.vjs_play();
            }),
            (t.prototype.pause = function () {
              this.el_.vjs_pause();
            }),
            (t.prototype.src = function (e) {
              return void 0 === e ? this.currentSrc() : this.setSrc(e);
            }),
            (t.prototype.setSrc = function (e) {
              var t = this;
              (e = c.getAbsoluteURL(e)),
                this.el_.vjs_src(e),
                this.autoplay() &&
                  this.setTimeout(function () {
                    return t.play();
                  }, 0);
            }),
            (t.prototype.seeking = function () {
              return void 0 !== this.lastSeekTarget_;
            }),
            (t.prototype.setCurrentTime = function (t) {
              var n = this.seekable();
              n.length &&
                ((t =
                  (t = t > n.start(0) ? t : n.start(0)) < n.end(n.length - 1)
                    ? t
                    : n.end(n.length - 1)),
                (this.lastSeekTarget_ = t),
                this.trigger("seeking"),
                this.el_.vjs_setProperty("currentTime", t),
                e.prototype.setCurrentTime.call(this));
            }),
            (t.prototype.currentTime = function () {
              return this.seeking()
                ? this.lastSeekTarget_ || 0
                : this.el_.vjs_getProperty("currentTime");
            }),
            (t.prototype.currentSrc = function () {
              return this.currentSource_
                ? this.currentSource_.src
                : this.el_.vjs_getProperty("currentSrc");
            }),
            (t.prototype.duration = function () {
              if (0 === this.readyState()) return 0 / 0;
              var e = this.el_.vjs_getProperty("duration");
              return e >= 0 ? e : 1 / 0;
            }),
            (t.prototype.load = function () {
              this.el_.vjs_load();
            }),
            (t.prototype.poster = function () {
              this.el_.vjs_getProperty("poster");
            }),
            (t.prototype.setPoster = function () {}),
            (t.prototype.seekable = function () {
              var e = this.duration();
              return 0 === e ? u() : u(0, e);
            }),
            (t.prototype.buffered = function () {
              var e = this.el_.vjs_getProperty("buffered");
              return 0 === e.length ? u() : u(e[0][0], e[0][1]);
            }),
            (t.prototype.supportsFullScreen = function () {
              return !1;
            }),
            (t.prototype.enterFullScreen = function () {
              return !1;
            }),
            (t.prototype.getVideoPlaybackQuality = function () {
              var e = this.el_.vjs_getProperty("getVideoPlaybackQuality");
              return (
                r.performance && "function" == typeof r.performance.now
                  ? (e.creationTime = r.performance.now())
                  : r.performance &&
                    r.performance.timing &&
                    "number" == typeof r.performance.timing.navigationStart &&
                    (e.creationTime =
                      r.Date.now() - r.performance.timing.navigationStart),
                e
              );
            }),
            t
          );
        })(a),
        f = [
          "rtmpConnection",
          "rtmpStream",
          "preload",
          "defaultPlaybackRate",
          "playbackRate",
          "autoplay",
          "loop",
          "controls",
          "volume",
          "muted",
          "defaultMuted",
        ],
        m = [
          "networkState",
          "readyState",
          "initialTime",
          "startOffsetTime",
          "paused",
          "ended",
          "videoWidth",
          "videoHeight",
        ],
        g = h.prototype,
        _ = 0;
      _ < f.length;
      _++
    )
      n(f[_]), t(f[_]);
    for (var v = 0; v < m.length; v++) n(m[v]);
    return (
      (h.isSupported = function () {
        return (
          !!(
            (e.browser.IS_CHROME && !e.browser.IS_ANDROID) ||
            (e.browser.IS_SAFARI && !e.browser.IS_IOS)
          ) || h.version()[0] >= 10
        );
      }),
      a.withSourceHandlers(h),
      (h.nativeSourceHandler = {}),
      (h.nativeSourceHandler.canPlayType = function (e) {
        return e in h.formats ? "maybe" : "";
      }),
      (h.nativeSourceHandler.canHandleSource = function (e) {
        var t = void 0;
        return (
          (t = e.type
            ? e.type.replace(/;.*/, "").toLowerCase()
            : (function (e) {
                var t = c.getFileExtension(e);
                return t ? "video/" + t : "";
              })(e.src)),
          h.nativeSourceHandler.canPlayType(t)
        );
      }),
      (h.nativeSourceHandler.handleSource = function (e, t) {
        t.setSrc(e.src);
      }),
      (h.nativeSourceHandler.dispose = function () {}),
      h.registerSourceHandler(h.nativeSourceHandler),
      (h.formats = {
        "video/flv": "FLV",
        "video/x-flv": "FLV",
        "video/mp4": "MP4",
        "video/m4v": "MP4",
      }),
      (h.onReady = function (e) {
        var t = l.$("#" + e),
          n = t && t.tech;
        n && n.el() && h.checkReady(n);
      }),
      (h.checkReady = function (e) {
        e.el() &&
          (e.el().vjs_getProperty
            ? e.triggerReady()
            : this.setTimeout(function () {
                h.checkReady(e);
              }, 50));
      }),
      (h.onEvent = function (e, t) {
        var n = l.$("#" + e).tech,
          i = Array.prototype.slice.call(arguments, 2);
        n.setTimeout(function () {
          n.trigger(t, i);
        }, 1);
      }),
      (h.onError = function (e, t) {
        var n = l.$("#" + e).tech;
        return "srcnotfound" === t
          ? n.error(4)
          : void ("string" == typeof t
              ? n.error("FLASH: " + t)
              : ((t.origin = "flash"), n.error(t)));
      }),
      (h.version = function () {
        var e = "0,0,0";
        try {
          e = new r.ActiveXObject("ShockwaveFlash.ShockwaveFlash")
            .GetVariable("$version")
            .replace(/\D+/g, ",")
            .match(/^,?(.+),?$/)[1];
        } catch (t) {
          try {
            p.mimeTypes["application/x-shockwave-flash"].enabledPlugin &&
              (e = (
                p.plugins["Shockwave Flash 2.0"] || p.plugins["Shockwave Flash"]
              ).description
                .replace(/\D+/g, ",")
                .match(/^,?(.+),?$/)[1]);
          } catch (n) {}
        }
        return e.split(",");
      }),
      (h.embed = function (e, t, n, i) {
        var r = h.getEmbedCode(e, t, n, i);
        return l.createEl("div", {
          innerHTML: r,
        }).childNodes[0];
      }),
      (h.getEmbedCode = function (e, t, n, i) {
        var r = "",
          s = "",
          o = "";
        return (
          t &&
            Object.getOwnPropertyNames(t).forEach(function (e) {
              r += e + "=" + t[e] + "&amp;";
            }),
          (n = d(
            {
              movie: e,
              flashvars: r,
              allowScriptAccess: "always",
              allowNetworking: "all",
            },
            n
          )),
          Object.getOwnPropertyNames(n).forEach(function (e) {
            s += '<param name="' + e + '" value="' + n[e] + '" />';
          }),
          (i = d(
            {
              data: e,
              width: "100%",
              height: "100%",
            },
            i
          )),
          Object.getOwnPropertyNames(i).forEach(function (e) {
            o += e + '="' + i[e] + '" ';
          }),
          '<object type="application/x-shockwave-flash" ' +
            o +
            ">" +
            s +
            "</object>"
        );
      }),
      (function (e) {
        (e.streamingFormats = {
          "rtmp/mp4": "MP4",
          "rtmp/flv": "FLV",
        }),
          (e.streamFromParts = function (e, t) {
            return e + "&" + t;
          }),
          (e.streamToParts = function (e) {
            var t = {
              connection: "",
              stream: "",
            };
            if (!e) return t;
            var n = e.search(/&(?![\w-]+=)/),
              i = void 0;
            return (
              -1 !== n
                ? (i = n + 1)
                : 0 === (n = i = e.lastIndexOf("/") + 1) && (n = i = e.length),
              (t.connection = e.substring(0, n)),
              (t.stream = e.substring(i, e.length)),
              t
            );
          }),
          (e.isStreamingType = function (t) {
            return t in e.streamingFormats;
          }),
          (e.RTMP_RE = /^rtmp[set]?:\/\//i),
          (e.isStreamingSrc = function (t) {
            return e.RTMP_RE.test(t);
          }),
          (e.rtmpSourceHandler = {}),
          (e.rtmpSourceHandler.canPlayType = function (t) {
            return e.isStreamingType(t) ? "maybe" : "";
          }),
          (e.rtmpSourceHandler.canHandleSource = function (t) {
            var n = e.rtmpSourceHandler.canPlayType(t.type);
            return n || (e.isStreamingSrc(t.src) ? "maybe" : "");
          }),
          (e.rtmpSourceHandler.handleSource = function (t, n) {
            var i = e.streamToParts(t.src);
            n.setRtmpConnection(i.connection), n.setRtmpStream(i.stream);
          }),
          e.registerSourceHandler(e.rtmpSourceHandler);
      })(h),
      a.getTech("Flash")
        ? (e.log.warn(
            "Not using videojs-flash as it appears to already be registered"
          ),
          e.log.warn(
            "videojs-flash should only be used with video.js@6 and above"
          ))
        : e.registerTech("Flash", h),
      (h.VERSION = "2.1.2"),
      h
    );
  }),
  /*! jQuery UI - v1.9.2 - 2012-11-23
   * http://jqueryui.com
   * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
   * Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
  (function (e, t) {
    function n(t, n) {
      var r,
        s,
        o,
        a = t.nodeName.toLowerCase();
      return "area" === a
        ? ((r = t.parentNode),
          (s = r.name),
          t.href && s && "map" === r.nodeName.toLowerCase()
            ? ((o = e("img[usemap=#" + s + "]")[0]), !!o && i(o))
            : !1)
        : (/input|select|textarea|button|object/.test(a)
            ? !t.disabled
            : "a" === a
            ? t.href || n
            : n) && i(t);
    }
    function i(t) {
      return (
        e.expr.filters.visible(t) &&
        !e(t)
          .parents()
          .andSelf()
          .filter(function () {
            return "hidden" === e.css(this, "visibility");
          }).length
      );
    }
    var r = 0,
      s = /^ui-id-\d+$/;
    (e.ui = e.ui || {}),
      e.ui.version ||
        (e.extend(e.ui, {
          version: "1.9.2",
          keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38,
          },
        }),
        e.fn.extend({
          _focus: e.fn.focus,
          focus: function (t, n) {
            return "number" == typeof t
              ? this.each(function () {
                  var i = this;
                  setTimeout(function () {
                    e(i).focus(), n && n.call(i);
                  }, t);
                })
              : this._focus.apply(this, arguments);
          },
          scrollParent: function () {
            var t;
            return (
              (t =
                (e.ui.ie && /(static|relative)/.test(this.css("position"))) ||
                /absolute/.test(this.css("position"))
                  ? this.parents()
                      .filter(function () {
                        return (
                          /(relative|absolute|fixed)/.test(
                            e.css(this, "position")
                          ) &&
                          /(auto|scroll)/.test(
                            e.css(this, "overflow") +
                              e.css(this, "overflow-y") +
                              e.css(this, "overflow-x")
                          )
                        );
                      })
                      .eq(0)
                  : this.parents()
                      .filter(function () {
                        return /(auto|scroll)/.test(
                          e.css(this, "overflow") +
                            e.css(this, "overflow-y") +
                            e.css(this, "overflow-x")
                        );
                      })
                      .eq(0)),
              /fixed/.test(this.css("position")) || !t.length ? e(document) : t
            );
          },
          zIndex: function (n) {
            if (n !== t) return this.css("zIndex", n);
            if (this.length)
              for (var i, r, s = e(this[0]); s.length && s[0] !== document; ) {
                if (
                  ((i = s.css("position")),
                  ("absolute" === i || "relative" === i || "fixed" === i) &&
                    ((r = parseInt(s.css("zIndex"), 10)), !isNaN(r) && 0 !== r))
                )
                  return r;
                s = s.parent();
              }
            return 0;
          },
          uniqueId: function () {
            return this.each(function () {
              this.id || (this.id = "ui-id-" + ++r);
            });
          },
          removeUniqueId: function () {
            return this.each(function () {
              s.test(this.id) && e(this).removeAttr("id");
            });
          },
        }),
        e.extend(e.expr[":"], {
          data: e.expr.createPseudo
            ? e.expr.createPseudo(function (t) {
                return function (n) {
                  return !!e.data(n, t);
                };
              })
            : function (t, n, i) {
                return !!e.data(t, i[3]);
              },
          focusable: function (t) {
            return n(t, !isNaN(e.attr(t, "tabindex")));
          },
          tabbable: function (t) {
            var i = e.attr(t, "tabindex"),
              r = isNaN(i);
            return (r || i >= 0) && n(t, !r);
          },
        }),
        e(function () {
          var t = document.body,
            n = t.appendChild((n = document.createElement("div")));
          n.offsetHeight,
            e.extend(n.style, {
              minHeight: "100px",
              height: "auto",
              padding: 0,
              borderWidth: 0,
            }),
            (e.support.minHeight = 100 === n.offsetHeight),
            (e.support.selectstart = "onselectstart" in n),
            (t.removeChild(n).style.display = "none");
        }),
        e("<a>").outerWidth(1).jquery ||
          e.each(["Width", "Height"], function (n, i) {
            function r(t, n, i, r) {
              return (
                e.each(s, function () {
                  (n -= parseFloat(e.css(t, "padding" + this)) || 0),
                    i &&
                      (n -=
                        parseFloat(e.css(t, "border" + this + "Width")) || 0),
                    r && (n -= parseFloat(e.css(t, "margin" + this)) || 0);
                }),
                n
              );
            }
            var s = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"],
              o = i.toLowerCase(),
              a = {
                innerWidth: e.fn.innerWidth,
                innerHeight: e.fn.innerHeight,
                outerWidth: e.fn.outerWidth,
                outerHeight: e.fn.outerHeight,
              };
            (e.fn["inner" + i] = function (n) {
              return n === t
                ? a["inner" + i].call(this)
                : this.each(function () {
                    e(this).css(o, r(this, n) + "px");
                  });
            }),
              (e.fn["outer" + i] = function (t, n) {
                return "number" != typeof t
                  ? a["outer" + i].call(this, t)
                  : this.each(function () {
                      e(this).css(o, r(this, t, !0, n) + "px");
                    });
              });
          }),
        e("<a>").data("a-b", "a").removeData("a-b").data("a-b") &&
          (e.fn.removeData = (function (t) {
            return function (n) {
              return arguments.length
                ? t.call(this, e.camelCase(n))
                : t.call(this);
            };
          })(e.fn.removeData)),
        (function () {
          var t = /msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase()) || [];
          (e.ui.ie = t.length ? !0 : !1),
            (e.ui.ie6 = 6 === parseFloat(t[1], 10));
        })(),
        e.fn.extend({
          disableSelection: function () {
            return this.bind(
              (e.support.selectstart ? "selectstart" : "mousedown") +
                ".ui-disableSelection",
              function (e) {
                e.preventDefault();
              }
            );
          },
          enableSelection: function () {
            return this.unbind(".ui-disableSelection");
          },
        }),
        e.extend(e.ui, {
          plugin: {
            add: function (t, n, i) {
              var r,
                s = e.ui[t].prototype;
              for (r in i)
                (s.plugins[r] = s.plugins[r] || []),
                  s.plugins[r].push([n, i[r]]);
            },
            call: function (e, t, n) {
              var i,
                r = e.plugins[t];
              if (
                r &&
                e.element[0].parentNode &&
                11 !== e.element[0].parentNode.nodeType
              )
                for (i = 0; i < r.length; i++)
                  e.options[r[i][0]] && r[i][1].apply(e.element, n);
            },
          },
          contains: e.contains,
          hasScroll: function (t, n) {
            if ("hidden" === e(t).css("overflow")) return !1;
            var i = n && "left" === n ? "scrollLeft" : "scrollTop",
              r = !1;
            return t[i] > 0 ? !0 : ((t[i] = 1), (r = t[i] > 0), (t[i] = 0), r);
          },
          isOverAxis: function (e, t, n) {
            return e > t && t + n > e;
          },
          isOver: function (t, n, i, r, s, o) {
            return e.ui.isOverAxis(t, i, s) && e.ui.isOverAxis(n, r, o);
          },
        }));
  })(jQuery),
  (function (e, t) {
    var n = 0,
      i = Array.prototype.slice,
      r = e.cleanData;
    (e.cleanData = function (t) {
      for (var n, i = 0; null != (n = t[i]); i++)
        try {
          e(n).triggerHandler("remove");
        } catch (s) {}
      r(t);
    }),
      (e.widget = function (t, n, i) {
        var r,
          s,
          o,
          a,
          l = t.split(".")[0];
        (t = t.split(".")[1]),
          (r = l + "-" + t),
          i || ((i = n), (n = e.Widget)),
          (e.expr[":"][r.toLowerCase()] = function (t) {
            return !!e.data(t, r);
          }),
          (e[l] = e[l] || {}),
          (s = e[l][t]),
          (o = e[l][t] =
            function (e, t) {
              return this._createWidget
                ? void (arguments.length && this._createWidget(e, t))
                : new o(e, t);
            }),
          e.extend(o, s, {
            version: i.version,
            _proto: e.extend({}, i),
            _childConstructors: [],
          }),
          (a = new n()),
          (a.options = e.widget.extend({}, a.options)),
          e.each(i, function (t, r) {
            e.isFunction(r) &&
              (i[t] = (function () {
                var e = function () {
                    return n.prototype[t].apply(this, arguments);
                  },
                  i = function (e) {
                    return n.prototype[t].apply(this, e);
                  };
                return function () {
                  var t,
                    n = this._super,
                    s = this._superApply;
                  return (
                    (this._super = e),
                    (this._superApply = i),
                    (t = r.apply(this, arguments)),
                    (this._super = n),
                    (this._superApply = s),
                    t
                  );
                };
              })());
          }),
          (o.prototype = e.widget.extend(
            a,
            {
              widgetEventPrefix: s ? a.widgetEventPrefix : t,
            },
            i,
            {
              constructor: o,
              namespace: l,
              widgetName: t,
              widgetBaseClass: r,
              widgetFullName: r,
            }
          )),
          s
            ? (e.each(s._childConstructors, function (t, n) {
                var i = n.prototype;
                e.widget(i.namespace + "." + i.widgetName, o, n._proto);
              }),
              delete s._childConstructors)
            : n._childConstructors.push(o),
          e.widget.bridge(t, o);
      }),
      (e.widget.extend = function (n) {
        for (
          var r, s, o = i.call(arguments, 1), a = 0, l = o.length;
          l > a;
          a++
        )
          for (r in o[a])
            (s = o[a][r]),
              o[a].hasOwnProperty(r) &&
                s !== t &&
                (n[r] = e.isPlainObject(s)
                  ? e.isPlainObject(n[r])
                    ? e.widget.extend({}, n[r], s)
                    : e.widget.extend({}, s)
                  : s);
        return n;
      }),
      (e.widget.bridge = function (n, r) {
        var s = r.prototype.widgetFullName || n;
        e.fn[n] = function (o) {
          var a = "string" == typeof o,
            l = i.call(arguments, 1),
            c = this;
          return (
            (o =
              !a && l.length ? e.widget.extend.apply(null, [o].concat(l)) : o),
            this.each(
              a
                ? function () {
                    var i,
                      r = e.data(this, s);
                    return r
                      ? e.isFunction(r[o]) && "_" !== o.charAt(0)
                        ? ((i = r[o].apply(r, l)),
                          i !== r && i !== t
                            ? ((c = i && i.jquery ? c.pushStack(i.get()) : i),
                              !1)
                            : void 0)
                        : e.error(
                            "no such method '" +
                              o +
                              "' for " +
                              n +
                              " widget instance"
                          )
                      : e.error(
                          "cannot call methods on " +
                            n +
                            " prior to initialization; attempted to call method '" +
                            o +
                            "'"
                        );
                  }
                : function () {
                    var t = e.data(this, s);
                    t
                      ? t.option(o || {})._init()
                      : e.data(this, s, new r(o, this));
                  }
            ),
            c
          );
        };
      }),
      (e.Widget = function () {}),
      (e.Widget._childConstructors = []),
      (e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
          disabled: !1,
          create: null,
        },
        _createWidget: function (t, i) {
          (i = e(i || this.defaultElement || this)[0]),
            (this.element = e(i)),
            (this.uuid = n++),
            (this.eventNamespace = "." + this.widgetName + this.uuid),
            (this.options = e.widget.extend(
              {},
              this.options,
              this._getCreateOptions(),
              t
            )),
            (this.bindings = e()),
            (this.hoverable = e()),
            (this.focusable = e()),
            i !== this &&
              (e.data(i, this.widgetName, this),
              e.data(i, this.widgetFullName, this),
              this._on(!0, this.element, {
                remove: function (e) {
                  e.target === i && this.destroy();
                },
              }),
              (this.document = e(i.style ? i.ownerDocument : i.document || i)),
              (this.window = e(
                this.document[0].defaultView || this.document[0].parentWindow
              ))),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init();
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function () {
          this._destroy(),
            this.element
              .unbind(this.eventNamespace)
              .removeData(this.widgetName)
              .removeData(this.widgetFullName)
              .removeData(e.camelCase(this.widgetFullName)),
            this.widget()
              .unbind(this.eventNamespace)
              .removeAttr("aria-disabled")
              .removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus");
        },
        _destroy: e.noop,
        widget: function () {
          return this.element;
        },
        option: function (n, i) {
          var r,
            s,
            o,
            a = n;
          if (0 === arguments.length) return e.widget.extend({}, this.options);
          if ("string" == typeof n)
            if (((a = {}), (r = n.split(".")), (n = r.shift()), r.length)) {
              for (
                s = a[n] = e.widget.extend({}, this.options[n]), o = 0;
                o < r.length - 1;
                o++
              )
                (s[r[o]] = s[r[o]] || {}), (s = s[r[o]]);
              if (((n = r.pop()), i === t)) return s[n] === t ? null : s[n];
              s[n] = i;
            } else {
              if (i === t)
                return this.options[n] === t ? null : this.options[n];
              a[n] = i;
            }
          return this._setOptions(a), this;
        },
        _setOptions: function (e) {
          var t;
          for (t in e) this._setOption(t, e[t]);
          return this;
        },
        _setOption: function (e, t) {
          return (
            (this.options[e] = t),
            "disabled" === e &&
              (this.widget()
                .toggleClass(
                  this.widgetFullName + "-disabled ui-state-disabled",
                  !!t
                )
                .attr("aria-disabled", t),
              this.hoverable.removeClass("ui-state-hover"),
              this.focusable.removeClass("ui-state-focus")),
            this
          );
        },
        enable: function () {
          return this._setOption("disabled", !1);
        },
        disable: function () {
          return this._setOption("disabled", !0);
        },
        _on: function (t, n, i) {
          var r,
            s = this;
          "boolean" != typeof t && ((i = n), (n = t), (t = !1)),
            i
              ? ((n = r = e(n)), (this.bindings = this.bindings.add(n)))
              : ((i = n), (n = this.element), (r = this.widget())),
            e.each(i, function (i, o) {
              function a() {
                return t ||
                  (s.options.disabled !== !0 &&
                    !e(this).hasClass("ui-state-disabled"))
                  ? ("string" == typeof o ? s[o] : o).apply(s, arguments)
                  : void 0;
              }
              "string" != typeof o &&
                (a.guid = o.guid = o.guid || a.guid || e.guid++);
              var l = i.match(/^(\w+)\s*(.*)$/),
                c = l[1] + s.eventNamespace,
                u = l[2];
              u ? r.delegate(u, c, a) : n.bind(c, a);
            });
        },
        _off: function (e, t) {
          (t =
            (t || "").split(" ").join(this.eventNamespace + " ") +
            this.eventNamespace),
            e.unbind(t).undelegate(t);
        },
        _delay: function (e, t) {
          function n() {
            return ("string" == typeof e ? i[e] : e).apply(i, arguments);
          }
          var i = this;
          return setTimeout(n, t || 0);
        },
        _hoverable: function (t) {
          (this.hoverable = this.hoverable.add(t)),
            this._on(t, {
              mouseenter: function (t) {
                e(t.currentTarget).addClass("ui-state-hover");
              },
              mouseleave: function (t) {
                e(t.currentTarget).removeClass("ui-state-hover");
              },
            });
        },
        _focusable: function (t) {
          (this.focusable = this.focusable.add(t)),
            this._on(t, {
              focusin: function (t) {
                e(t.currentTarget).addClass("ui-state-focus");
              },
              focusout: function (t) {
                e(t.currentTarget).removeClass("ui-state-focus");
              },
            });
        },
        _trigger: function (t, n, i) {
          var r,
            s,
            o = this.options[t];
          if (
            ((i = i || {}),
            (n = e.Event(n)),
            (n.type = (
              t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t
            ).toLowerCase()),
            (n.target = this.element[0]),
            (s = n.originalEvent),
            s)
          )
            for (r in s) r in n || (n[r] = s[r]);
          return (
            this.element.trigger(n, i),
            !(
              (e.isFunction(o) &&
                o.apply(this.element[0], [n].concat(i)) === !1) ||
              n.isDefaultPrevented()
            )
          );
        },
      }),
      e.each(
        {
          show: "fadeIn",
          hide: "fadeOut",
        },
        function (t, n) {
          e.Widget.prototype["_" + t] = function (i, r, s) {
            "string" == typeof r &&
              (r = {
                effect: r,
              });
            var o,
              a = r
                ? r === !0 || "number" == typeof r
                  ? n
                  : r.effect || n
                : t;
            (r = r || {}),
              "number" == typeof r &&
                (r = {
                  duration: r,
                }),
              (o = !e.isEmptyObject(r)),
              (r.complete = s),
              r.delay && i.delay(r.delay),
              o &&
              e.effects &&
              (e.effects.effect[a] || (e.uiBackCompat !== !1 && e.effects[a]))
                ? i[t](r)
                : a !== t && i[a]
                ? i[a](r.duration, r.easing, s)
                : i.queue(function (n) {
                    e(this)[t](), s && s.call(i[0]), n();
                  });
          };
        }
      ),
      e.uiBackCompat !== !1 &&
        (e.Widget.prototype._getCreateOptions = function () {
          return e.metadata && e.metadata.get(this.element[0])[this.widgetName];
        });
  })(jQuery),
  (function (e) {
    var t = !1;
    e(document).mouseup(function () {
      t = !1;
    }),
      e.widget("ui.mouse", {
        version: "1.9.2",
        options: {
          cancel: "input,textarea,button,select,option",
          distance: 1,
          delay: 0,
        },
        _mouseInit: function () {
          var t = this;
          this.element
            .bind("mousedown." + this.widgetName, function (e) {
              return t._mouseDown(e);
            })
            .bind("click." + this.widgetName, function (n) {
              return !0 ===
                e.data(n.target, t.widgetName + ".preventClickEvent")
                ? (e.removeData(n.target, t.widgetName + ".preventClickEvent"),
                  n.stopImmediatePropagation(),
                  !1)
                : void 0;
            }),
            (this.started = !1);
        },
        _mouseDestroy: function () {
          this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate &&
              e(document)
                .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
        },
        _mouseDown: function (n) {
          if (!t) {
            this._mouseStarted && this._mouseUp(n), (this._mouseDownEvent = n);
            var i = this,
              r = 1 === n.which,
              s =
                "string" == typeof this.options.cancel && n.target.nodeName
                  ? e(n.target).closest(this.options.cancel).length
                  : !1;
            return r && !s && this._mouseCapture(n)
              ? ((this.mouseDelayMet = !this.options.delay),
                this.mouseDelayMet ||
                  (this._mouseDelayTimer = setTimeout(function () {
                    i.mouseDelayMet = !0;
                  }, this.options.delay)),
                this._mouseDistanceMet(n) &&
                this._mouseDelayMet(n) &&
                ((this._mouseStarted = this._mouseStart(n) !== !1),
                !this._mouseStarted)
                  ? (n.preventDefault(), !0)
                  : (!0 ===
                      e.data(
                        n.target,
                        this.widgetName + ".preventClickEvent"
                      ) &&
                      e.removeData(
                        n.target,
                        this.widgetName + ".preventClickEvent"
                      ),
                    (this._mouseMoveDelegate = function (e) {
                      return i._mouseMove(e);
                    }),
                    (this._mouseUpDelegate = function (e) {
                      return i._mouseUp(e);
                    }),
                    e(document)
                      .bind(
                        "mousemove." + this.widgetName,
                        this._mouseMoveDelegate
                      )
                      .bind(
                        "mouseup." + this.widgetName,
                        this._mouseUpDelegate
                      ),
                    n.preventDefault(),
                    (t = !0),
                    !0))
              : !0;
          }
        },
        _mouseMove: function (t) {
          return !e.ui.ie || document.documentMode >= 9 || t.button
            ? this._mouseStarted
              ? (this._mouseDrag(t), t.preventDefault())
              : (this._mouseDistanceMet(t) &&
                  this._mouseDelayMet(t) &&
                  ((this._mouseStarted =
                    this._mouseStart(this._mouseDownEvent, t) !== !1),
                  this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
                !this._mouseStarted)
            : this._mouseUp(t);
        },
        _mouseUp: function (t) {
          return (
            e(document)
              .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted &&
              ((this._mouseStarted = !1),
              t.target === this._mouseDownEvent.target &&
                e.data(t.target, this.widgetName + ".preventClickEvent", !0),
              this._mouseStop(t)),
            !1
          );
        },
        _mouseDistanceMet: function (e) {
          return (
            Math.max(
              Math.abs(this._mouseDownEvent.pageX - e.pageX),
              Math.abs(this._mouseDownEvent.pageY - e.pageY)
            ) >= this.options.distance
          );
        },
        _mouseDelayMet: function () {
          return this.mouseDelayMet;
        },
        _mouseStart: function () {},
        _mouseDrag: function () {},
        _mouseStop: function () {},
        _mouseCapture: function () {
          return !0;
        },
      });
  })(jQuery),
  (function (e, t) {
    function n(e, t, n) {
      return [
        parseInt(e[0], 10) * (p.test(e[0]) ? t / 100 : 1),
        parseInt(e[1], 10) * (p.test(e[1]) ? n / 100 : 1),
      ];
    }
    function i(t, n) {
      return parseInt(e.css(t, n), 10) || 0;
    }
    e.ui = e.ui || {};
    var r,
      s = Math.max,
      o = Math.abs,
      a = Math.round,
      l = /left|center|right/,
      c = /top|center|bottom/,
      u = /[\+\-]\d+%?/,
      d = /^\w+/,
      p = /%$/,
      h = e.fn.position;
    (e.position = {
      scrollbarWidth: function () {
        if (r !== t) return r;
        var n,
          i,
          s = e(
            "<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"
          ),
          o = s.children()[0];
        return (
          e("body").append(s),
          (n = o.offsetWidth),
          s.css("overflow", "scroll"),
          (i = o.offsetWidth),
          n === i && (i = s[0].clientWidth),
          s.remove(),
          (r = n - i)
        );
      },
      getScrollInfo: function (t) {
        var n = t.isWindow ? "" : t.element.css("overflow-x"),
          i = t.isWindow ? "" : t.element.css("overflow-y"),
          r =
            "scroll" === n ||
            ("auto" === n && t.width < t.element[0].scrollWidth),
          s =
            "scroll" === i ||
            ("auto" === i && t.height < t.element[0].scrollHeight);
        return {
          width: r ? e.position.scrollbarWidth() : 0,
          height: s ? e.position.scrollbarWidth() : 0,
        };
      },
      getWithinInfo: function (t) {
        var n = e(t || window),
          i = e.isWindow(n[0]);
        return {
          element: n,
          isWindow: i,
          offset: n.offset() || {
            left: 0,
            top: 0,
          },
          scrollLeft: n.scrollLeft(),
          scrollTop: n.scrollTop(),
          width: i ? n.width() : n.outerWidth(),
          height: i ? n.height() : n.outerHeight(),
        };
      },
    }),
      (e.fn.position = function (t) {
        if (!t || !t.of) return h.apply(this, arguments);
        t = e.extend({}, t);
        var r,
          p,
          f,
          m,
          g,
          _ = e(t.of),
          v = e.position.getWithinInfo(t.within),
          y = e.position.getScrollInfo(v),
          b = _[0],
          w = (t.collision || "flip").split(" "),
          C = {};
        return (
          9 === b.nodeType
            ? ((p = _.width()),
              (f = _.height()),
              (m = {
                top: 0,
                left: 0,
              }))
            : e.isWindow(b)
            ? ((p = _.width()),
              (f = _.height()),
              (m = {
                top: _.scrollTop(),
                left: _.scrollLeft(),
              }))
            : b.preventDefault
            ? ((t.at = "left top"),
              (p = f = 0),
              (m = {
                top: b.pageY,
                left: b.pageX,
              }))
            : ((p = _.outerWidth()), (f = _.outerHeight()), (m = _.offset())),
          (g = e.extend({}, m)),
          e.each(["my", "at"], function () {
            var e,
              n,
              i = (t[this] || "").split(" ");
            1 === i.length &&
              (i = l.test(i[0])
                ? i.concat(["center"])
                : c.test(i[0])
                ? ["center"].concat(i)
                : ["center", "center"]),
              (i[0] = l.test(i[0]) ? i[0] : "center"),
              (i[1] = c.test(i[1]) ? i[1] : "center"),
              (e = u.exec(i[0])),
              (n = u.exec(i[1])),
              (C[this] = [e ? e[0] : 0, n ? n[0] : 0]),
              (t[this] = [d.exec(i[0])[0], d.exec(i[1])[0]]);
          }),
          1 === w.length && (w[1] = w[0]),
          "right" === t.at[0]
            ? (g.left += p)
            : "center" === t.at[0] && (g.left += p / 2),
          "bottom" === t.at[1]
            ? (g.top += f)
            : "center" === t.at[1] && (g.top += f / 2),
          (r = n(C.at, p, f)),
          (g.left += r[0]),
          (g.top += r[1]),
          this.each(function () {
            var l,
              c,
              u = e(this),
              d = u.outerWidth(),
              h = u.outerHeight(),
              b = i(this, "marginLeft"),
              k = i(this, "marginTop"),
              T = d + b + i(this, "marginRight") + y.width,
              E = h + k + i(this, "marginBottom") + y.height,
              S = e.extend({}, g),
              x = n(C.my, u.outerWidth(), u.outerHeight());
            "right" === t.my[0]
              ? (S.left -= d)
              : "center" === t.my[0] && (S.left -= d / 2),
              "bottom" === t.my[1]
                ? (S.top -= h)
                : "center" === t.my[1] && (S.top -= h / 2),
              (S.left += x[0]),
              (S.top += x[1]),
              e.support.offsetFractions ||
                ((S.left = a(S.left)), (S.top = a(S.top))),
              (l = {
                marginLeft: b,
                marginTop: k,
              }),
              e.each(["left", "top"], function (n, i) {
                e.ui.position[w[n]] &&
                  e.ui.position[w[n]][i](S, {
                    targetWidth: p,
                    targetHeight: f,
                    elemWidth: d,
                    elemHeight: h,
                    collisionPosition: l,
                    collisionWidth: T,
                    collisionHeight: E,
                    offset: [r[0] + x[0], r[1] + x[1]],
                    my: t.my,
                    at: t.at,
                    within: v,
                    elem: u,
                  });
              }),
              e.fn.bgiframe && u.bgiframe(),
              t.using &&
                (c = function (e) {
                  var n = m.left - S.left,
                    i = n + p - d,
                    r = m.top - S.top,
                    a = r + f - h,
                    l = {
                      target: {
                        element: _,
                        left: m.left,
                        top: m.top,
                        width: p,
                        height: f,
                      },
                      element: {
                        element: u,
                        left: S.left,
                        top: S.top,
                        width: d,
                        height: h,
                      },
                      horizontal: 0 > i ? "left" : n > 0 ? "right" : "center",
                      vertical: 0 > a ? "top" : r > 0 ? "bottom" : "middle",
                    };
                  d > p && o(n + i) < p && (l.horizontal = "center"),
                    h > f && o(r + a) < f && (l.vertical = "middle"),
                    (l.important =
                      s(o(n), o(i)) > s(o(r), o(a))
                        ? "horizontal"
                        : "vertical"),
                    t.using.call(this, e, l);
                }),
              u.offset(
                e.extend(S, {
                  using: c,
                })
              );
          })
        );
      }),
      (e.ui.position = {
        fit: {
          left: function (e, t) {
            var n,
              i = t.within,
              r = i.isWindow ? i.scrollLeft : i.offset.left,
              o = i.width,
              a = e.left - t.collisionPosition.marginLeft,
              l = r - a,
              c = a + t.collisionWidth - o - r;
            t.collisionWidth > o
              ? l > 0 && 0 >= c
                ? ((n = e.left + l + t.collisionWidth - o - r),
                  (e.left += l - n))
                : (e.left =
                    c > 0 && 0 >= l ? r : l > c ? r + o - t.collisionWidth : r)
              : l > 0
              ? (e.left += l)
              : c > 0
              ? (e.left -= c)
              : (e.left = s(e.left - a, e.left));
          },
          top: function (e, t) {
            var n,
              i = t.within,
              r = i.isWindow ? i.scrollTop : i.offset.top,
              o = t.within.height,
              a = e.top - t.collisionPosition.marginTop,
              l = r - a,
              c = a + t.collisionHeight - o - r;
            t.collisionHeight > o
              ? l > 0 && 0 >= c
                ? ((n = e.top + l + t.collisionHeight - o - r),
                  (e.top += l - n))
                : (e.top =
                    c > 0 && 0 >= l ? r : l > c ? r + o - t.collisionHeight : r)
              : l > 0
              ? (e.top += l)
              : c > 0
              ? (e.top -= c)
              : (e.top = s(e.top - a, e.top));
          },
        },
        flip: {
          left: function (e, t) {
            var n,
              i,
              r = t.within,
              s = r.offset.left + r.scrollLeft,
              a = r.width,
              l = r.isWindow ? r.scrollLeft : r.offset.left,
              c = e.left - t.collisionPosition.marginLeft,
              u = c - l,
              d = c + t.collisionWidth - a - l,
              p =
                "left" === t.my[0]
                  ? -t.elemWidth
                  : "right" === t.my[0]
                  ? t.elemWidth
                  : 0,
              h =
                "left" === t.at[0]
                  ? t.targetWidth
                  : "right" === t.at[0]
                  ? -t.targetWidth
                  : 0,
              f = -2 * t.offset[0];
            0 > u
              ? ((n = e.left + p + h + f + t.collisionWidth - a - s),
                (0 > n || n < o(u)) && (e.left += p + h + f))
              : d > 0 &&
                ((i = e.left - t.collisionPosition.marginLeft + p + h + f - l),
                (i > 0 || o(i) < d) && (e.left += p + h + f));
          },
          top: function (e, t) {
            var n,
              i,
              r = t.within,
              s = r.offset.top + r.scrollTop,
              a = r.height,
              l = r.isWindow ? r.scrollTop : r.offset.top,
              c = e.top - t.collisionPosition.marginTop,
              u = c - l,
              d = c + t.collisionHeight - a - l,
              p = "top" === t.my[1],
              h = p ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0,
              f =
                "top" === t.at[1]
                  ? t.targetHeight
                  : "bottom" === t.at[1]
                  ? -t.targetHeight
                  : 0,
              m = -2 * t.offset[1];
            0 > u
              ? ((i = e.top + h + f + m + t.collisionHeight - a - s),
                e.top + h + f + m > u &&
                  (0 > i || i < o(u)) &&
                  (e.top += h + f + m))
              : d > 0 &&
                ((n = e.top - t.collisionPosition.marginTop + h + f + m - l),
                e.top + h + f + m > d &&
                  (n > 0 || o(n) < d) &&
                  (e.top += h + f + m));
          },
        },
        flipfit: {
          left: function () {
            e.ui.position.flip.left.apply(this, arguments),
              e.ui.position.fit.left.apply(this, arguments);
          },
          top: function () {
            e.ui.position.flip.top.apply(this, arguments),
              e.ui.position.fit.top.apply(this, arguments);
          },
        },
      }),
      (function () {
        var t,
          n,
          i,
          r,
          s,
          o = document.getElementsByTagName("body")[0],
          a = document.createElement("div");
        (t = document.createElement(o ? "div" : "body")),
          (i = {
            visibility: "hidden",
            width: 0,
            height: 0,
            border: 0,
            margin: 0,
            background: "none",
          }),
          o &&
            e.extend(i, {
              position: "absolute",
              left: "-1000px",
              top: "-1000px",
            });
        for (s in i) t.style[s] = i[s];
        t.appendChild(a),
          (n = o || document.documentElement),
          n.insertBefore(t, n.firstChild),
          (a.style.cssText = "position: absolute; left: 10.7432222px;"),
          (r = e(a).offset().left),
          (e.support.offsetFractions = r > 10 && 11 > r),
          (t.innerHTML = ""),
          n.removeChild(t);
      })(),
      e.uiBackCompat !== !1 &&
        (function (e) {
          var n = e.fn.position;
          e.fn.position = function (i) {
            if (!i || !i.offset) return n.call(this, i);
            var r = i.offset.split(" "),
              s = i.at.split(" ");
            return (
              1 === r.length && (r[1] = r[0]),
              /^\d/.test(r[0]) && (r[0] = "+" + r[0]),
              /^\d/.test(r[1]) && (r[1] = "+" + r[1]),
              1 === s.length &&
                (/left|center|right/.test(s[0])
                  ? (s[1] = "center")
                  : ((s[1] = s[0]), (s[0] = "center"))),
              n.call(
                this,
                e.extend(i, {
                  at: s[0] + r[0] + " " + s[1] + r[1],
                  offset: t,
                })
              )
            );
          };
        })(jQuery);
  })(jQuery),
  (function (e) {
    var t = 0,
      n = {},
      i = {};
    (n.height =
      n.paddingTop =
      n.paddingBottom =
      n.borderTopWidth =
      n.borderBottomWidth =
        "hide"),
      (i.height =
        i.paddingTop =
        i.paddingBottom =
        i.borderTopWidth =
        i.borderBottomWidth =
          "show"),
      e.widget("ui.accordion", {
        version: "1.9.2",
        options: {
          active: 0,
          animate: {},
          collapsible: !1,
          event: "click",
          header: "> li > :first-child,> :not(li):even",
          heightStyle: "auto",
          icons: {
            activeHeader: "ui-icon-triangle-1-s",
            header: "ui-icon-triangle-1-e",
          },
          activate: null,
          beforeActivate: null,
        },
        _create: function () {
          var n = (this.accordionId =
              "ui-accordion-" + (this.element.attr("id") || ++t)),
            i = this.options;
          (this.prevShow = this.prevHide = e()),
            this.element.addClass("ui-accordion ui-widget ui-helper-reset"),
            (this.headers = this.element
              .find(i.header)
              .addClass(
                "ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"
              )),
            this._hoverable(this.headers),
            this._focusable(this.headers),
            this.headers
              .next()
              .addClass(
                "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"
              )
              .hide(),
            !i.collapsible &&
              (i.active === !1 || null == i.active) &&
              (i.active = 0),
            i.active < 0 && (i.active += this.headers.length),
            (this.active = this._findActive(i.active)
              .addClass("ui-accordion-header-active ui-state-active")
              .toggleClass("ui-corner-all ui-corner-top")),
            this.active.next().addClass("ui-accordion-content-active").show(),
            this._createIcons(),
            this.refresh(),
            this.element.attr("role", "tablist"),
            this.headers
              .attr("role", "tab")
              .each(function (t) {
                var i = e(this),
                  r = i.attr("id"),
                  s = i.next(),
                  o = s.attr("id");
                r || ((r = n + "-header-" + t), i.attr("id", r)),
                  o || ((o = n + "-panel-" + t), s.attr("id", o)),
                  i.attr("aria-controls", o),
                  s.attr("aria-labelledby", r);
              })
              .next()
              .attr("role", "tabpanel"),
            this.headers
              .not(this.active)
              .attr({
                "aria-selected": "false",
                tabIndex: -1,
              })
              .next()
              .attr({
                "aria-expanded": "false",
                "aria-hidden": "true",
              })
              .hide(),
            this.active.length
              ? this.active
                  .attr({
                    "aria-selected": "true",
                    tabIndex: 0,
                  })
                  .next()
                  .attr({
                    "aria-expanded": "true",
                    "aria-hidden": "false",
                  })
              : this.headers.eq(0).attr("tabIndex", 0),
            this._on(this.headers, {
              keydown: "_keydown",
            }),
            this._on(this.headers.next(), {
              keydown: "_panelKeyDown",
            }),
            this._setupEvents(i.event);
        },
        _getCreateEventData: function () {
          return {
            header: this.active,
            content: this.active.length ? this.active.next() : e(),
          };
        },
        _createIcons: function () {
          var t = this.options.icons;
          t &&
            (e("<span>")
              .addClass("ui-accordion-header-icon ui-icon " + t.header)
              .prependTo(this.headers),
            this.active
              .children(".ui-accordion-header-icon")
              .removeClass(t.header)
              .addClass(t.activeHeader),
            this.headers.addClass("ui-accordion-icons"));
        },
        _destroyIcons: function () {
          this.headers
            .removeClass("ui-accordion-icons")
            .children(".ui-accordion-header-icon")
            .remove();
        },
        _destroy: function () {
          var e;
          this.element
            .removeClass("ui-accordion ui-widget ui-helper-reset")
            .removeAttr("role"),
            this.headers
              .removeClass(
                "ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top"
              )
              .removeAttr("role")
              .removeAttr("aria-selected")
              .removeAttr("aria-controls")
              .removeAttr("tabIndex")
              .each(function () {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id");
              }),
            this._destroyIcons(),
            (e = this.headers
              .next()
              .css("display", "")
              .removeAttr("role")
              .removeAttr("aria-expanded")
              .removeAttr("aria-hidden")
              .removeAttr("aria-labelledby")
              .removeClass(
                "ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled"
              )
              .each(function () {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id");
              })),
            "content" !== this.options.heightStyle && e.css("height", "");
        },
        _setOption: function (e, t) {
          return "active" === e
            ? void this._activate(t)
            : ("event" === e &&
                (this.options.event &&
                  this._off(this.headers, this.options.event),
                this._setupEvents(t)),
              this._super(e, t),
              "collapsible" === e &&
                !t &&
                this.options.active === !1 &&
                this._activate(0),
              "icons" === e && (this._destroyIcons(), t && this._createIcons()),
              "disabled" === e &&
                this.headers
                  .add(this.headers.next())
                  .toggleClass("ui-state-disabled", !!t),
              void 0);
        },
        _keydown: function (t) {
          if (!t.altKey && !t.ctrlKey) {
            var n = e.ui.keyCode,
              i = this.headers.length,
              r = this.headers.index(t.target),
              s = !1;
            switch (t.keyCode) {
              case n.RIGHT:
              case n.DOWN:
                s = this.headers[(r + 1) % i];
                break;
              case n.LEFT:
              case n.UP:
                s = this.headers[(r - 1 + i) % i];
                break;
              case n.SPACE:
              case n.ENTER:
                this._eventHandler(t);
                break;
              case n.HOME:
                s = this.headers[0];
                break;
              case n.END:
                s = this.headers[i - 1];
            }
            s &&
              (e(t.target).attr("tabIndex", -1),
              e(s).attr("tabIndex", 0),
              s.focus(),
              t.preventDefault());
          }
        },
        _panelKeyDown: function (t) {
          t.keyCode === e.ui.keyCode.UP &&
            t.ctrlKey &&
            e(t.currentTarget).prev().focus();
        },
        refresh: function () {
          var t,
            n,
            i = this.options.heightStyle,
            r = this.element.parent();
          "fill" === i
            ? (e.support.minHeight ||
                ((n = r.css("overflow")), r.css("overflow", "hidden")),
              (t = r.height()),
              this.element.siblings(":visible").each(function () {
                var n = e(this),
                  i = n.css("position");
                "absolute" !== i && "fixed" !== i && (t -= n.outerHeight(!0));
              }),
              n && r.css("overflow", n),
              this.headers.each(function () {
                t -= e(this).outerHeight(!0);
              }),
              this.headers
                .next()
                .each(function () {
                  e(this).height(
                    Math.max(0, t - e(this).innerHeight() + e(this).height())
                  );
                })
                .css("overflow", "auto"))
            : "auto" === i &&
              ((t = 0),
              this.headers
                .next()
                .each(function () {
                  t = Math.max(t, e(this).css("height", "").height());
                })
                .height(t));
        },
        _activate: function (t) {
          var n = this._findActive(t)[0];
          n !== this.active[0] &&
            ((n = n || this.active[0]),
            this._eventHandler({
              target: n,
              currentTarget: n,
              preventDefault: e.noop,
            }));
        },
        _findActive: function (t) {
          return "number" == typeof t ? this.headers.eq(t) : e();
        },
        _setupEvents: function (t) {
          var n = {};
          t &&
            (e.each(t.split(" "), function (e, t) {
              n[t] = "_eventHandler";
            }),
            this._on(this.headers, n));
        },
        _eventHandler: function (t) {
          var n = this.options,
            i = this.active,
            r = e(t.currentTarget),
            s = r[0] === i[0],
            o = s && n.collapsible,
            a = o ? e() : r.next(),
            l = i.next(),
            c = {
              oldHeader: i,
              oldPanel: l,
              newHeader: o ? e() : r,
              newPanel: a,
            };
          t.preventDefault(),
            (s && !n.collapsible) ||
              this._trigger("beforeActivate", t, c) === !1 ||
              ((n.active = o ? !1 : this.headers.index(r)),
              (this.active = s ? e() : r),
              this._toggle(c),
              i.removeClass("ui-accordion-header-active ui-state-active"),
              n.icons &&
                i
                  .children(".ui-accordion-header-icon")
                  .removeClass(n.icons.activeHeader)
                  .addClass(n.icons.header),
              s ||
                (r
                  .removeClass("ui-corner-all")
                  .addClass(
                    "ui-accordion-header-active ui-state-active ui-corner-top"
                  ),
                n.icons &&
                  r
                    .children(".ui-accordion-header-icon")
                    .removeClass(n.icons.header)
                    .addClass(n.icons.activeHeader),
                r.next().addClass("ui-accordion-content-active")));
        },
        _toggle: function (t) {
          var n = t.newPanel,
            i = this.prevShow.length ? this.prevShow : t.oldPanel;
          this.prevShow.add(this.prevHide).stop(!0, !0),
            (this.prevShow = n),
            (this.prevHide = i),
            this.options.animate
              ? this._animate(n, i, t)
              : (i.hide(), n.show(), this._toggleComplete(t)),
            i.attr({
              "aria-expanded": "false",
              "aria-hidden": "true",
            }),
            i.prev().attr("aria-selected", "false"),
            n.length && i.length
              ? i.prev().attr("tabIndex", -1)
              : n.length &&
                this.headers
                  .filter(function () {
                    return 0 === e(this).attr("tabIndex");
                  })
                  .attr("tabIndex", -1),
            n
              .attr({
                "aria-expanded": "true",
                "aria-hidden": "false",
              })
              .prev()
              .attr({
                "aria-selected": "true",
                tabIndex: 0,
              });
        },
        _animate: function (e, t, r) {
          var s,
            o,
            a,
            l = this,
            c = 0,
            u = e.length && (!t.length || e.index() < t.index()),
            d = this.options.animate || {},
            p = (u && d.down) || d,
            h = function () {
              l._toggleComplete(r);
            };
          return (
            "number" == typeof p && (a = p),
            "string" == typeof p && (o = p),
            (o = o || p.easing || d.easing),
            (a = a || p.duration || d.duration),
            t.length
              ? e.length
                ? ((s = e.show().outerHeight()),
                  t.animate(n, {
                    duration: a,
                    easing: o,
                    step: function (e, t) {
                      t.now = Math.round(e);
                    },
                  }),
                  e.hide().animate(i, {
                    duration: a,
                    easing: o,
                    complete: h,
                    step: function (e, n) {
                      (n.now = Math.round(e)),
                        "height" !== n.prop
                          ? (c += n.now)
                          : "content" !== l.options.heightStyle &&
                            ((n.now = Math.round(s - t.outerHeight() - c)),
                            (c = 0));
                    },
                  }),
                  void 0)
                : t.animate(n, a, o, h)
              : e.animate(i, a, o, h)
          );
        },
        _toggleComplete: function (e) {
          var t = e.oldPanel;
          t
            .removeClass("ui-accordion-content-active")
            .prev()
            .removeClass("ui-corner-top")
            .addClass("ui-corner-all"),
            t.length && (t.parent()[0].className = t.parent()[0].className),
            this._trigger("activate", null, e);
        },
      }),
      e.uiBackCompat !== !1 &&
        ((function (e, t) {
          e.extend(t.options, {
            navigation: !1,
            navigationFilter: function () {
              return this.href.toLowerCase() === location.href.toLowerCase();
            },
          });
          var n = t._create;
          t._create = function () {
            if (this.options.navigation) {
              var t = this,
                i = this.element.find(this.options.header),
                r = i.next(),
                s = i.add(r).find("a").filter(this.options.navigationFilter)[0];
              s &&
                i.add(r).each(function (n) {
                  return e.contains(this, s)
                    ? ((t.options.active = Math.floor(n / 2)), !1)
                    : void 0;
                });
            }
            n.call(this);
          };
        })(jQuery, jQuery.ui.accordion.prototype),
        (function (e, t) {
          e.extend(t.options, {
            heightStyle: null,
            autoHeight: !0,
            clearStyle: !1,
            fillSpace: !1,
          });
          var n = t._create,
            i = t._setOption;
          e.extend(t, {
            _create: function () {
              (this.options.heightStyle =
                this.options.heightStyle || this._mergeHeightStyle()),
                n.call(this);
            },
            _setOption: function (e) {
              ("autoHeight" === e || "clearStyle" === e || "fillSpace" === e) &&
                (this.options.heightStyle = this._mergeHeightStyle()),
                i.apply(this, arguments);
            },
            _mergeHeightStyle: function () {
              var e = this.options;
              return e.fillSpace
                ? "fill"
                : e.clearStyle
                ? "content"
                : e.autoHeight
                ? "auto"
                : void 0;
            },
          });
        })(jQuery, jQuery.ui.accordion.prototype),
        (function (e, t) {
          e.extend(t.options.icons, {
            activeHeader: null,
            headerSelected: "ui-icon-triangle-1-s",
          });
          var n = t._createIcons;
          t._createIcons = function () {
            this.options.icons &&
              (this.options.icons.activeHeader =
                this.options.icons.activeHeader ||
                this.options.icons.headerSelected),
              n.call(this);
          };
        })(jQuery, jQuery.ui.accordion.prototype),
        (function (e, t) {
          t.activate = t._activate;
          var n = t._findActive;
          t._findActive = function (e) {
            return (
              -1 === e && (e = !1),
              e &&
                "number" != typeof e &&
                ((e = this.headers.index(this.headers.filter(e))),
                -1 === e && (e = !1)),
              n.call(this, e)
            );
          };
        })(jQuery, jQuery.ui.accordion.prototype),
        (jQuery.ui.accordion.prototype.resize =
          jQuery.ui.accordion.prototype.refresh),
        (function (e, t) {
          e.extend(t.options, {
            change: null,
            changestart: null,
          });
          var n = t._trigger;
          t._trigger = function (e, t, i) {
            var r = n.apply(this, arguments);
            return r
              ? ("beforeActivate" === e
                  ? (r = n.call(this, "changestart", t, {
                      oldHeader: i.oldHeader,
                      oldContent: i.oldPanel,
                      newHeader: i.newHeader,
                      newContent: i.newPanel,
                    }))
                  : "activate" === e &&
                    (r = n.call(this, "change", t, {
                      oldHeader: i.oldHeader,
                      oldContent: i.oldPanel,
                      newHeader: i.newHeader,
                      newContent: i.newPanel,
                    })),
                r)
              : !1;
          };
        })(jQuery, jQuery.ui.accordion.prototype),
        (function (e, t) {
          e.extend(t.options, {
            animate: null,
            animated: "slide",
          });
          var n = t._create;
          t._create = function () {
            var e = this.options;
            null === e.animate &&
              (e.animate = e.animated
                ? "slide" === e.animated
                  ? 300
                  : "bounceslide" === e.animated
                  ? {
                      duration: 200,
                      down: {
                        easing: "easeOutBounce",
                        duration: 1e3,
                      },
                    }
                  : e.animated
                : !1),
              n.call(this);
          };
        })(jQuery, jQuery.ui.accordion.prototype));
  })(jQuery),
  (function (e) {
    var t = 0;
    e.widget("ui.autocomplete", {
      version: "1.9.2",
      defaultElement: "<input>",
      options: {
        appendTo: "body",
        autoFocus: !1,
        delay: 300,
        minLength: 1,
        position: {
          my: "left top",
          at: "left bottom",
          collision: "none",
        },
        source: null,
        change: null,
        close: null,
        focus: null,
        open: null,
        response: null,
        search: null,
        select: null,
      },
      pending: 0,
      _create: function () {
        var t, n, i;
        (this.isMultiLine = this._isMultiLine()),
          (this.valueMethod =
            this.element[this.element.is("input,textarea") ? "val" : "text"]),
          (this.isNewMenu = !0),
          this.element
            .addClass("ui-autocomplete-input")
            .attr("autocomplete", "off"),
          this._on(this.element, {
            keydown: function (r) {
              if (this.element.prop("readOnly"))
                return (t = !0), (i = !0), (n = !0), void 0;
              (t = !1), (i = !1), (n = !1);
              var s = e.ui.keyCode;
              switch (r.keyCode) {
                case s.PAGE_UP:
                  (t = !0), this._move("previousPage", r);
                  break;
                case s.PAGE_DOWN:
                  (t = !0), this._move("nextPage", r);
                  break;
                case s.UP:
                  (t = !0), this._keyEvent("previous", r);
                  break;
                case s.DOWN:
                  (t = !0), this._keyEvent("next", r);
                  break;
                case s.ENTER:
                case s.NUMPAD_ENTER:
                  this.menu.active &&
                    ((t = !0), r.preventDefault(), this.menu.select(r));
                  break;
                case s.TAB:
                  this.menu.active && this.menu.select(r);
                  break;
                case s.ESCAPE:
                  this.menu.element.is(":visible") &&
                    (this._value(this.term), this.close(r), r.preventDefault());
                  break;
                default:
                  (n = !0), this._searchTimeout(r);
              }
            },
            keypress: function (i) {
              if (t) return (t = !1), void i.preventDefault();
              if (!n) {
                var r = e.ui.keyCode;
                switch (i.keyCode) {
                  case r.PAGE_UP:
                    this._move("previousPage", i);
                    break;
                  case r.PAGE_DOWN:
                    this._move("nextPage", i);
                    break;
                  case r.UP:
                    this._keyEvent("previous", i);
                    break;
                  case r.DOWN:
                    this._keyEvent("next", i);
                }
              }
            },
            input: function (e) {
              return i
                ? ((i = !1), void e.preventDefault())
                : void this._searchTimeout(e);
            },
            focus: function () {
              (this.selectedItem = null), (this.previous = this._value());
            },
            blur: function (e) {
              return this.cancelBlur
                ? void delete this.cancelBlur
                : (clearTimeout(this.searching),
                  this.close(e),
                  this._change(e),
                  void 0);
            },
          }),
          this._initSource(),
          (this.menu = e("<ul>")
            .addClass("ui-autocomplete")
            .appendTo(this.document.find(this.options.appendTo || "body")[0])
            .menu({
              input: e(),
              role: null,
            })
            .zIndex(this.element.zIndex() + 1)
            .hide()
            .data("menu")),
          this._on(this.menu.element, {
            mousedown: function (t) {
              t.preventDefault(),
                (this.cancelBlur = !0),
                this._delay(function () {
                  delete this.cancelBlur;
                });
              var n = this.menu.element[0];
              e(t.target).closest(".ui-menu-item").length ||
                this._delay(function () {
                  var t = this;
                  this.document.one("mousedown", function (i) {
                    i.target !== t.element[0] &&
                      i.target !== n &&
                      !e.contains(n, i.target) &&
                      t.close();
                  });
                });
            },
            menufocus: function (t, n) {
              if (
                this.isNewMenu &&
                ((this.isNewMenu = !1),
                t.originalEvent && /^mouse/.test(t.originalEvent.type))
              )
                return (
                  this.menu.blur(),
                  void this.document.one("mousemove", function () {
                    e(t.target).trigger(t.originalEvent);
                  })
                );
              var i =
                n.item.data("ui-autocomplete-item") ||
                n.item.data("item.autocomplete");
              !1 !==
              this._trigger("focus", t, {
                item: i,
              })
                ? t.originalEvent &&
                  /^key/.test(t.originalEvent.type) &&
                  this._value(i.value)
                : this.liveRegion.text(i.value);
            },
            menuselect: function (e, t) {
              var n =
                  t.item.data("ui-autocomplete-item") ||
                  t.item.data("item.autocomplete"),
                i = this.previous;
              this.element[0] !== this.document[0].activeElement &&
                (this.element.focus(),
                (this.previous = i),
                this._delay(function () {
                  (this.previous = i), (this.selectedItem = n);
                })),
                !1 !==
                  this._trigger("select", e, {
                    item: n,
                  }) && this._value(n.value),
                (this.term = this._value()),
                this.close(e),
                (this.selectedItem = n);
            },
          }),
          (this.liveRegion = e("<span>", {
            role: "status",
            "aria-live": "polite",
          })
            .addClass("ui-helper-hidden-accessible")
            .insertAfter(this.element)),
          e.fn.bgiframe && this.menu.element.bgiframe(),
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete");
            },
          });
      },
      _destroy: function () {
        clearTimeout(this.searching),
          this.element
            .removeClass("ui-autocomplete-input")
            .removeAttr("autocomplete"),
          this.menu.element.remove(),
          this.liveRegion.remove();
      },
      _setOption: function (e, t) {
        this._super(e, t),
          "source" === e && this._initSource(),
          "appendTo" === e &&
            this.menu.element.appendTo(this.document.find(t || "body")[0]),
          "disabled" === e && t && this.xhr && this.xhr.abort();
      },
      _isMultiLine: function () {
        return this.element.is("textarea")
          ? !0
          : this.element.is("input")
          ? !1
          : this.element.prop("isContentEditable");
      },
      _initSource: function () {
        var t,
          n,
          i = this;
        e.isArray(this.options.source)
          ? ((t = this.options.source),
            (this.source = function (n, i) {
              i(e.ui.autocomplete.filter(t, n.term));
            }))
          : "string" == typeof this.options.source
          ? ((n = this.options.source),
            (this.source = function (t, r) {
              i.xhr && i.xhr.abort(),
                (i.xhr = e.ajax({
                  url: n,
                  data: t,
                  dataType: "json",
                  success: function (e) {
                    r(e);
                  },
                  error: function () {
                    r([]);
                  },
                }));
            }))
          : (this.source = this.options.source);
      },
      _searchTimeout: function (e) {
        clearTimeout(this.searching),
          (this.searching = this._delay(function () {
            this.term !== this._value() &&
              ((this.selectedItem = null), this.search(null, e));
          }, this.options.delay));
      },
      search: function (e, t) {
        return (
          (e = null != e ? e : this._value()),
          (this.term = this._value()),
          e.length < this.options.minLength
            ? this.close(t)
            : this._trigger("search", t) !== !1
            ? this._search(e)
            : void 0
        );
      },
      _search: function (e) {
        this.pending++,
          this.element.addClass("ui-autocomplete-loading"),
          (this.cancelSearch = !1),
          this.source(
            {
              term: e,
            },
            this._response()
          );
      },
      _response: function () {
        var e = this,
          n = ++t;
        return function (i) {
          n === t && e.__response(i),
            e.pending--,
            e.pending || e.element.removeClass("ui-autocomplete-loading");
        };
      },
      __response: function (e) {
        e && (e = this._normalize(e)),
          this._trigger("response", null, {
            content: e,
          }),
          !this.options.disabled && e && e.length && !this.cancelSearch
            ? (this._suggest(e), this._trigger("open"))
            : this._close();
      },
      close: function (e) {
        (this.cancelSearch = !0), this._close(e);
      },
      _close: function (e) {
        this.menu.element.is(":visible") &&
          (this.menu.element.hide(),
          this.menu.blur(),
          (this.isNewMenu = !0),
          this._trigger("close", e));
      },
      _change: function (e) {
        this.previous !== this._value() &&
          this._trigger("change", e, {
            item: this.selectedItem,
          });
      },
      _normalize: function (t) {
        return t.length && t[0].label && t[0].value
          ? t
          : e.map(t, function (t) {
              return "string" == typeof t
                ? {
                    label: t,
                    value: t,
                  }
                : e.extend(
                    {
                      label: t.label || t.value,
                      value: t.value || t.label,
                    },
                    t
                  );
            });
      },
      _suggest: function (t) {
        var n = this.menu.element.empty().zIndex(this.element.zIndex() + 1);
        this._renderMenu(n, t),
          this.menu.refresh(),
          n.show(),
          this._resizeMenu(),
          n.position(
            e.extend(
              {
                of: this.element,
              },
              this.options.position
            )
          ),
          this.options.autoFocus && this.menu.next();
      },
      _resizeMenu: function () {
        var e = this.menu.element;
        e.outerWidth(
          Math.max(e.width("").outerWidth() + 1, this.element.outerWidth())
        );
      },
      _renderMenu: function (t, n) {
        var i = this;
        e.each(n, function (e, n) {
          i._renderItemData(t, n);
        });
      },
      _renderItemData: function (e, t) {
        return this._renderItem(e, t).data("ui-autocomplete-item", t);
      },
      _renderItem: function (t, n) {
        return e("<li>").append(e("<a>").text(n.label)).appendTo(t);
      },
      _move: function (e, t) {
        return this.menu.element.is(":visible")
          ? (this.menu.isFirstItem() && /^previous/.test(e)) ||
            (this.menu.isLastItem() && /^next/.test(e))
            ? (this._value(this.term), void this.menu.blur())
            : void this.menu[e](t)
          : void this.search(null, t);
      },
      widget: function () {
        return this.menu.element;
      },
      _value: function () {
        return this.valueMethod.apply(this.element, arguments);
      },
      _keyEvent: function (e, t) {
        (!this.isMultiLine || this.menu.element.is(":visible")) &&
          (this._move(e, t), t.preventDefault());
      },
    }),
      e.extend(e.ui.autocomplete, {
        escapeRegex: function (e) {
          return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        },
        filter: function (t, n) {
          var i = new RegExp(e.ui.autocomplete.escapeRegex(n), "i");
          return e.grep(t, function (e) {
            return i.test(e.label || e.value || e);
          });
        },
      }),
      e.widget("ui.autocomplete", e.ui.autocomplete, {
        options: {
          messages: {
            noResults: "No search results.",
            results: function (e) {
              return (
                e +
                (e > 1 ? " results are" : " result is") +
                " available, use up and down arrow keys to navigate."
              );
            },
          },
        },
        __response: function (e) {
          var t;
          this._superApply(arguments),
            this.options.disabled ||
              this.cancelSearch ||
              ((t =
                e && e.length
                  ? this.options.messages.results(e.length)
                  : this.options.messages.noResults),
              this.liveRegion.text(t));
        },
      });
  })(jQuery),
  (function (e) {
    var t,
      n,
      i,
      r,
      s = "ui-button ui-widget ui-state-default ui-corner-all",
      o = "ui-state-hover ui-state-active ",
      a =
        "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
      l = function () {
        var t = e(this).find(":ui-button");
        setTimeout(function () {
          t.button("refresh");
        }, 1);
      },
      c = function (t) {
        var n = t.name,
          i = t.form,
          r = e([]);
        return (
          n &&
            (r = i
              ? e(i).find("[name='" + n + "']")
              : e("[name='" + n + "']", t.ownerDocument).filter(function () {
                  return !this.form;
                })),
          r
        );
      };
    e.widget("ui.button", {
      version: "1.9.2",
      defaultElement: "<button>",
      options: {
        disabled: null,
        text: !0,
        label: null,
        icons: {
          primary: null,
          secondary: null,
        },
      },
      _create: function () {
        this.element
          .closest("form")
          .unbind("reset" + this.eventNamespace)
          .bind("reset" + this.eventNamespace, l),
          "boolean" != typeof this.options.disabled
            ? (this.options.disabled = !!this.element.prop("disabled"))
            : this.element.prop("disabled", this.options.disabled),
          this._determineButtonType(),
          (this.hasTitle = !!this.buttonElement.attr("title"));
        var o = this,
          a = this.options,
          u = "checkbox" === this.type || "radio" === this.type,
          d = u ? "" : "ui-state-active",
          p = "ui-state-focus";
        null === a.label &&
          (a.label =
            "input" === this.type
              ? this.buttonElement.val()
              : this.buttonElement.html()),
          this._hoverable(this.buttonElement),
          this.buttonElement
            .addClass(s)
            .attr("role", "button")
            .bind("mouseenter" + this.eventNamespace, function () {
              a.disabled || (this === t && e(this).addClass("ui-state-active"));
            })
            .bind("mouseleave" + this.eventNamespace, function () {
              a.disabled || e(this).removeClass(d);
            })
            .bind("click" + this.eventNamespace, function (e) {
              a.disabled && (e.preventDefault(), e.stopImmediatePropagation());
            }),
          this.element
            .bind("focus" + this.eventNamespace, function () {
              o.buttonElement.addClass(p);
            })
            .bind("blur" + this.eventNamespace, function () {
              o.buttonElement.removeClass(p);
            }),
          u &&
            (this.element.bind("change" + this.eventNamespace, function () {
              r || o.refresh();
            }),
            this.buttonElement
              .bind("mousedown" + this.eventNamespace, function (e) {
                a.disabled || ((r = !1), (n = e.pageX), (i = e.pageY));
              })
              .bind("mouseup" + this.eventNamespace, function (e) {
                a.disabled || ((n !== e.pageX || i !== e.pageY) && (r = !0));
              })),
          "checkbox" === this.type
            ? this.buttonElement.bind(
                "click" + this.eventNamespace,
                function () {
                  return a.disabled || r
                    ? !1
                    : (e(this).toggleClass("ui-state-active"),
                      void o.buttonElement.attr(
                        "aria-pressed",
                        o.element[0].checked
                      ));
                }
              )
            : "radio" === this.type
            ? this.buttonElement.bind(
                "click" + this.eventNamespace,
                function () {
                  if (a.disabled || r) return !1;
                  e(this).addClass("ui-state-active"),
                    o.buttonElement.attr("aria-pressed", "true");
                  var t = o.element[0];
                  c(t)
                    .not(t)
                    .map(function () {
                      return e(this).button("widget")[0];
                    })
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false");
                }
              )
            : (this.buttonElement
                .bind("mousedown" + this.eventNamespace, function () {
                  return a.disabled
                    ? !1
                    : (e(this).addClass("ui-state-active"),
                      (t = this),
                      o.document.one("mouseup", function () {
                        t = null;
                      }),
                      void 0);
                })
                .bind("mouseup" + this.eventNamespace, function () {
                  return a.disabled
                    ? !1
                    : void e(this).removeClass("ui-state-active");
                })
                .bind("keydown" + this.eventNamespace, function (t) {
                  return a.disabled
                    ? !1
                    : void (
                        (t.keyCode === e.ui.keyCode.SPACE ||
                          t.keyCode === e.ui.keyCode.ENTER) &&
                        e(this).addClass("ui-state-active")
                      );
                })
                .bind("keyup" + this.eventNamespace, function () {
                  e(this).removeClass("ui-state-active");
                }),
              this.buttonElement.is("a") &&
                this.buttonElement.keyup(function (t) {
                  t.keyCode === e.ui.keyCode.SPACE && e(this).click();
                })),
          this._setOption("disabled", a.disabled),
          this._resetButton();
      },
      _determineButtonType: function () {
        var e, t, n;
        (this.type = this.element.is("[type=checkbox]")
          ? "checkbox"
          : this.element.is("[type=radio]")
          ? "radio"
          : this.element.is("input")
          ? "input"
          : "button"),
          "checkbox" === this.type || "radio" === this.type
            ? ((e = this.element.parents().last()),
              (t = "label[for='" + this.element.attr("id") + "']"),
              (this.buttonElement = e.find(t)),
              this.buttonElement.length ||
                ((e = e.length ? e.siblings() : this.element.siblings()),
                (this.buttonElement = e.filter(t)),
                this.buttonElement.length || (this.buttonElement = e.find(t))),
              this.element.addClass("ui-helper-hidden-accessible"),
              (n = this.element.is(":checked")),
              n && this.buttonElement.addClass("ui-state-active"),
              this.buttonElement.prop("aria-pressed", n))
            : (this.buttonElement = this.element);
      },
      widget: function () {
        return this.buttonElement;
      },
      _destroy: function () {
        this.element.removeClass("ui-helper-hidden-accessible"),
          this.buttonElement
            .removeClass(s + " " + o + " " + a)
            .removeAttr("role")
            .removeAttr("aria-pressed")
            .html(this.buttonElement.find(".ui-button-text").html()),
          this.hasTitle || this.buttonElement.removeAttr("title");
      },
      _setOption: function (e, t) {
        return (
          this._super(e, t),
          "disabled" === e
            ? void (t
                ? this.element.prop("disabled", !0)
                : this.element.prop("disabled", !1))
            : void this._resetButton()
        );
      },
      refresh: function () {
        var t = this.element.is("input, button")
          ? this.element.is(":disabled")
          : this.element.hasClass("ui-button-disabled");
        t !== this.options.disabled && this._setOption("disabled", t),
          "radio" === this.type
            ? c(this.element[0]).each(function () {
                e(this).is(":checked")
                  ? e(this)
                      .button("widget")
                      .addClass("ui-state-active")
                      .attr("aria-pressed", "true")
                  : e(this)
                      .button("widget")
                      .removeClass("ui-state-active")
                      .attr("aria-pressed", "false");
              })
            : "checkbox" === this.type &&
              (this.element.is(":checked")
                ? this.buttonElement
                    .addClass("ui-state-active")
                    .attr("aria-pressed", "true")
                : this.buttonElement
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false"));
      },
      _resetButton: function () {
        if ("input" === this.type)
          return void (
            this.options.label && this.element.val(this.options.label)
          );
        var t = this.buttonElement.removeClass(a),
          n = e("<span></span>", this.document[0])
            .addClass("ui-button-text")
            .html(this.options.label)
            .appendTo(t.empty())
            .text(),
          i = this.options.icons,
          r = i.primary && i.secondary,
          s = [];
        i.primary || i.secondary
          ? (this.options.text &&
              s.push(
                "ui-button-text-icon" +
                  (r ? "s" : i.primary ? "-primary" : "-secondary")
              ),
            i.primary &&
              t.prepend(
                "<span class='ui-button-icon-primary ui-icon " +
                  i.primary +
                  "'></span>"
              ),
            i.secondary &&
              t.append(
                "<span class='ui-button-icon-secondary ui-icon " +
                  i.secondary +
                  "'></span>"
              ),
            this.options.text ||
              (s.push(r ? "ui-button-icons-only" : "ui-button-icon-only"),
              this.hasTitle || t.attr("title", e.trim(n))))
          : s.push("ui-button-text-only"),
          t.addClass(s.join(" "));
      },
    }),
      e.widget("ui.buttonset", {
        version: "1.9.2",
        options: {
          items:
            "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)",
        },
        _create: function () {
          this.element.addClass("ui-buttonset");
        },
        _init: function () {
          this.refresh();
        },
        _setOption: function (e, t) {
          "disabled" === e && this.buttons.button("option", e, t),
            this._super(e, t);
        },
        refresh: function () {
          var t = "rtl" === this.element.css("direction");
          this.buttons = this.element
            .find(this.options.items)
            .filter(":ui-button")
            .button("refresh")
            .end()
            .not(":ui-button")
            .button()
            .end()
            .map(function () {
              return e(this).button("widget")[0];
            })
            .removeClass("ui-corner-all ui-corner-left ui-corner-right")
            .filter(":first")
            .addClass(t ? "ui-corner-right" : "ui-corner-left")
            .end()
            .filter(":last")
            .addClass(t ? "ui-corner-left" : "ui-corner-right")
            .end()
            .end();
        },
        _destroy: function () {
          this.element.removeClass("ui-buttonset"),
            this.buttons
              .map(function () {
                return e(this).button("widget")[0];
              })
              .removeClass("ui-corner-left ui-corner-right")
              .end()
              .button("destroy");
        },
      });
  })(jQuery),
  (function ($, undefined) {
    function Datepicker() {
      (this.debug = !1),
        (this._curInst = null),
        (this._keyEvent = !1),
        (this._disabledInputs = []),
        (this._datepickerShowing = !1),
        (this._inDialog = !1),
        (this._mainDivId = "ui-datepicker-div"),
        (this._inlineClass = "ui-datepicker-inline"),
        (this._appendClass = "ui-datepicker-append"),
        (this._triggerClass = "ui-datepicker-trigger"),
        (this._dialogClass = "ui-datepicker-dialog"),
        (this._disableClass = "ui-datepicker-disabled"),
        (this._unselectableClass = "ui-datepicker-unselectable"),
        (this._currentClass = "ui-datepicker-current-day"),
        (this._dayOverClass = "ui-datepicker-days-cell-over"),
        (this.regional = []),
        (this.regional[""] = {
          closeText: "Done",
          prevText: "Prev",
          nextText: "Next",
          currentText: "Today",
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
          ],
          dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
          dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          weekHeader: "Wk",
          dateFormat: "mm/dd/yy",
          firstDay: 0,
          isRTL: !1,
          showMonthAfterYear: !1,
          yearSuffix: "",
        }),
        (this._defaults = {
          showOn: "focus",
          showAnim: "fadeIn",
          showOptions: {},
          defaultDate: null,
          appendText: "",
          buttonText: "...",
          buttonImage: "",
          buttonImageOnly: !1,
          hideIfNoPrevNext: !1,
          navigationAsDateFormat: !1,
          gotoCurrent: !1,
          changeMonth: !1,
          changeYear: !1,
          yearRange: "c-10:c+10",
          showOtherMonths: !1,
          selectOtherMonths: !1,
          showWeek: !1,
          calculateWeek: this.iso8601Week,
          shortYearCutoff: "+10",
          minDate: null,
          maxDate: null,
          duration: "fast",
          beforeShowDay: null,
          beforeShow: null,
          onSelect: null,
          onChangeMonthYear: null,
          onClose: null,
          numberOfMonths: 1,
          showCurrentAtPos: 0,
          stepMonths: 1,
          stepBigMonths: 12,
          altField: "",
          altFormat: "",
          constrainInput: !0,
          showButtonPanel: !1,
          autoSize: !1,
          disabled: !1,
        }),
        $.extend(this._defaults, this.regional[""]),
        (this.dpDiv = bindHover(
          $(
            '<div id="' +
              this._mainDivId +
              '" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'
          )
        ));
    }
    function bindHover(e) {
      var t =
        "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
      return e
        .delegate(t, "mouseout", function () {
          $(this).removeClass("ui-state-hover"),
            -1 != this.className.indexOf("ui-datepicker-prev") &&
              $(this).removeClass("ui-datepicker-prev-hover"),
            -1 != this.className.indexOf("ui-datepicker-next") &&
              $(this).removeClass("ui-datepicker-next-hover");
        })
        .delegate(t, "mouseover", function () {
          $.datepicker._isDisabledDatepicker(
            instActive.inline ? e.parent()[0] : instActive.input[0]
          ) ||
            ($(this)
              .parents(".ui-datepicker-calendar")
              .find("a")
              .removeClass("ui-state-hover"),
            $(this).addClass("ui-state-hover"),
            -1 != this.className.indexOf("ui-datepicker-prev") &&
              $(this).addClass("ui-datepicker-prev-hover"),
            -1 != this.className.indexOf("ui-datepicker-next") &&
              $(this).addClass("ui-datepicker-next-hover"));
        });
    }
    function extendRemove(e, t) {
      $.extend(e, t);
      for (var n in t) (null == t[n] || t[n] == undefined) && (e[n] = t[n]);
      return e;
    }
    $.extend($.ui, {
      datepicker: {
        version: "1.9.2",
      },
    });
    var PROP_NAME = "datepicker",
      dpuuid = new Date().getTime(),
      instActive;
    $.extend(Datepicker.prototype, {
      markerClassName: "hasDatepicker",
      maxRows: 4,
      log: function () {
        this.debug && console.log.apply("", arguments);
      },
      _widgetDatepicker: function () {
        return this.dpDiv;
      },
      setDefaults: function (e) {
        return extendRemove(this._defaults, e || {}), this;
      },
      _attachDatepicker: function (target, settings) {
        var inlineSettings = null;
        for (var attrName in this._defaults) {
          var attrValue = target.getAttribute("date:" + attrName);
          if (attrValue) {
            inlineSettings = inlineSettings || {};
            try {
              inlineSettings[attrName] = eval(attrValue);
            } catch (err) {
              inlineSettings[attrName] = attrValue;
            }
          }
        }
        var nodeName = target.nodeName.toLowerCase(),
          inline = "div" == nodeName || "span" == nodeName;
        target.id || ((this.uuid += 1), (target.id = "dp" + this.uuid));
        var inst = this._newInst($(target), inline);
        (inst.settings = $.extend({}, settings || {}, inlineSettings || {})),
          "input" == nodeName
            ? this._connectDatepicker(target, inst)
            : inline && this._inlineDatepicker(target, inst);
      },
      _newInst: function (e, t) {
        var n = e[0].id.replace(/([^A-Za-z0-9_-])/g, "\\\\$1");
        return {
          id: n,
          input: e,
          selectedDay: 0,
          selectedMonth: 0,
          selectedYear: 0,
          drawMonth: 0,
          drawYear: 0,
          inline: t,
          dpDiv: t
            ? bindHover(
                $(
                  '<div class="' +
                    this._inlineClass +
                    ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'
                )
              )
            : this.dpDiv,
        };
      },
      _connectDatepicker: function (e, t) {
        var n = $(e);
        (t.append = $([])),
          (t.trigger = $([])),
          n.hasClass(this.markerClassName) ||
            (this._attachments(n, t),
            n
              .addClass(this.markerClassName)
              .keydown(this._doKeyDown)
              .keypress(this._doKeyPress)
              .keyup(this._doKeyUp)
              .bind("setData.datepicker", function (e, n, i) {
                t.settings[n] = i;
              })
              .bind("getData.datepicker", function (e, n) {
                return this._get(t, n);
              }),
            this._autoSize(t),
            $.data(e, PROP_NAME, t),
            t.settings.disabled && this._disableDatepicker(e));
      },
      _attachments: function (e, t) {
        var n = this._get(t, "appendText"),
          i = this._get(t, "isRTL");
        t.append && t.append.remove(),
          n &&
            ((t.append = $(
              '<span class="' + this._appendClass + '">' + n + "</span>"
            )),
            e[i ? "before" : "after"](t.append)),
          e.unbind("focus", this._showDatepicker),
          t.trigger && t.trigger.remove();
        var r = this._get(t, "showOn");
        if (
          (("focus" == r || "both" == r) && e.focus(this._showDatepicker),
          "button" == r || "both" == r)
        ) {
          var s = this._get(t, "buttonText"),
            o = this._get(t, "buttonImage");
          (t.trigger = $(
            this._get(t, "buttonImageOnly")
              ? $("<img/>").addClass(this._triggerClass).attr({
                  src: o,
                  alt: s,
                  title: s,
                })
              : $('<button type="button"></button>')
                  .addClass(this._triggerClass)
                  .html(
                    "" == o
                      ? s
                      : $("<img/>").attr({
                          src: o,
                          alt: s,
                          title: s,
                        })
                  )
          )),
            e[i ? "before" : "after"](t.trigger),
            t.trigger.click(function () {
              return (
                $.datepicker._datepickerShowing &&
                $.datepicker._lastInput == e[0]
                  ? $.datepicker._hideDatepicker()
                  : $.datepicker._datepickerShowing &&
                    $.datepicker._lastInput != e[0]
                  ? ($.datepicker._hideDatepicker(),
                    $.datepicker._showDatepicker(e[0]))
                  : $.datepicker._showDatepicker(e[0]),
                !1
              );
            });
        }
      },
      _autoSize: function (e) {
        if (this._get(e, "autoSize") && !e.inline) {
          var t = new Date(2009, 11, 20),
            n = this._get(e, "dateFormat");
          if (n.match(/[DM]/)) {
            var i = function (e) {
              for (var t = 0, n = 0, i = 0; i < e.length; i++)
                e[i].length > t && ((t = e[i].length), (n = i));
              return n;
            };
            t.setMonth(
              i(this._get(e, n.match(/MM/) ? "monthNames" : "monthNamesShort"))
            ),
              t.setDate(
                i(this._get(e, n.match(/DD/) ? "dayNames" : "dayNamesShort")) +
                  20 -
                  t.getDay()
              );
          }
          e.input.attr("size", this._formatDate(e, t).length);
        }
      },
      _inlineDatepicker: function (e, t) {
        var n = $(e);
        n.hasClass(this.markerClassName) ||
          (n
            .addClass(this.markerClassName)
            .append(t.dpDiv)
            .bind("setData.datepicker", function (e, n, i) {
              t.settings[n] = i;
            })
            .bind("getData.datepicker", function (e, n) {
              return this._get(t, n);
            }),
          $.data(e, PROP_NAME, t),
          this._setDate(t, this._getDefaultDate(t), !0),
          this._updateDatepicker(t),
          this._updateAlternate(t),
          t.settings.disabled && this._disableDatepicker(e),
          t.dpDiv.css("display", "block"));
      },
      _dialogDatepicker: function (e, t, n, i, r) {
        var s = this._dialogInst;
        if (!s) {
          this.uuid += 1;
          var o = "dp" + this.uuid;
          (this._dialogInput = $(
            '<input type="text" id="' +
              o +
              '" style="position: absolute; top: -100px; width: 0px;"/>'
          )),
            this._dialogInput.keydown(this._doKeyDown),
            $("body").append(this._dialogInput),
            (s = this._dialogInst = this._newInst(this._dialogInput, !1)),
            (s.settings = {}),
            $.data(this._dialogInput[0], PROP_NAME, s);
        }
        if (
          (extendRemove(s.settings, i || {}),
          (t = t && t.constructor == Date ? this._formatDate(s, t) : t),
          this._dialogInput.val(t),
          (this._pos = r ? (r.length ? r : [r.pageX, r.pageY]) : null),
          !this._pos)
        ) {
          var a = document.documentElement.clientWidth,
            l = document.documentElement.clientHeight,
            c = document.documentElement.scrollLeft || document.body.scrollLeft,
            u = document.documentElement.scrollTop || document.body.scrollTop;
          this._pos = [a / 2 - 100 + c, l / 2 - 150 + u];
        }
        return (
          this._dialogInput
            .css("left", this._pos[0] + 20 + "px")
            .css("top", this._pos[1] + "px"),
          (s.settings.onSelect = n),
          (this._inDialog = !0),
          this.dpDiv.addClass(this._dialogClass),
          this._showDatepicker(this._dialogInput[0]),
          $.blockUI && $.blockUI(this.dpDiv),
          $.data(this._dialogInput[0], PROP_NAME, s),
          this
        );
      },
      _destroyDatepicker: function (e) {
        var t = $(e),
          n = $.data(e, PROP_NAME);
        if (t.hasClass(this.markerClassName)) {
          var i = e.nodeName.toLowerCase();
          $.removeData(e, PROP_NAME),
            "input" == i
              ? (n.append.remove(),
                n.trigger.remove(),
                t
                  .removeClass(this.markerClassName)
                  .unbind("focus", this._showDatepicker)
                  .unbind("keydown", this._doKeyDown)
                  .unbind("keypress", this._doKeyPress)
                  .unbind("keyup", this._doKeyUp))
              : ("div" == i || "span" == i) &&
                t.removeClass(this.markerClassName).empty();
        }
      },
      _enableDatepicker: function (e) {
        var t = $(e),
          n = $.data(e, PROP_NAME);
        if (t.hasClass(this.markerClassName)) {
          var i = e.nodeName.toLowerCase();
          if ("input" == i)
            (e.disabled = !1),
              n.trigger
                .filter("button")
                .each(function () {
                  this.disabled = !1;
                })
                .end()
                .filter("img")
                .css({
                  opacity: "1.0",
                  cursor: "",
                });
          else if ("div" == i || "span" == i) {
            var r = t.children("." + this._inlineClass);
            r.children().removeClass("ui-state-disabled"),
              r
                .find("select.ui-datepicker-month, select.ui-datepicker-year")
                .prop("disabled", !1);
          }
          this._disabledInputs = $.map(this._disabledInputs, function (t) {
            return t == e ? null : t;
          });
        }
      },
      _disableDatepicker: function (e) {
        var t = $(e),
          n = $.data(e, PROP_NAME);
        if (t.hasClass(this.markerClassName)) {
          var i = e.nodeName.toLowerCase();
          if ("input" == i)
            (e.disabled = !0),
              n.trigger
                .filter("button")
                .each(function () {
                  this.disabled = !0;
                })
                .end()
                .filter("img")
                .css({
                  opacity: "0.5",
                  cursor: "default",
                });
          else if ("div" == i || "span" == i) {
            var r = t.children("." + this._inlineClass);
            r.children().addClass("ui-state-disabled"),
              r
                .find("select.ui-datepicker-month, select.ui-datepicker-year")
                .prop("disabled", !0);
          }
          (this._disabledInputs = $.map(this._disabledInputs, function (t) {
            return t == e ? null : t;
          })),
            (this._disabledInputs[this._disabledInputs.length] = e);
        }
      },
      _isDisabledDatepicker: function (e) {
        if (!e) return !1;
        for (var t = 0; t < this._disabledInputs.length; t++)
          if (this._disabledInputs[t] == e) return !0;
        return !1;
      },
      _getInst: function (e) {
        try {
          return $.data(e, PROP_NAME);
        } catch (t) {
          throw "Missing instance data for this datepicker";
        }
      },
      _optionDatepicker: function (e, t, n) {
        var i = this._getInst(e);
        if (2 == arguments.length && "string" == typeof t)
          return "defaults" == t
            ? $.extend({}, $.datepicker._defaults)
            : i
            ? "all" == t
              ? $.extend({}, i.settings)
              : this._get(i, t)
            : null;
        var r = t || {};
        if (("string" == typeof t && ((r = {}), (r[t] = n)), i)) {
          this._curInst == i && this._hideDatepicker();
          var s = this._getDateDatepicker(e, !0),
            o = this._getMinMaxDate(i, "min"),
            a = this._getMinMaxDate(i, "max");
          extendRemove(i.settings, r),
            null !== o &&
              r.dateFormat !== undefined &&
              r.minDate === undefined &&
              (i.settings.minDate = this._formatDate(i, o)),
            null !== a &&
              r.dateFormat !== undefined &&
              r.maxDate === undefined &&
              (i.settings.maxDate = this._formatDate(i, a)),
            this._attachments($(e), i),
            this._autoSize(i),
            this._setDate(i, s),
            this._updateAlternate(i),
            this._updateDatepicker(i);
        }
      },
      _changeDatepicker: function (e, t, n) {
        this._optionDatepicker(e, t, n);
      },
      _refreshDatepicker: function (e) {
        var t = this._getInst(e);
        t && this._updateDatepicker(t);
      },
      _setDateDatepicker: function (e, t) {
        var n = this._getInst(e);
        n &&
          (this._setDate(n, t),
          this._updateDatepicker(n),
          this._updateAlternate(n));
      },
      _getDateDatepicker: function (e, t) {
        var n = this._getInst(e);
        return (
          n && !n.inline && this._setDateFromField(n, t),
          n ? this._getDate(n) : null
        );
      },
      _doKeyDown: function (e) {
        var t = $.datepicker._getInst(e.target),
          n = !0,
          i = t.dpDiv.is(".ui-datepicker-rtl");
        if (((t._keyEvent = !0), $.datepicker._datepickerShowing))
          switch (e.keyCode) {
            case 9:
              $.datepicker._hideDatepicker(), (n = !1);
              break;
            case 13:
              var r = $(
                "td." +
                  $.datepicker._dayOverClass +
                  ":not(." +
                  $.datepicker._currentClass +
                  ")",
                t.dpDiv
              );
              r[0] &&
                $.datepicker._selectDay(
                  e.target,
                  t.selectedMonth,
                  t.selectedYear,
                  r[0]
                );
              var s = $.datepicker._get(t, "onSelect");
              if (s) {
                var o = $.datepicker._formatDate(t);
                s.apply(t.input ? t.input[0] : null, [o, t]);
              } else $.datepicker._hideDatepicker();
              return !1;
            case 27:
              $.datepicker._hideDatepicker();
              break;
            case 33:
              $.datepicker._adjustDate(
                e.target,
                e.ctrlKey
                  ? -$.datepicker._get(t, "stepBigMonths")
                  : -$.datepicker._get(t, "stepMonths"),
                "M"
              );
              break;
            case 34:
              $.datepicker._adjustDate(
                e.target,
                e.ctrlKey
                  ? +$.datepicker._get(t, "stepBigMonths")
                  : +$.datepicker._get(t, "stepMonths"),
                "M"
              );
              break;
            case 35:
              (e.ctrlKey || e.metaKey) && $.datepicker._clearDate(e.target),
                (n = e.ctrlKey || e.metaKey);
              break;
            case 36:
              (e.ctrlKey || e.metaKey) && $.datepicker._gotoToday(e.target),
                (n = e.ctrlKey || e.metaKey);
              break;
            case 37:
              (e.ctrlKey || e.metaKey) &&
                $.datepicker._adjustDate(e.target, i ? 1 : -1, "D"),
                (n = e.ctrlKey || e.metaKey),
                e.originalEvent.altKey &&
                  $.datepicker._adjustDate(
                    e.target,
                    e.ctrlKey
                      ? -$.datepicker._get(t, "stepBigMonths")
                      : -$.datepicker._get(t, "stepMonths"),
                    "M"
                  );
              break;
            case 38:
              (e.ctrlKey || e.metaKey) &&
                $.datepicker._adjustDate(e.target, -7, "D"),
                (n = e.ctrlKey || e.metaKey);
              break;
            case 39:
              (e.ctrlKey || e.metaKey) &&
                $.datepicker._adjustDate(e.target, i ? -1 : 1, "D"),
                (n = e.ctrlKey || e.metaKey),
                e.originalEvent.altKey &&
                  $.datepicker._adjustDate(
                    e.target,
                    e.ctrlKey
                      ? +$.datepicker._get(t, "stepBigMonths")
                      : +$.datepicker._get(t, "stepMonths"),
                    "M"
                  );
              break;
            case 40:
              (e.ctrlKey || e.metaKey) &&
                $.datepicker._adjustDate(e.target, 7, "D"),
                (n = e.ctrlKey || e.metaKey);
              break;
            default:
              n = !1;
          }
        else
          36 == e.keyCode && e.ctrlKey
            ? $.datepicker._showDatepicker(this)
            : (n = !1);
        n && (e.preventDefault(), e.stopPropagation());
      },
      _doKeyPress: function (e) {
        var t = $.datepicker._getInst(e.target);
        if ($.datepicker._get(t, "constrainInput")) {
          var n = $.datepicker._possibleChars(
              $.datepicker._get(t, "dateFormat")
            ),
            i = String.fromCharCode(
              e.charCode == undefined ? e.keyCode : e.charCode
            );
          return e.ctrlKey || e.metaKey || " " > i || !n || n.indexOf(i) > -1;
        }
      },
      _doKeyUp: function (e) {
        var t = $.datepicker._getInst(e.target);
        if (t.input.val() != t.lastVal)
          try {
            var n = $.datepicker.parseDate(
              $.datepicker._get(t, "dateFormat"),
              t.input ? t.input.val() : null,
              $.datepicker._getFormatConfig(t)
            );
            n &&
              ($.datepicker._setDateFromField(t),
              $.datepicker._updateAlternate(t),
              $.datepicker._updateDatepicker(t));
          } catch (i) {
            $.datepicker.log(i);
          }
        return !0;
      },
      _showDatepicker: function (e) {
        if (
          ((e = e.target || e),
          "input" != e.nodeName.toLowerCase() &&
            (e = $("input", e.parentNode)[0]),
          !$.datepicker._isDisabledDatepicker(e) &&
            $.datepicker._lastInput != e)
        ) {
          var t = $.datepicker._getInst(e);
          $.datepicker._curInst &&
            $.datepicker._curInst != t &&
            ($.datepicker._curInst.dpDiv.stop(!0, !0),
            t &&
              $.datepicker._datepickerShowing &&
              $.datepicker._hideDatepicker($.datepicker._curInst.input[0]));
          var n = $.datepicker._get(t, "beforeShow"),
            i = n ? n.apply(e, [e, t]) : {};
          if (i !== !1) {
            extendRemove(t.settings, i),
              (t.lastVal = null),
              ($.datepicker._lastInput = e),
              $.datepicker._setDateFromField(t),
              $.datepicker._inDialog && (e.value = ""),
              $.datepicker._pos ||
                (($.datepicker._pos = $.datepicker._findPos(e)),
                ($.datepicker._pos[1] += e.offsetHeight));
            var r = !1;
            $(e)
              .parents()
              .each(function () {
                return (r |= "fixed" == $(this).css("position")), !r;
              });
            var s = {
              left: $.datepicker._pos[0],
              top: $.datepicker._pos[1],
            };
            if (
              (($.datepicker._pos = null),
              t.dpDiv.empty(),
              t.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px",
              }),
              $.datepicker._updateDatepicker(t),
              (s = $.datepicker._checkOffset(t, s, r)),
              t.dpDiv.css({
                position:
                  $.datepicker._inDialog && $.blockUI
                    ? "static"
                    : r
                    ? "fixed"
                    : "absolute",
                display: "none",
                left: s.left + "px",
                top: s.top + "px",
              }),
              !t.inline)
            ) {
              var o = $.datepicker._get(t, "showAnim"),
                a = $.datepicker._get(t, "duration"),
                l = function () {
                  var e = t.dpDiv.find("iframe.ui-datepicker-cover");
                  if (e.length) {
                    var n = $.datepicker._getBorders(t.dpDiv);
                    e.css({
                      left: -n[0],
                      top: -n[1],
                      width: t.dpDiv.outerWidth(),
                      height: t.dpDiv.outerHeight(),
                    });
                  }
                };
              t.dpDiv.zIndex($(e).zIndex() + 1),
                ($.datepicker._datepickerShowing = !0),
                $.effects && ($.effects.effect[o] || $.effects[o])
                  ? t.dpDiv.show(o, $.datepicker._get(t, "showOptions"), a, l)
                  : t.dpDiv[o || "show"](o ? a : null, l),
                (!o || !a) && l(),
                t.input.is(":visible") &&
                  !t.input.is(":disabled") &&
                  t.input.focus(),
                ($.datepicker._curInst = t);
            }
          }
        }
      },
      _updateDatepicker: function (e) {
        this.maxRows = 4;
        var t = $.datepicker._getBorders(e.dpDiv);
        (instActive = e),
          e.dpDiv.empty().append(this._generateHTML(e)),
          this._attachHandlers(e);
        var n = e.dpDiv.find("iframe.ui-datepicker-cover");
        !n.length ||
          n.css({
            left: -t[0],
            top: -t[1],
            width: e.dpDiv.outerWidth(),
            height: e.dpDiv.outerHeight(),
          }),
          e.dpDiv.find("." + this._dayOverClass + " a").mouseover();
        var i = this._getNumberOfMonths(e),
          r = i[1],
          s = 17;
        if (
          (e.dpDiv
            .removeClass(
              "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
            )
            .width(""),
          r > 1 &&
            e.dpDiv
              .addClass("ui-datepicker-multi-" + r)
              .css("width", s * r + "em"),
          e.dpDiv[(1 != i[0] || 1 != i[1] ? "add" : "remove") + "Class"](
            "ui-datepicker-multi"
          ),
          e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"](
            "ui-datepicker-rtl"
          ),
          e == $.datepicker._curInst &&
            $.datepicker._datepickerShowing &&
            e.input &&
            e.input.is(":visible") &&
            !e.input.is(":disabled") &&
            e.input[0] != document.activeElement &&
            e.input.focus(),
          e.yearshtml)
        ) {
          var o = e.yearshtml;
          setTimeout(function () {
            o === e.yearshtml &&
              e.yearshtml &&
              e.dpDiv
                .find("select.ui-datepicker-year:first")
                .replaceWith(e.yearshtml),
              (o = e.yearshtml = null);
          }, 0);
        }
      },
      _getBorders: function (e) {
        var t = function (e) {
          return (
            {
              thin: 1,
              medium: 2,
              thick: 3,
            }[e] || e
          );
        };
        return [
          parseFloat(t(e.css("border-left-width"))),
          parseFloat(t(e.css("border-top-width"))),
        ];
      },
      _checkOffset: function (e, t, n) {
        var i = e.dpDiv.outerWidth(),
          r = e.dpDiv.outerHeight(),
          s = e.input ? e.input.outerWidth() : 0,
          o = e.input ? e.input.outerHeight() : 0,
          a =
            document.documentElement.clientWidth +
            (n ? 0 : $(document).scrollLeft()),
          l =
            document.documentElement.clientHeight +
            (n ? 0 : $(document).scrollTop());
        return (
          (t.left -= this._get(e, "isRTL") ? i - s : 0),
          (t.left -=
            n && t.left == e.input.offset().left
              ? $(document).scrollLeft()
              : 0),
          (t.top -=
            n && t.top == e.input.offset().top + o
              ? $(document).scrollTop()
              : 0),
          (t.left -= Math.min(
            t.left,
            t.left + i > a && a > i ? Math.abs(t.left + i - a) : 0
          )),
          (t.top -= Math.min(
            t.top,
            t.top + r > l && l > r ? Math.abs(r + o) : 0
          )),
          t
        );
      },
      _findPos: function (e) {
        for (
          var t = this._getInst(e), n = this._get(t, "isRTL");
          e &&
          ("hidden" == e.type || 1 != e.nodeType || $.expr.filters.hidden(e));

        )
          e = e[n ? "previousSibling" : "nextSibling"];
        var i = $(e).offset();
        return [i.left, i.top];
      },
      _hideDatepicker: function (e) {
        var t = this._curInst;
        if (t && (!e || t == $.data(e, PROP_NAME)) && this._datepickerShowing) {
          var n = this._get(t, "showAnim"),
            i = this._get(t, "duration"),
            r = function () {
              $.datepicker._tidyDialog(t);
            };
          $.effects && ($.effects.effect[n] || $.effects[n])
            ? t.dpDiv.hide(n, $.datepicker._get(t, "showOptions"), i, r)
            : t.dpDiv[
                "slideDown" == n
                  ? "slideUp"
                  : "fadeIn" == n
                  ? "fadeOut"
                  : "hide"
              ](n ? i : null, r),
            n || r(),
            (this._datepickerShowing = !1);
          var s = this._get(t, "onClose");
          s &&
            s.apply(t.input ? t.input[0] : null, [
              t.input ? t.input.val() : "",
              t,
            ]),
            (this._lastInput = null),
            this._inDialog &&
              (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px",
              }),
              $.blockUI && ($.unblockUI(), $("body").append(this.dpDiv))),
            (this._inDialog = !1);
        }
      },
      _tidyDialog: function (e) {
        e.dpDiv
          .removeClass(this._dialogClass)
          .unbind(".ui-datepicker-calendar");
      },
      _checkExternalClick: function (e) {
        if ($.datepicker._curInst) {
          var t = $(e.target),
            n = $.datepicker._getInst(t[0]);
          ((t[0].id != $.datepicker._mainDivId &&
            0 == t.parents("#" + $.datepicker._mainDivId).length &&
            !t.hasClass($.datepicker.markerClassName) &&
            !t.closest("." + $.datepicker._triggerClass).length &&
            $.datepicker._datepickerShowing &&
            (!$.datepicker._inDialog || !$.blockUI)) ||
            (t.hasClass($.datepicker.markerClassName) &&
              $.datepicker._curInst != n)) &&
            $.datepicker._hideDatepicker();
        }
      },
      _adjustDate: function (e, t, n) {
        var i = $(e),
          r = this._getInst(i[0]);
        this._isDisabledDatepicker(i[0]) ||
          (this._adjustInstDate(
            r,
            t + ("M" == n ? this._get(r, "showCurrentAtPos") : 0),
            n
          ),
          this._updateDatepicker(r));
      },
      _gotoToday: function (e) {
        var t = $(e),
          n = this._getInst(t[0]);
        if (this._get(n, "gotoCurrent") && n.currentDay)
          (n.selectedDay = n.currentDay),
            (n.drawMonth = n.selectedMonth = n.currentMonth),
            (n.drawYear = n.selectedYear = n.currentYear);
        else {
          var i = new Date();
          (n.selectedDay = i.getDate()),
            (n.drawMonth = n.selectedMonth = i.getMonth()),
            (n.drawYear = n.selectedYear = i.getFullYear());
        }
        this._notifyChange(n), this._adjustDate(t);
      },
      _selectMonthYear: function (e, t, n) {
        var i = $(e),
          r = this._getInst(i[0]);
        (r["selected" + ("M" == n ? "Month" : "Year")] = r[
          "draw" + ("M" == n ? "Month" : "Year")
        ] =
          parseInt(t.options[t.selectedIndex].value, 10)),
          this._notifyChange(r),
          this._adjustDate(i);
      },
      _selectDay: function (e, t, n, i) {
        var r = $(e);
        if (
          !$(i).hasClass(this._unselectableClass) &&
          !this._isDisabledDatepicker(r[0])
        ) {
          var s = this._getInst(r[0]);
          (s.selectedDay = s.currentDay = $("a", i).html()),
            (s.selectedMonth = s.currentMonth = t),
            (s.selectedYear = s.currentYear = n),
            this._selectDate(
              e,
              this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear)
            );
        }
      },
      _clearDate: function (e) {
        {
          var t = $(e);
          this._getInst(t[0]);
        }
        this._selectDate(t, "");
      },
      _selectDate: function (e, t) {
        var n = $(e),
          i = this._getInst(n[0]);
        (t = null != t ? t : this._formatDate(i)),
          i.input && i.input.val(t),
          this._updateAlternate(i);
        var r = this._get(i, "onSelect");
        r
          ? r.apply(i.input ? i.input[0] : null, [t, i])
          : i.input && i.input.trigger("change"),
          i.inline
            ? this._updateDatepicker(i)
            : (this._hideDatepicker(),
              (this._lastInput = i.input[0]),
              "object" != typeof i.input[0] && i.input.focus(),
              (this._lastInput = null));
      },
      _updateAlternate: function (e) {
        var t = this._get(e, "altField");
        if (t) {
          var n = this._get(e, "altFormat") || this._get(e, "dateFormat"),
            i = this._getDate(e),
            r = this.formatDate(n, i, this._getFormatConfig(e));
          $(t).each(function () {
            $(this).val(r);
          });
        }
      },
      noWeekends: function (e) {
        var t = e.getDay();
        return [t > 0 && 6 > t, ""];
      },
      iso8601Week: function (e) {
        var t = new Date(e.getTime());
        t.setDate(t.getDate() + 4 - (t.getDay() || 7));
        var n = t.getTime();
        return (
          t.setMonth(0),
          t.setDate(1),
          Math.floor(Math.round((n - t) / 864e5) / 7) + 1
        );
      },
      parseDate: function (e, t, n) {
        if (null == e || null == t) throw "Invalid arguments";
        if (((t = "object" == typeof t ? t.toString() : t + ""), "" == t))
          return null;
        var i =
          (n ? n.shortYearCutoff : null) || this._defaults.shortYearCutoff;
        i =
          "string" != typeof i
            ? i
            : (new Date().getFullYear() % 100) + parseInt(i, 10);
        for (
          var r = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
            s = (n ? n.dayNames : null) || this._defaults.dayNames,
            o =
              (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
            a = (n ? n.monthNames : null) || this._defaults.monthNames,
            l = -1,
            c = -1,
            u = -1,
            d = -1,
            p = !1,
            h = function (t) {
              var n = v + 1 < e.length && e.charAt(v + 1) == t;
              return n && v++, n;
            },
            f = function (e) {
              var n = h(e),
                i =
                  "@" == e
                    ? 14
                    : "!" == e
                    ? 20
                    : "y" == e && n
                    ? 4
                    : "o" == e
                    ? 3
                    : 2,
                r = new RegExp("^\\d{1," + i + "}"),
                s = t.substring(_).match(r);
              if (!s) throw "Missing number at position " + _;
              return (_ += s[0].length), parseInt(s[0], 10);
            },
            m = function (e, n, i) {
              var r = $.map(h(e) ? i : n, function (e, t) {
                  return [[t, e]];
                }).sort(function (e, t) {
                  return -(e[1].length - t[1].length);
                }),
                s = -1;
              if (
                ($.each(r, function (e, n) {
                  var i = n[1];
                  return t.substr(_, i.length).toLowerCase() == i.toLowerCase()
                    ? ((s = n[0]), (_ += i.length), !1)
                    : void 0;
                }),
                -1 != s)
              )
                return s + 1;
              throw "Unknown name at position " + _;
            },
            g = function () {
              if (t.charAt(_) != e.charAt(v))
                throw "Unexpected literal at position " + _;
              _++;
            },
            _ = 0,
            v = 0;
          v < e.length;
          v++
        )
          if (p) "'" != e.charAt(v) || h("'") ? g() : (p = !1);
          else
            switch (e.charAt(v)) {
              case "d":
                u = f("d");
                break;
              case "D":
                m("D", r, s);
                break;
              case "o":
                d = f("o");
                break;
              case "m":
                c = f("m");
                break;
              case "M":
                c = m("M", o, a);
                break;
              case "y":
                l = f("y");
                break;
              case "@":
                var y = new Date(f("@"));
                (l = y.getFullYear()),
                  (c = y.getMonth() + 1),
                  (u = y.getDate());
                break;
              case "!":
                var y = new Date((f("!") - this._ticksTo1970) / 1e4);
                (l = y.getFullYear()),
                  (c = y.getMonth() + 1),
                  (u = y.getDate());
                break;
              case "'":
                h("'") ? g() : (p = !0);
                break;
              default:
                g();
            }
        if (_ < t.length) {
          var b = t.substr(_);
          if (!/^\s+/.test(b))
            throw "Extra/unparsed characters found in date: " + b;
        }
        if (
          (-1 == l
            ? (l = new Date().getFullYear())
            : 100 > l &&
              (l +=
                new Date().getFullYear() -
                (new Date().getFullYear() % 100) +
                (i >= l ? 0 : -100)),
          d > -1)
        )
          for (c = 1, u = d; ; ) {
            var w = this._getDaysInMonth(l, c - 1);
            if (w >= u) break;
            c++, (u -= w);
          }
        var y = this._daylightSavingAdjust(new Date(l, c - 1, u));
        if (y.getFullYear() != l || y.getMonth() + 1 != c || y.getDate() != u)
          throw "Invalid date";
        return y;
      },
      ATOM: "yy-mm-dd",
      COOKIE: "D, dd M yy",
      ISO_8601: "yy-mm-dd",
      RFC_822: "D, d M y",
      RFC_850: "DD, dd-M-y",
      RFC_1036: "D, d M y",
      RFC_1123: "D, d M yy",
      RFC_2822: "D, d M yy",
      RSS: "D, d M y",
      TICKS: "!",
      TIMESTAMP: "@",
      W3C: "yy-mm-dd",
      _ticksTo1970:
        24 *
        (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) *
        60 *
        60 *
        1e7,
      formatDate: function (e, t, n) {
        if (!t) return "";
        var i = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
          r = (n ? n.dayNames : null) || this._defaults.dayNames,
          s = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
          o = (n ? n.monthNames : null) || this._defaults.monthNames,
          a = function (t) {
            var n = p + 1 < e.length && e.charAt(p + 1) == t;
            return n && p++, n;
          },
          l = function (e, t, n) {
            var i = "" + t;
            if (a(e)) for (; i.length < n; ) i = "0" + i;
            return i;
          },
          c = function (e, t, n, i) {
            return a(e) ? i[t] : n[t];
          },
          u = "",
          d = !1;
        if (t)
          for (var p = 0; p < e.length; p++)
            if (d) "'" != e.charAt(p) || a("'") ? (u += e.charAt(p)) : (d = !1);
            else
              switch (e.charAt(p)) {
                case "d":
                  u += l("d", t.getDate(), 2);
                  break;
                case "D":
                  u += c("D", t.getDay(), i, r);
                  break;
                case "o":
                  u += l(
                    "o",
                    Math.round(
                      (new Date(
                        t.getFullYear(),
                        t.getMonth(),
                        t.getDate()
                      ).getTime() -
                        new Date(t.getFullYear(), 0, 0).getTime()) /
                        864e5
                    ),
                    3
                  );
                  break;
                case "m":
                  u += l("m", t.getMonth() + 1, 2);
                  break;
                case "M":
                  u += c("M", t.getMonth(), s, o);
                  break;
                case "y":
                  u += a("y")
                    ? t.getFullYear()
                    : (t.getYear() % 100 < 10 ? "0" : "") + (t.getYear() % 100);
                  break;
                case "@":
                  u += t.getTime();
                  break;
                case "!":
                  u += 1e4 * t.getTime() + this._ticksTo1970;
                  break;
                case "'":
                  a("'") ? (u += "'") : (d = !0);
                  break;
                default:
                  u += e.charAt(p);
              }
        return u;
      },
      _possibleChars: function (e) {
        for (
          var t = "",
            n = !1,
            i = function (t) {
              var n = r + 1 < e.length && e.charAt(r + 1) == t;
              return n && r++, n;
            },
            r = 0;
          r < e.length;
          r++
        )
          if (n) "'" != e.charAt(r) || i("'") ? (t += e.charAt(r)) : (n = !1);
          else
            switch (e.charAt(r)) {
              case "d":
              case "m":
              case "y":
              case "@":
                t += "0123456789";
                break;
              case "D":
              case "M":
                return null;
              case "'":
                i("'") ? (t += "'") : (n = !0);
                break;
              default:
                t += e.charAt(r);
            }
        return t;
      },
      _get: function (e, t) {
        return e.settings[t] !== undefined ? e.settings[t] : this._defaults[t];
      },
      _setDateFromField: function (e, t) {
        if (e.input.val() != e.lastVal) {
          var n,
            i,
            r = this._get(e, "dateFormat"),
            s = (e.lastVal = e.input ? e.input.val() : null);
          n = i = this._getDefaultDate(e);
          var o = this._getFormatConfig(e);
          try {
            n = this.parseDate(r, s, o) || i;
          } catch (a) {
            this.log(a), (s = t ? "" : s);
          }
          (e.selectedDay = n.getDate()),
            (e.drawMonth = e.selectedMonth = n.getMonth()),
            (e.drawYear = e.selectedYear = n.getFullYear()),
            (e.currentDay = s ? n.getDate() : 0),
            (e.currentMonth = s ? n.getMonth() : 0),
            (e.currentYear = s ? n.getFullYear() : 0),
            this._adjustInstDate(e);
        }
      },
      _getDefaultDate: function (e) {
        return this._restrictMinMax(
          e,
          this._determineDate(e, this._get(e, "defaultDate"), new Date())
        );
      },
      _determineDate: function (e, t, n) {
        var i = function (e) {
            var t = new Date();
            return t.setDate(t.getDate() + e), t;
          },
          r = function (t) {
            try {
              return $.datepicker.parseDate(
                $.datepicker._get(e, "dateFormat"),
                t,
                $.datepicker._getFormatConfig(e)
              );
            } catch (n) {}
            for (
              var i =
                  (t.toLowerCase().match(/^c/)
                    ? $.datepicker._getDate(e)
                    : null) || new Date(),
                r = i.getFullYear(),
                s = i.getMonth(),
                o = i.getDate(),
                a = /([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                l = a.exec(t);
              l;

            ) {
              switch (l[2] || "d") {
                case "d":
                case "D":
                  o += parseInt(l[1], 10);
                  break;
                case "w":
                case "W":
                  o += 7 * parseInt(l[1], 10);
                  break;
                case "m":
                case "M":
                  (s += parseInt(l[1], 10)),
                    (o = Math.min(o, $.datepicker._getDaysInMonth(r, s)));
                  break;
                case "y":
                case "Y":
                  (r += parseInt(l[1], 10)),
                    (o = Math.min(o, $.datepicker._getDaysInMonth(r, s)));
              }
              l = a.exec(t);
            }
            return new Date(r, s, o);
          },
          s =
            null == t || "" === t
              ? n
              : "string" == typeof t
              ? r(t)
              : "number" == typeof t
              ? isNaN(t)
                ? n
                : i(t)
              : new Date(t.getTime());
        return (
          (s = s && "Invalid Date" == s.toString() ? n : s),
          s &&
            (s.setHours(0),
            s.setMinutes(0),
            s.setSeconds(0),
            s.setMilliseconds(0)),
          this._daylightSavingAdjust(s)
        );
      },
      _daylightSavingAdjust: function (e) {
        return e
          ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e)
          : null;
      },
      _setDate: function (e, t, n) {
        var i = !t,
          r = e.selectedMonth,
          s = e.selectedYear,
          o = this._restrictMinMax(e, this._determineDate(e, t, new Date()));
        (e.selectedDay = e.currentDay = o.getDate()),
          (e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth()),
          (e.drawYear = e.selectedYear = e.currentYear = o.getFullYear()),
          (r != e.selectedMonth || s != e.selectedYear) &&
            !n &&
            this._notifyChange(e),
          this._adjustInstDate(e),
          e.input && e.input.val(i ? "" : this._formatDate(e));
      },
      _getDate: function (e) {
        var t =
          !e.currentYear || (e.input && "" == e.input.val())
            ? null
            : this._daylightSavingAdjust(
                new Date(e.currentYear, e.currentMonth, e.currentDay)
              );
        return t;
      },
      _attachHandlers: function (e) {
        var t = this._get(e, "stepMonths"),
          n = "#" + e.id.replace(/\\\\/g, "\\");
        e.dpDiv.find("[data-handler]").map(function () {
          var e = {
            prev: function () {
              window["DP_jQuery_" + dpuuid].datepicker._adjustDate(n, -t, "M");
            },
            next: function () {
              window["DP_jQuery_" + dpuuid].datepicker._adjustDate(n, +t, "M");
            },
            hide: function () {
              window["DP_jQuery_" + dpuuid].datepicker._hideDatepicker();
            },
            today: function () {
              window["DP_jQuery_" + dpuuid].datepicker._gotoToday(n);
            },
            selectDay: function () {
              return (
                window["DP_jQuery_" + dpuuid].datepicker._selectDay(
                  n,
                  +this.getAttribute("data-month"),
                  +this.getAttribute("data-year"),
                  this
                ),
                !1
              );
            },
            selectMonth: function () {
              return (
                window["DP_jQuery_" + dpuuid].datepicker._selectMonthYear(
                  n,
                  this,
                  "M"
                ),
                !1
              );
            },
            selectYear: function () {
              return (
                window["DP_jQuery_" + dpuuid].datepicker._selectMonthYear(
                  n,
                  this,
                  "Y"
                ),
                !1
              );
            },
          };
          $(this).bind(
            this.getAttribute("data-event"),
            e[this.getAttribute("data-handler")]
          );
        });
      },
      _generateHTML: function (e) {
        var t = new Date();
        t = this._daylightSavingAdjust(
          new Date(t.getFullYear(), t.getMonth(), t.getDate())
        );
        var n = this._get(e, "isRTL"),
          i = this._get(e, "showButtonPanel"),
          r = this._get(e, "hideIfNoPrevNext"),
          s = this._get(e, "navigationAsDateFormat"),
          o = this._getNumberOfMonths(e),
          a = this._get(e, "showCurrentAtPos"),
          l = this._get(e, "stepMonths"),
          c = 1 != o[0] || 1 != o[1],
          u = this._daylightSavingAdjust(
            e.currentDay
              ? new Date(e.currentYear, e.currentMonth, e.currentDay)
              : new Date(9999, 9, 9)
          ),
          d = this._getMinMaxDate(e, "min"),
          p = this._getMinMaxDate(e, "max"),
          h = e.drawMonth - a,
          f = e.drawYear;
        if ((0 > h && ((h += 12), f--), p)) {
          var m = this._daylightSavingAdjust(
            new Date(
              p.getFullYear(),
              p.getMonth() - o[0] * o[1] + 1,
              p.getDate()
            )
          );
          for (
            m = d && d > m ? d : m;
            this._daylightSavingAdjust(new Date(f, h, 1)) > m;

          )
            h--, 0 > h && ((h = 11), f--);
        }
        (e.drawMonth = h), (e.drawYear = f);
        var g = this._get(e, "prevText");
        g = s
          ? this.formatDate(
              g,
              this._daylightSavingAdjust(new Date(f, h - l, 1)),
              this._getFormatConfig(e)
            )
          : g;
        var _ = this._canAdjustMonth(e, -1, f, h)
            ? '<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="' +
              g +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (n ? "e" : "w") +
              '">' +
              g +
              "</span></a>"
            : r
            ? ""
            : '<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="' +
              g +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (n ? "e" : "w") +
              '">' +
              g +
              "</span></a>",
          v = this._get(e, "nextText");
        v = s
          ? this.formatDate(
              v,
              this._daylightSavingAdjust(new Date(f, h + l, 1)),
              this._getFormatConfig(e)
            )
          : v;
        var y = this._canAdjustMonth(e, 1, f, h)
            ? '<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="' +
              v +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (n ? "w" : "e") +
              '">' +
              v +
              "</span></a>"
            : r
            ? ""
            : '<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="' +
              v +
              '"><span class="ui-icon ui-icon-circle-triangle-' +
              (n ? "w" : "e") +
              '">' +
              v +
              "</span></a>",
          b = this._get(e, "currentText"),
          w = this._get(e, "gotoCurrent") && e.currentDay ? u : t;
        b = s ? this.formatDate(b, w, this._getFormatConfig(e)) : b;
        var C = e.inline
            ? ""
            : '<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">' +
              this._get(e, "closeText") +
              "</button>",
          k = i
            ? '<div class="ui-datepicker-buttonpane ui-widget-content">' +
              (n ? C : "") +
              (this._isInRange(e, w)
                ? '<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">' +
                  b +
                  "</button>"
                : "") +
              (n ? "" : C) +
              "</div>"
            : "",
          T = parseInt(this._get(e, "firstDay"), 10);
        T = isNaN(T) ? 0 : T;
        for (
          var E = this._get(e, "showWeek"),
            S = this._get(e, "dayNames"),
            x = (this._get(e, "dayNamesShort"), this._get(e, "dayNamesMin")),
            P = this._get(e, "monthNames"),
            O = this._get(e, "monthNamesShort"),
            A = this._get(e, "beforeShowDay"),
            I = this._get(e, "showOtherMonths"),
            D = this._get(e, "selectOtherMonths"),
            M =
              (this._get(e, "calculateWeek") || this.iso8601Week,
              this._getDefaultDate(e)),
            R = "",
            j = 0;
          j < o[0];
          j++
        ) {
          var L = "";
          this.maxRows = 4;
          for (var N = 0; N < o[1]; N++) {
            var U = this._daylightSavingAdjust(new Date(f, h, e.selectedDay)),
              B = " ui-corner-all",
              F = "";
            if (c) {
              if (((F += '<div class="ui-datepicker-group'), o[1] > 1))
                switch (N) {
                  case 0:
                    (F += " ui-datepicker-group-first"),
                      (B = " ui-corner-" + (n ? "right" : "left"));
                    break;
                  case o[1] - 1:
                    (F += " ui-datepicker-group-last"),
                      (B = " ui-corner-" + (n ? "left" : "right"));
                    break;
                  default:
                    (F += " ui-datepicker-group-middle"), (B = "");
                }
              F += '">';
            }
            F +=
              '<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix' +
              B +
              '">' +
              (/all|left/.test(B) && 0 == j ? (n ? y : _) : "") +
              (/all|right/.test(B) && 0 == j ? (n ? _ : y) : "") +
              this._generateMonthYearHeader(
                e,
                h,
                f,
                d,
                p,
                j > 0 || N > 0,
                P,
                O
              ) +
              '</div><table class="ui-datepicker-calendar"><thead><tr>';
            for (
              var H = E
                  ? '<th class="ui-datepicker-week-col">' +
                    this._get(e, "weekHeader") +
                    "</th>"
                  : "",
                W = 0;
              7 > W;
              W++
            ) {
              var q = (W + T) % 7;
              H +=
                "<th" +
                ((W + T + 6) % 7 >= 5
                  ? ' class="ui-datepicker-week-end"'
                  : "") +
                '><span title="' +
                S[q] +
                '">' +
                x[q] +
                "</span></th>";
            }
            F += H + "</tr></thead><tbody>";
            var z = this._getDaysInMonth(f, h);
            f == e.selectedYear &&
              h == e.selectedMonth &&
              (e.selectedDay = Math.min(e.selectedDay, z));
            var V = (this._getFirstDayOfMonth(f, h) - T + 7) % 7,
              K = Math.ceil((V + z) / 7),
              G = c && this.maxRows > K ? this.maxRows : K;
            this.maxRows = G;
            for (
              var Y = this._daylightSavingAdjust(new Date(f, h, 1 - V)), X = 0;
              G > X;
              X++
            ) {
              F += "<tr>";
              for (
                var Q = E
                    ? '<td class="ui-datepicker-week-col">' +
                      this._get(e, "calculateWeek")(Y) +
                      "</td>"
                    : "",
                  W = 0;
                7 > W;
                W++
              ) {
                var J = A
                    ? A.apply(e.input ? e.input[0] : null, [Y])
                    : [!0, ""],
                  Z = Y.getMonth() != h,
                  et = (Z && !D) || !J[0] || (d && d > Y) || (p && Y > p);
                (Q +=
                  '<td class="' +
                  ((W + T + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") +
                  (Z ? " ui-datepicker-other-month" : "") +
                  ((Y.getTime() == U.getTime() &&
                    h == e.selectedMonth &&
                    e._keyEvent) ||
                  (M.getTime() == Y.getTime() && M.getTime() == U.getTime())
                    ? " " + this._dayOverClass
                    : "") +
                  (et
                    ? " " + this._unselectableClass + " ui-state-disabled"
                    : "") +
                  (Z && !I
                    ? ""
                    : " " +
                      J[1] +
                      (Y.getTime() == u.getTime()
                        ? " " + this._currentClass
                        : "") +
                      (Y.getTime() == t.getTime()
                        ? " ui-datepicker-today"
                        : "")) +
                  '"' +
                  ((Z && !I) || !J[2] ? "" : ' title="' + J[2] + '"') +
                  (et
                    ? ""
                    : ' data-handler="selectDay" data-event="click" data-month="' +
                      Y.getMonth() +
                      '" data-year="' +
                      Y.getFullYear() +
                      '"') +
                  ">" +
                  (Z && !I
                    ? "&#xa0;"
                    : et
                    ? '<span class="ui-state-default">' +
                      Y.getDate() +
                      "</span>"
                    : '<a class="ui-state-default' +
                      (Y.getTime() == t.getTime()
                        ? " ui-state-highlight"
                        : "") +
                      (Y.getTime() == u.getTime() ? " ui-state-active" : "") +
                      (Z ? " ui-priority-secondary" : "") +
                      '" href="#">' +
                      Y.getDate() +
                      "</a>") +
                  "</td>"),
                  Y.setDate(Y.getDate() + 1),
                  (Y = this._daylightSavingAdjust(Y));
              }
              F += Q + "</tr>";
            }
            h++,
              h > 11 && ((h = 0), f++),
              (F +=
                "</tbody></table>" +
                (c
                  ? "</div>" +
                    (o[0] > 0 && N == o[1] - 1
                      ? '<div class="ui-datepicker-row-break"></div>'
                      : "")
                  : "")),
              (L += F);
          }
          R += L;
        }
        return (
          (R +=
            k +
            ($.ui.ie6 && !e.inline
              ? '<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>'
              : "")),
          (e._keyEvent = !1),
          R
        );
      },
      _generateMonthYearHeader: function (e, t, n, i, r, s, o, a) {
        var l = this._get(e, "changeMonth"),
          c = this._get(e, "changeYear"),
          u = this._get(e, "showMonthAfterYear"),
          d = '<div class="ui-datepicker-title">',
          p = "";
        if (s || !l)
          p += '<span class="ui-datepicker-month">' + o[t] + "</span>";
        else {
          var h = i && i.getFullYear() == n,
            f = r && r.getFullYear() == n;
          p +=
            '<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';
          for (var m = 0; 12 > m; m++)
            (!h || m >= i.getMonth()) &&
              (!f || m <= r.getMonth()) &&
              (p +=
                '<option value="' +
                m +
                '"' +
                (m == t ? ' selected="selected"' : "") +
                ">" +
                a[m] +
                "</option>");
          p += "</select>";
        }
        if ((u || (d += p + (!s && l && c ? "" : "&#xa0;")), !e.yearshtml))
          if (((e.yearshtml = ""), s || !c))
            d += '<span class="ui-datepicker-year">' + n + "</span>";
          else {
            var g = this._get(e, "yearRange").split(":"),
              _ = new Date().getFullYear(),
              v = function (e) {
                var t = e.match(/c[+-].*/)
                  ? n + parseInt(e.substring(1), 10)
                  : e.match(/[+-].*/)
                  ? _ + parseInt(e, 10)
                  : parseInt(e, 10);
                return isNaN(t) ? _ : t;
              },
              y = v(g[0]),
              b = Math.max(y, v(g[1] || ""));
            for (
              y = i ? Math.max(y, i.getFullYear()) : y,
                b = r ? Math.min(b, r.getFullYear()) : b,
                e.yearshtml +=
                  '<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';
              b >= y;
              y++
            )
              e.yearshtml +=
                '<option value="' +
                y +
                '"' +
                (y == n ? ' selected="selected"' : "") +
                ">" +
                y +
                "</option>";
            (e.yearshtml += "</select>"),
              (d += e.yearshtml),
              (e.yearshtml = null);
          }
        return (
          (d += this._get(e, "yearSuffix")),
          u && (d += (!s && l && c ? "" : "&#xa0;") + p),
          (d += "</div>")
        );
      },
      _adjustInstDate: function (e, t, n) {
        var i = e.drawYear + ("Y" == n ? t : 0),
          r = e.drawMonth + ("M" == n ? t : 0),
          s =
            Math.min(e.selectedDay, this._getDaysInMonth(i, r)) +
            ("D" == n ? t : 0),
          o = this._restrictMinMax(
            e,
            this._daylightSavingAdjust(new Date(i, r, s))
          );
        (e.selectedDay = o.getDate()),
          (e.drawMonth = e.selectedMonth = o.getMonth()),
          (e.drawYear = e.selectedYear = o.getFullYear()),
          ("M" == n || "Y" == n) && this._notifyChange(e);
      },
      _restrictMinMax: function (e, t) {
        var n = this._getMinMaxDate(e, "min"),
          i = this._getMinMaxDate(e, "max"),
          r = n && n > t ? n : t;
        return (r = i && r > i ? i : r);
      },
      _notifyChange: function (e) {
        var t = this._get(e, "onChangeMonthYear");
        t &&
          t.apply(e.input ? e.input[0] : null, [
            e.selectedYear,
            e.selectedMonth + 1,
            e,
          ]);
      },
      _getNumberOfMonths: function (e) {
        var t = this._get(e, "numberOfMonths");
        return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t;
      },
      _getMinMaxDate: function (e, t) {
        return this._determineDate(e, this._get(e, t + "Date"), null);
      },
      _getDaysInMonth: function (e, t) {
        return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate();
      },
      _getFirstDayOfMonth: function (e, t) {
        return new Date(e, t, 1).getDay();
      },
      _canAdjustMonth: function (e, t, n, i) {
        var r = this._getNumberOfMonths(e),
          s = this._daylightSavingAdjust(
            new Date(n, i + (0 > t ? t : r[0] * r[1]), 1)
          );
        return (
          0 > t &&
            s.setDate(this._getDaysInMonth(s.getFullYear(), s.getMonth())),
          this._isInRange(e, s)
        );
      },
      _isInRange: function (e, t) {
        var n = this._getMinMaxDate(e, "min"),
          i = this._getMinMaxDate(e, "max");
        return (
          (!n || t.getTime() >= n.getTime()) &&
          (!i || t.getTime() <= i.getTime())
        );
      },
      _getFormatConfig: function (e) {
        var t = this._get(e, "shortYearCutoff");
        return (
          (t =
            "string" != typeof t
              ? t
              : (new Date().getFullYear() % 100) + parseInt(t, 10)),
          {
            shortYearCutoff: t,
            dayNamesShort: this._get(e, "dayNamesShort"),
            dayNames: this._get(e, "dayNames"),
            monthNamesShort: this._get(e, "monthNamesShort"),
            monthNames: this._get(e, "monthNames"),
          }
        );
      },
      _formatDate: function (e, t, n, i) {
        t ||
          ((e.currentDay = e.selectedDay),
          (e.currentMonth = e.selectedMonth),
          (e.currentYear = e.selectedYear));
        var r = t
          ? "object" == typeof t
            ? t
            : this._daylightSavingAdjust(new Date(i, n, t))
          : this._daylightSavingAdjust(
              new Date(e.currentYear, e.currentMonth, e.currentDay)
            );
        return this.formatDate(
          this._get(e, "dateFormat"),
          r,
          this._getFormatConfig(e)
        );
      },
    }),
      ($.fn.datepicker = function (e) {
        if (!this.length) return this;
        $.datepicker.initialized ||
          ($(document)
            .mousedown($.datepicker._checkExternalClick)
            .find(document.body)
            .append($.datepicker.dpDiv),
          ($.datepicker.initialized = !0));
        var t = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof e ||
          ("isDisabled" != e && "getDate" != e && "widget" != e)
          ? "option" == e &&
            2 == arguments.length &&
            "string" == typeof arguments[1]
            ? $.datepicker["_" + e + "Datepicker"].apply(
                $.datepicker,
                [this[0]].concat(t)
              )
            : this.each(function () {
                "string" == typeof e
                  ? $.datepicker["_" + e + "Datepicker"].apply(
                      $.datepicker,
                      [this].concat(t)
                    )
                  : $.datepicker._attachDatepicker(this, e);
              })
          : $.datepicker["_" + e + "Datepicker"].apply(
              $.datepicker,
              [this[0]].concat(t)
            );
      }),
      ($.datepicker = new Datepicker()),
      ($.datepicker.initialized = !1),
      ($.datepicker.uuid = new Date().getTime()),
      ($.datepicker.version = "1.9.2"),
      (window["DP_jQuery_" + dpuuid] = $);
  })(jQuery),
  (function (e, t) {
    var n = "ui-dialog ui-widget ui-widget-content ui-corner-all ",
      i = {
        buttons: !0,
        height: !0,
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0,
        width: !0,
      },
      r = {
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0,
      };
    e.widget("ui.dialog", {
      version: "1.9.2",
      options: {
        autoOpen: !0,
        buttons: {},
        closeOnEscape: !0,
        closeText: "close",
        dialogClass: "",
        draggable: !0,
        hide: null,
        height: "auto",
        maxHeight: !1,
        maxWidth: !1,
        minHeight: 150,
        minWidth: 150,
        modal: !1,
        position: {
          my: "center",
          at: "center",
          of: window,
          collision: "fit",
          using: function (t) {
            var n = e(this).css(t).offset().top;
            0 > n && e(this).css("top", t.top - n);
          },
        },
        resizable: !0,
        show: null,
        stack: !0,
        title: "",
        width: 300,
        zIndex: 1e3,
      },
      _create: function () {
        (this.originalTitle = this.element.attr("title")),
          "string" != typeof this.originalTitle && (this.originalTitle = ""),
          (this.oldPosition = {
            parent: this.element.parent(),
            index: this.element.parent().children().index(this.element),
          }),
          (this.options.title = this.options.title || this.originalTitle);
        var t,
          i,
          r,
          s,
          o,
          a = this,
          l = this.options,
          c = l.title || "&#160;";
        (t = (this.uiDialog = e("<div>"))
          .addClass(n + l.dialogClass)
          .css({
            display: "none",
            outline: 0,
            zIndex: l.zIndex,
          })
          .attr("tabIndex", -1)
          .keydown(function (t) {
            l.closeOnEscape &&
              !t.isDefaultPrevented() &&
              t.keyCode &&
              t.keyCode === e.ui.keyCode.ESCAPE &&
              (a.close(t), t.preventDefault());
          })
          .mousedown(function (e) {
            a.moveToTop(!1, e);
          })
          .appendTo("body")),
          this.element
            .show()
            .removeAttr("title")
            .addClass("ui-dialog-content ui-widget-content")
            .appendTo(t),
          (i = (this.uiDialogTitlebar = e("<div>"))
            .addClass(
              "ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix"
            )
            .bind("mousedown", function () {
              t.focus();
            })
            .prependTo(t)),
          (r = e("<a href='#'></a>")
            .addClass("ui-dialog-titlebar-close  ui-corner-all")
            .attr("role", "button")
            .click(function (e) {
              e.preventDefault(), a.close(e);
            })
            .appendTo(i)),
          (this.uiDialogTitlebarCloseText = e("<span>"))
            .addClass("ui-icon ui-icon-closethick")
            .text(l.closeText)
            .appendTo(r),
          (s = e("<span>")
            .uniqueId()
            .addClass("ui-dialog-title")
            .html(c)
            .prependTo(i)),
          (o = (this.uiDialogButtonPane = e("<div>")).addClass(
            "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"
          )),
          (this.uiButtonSet = e("<div>"))
            .addClass("ui-dialog-buttonset")
            .appendTo(o),
          t.attr({
            role: "dialog",
            "aria-labelledby": s.attr("id"),
          }),
          i.find("*").add(i).disableSelection(),
          this._hoverable(r),
          this._focusable(r),
          l.draggable && e.fn.draggable && this._makeDraggable(),
          l.resizable && e.fn.resizable && this._makeResizable(),
          this._createButtons(l.buttons),
          (this._isOpen = !1),
          e.fn.bgiframe && t.bgiframe(),
          this._on(t, {
            keydown: function (n) {
              if (l.modal && n.keyCode === e.ui.keyCode.TAB) {
                var i = e(":tabbable", t),
                  r = i.filter(":first"),
                  s = i.filter(":last");
                return n.target !== s[0] || n.shiftKey
                  ? n.target === r[0] && n.shiftKey
                    ? (s.focus(1), !1)
                    : void 0
                  : (r.focus(1), !1);
              }
            },
          });
      },
      _init: function () {
        this.options.autoOpen && this.open();
      },
      _destroy: function () {
        var e,
          t = this.oldPosition;
        this.overlay && this.overlay.destroy(),
          this.uiDialog.hide(),
          this.element
            .removeClass("ui-dialog-content ui-widget-content")
            .hide()
            .appendTo("body"),
          this.uiDialog.remove(),
          this.originalTitle && this.element.attr("title", this.originalTitle),
          (e = t.parent.children().eq(t.index)),
          e.length && e[0] !== this.element[0]
            ? e.before(this.element)
            : t.parent.append(this.element);
      },
      widget: function () {
        return this.uiDialog;
      },
      close: function (t) {
        var n,
          i,
          r = this;
        if (this._isOpen && !1 !== this._trigger("beforeClose", t))
          return (
            (this._isOpen = !1),
            this.overlay && this.overlay.destroy(),
            this.options.hide
              ? this._hide(this.uiDialog, this.options.hide, function () {
                  r._trigger("close", t);
                })
              : (this.uiDialog.hide(), this._trigger("close", t)),
            e.ui.dialog.overlay.resize(),
            this.options.modal &&
              ((n = 0),
              e(".ui-dialog").each(function () {
                this !== r.uiDialog[0] &&
                  ((i = e(this).css("z-index")),
                  isNaN(i) || (n = Math.max(n, i)));
              }),
              (e.ui.dialog.maxZ = n)),
            this
          );
      },
      isOpen: function () {
        return this._isOpen;
      },
      moveToTop: function (t, n) {
        var i,
          r = this.options;
        return (r.modal && !t) || (!r.stack && !r.modal)
          ? this._trigger("focus", n)
          : (r.zIndex > e.ui.dialog.maxZ && (e.ui.dialog.maxZ = r.zIndex),
            this.overlay &&
              ((e.ui.dialog.maxZ += 1),
              (e.ui.dialog.overlay.maxZ = e.ui.dialog.maxZ),
              this.overlay.$el.css("z-index", e.ui.dialog.overlay.maxZ)),
            (i = {
              scrollTop: this.element.scrollTop(),
              scrollLeft: this.element.scrollLeft(),
            }),
            (e.ui.dialog.maxZ += 1),
            this.uiDialog.css("z-index", e.ui.dialog.maxZ),
            this.element.attr(i),
            this._trigger("focus", n),
            this);
      },
      open: function () {
        if (!this._isOpen) {
          var t,
            n = this.options,
            i = this.uiDialog;
          return (
            this._size(),
            this._position(n.position),
            i.show(n.show),
            (this.overlay = n.modal ? new e.ui.dialog.overlay(this) : null),
            this.moveToTop(!0),
            (t = this.element.find(":tabbable")),
            t.length ||
              ((t = this.uiDialogButtonPane.find(":tabbable")),
              t.length || (t = i)),
            t.eq(0).focus(),
            (this._isOpen = !0),
            this._trigger("open"),
            this
          );
        }
      },
      _createButtons: function (t) {
        var n = this,
          i = !1;
        this.uiDialogButtonPane.remove(),
          this.uiButtonSet.empty(),
          "object" == typeof t &&
            null !== t &&
            e.each(t, function () {
              return !(i = !0);
            }),
          i
            ? (e.each(t, function (t, i) {
                var r, s;
                (i = e.isFunction(i)
                  ? {
                      click: i,
                      text: t,
                    }
                  : i),
                  (i = e.extend(
                    {
                      type: "button",
                    },
                    i
                  )),
                  (s = i.click),
                  (i.click = function () {
                    s.apply(n.element[0], arguments);
                  }),
                  (r = e("<button></button>", i).appendTo(n.uiButtonSet)),
                  e.fn.button && r.button();
              }),
              this.uiDialog.addClass("ui-dialog-buttons"),
              this.uiDialogButtonPane.appendTo(this.uiDialog))
            : this.uiDialog.removeClass("ui-dialog-buttons");
      },
      _makeDraggable: function () {
        function t(e) {
          return {
            position: e.position,
            offset: e.offset,
          };
        }
        var n = this,
          i = this.options;
        this.uiDialog.draggable({
          cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
          handle: ".ui-dialog-titlebar",
          containment: "document",
          start: function (i, r) {
            e(this).addClass("ui-dialog-dragging"),
              n._trigger("dragStart", i, t(r));
          },
          drag: function (e, i) {
            n._trigger("drag", e, t(i));
          },
          stop: function (r, s) {
            (i.position = [
              s.position.left - n.document.scrollLeft(),
              s.position.top - n.document.scrollTop(),
            ]),
              e(this).removeClass("ui-dialog-dragging"),
              n._trigger("dragStop", r, t(s)),
              e.ui.dialog.overlay.resize();
          },
        });
      },
      _makeResizable: function (n) {
        function i(e) {
          return {
            originalPosition: e.originalPosition,
            originalSize: e.originalSize,
            position: e.position,
            size: e.size,
          };
        }
        n = n === t ? this.options.resizable : n;
        var r = this,
          s = this.options,
          o = this.uiDialog.css("position"),
          a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
        this.uiDialog
          .resizable({
            cancel: ".ui-dialog-content",
            containment: "document",
            alsoResize: this.element,
            maxWidth: s.maxWidth,
            maxHeight: s.maxHeight,
            minWidth: s.minWidth,
            minHeight: this._minHeight(),
            handles: a,
            start: function (t, n) {
              e(this).addClass("ui-dialog-resizing"),
                r._trigger("resizeStart", t, i(n));
            },
            resize: function (e, t) {
              r._trigger("resize", e, i(t));
            },
            stop: function (t, n) {
              e(this).removeClass("ui-dialog-resizing"),
                (s.height = e(this).height()),
                (s.width = e(this).width()),
                r._trigger("resizeStop", t, i(n)),
                e.ui.dialog.overlay.resize();
            },
          })
          .css("position", o)
          .find(".ui-resizable-se")
          .addClass("ui-icon ui-icon-grip-diagonal-se");
      },
      _minHeight: function () {
        var e = this.options;
        return "auto" === e.height
          ? e.minHeight
          : Math.min(e.minHeight, e.height);
      },
      _position: function (t) {
        var n,
          i = [],
          r = [0, 0];
        t
          ? (("string" == typeof t || ("object" == typeof t && "0" in t)) &&
              ((i = t.split ? t.split(" ") : [t[0], t[1]]),
              1 === i.length && (i[1] = i[0]),
              e.each(["left", "top"], function (e, t) {
                +i[e] === i[e] && ((r[e] = i[e]), (i[e] = t));
              }),
              (t = {
                my:
                  i[0] +
                  (r[0] < 0 ? r[0] : "+" + r[0]) +
                  " " +
                  i[1] +
                  (r[1] < 0 ? r[1] : "+" + r[1]),
                at: i.join(" "),
              })),
            (t = e.extend({}, e.ui.dialog.prototype.options.position, t)))
          : (t = e.ui.dialog.prototype.options.position),
          (n = this.uiDialog.is(":visible")),
          n || this.uiDialog.show(),
          this.uiDialog.position(t),
          n || this.uiDialog.hide();
      },
      _setOptions: function (t) {
        var n = this,
          s = {},
          o = !1;
        e.each(t, function (e, t) {
          n._setOption(e, t), e in i && (o = !0), e in r && (s[e] = t);
        }),
          o && this._size(),
          this.uiDialog.is(":data(resizable)") &&
            this.uiDialog.resizable("option", s);
      },
      _setOption: function (t, i) {
        var r,
          s,
          o = this.uiDialog;
        switch (t) {
          case "buttons":
            this._createButtons(i);
            break;
          case "closeText":
            this.uiDialogTitlebarCloseText.text("" + i);
            break;
          case "dialogClass":
            o.removeClass(this.options.dialogClass).addClass(n + i);
            break;
          case "disabled":
            i
              ? o.addClass("ui-dialog-disabled")
              : o.removeClass("ui-dialog-disabled");
            break;
          case "draggable":
            (r = o.is(":data(draggable)")),
              r && !i && o.draggable("destroy"),
              !r && i && this._makeDraggable();
            break;
          case "position":
            this._position(i);
            break;
          case "resizable":
            (s = o.is(":data(resizable)")),
              s && !i && o.resizable("destroy"),
              s && "string" == typeof i && o.resizable("option", "handles", i),
              !s && i !== !1 && this._makeResizable(i);
            break;
          case "title":
            e(".ui-dialog-title", this.uiDialogTitlebar).html(
              "" + (i || "&#160;")
            );
        }
        this._super(t, i);
      },
      _size: function () {
        var t,
          n,
          i,
          r = this.options,
          s = this.uiDialog.is(":visible");
        this.element.show().css({
          width: "auto",
          minHeight: 0,
          height: 0,
        }),
          r.minWidth > r.width && (r.width = r.minWidth),
          (t = this.uiDialog
            .css({
              height: "auto",
              width: r.width,
            })
            .outerHeight()),
          (n = Math.max(0, r.minHeight - t)),
          "auto" === r.height
            ? e.support.minHeight
              ? this.element.css({
                  minHeight: n,
                  height: "auto",
                })
              : (this.uiDialog.show(),
                (i = this.element.css("height", "auto").height()),
                s || this.uiDialog.hide(),
                this.element.height(Math.max(i, n)))
            : this.element.height(Math.max(r.height - t, 0)),
          this.uiDialog.is(":data(resizable)") &&
            this.uiDialog.resizable("option", "minHeight", this._minHeight());
      },
    }),
      e.extend(e.ui.dialog, {
        uuid: 0,
        maxZ: 0,
        getTitleId: function (e) {
          var t = e.attr("id");
          return (
            t || ((this.uuid += 1), (t = this.uuid)), "ui-dialog-title-" + t
          );
        },
        overlay: function (t) {
          this.$el = e.ui.dialog.overlay.create(t);
        },
      }),
      e.extend(e.ui.dialog.overlay, {
        instances: [],
        oldInstances: [],
        maxZ: 0,
        events: e
          .map(
            "focus,mousedown,mouseup,keydown,keypress,click".split(","),
            function (e) {
              return e + ".dialog-overlay";
            }
          )
          .join(" "),
        create: function (t) {
          0 === this.instances.length &&
            (setTimeout(function () {
              e.ui.dialog.overlay.instances.length &&
                e(document).bind(e.ui.dialog.overlay.events, function (t) {
                  return e(t.target).zIndex() < e.ui.dialog.overlay.maxZ
                    ? !1
                    : void 0;
                });
            }, 1),
            e(window).bind(
              "resize.dialog-overlay",
              e.ui.dialog.overlay.resize
            ));
          var n =
            this.oldInstances.pop() || e("<div>").addClass("ui-widget-overlay");
          return (
            e(document).bind("keydown.dialog-overlay", function (i) {
              var r = e.ui.dialog.overlay.instances;
              0 !== r.length &&
                r[r.length - 1] === n &&
                t.options.closeOnEscape &&
                !i.isDefaultPrevented() &&
                i.keyCode &&
                i.keyCode === e.ui.keyCode.ESCAPE &&
                (t.close(i), i.preventDefault());
            }),
            n.appendTo(document.body).css({
              width: this.width(),
              height: this.height(),
            }),
            e.fn.bgiframe && n.bgiframe(),
            this.instances.push(n),
            n
          );
        },
        destroy: function (t) {
          var n = e.inArray(t, this.instances),
            i = 0;
          -1 !== n && this.oldInstances.push(this.instances.splice(n, 1)[0]),
            0 === this.instances.length &&
              e([document, window]).unbind(".dialog-overlay"),
            t.height(0).width(0).remove(),
            e.each(this.instances, function () {
              i = Math.max(i, this.css("z-index"));
            }),
            (this.maxZ = i);
        },
        height: function () {
          var t, n;
          return e.ui.ie
            ? ((t = Math.max(
                document.documentElement.scrollHeight,
                document.body.scrollHeight
              )),
              (n = Math.max(
                document.documentElement.offsetHeight,
                document.body.offsetHeight
              )),
              n > t ? e(window).height() + "px" : t + "px")
            : e(document).height() + "px";
        },
        width: function () {
          var t, n;
          return e.ui.ie
            ? ((t = Math.max(
                document.documentElement.scrollWidth,
                document.body.scrollWidth
              )),
              (n = Math.max(
                document.documentElement.offsetWidth,
                document.body.offsetWidth
              )),
              n > t ? e(window).width() + "px" : t + "px")
            : e(document).width() + "px";
        },
        resize: function () {
          var t = e([]);
          e.each(e.ui.dialog.overlay.instances, function () {
            t = t.add(this);
          }),
            t
              .css({
                width: 0,
                height: 0,
              })
              .css({
                width: e.ui.dialog.overlay.width(),
                height: e.ui.dialog.overlay.height(),
              });
        },
      }),
      e.extend(e.ui.dialog.overlay.prototype, {
        destroy: function () {
          e.ui.dialog.overlay.destroy(this.$el);
        },
      });
  })(jQuery),
  (function (e) {
    e.widget("ui.draggable", e.ui.mouse, {
      version: "1.9.2",
      widgetEventPrefix: "drag",
      options: {
        addClasses: !0,
        appendTo: "parent",
        axis: !1,
        connectToSortable: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        iframeFix: !1,
        opacity: !1,
        refreshPositions: !1,
        revert: !1,
        revertDuration: 500,
        scope: "default",
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        snap: !1,
        snapMode: "both",
        snapTolerance: 20,
        stack: !1,
        zIndex: !1,
      },
      _create: function () {
        "original" == this.options.helper &&
          !/^(?:r|a|f)/.test(this.element.css("position")) &&
          (this.element[0].style.position = "relative"),
          this.options.addClasses && this.element.addClass("ui-draggable"),
          this.options.disabled &&
            this.element.addClass("ui-draggable-disabled"),
          this._mouseInit();
      },
      _destroy: function () {
        this.element.removeClass(
          "ui-draggable ui-draggable-dragging ui-draggable-disabled"
        ),
          this._mouseDestroy();
      },
      _mouseCapture: function (t) {
        var n = this.options;
        return this.helper ||
          n.disabled ||
          e(t.target).is(".ui-resizable-handle")
          ? !1
          : ((this.handle = this._getHandle(t)),
            this.handle
              ? (e(n.iframeFix === !0 ? "iframe" : n.iframeFix).each(
                  function () {
                    e(
                      '<div class="ui-draggable-iframeFix" style="background: #fff;"></div>'
                    )
                      .css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1e3,
                      })
                      .css(e(this).offset())
                      .appendTo("body");
                  }
                ),
                !0)
              : !1);
      },
      _mouseStart: function (t) {
        var n = this.options;
        return (
          (this.helper = this._createHelper(t)),
          this.helper.addClass("ui-draggable-dragging"),
          this._cacheHelperProportions(),
          e.ui.ddmanager && (e.ui.ddmanager.current = this),
          this._cacheMargins(),
          (this.cssPosition = this.helper.css("position")),
          (this.scrollParent = this.helper.scrollParent()),
          (this.offset = this.positionAbs = this.element.offset()),
          (this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left,
          }),
          e.extend(this.offset, {
            click: {
              left: t.pageX - this.offset.left,
              top: t.pageY - this.offset.top,
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset(),
          }),
          (this.originalPosition = this.position = this._generatePosition(t)),
          (this.originalPageX = t.pageX),
          (this.originalPageY = t.pageY),
          n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt),
          n.containment && this._setContainment(),
          this._trigger("start", t) === !1
            ? (this._clear(), !1)
            : (this._cacheHelperProportions(),
              e.ui.ddmanager &&
                !n.dropBehaviour &&
                e.ui.ddmanager.prepareOffsets(this, t),
              this._mouseDrag(t, !0),
              e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t),
              !0)
        );
      },
      _mouseDrag: function (t, n) {
        if (
          ((this.position = this._generatePosition(t)),
          (this.positionAbs = this._convertPositionTo("absolute")),
          !n)
        ) {
          var i = this._uiHash();
          if (this._trigger("drag", t, i) === !1) return this._mouseUp({}), !1;
          this.position = i.position;
        }
        return (
          (this.options.axis && "y" == this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && "x" == this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px"),
          e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
          !1
        );
      },
      _mouseStop: function (t) {
        var n = !1;
        e.ui.ddmanager &&
          !this.options.dropBehaviour &&
          (n = e.ui.ddmanager.drop(this, t)),
          this.dropped && ((n = this.dropped), (this.dropped = !1));
        for (var i = this.element[0], r = !1; i && (i = i.parentNode); )
          i == document && (r = !0);
        if (!r && "original" === this.options.helper) return !1;
        if (
          ("invalid" == this.options.revert && !n) ||
          ("valid" == this.options.revert && n) ||
          this.options.revert === !0 ||
          (e.isFunction(this.options.revert) &&
            this.options.revert.call(this.element, n))
        ) {
          var s = this;
          e(this.helper).animate(
            this.originalPosition,
            parseInt(this.options.revertDuration, 10),
            function () {
              s._trigger("stop", t) !== !1 && s._clear();
            }
          );
        } else this._trigger("stop", t) !== !1 && this._clear();
        return !1;
      },
      _mouseUp: function (t) {
        return (
          e("div.ui-draggable-iframeFix").each(function () {
            this.parentNode.removeChild(this);
          }),
          e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
          e.ui.mouse.prototype._mouseUp.call(this, t)
        );
      },
      cancel: function () {
        return (
          this.helper.is(".ui-draggable-dragging")
            ? this._mouseUp({})
            : this._clear(),
          this
        );
      },
      _getHandle: function (t) {
        var n =
          this.options.handle && e(this.options.handle, this.element).length
            ? !1
            : !0;
        return (
          e(this.options.handle, this.element)
            .find("*")
            .andSelf()
            .each(function () {
              this == t.target && (n = !0);
            }),
          n
        );
      },
      _createHelper: function (t) {
        var n = this.options,
          i = e.isFunction(n.helper)
            ? e(n.helper.apply(this.element[0], [t]))
            : "clone" == n.helper
            ? this.element.clone().removeAttr("id")
            : this.element;
        return (
          i.parents("body").length ||
            i.appendTo(
              "parent" == n.appendTo ? this.element[0].parentNode : n.appendTo
            ),
          i[0] != this.element[0] &&
            !/(fixed|absolute)/.test(i.css("position")) &&
            i.css("position", "absolute"),
          i
        );
      },
      _adjustOffsetFromHelper: function (t) {
        "string" == typeof t && (t = t.split(" ")),
          e.isArray(t) &&
            (t = {
              left: +t[0],
              top: +t[1] || 0,
            }),
          "left" in t && (this.offset.click.left = t.left + this.margins.left),
          "right" in t &&
            (this.offset.click.left =
              this.helperProportions.width - t.right + this.margins.left),
          "top" in t && (this.offset.click.top = t.top + this.margins.top),
          "bottom" in t &&
            (this.offset.click.top =
              this.helperProportions.height - t.bottom + this.margins.top);
      },
      _getParentOffset: function () {
        this.offsetParent = this.helper.offsetParent();
        var t = this.offsetParent.offset();
        return (
          "absolute" == this.cssPosition &&
            this.scrollParent[0] != document &&
            e.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((t.left += this.scrollParent.scrollLeft()),
            (t.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] == document.body ||
            (this.offsetParent[0].tagName &&
              "html" == this.offsetParent[0].tagName.toLowerCase() &&
              e.ui.ie)) &&
            (t = {
              top: 0,
              left: 0,
            }),
          {
            top:
              t.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              t.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
          }
        );
      },
      _getRelativeOffset: function () {
        if ("relative" == this.cssPosition) {
          var e = this.element.position();
          return {
            top:
              e.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              e.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft(),
          };
        }
        return {
          top: 0,
          left: 0,
        };
      },
      _cacheMargins: function () {
        this.margins = {
          left: parseInt(this.element.css("marginLeft"), 10) || 0,
          top: parseInt(this.element.css("marginTop"), 10) || 0,
          right: parseInt(this.element.css("marginRight"), 10) || 0,
          bottom: parseInt(this.element.css("marginBottom"), 10) || 0,
        };
      },
      _cacheHelperProportions: function () {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight(),
        };
      },
      _setContainment: function () {
        var t = this.options;
        if (
          ("parent" == t.containment &&
            (t.containment = this.helper[0].parentNode),
          ("document" == t.containment || "window" == t.containment) &&
            (this.containment = [
              "document" == t.containment
                ? 0
                : e(window).scrollLeft() -
                  this.offset.relative.left -
                  this.offset.parent.left,
              "document" == t.containment
                ? 0
                : e(window).scrollTop() -
                  this.offset.relative.top -
                  this.offset.parent.top,
              ("document" == t.containment ? 0 : e(window).scrollLeft()) +
                e("document" == t.containment ? document : window).width() -
                this.helperProportions.width -
                this.margins.left,
              ("document" == t.containment ? 0 : e(window).scrollTop()) +
                (e("document" == t.containment ? document : window).height() ||
                  document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ]),
          /^(document|window|parent)$/.test(t.containment) ||
            t.containment.constructor == Array)
        )
          t.containment.constructor == Array &&
            (this.containment = t.containment);
        else {
          var n = e(t.containment),
            i = n[0];
          if (!i) return;
          var r = (n.offset(), "hidden" != e(i).css("overflow"));
          (this.containment = [
            (parseInt(e(i).css("borderLeftWidth"), 10) || 0) +
              (parseInt(e(i).css("paddingLeft"), 10) || 0),
            (parseInt(e(i).css("borderTopWidth"), 10) || 0) +
              (parseInt(e(i).css("paddingTop"), 10) || 0),
            (r ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) -
              (parseInt(e(i).css("borderLeftWidth"), 10) || 0) -
              (parseInt(e(i).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left -
              this.margins.right,
            (r ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) -
              (parseInt(e(i).css("borderTopWidth"), 10) || 0) -
              (parseInt(e(i).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top -
              this.margins.bottom,
          ]),
            (this.relative_container = n);
        }
      },
      _convertPositionTo: function (t, n) {
        n || (n = this.position);
        var i = "absolute" == t ? 1 : -1,
          r =
            (this.options,
            "absolute" != this.cssPosition ||
            (this.scrollParent[0] != document &&
              e.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent),
          s = /(html|body)/i.test(r[0].tagName);
        return {
          top:
            n.top +
            this.offset.relative.top * i +
            this.offset.parent.top * i -
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollTop()
              : s
              ? 0
              : r.scrollTop()) *
              i,
          left:
            n.left +
            this.offset.relative.left * i +
            this.offset.parent.left * i -
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : s
              ? 0
              : r.scrollLeft()) *
              i,
        };
      },
      _generatePosition: function (t) {
        var n = this.options,
          i =
            "absolute" != this.cssPosition ||
            (this.scrollParent[0] != document &&
              e.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          r = /(html|body)/i.test(i[0].tagName),
          s = t.pageX,
          o = t.pageY;
        if (this.originalPosition) {
          var a;
          if (this.containment) {
            if (this.relative_container) {
              var l = this.relative_container.offset();
              a = [
                this.containment[0] + l.left,
                this.containment[1] + l.top,
                this.containment[2] + l.left,
                this.containment[3] + l.top,
              ];
            } else a = this.containment;
            t.pageX - this.offset.click.left < a[0] &&
              (s = a[0] + this.offset.click.left),
              t.pageY - this.offset.click.top < a[1] &&
                (o = a[1] + this.offset.click.top),
              t.pageX - this.offset.click.left > a[2] &&
                (s = a[2] + this.offset.click.left),
              t.pageY - this.offset.click.top > a[3] &&
                (o = a[3] + this.offset.click.top);
          }
          if (n.grid) {
            var c = n.grid[1]
              ? this.originalPageY +
                Math.round((o - this.originalPageY) / n.grid[1]) * n.grid[1]
              : this.originalPageY;
            o =
              a &&
              (c - this.offset.click.top < a[1] ||
                c - this.offset.click.top > a[3])
                ? c - this.offset.click.top < a[1]
                  ? c + n.grid[1]
                  : c - n.grid[1]
                : c;
            var u = n.grid[0]
              ? this.originalPageX +
                Math.round((s - this.originalPageX) / n.grid[0]) * n.grid[0]
              : this.originalPageX;
            s =
              a &&
              (u - this.offset.click.left < a[0] ||
                u - this.offset.click.left > a[2])
                ? u - this.offset.click.left < a[0]
                  ? u + n.grid[0]
                  : u - n.grid[0]
                : u;
          }
        }
        return {
          top:
            o -
            this.offset.click.top -
            this.offset.relative.top -
            this.offset.parent.top +
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollTop()
              : r
              ? 0
              : i.scrollTop()),
          left:
            s -
            this.offset.click.left -
            this.offset.relative.left -
            this.offset.parent.left +
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : r
              ? 0
              : i.scrollLeft()),
        };
      },
      _clear: function () {
        this.helper.removeClass("ui-draggable-dragging"),
          this.helper[0] != this.element[0] &&
            !this.cancelHelperRemoval &&
            this.helper.remove(),
          (this.helper = null),
          (this.cancelHelperRemoval = !1);
      },
      _trigger: function (t, n, i) {
        return (
          (i = i || this._uiHash()),
          e.ui.plugin.call(this, t, [n, i]),
          "drag" == t &&
            (this.positionAbs = this._convertPositionTo("absolute")),
          e.Widget.prototype._trigger.call(this, t, n, i)
        );
      },
      plugins: {},
      _uiHash: function () {
        return {
          helper: this.helper,
          position: this.position,
          originalPosition: this.originalPosition,
          offset: this.positionAbs,
        };
      },
    }),
      e.ui.plugin.add("draggable", "connectToSortable", {
        start: function (t, n) {
          var i = e(this).data("draggable"),
            r = i.options,
            s = e.extend({}, n, {
              item: i.element,
            });
          (i.sortables = []),
            e(r.connectToSortable).each(function () {
              var n = e.data(this, "sortable");
              n &&
                !n.options.disabled &&
                (i.sortables.push({
                  instance: n,
                  shouldRevert: n.options.revert,
                }),
                n.refreshPositions(),
                n._trigger("activate", t, s));
            });
        },
        stop: function (t, n) {
          var i = e(this).data("draggable"),
            r = e.extend({}, n, {
              item: i.element,
            });
          e.each(i.sortables, function () {
            this.instance.isOver
              ? ((this.instance.isOver = 0),
                (i.cancelHelperRemoval = !0),
                (this.instance.cancelHelperRemoval = !1),
                this.shouldRevert && (this.instance.options.revert = !0),
                this.instance._mouseStop(t),
                (this.instance.options.helper = this.instance.options._helper),
                "original" == i.options.helper &&
                  this.instance.currentItem.css({
                    top: "auto",
                    left: "auto",
                  }))
              : ((this.instance.cancelHelperRemoval = !1),
                this.instance._trigger("deactivate", t, r));
          });
        },
        drag: function (t, n) {
          var i = e(this).data("draggable"),
            r = this;
          e.each(i.sortables, function () {
            var s = !1,
              o = this;
            (this.instance.positionAbs = i.positionAbs),
              (this.instance.helperProportions = i.helperProportions),
              (this.instance.offset.click = i.offset.click),
              this.instance._intersectsWith(this.instance.containerCache) &&
                ((s = !0),
                e.each(i.sortables, function () {
                  return (
                    (this.instance.positionAbs = i.positionAbs),
                    (this.instance.helperProportions = i.helperProportions),
                    (this.instance.offset.click = i.offset.click),
                    this != o &&
                      this.instance._intersectsWith(
                        this.instance.containerCache
                      ) &&
                      e.ui.contains(
                        o.instance.element[0],
                        this.instance.element[0]
                      ) &&
                      (s = !1),
                    s
                  );
                })),
              s
                ? (this.instance.isOver ||
                    ((this.instance.isOver = 1),
                    (this.instance.currentItem = e(r)
                      .clone()
                      .removeAttr("id")
                      .appendTo(this.instance.element)
                      .data("sortable-item", !0)),
                    (this.instance.options._helper =
                      this.instance.options.helper),
                    (this.instance.options.helper = function () {
                      return n.helper[0];
                    }),
                    (t.target = this.instance.currentItem[0]),
                    this.instance._mouseCapture(t, !0),
                    this.instance._mouseStart(t, !0, !0),
                    (this.instance.offset.click.top = i.offset.click.top),
                    (this.instance.offset.click.left = i.offset.click.left),
                    (this.instance.offset.parent.left -=
                      i.offset.parent.left - this.instance.offset.parent.left),
                    (this.instance.offset.parent.top -=
                      i.offset.parent.top - this.instance.offset.parent.top),
                    i._trigger("toSortable", t),
                    (i.dropped = this.instance.element),
                    (i.currentItem = i.element),
                    (this.instance.fromOutside = i)),
                  this.instance.currentItem && this.instance._mouseDrag(t))
                : this.instance.isOver &&
                  ((this.instance.isOver = 0),
                  (this.instance.cancelHelperRemoval = !0),
                  (this.instance.options.revert = !1),
                  this.instance._trigger(
                    "out",
                    t,
                    this.instance._uiHash(this.instance)
                  ),
                  this.instance._mouseStop(t, !0),
                  (this.instance.options.helper =
                    this.instance.options._helper),
                  this.instance.currentItem.remove(),
                  this.instance.placeholder &&
                    this.instance.placeholder.remove(),
                  i._trigger("fromSortable", t),
                  (i.dropped = !1));
          });
        },
      }),
      e.ui.plugin.add("draggable", "cursor", {
        start: function () {
          var t = e("body"),
            n = e(this).data("draggable").options;
          t.css("cursor") && (n._cursor = t.css("cursor")),
            t.css("cursor", n.cursor);
        },
        stop: function () {
          var t = e(this).data("draggable").options;
          t._cursor && e("body").css("cursor", t._cursor);
        },
      }),
      e.ui.plugin.add("draggable", "opacity", {
        start: function (t, n) {
          var i = e(n.helper),
            r = e(this).data("draggable").options;
          i.css("opacity") && (r._opacity = i.css("opacity")),
            i.css("opacity", r.opacity);
        },
        stop: function (t, n) {
          var i = e(this).data("draggable").options;
          i._opacity && e(n.helper).css("opacity", i._opacity);
        },
      }),
      e.ui.plugin.add("draggable", "scroll", {
        start: function () {
          var t = e(this).data("draggable");
          t.scrollParent[0] != document &&
            "HTML" != t.scrollParent[0].tagName &&
            (t.overflowOffset = t.scrollParent.offset());
        },
        drag: function (t) {
          var n = e(this).data("draggable"),
            i = n.options,
            r = !1;
          n.scrollParent[0] != document && "HTML" != n.scrollParent[0].tagName
            ? ((i.axis && "x" == i.axis) ||
                (n.overflowOffset.top +
                  n.scrollParent[0].offsetHeight -
                  t.pageY <
                i.scrollSensitivity
                  ? (n.scrollParent[0].scrollTop = r =
                      n.scrollParent[0].scrollTop + i.scrollSpeed)
                  : t.pageY - n.overflowOffset.top < i.scrollSensitivity &&
                    (n.scrollParent[0].scrollTop = r =
                      n.scrollParent[0].scrollTop - i.scrollSpeed)),
              (i.axis && "y" == i.axis) ||
                (n.overflowOffset.left +
                  n.scrollParent[0].offsetWidth -
                  t.pageX <
                i.scrollSensitivity
                  ? (n.scrollParent[0].scrollLeft = r =
                      n.scrollParent[0].scrollLeft + i.scrollSpeed)
                  : t.pageX - n.overflowOffset.left < i.scrollSensitivity &&
                    (n.scrollParent[0].scrollLeft = r =
                      n.scrollParent[0].scrollLeft - i.scrollSpeed)))
            : ((i.axis && "x" == i.axis) ||
                (t.pageY - e(document).scrollTop() < i.scrollSensitivity
                  ? (r = e(document).scrollTop(
                      e(document).scrollTop() - i.scrollSpeed
                    ))
                  : e(window).height() - (t.pageY - e(document).scrollTop()) <
                      i.scrollSensitivity &&
                    (r = e(document).scrollTop(
                      e(document).scrollTop() + i.scrollSpeed
                    ))),
              (i.axis && "y" == i.axis) ||
                (t.pageX - e(document).scrollLeft() < i.scrollSensitivity
                  ? (r = e(document).scrollLeft(
                      e(document).scrollLeft() - i.scrollSpeed
                    ))
                  : e(window).width() - (t.pageX - e(document).scrollLeft()) <
                      i.scrollSensitivity &&
                    (r = e(document).scrollLeft(
                      e(document).scrollLeft() + i.scrollSpeed
                    )))),
            r !== !1 &&
              e.ui.ddmanager &&
              !i.dropBehaviour &&
              e.ui.ddmanager.prepareOffsets(n, t);
        },
      }),
      e.ui.plugin.add("draggable", "snap", {
        start: function () {
          var t = e(this).data("draggable"),
            n = t.options;
          (t.snapElements = []),
            e(
              n.snap.constructor != String
                ? n.snap.items || ":data(draggable)"
                : n.snap
            ).each(function () {
              var n = e(this),
                i = n.offset();
              this != t.element[0] &&
                t.snapElements.push({
                  item: this,
                  width: n.outerWidth(),
                  height: n.outerHeight(),
                  top: i.top,
                  left: i.left,
                });
            });
        },
        drag: function (t, n) {
          for (
            var i = e(this).data("draggable"),
              r = i.options,
              s = r.snapTolerance,
              o = n.offset.left,
              a = o + i.helperProportions.width,
              l = n.offset.top,
              c = l + i.helperProportions.height,
              u = i.snapElements.length - 1;
            u >= 0;
            u--
          ) {
            var d = i.snapElements[u].left,
              p = d + i.snapElements[u].width,
              h = i.snapElements[u].top,
              f = h + i.snapElements[u].height;
            if (
              (o > d - s && p + s > o && l > h - s && f + s > l) ||
              (o > d - s && p + s > o && c > h - s && f + s > c) ||
              (a > d - s && p + s > a && l > h - s && f + s > l) ||
              (a > d - s && p + s > a && c > h - s && f + s > c)
            ) {
              if ("inner" != r.snapMode) {
                var m = Math.abs(h - c) <= s,
                  g = Math.abs(f - l) <= s,
                  _ = Math.abs(d - a) <= s,
                  v = Math.abs(p - o) <= s;
                m &&
                  (n.position.top =
                    i._convertPositionTo("relative", {
                      top: h - i.helperProportions.height,
                      left: 0,
                    }).top - i.margins.top),
                  g &&
                    (n.position.top =
                      i._convertPositionTo("relative", {
                        top: f,
                        left: 0,
                      }).top - i.margins.top),
                  _ &&
                    (n.position.left =
                      i._convertPositionTo("relative", {
                        top: 0,
                        left: d - i.helperProportions.width,
                      }).left - i.margins.left),
                  v &&
                    (n.position.left =
                      i._convertPositionTo("relative", {
                        top: 0,
                        left: p,
                      }).left - i.margins.left);
              }
              var y = m || g || _ || v;
              if ("outer" != r.snapMode) {
                var m = Math.abs(h - l) <= s,
                  g = Math.abs(f - c) <= s,
                  _ = Math.abs(d - o) <= s,
                  v = Math.abs(p - a) <= s;
                m &&
                  (n.position.top =
                    i._convertPositionTo("relative", {
                      top: h,
                      left: 0,
                    }).top - i.margins.top),
                  g &&
                    (n.position.top =
                      i._convertPositionTo("relative", {
                        top: f - i.helperProportions.height,
                        left: 0,
                      }).top - i.margins.top),
                  _ &&
                    (n.position.left =
                      i._convertPositionTo("relative", {
                        top: 0,
                        left: d,
                      }).left - i.margins.left),
                  v &&
                    (n.position.left =
                      i._convertPositionTo("relative", {
                        top: 0,
                        left: p - i.helperProportions.width,
                      }).left - i.margins.left);
              }
              !i.snapElements[u].snapping &&
                (m || g || _ || v || y) &&
                i.options.snap.snap &&
                i.options.snap.snap.call(
                  i.element,
                  t,
                  e.extend(i._uiHash(), {
                    snapItem: i.snapElements[u].item,
                  })
                ),
                (i.snapElements[u].snapping = m || g || _ || v || y);
            } else
              i.snapElements[u].snapping &&
                i.options.snap.release &&
                i.options.snap.release.call(
                  i.element,
                  t,
                  e.extend(i._uiHash(), {
                    snapItem: i.snapElements[u].item,
                  })
                ),
                (i.snapElements[u].snapping = !1);
          }
        },
      }),
      e.ui.plugin.add("draggable", "stack", {
        start: function () {
          var t = e(this).data("draggable").options,
            n = e.makeArray(e(t.stack)).sort(function (t, n) {
              return (
                (parseInt(e(t).css("zIndex"), 10) || 0) -
                (parseInt(e(n).css("zIndex"), 10) || 0)
              );
            });
          if (n.length) {
            var i = parseInt(n[0].style.zIndex) || 0;
            e(n).each(function (e) {
              this.style.zIndex = i + e;
            }),
              (this[0].style.zIndex = i + n.length);
          }
        },
      }),
      e.ui.plugin.add("draggable", "zIndex", {
        start: function (t, n) {
          var i = e(n.helper),
            r = e(this).data("draggable").options;
          i.css("zIndex") && (r._zIndex = i.css("zIndex")),
            i.css("zIndex", r.zIndex);
        },
        stop: function (t, n) {
          var i = e(this).data("draggable").options;
          i._zIndex && e(n.helper).css("zIndex", i._zIndex);
        },
      });
  })(jQuery),
  (function (e) {
    e.widget("ui.droppable", {
      version: "1.9.2",
      widgetEventPrefix: "drop",
      options: {
        accept: "*",
        activeClass: !1,
        addClasses: !0,
        greedy: !1,
        hoverClass: !1,
        scope: "default",
        tolerance: "intersect",
      },
      _create: function () {
        var t = this.options,
          n = t.accept;
        (this.isover = 0),
          (this.isout = 1),
          (this.accept = e.isFunction(n)
            ? n
            : function (e) {
                return e.is(n);
              }),
          (this.proportions = {
            width: this.element[0].offsetWidth,
            height: this.element[0].offsetHeight,
          }),
          (e.ui.ddmanager.droppables[t.scope] =
            e.ui.ddmanager.droppables[t.scope] || []),
          e.ui.ddmanager.droppables[t.scope].push(this),
          t.addClasses && this.element.addClass("ui-droppable");
      },
      _destroy: function () {
        for (
          var t = e.ui.ddmanager.droppables[this.options.scope], n = 0;
          n < t.length;
          n++
        )
          t[n] == this && t.splice(n, 1);
        this.element.removeClass("ui-droppable ui-droppable-disabled");
      },
      _setOption: function (t, n) {
        "accept" == t &&
          (this.accept = e.isFunction(n)
            ? n
            : function (e) {
                return e.is(n);
              }),
          e.Widget.prototype._setOption.apply(this, arguments);
      },
      _activate: function (t) {
        var n = e.ui.ddmanager.current;
        this.options.activeClass &&
          this.element.addClass(this.options.activeClass),
          n && this._trigger("activate", t, this.ui(n));
      },
      _deactivate: function (t) {
        var n = e.ui.ddmanager.current;
        this.options.activeClass &&
          this.element.removeClass(this.options.activeClass),
          n && this._trigger("deactivate", t, this.ui(n));
      },
      _over: function (t) {
        var n = e.ui.ddmanager.current;
        n &&
          (n.currentItem || n.element)[0] != this.element[0] &&
          this.accept.call(this.element[0], n.currentItem || n.element) &&
          (this.options.hoverClass &&
            this.element.addClass(this.options.hoverClass),
          this._trigger("over", t, this.ui(n)));
      },
      _out: function (t) {
        var n = e.ui.ddmanager.current;
        n &&
          (n.currentItem || n.element)[0] != this.element[0] &&
          this.accept.call(this.element[0], n.currentItem || n.element) &&
          (this.options.hoverClass &&
            this.element.removeClass(this.options.hoverClass),
          this._trigger("out", t, this.ui(n)));
      },
      _drop: function (t, n) {
        var i = n || e.ui.ddmanager.current;
        if (!i || (i.currentItem || i.element)[0] == this.element[0]) return !1;
        var r = !1;
        return (
          this.element
            .find(":data(droppable)")
            .not(".ui-draggable-dragging")
            .each(function () {
              var t = e.data(this, "droppable");
              return t.options.greedy &&
                !t.options.disabled &&
                t.options.scope == i.options.scope &&
                t.accept.call(t.element[0], i.currentItem || i.element) &&
                e.ui.intersect(
                  i,
                  e.extend(t, {
                    offset: t.element.offset(),
                  }),
                  t.options.tolerance
                )
                ? ((r = !0), !1)
                : void 0;
            }),
          r
            ? !1
            : this.accept.call(this.element[0], i.currentItem || i.element)
            ? (this.options.activeClass &&
                this.element.removeClass(this.options.activeClass),
              this.options.hoverClass &&
                this.element.removeClass(this.options.hoverClass),
              this._trigger("drop", t, this.ui(i)),
              this.element)
            : !1
        );
      },
      ui: function (e) {
        return {
          draggable: e.currentItem || e.element,
          helper: e.helper,
          position: e.position,
          offset: e.positionAbs,
        };
      },
    }),
      (e.ui.intersect = function (t, n, i) {
        if (!n.offset) return !1;
        var r = (t.positionAbs || t.position.absolute).left,
          s = r + t.helperProportions.width,
          o = (t.positionAbs || t.position.absolute).top,
          a = o + t.helperProportions.height,
          l = n.offset.left,
          c = l + n.proportions.width,
          u = n.offset.top,
          d = u + n.proportions.height;
        switch (i) {
          case "fit":
            return r >= l && c >= s && o >= u && d >= a;
          case "intersect":
            return (
              l < r + t.helperProportions.width / 2 &&
              s - t.helperProportions.width / 2 < c &&
              u < o + t.helperProportions.height / 2 &&
              a - t.helperProportions.height / 2 < d
            );
          case "pointer":
            var p =
                (t.positionAbs || t.position.absolute).left +
                (t.clickOffset || t.offset.click).left,
              h =
                (t.positionAbs || t.position.absolute).top +
                (t.clickOffset || t.offset.click).top,
              f = e.ui.isOver(
                h,
                p,
                u,
                l,
                n.proportions.height,
                n.proportions.width
              );
            return f;
          case "touch":
            return (
              ((o >= u && d >= o) || (a >= u && d >= a) || (u > o && a > d)) &&
              ((r >= l && c >= r) || (s >= l && c >= s) || (l > r && s > c))
            );
          default:
            return !1;
        }
      }),
      (e.ui.ddmanager = {
        current: null,
        droppables: {
          default: [],
        },
        prepareOffsets: function (t, n) {
          var i = e.ui.ddmanager.droppables[t.options.scope] || [],
            r = n ? n.type : null,
            s = (t.currentItem || t.element).find(":data(droppable)").andSelf();
          e: for (var o = 0; o < i.length; o++)
            if (
              !(
                i[o].options.disabled ||
                (t &&
                  !i[o].accept.call(
                    i[o].element[0],
                    t.currentItem || t.element
                  ))
              )
            ) {
              for (var a = 0; a < s.length; a++)
                if (s[a] == i[o].element[0]) {
                  i[o].proportions.height = 0;
                  continue e;
                }
              (i[o].visible = "none" != i[o].element.css("display")),
                i[o].visible &&
                  ("mousedown" == r && i[o]._activate.call(i[o], n),
                  (i[o].offset = i[o].element.offset()),
                  (i[o].proportions = {
                    width: i[o].element[0].offsetWidth,
                    height: i[o].element[0].offsetHeight,
                  }));
            }
        },
        drop: function (t, n) {
          var i = !1;
          return (
            e.each(
              e.ui.ddmanager.droppables[t.options.scope] || [],
              function () {
                this.options &&
                  (!this.options.disabled &&
                    this.visible &&
                    e.ui.intersect(t, this, this.options.tolerance) &&
                    (i = this._drop.call(this, n) || i),
                  !this.options.disabled &&
                    this.visible &&
                    this.accept.call(
                      this.element[0],
                      t.currentItem || t.element
                    ) &&
                    ((this.isout = 1),
                    (this.isover = 0),
                    this._deactivate.call(this, n)));
              }
            ),
            i
          );
        },
        dragStart: function (t, n) {
          t.element.parentsUntil("body").bind("scroll.droppable", function () {
            t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
          });
        },
        drag: function (t, n) {
          t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, n),
            e.each(
              e.ui.ddmanager.droppables[t.options.scope] || [],
              function () {
                if (
                  !this.options.disabled &&
                  !this.greedyChild &&
                  this.visible
                ) {
                  var i = e.ui.intersect(t, this, this.options.tolerance),
                    r =
                      i || 1 != this.isover
                        ? i && 0 == this.isover
                          ? "isover"
                          : null
                        : "isout";
                  if (r) {
                    var s;
                    if (this.options.greedy) {
                      var o = this.options.scope,
                        a = this.element
                          .parents(":data(droppable)")
                          .filter(function () {
                            return (
                              e.data(this, "droppable").options.scope === o
                            );
                          });
                      a.length &&
                        ((s = e.data(a[0], "droppable")),
                        (s.greedyChild = "isover" == r ? 1 : 0));
                    }
                    s &&
                      "isover" == r &&
                      ((s.isover = 0), (s.isout = 1), s._out.call(s, n)),
                      (this[r] = 1),
                      (this["isout" == r ? "isover" : "isout"] = 0),
                      this["isover" == r ? "_over" : "_out"].call(this, n),
                      s &&
                        "isout" == r &&
                        ((s.isout = 0), (s.isover = 1), s._over.call(s, n));
                  }
                }
              }
            );
        },
        dragStop: function (t, n) {
          t.element.parentsUntil("body").unbind("scroll.droppable"),
            t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
        },
      });
  })(jQuery),
  jQuery.effects ||
    (function (e, t) {
      var n = e.uiBackCompat !== !1,
        i = "ui-effects-";
      (e.effects = {
        effect: {},
      }),
        (function (t, n) {
          function i(e, t, n) {
            var i = p[t.type] || {};
            return null == e
              ? n || !t.def
                ? null
                : t.def
              : ((e = i.floor ? ~~e : parseFloat(e)),
                isNaN(e)
                  ? t.def
                  : i.mod
                  ? (e + i.mod) % i.mod
                  : 0 > e
                  ? 0
                  : i.max < e
                  ? i.max
                  : e);
          }
          function r(e) {
            var n = u(),
              i = (n._rgba = []);
            return (
              (e = e.toLowerCase()),
              m(c, function (t, r) {
                var s,
                  o = r.re.exec(e),
                  a = o && r.parse(o),
                  l = r.space || "rgba";
                return a
                  ? ((s = n[l](a)),
                    (n[d[l].cache] = s[d[l].cache]),
                    (i = n._rgba = s._rgba),
                    !1)
                  : void 0;
              }),
              i.length
                ? ("0,0,0,0" === i.join() && t.extend(i, o.transparent), n)
                : o[e]
            );
          }
          function s(e, t, n) {
            return (
              (n = (n + 1) % 1),
              1 > 6 * n
                ? e + (t - e) * n * 6
                : 1 > 2 * n
                ? t
                : 2 > 3 * n
                ? e + (t - e) * (2 / 3 - n) * 6
                : e
            );
          }
          var o,
            a =
              "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(
                " "
              ),
            l = /^([\-+])=\s*(\d+\.?\d*)/,
            c = [
              {
                re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (e) {
                  return [e[1], e[2], e[3], e[4]];
                },
              },
              {
                re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function (e) {
                  return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]];
                },
              },
              {
                re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                parse: function (e) {
                  return [
                    parseInt(e[1], 16),
                    parseInt(e[2], 16),
                    parseInt(e[3], 16),
                  ];
                },
              },
              {
                re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                parse: function (e) {
                  return [
                    parseInt(e[1] + e[1], 16),
                    parseInt(e[2] + e[2], 16),
                    parseInt(e[3] + e[3], 16),
                  ];
                },
              },
              {
                re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                space: "hsla",
                parse: function (e) {
                  return [e[1], e[2] / 100, e[3] / 100, e[4]];
                },
              },
            ],
            u = (t.Color = function (e, n, i, r) {
              return new t.Color.fn.parse(e, n, i, r);
            }),
            d = {
              rgba: {
                props: {
                  red: {
                    idx: 0,
                    type: "byte",
                  },
                  green: {
                    idx: 1,
                    type: "byte",
                  },
                  blue: {
                    idx: 2,
                    type: "byte",
                  },
                },
              },
              hsla: {
                props: {
                  hue: {
                    idx: 0,
                    type: "degrees",
                  },
                  saturation: {
                    idx: 1,
                    type: "percent",
                  },
                  lightness: {
                    idx: 2,
                    type: "percent",
                  },
                },
              },
            },
            p = {
              byte: {
                floor: !0,
                max: 255,
              },
              percent: {
                max: 1,
              },
              degrees: {
                mod: 360,
                floor: !0,
              },
            },
            h = (u.support = {}),
            f = t("<p>")[0],
            m = t.each;
          (f.style.cssText = "background-color:rgba(1,1,1,.5)"),
            (h.rgba = f.style.backgroundColor.indexOf("rgba") > -1),
            m(d, function (e, t) {
              (t.cache = "_" + e),
                (t.props.alpha = {
                  idx: 3,
                  type: "percent",
                  def: 1,
                });
            }),
            (u.fn = t.extend(u.prototype, {
              parse: function (s, a, l, c) {
                if (s === n)
                  return (this._rgba = [null, null, null, null]), this;
                (s.jquery || s.nodeType) && ((s = t(s).css(a)), (a = n));
                var p = this,
                  h = t.type(s),
                  f = (this._rgba = []);
                return (
                  a !== n && ((s = [s, a, l, c]), (h = "array")),
                  "string" === h
                    ? this.parse(r(s) || o._default)
                    : "array" === h
                    ? (m(d.rgba.props, function (e, t) {
                        f[t.idx] = i(s[t.idx], t);
                      }),
                      this)
                    : "object" === h
                    ? (s instanceof u
                        ? m(d, function (e, t) {
                            s[t.cache] && (p[t.cache] = s[t.cache].slice());
                          })
                        : m(d, function (t, n) {
                            var r = n.cache;
                            m(n.props, function (e, t) {
                              if (!p[r] && n.to) {
                                if ("alpha" === e || null == s[e]) return;
                                p[r] = n.to(p._rgba);
                              }
                              p[r][t.idx] = i(s[e], t, !0);
                            }),
                              p[r] &&
                                e.inArray(null, p[r].slice(0, 3)) < 0 &&
                                ((p[r][3] = 1),
                                n.from && (p._rgba = n.from(p[r])));
                          }),
                      this)
                    : void 0
                );
              },
              is: function (e) {
                var t = u(e),
                  n = !0,
                  i = this;
                return (
                  m(d, function (e, r) {
                    var s,
                      o = t[r.cache];
                    return (
                      o &&
                        ((s = i[r.cache] || (r.to && r.to(i._rgba)) || []),
                        m(r.props, function (e, t) {
                          return null != o[t.idx]
                            ? (n = o[t.idx] === s[t.idx])
                            : void 0;
                        })),
                      n
                    );
                  }),
                  n
                );
              },
              _space: function () {
                var e = [],
                  t = this;
                return (
                  m(d, function (n, i) {
                    t[i.cache] && e.push(n);
                  }),
                  e.pop()
                );
              },
              transition: function (e, t) {
                var n = u(e),
                  r = n._space(),
                  s = d[r],
                  o = 0 === this.alpha() ? u("transparent") : this,
                  a = o[s.cache] || s.to(o._rgba),
                  l = a.slice();
                return (
                  (n = n[s.cache]),
                  m(s.props, function (e, r) {
                    var s = r.idx,
                      o = a[s],
                      c = n[s],
                      u = p[r.type] || {};
                    null !== c &&
                      (null === o
                        ? (l[s] = c)
                        : (u.mod &&
                            (c - o > u.mod / 2
                              ? (o += u.mod)
                              : o - c > u.mod / 2 && (o -= u.mod)),
                          (l[s] = i((c - o) * t + o, r))));
                  }),
                  this[r](l)
                );
              },
              blend: function (e) {
                if (1 === this._rgba[3]) return this;
                var n = this._rgba.slice(),
                  i = n.pop(),
                  r = u(e)._rgba;
                return u(
                  t.map(n, function (e, t) {
                    return (1 - i) * r[t] + i * e;
                  })
                );
              },
              toRgbaString: function () {
                var e = "rgba(",
                  n = t.map(this._rgba, function (e, t) {
                    return null == e ? (t > 2 ? 1 : 0) : e;
                  });
                return (
                  1 === n[3] && (n.pop(), (e = "rgb(")), e + n.join() + ")"
                );
              },
              toHslaString: function () {
                var e = "hsla(",
                  n = t.map(this.hsla(), function (e, t) {
                    return (
                      null == e && (e = t > 2 ? 1 : 0),
                      t && 3 > t && (e = Math.round(100 * e) + "%"),
                      e
                    );
                  });
                return (
                  1 === n[3] && (n.pop(), (e = "hsl(")), e + n.join() + ")"
                );
              },
              toHexString: function (e) {
                var n = this._rgba.slice(),
                  i = n.pop();
                return (
                  e && n.push(~~(255 * i)),
                  "#" +
                    t
                      .map(n, function (e) {
                        return (
                          (e = (e || 0).toString(16)),
                          1 === e.length ? "0" + e : e
                        );
                      })
                      .join("")
                );
              },
              toString: function () {
                return 0 === this._rgba[3]
                  ? "transparent"
                  : this.toRgbaString();
              },
            })),
            (u.fn.parse.prototype = u.fn),
            (d.hsla.to = function (e) {
              if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
              var t,
                n,
                i = e[0] / 255,
                r = e[1] / 255,
                s = e[2] / 255,
                o = e[3],
                a = Math.max(i, r, s),
                l = Math.min(i, r, s),
                c = a - l,
                u = a + l,
                d = 0.5 * u;
              return (
                (t =
                  l === a
                    ? 0
                    : i === a
                    ? (60 * (r - s)) / c + 360
                    : r === a
                    ? (60 * (s - i)) / c + 120
                    : (60 * (i - r)) / c + 240),
                (n = 0 === d || 1 === d ? d : 0.5 >= d ? c / u : c / (2 - u)),
                [Math.round(t) % 360, n, d, null == o ? 1 : o]
              );
            }),
            (d.hsla.from = function (e) {
              if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
              var t = e[0] / 360,
                n = e[1],
                i = e[2],
                r = e[3],
                o = 0.5 >= i ? i * (1 + n) : i + n - i * n,
                a = 2 * i - o;
              return [
                Math.round(255 * s(a, o, t + 1 / 3)),
                Math.round(255 * s(a, o, t)),
                Math.round(255 * s(a, o, t - 1 / 3)),
                r,
              ];
            }),
            m(d, function (e, r) {
              var s = r.props,
                o = r.cache,
                a = r.to,
                c = r.from;
              (u.fn[e] = function (e) {
                if ((a && !this[o] && (this[o] = a(this._rgba)), e === n))
                  return this[o].slice();
                var r,
                  l = t.type(e),
                  d = "array" === l || "object" === l ? e : arguments,
                  p = this[o].slice();
                return (
                  m(s, function (e, t) {
                    var n = d["object" === l ? e : t.idx];
                    null == n && (n = p[t.idx]), (p[t.idx] = i(n, t));
                  }),
                  c ? ((r = u(c(p))), (r[o] = p), r) : u(p)
                );
              }),
                m(s, function (n, i) {
                  u.fn[n] ||
                    (u.fn[n] = function (r) {
                      var s,
                        o = t.type(r),
                        a = "alpha" === n ? (this._hsla ? "hsla" : "rgba") : e,
                        c = this[a](),
                        u = c[i.idx];
                      return "undefined" === o
                        ? u
                        : ("function" === o &&
                            ((r = r.call(this, u)), (o = t.type(r))),
                          null == r && i.empty
                            ? this
                            : ("string" === o &&
                                ((s = l.exec(r)),
                                s &&
                                  (r =
                                    u +
                                    parseFloat(s[2]) *
                                      ("+" === s[1] ? 1 : -1))),
                              (c[i.idx] = r),
                              this[a](c)));
                    });
                });
            }),
            m(a, function (e, n) {
              (t.cssHooks[n] = {
                set: function (e, i) {
                  var s,
                    o,
                    a = "";
                  if ("string" !== t.type(i) || (s = r(i))) {
                    if (((i = u(s || i)), !h.rgba && 1 !== i._rgba[3])) {
                      for (
                        o = "backgroundColor" === n ? e.parentNode : e;
                        ("" === a || "transparent" === a) && o && o.style;

                      )
                        try {
                          (a = t.css(o, "backgroundColor")), (o = o.parentNode);
                        } catch (l) {}
                      i = i.blend(a && "transparent" !== a ? a : "_default");
                    }
                    i = i.toRgbaString();
                  }
                  try {
                    e.style[n] = i;
                  } catch (c) {}
                },
              }),
                (t.fx.step[n] = function (e) {
                  e.colorInit ||
                    ((e.start = u(e.elem, n)),
                    (e.end = u(e.end)),
                    (e.colorInit = !0)),
                    t.cssHooks[n].set(e.elem, e.start.transition(e.end, e.pos));
                });
            }),
            (t.cssHooks.borderColor = {
              expand: function (e) {
                var t = {};
                return (
                  m(["Top", "Right", "Bottom", "Left"], function (n, i) {
                    t["border" + i + "Color"] = e;
                  }),
                  t
                );
              },
            }),
            (o = t.Color.names =
              {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff",
              });
        })(jQuery),
        (function () {
          function n() {
            var t,
              n,
              i = this.ownerDocument.defaultView
                ? this.ownerDocument.defaultView.getComputedStyle(this, null)
                : this.currentStyle,
              r = {};
            if (i && i.length && i[0] && i[i[0]])
              for (n = i.length; n--; )
                (t = i[n]),
                  "string" == typeof i[t] && (r[e.camelCase(t)] = i[t]);
            else for (t in i) "string" == typeof i[t] && (r[t] = i[t]);
            return r;
          }
          function i(t, n) {
            var i,
              r,
              o = {};
            for (i in n)
              (r = n[i]),
                t[i] !== r &&
                  !s[i] &&
                  (e.fx.step[i] || !isNaN(parseFloat(r))) &&
                  (o[i] = r);
            return o;
          }
          var r = ["add", "remove", "toggle"],
            s = {
              border: 1,
              borderBottom: 1,
              borderColor: 1,
              borderLeft: 1,
              borderRight: 1,
              borderTop: 1,
              borderWidth: 1,
              margin: 1,
              padding: 1,
            };
          e.each(
            [
              "borderLeftStyle",
              "borderRightStyle",
              "borderBottomStyle",
              "borderTopStyle",
            ],
            function (t, n) {
              e.fx.step[n] = function (e) {
                (("none" !== e.end && !e.setAttr) ||
                  (1 === e.pos && !e.setAttr)) &&
                  (jQuery.style(e.elem, n, e.end), (e.setAttr = !0));
              };
            }
          ),
            (e.effects.animateClass = function (t, s, o, a) {
              var l = e.speed(s, o, a);
              return this.queue(function () {
                var s,
                  o = e(this),
                  a = o.attr("class") || "",
                  c = l.children ? o.find("*").andSelf() : o;
                (c = c.map(function () {
                  var t = e(this);
                  return {
                    el: t,
                    start: n.call(this),
                  };
                })),
                  (s = function () {
                    e.each(r, function (e, n) {
                      t[n] && o[n + "Class"](t[n]);
                    });
                  }),
                  s(),
                  (c = c.map(function () {
                    return (
                      (this.end = n.call(this.el[0])),
                      (this.diff = i(this.start, this.end)),
                      this
                    );
                  })),
                  o.attr("class", a),
                  (c = c.map(function () {
                    var t = this,
                      n = e.Deferred(),
                      i = jQuery.extend({}, l, {
                        queue: !1,
                        complete: function () {
                          n.resolve(t);
                        },
                      });
                    return this.el.animate(this.diff, i), n.promise();
                  })),
                  e.when.apply(e, c.get()).done(function () {
                    s(),
                      e.each(arguments, function () {
                        var t = this.el;
                        e.each(this.diff, function (e) {
                          t.css(e, "");
                        });
                      }),
                      l.complete.call(o[0]);
                  });
              });
            }),
            e.fn.extend({
              _addClass: e.fn.addClass,
              addClass: function (t, n, i, r) {
                return n
                  ? e.effects.animateClass.call(
                      this,
                      {
                        add: t,
                      },
                      n,
                      i,
                      r
                    )
                  : this._addClass(t);
              },
              _removeClass: e.fn.removeClass,
              removeClass: function (t, n, i, r) {
                return n
                  ? e.effects.animateClass.call(
                      this,
                      {
                        remove: t,
                      },
                      n,
                      i,
                      r
                    )
                  : this._removeClass(t);
              },
              _toggleClass: e.fn.toggleClass,
              toggleClass: function (n, i, r, s, o) {
                return "boolean" == typeof i || i === t
                  ? r
                    ? e.effects.animateClass.call(
                        this,
                        i
                          ? {
                              add: n,
                            }
                          : {
                              remove: n,
                            },
                        r,
                        s,
                        o
                      )
                    : this._toggleClass(n, i)
                  : e.effects.animateClass.call(
                      this,
                      {
                        toggle: n,
                      },
                      i,
                      r,
                      s
                    );
              },
              switchClass: function (t, n, i, r, s) {
                return e.effects.animateClass.call(
                  this,
                  {
                    add: n,
                    remove: t,
                  },
                  i,
                  r,
                  s
                );
              },
            });
        })(),
        (function () {
          function r(t, n, i, r) {
            return (
              e.isPlainObject(t) && ((n = t), (t = t.effect)),
              (t = {
                effect: t,
              }),
              null == n && (n = {}),
              e.isFunction(n) && ((r = n), (i = null), (n = {})),
              ("number" == typeof n || e.fx.speeds[n]) &&
                ((r = i), (i = n), (n = {})),
              e.isFunction(i) && ((r = i), (i = null)),
              n && e.extend(t, n),
              (i = i || n.duration),
              (t.duration = e.fx.off
                ? 0
                : "number" == typeof i
                ? i
                : i in e.fx.speeds
                ? e.fx.speeds[i]
                : e.fx.speeds._default),
              (t.complete = r || n.complete),
              t
            );
          }
          function s(t) {
            return !t || "number" == typeof t || e.fx.speeds[t]
              ? !0
              : "string" != typeof t || e.effects.effect[t]
              ? !1
              : n && e.effects[t]
              ? !1
              : !0;
          }
          e.extend(e.effects, {
            version: "1.9.2",
            save: function (e, t) {
              for (var n = 0; n < t.length; n++)
                null !== t[n] && e.data(i + t[n], e[0].style[t[n]]);
            },
            restore: function (e, n) {
              var r, s;
              for (s = 0; s < n.length; s++)
                null !== n[s] &&
                  ((r = e.data(i + n[s])), r === t && (r = ""), e.css(n[s], r));
            },
            setMode: function (e, t) {
              return (
                "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"), t
              );
            },
            getBaseline: function (e, t) {
              var n, i;
              switch (e[0]) {
                case "top":
                  n = 0;
                  break;
                case "middle":
                  n = 0.5;
                  break;
                case "bottom":
                  n = 1;
                  break;
                default:
                  n = e[0] / t.height;
              }
              switch (e[1]) {
                case "left":
                  i = 0;
                  break;
                case "center":
                  i = 0.5;
                  break;
                case "right":
                  i = 1;
                  break;
                default:
                  i = e[1] / t.width;
              }
              return {
                x: i,
                y: n,
              };
            },
            createWrapper: function (t) {
              if (t.parent().is(".ui-effects-wrapper")) return t.parent();
              var n = {
                  width: t.outerWidth(!0),
                  height: t.outerHeight(!0),
                  float: t.css("float"),
                },
                i = e("<div></div>").addClass("ui-effects-wrapper").css({
                  fontSize: "100%",
                  background: "transparent",
                  border: "none",
                  margin: 0,
                  padding: 0,
                }),
                r = {
                  width: t.width(),
                  height: t.height(),
                },
                s = document.activeElement;
              try {
                s.id;
              } catch (o) {
                s = document.body;
              }
              return (
                t.wrap(i),
                (t[0] === s || e.contains(t[0], s)) && e(s).focus(),
                (i = t.parent()),
                "static" === t.css("position")
                  ? (i.css({
                      position: "relative",
                    }),
                    t.css({
                      position: "relative",
                    }))
                  : (e.extend(n, {
                      position: t.css("position"),
                      zIndex: t.css("z-index"),
                    }),
                    e.each(["top", "left", "bottom", "right"], function (e, i) {
                      (n[i] = t.css(i)),
                        isNaN(parseInt(n[i], 10)) && (n[i] = "auto");
                    }),
                    t.css({
                      position: "relative",
                      top: 0,
                      left: 0,
                      right: "auto",
                      bottom: "auto",
                    })),
                t.css(r),
                i.css(n).show()
              );
            },
            removeWrapper: function (t) {
              var n = document.activeElement;
              return (
                t.parent().is(".ui-effects-wrapper") &&
                  (t.parent().replaceWith(t),
                  (t[0] === n || e.contains(t[0], n)) && e(n).focus()),
                t
              );
            },
            setTransition: function (t, n, i, r) {
              return (
                (r = r || {}),
                e.each(n, function (e, n) {
                  var s = t.cssUnit(n);
                  s[0] > 0 && (r[n] = s[0] * i + s[1]);
                }),
                r
              );
            },
          }),
            e.fn.extend({
              effect: function () {
                function t(t) {
                  function n() {
                    e.isFunction(s) && s.call(r[0]), e.isFunction(t) && t();
                  }
                  var r = e(this),
                    s = i.complete,
                    o = i.mode;
                  (r.is(":hidden") ? "hide" === o : "show" === o)
                    ? n()
                    : a.call(r[0], i, n);
                }
                var i = r.apply(this, arguments),
                  s = i.mode,
                  o = i.queue,
                  a = e.effects.effect[i.effect],
                  l = !a && n && e.effects[i.effect];
                return e.fx.off || (!a && !l)
                  ? s
                    ? this[s](i.duration, i.complete)
                    : this.each(function () {
                        i.complete && i.complete.call(this);
                      })
                  : a
                  ? o === !1
                    ? this.each(t)
                    : this.queue(o || "fx", t)
                  : l.call(this, {
                      options: i,
                      duration: i.duration,
                      callback: i.complete,
                      mode: i.mode,
                    });
              },
              _show: e.fn.show,
              show: function (e) {
                if (s(e)) return this._show.apply(this, arguments);
                var t = r.apply(this, arguments);
                return (t.mode = "show"), this.effect.call(this, t);
              },
              _hide: e.fn.hide,
              hide: function (e) {
                if (s(e)) return this._hide.apply(this, arguments);
                var t = r.apply(this, arguments);
                return (t.mode = "hide"), this.effect.call(this, t);
              },
              __toggle: e.fn.toggle,
              toggle: function (t) {
                if (s(t) || "boolean" == typeof t || e.isFunction(t))
                  return this.__toggle.apply(this, arguments);
                var n = r.apply(this, arguments);
                return (n.mode = "toggle"), this.effect.call(this, n);
              },
              cssUnit: function (t) {
                var n = this.css(t),
                  i = [];
                return (
                  e.each(["em", "px", "%", "pt"], function (e, t) {
                    n.indexOf(t) > 0 && (i = [parseFloat(n), t]);
                  }),
                  i
                );
              },
            });
        })(),
        (function () {
          var t = {};
          e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (e, n) {
            t[n] = function (t) {
              return Math.pow(t, e + 2);
            };
          }),
            e.extend(t, {
              Sine: function (e) {
                return 1 - Math.cos((e * Math.PI) / 2);
              },
              Circ: function (e) {
                return 1 - Math.sqrt(1 - e * e);
              },
              Elastic: function (e) {
                return 0 === e || 1 === e
                  ? e
                  : -Math.pow(2, 8 * (e - 1)) *
                      Math.sin(((80 * (e - 1) - 7.5) * Math.PI) / 15);
              },
              Back: function (e) {
                return e * e * (3 * e - 2);
              },
              Bounce: function (e) {
                for (var t, n = 4; e < ((t = Math.pow(2, --n)) - 1) / 11; );
                return (
                  1 / Math.pow(4, 3 - n) -
                  7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
                );
              },
            }),
            e.each(t, function (t, n) {
              (e.easing["easeIn" + t] = n),
                (e.easing["easeOut" + t] = function (e) {
                  return 1 - n(1 - e);
                }),
                (e.easing["easeInOut" + t] = function (e) {
                  return 0.5 > e ? n(2 * e) / 2 : 1 - n(-2 * e + 2) / 2;
                });
            });
        })();
    })(jQuery),
  (function (e) {
    var t = /up|down|vertical/,
      n = /up|left|vertical|horizontal/;
    e.effects.effect.blind = function (i, r) {
      var s,
        o,
        a,
        l = e(this),
        c = ["position", "top", "bottom", "left", "right", "height", "width"],
        u = e.effects.setMode(l, i.mode || "hide"),
        d = i.direction || "up",
        p = t.test(d),
        h = p ? "height" : "width",
        f = p ? "top" : "left",
        m = n.test(d),
        g = {},
        _ = "show" === u;
      l.parent().is(".ui-effects-wrapper")
        ? e.effects.save(l.parent(), c)
        : e.effects.save(l, c),
        l.show(),
        (s = e.effects.createWrapper(l).css({
          overflow: "hidden",
        })),
        (o = s[h]()),
        (a = parseFloat(s.css(f)) || 0),
        (g[h] = _ ? o : 0),
        m ||
          (l
            .css(p ? "bottom" : "right", 0)
            .css(p ? "top" : "left", "auto")
            .css({
              position: "absolute",
            }),
          (g[f] = _ ? a : o + a)),
        _ && (s.css(h, 0), m || s.css(f, a + o)),
        s.animate(g, {
          duration: i.duration,
          easing: i.easing,
          queue: !1,
          complete: function () {
            "hide" === u && l.hide(),
              e.effects.restore(l, c),
              e.effects.removeWrapper(l),
              r();
          },
        });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.bounce = function (t, n) {
      var i,
        r,
        s,
        o = e(this),
        a = ["position", "top", "bottom", "left", "right", "height", "width"],
        l = e.effects.setMode(o, t.mode || "effect"),
        c = "hide" === l,
        u = "show" === l,
        d = t.direction || "up",
        p = t.distance,
        h = t.times || 5,
        f = 2 * h + (u || c ? 1 : 0),
        m = t.duration / f,
        g = t.easing,
        _ = "up" === d || "down" === d ? "top" : "left",
        v = "up" === d || "left" === d,
        y = o.queue(),
        b = y.length;
      for (
        (u || c) && a.push("opacity"),
          e.effects.save(o, a),
          o.show(),
          e.effects.createWrapper(o),
          p || (p = o["top" === _ ? "outerHeight" : "outerWidth"]() / 3),
          u &&
            ((s = {
              opacity: 1,
            }),
            (s[_] = 0),
            o
              .css("opacity", 0)
              .css(_, v ? 2 * -p : 2 * p)
              .animate(s, m, g)),
          c && (p /= Math.pow(2, h - 1)),
          s = {},
          s[_] = 0,
          i = 0;
        h > i;
        i++
      )
        (r = {}),
          (r[_] = (v ? "-=" : "+=") + p),
          o.animate(r, m, g).animate(s, m, g),
          (p = c ? 2 * p : p / 2);
      c &&
        ((r = {
          opacity: 0,
        }),
        (r[_] = (v ? "-=" : "+=") + p),
        o.animate(r, m, g)),
        o.queue(function () {
          c && o.hide(),
            e.effects.restore(o, a),
            e.effects.removeWrapper(o),
            n();
        }),
        b > 1 && y.splice.apply(y, [1, 0].concat(y.splice(b, f + 1))),
        o.dequeue();
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.clip = function (t, n) {
      var i,
        r,
        s,
        o = e(this),
        a = ["position", "top", "bottom", "left", "right", "height", "width"],
        l = e.effects.setMode(o, t.mode || "hide"),
        c = "show" === l,
        u = t.direction || "vertical",
        d = "vertical" === u,
        p = d ? "height" : "width",
        h = d ? "top" : "left",
        f = {};
      e.effects.save(o, a),
        o.show(),
        (i = e.effects.createWrapper(o).css({
          overflow: "hidden",
        })),
        (r = "IMG" === o[0].tagName ? i : o),
        (s = r[p]()),
        c && (r.css(p, 0), r.css(h, s / 2)),
        (f[p] = c ? s : 0),
        (f[h] = c ? 0 : s / 2),
        r.animate(f, {
          queue: !1,
          duration: t.duration,
          easing: t.easing,
          complete: function () {
            c || o.hide(),
              e.effects.restore(o, a),
              e.effects.removeWrapper(o),
              n();
          },
        });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.drop = function (t, n) {
      var i,
        r = e(this),
        s = [
          "position",
          "top",
          "bottom",
          "left",
          "right",
          "opacity",
          "height",
          "width",
        ],
        o = e.effects.setMode(r, t.mode || "hide"),
        a = "show" === o,
        l = t.direction || "left",
        c = "up" === l || "down" === l ? "top" : "left",
        u = "up" === l || "left" === l ? "pos" : "neg",
        d = {
          opacity: a ? 1 : 0,
        };
      e.effects.save(r, s),
        r.show(),
        e.effects.createWrapper(r),
        (i =
          t.distance || r["top" === c ? "outerHeight" : "outerWidth"](!0) / 2),
        a && r.css("opacity", 0).css(c, "pos" === u ? -i : i),
        (d[c] =
          (a ? ("pos" === u ? "+=" : "-=") : "pos" === u ? "-=" : "+=") + i),
        r.animate(d, {
          queue: !1,
          duration: t.duration,
          easing: t.easing,
          complete: function () {
            "hide" === o && r.hide(),
              e.effects.restore(r, s),
              e.effects.removeWrapper(r),
              n();
          },
        });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.explode = function (t, n) {
      function i() {
        y.push(this), y.length === d * p && r();
      }
      function r() {
        h.css({
          visibility: "visible",
        }),
          e(y).remove(),
          m || h.hide(),
          n();
      }
      var s,
        o,
        a,
        l,
        c,
        u,
        d = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
        p = d,
        h = e(this),
        f = e.effects.setMode(h, t.mode || "hide"),
        m = "show" === f,
        g = h.show().css("visibility", "hidden").offset(),
        _ = Math.ceil(h.outerWidth() / p),
        v = Math.ceil(h.outerHeight() / d),
        y = [];
      for (s = 0; d > s; s++)
        for (l = g.top + s * v, u = s - (d - 1) / 2, o = 0; p > o; o++)
          (a = g.left + o * _),
            (c = o - (p - 1) / 2),
            h
              .clone()
              .appendTo("body")
              .wrap("<div></div>")
              .css({
                position: "absolute",
                visibility: "visible",
                left: -o * _,
                top: -s * v,
              })
              .parent()
              .addClass("ui-effects-explode")
              .css({
                position: "absolute",
                overflow: "hidden",
                width: _,
                height: v,
                left: a + (m ? c * _ : 0),
                top: l + (m ? u * v : 0),
                opacity: m ? 0 : 1,
              })
              .animate(
                {
                  left: a + (m ? 0 : c * _),
                  top: l + (m ? 0 : u * v),
                  opacity: m ? 1 : 0,
                },
                t.duration || 500,
                t.easing,
                i
              );
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.fade = function (t, n) {
      var i = e(this),
        r = e.effects.setMode(i, t.mode || "toggle");
      i.animate(
        {
          opacity: r,
        },
        {
          queue: !1,
          duration: t.duration,
          easing: t.easing,
          complete: n,
        }
      );
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.fold = function (t, n) {
      var i,
        r,
        s = e(this),
        o = ["position", "top", "bottom", "left", "right", "height", "width"],
        a = e.effects.setMode(s, t.mode || "hide"),
        l = "show" === a,
        c = "hide" === a,
        u = t.size || 15,
        d = /([0-9]+)%/.exec(u),
        p = !!t.horizFirst,
        h = l !== p,
        f = h ? ["width", "height"] : ["height", "width"],
        m = t.duration / 2,
        g = {},
        _ = {};
      e.effects.save(s, o),
        s.show(),
        (i = e.effects.createWrapper(s).css({
          overflow: "hidden",
        })),
        (r = h ? [i.width(), i.height()] : [i.height(), i.width()]),
        d && (u = (parseInt(d[1], 10) / 100) * r[c ? 0 : 1]),
        l &&
          i.css(
            p
              ? {
                  height: 0,
                  width: u,
                }
              : {
                  height: u,
                  width: 0,
                }
          ),
        (g[f[0]] = l ? r[0] : u),
        (_[f[1]] = l ? r[1] : 0),
        i.animate(g, m, t.easing).animate(_, m, t.easing, function () {
          c && s.hide(),
            e.effects.restore(s, o),
            e.effects.removeWrapper(s),
            n();
        });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.highlight = function (t, n) {
      var i = e(this),
        r = ["backgroundImage", "backgroundColor", "opacity"],
        s = e.effects.setMode(i, t.mode || "show"),
        o = {
          backgroundColor: i.css("backgroundColor"),
        };
      "hide" === s && (o.opacity = 0),
        e.effects.save(i, r),
        i
          .show()
          .css({
            backgroundImage: "none",
            backgroundColor: t.color || "#ffff99",
          })
          .animate(o, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function () {
              "hide" === s && i.hide(), e.effects.restore(i, r), n();
            },
          });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.pulsate = function (t, n) {
      var i,
        r = e(this),
        s = e.effects.setMode(r, t.mode || "show"),
        o = "show" === s,
        a = "hide" === s,
        l = o || "hide" === s,
        c = 2 * (t.times || 5) + (l ? 1 : 0),
        u = t.duration / c,
        d = 0,
        p = r.queue(),
        h = p.length;
      for (
        (o || !r.is(":visible")) && (r.css("opacity", 0).show(), (d = 1)),
          i = 1;
        c > i;
        i++
      )
        r.animate(
          {
            opacity: d,
          },
          u,
          t.easing
        ),
          (d = 1 - d);
      r.animate(
        {
          opacity: d,
        },
        u,
        t.easing
      ),
        r.queue(function () {
          a && r.hide(), n();
        }),
        h > 1 && p.splice.apply(p, [1, 0].concat(p.splice(h, c + 1))),
        r.dequeue();
    };
  })(jQuery),
  (function (e) {
    (e.effects.effect.puff = function (t, n) {
      var i = e(this),
        r = e.effects.setMode(i, t.mode || "hide"),
        s = "hide" === r,
        o = parseInt(t.percent, 10) || 150,
        a = o / 100,
        l = {
          height: i.height(),
          width: i.width(),
          outerHeight: i.outerHeight(),
          outerWidth: i.outerWidth(),
        };
      e.extend(t, {
        effect: "scale",
        queue: !1,
        fade: !0,
        mode: r,
        complete: n,
        percent: s ? o : 100,
        from: s
          ? l
          : {
              height: l.height * a,
              width: l.width * a,
              outerHeight: l.outerHeight * a,
              outerWidth: l.outerWidth * a,
            },
      }),
        i.effect(t);
    }),
      (e.effects.effect.scale = function (t, n) {
        var i = e(this),
          r = e.extend(!0, {}, t),
          s = e.effects.setMode(i, t.mode || "effect"),
          o =
            parseInt(t.percent, 10) ||
            (0 === parseInt(t.percent, 10) ? 0 : "hide" === s ? 0 : 100),
          a = t.direction || "both",
          l = t.origin,
          c = {
            height: i.height(),
            width: i.width(),
            outerHeight: i.outerHeight(),
            outerWidth: i.outerWidth(),
          },
          u = {
            y: "horizontal" !== a ? o / 100 : 1,
            x: "vertical" !== a ? o / 100 : 1,
          };
        (r.effect = "size"),
          (r.queue = !1),
          (r.complete = n),
          "effect" !== s &&
            ((r.origin = l || ["middle", "center"]), (r.restore = !0)),
          (r.from =
            t.from ||
            ("show" === s
              ? {
                  height: 0,
                  width: 0,
                  outerHeight: 0,
                  outerWidth: 0,
                }
              : c)),
          (r.to = {
            height: c.height * u.y,
            width: c.width * u.x,
            outerHeight: c.outerHeight * u.y,
            outerWidth: c.outerWidth * u.x,
          }),
          r.fade &&
            ("show" === s && ((r.from.opacity = 0), (r.to.opacity = 1)),
            "hide" === s && ((r.from.opacity = 1), (r.to.opacity = 0))),
          i.effect(r);
      }),
      (e.effects.effect.size = function (t, n) {
        var i,
          r,
          s,
          o = e(this),
          a = [
            "position",
            "top",
            "bottom",
            "left",
            "right",
            "width",
            "height",
            "overflow",
            "opacity",
          ],
          l = [
            "position",
            "top",
            "bottom",
            "left",
            "right",
            "overflow",
            "opacity",
          ],
          c = ["width", "height", "overflow"],
          u = ["fontSize"],
          d = [
            "borderTopWidth",
            "borderBottomWidth",
            "paddingTop",
            "paddingBottom",
          ],
          p = [
            "borderLeftWidth",
            "borderRightWidth",
            "paddingLeft",
            "paddingRight",
          ],
          h = e.effects.setMode(o, t.mode || "effect"),
          f = t.restore || "effect" !== h,
          m = t.scale || "both",
          g = t.origin || ["middle", "center"],
          _ = o.css("position"),
          v = f ? a : l,
          y = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0,
          };
        "show" === h && o.show(),
          (i = {
            height: o.height(),
            width: o.width(),
            outerHeight: o.outerHeight(),
            outerWidth: o.outerWidth(),
          }),
          "toggle" === t.mode && "show" === h
            ? ((o.from = t.to || y), (o.to = t.from || i))
            : ((o.from = t.from || ("show" === h ? y : i)),
              (o.to = t.to || ("hide" === h ? y : i))),
          (s = {
            from: {
              y: o.from.height / i.height,
              x: o.from.width / i.width,
            },
            to: {
              y: o.to.height / i.height,
              x: o.to.width / i.width,
            },
          }),
          ("box" === m || "both" === m) &&
            (s.from.y !== s.to.y &&
              ((v = v.concat(d)),
              (o.from = e.effects.setTransition(o, d, s.from.y, o.from)),
              (o.to = e.effects.setTransition(o, d, s.to.y, o.to))),
            s.from.x !== s.to.x &&
              ((v = v.concat(p)),
              (o.from = e.effects.setTransition(o, p, s.from.x, o.from)),
              (o.to = e.effects.setTransition(o, p, s.to.x, o.to)))),
          ("content" === m || "both" === m) &&
            s.from.y !== s.to.y &&
            ((v = v.concat(u).concat(c)),
            (o.from = e.effects.setTransition(o, u, s.from.y, o.from)),
            (o.to = e.effects.setTransition(o, u, s.to.y, o.to))),
          e.effects.save(o, v),
          o.show(),
          e.effects.createWrapper(o),
          o.css("overflow", "hidden").css(o.from),
          g &&
            ((r = e.effects.getBaseline(g, i)),
            (o.from.top = (i.outerHeight - o.outerHeight()) * r.y),
            (o.from.left = (i.outerWidth - o.outerWidth()) * r.x),
            (o.to.top = (i.outerHeight - o.to.outerHeight) * r.y),
            (o.to.left = (i.outerWidth - o.to.outerWidth) * r.x)),
          o.css(o.from),
          ("content" === m || "both" === m) &&
            ((d = d.concat(["marginTop", "marginBottom"]).concat(u)),
            (p = p.concat(["marginLeft", "marginRight"])),
            (c = a.concat(d).concat(p)),
            o.find("*[width]").each(function () {
              var n = e(this),
                i = {
                  height: n.height(),
                  width: n.width(),
                  outerHeight: n.outerHeight(),
                  outerWidth: n.outerWidth(),
                };
              f && e.effects.save(n, c),
                (n.from = {
                  height: i.height * s.from.y,
                  width: i.width * s.from.x,
                  outerHeight: i.outerHeight * s.from.y,
                  outerWidth: i.outerWidth * s.from.x,
                }),
                (n.to = {
                  height: i.height * s.to.y,
                  width: i.width * s.to.x,
                  outerHeight: i.height * s.to.y,
                  outerWidth: i.width * s.to.x,
                }),
                s.from.y !== s.to.y &&
                  ((n.from = e.effects.setTransition(n, d, s.from.y, n.from)),
                  (n.to = e.effects.setTransition(n, d, s.to.y, n.to))),
                s.from.x !== s.to.x &&
                  ((n.from = e.effects.setTransition(n, p, s.from.x, n.from)),
                  (n.to = e.effects.setTransition(n, p, s.to.x, n.to))),
                n.css(n.from),
                n.animate(n.to, t.duration, t.easing, function () {
                  f && e.effects.restore(n, c);
                });
            })),
          o.animate(o.to, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function () {
              0 === o.to.opacity && o.css("opacity", o.from.opacity),
                "hide" === h && o.hide(),
                e.effects.restore(o, v),
                f ||
                  ("static" === _
                    ? o.css({
                        position: "relative",
                        top: o.to.top,
                        left: o.to.left,
                      })
                    : e.each(["top", "left"], function (e, t) {
                        o.css(t, function (t, n) {
                          var i = parseInt(n, 10),
                            r = e ? o.to.left : o.to.top;
                          return "auto" === n ? r + "px" : i + r + "px";
                        });
                      })),
                e.effects.removeWrapper(o),
                n();
            },
          });
      });
  })(jQuery),
  (function (e) {
    e.effects.effect.shake = function (t, n) {
      var i,
        r = e(this),
        s = ["position", "top", "bottom", "left", "right", "height", "width"],
        o = e.effects.setMode(r, t.mode || "effect"),
        a = t.direction || "left",
        l = t.distance || 20,
        c = t.times || 3,
        u = 2 * c + 1,
        d = Math.round(t.duration / u),
        p = "up" === a || "down" === a ? "top" : "left",
        h = "up" === a || "left" === a,
        f = {},
        m = {},
        g = {},
        _ = r.queue(),
        v = _.length;
      for (
        e.effects.save(r, s),
          r.show(),
          e.effects.createWrapper(r),
          f[p] = (h ? "-=" : "+=") + l,
          m[p] = (h ? "+=" : "-=") + 2 * l,
          g[p] = (h ? "-=" : "+=") + 2 * l,
          r.animate(f, d, t.easing),
          i = 1;
        c > i;
        i++
      )
        r.animate(m, d, t.easing).animate(g, d, t.easing);
      r
        .animate(m, d, t.easing)
        .animate(f, d / 2, t.easing)
        .queue(function () {
          "hide" === o && r.hide(),
            e.effects.restore(r, s),
            e.effects.removeWrapper(r),
            n();
        }),
        v > 1 && _.splice.apply(_, [1, 0].concat(_.splice(v, u + 1))),
        r.dequeue();
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.slide = function (t, n) {
      var i,
        r = e(this),
        s = ["position", "top", "bottom", "left", "right", "width", "height"],
        o = e.effects.setMode(r, t.mode || "show"),
        a = "show" === o,
        l = t.direction || "left",
        c = "up" === l || "down" === l ? "top" : "left",
        u = "up" === l || "left" === l,
        d = {};
      e.effects.save(r, s),
        r.show(),
        (i = t.distance || r["top" === c ? "outerHeight" : "outerWidth"](!0)),
        e.effects.createWrapper(r).css({
          overflow: "hidden",
        }),
        a && r.css(c, u ? (isNaN(i) ? "-" + i : -i) : i),
        (d[c] = (a ? (u ? "+=" : "-=") : u ? "-=" : "+=") + i),
        r.animate(d, {
          queue: !1,
          duration: t.duration,
          easing: t.easing,
          complete: function () {
            "hide" === o && r.hide(),
              e.effects.restore(r, s),
              e.effects.removeWrapper(r),
              n();
          },
        });
    };
  })(jQuery),
  (function (e) {
    e.effects.effect.transfer = function (t, n) {
      var i = e(this),
        r = e(t.to),
        s = "fixed" === r.css("position"),
        o = e("body"),
        a = s ? o.scrollTop() : 0,
        l = s ? o.scrollLeft() : 0,
        c = r.offset(),
        u = {
          top: c.top - a,
          left: c.left - l,
          height: r.innerHeight(),
          width: r.innerWidth(),
        },
        d = i.offset(),
        p = e('<div class="ui-effects-transfer"></div>')
          .appendTo(document.body)
          .addClass(t.className)
          .css({
            top: d.top - a,
            left: d.left - l,
            height: i.innerHeight(),
            width: i.innerWidth(),
            position: s ? "fixed" : "absolute",
          })
          .animate(u, t.duration, t.easing, function () {
            p.remove(), n();
          });
    };
  })(jQuery),
  (function (e) {
    var t = !1;
    e.widget("ui.menu", {
      version: "1.9.2",
      defaultElement: "<ul>",
      delay: 300,
      options: {
        icons: {
          submenu: "ui-icon-carat-1-e",
        },
        menus: "ul",
        position: {
          my: "left top",
          at: "right top",
        },
        role: "menu",
        blur: null,
        focus: null,
        select: null,
      },
      _create: function () {
        (this.activeMenu = this.element),
          this.element
            .uniqueId()
            .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
            .toggleClass(
              "ui-menu-icons",
              !!this.element.find(".ui-icon").length
            )
            .attr({
              role: this.options.role,
              tabIndex: 0,
            })
            .bind(
              "click" + this.eventNamespace,
              e.proxy(function (e) {
                this.options.disabled && e.preventDefault();
              }, this)
            ),
          this.options.disabled &&
            this.element
              .addClass("ui-state-disabled")
              .attr("aria-disabled", "true"),
          this._on({
            "mousedown .ui-menu-item > a": function (e) {
              e.preventDefault();
            },
            "click .ui-state-disabled > a": function (e) {
              e.preventDefault();
            },
            "click .ui-menu-item:has(a)": function (n) {
              var i = e(n.target).closest(".ui-menu-item");
              !t &&
                i.not(".ui-state-disabled").length &&
                ((t = !0),
                this.select(n),
                i.has(".ui-menu").length
                  ? this.expand(n)
                  : this.element.is(":focus") ||
                    (this.element.trigger("focus", [!0]),
                    this.active &&
                      1 === this.active.parents(".ui-menu").length &&
                      clearTimeout(this.timer)));
            },
            "mouseenter .ui-menu-item": function (t) {
              var n = e(t.currentTarget);
              n
                .siblings()
                .children(".ui-state-active")
                .removeClass("ui-state-active"),
                this.focus(t, n);
            },
            mouseleave: "collapseAll",
            "mouseleave .ui-menu": "collapseAll",
            focus: function (e, t) {
              var n =
                this.active || this.element.children(".ui-menu-item").eq(0);
              t || this.focus(e, n);
            },
            blur: function (t) {
              this._delay(function () {
                e.contains(this.element[0], this.document[0].activeElement) ||
                  this.collapseAll(t);
              });
            },
            keydown: "_keydown",
          }),
          this.refresh(),
          this._on(this.document, {
            click: function (n) {
              e(n.target).closest(".ui-menu").length || this.collapseAll(n),
                (t = !1);
            },
          });
      },
      _destroy: function () {
        this.element
          .removeAttr("aria-activedescendant")
          .find(".ui-menu")
          .andSelf()
          .removeClass(
            "ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons"
          )
          .removeAttr("role")
          .removeAttr("tabIndex")
          .removeAttr("aria-labelledby")
          .removeAttr("aria-expanded")
          .removeAttr("aria-hidden")
          .removeAttr("aria-disabled")
          .removeUniqueId()
          .show(),
          this.element
            .find(".ui-menu-item")
            .removeClass("ui-menu-item")
            .removeAttr("role")
            .removeAttr("aria-disabled")
            .children("a")
            .removeUniqueId()
            .removeClass("ui-corner-all ui-state-hover")
            .removeAttr("tabIndex")
            .removeAttr("role")
            .removeAttr("aria-haspopup")
            .children()
            .each(function () {
              var t = e(this);
              t.data("ui-menu-submenu-carat") && t.remove();
            }),
          this.element
            .find(".ui-menu-divider")
            .removeClass("ui-menu-divider ui-widget-content");
      },
      _keydown: function (t) {
        function n(e) {
          return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        }
        var i,
          r,
          s,
          o,
          a,
          l = !0;
        switch (t.keyCode) {
          case e.ui.keyCode.PAGE_UP:
            this.previousPage(t);
            break;
          case e.ui.keyCode.PAGE_DOWN:
            this.nextPage(t);
            break;
          case e.ui.keyCode.HOME:
            this._move("first", "first", t);
            break;
          case e.ui.keyCode.END:
            this._move("last", "last", t);
            break;
          case e.ui.keyCode.UP:
            this.previous(t);
            break;
          case e.ui.keyCode.DOWN:
            this.next(t);
            break;
          case e.ui.keyCode.LEFT:
            this.collapse(t);
            break;
          case e.ui.keyCode.RIGHT:
            this.active &&
              !this.active.is(".ui-state-disabled") &&
              this.expand(t);
            break;
          case e.ui.keyCode.ENTER:
          case e.ui.keyCode.SPACE:
            this._activate(t);
            break;
          case e.ui.keyCode.ESCAPE:
            this.collapse(t);
            break;
          default:
            (l = !1),
              (r = this.previousFilter || ""),
              (s = String.fromCharCode(t.keyCode)),
              (o = !1),
              clearTimeout(this.filterTimer),
              s === r ? (o = !0) : (s = r + s),
              (a = new RegExp("^" + n(s), "i")),
              (i = this.activeMenu
                .children(".ui-menu-item")
                .filter(function () {
                  return a.test(e(this).children("a").text());
                })),
              (i =
                o && -1 !== i.index(this.active.next())
                  ? this.active.nextAll(".ui-menu-item")
                  : i),
              i.length ||
                ((s = String.fromCharCode(t.keyCode)),
                (a = new RegExp("^" + n(s), "i")),
                (i = this.activeMenu
                  .children(".ui-menu-item")
                  .filter(function () {
                    return a.test(e(this).children("a").text());
                  }))),
              i.length
                ? (this.focus(t, i),
                  i.length > 1
                    ? ((this.previousFilter = s),
                      (this.filterTimer = this._delay(function () {
                        delete this.previousFilter;
                      }, 1e3)))
                    : delete this.previousFilter)
                : delete this.previousFilter;
        }
        l && t.preventDefault();
      },
      _activate: function (e) {
        this.active.is(".ui-state-disabled") ||
          (this.active.children("a[aria-haspopup='true']").length
            ? this.expand(e)
            : this.select(e));
      },
      refresh: function () {
        var t,
          n = this.options.icons.submenu,
          i = this.element.find(this.options.menus);
        i
          .filter(":not(.ui-menu)")
          .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
          .hide()
          .attr({
            role: this.options.role,
            "aria-hidden": "true",
            "aria-expanded": "false",
          })
          .each(function () {
            var t = e(this),
              i = t.prev("a"),
              r = e("<span>")
                .addClass("ui-menu-icon ui-icon " + n)
                .data("ui-menu-submenu-carat", !0);
            i.attr("aria-haspopup", "true").prepend(r),
              t.attr("aria-labelledby", i.attr("id"));
          }),
          (t = i.add(this.element)),
          t
            .children(":not(.ui-menu-item):has(a)")
            .addClass("ui-menu-item")
            .attr("role", "presentation")
            .children("a")
            .uniqueId()
            .addClass("ui-corner-all")
            .attr({
              tabIndex: -1,
              role: this._itemRole(),
            }),
          t.children(":not(.ui-menu-item)").each(function () {
            var t = e(this);
            /[^\-\u2014\u2013\s]/.test(t.text()) ||
              t.addClass("ui-widget-content ui-menu-divider");
          }),
          t.children(".ui-state-disabled").attr("aria-disabled", "true"),
          this.active &&
            !e.contains(this.element[0], this.active[0]) &&
            this.blur();
      },
      _itemRole: function () {
        return {
          menu: "menuitem",
          listbox: "option",
        }[this.options.role];
      },
      focus: function (e, t) {
        var n, i;
        this.blur(e, e && "focus" === e.type),
          this._scrollIntoView(t),
          (this.active = t.first()),
          (i = this.active.children("a").addClass("ui-state-focus")),
          this.options.role &&
            this.element.attr("aria-activedescendant", i.attr("id")),
          this.active
            .parent()
            .closest(".ui-menu-item")
            .children("a:first")
            .addClass("ui-state-active"),
          e && "keydown" === e.type
            ? this._close()
            : (this.timer = this._delay(function () {
                this._close();
              }, this.delay)),
          (n = t.children(".ui-menu")),
          n.length && /^mouse/.test(e.type) && this._startOpening(n),
          (this.activeMenu = t.parent()),
          this._trigger("focus", e, {
            item: t,
          });
      },
      _scrollIntoView: function (t) {
        var n, i, r, s, o, a;
        this._hasScroll() &&
          ((n = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0),
          (i = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0),
          (r = t.offset().top - this.activeMenu.offset().top - n - i),
          (s = this.activeMenu.scrollTop()),
          (o = this.activeMenu.height()),
          (a = t.height()),
          0 > r
            ? this.activeMenu.scrollTop(s + r)
            : r + a > o && this.activeMenu.scrollTop(s + r - o + a));
      },
      blur: function (e, t) {
        t || clearTimeout(this.timer),
          this.active &&
            (this.active.children("a").removeClass("ui-state-focus"),
            (this.active = null),
            this._trigger("blur", e, {
              item: this.active,
            }));
      },
      _startOpening: function (e) {
        clearTimeout(this.timer),
          "true" === e.attr("aria-hidden") &&
            (this.timer = this._delay(function () {
              this._close(), this._open(e);
            }, this.delay));
      },
      _open: function (t) {
        var n = e.extend(
          {
            of: this.active,
          },
          this.options.position
        );
        clearTimeout(this.timer),
          this.element
            .find(".ui-menu")
            .not(t.parents(".ui-menu"))
            .hide()
            .attr("aria-hidden", "true"),
          t
            .show()
            .removeAttr("aria-hidden")
            .attr("aria-expanded", "true")
            .position(n);
      },
      collapseAll: function (t, n) {
        clearTimeout(this.timer),
          (this.timer = this._delay(function () {
            var i = n
              ? this.element
              : e(t && t.target).closest(this.element.find(".ui-menu"));
            i.length || (i = this.element),
              this._close(i),
              this.blur(t),
              (this.activeMenu = i);
          }, this.delay));
      },
      _close: function (e) {
        e || (e = this.active ? this.active.parent() : this.element),
          e
            .find(".ui-menu")
            .hide()
            .attr("aria-hidden", "true")
            .attr("aria-expanded", "false")
            .end()
            .find("a.ui-state-active")
            .removeClass("ui-state-active");
      },
      collapse: function (e) {
        var t =
          this.active &&
          this.active.parent().closest(".ui-menu-item", this.element);
        t && t.length && (this._close(), this.focus(e, t));
      },
      expand: function (e) {
        var t =
          this.active &&
          this.active.children(".ui-menu ").children(".ui-menu-item").first();
        t &&
          t.length &&
          (this._open(t.parent()),
          this._delay(function () {
            this.focus(e, t);
          }));
      },
      next: function (e) {
        this._move("next", "first", e);
      },
      previous: function (e) {
        this._move("prev", "last", e);
      },
      isFirstItem: function () {
        return this.active && !this.active.prevAll(".ui-menu-item").length;
      },
      isLastItem: function () {
        return this.active && !this.active.nextAll(".ui-menu-item").length;
      },
      _move: function (e, t, n) {
        var i;
        this.active &&
          (i =
            "first" === e || "last" === e
              ? this.active["first" === e ? "prevAll" : "nextAll"](
                  ".ui-menu-item"
                ).eq(-1)
              : this.active[e + "All"](".ui-menu-item").eq(0)),
          (i && i.length && this.active) ||
            (i = this.activeMenu.children(".ui-menu-item")[t]()),
          this.focus(n, i);
      },
      nextPage: function (t) {
        var n, i, r;
        return this.active
          ? void (
              this.isLastItem() ||
              (this._hasScroll()
                ? ((i = this.active.offset().top),
                  (r = this.element.height()),
                  this.active.nextAll(".ui-menu-item").each(function () {
                    return (n = e(this)), n.offset().top - i - r < 0;
                  }),
                  this.focus(t, n))
                : this.focus(
                    t,
                    this.activeMenu
                      .children(".ui-menu-item")
                      [this.active ? "last" : "first"]()
                  ))
            )
          : void this.next(t);
      },
      previousPage: function (t) {
        var n, i, r;
        return this.active
          ? void (
              this.isFirstItem() ||
              (this._hasScroll()
                ? ((i = this.active.offset().top),
                  (r = this.element.height()),
                  this.active.prevAll(".ui-menu-item").each(function () {
                    return (n = e(this)), n.offset().top - i + r > 0;
                  }),
                  this.focus(t, n))
                : this.focus(
                    t,
                    this.activeMenu.children(".ui-menu-item").first()
                  ))
            )
          : void this.next(t);
      },
      _hasScroll: function () {
        return this.element.outerHeight() < this.element.prop("scrollHeight");
      },
      select: function (t) {
        this.active = this.active || e(t.target).closest(".ui-menu-item");
        var n = {
          item: this.active,
        };
        this.active.has(".ui-menu").length || this.collapseAll(t, !0),
          this._trigger("select", t, n);
      },
    });
  })(jQuery),
  (function (e, t) {
    e.widget("ui.progressbar", {
      version: "1.9.2",
      options: {
        value: 0,
        max: 100,
      },
      min: 0,
      _create: function () {
        this.element
          .addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all")
          .attr({
            role: "progressbar",
            "aria-valuemin": this.min,
            "aria-valuemax": this.options.max,
            "aria-valuenow": this._value(),
          }),
          (this.valueDiv = e(
            "<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>"
          ).appendTo(this.element)),
          (this.oldValue = this._value()),
          this._refreshValue();
      },
      _destroy: function () {
        this.element
          .removeClass(
            "ui-progressbar ui-widget ui-widget-content ui-corner-all"
          )
          .removeAttr("role")
          .removeAttr("aria-valuemin")
          .removeAttr("aria-valuemax")
          .removeAttr("aria-valuenow"),
          this.valueDiv.remove();
      },
      value: function (e) {
        return e === t ? this._value() : (this._setOption("value", e), this);
      },
      _setOption: function (e, t) {
        "value" === e &&
          ((this.options.value = t),
          this._refreshValue(),
          this._value() === this.options.max && this._trigger("complete")),
          this._super(e, t);
      },
      _value: function () {
        var e = this.options.value;
        return (
          "number" != typeof e && (e = 0),
          Math.min(this.options.max, Math.max(this.min, e))
        );
      },
      _percentage: function () {
        return (100 * this._value()) / this.options.max;
      },
      _refreshValue: function () {
        var e = this.value(),
          t = this._percentage();
        this.oldValue !== e && ((this.oldValue = e), this._trigger("change")),
          this.valueDiv
            .toggle(e > this.min)
            .toggleClass("ui-corner-right", e === this.options.max)
            .width(t.toFixed(0) + "%"),
          this.element.attr("aria-valuenow", e);
      },
    });
  })(jQuery),
  (function (e) {
    e.widget("ui.resizable", e.ui.mouse, {
      version: "1.9.2",
      widgetEventPrefix: "resize",
      options: {
        alsoResize: !1,
        animate: !1,
        animateDuration: "slow",
        animateEasing: "swing",
        aspectRatio: !1,
        autoHide: !1,
        containment: !1,
        ghost: !1,
        grid: !1,
        handles: "e,s,se",
        helper: !1,
        maxHeight: null,
        maxWidth: null,
        minHeight: 10,
        minWidth: 10,
        zIndex: 1e3,
      },
      _create: function () {
        var t = this,
          n = this.options;
        if (
          (this.element.addClass("ui-resizable"),
          e.extend(this, {
            _aspectRatio: !!n.aspectRatio,
            aspectRatio: n.aspectRatio,
            originalElement: this.element,
            _proportionallyResizeElements: [],
            _helper:
              n.helper || n.ghost || n.animate
                ? n.helper || "ui-resizable-helper"
                : null,
          }),
          this.element[0].nodeName.match(
            /canvas|textarea|input|select|button|img/i
          ) &&
            (this.element.wrap(
              e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css(
                {
                  position: this.element.css("position"),
                  width: this.element.outerWidth(),
                  height: this.element.outerHeight(),
                  top: this.element.css("top"),
                  left: this.element.css("left"),
                }
              )
            ),
            (this.element = this.element
              .parent()
              .data("resizable", this.element.data("resizable"))),
            (this.elementIsWrapper = !0),
            this.element.css({
              marginLeft: this.originalElement.css("marginLeft"),
              marginTop: this.originalElement.css("marginTop"),
              marginRight: this.originalElement.css("marginRight"),
              marginBottom: this.originalElement.css("marginBottom"),
            }),
            this.originalElement.css({
              marginLeft: 0,
              marginTop: 0,
              marginRight: 0,
              marginBottom: 0,
            }),
            (this.originalResizeStyle = this.originalElement.css("resize")),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(
              this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block",
              })
            ),
            this.originalElement.css({
              margin: this.originalElement.css("margin"),
            }),
            this._proportionallyResize()),
          (this.handles =
            n.handles ||
            (e(".ui-resizable-handle", this.element).length
              ? {
                  n: ".ui-resizable-n",
                  e: ".ui-resizable-e",
                  s: ".ui-resizable-s",
                  w: ".ui-resizable-w",
                  se: ".ui-resizable-se",
                  sw: ".ui-resizable-sw",
                  ne: ".ui-resizable-ne",
                  nw: ".ui-resizable-nw",
                }
              : "e,s,se")),
          this.handles.constructor == String)
        ) {
          "all" == this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw");
          var i = this.handles.split(",");
          this.handles = {};
          for (var r = 0; r < i.length; r++) {
            var s = e.trim(i[r]),
              o = "ui-resizable-" + s,
              a = e('<div class="ui-resizable-handle ' + o + '"></div>');
            a.css({
              zIndex: n.zIndex,
            }),
              "se" == s && a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
              (this.handles[s] = ".ui-resizable-" + s),
              this.element.append(a);
          }
        }
        (this._renderAxis = function (t) {
          t = t || this.element;
          for (var n in this.handles) {
            if (
              (this.handles[n].constructor == String &&
                (this.handles[n] = e(this.handles[n], this.element).show()),
              this.elementIsWrapper &&
                this.originalElement[0].nodeName.match(
                  /textarea|input|select|button/i
                ))
            ) {
              var i = e(this.handles[n], this.element),
                r = 0;
              r = /sw|ne|nw|se|n|s/.test(n) ? i.outerHeight() : i.outerWidth();
              var s = [
                "padding",
                /ne|nw|n/.test(n)
                  ? "Top"
                  : /se|sw|s/.test(n)
                  ? "Bottom"
                  : /^e$/.test(n)
                  ? "Right"
                  : "Left",
              ].join("");
              t.css(s, r), this._proportionallyResize();
            }
            e(this.handles[n]).length;
          }
        }),
          this._renderAxis(this.element),
          (this._handles = e(
            ".ui-resizable-handle",
            this.element
          ).disableSelection()),
          this._handles.mouseover(function () {
            if (!t.resizing) {
              if (this.className)
                var e = this.className.match(
                  /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i
                );
              t.axis = e && e[1] ? e[1] : "se";
            }
          }),
          n.autoHide &&
            (this._handles.hide(),
            e(this.element)
              .addClass("ui-resizable-autohide")
              .mouseenter(function () {
                n.disabled ||
                  (e(this).removeClass("ui-resizable-autohide"),
                  t._handles.show());
              })
              .mouseleave(function () {
                n.disabled ||
                  t.resizing ||
                  (e(this).addClass("ui-resizable-autohide"),
                  t._handles.hide());
              })),
          this._mouseInit();
      },
      _destroy: function () {
        this._mouseDestroy();
        var t = function (t) {
          e(t)
            .removeClass(
              "ui-resizable ui-resizable-disabled ui-resizable-resizing"
            )
            .removeData("resizable")
            .removeData("ui-resizable")
            .unbind(".resizable")
            .find(".ui-resizable-handle")
            .remove();
        };
        if (this.elementIsWrapper) {
          t(this.element);
          var n = this.element;
          this.originalElement
            .css({
              position: n.css("position"),
              width: n.outerWidth(),
              height: n.outerHeight(),
              top: n.css("top"),
              left: n.css("left"),
            })
            .insertAfter(n),
            n.remove();
        }
        return (
          this.originalElement.css("resize", this.originalResizeStyle),
          t(this.originalElement),
          this
        );
      },
      _mouseCapture: function (t) {
        var n = !1;
        for (var i in this.handles)
          e(this.handles[i])[0] == t.target && (n = !0);
        return !this.options.disabled && n;
      },
      _mouseStart: function (n) {
        var i = this.options,
          r = this.element.position(),
          s = this.element;
        (this.resizing = !0),
          (this.documentScroll = {
            top: e(document).scrollTop(),
            left: e(document).scrollLeft(),
          }),
          (s.is(".ui-draggable") || /absolute/.test(s.css("position"))) &&
            s.css({
              position: "absolute",
              top: r.top,
              left: r.left,
            }),
          this._renderProxy();
        var o = t(this.helper.css("left")),
          a = t(this.helper.css("top"));
        i.containment &&
          ((o += e(i.containment).scrollLeft() || 0),
          (a += e(i.containment).scrollTop() || 0)),
          (this.offset = this.helper.offset()),
          (this.position = {
            left: o,
            top: a,
          }),
          (this.size = this._helper
            ? {
                width: s.outerWidth(),
                height: s.outerHeight(),
              }
            : {
                width: s.width(),
                height: s.height(),
              }),
          (this.originalSize = this._helper
            ? {
                width: s.outerWidth(),
                height: s.outerHeight(),
              }
            : {
                width: s.width(),
                height: s.height(),
              }),
          (this.originalPosition = {
            left: o,
            top: a,
          }),
          (this.sizeDiff = {
            width: s.outerWidth() - s.width(),
            height: s.outerHeight() - s.height(),
          }),
          (this.originalMousePosition = {
            left: n.pageX,
            top: n.pageY,
          }),
          (this.aspectRatio =
            "number" == typeof i.aspectRatio
              ? i.aspectRatio
              : this.originalSize.width / this.originalSize.height || 1);
        var l = e(".ui-resizable-" + this.axis).css("cursor");
        return (
          e("body").css("cursor", "auto" == l ? this.axis + "-resize" : l),
          s.addClass("ui-resizable-resizing"),
          this._propagate("start", n),
          !0
        );
      },
      _mouseDrag: function (e) {
        var t = this.helper,
          n = (this.options, this.originalMousePosition),
          i = this.axis,
          r = e.pageX - n.left || 0,
          s = e.pageY - n.top || 0,
          o = this._change[i];
        if (!o) return !1;
        var a = o.apply(this, [e, r, s]);
        return (
          this._updateVirtualBoundaries(e.shiftKey),
          (this._aspectRatio || e.shiftKey) && (a = this._updateRatio(a, e)),
          (a = this._respectSize(a, e)),
          this._propagate("resize", e),
          t.css({
            top: this.position.top + "px",
            left: this.position.left + "px",
            width: this.size.width + "px",
            height: this.size.height + "px",
          }),
          !this._helper &&
            this._proportionallyResizeElements.length &&
            this._proportionallyResize(),
          this._updateCache(a),
          this._trigger("resize", e, this.ui()),
          !1
        );
      },
      _mouseStop: function (t) {
        this.resizing = !1;
        var n = this.options,
          i = this;
        if (this._helper) {
          var r = this._proportionallyResizeElements,
            s = r.length && /textarea/i.test(r[0].nodeName),
            o = s && e.ui.hasScroll(r[0], "left") ? 0 : i.sizeDiff.height,
            a = s ? 0 : i.sizeDiff.width,
            l = {
              width: i.helper.width() - a,
              height: i.helper.height() - o,
            },
            c =
              parseInt(i.element.css("left"), 10) +
                (i.position.left - i.originalPosition.left) || null,
            u =
              parseInt(i.element.css("top"), 10) +
                (i.position.top - i.originalPosition.top) || null;
          n.animate ||
            this.element.css(
              e.extend(l, {
                top: u,
                left: c,
              })
            ),
            i.helper.height(i.size.height),
            i.helper.width(i.size.width),
            this._helper && !n.animate && this._proportionallyResize();
        }
        return (
          e("body").css("cursor", "auto"),
          this.element.removeClass("ui-resizable-resizing"),
          this._propagate("stop", t),
          this._helper && this.helper.remove(),
          !1
        );
      },
      _updateVirtualBoundaries: function (e) {
        var t,
          i,
          r,
          s,
          o,
          a = this.options;
        (o = {
          minWidth: n(a.minWidth) ? a.minWidth : 0,
          maxWidth: n(a.maxWidth) ? a.maxWidth : 1 / 0,
          minHeight: n(a.minHeight) ? a.minHeight : 0,
          maxHeight: n(a.maxHeight) ? a.maxHeight : 1 / 0,
        }),
          (this._aspectRatio || e) &&
            ((t = o.minHeight * this.aspectRatio),
            (r = o.minWidth / this.aspectRatio),
            (i = o.maxHeight * this.aspectRatio),
            (s = o.maxWidth / this.aspectRatio),
            t > o.minWidth && (o.minWidth = t),
            r > o.minHeight && (o.minHeight = r),
            i < o.maxWidth && (o.maxWidth = i),
            s < o.maxHeight && (o.maxHeight = s)),
          (this._vBoundaries = o);
      },
      _updateCache: function (e) {
        this.options;
        (this.offset = this.helper.offset()),
          n(e.left) && (this.position.left = e.left),
          n(e.top) && (this.position.top = e.top),
          n(e.height) && (this.size.height = e.height),
          n(e.width) && (this.size.width = e.width);
      },
      _updateRatio: function (e) {
        var t = (this.options, this.position),
          i = this.size,
          r = this.axis;
        return (
          n(e.height)
            ? (e.width = e.height * this.aspectRatio)
            : n(e.width) && (e.height = e.width / this.aspectRatio),
          "sw" == r &&
            ((e.left = t.left + (i.width - e.width)), (e.top = null)),
          "nw" == r &&
            ((e.top = t.top + (i.height - e.height)),
            (e.left = t.left + (i.width - e.width))),
          e
        );
      },
      _respectSize: function (e, t) {
        var i = (this.helper, this._vBoundaries),
          r = (this._aspectRatio || t.shiftKey, this.axis),
          s = n(e.width) && i.maxWidth && i.maxWidth < e.width,
          o = n(e.height) && i.maxHeight && i.maxHeight < e.height,
          a = n(e.width) && i.minWidth && i.minWidth > e.width,
          l = n(e.height) && i.minHeight && i.minHeight > e.height;
        a && (e.width = i.minWidth),
          l && (e.height = i.minHeight),
          s && (e.width = i.maxWidth),
          o && (e.height = i.maxHeight);
        var c = this.originalPosition.left + this.originalSize.width,
          u = this.position.top + this.size.height,
          d = /sw|nw|w/.test(r),
          p = /nw|ne|n/.test(r);
        a && d && (e.left = c - i.minWidth),
          s && d && (e.left = c - i.maxWidth),
          l && p && (e.top = u - i.minHeight),
          o && p && (e.top = u - i.maxHeight);
        var h = !e.width && !e.height;
        return (
          h && !e.left && e.top
            ? (e.top = null)
            : h && !e.top && e.left && (e.left = null),
          e
        );
      },
      _proportionallyResize: function () {
        this.options;
        if (this._proportionallyResizeElements.length)
          for (
            var t = this.helper || this.element, n = 0;
            n < this._proportionallyResizeElements.length;
            n++
          ) {
            var i = this._proportionallyResizeElements[n];
            if (!this.borderDif) {
              var r = [
                  i.css("borderTopWidth"),
                  i.css("borderRightWidth"),
                  i.css("borderBottomWidth"),
                  i.css("borderLeftWidth"),
                ],
                s = [
                  i.css("paddingTop"),
                  i.css("paddingRight"),
                  i.css("paddingBottom"),
                  i.css("paddingLeft"),
                ];
              this.borderDif = e.map(r, function (e, t) {
                var n = parseInt(e, 10) || 0,
                  i = parseInt(s[t], 10) || 0;
                return n + i;
              });
            }
            i.css({
              height: t.height() - this.borderDif[0] - this.borderDif[2] || 0,
              width: t.width() - this.borderDif[1] - this.borderDif[3] || 0,
            });
          }
      },
      _renderProxy: function () {
        var t = this.element,
          n = this.options;
        if (((this.elementOffset = t.offset()), this._helper)) {
          this.helper =
            this.helper || e('<div style="overflow:hidden;"></div>');
          var i = e.ui.ie6 ? 1 : 0,
            r = e.ui.ie6 ? 2 : -1;
          this.helper.addClass(this._helper).css({
            width: this.element.outerWidth() + r,
            height: this.element.outerHeight() + r,
            position: "absolute",
            left: this.elementOffset.left - i + "px",
            top: this.elementOffset.top - i + "px",
            zIndex: ++n.zIndex,
          }),
            this.helper.appendTo("body").disableSelection();
        } else this.helper = this.element;
      },
      _change: {
        e: function (e, t) {
          return {
            width: this.originalSize.width + t,
          };
        },
        w: function (e, t) {
          var n = (this.options, this.originalSize),
            i = this.originalPosition;
          return {
            left: i.left + t,
            width: n.width - t,
          };
        },
        n: function (e, t, n) {
          var i = (this.options, this.originalSize),
            r = this.originalPosition;
          return {
            top: r.top + n,
            height: i.height - n,
          };
        },
        s: function (e, t, n) {
          return {
            height: this.originalSize.height + n,
          };
        },
        se: function (t, n, i) {
          return e.extend(
            this._change.s.apply(this, arguments),
            this._change.e.apply(this, [t, n, i])
          );
        },
        sw: function (t, n, i) {
          return e.extend(
            this._change.s.apply(this, arguments),
            this._change.w.apply(this, [t, n, i])
          );
        },
        ne: function (t, n, i) {
          return e.extend(
            this._change.n.apply(this, arguments),
            this._change.e.apply(this, [t, n, i])
          );
        },
        nw: function (t, n, i) {
          return e.extend(
            this._change.n.apply(this, arguments),
            this._change.w.apply(this, [t, n, i])
          );
        },
      },
      _propagate: function (t, n) {
        e.ui.plugin.call(this, t, [n, this.ui()]),
          "resize" != t && this._trigger(t, n, this.ui());
      },
      plugins: {},
      ui: function () {
        return {
          originalElement: this.originalElement,
          element: this.element,
          helper: this.helper,
          position: this.position,
          size: this.size,
          originalSize: this.originalSize,
          originalPosition: this.originalPosition,
        };
      },
    }),
      e.ui.plugin.add("resizable", "alsoResize", {
        start: function () {
          var t = e(this).data("resizable"),
            n = t.options,
            i = function (t) {
              e(t).each(function () {
                var t = e(this);
                t.data("resizable-alsoresize", {
                  width: parseInt(t.width(), 10),
                  height: parseInt(t.height(), 10),
                  left: parseInt(t.css("left"), 10),
                  top: parseInt(t.css("top"), 10),
                });
              });
            };
          "object" != typeof n.alsoResize || n.alsoResize.parentNode
            ? i(n.alsoResize)
            : n.alsoResize.length
            ? ((n.alsoResize = n.alsoResize[0]), i(n.alsoResize))
            : e.each(n.alsoResize, function (e) {
                i(e);
              });
        },
        resize: function (t, n) {
          var i = e(this).data("resizable"),
            r = i.options,
            s = i.originalSize,
            o = i.originalPosition,
            a = {
              height: i.size.height - s.height || 0,
              width: i.size.width - s.width || 0,
              top: i.position.top - o.top || 0,
              left: i.position.left - o.left || 0,
            },
            l = function (t, i) {
              e(t).each(function () {
                var t = e(this),
                  r = e(this).data("resizable-alsoresize"),
                  s = {},
                  o =
                    i && i.length
                      ? i
                      : t.parents(n.originalElement[0]).length
                      ? ["width", "height"]
                      : ["width", "height", "top", "left"];
                e.each(o, function (e, t) {
                  var n = (r[t] || 0) + (a[t] || 0);
                  n && n >= 0 && (s[t] = n || null);
                }),
                  t.css(s);
              });
            };
          "object" != typeof r.alsoResize || r.alsoResize.nodeType
            ? l(r.alsoResize)
            : e.each(r.alsoResize, function (e, t) {
                l(e, t);
              });
        },
        stop: function () {
          e(this).removeData("resizable-alsoresize");
        },
      }),
      e.ui.plugin.add("resizable", "animate", {
        stop: function (t) {
          var n = e(this).data("resizable"),
            i = n.options,
            r = n._proportionallyResizeElements,
            s = r.length && /textarea/i.test(r[0].nodeName),
            o = s && e.ui.hasScroll(r[0], "left") ? 0 : n.sizeDiff.height,
            a = s ? 0 : n.sizeDiff.width,
            l = {
              width: n.size.width - a,
              height: n.size.height - o,
            },
            c =
              parseInt(n.element.css("left"), 10) +
                (n.position.left - n.originalPosition.left) || null,
            u =
              parseInt(n.element.css("top"), 10) +
                (n.position.top - n.originalPosition.top) || null;
          n.element.animate(
            e.extend(
              l,
              u && c
                ? {
                    top: u,
                    left: c,
                  }
                : {}
            ),
            {
              duration: i.animateDuration,
              easing: i.animateEasing,
              step: function () {
                var i = {
                  width: parseInt(n.element.css("width"), 10),
                  height: parseInt(n.element.css("height"), 10),
                  top: parseInt(n.element.css("top"), 10),
                  left: parseInt(n.element.css("left"), 10),
                };
                r &&
                  r.length &&
                  e(r[0]).css({
                    width: i.width,
                    height: i.height,
                  }),
                  n._updateCache(i),
                  n._propagate("resize", t);
              },
            }
          );
        },
      }),
      e.ui.plugin.add("resizable", "containment", {
        start: function () {
          var n = e(this).data("resizable"),
            i = n.options,
            r = n.element,
            s = i.containment,
            o =
              s instanceof e
                ? s.get(0)
                : /parent/.test(s)
                ? r.parent().get(0)
                : s;
          if (o)
            if (
              ((n.containerElement = e(o)), /document/.test(s) || s == document)
            )
              (n.containerOffset = {
                left: 0,
                top: 0,
              }),
                (n.containerPosition = {
                  left: 0,
                  top: 0,
                }),
                (n.parentData = {
                  element: e(document),
                  left: 0,
                  top: 0,
                  width: e(document).width(),
                  height:
                    e(document).height() ||
                    document.body.parentNode.scrollHeight,
                });
            else {
              var a = e(o),
                l = [];
              e(["Top", "Right", "Left", "Bottom"]).each(function (e, n) {
                l[e] = t(a.css("padding" + n));
              }),
                (n.containerOffset = a.offset()),
                (n.containerPosition = a.position()),
                (n.containerSize = {
                  height: a.innerHeight() - l[3],
                  width: a.innerWidth() - l[1],
                });
              var c = n.containerOffset,
                u = n.containerSize.height,
                d = n.containerSize.width,
                p = e.ui.hasScroll(o, "left") ? o.scrollWidth : d,
                h = e.ui.hasScroll(o) ? o.scrollHeight : u;
              n.parentData = {
                element: o,
                left: c.left,
                top: c.top,
                width: p,
                height: h,
              };
            }
        },
        resize: function (t) {
          var n = e(this).data("resizable"),
            i = n.options,
            r = (n.containerSize, n.containerOffset),
            s = (n.size, n.position),
            o = n._aspectRatio || t.shiftKey,
            a = {
              top: 0,
              left: 0,
            },
            l = n.containerElement;
          l[0] != document && /static/.test(l.css("position")) && (a = r),
            s.left < (n._helper ? r.left : 0) &&
              ((n.size.width =
                n.size.width +
                (n._helper
                  ? n.position.left - r.left
                  : n.position.left - a.left)),
              o && (n.size.height = n.size.width / n.aspectRatio),
              (n.position.left = i.helper ? r.left : 0)),
            s.top < (n._helper ? r.top : 0) &&
              ((n.size.height =
                n.size.height +
                (n._helper ? n.position.top - r.top : n.position.top)),
              o && (n.size.width = n.size.height * n.aspectRatio),
              (n.position.top = n._helper ? r.top : 0)),
            (n.offset.left = n.parentData.left + n.position.left),
            (n.offset.top = n.parentData.top + n.position.top);
          var c = Math.abs(
              (n._helper ? n.offset.left - a.left : n.offset.left - a.left) +
                n.sizeDiff.width
            ),
            u = Math.abs(
              (n._helper ? n.offset.top - a.top : n.offset.top - r.top) +
                n.sizeDiff.height
            ),
            d = n.containerElement.get(0) == n.element.parent().get(0),
            p = /relative|absolute/.test(n.containerElement.css("position"));
          d && p && (c -= n.parentData.left),
            c + n.size.width >= n.parentData.width &&
              ((n.size.width = n.parentData.width - c),
              o && (n.size.height = n.size.width / n.aspectRatio)),
            u + n.size.height >= n.parentData.height &&
              ((n.size.height = n.parentData.height - u),
              o && (n.size.width = n.size.height * n.aspectRatio));
        },
        stop: function () {
          var t = e(this).data("resizable"),
            n = t.options,
            i = (t.position, t.containerOffset),
            r = t.containerPosition,
            s = t.containerElement,
            o = e(t.helper),
            a = o.offset(),
            l = o.outerWidth() - t.sizeDiff.width,
            c = o.outerHeight() - t.sizeDiff.height;
          t._helper &&
            !n.animate &&
            /relative/.test(s.css("position")) &&
            e(this).css({
              left: a.left - r.left - i.left,
              width: l,
              height: c,
            }),
            t._helper &&
              !n.animate &&
              /static/.test(s.css("position")) &&
              e(this).css({
                left: a.left - r.left - i.left,
                width: l,
                height: c,
              });
        },
      }),
      e.ui.plugin.add("resizable", "ghost", {
        start: function () {
          var t = e(this).data("resizable"),
            n = t.options,
            i = t.size;
          (t.ghost = t.originalElement.clone()),
            t.ghost
              .css({
                opacity: 0.25,
                display: "block",
                position: "relative",
                height: i.height,
                width: i.width,
                margin: 0,
                left: 0,
                top: 0,
              })
              .addClass("ui-resizable-ghost")
              .addClass("string" == typeof n.ghost ? n.ghost : ""),
            t.ghost.appendTo(t.helper);
        },
        resize: function () {
          {
            var t = e(this).data("resizable");
            t.options;
          }
          t.ghost &&
            t.ghost.css({
              position: "relative",
              height: t.size.height,
              width: t.size.width,
            });
        },
        stop: function () {
          {
            var t = e(this).data("resizable");
            t.options;
          }
          t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0));
        },
      }),
      e.ui.plugin.add("resizable", "grid", {
        resize: function (t) {
          {
            var n = e(this).data("resizable"),
              i = n.options,
              r = n.size,
              s = n.originalSize,
              o = n.originalPosition,
              a = n.axis;
            i._aspectRatio || t.shiftKey;
          }
          i.grid = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid;
          var l =
              Math.round((r.width - s.width) / (i.grid[0] || 1)) *
              (i.grid[0] || 1),
            c =
              Math.round((r.height - s.height) / (i.grid[1] || 1)) *
              (i.grid[1] || 1);
          /^(se|s|e)$/.test(a)
            ? ((n.size.width = s.width + l), (n.size.height = s.height + c))
            : /^(ne)$/.test(a)
            ? ((n.size.width = s.width + l),
              (n.size.height = s.height + c),
              (n.position.top = o.top - c))
            : /^(sw)$/.test(a)
            ? ((n.size.width = s.width + l),
              (n.size.height = s.height + c),
              (n.position.left = o.left - l))
            : ((n.size.width = s.width + l),
              (n.size.height = s.height + c),
              (n.position.top = o.top - c),
              (n.position.left = o.left - l));
        },
      });
    var t = function (e) {
        return parseInt(e, 10) || 0;
      },
      n = function (e) {
        return !isNaN(parseInt(e, 10));
      };
  })(jQuery),
  (function (e) {
    e.widget("ui.selectable", e.ui.mouse, {
      version: "1.9.2",
      options: {
        appendTo: "body",
        autoRefresh: !0,
        distance: 0,
        filter: "*",
        tolerance: "touch",
      },
      _create: function () {
        var t = this;
        this.element.addClass("ui-selectable"), (this.dragged = !1);
        var n;
        (this.refresh = function () {
          (n = e(t.options.filter, t.element[0])),
            n.addClass("ui-selectee"),
            n.each(function () {
              var t = e(this),
                n = t.offset();
              e.data(this, "selectable-item", {
                element: this,
                $element: t,
                left: n.left,
                top: n.top,
                right: n.left + t.outerWidth(),
                bottom: n.top + t.outerHeight(),
                startselected: !1,
                selected: t.hasClass("ui-selected"),
                selecting: t.hasClass("ui-selecting"),
                unselecting: t.hasClass("ui-unselecting"),
              });
            });
        }),
          this.refresh(),
          (this.selectees = n.addClass("ui-selectee")),
          this._mouseInit(),
          (this.helper = e("<div class='ui-selectable-helper'></div>"));
      },
      _destroy: function () {
        this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
          this.element.removeClass("ui-selectable ui-selectable-disabled"),
          this._mouseDestroy();
      },
      _mouseStart: function (t) {
        var n = this;
        if (((this.opos = [t.pageX, t.pageY]), !this.options.disabled)) {
          var i = this.options;
          (this.selectees = e(i.filter, this.element[0])),
            this._trigger("start", t),
            e(i.appendTo).append(this.helper),
            this.helper.css({
              left: t.clientX,
              top: t.clientY,
              width: 0,
              height: 0,
            }),
            i.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function () {
              var i = e.data(this, "selectable-item");
              (i.startselected = !0),
                !t.metaKey &&
                  !t.ctrlKey &&
                  (i.$element.removeClass("ui-selected"),
                  (i.selected = !1),
                  i.$element.addClass("ui-unselecting"),
                  (i.unselecting = !0),
                  n._trigger("unselecting", t, {
                    unselecting: i.element,
                  }));
            }),
            e(t.target)
              .parents()
              .andSelf()
              .each(function () {
                var i = e.data(this, "selectable-item");
                if (i) {
                  var r =
                    (!t.metaKey && !t.ctrlKey) ||
                    !i.$element.hasClass("ui-selected");
                  return (
                    i.$element
                      .removeClass(r ? "ui-unselecting" : "ui-selected")
                      .addClass(r ? "ui-selecting" : "ui-unselecting"),
                    (i.unselecting = !r),
                    (i.selecting = r),
                    (i.selected = r),
                    r
                      ? n._trigger("selecting", t, {
                          selecting: i.element,
                        })
                      : n._trigger("unselecting", t, {
                          unselecting: i.element,
                        }),
                    !1
                  );
                }
              });
        }
      },
      _mouseDrag: function (t) {
        var n = this;
        if (((this.dragged = !0), !this.options.disabled)) {
          var i = this.options,
            r = this.opos[0],
            s = this.opos[1],
            o = t.pageX,
            a = t.pageY;
          if (r > o) {
            var l = o;
            (o = r), (r = l);
          }
          if (s > a) {
            var l = a;
            (a = s), (s = l);
          }
          return (
            this.helper.css({
              left: r,
              top: s,
              width: o - r,
              height: a - s,
            }),
            this.selectees.each(function () {
              var l = e.data(this, "selectable-item");
              if (l && l.element != n.element[0]) {
                var c = !1;
                "touch" == i.tolerance
                  ? (c = !(
                      l.left > o ||
                      l.right < r ||
                      l.top > a ||
                      l.bottom < s
                    ))
                  : "fit" == i.tolerance &&
                    (c =
                      l.left > r && l.right < o && l.top > s && l.bottom < a),
                  c
                    ? (l.selected &&
                        (l.$element.removeClass("ui-selected"),
                        (l.selected = !1)),
                      l.unselecting &&
                        (l.$element.removeClass("ui-unselecting"),
                        (l.unselecting = !1)),
                      l.selecting ||
                        (l.$element.addClass("ui-selecting"),
                        (l.selecting = !0),
                        n._trigger("selecting", t, {
                          selecting: l.element,
                        })))
                    : (l.selecting &&
                        ((t.metaKey || t.ctrlKey) && l.startselected
                          ? (l.$element.removeClass("ui-selecting"),
                            (l.selecting = !1),
                            l.$element.addClass("ui-selected"),
                            (l.selected = !0))
                          : (l.$element.removeClass("ui-selecting"),
                            (l.selecting = !1),
                            l.startselected &&
                              (l.$element.addClass("ui-unselecting"),
                              (l.unselecting = !0)),
                            n._trigger("unselecting", t, {
                              unselecting: l.element,
                            }))),
                      l.selected &&
                        !t.metaKey &&
                        !t.ctrlKey &&
                        !l.startselected &&
                        (l.$element.removeClass("ui-selected"),
                        (l.selected = !1),
                        l.$element.addClass("ui-unselecting"),
                        (l.unselecting = !0),
                        n._trigger("unselecting", t, {
                          unselecting: l.element,
                        })));
              }
            }),
            !1
          );
        }
      },
      _mouseStop: function (t) {
        var n = this;
        this.dragged = !1;
        this.options;
        return (
          e(".ui-unselecting", this.element[0]).each(function () {
            var i = e.data(this, "selectable-item");
            i.$element.removeClass("ui-unselecting"),
              (i.unselecting = !1),
              (i.startselected = !1),
              n._trigger("unselected", t, {
                unselected: i.element,
              });
          }),
          e(".ui-selecting", this.element[0]).each(function () {
            var i = e.data(this, "selectable-item");
            i.$element.removeClass("ui-selecting").addClass("ui-selected"),
              (i.selecting = !1),
              (i.selected = !0),
              (i.startselected = !0),
              n._trigger("selected", t, {
                selected: i.element,
              });
          }),
          this._trigger("stop", t),
          this.helper.remove(),
          !1
        );
      },
    });
  })(jQuery),
  (function (e) {
    var t = 5;
    e.widget("ui.slider", e.ui.mouse, {
      version: "1.9.2",
      widgetEventPrefix: "slide",
      options: {
        animate: !1,
        distance: 0,
        max: 100,
        min: 0,
        orientation: "horizontal",
        range: !1,
        step: 1,
        value: 0,
        values: null,
      },
      _create: function () {
        var n,
          i,
          r = this.options,
          s = this.element
            .find(".ui-slider-handle")
            .addClass("ui-state-default ui-corner-all"),
          o =
            "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
          a = [];
        for (
          this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this.element.addClass(
              "ui-slider ui-slider-" +
                this.orientation +
                " ui-widget ui-widget-content ui-corner-all" +
                (r.disabled ? " ui-slider-disabled ui-disabled" : "")
            ),
            this.range = e([]),
            r.range &&
              (r.range === !0 &&
                (r.values || (r.values = [this._valueMin(), this._valueMin()]),
                r.values.length &&
                  2 !== r.values.length &&
                  (r.values = [r.values[0], r.values[0]])),
              (this.range = e("<div></div>")
                .appendTo(this.element)
                .addClass(
                  "ui-slider-range ui-widget-header" +
                    ("min" === r.range || "max" === r.range
                      ? " ui-slider-range-" + r.range
                      : "")
                ))),
            i = (r.values && r.values.length) || 1,
            n = s.length;
          i > n;
          n++
        )
          a.push(o);
        (this.handles = s.add(e(a.join("")).appendTo(this.element))),
          (this.handle = this.handles.eq(0)),
          this.handles
            .add(this.range)
            .filter("a")
            .click(function (e) {
              e.preventDefault();
            })
            .mouseenter(function () {
              r.disabled || e(this).addClass("ui-state-hover");
            })
            .mouseleave(function () {
              e(this).removeClass("ui-state-hover");
            })
            .focus(function () {
              r.disabled
                ? e(this).blur()
                : (e(".ui-slider .ui-state-focus").removeClass(
                    "ui-state-focus"
                  ),
                  e(this).addClass("ui-state-focus"));
            })
            .blur(function () {
              e(this).removeClass("ui-state-focus");
            }),
          this.handles.each(function (t) {
            e(this).data("ui-slider-handle-index", t);
          }),
          this._on(this.handles, {
            keydown: function (n) {
              var i,
                r,
                s,
                o,
                a = e(n.target).data("ui-slider-handle-index");
              switch (n.keyCode) {
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_UP:
                case e.ui.keyCode.PAGE_DOWN:
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                  if (
                    (n.preventDefault(),
                    !this._keySliding &&
                      ((this._keySliding = !0),
                      e(n.target).addClass("ui-state-active"),
                      (i = this._start(n, a)),
                      i === !1))
                  )
                    return;
              }
              switch (
                ((o = this.options.step),
                (r = s =
                  this.options.values && this.options.values.length
                    ? this.values(a)
                    : this.value()),
                n.keyCode)
              ) {
                case e.ui.keyCode.HOME:
                  s = this._valueMin();
                  break;
                case e.ui.keyCode.END:
                  s = this._valueMax();
                  break;
                case e.ui.keyCode.PAGE_UP:
                  s = this._trimAlignValue(
                    r + (this._valueMax() - this._valueMin()) / t
                  );
                  break;
                case e.ui.keyCode.PAGE_DOWN:
                  s = this._trimAlignValue(
                    r - (this._valueMax() - this._valueMin()) / t
                  );
                  break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                  if (r === this._valueMax()) return;
                  s = this._trimAlignValue(r + o);
                  break;
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                  if (r === this._valueMin()) return;
                  s = this._trimAlignValue(r - o);
              }
              this._slide(n, a, s);
            },
            keyup: function (t) {
              var n = e(t.target).data("ui-slider-handle-index");
              this._keySliding &&
                ((this._keySliding = !1),
                this._stop(t, n),
                this._change(t, n),
                e(t.target).removeClass("ui-state-active"));
            },
          }),
          this._refreshValue(),
          (this._animateOff = !1);
      },
      _destroy: function () {
        this.handles.remove(),
          this.range.remove(),
          this.element.removeClass(
            "ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"
          ),
          this._mouseDestroy();
      },
      _mouseCapture: function (t) {
        var n,
          i,
          r,
          s,
          o,
          a,
          l,
          c,
          u = this,
          d = this.options;
        return d.disabled
          ? !1
          : ((this.elementSize = {
              width: this.element.outerWidth(),
              height: this.element.outerHeight(),
            }),
            (this.elementOffset = this.element.offset()),
            (n = {
              x: t.pageX,
              y: t.pageY,
            }),
            (i = this._normValueFromMouse(n)),
            (r = this._valueMax() - this._valueMin() + 1),
            this.handles.each(function (t) {
              var n = Math.abs(i - u.values(t));
              r > n && ((r = n), (s = e(this)), (o = t));
            }),
            d.range === !0 &&
              this.values(1) === d.min &&
              ((o += 1), (s = e(this.handles[o]))),
            (a = this._start(t, o)),
            a === !1
              ? !1
              : ((this._mouseSliding = !0),
                (this._handleIndex = o),
                s.addClass("ui-state-active").focus(),
                (l = s.offset()),
                (c = !e(t.target).parents().andSelf().is(".ui-slider-handle")),
                (this._clickOffset = c
                  ? {
                      left: 0,
                      top: 0,
                    }
                  : {
                      left: t.pageX - l.left - s.width() / 2,
                      top:
                        t.pageY -
                        l.top -
                        s.height() / 2 -
                        (parseInt(s.css("borderTopWidth"), 10) || 0) -
                        (parseInt(s.css("borderBottomWidth"), 10) || 0) +
                        (parseInt(s.css("marginTop"), 10) || 0),
                    }),
                this.handles.hasClass("ui-state-hover") || this._slide(t, o, i),
                (this._animateOff = !0),
                !0));
      },
      _mouseStart: function () {
        return !0;
      },
      _mouseDrag: function (e) {
        var t = {
            x: e.pageX,
            y: e.pageY,
          },
          n = this._normValueFromMouse(t);
        return this._slide(e, this._handleIndex, n), !1;
      },
      _mouseStop: function (e) {
        return (
          this.handles.removeClass("ui-state-active"),
          (this._mouseSliding = !1),
          this._stop(e, this._handleIndex),
          this._change(e, this._handleIndex),
          (this._handleIndex = null),
          (this._clickOffset = null),
          (this._animateOff = !1),
          !1
        );
      },
      _detectOrientation: function () {
        this.orientation =
          "vertical" === this.options.orientation ? "vertical" : "horizontal";
      },
      _normValueFromMouse: function (e) {
        var t, n, i, r, s;
        return (
          "horizontal" === this.orientation
            ? ((t = this.elementSize.width),
              (n =
                e.x -
                this.elementOffset.left -
                (this._clickOffset ? this._clickOffset.left : 0)))
            : ((t = this.elementSize.height),
              (n =
                e.y -
                this.elementOffset.top -
                (this._clickOffset ? this._clickOffset.top : 0))),
          (i = n / t),
          i > 1 && (i = 1),
          0 > i && (i = 0),
          "vertical" === this.orientation && (i = 1 - i),
          (r = this._valueMax() - this._valueMin()),
          (s = this._valueMin() + i * r),
          this._trimAlignValue(s)
        );
      },
      _start: function (e, t) {
        var n = {
          handle: this.handles[t],
          value: this.value(),
        };
        return (
          this.options.values &&
            this.options.values.length &&
            ((n.value = this.values(t)), (n.values = this.values())),
          this._trigger("start", e, n)
        );
      },
      _slide: function (e, t, n) {
        var i, r, s;
        this.options.values && this.options.values.length
          ? ((i = this.values(t ? 0 : 1)),
            2 === this.options.values.length &&
              this.options.range === !0 &&
              ((0 === t && n > i) || (1 === t && i > n)) &&
              (n = i),
            n !== this.values(t) &&
              ((r = this.values()),
              (r[t] = n),
              (s = this._trigger("slide", e, {
                handle: this.handles[t],
                value: n,
                values: r,
              })),
              (i = this.values(t ? 0 : 1)),
              s !== !1 && this.values(t, n, !0)))
          : n !== this.value() &&
            ((s = this._trigger("slide", e, {
              handle: this.handles[t],
              value: n,
            })),
            s !== !1 && this.value(n));
      },
      _stop: function (e, t) {
        var n = {
          handle: this.handles[t],
          value: this.value(),
        };
        this.options.values &&
          this.options.values.length &&
          ((n.value = this.values(t)), (n.values = this.values())),
          this._trigger("stop", e, n);
      },
      _change: function (e, t) {
        if (!this._keySliding && !this._mouseSliding) {
          var n = {
            handle: this.handles[t],
            value: this.value(),
          };
          this.options.values &&
            this.options.values.length &&
            ((n.value = this.values(t)), (n.values = this.values())),
            this._trigger("change", e, n);
        }
      },
      value: function (e) {
        return arguments.length
          ? ((this.options.value = this._trimAlignValue(e)),
            this._refreshValue(),
            this._change(null, 0),
            void 0)
          : this._value();
      },
      values: function (t, n) {
        var i, r, s;
        if (arguments.length > 1)
          return (
            (this.options.values[t] = this._trimAlignValue(n)),
            this._refreshValue(),
            this._change(null, t),
            void 0
          );
        if (!arguments.length) return this._values();
        if (!e.isArray(arguments[0]))
          return this.options.values && this.options.values.length
            ? this._values(t)
            : this.value();
        for (
          i = this.options.values, r = arguments[0], s = 0;
          s < i.length;
          s += 1
        )
          (i[s] = this._trimAlignValue(r[s])), this._change(null, s);
        this._refreshValue();
      },
      _setOption: function (t, n) {
        var i,
          r = 0;
        switch (
          (e.isArray(this.options.values) && (r = this.options.values.length),
          e.Widget.prototype._setOption.apply(this, arguments),
          t)
        ) {
          case "disabled":
            n
              ? (this.handles.filter(".ui-state-focus").blur(),
                this.handles.removeClass("ui-state-hover"),
                this.handles.prop("disabled", !0),
                this.element.addClass("ui-disabled"))
              : (this.handles.prop("disabled", !1),
                this.element.removeClass("ui-disabled"));
            break;
          case "orientation":
            this._detectOrientation(),
              this.element
                .removeClass("ui-slider-horizontal ui-slider-vertical")
                .addClass("ui-slider-" + this.orientation),
              this._refreshValue();
            break;
          case "value":
            (this._animateOff = !0),
              this._refreshValue(),
              this._change(null, 0),
              (this._animateOff = !1);
            break;
          case "values":
            for (
              this._animateOff = !0, this._refreshValue(), i = 0;
              r > i;
              i += 1
            )
              this._change(null, i);
            this._animateOff = !1;
            break;
          case "min":
          case "max":
            (this._animateOff = !0),
              this._refreshValue(),
              (this._animateOff = !1);
        }
      },
      _value: function () {
        var e = this.options.value;
        return (e = this._trimAlignValue(e));
      },
      _values: function (e) {
        var t, n, i;
        if (arguments.length)
          return (t = this.options.values[e]), (t = this._trimAlignValue(t));
        for (n = this.options.values.slice(), i = 0; i < n.length; i += 1)
          n[i] = this._trimAlignValue(n[i]);
        return n;
      },
      _trimAlignValue: function (e) {
        if (e <= this._valueMin()) return this._valueMin();
        if (e >= this._valueMax()) return this._valueMax();
        var t = this.options.step > 0 ? this.options.step : 1,
          n = (e - this._valueMin()) % t,
          i = e - n;
        return (
          2 * Math.abs(n) >= t && (i += n > 0 ? t : -t),
          parseFloat(i.toFixed(5))
        );
      },
      _valueMin: function () {
        return this.options.min;
      },
      _valueMax: function () {
        return this.options.max;
      },
      _refreshValue: function () {
        var t,
          n,
          i,
          r,
          s,
          o = this.options.range,
          a = this.options,
          l = this,
          c = this._animateOff ? !1 : a.animate,
          u = {};
        this.options.values && this.options.values.length
          ? this.handles.each(function (i) {
              (n =
                ((l.values(i) - l._valueMin()) /
                  (l._valueMax() - l._valueMin())) *
                100),
                (u["horizontal" === l.orientation ? "left" : "bottom"] =
                  n + "%"),
                e(this).stop(1, 1)[c ? "animate" : "css"](u, a.animate),
                l.options.range === !0 &&
                  ("horizontal" === l.orientation
                    ? (0 === i &&
                        l.range.stop(1, 1)[c ? "animate" : "css"](
                          {
                            left: n + "%",
                          },
                          a.animate
                        ),
                      1 === i &&
                        l.range[c ? "animate" : "css"](
                          {
                            width: n - t + "%",
                          },
                          {
                            queue: !1,
                            duration: a.animate,
                          }
                        ))
                    : (0 === i &&
                        l.range.stop(1, 1)[c ? "animate" : "css"](
                          {
                            bottom: n + "%",
                          },
                          a.animate
                        ),
                      1 === i &&
                        l.range[c ? "animate" : "css"](
                          {
                            height: n - t + "%",
                          },
                          {
                            queue: !1,
                            duration: a.animate,
                          }
                        ))),
                (t = n);
            })
          : ((i = this.value()),
            (r = this._valueMin()),
            (s = this._valueMax()),
            (n = s !== r ? ((i - r) / (s - r)) * 100 : 0),
            (u["horizontal" === this.orientation ? "left" : "bottom"] =
              n + "%"),
            this.handle.stop(1, 1)[c ? "animate" : "css"](u, a.animate),
            "min" === o &&
              "horizontal" === this.orientation &&
              this.range.stop(1, 1)[c ? "animate" : "css"](
                {
                  width: n + "%",
                },
                a.animate
              ),
            "max" === o &&
              "horizontal" === this.orientation &&
              this.range[c ? "animate" : "css"](
                {
                  width: 100 - n + "%",
                },
                {
                  queue: !1,
                  duration: a.animate,
                }
              ),
            "min" === o &&
              "vertical" === this.orientation &&
              this.range.stop(1, 1)[c ? "animate" : "css"](
                {
                  height: n + "%",
                },
                a.animate
              ),
            "max" === o &&
              "vertical" === this.orientation &&
              this.range[c ? "animate" : "css"](
                {
                  height: 100 - n + "%",
                },
                {
                  queue: !1,
                  duration: a.animate,
                }
              ));
      },
    });
  })(jQuery),
  (function (e) {
    e.widget("ui.sortable", e.ui.mouse, {
      version: "1.9.2",
      widgetEventPrefix: "sort",
      ready: !1,
      options: {
        appendTo: "parent",
        axis: !1,
        connectWith: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        dropOnEmpty: !0,
        forcePlaceholderSize: !1,
        forceHelperSize: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        items: "> *",
        opacity: !1,
        placeholder: !1,
        revert: !1,
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        scope: "default",
        tolerance: "intersect",
        zIndex: 1e3,
      },
      _create: function () {
        var e = this.options;
        (this.containerCache = {}),
          this.element.addClass("ui-sortable"),
          this.refresh(),
          (this.floating = this.items.length
            ? "x" === e.axis ||
              /left|right/.test(this.items[0].item.css("float")) ||
              /inline|table-cell/.test(this.items[0].item.css("display"))
            : !1),
          (this.offset = this.element.offset()),
          this._mouseInit(),
          (this.ready = !0);
      },
      _destroy: function () {
        this.element.removeClass("ui-sortable ui-sortable-disabled"),
          this._mouseDestroy();
        for (var e = this.items.length - 1; e >= 0; e--)
          this.items[e].item.removeData(this.widgetName + "-item");
        return this;
      },
      _setOption: function (t, n) {
        "disabled" === t
          ? ((this.options[t] = n),
            this.widget().toggleClass("ui-sortable-disabled", !!n))
          : e.Widget.prototype._setOption.apply(this, arguments);
      },
      _mouseCapture: function (t, n) {
        var i = this;
        if (this.reverting) return !1;
        if (this.options.disabled || "static" == this.options.type) return !1;
        this._refreshItems(t);
        {
          var r = null;
          e(t.target)
            .parents()
            .each(function () {
              return e.data(this, i.widgetName + "-item") == i
                ? ((r = e(this)), !1)
                : void 0;
            });
        }
        if (
          (e.data(t.target, i.widgetName + "-item") == i && (r = e(t.target)),
          !r)
        )
          return !1;
        if (this.options.handle && !n) {
          var s = !1;
          if (
            (e(this.options.handle, r)
              .find("*")
              .andSelf()
              .each(function () {
                this == t.target && (s = !0);
              }),
            !s)
          )
            return !1;
        }
        return (this.currentItem = r), this._removeCurrentsFromItems(), !0;
      },
      _mouseStart: function (t, n, i) {
        var r = this.options;
        if (
          ((this.currentContainer = this),
          this.refreshPositions(),
          (this.helper = this._createHelper(t)),
          this._cacheHelperProportions(),
          this._cacheMargins(),
          (this.scrollParent = this.helper.scrollParent()),
          (this.offset = this.currentItem.offset()),
          (this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left,
          }),
          e.extend(this.offset, {
            click: {
              left: t.pageX - this.offset.left,
              top: t.pageY - this.offset.top,
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset(),
          }),
          this._createPlaceholder(),
          this.helper.css("position", "absolute"),
          (this.cssPosition = this.helper.css("position")),
          (this.originalPosition = this._generatePosition(t)),
          (this.originalPageX = t.pageX),
          (this.originalPageY = t.pageY),
          r.cursorAt && this._adjustOffsetFromHelper(r.cursorAt),
          (this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0],
          }),
          this.helper[0] != this.currentItem[0] && this.currentItem.hide(),
          r.containment && this._setContainment(),
          r.cursor &&
            (e("body").css("cursor") &&
              (this._storedCursor = e("body").css("cursor")),
            e("body").css("cursor", r.cursor)),
          r.opacity &&
            (this.helper.css("opacity") &&
              (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", r.opacity)),
          r.zIndex &&
            (this.helper.css("zIndex") &&
              (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", r.zIndex)),
          this.scrollParent[0] != document &&
            "HTML" != this.scrollParent[0].tagName &&
            (this.overflowOffset = this.scrollParent.offset()),
          this._trigger("start", t, this._uiHash()),
          this._preserveHelperProportions || this._cacheHelperProportions(),
          !i)
        )
          for (var s = this.containers.length - 1; s >= 0; s--)
            this.containers[s]._trigger("activate", t, this._uiHash(this));
        return (
          e.ui.ddmanager && (e.ui.ddmanager.current = this),
          e.ui.ddmanager &&
            !r.dropBehaviour &&
            e.ui.ddmanager.prepareOffsets(this, t),
          (this.dragging = !0),
          this.helper.addClass("ui-sortable-helper"),
          this._mouseDrag(t),
          !0
        );
      },
      _mouseDrag: function (t) {
        if (
          ((this.position = this._generatePosition(t)),
          (this.positionAbs = this._convertPositionTo("absolute")),
          this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
          this.options.scroll)
        ) {
          var n = this.options,
            i = !1;
          this.scrollParent[0] != document &&
          "HTML" != this.scrollParent[0].tagName
            ? (this.overflowOffset.top +
                this.scrollParent[0].offsetHeight -
                t.pageY <
              n.scrollSensitivity
                ? (this.scrollParent[0].scrollTop = i =
                    this.scrollParent[0].scrollTop + n.scrollSpeed)
                : t.pageY - this.overflowOffset.top < n.scrollSensitivity &&
                  (this.scrollParent[0].scrollTop = i =
                    this.scrollParent[0].scrollTop - n.scrollSpeed),
              this.overflowOffset.left +
                this.scrollParent[0].offsetWidth -
                t.pageX <
              n.scrollSensitivity
                ? (this.scrollParent[0].scrollLeft = i =
                    this.scrollParent[0].scrollLeft + n.scrollSpeed)
                : t.pageX - this.overflowOffset.left < n.scrollSensitivity &&
                  (this.scrollParent[0].scrollLeft = i =
                    this.scrollParent[0].scrollLeft - n.scrollSpeed))
            : (t.pageY - e(document).scrollTop() < n.scrollSensitivity
                ? (i = e(document).scrollTop(
                    e(document).scrollTop() - n.scrollSpeed
                  ))
                : e(window).height() - (t.pageY - e(document).scrollTop()) <
                    n.scrollSensitivity &&
                  (i = e(document).scrollTop(
                    e(document).scrollTop() + n.scrollSpeed
                  )),
              t.pageX - e(document).scrollLeft() < n.scrollSensitivity
                ? (i = e(document).scrollLeft(
                    e(document).scrollLeft() - n.scrollSpeed
                  ))
                : e(window).width() - (t.pageX - e(document).scrollLeft()) <
                    n.scrollSensitivity &&
                  (i = e(document).scrollLeft(
                    e(document).scrollLeft() + n.scrollSpeed
                  ))),
            i !== !1 &&
              e.ui.ddmanager &&
              !n.dropBehaviour &&
              e.ui.ddmanager.prepareOffsets(this, t);
        }
        (this.positionAbs = this._convertPositionTo("absolute")),
          (this.options.axis && "y" == this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && "x" == this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px");
        for (var r = this.items.length - 1; r >= 0; r--) {
          var s = this.items[r],
            o = s.item[0],
            a = this._intersectsWithPointer(s);
          if (
            a &&
            s.instance === this.currentContainer &&
            o != this.currentItem[0] &&
            this.placeholder[1 == a ? "next" : "prev"]()[0] != o &&
            !e.contains(this.placeholder[0], o) &&
            ("semi-dynamic" == this.options.type
              ? !e.contains(this.element[0], o)
              : !0)
          ) {
            if (
              ((this.direction = 1 == a ? "down" : "up"),
              "pointer" != this.options.tolerance &&
                !this._intersectsWithSides(s))
            )
              break;
            this._rearrange(t, s), this._trigger("change", t, this._uiHash());
            break;
          }
        }
        return (
          this._contactContainers(t),
          e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
          this._trigger("sort", t, this._uiHash()),
          (this.lastPositionAbs = this.positionAbs),
          !1
        );
      },
      _mouseStop: function (t, n) {
        if (t) {
          if (
            (e.ui.ddmanager &&
              !this.options.dropBehaviour &&
              e.ui.ddmanager.drop(this, t),
            this.options.revert)
          ) {
            var i = this,
              r = this.placeholder.offset();
            (this.reverting = !0),
              e(this.helper).animate(
                {
                  left:
                    r.left -
                    this.offset.parent.left -
                    this.margins.left +
                    (this.offsetParent[0] == document.body
                      ? 0
                      : this.offsetParent[0].scrollLeft),
                  top:
                    r.top -
                    this.offset.parent.top -
                    this.margins.top +
                    (this.offsetParent[0] == document.body
                      ? 0
                      : this.offsetParent[0].scrollTop),
                },
                parseInt(this.options.revert, 10) || 500,
                function () {
                  i._clear(t);
                }
              );
          } else this._clear(t, n);
          return !1;
        }
      },
      cancel: function () {
        if (this.dragging) {
          this._mouseUp({
            target: null,
          }),
            "original" == this.options.helper
              ? this.currentItem
                  .css(this._storedCSS)
                  .removeClass("ui-sortable-helper")
              : this.currentItem.show();
          for (var t = this.containers.length - 1; t >= 0; t--)
            this.containers[t]._trigger("deactivate", null, this._uiHash(this)),
              this.containers[t].containerCache.over &&
                (this.containers[t]._trigger("out", null, this._uiHash(this)),
                (this.containers[t].containerCache.over = 0));
        }
        return (
          this.placeholder &&
            (this.placeholder[0].parentNode &&
              this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" != this.options.helper &&
              this.helper &&
              this.helper[0].parentNode &&
              this.helper.remove(),
            e.extend(this, {
              helper: null,
              dragging: !1,
              reverting: !1,
              _noFinalSort: null,
            }),
            this.domPosition.prev
              ? e(this.domPosition.prev).after(this.currentItem)
              : e(this.domPosition.parent).prepend(this.currentItem)),
          this
        );
      },
      serialize: function (t) {
        var n = this._getItemsAsjQuery(t && t.connected),
          i = [];
        return (
          (t = t || {}),
          e(n).each(function () {
            var n = (e(t.item || this).attr(t.attribute || "id") || "").match(
              t.expression || /(.+)[-=_](.+)/
            );
            n &&
              i.push(
                (t.key || n[1] + "[]") +
                  "=" +
                  (t.key && t.expression ? n[1] : n[2])
              );
          }),
          !i.length && t.key && i.push(t.key + "="),
          i.join("&")
        );
      },
      toArray: function (t) {
        var n = this._getItemsAsjQuery(t && t.connected),
          i = [];
        return (
          (t = t || {}),
          n.each(function () {
            i.push(e(t.item || this).attr(t.attribute || "id") || "");
          }),
          i
        );
      },
      _intersectsWith: function (e) {
        var t = this.positionAbs.left,
          n = t + this.helperProportions.width,
          i = this.positionAbs.top,
          r = i + this.helperProportions.height,
          s = e.left,
          o = s + e.width,
          a = e.top,
          l = a + e.height,
          c = this.offset.click.top,
          u = this.offset.click.left,
          d = i + c > a && l > i + c && t + u > s && o > t + u;
        return "pointer" == this.options.tolerance ||
          this.options.forcePointerForContainers ||
          ("pointer" != this.options.tolerance &&
            this.helperProportions[this.floating ? "width" : "height"] >
              e[this.floating ? "width" : "height"])
          ? d
          : s < t + this.helperProportions.width / 2 &&
              n - this.helperProportions.width / 2 < o &&
              a < i + this.helperProportions.height / 2 &&
              r - this.helperProportions.height / 2 < l;
      },
      _intersectsWithPointer: function (t) {
        var n =
            "x" === this.options.axis ||
            e.ui.isOverAxis(
              this.positionAbs.top + this.offset.click.top,
              t.top,
              t.height
            ),
          i =
            "y" === this.options.axis ||
            e.ui.isOverAxis(
              this.positionAbs.left + this.offset.click.left,
              t.left,
              t.width
            ),
          r = n && i,
          s = this._getDragVerticalDirection(),
          o = this._getDragHorizontalDirection();
        return r
          ? this.floating
            ? (o && "right" == o) || "down" == s
              ? 2
              : 1
            : s && ("down" == s ? 2 : 1)
          : !1;
      },
      _intersectsWithSides: function (t) {
        var n = e.ui.isOverAxis(
            this.positionAbs.top + this.offset.click.top,
            t.top + t.height / 2,
            t.height
          ),
          i = e.ui.isOverAxis(
            this.positionAbs.left + this.offset.click.left,
            t.left + t.width / 2,
            t.width
          ),
          r = this._getDragVerticalDirection(),
          s = this._getDragHorizontalDirection();
        return this.floating && s
          ? ("right" == s && i) || ("left" == s && !i)
          : r && (("down" == r && n) || ("up" == r && !n));
      },
      _getDragVerticalDirection: function () {
        var e = this.positionAbs.top - this.lastPositionAbs.top;
        return 0 != e && (e > 0 ? "down" : "up");
      },
      _getDragHorizontalDirection: function () {
        var e = this.positionAbs.left - this.lastPositionAbs.left;
        return 0 != e && (e > 0 ? "right" : "left");
      },
      refresh: function (e) {
        return this._refreshItems(e), this.refreshPositions(), this;
      },
      _connectWith: function () {
        var e = this.options;
        return e.connectWith.constructor == String
          ? [e.connectWith]
          : e.connectWith;
      },
      _getItemsAsjQuery: function (t) {
        var n = [],
          i = [],
          r = this._connectWith();
        if (r && t)
          for (var s = r.length - 1; s >= 0; s--)
            for (var o = e(r[s]), a = o.length - 1; a >= 0; a--) {
              var l = e.data(o[a], this.widgetName);
              l &&
                l != this &&
                !l.options.disabled &&
                i.push([
                  e.isFunction(l.options.items)
                    ? l.options.items.call(l.element)
                    : e(l.options.items, l.element)
                        .not(".ui-sortable-helper")
                        .not(".ui-sortable-placeholder"),
                  l,
                ]);
            }
        i.push([
          e.isFunction(this.options.items)
            ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem,
              })
            : e(this.options.items, this.element)
                .not(".ui-sortable-helper")
                .not(".ui-sortable-placeholder"),
          this,
        ]);
        for (var s = i.length - 1; s >= 0; s--)
          i[s][0].each(function () {
            n.push(this);
          });
        return e(n);
      },
      _removeCurrentsFromItems: function () {
        var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
        this.items = e.grep(this.items, function (e) {
          for (var n = 0; n < t.length; n++) if (t[n] == e.item[0]) return !1;
          return !0;
        });
      },
      _refreshItems: function (t) {
        (this.items = []), (this.containers = [this]);
        var n = this.items,
          i = [
            [
              e.isFunction(this.options.items)
                ? this.options.items.call(this.element[0], t, {
                    item: this.currentItem,
                  })
                : e(this.options.items, this.element),
              this,
            ],
          ],
          r = this._connectWith();
        if (r && this.ready)
          for (var s = r.length - 1; s >= 0; s--)
            for (var o = e(r[s]), a = o.length - 1; a >= 0; a--) {
              var l = e.data(o[a], this.widgetName);
              l &&
                l != this &&
                !l.options.disabled &&
                (i.push([
                  e.isFunction(l.options.items)
                    ? l.options.items.call(l.element[0], t, {
                        item: this.currentItem,
                      })
                    : e(l.options.items, l.element),
                  l,
                ]),
                this.containers.push(l));
            }
        for (var s = i.length - 1; s >= 0; s--)
          for (var c = i[s][1], u = i[s][0], a = 0, d = u.length; d > a; a++) {
            var p = e(u[a]);
            p.data(this.widgetName + "-item", c),
              n.push({
                item: p,
                instance: c,
                width: 0,
                height: 0,
                left: 0,
                top: 0,
              });
          }
      },
      refreshPositions: function (t) {
        this.offsetParent &&
          this.helper &&
          (this.offset.parent = this._getParentOffset());
        for (var n = this.items.length - 1; n >= 0; n--) {
          var i = this.items[n];
          if (
            i.instance == this.currentContainer ||
            !this.currentContainer ||
            i.item[0] == this.currentItem[0]
          ) {
            var r = this.options.toleranceElement
              ? e(this.options.toleranceElement, i.item)
              : i.item;
            t || ((i.width = r.outerWidth()), (i.height = r.outerHeight()));
            var s = r.offset();
            (i.left = s.left), (i.top = s.top);
          }
        }
        if (this.options.custom && this.options.custom.refreshContainers)
          this.options.custom.refreshContainers.call(this);
        else
          for (var n = this.containers.length - 1; n >= 0; n--) {
            var s = this.containers[n].element.offset();
            (this.containers[n].containerCache.left = s.left),
              (this.containers[n].containerCache.top = s.top),
              (this.containers[n].containerCache.width =
                this.containers[n].element.outerWidth()),
              (this.containers[n].containerCache.height =
                this.containers[n].element.outerHeight());
          }
        return this;
      },
      _createPlaceholder: function (t) {
        t = t || this;
        var n = t.options;
        if (!n.placeholder || n.placeholder.constructor == String) {
          var i = n.placeholder;
          n.placeholder = {
            element: function () {
              var n = e(document.createElement(t.currentItem[0].nodeName))
                .addClass(
                  i || t.currentItem[0].className + " ui-sortable-placeholder"
                )
                .removeClass("ui-sortable-helper")[0];
              return i || (n.style.visibility = "hidden"), n;
            },
            update: function (e, r) {
              (!i || n.forcePlaceholderSize) &&
                (r.height() ||
                  r.height(
                    t.currentItem.innerHeight() -
                      parseInt(t.currentItem.css("paddingTop") || 0, 10) -
                      parseInt(t.currentItem.css("paddingBottom") || 0, 10)
                  ),
                r.width() ||
                  r.width(
                    t.currentItem.innerWidth() -
                      parseInt(t.currentItem.css("paddingLeft") || 0, 10) -
                      parseInt(t.currentItem.css("paddingRight") || 0, 10)
                  ));
            },
          };
        }
        (t.placeholder = e(
          n.placeholder.element.call(t.element, t.currentItem)
        )),
          t.currentItem.after(t.placeholder),
          n.placeholder.update(t, t.placeholder);
      },
      _contactContainers: function (t) {
        for (
          var n = null, i = null, r = this.containers.length - 1;
          r >= 0;
          r--
        )
          if (!e.contains(this.currentItem[0], this.containers[r].element[0]))
            if (this._intersectsWith(this.containers[r].containerCache)) {
              if (n && e.contains(this.containers[r].element[0], n.element[0]))
                continue;
              (n = this.containers[r]), (i = r);
            } else
              this.containers[r].containerCache.over &&
                (this.containers[r]._trigger("out", t, this._uiHash(this)),
                (this.containers[r].containerCache.over = 0));
        if (n)
          if (1 === this.containers.length)
            this.containers[i]._trigger("over", t, this._uiHash(this)),
              (this.containers[i].containerCache.over = 1);
          else {
            for (
              var s = 1e4,
                o = null,
                a = this.containers[i].floating ? "left" : "top",
                l = this.containers[i].floating ? "width" : "height",
                c = this.positionAbs[a] + this.offset.click[a],
                u = this.items.length - 1;
              u >= 0;
              u--
            )
              if (
                e.contains(
                  this.containers[i].element[0],
                  this.items[u].item[0]
                ) &&
                this.items[u].item[0] != this.currentItem[0]
              ) {
                var d = this.items[u].item.offset()[a],
                  p = !1;
                Math.abs(d - c) > Math.abs(d + this.items[u][l] - c) &&
                  ((p = !0), (d += this.items[u][l])),
                  Math.abs(d - c) < s &&
                    ((s = Math.abs(d - c)),
                    (o = this.items[u]),
                    (this.direction = p ? "up" : "down"));
              }
            if (!o && !this.options.dropOnEmpty) return;
            (this.currentContainer = this.containers[i]),
              o
                ? this._rearrange(t, o, null, !0)
                : this._rearrange(t, null, this.containers[i].element, !0),
              this._trigger("change", t, this._uiHash()),
              this.containers[i]._trigger("change", t, this._uiHash(this)),
              this.options.placeholder.update(
                this.currentContainer,
                this.placeholder
              ),
              this.containers[i]._trigger("over", t, this._uiHash(this)),
              (this.containers[i].containerCache.over = 1);
          }
      },
      _createHelper: function (t) {
        var n = this.options,
          i = e.isFunction(n.helper)
            ? e(n.helper.apply(this.element[0], [t, this.currentItem]))
            : "clone" == n.helper
            ? this.currentItem.clone()
            : this.currentItem;
        return (
          i.parents("body").length ||
            e(
              "parent" != n.appendTo
                ? n.appendTo
                : this.currentItem[0].parentNode
            )[0].appendChild(i[0]),
          i[0] == this.currentItem[0] &&
            (this._storedCSS = {
              width: this.currentItem[0].style.width,
              height: this.currentItem[0].style.height,
              position: this.currentItem.css("position"),
              top: this.currentItem.css("top"),
              left: this.currentItem.css("left"),
            }),
          ("" == i[0].style.width || n.forceHelperSize) &&
            i.width(this.currentItem.width()),
          ("" == i[0].style.height || n.forceHelperSize) &&
            i.height(this.currentItem.height()),
          i
        );
      },
      _adjustOffsetFromHelper: function (t) {
        "string" == typeof t && (t = t.split(" ")),
          e.isArray(t) &&
            (t = {
              left: +t[0],
              top: +t[1] || 0,
            }),
          "left" in t && (this.offset.click.left = t.left + this.margins.left),
          "right" in t &&
            (this.offset.click.left =
              this.helperProportions.width - t.right + this.margins.left),
          "top" in t && (this.offset.click.top = t.top + this.margins.top),
          "bottom" in t &&
            (this.offset.click.top =
              this.helperProportions.height - t.bottom + this.margins.top);
      },
      _getParentOffset: function () {
        this.offsetParent = this.helper.offsetParent();
        var t = this.offsetParent.offset();
        return (
          "absolute" == this.cssPosition &&
            this.scrollParent[0] != document &&
            e.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((t.left += this.scrollParent.scrollLeft()),
            (t.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] == document.body ||
            (this.offsetParent[0].tagName &&
              "html" == this.offsetParent[0].tagName.toLowerCase() &&
              e.ui.ie)) &&
            (t = {
              top: 0,
              left: 0,
            }),
          {
            top:
              t.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              t.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
          }
        );
      },
      _getRelativeOffset: function () {
        if ("relative" == this.cssPosition) {
          var e = this.currentItem.position();
          return {
            top:
              e.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              e.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft(),
          };
        }
        return {
          top: 0,
          left: 0,
        };
      },
      _cacheMargins: function () {
        this.margins = {
          left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
          top: parseInt(this.currentItem.css("marginTop"), 10) || 0,
        };
      },
      _cacheHelperProportions: function () {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight(),
        };
      },
      _setContainment: function () {
        var t = this.options;
        if (
          ("parent" == t.containment &&
            (t.containment = this.helper[0].parentNode),
          ("document" == t.containment || "window" == t.containment) &&
            (this.containment = [
              0 - this.offset.relative.left - this.offset.parent.left,
              0 - this.offset.relative.top - this.offset.parent.top,
              e("document" == t.containment ? document : window).width() -
                this.helperProportions.width -
                this.margins.left,
              (e("document" == t.containment ? document : window).height() ||
                document.body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ]),
          !/^(document|window|parent)$/.test(t.containment))
        ) {
          var n = e(t.containment)[0],
            i = e(t.containment).offset(),
            r = "hidden" != e(n).css("overflow");
          this.containment = [
            i.left +
              (parseInt(e(n).css("borderLeftWidth"), 10) || 0) +
              (parseInt(e(n).css("paddingLeft"), 10) || 0) -
              this.margins.left,
            i.top +
              (parseInt(e(n).css("borderTopWidth"), 10) || 0) +
              (parseInt(e(n).css("paddingTop"), 10) || 0) -
              this.margins.top,
            i.left +
              (r ? Math.max(n.scrollWidth, n.offsetWidth) : n.offsetWidth) -
              (parseInt(e(n).css("borderLeftWidth"), 10) || 0) -
              (parseInt(e(n).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left,
            i.top +
              (r ? Math.max(n.scrollHeight, n.offsetHeight) : n.offsetHeight) -
              (parseInt(e(n).css("borderTopWidth"), 10) || 0) -
              (parseInt(e(n).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top,
          ];
        }
      },
      _convertPositionTo: function (t, n) {
        n || (n = this.position);
        var i = "absolute" == t ? 1 : -1,
          r =
            (this.options,
            "absolute" != this.cssPosition ||
            (this.scrollParent[0] != document &&
              e.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent),
          s = /(html|body)/i.test(r[0].tagName);
        return {
          top:
            n.top +
            this.offset.relative.top * i +
            this.offset.parent.top * i -
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollTop()
              : s
              ? 0
              : r.scrollTop()) *
              i,
          left:
            n.left +
            this.offset.relative.left * i +
            this.offset.parent.left * i -
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : s
              ? 0
              : r.scrollLeft()) *
              i,
        };
      },
      _generatePosition: function (t) {
        var n = this.options,
          i =
            "absolute" != this.cssPosition ||
            (this.scrollParent[0] != document &&
              e.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          r = /(html|body)/i.test(i[0].tagName);
        "relative" == this.cssPosition &&
          (this.scrollParent[0] == document ||
            this.scrollParent[0] == this.offsetParent[0]) &&
          (this.offset.relative = this._getRelativeOffset());
        var s = t.pageX,
          o = t.pageY;
        if (
          this.originalPosition &&
          (this.containment &&
            (t.pageX - this.offset.click.left < this.containment[0] &&
              (s = this.containment[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < this.containment[1] &&
              (o = this.containment[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > this.containment[2] &&
              (s = this.containment[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > this.containment[3] &&
              (o = this.containment[3] + this.offset.click.top)),
          n.grid)
        ) {
          var a =
            this.originalPageY +
            Math.round((o - this.originalPageY) / n.grid[1]) * n.grid[1];
          o =
            this.containment &&
            (a - this.offset.click.top < this.containment[1] ||
              a - this.offset.click.top > this.containment[3])
              ? a - this.offset.click.top < this.containment[1]
                ? a + n.grid[1]
                : a - n.grid[1]
              : a;
          var l =
            this.originalPageX +
            Math.round((s - this.originalPageX) / n.grid[0]) * n.grid[0];
          s =
            this.containment &&
            (l - this.offset.click.left < this.containment[0] ||
              l - this.offset.click.left > this.containment[2])
              ? l - this.offset.click.left < this.containment[0]
                ? l + n.grid[0]
                : l - n.grid[0]
              : l;
        }
        return {
          top:
            o -
            this.offset.click.top -
            this.offset.relative.top -
            this.offset.parent.top +
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollTop()
              : r
              ? 0
              : i.scrollTop()),
          left:
            s -
            this.offset.click.left -
            this.offset.relative.left -
            this.offset.parent.left +
            ("fixed" == this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : r
              ? 0
              : i.scrollLeft()),
        };
      },
      _rearrange: function (e, t, n, i) {
        n
          ? n[0].appendChild(this.placeholder[0])
          : t.item[0].parentNode.insertBefore(
              this.placeholder[0],
              "down" == this.direction ? t.item[0] : t.item[0].nextSibling
            ),
          (this.counter = this.counter ? ++this.counter : 1);
        var r = this.counter;
        this._delay(function () {
          r == this.counter && this.refreshPositions(!i);
        });
      },
      _clear: function (t, n) {
        this.reverting = !1;
        var i = [];
        if (
          (!this._noFinalSort &&
            this.currentItem.parent().length &&
            this.placeholder.before(this.currentItem),
          (this._noFinalSort = null),
          this.helper[0] == this.currentItem[0])
        ) {
          for (var r in this._storedCSS)
            ("auto" == this._storedCSS[r] || "static" == this._storedCSS[r]) &&
              (this._storedCSS[r] = "");
          this.currentItem
            .css(this._storedCSS)
            .removeClass("ui-sortable-helper");
        } else this.currentItem.show();
        this.fromOutside &&
          !n &&
          i.push(function (e) {
            this._trigger("receive", e, this._uiHash(this.fromOutside));
          }),
          (this.fromOutside ||
            this.domPosition.prev !=
              this.currentItem.prev().not(".ui-sortable-helper")[0] ||
            this.domPosition.parent != this.currentItem.parent()[0]) &&
            !n &&
            i.push(function (e) {
              this._trigger("update", e, this._uiHash());
            }),
          this !== this.currentContainer &&
            (n ||
              (i.push(function (e) {
                this._trigger("remove", e, this._uiHash());
              }),
              i.push(
                function (e) {
                  return function (t) {
                    e._trigger("receive", t, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              ),
              i.push(
                function (e) {
                  return function (t) {
                    e._trigger("update", t, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              )));
        for (var r = this.containers.length - 1; r >= 0; r--)
          n ||
            i.push(
              function (e) {
                return function (t) {
                  e._trigger("deactivate", t, this._uiHash(this));
                };
              }.call(this, this.containers[r])
            ),
            this.containers[r].containerCache.over &&
              (i.push(
                function (e) {
                  return function (t) {
                    e._trigger("out", t, this._uiHash(this));
                  };
                }.call(this, this.containers[r])
              ),
              (this.containers[r].containerCache.over = 0));
        if (
          (this._storedCursor && e("body").css("cursor", this._storedCursor),
          this._storedOpacity &&
            this.helper.css("opacity", this._storedOpacity),
          this._storedZIndex &&
            this.helper.css(
              "zIndex",
              "auto" == this._storedZIndex ? "" : this._storedZIndex
            ),
          (this.dragging = !1),
          this.cancelHelperRemoval)
        ) {
          if (!n) {
            this._trigger("beforeStop", t, this._uiHash());
            for (var r = 0; r < i.length; r++) i[r].call(this, t);
            this._trigger("stop", t, this._uiHash());
          }
          return (this.fromOutside = !1), !1;
        }
        if (
          (n || this._trigger("beforeStop", t, this._uiHash()),
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          this.helper[0] != this.currentItem[0] && this.helper.remove(),
          (this.helper = null),
          !n)
        ) {
          for (var r = 0; r < i.length; r++) i[r].call(this, t);
          this._trigger("stop", t, this._uiHash());
        }
        return (this.fromOutside = !1), !0;
      },
      _trigger: function () {
        e.Widget.prototype._trigger.apply(this, arguments) === !1 &&
          this.cancel();
      },
      _uiHash: function (t) {
        var n = t || this;
        return {
          helper: n.helper,
          placeholder: n.placeholder || e([]),
          position: n.position,
          originalPosition: n.originalPosition,
          offset: n.positionAbs,
          item: n.currentItem,
          sender: t ? t.element : null,
        };
      },
    });
  })(jQuery),
  (function (e) {
    function t(e) {
      return function () {
        var t = this.element.val();
        e.apply(this, arguments),
          this._refresh(),
          t !== this.element.val() && this._trigger("change");
      };
    }
    e.widget("ui.spinner", {
      version: "1.9.2",
      defaultElement: "<input>",
      widgetEventPrefix: "spin",
      options: {
        culture: null,
        icons: {
          down: "ui-icon-triangle-1-s",
          up: "ui-icon-triangle-1-n",
        },
        incremental: !0,
        max: null,
        min: null,
        numberFormat: null,
        page: 10,
        step: 1,
        change: null,
        spin: null,
        start: null,
        stop: null,
      },
      _create: function () {
        this._setOption("max", this.options.max),
          this._setOption("min", this.options.min),
          this._setOption("step", this.options.step),
          this._value(this.element.val(), !0),
          this._draw(),
          this._on(this._events),
          this._refresh(),
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete");
            },
          });
      },
      _getCreateOptions: function () {
        var t = {},
          n = this.element;
        return (
          e.each(["min", "max", "step"], function (e, i) {
            var r = n.attr(i);
            void 0 !== r && r.length && (t[i] = r);
          }),
          t
        );
      },
      _events: {
        keydown: function (e) {
          this._start(e) && this._keydown(e) && e.preventDefault();
        },
        keyup: "_stop",
        focus: function () {
          this.previous = this.element.val();
        },
        blur: function (e) {
          return this.cancelBlur
            ? void delete this.cancelBlur
            : (this._refresh(),
              void (
                this.previous !== this.element.val() &&
                this._trigger("change", e)
              ));
        },
        mousewheel: function (e, t) {
          return t
            ? this.spinning || this._start(e)
              ? (this._spin((t > 0 ? 1 : -1) * this.options.step, e),
                clearTimeout(this.mousewheelTimer),
                (this.mousewheelTimer = this._delay(function () {
                  this.spinning && this._stop(e);
                }, 100)),
                e.preventDefault(),
                void 0)
              : !1
            : void 0;
        },
        "mousedown .ui-spinner-button": function (t) {
          function n() {
            var e = this.element[0] === this.document[0].activeElement;
            e ||
              (this.element.focus(),
              (this.previous = i),
              this._delay(function () {
                this.previous = i;
              }));
          }
          var i;
          (i =
            this.element[0] === this.document[0].activeElement
              ? this.previous
              : this.element.val()),
            t.preventDefault(),
            n.call(this),
            (this.cancelBlur = !0),
            this._delay(function () {
              delete this.cancelBlur, n.call(this);
            }),
            this._start(t) !== !1 &&
              this._repeat(
                null,
                e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                t
              );
        },
        "mouseup .ui-spinner-button": "_stop",
        "mouseenter .ui-spinner-button": function (t) {
          return e(t.currentTarget).hasClass("ui-state-active")
            ? this._start(t) === !1
              ? !1
              : void this._repeat(
                  null,
                  e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                  t
                )
            : void 0;
        },
        "mouseleave .ui-spinner-button": "_stop",
      },
      _draw: function () {
        var e = (this.uiSpinner = this.element
          .addClass("ui-spinner-input")
          .attr("autocomplete", "off")
          .wrap(this._uiSpinnerHtml())
          .parent()
          .append(this._buttonHtml()));
        this.element.attr("role", "spinbutton"),
          (this.buttons = e
            .find(".ui-spinner-button")
            .attr("tabIndex", -1)
            .button()
            .removeClass("ui-corner-all")),
          this.buttons.height() > Math.ceil(0.5 * e.height()) &&
            e.height() > 0 &&
            e.height(e.height()),
          this.options.disabled && this.disable();
      },
      _keydown: function (t) {
        var n = this.options,
          i = e.ui.keyCode;
        switch (t.keyCode) {
          case i.UP:
            return this._repeat(null, 1, t), !0;
          case i.DOWN:
            return this._repeat(null, -1, t), !0;
          case i.PAGE_UP:
            return this._repeat(null, n.page, t), !0;
          case i.PAGE_DOWN:
            return this._repeat(null, -n.page, t), !0;
        }
        return !1;
      },
      _uiSpinnerHtml: function () {
        return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
      },
      _buttonHtml: function () {
        return (
          "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " +
          this.options.icons.up +
          "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " +
          this.options.icons.down +
          "'>&#9660;</span></a>"
        );
      },
      _start: function (e) {
        return this.spinning || this._trigger("start", e) !== !1
          ? (this.counter || (this.counter = 1), (this.spinning = !0), !0)
          : !1;
      },
      _repeat: function (e, t, n) {
        (e = e || 500),
          clearTimeout(this.timer),
          (this.timer = this._delay(function () {
            this._repeat(40, t, n);
          }, e)),
          this._spin(t * this.options.step, n);
      },
      _spin: function (e, t) {
        var n = this.value() || 0;
        this.counter || (this.counter = 1),
          (n = this._adjustValue(n + e * this._increment(this.counter))),
          (this.spinning &&
            this._trigger("spin", t, {
              value: n,
            }) === !1) ||
            (this._value(n), this.counter++);
      },
      _increment: function (t) {
        var n = this.options.incremental;
        return n
          ? e.isFunction(n)
            ? n(t)
            : Math.floor((t * t * t) / 5e4 - (t * t) / 500 + (17 * t) / 200 + 1)
          : 1;
      },
      _precision: function () {
        var e = this._precisionOf(this.options.step);
        return (
          null !== this.options.min &&
            (e = Math.max(e, this._precisionOf(this.options.min))),
          e
        );
      },
      _precisionOf: function (e) {
        var t = e.toString(),
          n = t.indexOf(".");
        return -1 === n ? 0 : t.length - n - 1;
      },
      _adjustValue: function (e) {
        var t,
          n,
          i = this.options;
        return (
          (t = null !== i.min ? i.min : 0),
          (n = e - t),
          (n = Math.round(n / i.step) * i.step),
          (e = t + n),
          (e = parseFloat(e.toFixed(this._precision()))),
          null !== i.max && e > i.max
            ? i.max
            : null !== i.min && e < i.min
            ? i.min
            : e
        );
      },
      _stop: function (e) {
        this.spinning &&
          (clearTimeout(this.timer),
          clearTimeout(this.mousewheelTimer),
          (this.counter = 0),
          (this.spinning = !1),
          this._trigger("stop", e));
      },
      _setOption: function (e, t) {
        if ("culture" === e || "numberFormat" === e) {
          var n = this._parse(this.element.val());
          return (this.options[e] = t), void this.element.val(this._format(n));
        }
        ("max" === e || "min" === e || "step" === e) &&
          "string" == typeof t &&
          (t = this._parse(t)),
          this._super(e, t),
          "disabled" === e &&
            (t
              ? (this.element.prop("disabled", !0),
                this.buttons.button("disable"))
              : (this.element.prop("disabled", !1),
                this.buttons.button("enable")));
      },
      _setOptions: t(function (e) {
        this._super(e), this._value(this.element.val());
      }),
      _parse: function (e) {
        return (
          "string" == typeof e &&
            "" !== e &&
            (e =
              window.Globalize && this.options.numberFormat
                ? Globalize.parseFloat(e, 10, this.options.culture)
                : +e),
          "" === e || isNaN(e) ? null : e
        );
      },
      _format: function (e) {
        return "" === e
          ? ""
          : window.Globalize && this.options.numberFormat
          ? Globalize.format(e, this.options.numberFormat, this.options.culture)
          : e;
      },
      _refresh: function () {
        this.element.attr({
          "aria-valuemin": this.options.min,
          "aria-valuemax": this.options.max,
          "aria-valuenow": this._parse(this.element.val()),
        });
      },
      _value: function (e, t) {
        var n;
        "" !== e &&
          ((n = this._parse(e)),
          null !== n &&
            (t || (n = this._adjustValue(n)), (e = this._format(n)))),
          this.element.val(e),
          this._refresh();
      },
      _destroy: function () {
        this.element
          .removeClass("ui-spinner-input")
          .prop("disabled", !1)
          .removeAttr("autocomplete")
          .removeAttr("role")
          .removeAttr("aria-valuemin")
          .removeAttr("aria-valuemax")
          .removeAttr("aria-valuenow"),
          this.uiSpinner.replaceWith(this.element);
      },
      stepUp: t(function (e) {
        this._stepUp(e);
      }),
      _stepUp: function (e) {
        this._spin((e || 1) * this.options.step);
      },
      stepDown: t(function (e) {
        this._stepDown(e);
      }),
      _stepDown: function (e) {
        this._spin((e || 1) * -this.options.step);
      },
      pageUp: t(function (e) {
        this._stepUp((e || 1) * this.options.page);
      }),
      pageDown: t(function (e) {
        this._stepDown((e || 1) * this.options.page);
      }),
      value: function (e) {
        return arguments.length
          ? void t(this._value).call(this, e)
          : this._parse(this.element.val());
      },
      widget: function () {
        return this.uiSpinner;
      },
    });
  })(jQuery),
  (function (e, t) {
    function n() {
      return ++r;
    }
    function i(e) {
      return (
        e.hash.length > 1 &&
        e.href.replace(s, "") ===
          location.href.replace(s, "").replace(/\s/g, "%20")
      );
    }
    var r = 0,
      s = /#.*$/;
    e.widget("ui.tabs", {
      version: "1.9.2",
      delay: 300,
      options: {
        active: null,
        collapsible: !1,
        event: "click",
        heightStyle: "content",
        hide: null,
        show: null,
        activate: null,
        beforeActivate: null,
        beforeLoad: null,
        load: null,
      },
      _create: function () {
        var t = this,
          n = this.options,
          i = n.active,
          r = location.hash.substring(1);
        (this.running = !1),
          this.element
            .addClass("ui-tabs ui-widget ui-widget-content ui-corner-all")
            .toggleClass("ui-tabs-collapsible", n.collapsible)
            .delegate(
              ".ui-tabs-nav > li",
              "mousedown" + this.eventNamespace,
              function (t) {
                e(this).is(".ui-state-disabled") && t.preventDefault();
              }
            )
            .delegate(
              ".ui-tabs-anchor",
              "focus" + this.eventNamespace,
              function () {
                e(this).closest("li").is(".ui-state-disabled") && this.blur();
              }
            ),
          this._processTabs(),
          null === i &&
            (r &&
              this.tabs.each(function (t, n) {
                return e(n).attr("aria-controls") === r
                  ? ((i = t), !1)
                  : void 0;
              }),
            null === i &&
              (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            (null === i || -1 === i) && (i = this.tabs.length ? 0 : !1)),
          i !== !1 &&
            ((i = this.tabs.index(this.tabs.eq(i))),
            -1 === i && (i = n.collapsible ? !1 : 0)),
          (n.active = i),
          !n.collapsible &&
            n.active === !1 &&
            this.anchors.length &&
            (n.active = 0),
          e.isArray(n.disabled) &&
            (n.disabled = e
              .unique(
                n.disabled.concat(
                  e.map(this.tabs.filter(".ui-state-disabled"), function (e) {
                    return t.tabs.index(e);
                  })
                )
              )
              .sort()),
          (this.active =
            this.options.active !== !1 && this.anchors.length
              ? this._findActive(this.options.active)
              : e()),
          this._refresh(),
          this.active.length && this.load(n.active);
      },
      _getCreateEventData: function () {
        return {
          tab: this.active,
          panel: this.active.length ? this._getPanelForTab(this.active) : e(),
        };
      },
      _tabKeydown: function (t) {
        var n = e(this.document[0].activeElement).closest("li"),
          i = this.tabs.index(n),
          r = !0;
        if (!this._handlePageNav(t)) {
          switch (t.keyCode) {
            case e.ui.keyCode.RIGHT:
            case e.ui.keyCode.DOWN:
              i++;
              break;
            case e.ui.keyCode.UP:
            case e.ui.keyCode.LEFT:
              (r = !1), i--;
              break;
            case e.ui.keyCode.END:
              i = this.anchors.length - 1;
              break;
            case e.ui.keyCode.HOME:
              i = 0;
              break;
            case e.ui.keyCode.SPACE:
              return (
                t.preventDefault(),
                clearTimeout(this.activating),
                this._activate(i),
                void 0
              );
            case e.ui.keyCode.ENTER:
              return (
                t.preventDefault(),
                clearTimeout(this.activating),
                this._activate(i === this.options.active ? !1 : i),
                void 0
              );
            default:
              return;
          }
          t.preventDefault(),
            clearTimeout(this.activating),
            (i = this._focusNextTab(i, r)),
            t.ctrlKey ||
              (n.attr("aria-selected", "false"),
              this.tabs.eq(i).attr("aria-selected", "true"),
              (this.activating = this._delay(function () {
                this.option("active", i);
              }, this.delay)));
        }
      },
      _panelKeydown: function (t) {
        this._handlePageNav(t) ||
          (t.ctrlKey &&
            t.keyCode === e.ui.keyCode.UP &&
            (t.preventDefault(), this.active.focus()));
      },
      _handlePageNav: function (t) {
        return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP
          ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
            !0)
          : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN
          ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0)
          : void 0;
      },
      _findNextTab: function (t, n) {
        function i() {
          return t > r && (t = 0), 0 > t && (t = r), t;
        }
        for (
          var r = this.tabs.length - 1;
          -1 !== e.inArray(i(), this.options.disabled);

        )
          t = n ? t + 1 : t - 1;
        return t;
      },
      _focusNextTab: function (e, t) {
        return (e = this._findNextTab(e, t)), this.tabs.eq(e).focus(), e;
      },
      _setOption: function (e, t) {
        return "active" === e
          ? void this._activate(t)
          : "disabled" === e
          ? void this._setupDisabled(t)
          : (this._super(e, t),
            "collapsible" === e &&
              (this.element.toggleClass("ui-tabs-collapsible", t),
              !t && this.options.active === !1 && this._activate(0)),
            "event" === e && this._setupEvents(t),
            "heightStyle" === e && this._setupHeightStyle(t),
            void 0);
      },
      _tabId: function (e) {
        return e.attr("aria-controls") || "ui-tabs-" + n();
      },
      _sanitizeSelector: function (e) {
        return e
          ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&")
          : "";
      },
      refresh: function () {
        var t = this.options,
          n = this.tablist.children(":has(a[href])");
        (t.disabled = e.map(n.filter(".ui-state-disabled"), function (e) {
          return n.index(e);
        })),
          this._processTabs(),
          t.active !== !1 && this.anchors.length
            ? this.active.length && !e.contains(this.tablist[0], this.active[0])
              ? this.tabs.length === t.disabled.length
                ? ((t.active = !1), (this.active = e()))
                : this._activate(
                    this._findNextTab(Math.max(0, t.active - 1), !1)
                  )
              : (t.active = this.tabs.index(this.active))
            : ((t.active = !1), (this.active = e())),
          this._refresh();
      },
      _refresh: function () {
        this._setupDisabled(this.options.disabled),
          this._setupEvents(this.options.event),
          this._setupHeightStyle(this.options.heightStyle),
          this.tabs.not(this.active).attr({
            "aria-selected": "false",
            tabIndex: -1,
          }),
          this.panels.not(this._getPanelForTab(this.active)).hide().attr({
            "aria-expanded": "false",
            "aria-hidden": "true",
          }),
          this.active.length
            ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                tabIndex: 0,
              }),
              this._getPanelForTab(this.active).show().attr({
                "aria-expanded": "true",
                "aria-hidden": "false",
              }))
            : this.tabs.eq(0).attr("tabIndex", 0);
      },
      _processTabs: function () {
        var t = this;
        (this.tablist = this._getList()
          .addClass(
            "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
          )
          .attr("role", "tablist")),
          (this.tabs = this.tablist
            .find("> li:has(a[href])")
            .addClass("ui-state-default ui-corner-top")
            .attr({
              role: "tab",
              tabIndex: -1,
            })),
          (this.anchors = this.tabs
            .map(function () {
              return e("a", this)[0];
            })
            .addClass("ui-tabs-anchor")
            .attr({
              role: "presentation",
              tabIndex: -1,
            })),
          (this.panels = e()),
          this.anchors.each(function (n, r) {
            var s,
              o,
              a,
              l = e(r).uniqueId().attr("id"),
              c = e(r).closest("li"),
              u = c.attr("aria-controls");
            i(r)
              ? ((s = r.hash), (o = t.element.find(t._sanitizeSelector(s))))
              : ((a = t._tabId(c)),
                (s = "#" + a),
                (o = t.element.find(s)),
                o.length ||
                  ((o = t._createPanel(a)),
                  o.insertAfter(t.panels[n - 1] || t.tablist)),
                o.attr("aria-live", "polite")),
              o.length && (t.panels = t.panels.add(o)),
              u && c.data("ui-tabs-aria-controls", u),
              c.attr({
                "aria-controls": s.substring(1),
                "aria-labelledby": l,
              }),
              o.attr("aria-labelledby", l);
          }),
          this.panels
            .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
            .attr("role", "tabpanel");
      },
      _getList: function () {
        return this.element.find("ol,ul").eq(0);
      },
      _createPanel: function (t) {
        return e("<div>")
          .attr("id", t)
          .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
          .data("ui-tabs-destroy", !0);
      },
      _setupDisabled: function (t) {
        e.isArray(t) &&
          (t.length ? t.length === this.anchors.length && (t = !0) : (t = !1));
        for (var n, i = 0; (n = this.tabs[i]); i++)
          t === !0 || -1 !== e.inArray(i, t)
            ? e(n).addClass("ui-state-disabled").attr("aria-disabled", "true")
            : e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");
        this.options.disabled = t;
      },
      _setupEvents: function (t) {
        var n = {
          click: function (e) {
            e.preventDefault();
          },
        };
        t &&
          e.each(t.split(" "), function (e, t) {
            n[t] = "_eventHandler";
          }),
          this._off(this.anchors.add(this.tabs).add(this.panels)),
          this._on(this.anchors, n),
          this._on(this.tabs, {
            keydown: "_tabKeydown",
          }),
          this._on(this.panels, {
            keydown: "_panelKeydown",
          }),
          this._focusable(this.tabs),
          this._hoverable(this.tabs);
      },
      _setupHeightStyle: function (t) {
        var n,
          i,
          r = this.element.parent();
        "fill" === t
          ? (e.support.minHeight ||
              ((i = r.css("overflow")), r.css("overflow", "hidden")),
            (n = r.height()),
            this.element.siblings(":visible").each(function () {
              var t = e(this),
                i = t.css("position");
              "absolute" !== i && "fixed" !== i && (n -= t.outerHeight(!0));
            }),
            i && r.css("overflow", i),
            this.element
              .children()
              .not(this.panels)
              .each(function () {
                n -= e(this).outerHeight(!0);
              }),
            this.panels
              .each(function () {
                e(this).height(
                  Math.max(0, n - e(this).innerHeight() + e(this).height())
                );
              })
              .css("overflow", "auto"))
          : "auto" === t &&
            ((n = 0),
            this.panels
              .each(function () {
                n = Math.max(n, e(this).height("").height());
              })
              .height(n));
      },
      _eventHandler: function (t) {
        var n = this.options,
          i = this.active,
          r = e(t.currentTarget),
          s = r.closest("li"),
          o = s[0] === i[0],
          a = o && n.collapsible,
          l = a ? e() : this._getPanelForTab(s),
          c = i.length ? this._getPanelForTab(i) : e(),
          u = {
            oldTab: i,
            oldPanel: c,
            newTab: a ? e() : s,
            newPanel: l,
          };
        t.preventDefault(),
          s.hasClass("ui-state-disabled") ||
            s.hasClass("ui-tabs-loading") ||
            this.running ||
            (o && !n.collapsible) ||
            this._trigger("beforeActivate", t, u) === !1 ||
            ((n.active = a ? !1 : this.tabs.index(s)),
            (this.active = o ? e() : s),
            this.xhr && this.xhr.abort(),
            !c.length &&
              !l.length &&
              e.error("jQuery UI Tabs: Mismatching fragment identifier."),
            l.length && this.load(this.tabs.index(s), t),
            this._toggle(t, u));
      },
      _toggle: function (t, n) {
        function i() {
          (s.running = !1), s._trigger("activate", t, n);
        }
        function r() {
          n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
            o.length && s.options.show
              ? s._show(o, s.options.show, i)
              : (o.show(), i());
        }
        var s = this,
          o = n.newPanel,
          a = n.oldPanel;
        (this.running = !0),
          a.length && this.options.hide
            ? this._hide(a, this.options.hide, function () {
                n.oldTab
                  .closest("li")
                  .removeClass("ui-tabs-active ui-state-active"),
                  r();
              })
            : (n.oldTab
                .closest("li")
                .removeClass("ui-tabs-active ui-state-active"),
              a.hide(),
              r()),
          a.attr({
            "aria-expanded": "false",
            "aria-hidden": "true",
          }),
          n.oldTab.attr("aria-selected", "false"),
          o.length && a.length
            ? n.oldTab.attr("tabIndex", -1)
            : o.length &&
              this.tabs
                .filter(function () {
                  return 0 === e(this).attr("tabIndex");
                })
                .attr("tabIndex", -1),
          o.attr({
            "aria-expanded": "true",
            "aria-hidden": "false",
          }),
          n.newTab.attr({
            "aria-selected": "true",
            tabIndex: 0,
          });
      },
      _activate: function (t) {
        var n,
          i = this._findActive(t);
        i[0] !== this.active[0] &&
          (i.length || (i = this.active),
          (n = i.find(".ui-tabs-anchor")[0]),
          this._eventHandler({
            target: n,
            currentTarget: n,
            preventDefault: e.noop,
          }));
      },
      _findActive: function (t) {
        return t === !1 ? e() : this.tabs.eq(t);
      },
      _getIndex: function (e) {
        return (
          "string" == typeof e &&
            (e = this.anchors.index(
              this.anchors.filter("[href$='" + e + "']")
            )),
          e
        );
      },
      _destroy: function () {
        this.xhr && this.xhr.abort(),
          this.element.removeClass(
            "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"
          ),
          this.tablist
            .removeClass(
              "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
            )
            .removeAttr("role"),
          this.anchors
            .removeClass("ui-tabs-anchor")
            .removeAttr("role")
            .removeAttr("tabIndex")
            .removeData("href.tabs")
            .removeData("load.tabs")
            .removeUniqueId(),
          this.tabs.add(this.panels).each(function () {
            e.data(this, "ui-tabs-destroy")
              ? e(this).remove()
              : e(this)
                  .removeClass(
                    "ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel"
                  )
                  .removeAttr("tabIndex")
                  .removeAttr("aria-live")
                  .removeAttr("aria-busy")
                  .removeAttr("aria-selected")
                  .removeAttr("aria-labelledby")
                  .removeAttr("aria-hidden")
                  .removeAttr("aria-expanded")
                  .removeAttr("role");
          }),
          this.tabs.each(function () {
            var t = e(this),
              n = t.data("ui-tabs-aria-controls");
            n ? t.attr("aria-controls", n) : t.removeAttr("aria-controls");
          }),
          this.panels.show(),
          "content" !== this.options.heightStyle &&
            this.panels.css("height", "");
      },
      enable: function (n) {
        var i = this.options.disabled;
        i !== !1 &&
          (n === t
            ? (i = !1)
            : ((n = this._getIndex(n)),
              (i = e.isArray(i)
                ? e.map(i, function (e) {
                    return e !== n ? e : null;
                  })
                : e.map(this.tabs, function (e, t) {
                    return t !== n ? t : null;
                  }))),
          this._setupDisabled(i));
      },
      disable: function (n) {
        var i = this.options.disabled;
        if (i !== !0) {
          if (n === t) i = !0;
          else {
            if (((n = this._getIndex(n)), -1 !== e.inArray(n, i))) return;
            i = e.isArray(i) ? e.merge([n], i).sort() : [n];
          }
          this._setupDisabled(i);
        }
      },
      load: function (t, n) {
        t = this._getIndex(t);
        var r = this,
          s = this.tabs.eq(t),
          o = s.find(".ui-tabs-anchor"),
          a = this._getPanelForTab(s),
          l = {
            tab: s,
            panel: a,
          };
        i(o[0]) ||
          ((this.xhr = e.ajax(this._ajaxSettings(o, n, l))),
          this.xhr &&
            "canceled" !== this.xhr.statusText &&
            (s.addClass("ui-tabs-loading"),
            a.attr("aria-busy", "true"),
            this.xhr
              .success(function (e) {
                setTimeout(function () {
                  a.html(e), r._trigger("load", n, l);
                }, 1);
              })
              .complete(function (e, t) {
                setTimeout(function () {
                  "abort" === t && r.panels.stop(!1, !0),
                    s.removeClass("ui-tabs-loading"),
                    a.removeAttr("aria-busy"),
                    e === r.xhr && delete r.xhr;
                }, 1);
              })));
      },
      _ajaxSettings: function (t, n, i) {
        var r = this;
        return {
          url: t.attr("href"),
          beforeSend: function (t, s) {
            return r._trigger(
              "beforeLoad",
              n,
              e.extend(
                {
                  jqXHR: t,
                  ajaxSettings: s,
                },
                i
              )
            );
          },
        };
      },
      _getPanelForTab: function (t) {
        var n = e(t).attr("aria-controls");
        return this.element.find(this._sanitizeSelector("#" + n));
      },
    }),
      e.uiBackCompat !== !1 &&
        ((e.ui.tabs.prototype._ui = function (e, t) {
          return {
            tab: e,
            panel: t,
            index: this.anchors.index(e),
          };
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          url: function (e, t) {
            this.anchors.eq(e).attr("href", t);
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            ajaxOptions: null,
            cache: !1,
          },
          _create: function () {
            this._super();
            var t = this;
            this._on({
              tabsbeforeload: function (n, i) {
                return e.data(i.tab[0], "cache.tabs")
                  ? void n.preventDefault()
                  : void i.jqXHR.success(function () {
                      t.options.cache && e.data(i.tab[0], "cache.tabs", !0);
                    });
              },
            });
          },
          _ajaxSettings: function (t, n, i) {
            var r = this.options.ajaxOptions;
            return e.extend(
              {},
              r,
              {
                error: function (e, t) {
                  try {
                    r.error(e, t, i.tab.closest("li").index(), i.tab[0]);
                  } catch (n) {}
                },
              },
              this._superApply(arguments)
            );
          },
          _setOption: function (e, t) {
            "cache" === e && t === !1 && this.anchors.removeData("cache.tabs"),
              this._super(e, t);
          },
          _destroy: function () {
            this.anchors.removeData("cache.tabs"), this._super();
          },
          url: function (e) {
            this.anchors.eq(e).removeData("cache.tabs"),
              this._superApply(arguments);
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          abort: function () {
            this.xhr && this.xhr.abort();
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            spinner: "<em>Loading&#8230;</em>",
          },
          _create: function () {
            this._super(),
              this._on({
                tabsbeforeload: function (e, t) {
                  if (e.target === this.element[0] && this.options.spinner) {
                    var n = t.tab.find("span"),
                      i = n.html();
                    n.html(this.options.spinner),
                      t.jqXHR.complete(function () {
                        n.html(i);
                      });
                  }
                },
              });
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            enable: null,
            disable: null,
          },
          enable: function (t) {
            var n,
              i = this.options;
            ((t && i.disabled === !0) ||
              (e.isArray(i.disabled) && -1 !== e.inArray(t, i.disabled))) &&
              (n = !0),
              this._superApply(arguments),
              n &&
                this._trigger(
                  "enable",
                  null,
                  this._ui(this.anchors[t], this.panels[t])
                );
          },
          disable: function (t) {
            var n,
              i = this.options;
            ((t && i.disabled === !1) ||
              (e.isArray(i.disabled) && -1 === e.inArray(t, i.disabled))) &&
              (n = !0),
              this._superApply(arguments),
              n &&
                this._trigger(
                  "disable",
                  null,
                  this._ui(this.anchors[t], this.panels[t])
                );
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            add: null,
            remove: null,
            tabTemplate: "<li><a href='#{href}'><span>#{label}</span></a></li>",
          },
          add: function (n, i, r) {
            r === t && (r = this.anchors.length);
            var s,
              o,
              a = this.options,
              l = e(
                a.tabTemplate.replace(/#\{href\}/g, n).replace(/#\{label\}/g, i)
              ),
              c = n.indexOf("#") ? this._tabId(l) : n.replace("#", "");
            return (
              l
                .addClass("ui-state-default ui-corner-top")
                .data("ui-tabs-destroy", !0),
              l.attr("aria-controls", c),
              (s = r >= this.tabs.length),
              (o = this.element.find("#" + c)),
              o.length ||
                ((o = this._createPanel(c)),
                s
                  ? r > 0
                    ? o.insertAfter(this.panels.eq(-1))
                    : o.appendTo(this.element)
                  : o.insertBefore(this.panels[r])),
              o
                .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
                .hide(),
              s ? l.appendTo(this.tablist) : l.insertBefore(this.tabs[r]),
              (a.disabled = e.map(a.disabled, function (e) {
                return e >= r ? ++e : e;
              })),
              this.refresh(),
              1 === this.tabs.length &&
                a.active === !1 &&
                this.option("active", 0),
              this._trigger(
                "add",
                null,
                this._ui(this.anchors[r], this.panels[r])
              ),
              this
            );
          },
          remove: function (t) {
            t = this._getIndex(t);
            var n = this.options,
              i = this.tabs.eq(t).remove(),
              r = this._getPanelForTab(i).remove();
            return (
              i.hasClass("ui-tabs-active") &&
                this.anchors.length > 2 &&
                this._activate(t + (t + 1 < this.anchors.length ? 1 : -1)),
              (n.disabled = e.map(
                e.grep(n.disabled, function (e) {
                  return e !== t;
                }),
                function (e) {
                  return e >= t ? --e : e;
                }
              )),
              this.refresh(),
              this._trigger("remove", null, this._ui(i.find("a")[0], r[0])),
              this
            );
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          length: function () {
            return this.anchors.length;
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            idPrefix: "ui-tabs-",
          },
          _tabId: function (t) {
            var i = t.is("li") ? t.find("a[href]") : t;
            return (
              (i = i[0]),
              e(i).closest("li").attr("aria-controls") ||
                (i.title &&
                  i.title
                    .replace(/\s/g, "_")
                    .replace(/[^\w\u00c0-\uFFFF\-]/g, "")) ||
                this.options.idPrefix + n()
            );
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            panelTemplate: "<div></div>",
          },
          _createPanel: function (t) {
            return e(this.options.panelTemplate)
              .attr("id", t)
              .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
              .data("ui-tabs-destroy", !0);
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          _create: function () {
            var e = this.options;
            null === e.active &&
              e.selected !== t &&
              (e.active = -1 === e.selected ? !1 : e.selected),
              this._super(),
              (e.selected = e.active),
              e.selected === !1 && (e.selected = -1);
          },
          _setOption: function (e, t) {
            if ("selected" !== e) return this._super(e, t);
            var n = this.options;
            this._super("active", -1 === t ? !1 : t),
              (n.selected = n.active),
              n.selected === !1 && (n.selected = -1);
          },
          _eventHandler: function () {
            this._superApply(arguments),
              (this.options.selected = this.options.active),
              this.options.selected === !1 && (this.options.selected = -1);
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            show: null,
            select: null,
          },
          _create: function () {
            this._super(),
              this.options.active !== !1 &&
                this._trigger(
                  "show",
                  null,
                  this._ui(
                    this.active.find(".ui-tabs-anchor")[0],
                    this._getPanelForTab(this.active)[0]
                  )
                );
          },
          _trigger: function (e, t, n) {
            var i,
              r,
              s = this._superApply(arguments);
            return s
              ? ("beforeActivate" === e
                  ? ((i = n.newTab.length ? n.newTab : n.oldTab),
                    (r = n.newPanel.length ? n.newPanel : n.oldPanel),
                    (s = this._super("select", t, {
                      tab: i.find(".ui-tabs-anchor")[0],
                      panel: r[0],
                      index: i.closest("li").index(),
                    })))
                  : "activate" === e &&
                    n.newTab.length &&
                    (s = this._super("show", t, {
                      tab: n.newTab.find(".ui-tabs-anchor")[0],
                      panel: n.newPanel[0],
                      index: n.newTab.closest("li").index(),
                    })),
                s)
              : !1;
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          select: function (e) {
            if (((e = this._getIndex(e)), -1 === e)) {
              if (!this.options.collapsible || -1 === this.options.selected)
                return;
              e = this.options.selected;
            }
            this.anchors
              .eq(e)
              .trigger(this.options.event + this.eventNamespace);
          },
        }),
        (function () {
          var t = 0;
          e.widget("ui.tabs", e.ui.tabs, {
            options: {
              cookie: null,
            },
            _create: function () {
              var e,
                t = this.options;
              null == t.active &&
                t.cookie &&
                ((e = parseInt(this._cookie(), 10)),
                -1 === e && (e = !1),
                (t.active = e)),
                this._super();
            },
            _cookie: function (n) {
              var i = [
                this.cookie ||
                  (this.cookie = this.options.cookie.name || "ui-tabs-" + ++t),
              ];
              return (
                arguments.length &&
                  (i.push(n === !1 ? -1 : n), i.push(this.options.cookie)),
                e.cookie.apply(null, i)
              );
            },
            _refresh: function () {
              this._super(),
                this.options.cookie &&
                  this._cookie(this.options.active, this.options.cookie);
            },
            _eventHandler: function () {
              this._superApply(arguments),
                this.options.cookie &&
                  this._cookie(this.options.active, this.options.cookie);
            },
            _destroy: function () {
              this._super(),
                this.options.cookie && this._cookie(null, this.options.cookie);
            },
          });
        })(),
        e.widget("ui.tabs", e.ui.tabs, {
          _trigger: function (t, n, i) {
            var r = e.extend({}, i);
            return (
              "load" === t &&
                ((r.panel = r.panel[0]),
                (r.tab = r.tab.find(".ui-tabs-anchor")[0])),
              this._super(t, n, r)
            );
          },
        }),
        e.widget("ui.tabs", e.ui.tabs, {
          options: {
            fx: null,
          },
          _getFx: function () {
            var t,
              n,
              i = this.options.fx;
            return (
              i && (e.isArray(i) ? ((t = i[0]), (n = i[1])) : (t = n = i)),
              i
                ? {
                    show: n,
                    hide: t,
                  }
                : null
            );
          },
          _toggle: function (e, t) {
            function n() {
              (r.running = !1), r._trigger("activate", e, t);
            }
            function i() {
              t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
                s.length && a.show
                  ? s.animate(a.show, a.show.duration, function () {
                      n();
                    })
                  : (s.show(), n());
            }
            var r = this,
              s = t.newPanel,
              o = t.oldPanel,
              a = this._getFx();
            return a
              ? ((r.running = !0),
                void (o.length && a.hide
                  ? o.animate(a.hide, a.hide.duration, function () {
                      t.oldTab
                        .closest("li")
                        .removeClass("ui-tabs-active ui-state-active"),
                        i();
                    })
                  : (t.oldTab
                      .closest("li")
                      .removeClass("ui-tabs-active ui-state-active"),
                    o.hide(),
                    i())))
              : this._super(e, t);
          },
        }));
  })(jQuery),
  (function (e) {
    function t(t, n) {
      var i = (t.attr("aria-describedby") || "").split(/\s+/);
      i.push(n),
        t
          .data("ui-tooltip-id", n)
          .attr("aria-describedby", e.trim(i.join(" ")));
    }
    function n(t) {
      var n = t.data("ui-tooltip-id"),
        i = (t.attr("aria-describedby") || "").split(/\s+/),
        r = e.inArray(n, i);
      -1 !== r && i.splice(r, 1),
        t.removeData("ui-tooltip-id"),
        (i = e.trim(i.join(" "))),
        i ? t.attr("aria-describedby", i) : t.removeAttr("aria-describedby");
    }
    var i = 0;
    e.widget("ui.tooltip", {
      version: "1.9.2",
      options: {
        content: function () {
          return e(this).attr("title");
        },
        hide: !0,
        items: "[title]:not([disabled])",
        position: {
          my: "left top+15",
          at: "left bottom",
          collision: "flipfit flip",
        },
        show: !0,
        tooltipClass: null,
        track: !1,
        close: null,
        open: null,
      },
      _create: function () {
        this._on({
          mouseover: "open",
          focusin: "open",
        }),
          (this.tooltips = {}),
          (this.parents = {}),
          this.options.disabled && this._disable();
      },
      _setOption: function (t, n) {
        var i = this;
        return "disabled" === t
          ? (this[n ? "_disable" : "_enable"](), void (this.options[t] = n))
          : (this._super(t, n),
            void (
              "content" === t &&
              e.each(this.tooltips, function (e, t) {
                i._updateContent(t);
              })
            ));
      },
      _disable: function () {
        var t = this;
        e.each(this.tooltips, function (n, i) {
          var r = e.Event("blur");
          (r.target = r.currentTarget = i[0]), t.close(r, !0);
        }),
          this.element
            .find(this.options.items)
            .andSelf()
            .each(function () {
              var t = e(this);
              t.is("[title]") &&
                t.data("ui-tooltip-title", t.attr("title")).attr("title", "");
            });
      },
      _enable: function () {
        this.element
          .find(this.options.items)
          .andSelf()
          .each(function () {
            var t = e(this);
            t.data("ui-tooltip-title") &&
              t.attr("title", t.data("ui-tooltip-title"));
          });
      },
      open: function (t) {
        var n = this,
          i = e(t ? t.target : this.element).closest(this.options.items);
        i.length &&
          !i.data("ui-tooltip-id") &&
          (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")),
          i.data("ui-tooltip-open", !0),
          t &&
            "mouseover" === t.type &&
            i.parents().each(function () {
              var t,
                i = e(this);
              i.data("ui-tooltip-open") &&
                ((t = e.Event("blur")),
                (t.target = t.currentTarget = this),
                n.close(t, !0)),
                i.attr("title") &&
                  (i.uniqueId(),
                  (n.parents[this.id] = {
                    element: this,
                    title: i.attr("title"),
                  }),
                  i.attr("title", ""));
            }),
          this._updateContent(i, t));
      },
      _updateContent: function (e, t) {
        var n,
          i = this.options.content,
          r = this,
          s = t ? t.type : null;
        return "string" == typeof i
          ? this._open(t, e, i)
          : ((n = i.call(e[0], function (n) {
              e.data("ui-tooltip-open") &&
                r._delay(function () {
                  t && (t.type = s), this._open(t, e, n);
                });
            })),
            void (n && this._open(t, e, n)));
      },
      _open: function (n, i, r) {
        function s(e) {
          (c.of = e), o.is(":hidden") || o.position(c);
        }
        var o,
          a,
          l,
          c = e.extend({}, this.options.position);
        if (r) {
          if (((o = this._find(i)), o.length))
            return void o.find(".ui-tooltip-content").html(r);
          i.is("[title]") &&
            (n && "mouseover" === n.type
              ? i.attr("title", "")
              : i.removeAttr("title")),
            (o = this._tooltip(i)),
            t(i, o.attr("id")),
            o.find(".ui-tooltip-content").html(r),
            this.options.track && n && /^mouse/.test(n.type)
              ? (this._on(this.document, {
                  mousemove: s,
                }),
                s(n))
              : o.position(
                  e.extend(
                    {
                      of: i,
                    },
                    this.options.position
                  )
                ),
            o.hide(),
            this._show(o, this.options.show),
            this.options.show &&
              this.options.show.delay &&
              (l = setInterval(function () {
                o.is(":visible") && (s(c.of), clearInterval(l));
              }, e.fx.interval)),
            this._trigger("open", n, {
              tooltip: o,
            }),
            (a = {
              keyup: function (t) {
                if (t.keyCode === e.ui.keyCode.ESCAPE) {
                  var n = e.Event(t);
                  (n.currentTarget = i[0]), this.close(n, !0);
                }
              },
              remove: function () {
                this._removeTooltip(o);
              },
            }),
            (n && "mouseover" !== n.type) || (a.mouseleave = "close"),
            (n && "focusin" !== n.type) || (a.focusout = "close"),
            this._on(!0, i, a);
        }
      },
      close: function (t) {
        var i = this,
          r = e(t ? t.currentTarget : this.element),
          s = this._find(r);
        this.closing ||
          (r.data("ui-tooltip-title") &&
            r.attr("title", r.data("ui-tooltip-title")),
          n(r),
          s.stop(!0),
          this._hide(s, this.options.hide, function () {
            i._removeTooltip(e(this));
          }),
          r.removeData("ui-tooltip-open"),
          this._off(r, "mouseleave focusout keyup"),
          r[0] !== this.element[0] && this._off(r, "remove"),
          this._off(this.document, "mousemove"),
          t &&
            "mouseleave" === t.type &&
            e.each(this.parents, function (t, n) {
              e(n.element).attr("title", n.title), delete i.parents[t];
            }),
          (this.closing = !0),
          this._trigger("close", t, {
            tooltip: s,
          }),
          (this.closing = !1));
      },
      _tooltip: function (t) {
        var n = "ui-tooltip-" + i++,
          r = e("<div>")
            .attr({
              id: n,
              role: "tooltip",
            })
            .addClass(
              "ui-tooltip ui-widget ui-corner-all ui-widget-content " +
                (this.options.tooltipClass || "")
            );
        return (
          e("<div>").addClass("ui-tooltip-content").appendTo(r),
          r.appendTo(this.document[0].body),
          e.fn.bgiframe && r.bgiframe(),
          (this.tooltips[n] = t),
          r
        );
      },
      _find: function (t) {
        var n = t.data("ui-tooltip-id");
        return n ? e("#" + n) : e();
      },
      _removeTooltip: function (e) {
        e.remove(), delete this.tooltips[e.attr("id")];
      },
      _destroy: function () {
        var t = this;
        e.each(this.tooltips, function (n, i) {
          var r = e.Event("blur");
          (r.target = r.currentTarget = i[0]),
            t.close(r, !0),
            e("#" + n).remove(),
            i.data("ui-tooltip-title") &&
              (i.attr("title", i.data("ui-tooltip-title")),
              i.removeData("ui-tooltip-title"));
        });
      },
    });
  })(jQuery),
  "undefined" == typeof jQuery)
)
  throw new Error("Bootstrap's JavaScript requires jQuery");
/* ========================================================================
 * Bootstrap: transition.js v3.2.0
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+(function (e) {
  "use strict";
  function t() {
    var e = document.createElement("bootstrap"),
      t = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd otransitionend",
        transition: "transitionend",
      };
    for (var n in t)
      if (void 0 !== e.style[n])
        return {
          end: t[n],
        };
    return !1;
  }
  (e.fn.emulateTransitionEnd = function (t) {
    var n = !1,
      i = this;
    e(this).one("bsTransitionEnd", function () {
      n = !0;
    });
    var r = function () {
      n || e(i).trigger(e.support.transition.end);
    };
    return setTimeout(r, t), this;
  }),
    e(function () {
      (e.support.transition = t()),
        e.support.transition &&
          (e.event.special.bsTransitionEnd = {
            bindType: e.support.transition.end,
            delegateType: e.support.transition.end,
            handle: function (t) {
              return e(t.target).is(this)
                ? t.handleObj.handler.apply(this, arguments)
                : void 0;
            },
          });
    });
})(jQuery),
  /* ========================================================================
   * Bootstrap: alert.js v3.2.0
   * http://getbootstrap.com/javascript/#alerts
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var n = e(this),
          r = n.data("bs.alert");
        r || n.data("bs.alert", (r = new i(this))),
          "string" == typeof t && r[t].call(n);
      });
    }
    var n = '[data-dismiss="alert"]',
      i = function (t) {
        e(t).on("click", n, this.close);
      };
    (i.VERSION = "3.2.0"),
      (i.prototype.close = function (t) {
        function n() {
          s.detach().trigger("closed.bs.alert").remove();
        }
        var i = e(this),
          r = i.attr("data-target");
        r || ((r = i.attr("href")), (r = r && r.replace(/.*(?=#[^\s]*$)/, "")));
        var s = e(r);
        t && t.preventDefault(),
          s.length || (s = i.hasClass("alert") ? i : i.parent()),
          s.trigger((t = e.Event("close.bs.alert"))),
          t.isDefaultPrevented() ||
            (s.removeClass("in"),
            e.support.transition && s.hasClass("fade")
              ? s.one("bsTransitionEnd", n).emulateTransitionEnd(150)
              : n());
      });
    var r = e.fn.alert;
    (e.fn.alert = t),
      (e.fn.alert.Constructor = i),
      (e.fn.alert.noConflict = function () {
        return (e.fn.alert = r), this;
      }),
      e(document).on("click.bs.alert.data-api", n, i.prototype.close);
  })(jQuery),
  /* ========================================================================
   * Bootstrap: button.js v3.2.0
   * http://getbootstrap.com/javascript/#buttons
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.button"),
          s = "object" == typeof t && t;
        r || i.data("bs.button", (r = new n(this, s))),
          "toggle" == t ? r.toggle() : t && r.setState(t);
      });
    }
    var n = function (t, i) {
      (this.$element = e(t)),
        (this.options = e.extend({}, n.DEFAULTS, i)),
        (this.isLoading = !1);
    };
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = {
        loadingText: "loading...",
      }),
      (n.prototype.setState = function (t) {
        var n = "disabled",
          i = this.$element,
          r = i.is("input") ? "val" : "html",
          s = i.data();
        (t += "Text"),
          null == s.resetText && i.data("resetText", i[r]()),
          i[r](null == s[t] ? this.options[t] : s[t]),
          setTimeout(
            e.proxy(function () {
              "loadingText" == t
                ? ((this.isLoading = !0), i.addClass(n).attr(n, n))
                : this.isLoading &&
                  ((this.isLoading = !1), i.removeClass(n).removeAttr(n));
            }, this),
            0
          );
      }),
      (n.prototype.toggle = function () {
        var e = !0,
          t = this.$element.closest('[data-toggle="buttons"]');
        if (t.length) {
          var n = this.$element.find("input");
          "radio" == n.prop("type") &&
            (n.prop("checked") && this.$element.hasClass("active")
              ? (e = !1)
              : t.find(".active").removeClass("active")),
            e &&
              n
                .prop("checked", !this.$element.hasClass("active"))
                .trigger("change");
        }
        e && this.$element.toggleClass("active");
      });
    var i = e.fn.button;
    (e.fn.button = t),
      (e.fn.button.Constructor = n),
      (e.fn.button.noConflict = function () {
        return (e.fn.button = i), this;
      }),
      e(document).on(
        "click.bs.button.data-api",
        '[data-toggle^="button"]',
        function (n) {
          var i = e(n.target);
          i.hasClass("btn") || (i = i.closest(".btn")),
            t.call(i, "toggle"),
            n.preventDefault();
        }
      );
  })(jQuery),
  /* ========================================================================
   * Bootstrap: carousel.js v3.2.0
   * http://getbootstrap.com/javascript/#carousel
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.carousel"),
          s = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t),
          o = "string" == typeof t ? t : s.slide;
        r || i.data("bs.carousel", (r = new n(this, s))),
          "number" == typeof t
            ? r.to(t)
            : o
            ? r[o]()
            : s.interval && r.pause().cycle();
      });
    }
    var n = function (t, n) {
      (this.$element = e(t).on(
        "keydown.bs.carousel",
        e.proxy(this.keydown, this)
      )),
        (this.$indicators = this.$element.find(".carousel-indicators")),
        (this.options = n),
        (this.paused =
          this.sliding =
          this.interval =
          this.$active =
          this.$items =
            null),
        "hover" == this.options.pause &&
          this.$element
            .on("mouseenter.bs.carousel", e.proxy(this.pause, this))
            .on("mouseleave.bs.carousel", e.proxy(this.cycle, this));
    };
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0,
      }),
      (n.prototype.keydown = function (e) {
        switch (e.which) {
          case 37:
            this.prev();
            break;
          case 39:
            this.next();
            break;
          default:
            return;
        }
        e.preventDefault();
      }),
      (n.prototype.cycle = function (t) {
        return (
          t || (this.paused = !1),
          this.interval && clearInterval(this.interval),
          this.options.interval &&
            !this.paused &&
            (this.interval = setInterval(
              e.proxy(this.next, this),
              this.options.interval
            )),
          this
        );
      }),
      (n.prototype.getItemIndex = function (e) {
        return (
          (this.$items = e.parent().children(".item")),
          this.$items.index(e || this.$active)
        );
      }),
      (n.prototype.to = function (t) {
        var n = this,
          i = this.getItemIndex(
            (this.$active = this.$element.find(".item.active"))
          );
        return t > this.$items.length - 1 || 0 > t
          ? void 0
          : this.sliding
          ? this.$element.one("slid.bs.carousel", function () {
              n.to(t);
            })
          : i == t
          ? this.pause().cycle()
          : this.slide(t > i ? "next" : "prev", e(this.$items[t]));
      }),
      (n.prototype.pause = function (t) {
        return (
          t || (this.paused = !0),
          this.$element.find(".next, .prev").length &&
            e.support.transition &&
            (this.$element.trigger(e.support.transition.end), this.cycle(!0)),
          (this.interval = clearInterval(this.interval)),
          this
        );
      }),
      (n.prototype.next = function () {
        return this.sliding ? void 0 : this.slide("next");
      }),
      (n.prototype.prev = function () {
        return this.sliding ? void 0 : this.slide("prev");
      }),
      (n.prototype.slide = function (t, n) {
        var i = this.$element.find(".item.active"),
          r = n || i[t](),
          s = this.interval,
          o = "next" == t ? "left" : "right",
          a = "next" == t ? "first" : "last",
          l = this;
        if (!r.length) {
          if (!this.options.wrap) return;
          r = this.$element.find(".item")[a]();
        }
        if (r.hasClass("active")) return (this.sliding = !1);
        var c = r[0],
          u = e.Event("slide.bs.carousel", {
            relatedTarget: c,
            direction: o,
          });
        if ((this.$element.trigger(u), !u.isDefaultPrevented())) {
          if (
            ((this.sliding = !0), s && this.pause(), this.$indicators.length)
          ) {
            this.$indicators.find(".active").removeClass("active");
            var d = e(this.$indicators.children()[this.getItemIndex(r)]);
            d && d.addClass("active");
          }
          var p = e.Event("slid.bs.carousel", {
            relatedTarget: c,
            direction: o,
          });
          return (
            e.support.transition && this.$element.hasClass("slide")
              ? (r.addClass(t),
                r[0].offsetWidth,
                i.addClass(o),
                r.addClass(o),
                i
                  .one("bsTransitionEnd", function () {
                    r.removeClass([t, o].join(" ")).addClass("active"),
                      i.removeClass(["active", o].join(" ")),
                      (l.sliding = !1),
                      setTimeout(function () {
                        l.$element.trigger(p);
                      }, 0);
                  })
                  .emulateTransitionEnd(
                    1e3 * i.css("transition-duration").slice(0, -1)
                  ))
              : (i.removeClass("active"),
                r.addClass("active"),
                (this.sliding = !1),
                this.$element.trigger(p)),
            s && this.cycle(),
            this
          );
        }
      });
    var i = e.fn.carousel;
    (e.fn.carousel = t),
      (e.fn.carousel.Constructor = n),
      (e.fn.carousel.noConflict = function () {
        return (e.fn.carousel = i), this;
      }),
      e(document).on(
        "click.bs.carousel.data-api",
        "[data-slide], [data-slide-to]",
        function (n) {
          var i,
            r = e(this),
            s = e(
              r.attr("data-target") ||
                ((i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""))
            );
          if (s.hasClass("carousel")) {
            var o = e.extend({}, s.data(), r.data()),
              a = r.attr("data-slide-to");
            a && (o.interval = !1),
              t.call(s, o),
              a && s.data("bs.carousel").to(a),
              n.preventDefault();
          }
        }
      ),
      e(window).on("load", function () {
        e('[data-ride="carousel"]').each(function () {
          var n = e(this);
          t.call(n, n.data());
        });
      });
  })(jQuery),
  /* ========================================================================
   * Bootstrap: collapse.js v3.2.0
   * http://getbootstrap.com/javascript/#collapse
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.collapse"),
          s = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t);
        !r && s.toggle && "show" == t && (t = !t),
          r || i.data("bs.collapse", (r = new n(this, s))),
          "string" == typeof t && r[t]();
      });
    }
    var n = function (t, i) {
      (this.$element = e(t)),
        (this.options = e.extend({}, n.DEFAULTS, i)),
        (this.transitioning = null),
        this.options.parent && (this.$parent = e(this.options.parent)),
        this.options.toggle && this.toggle();
    };
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = {
        toggle: !0,
      }),
      (n.prototype.dimension = function () {
        var e = this.$element.hasClass("width");
        return e ? "width" : "height";
      }),
      (n.prototype.show = function () {
        if (!this.transitioning && !this.$element.hasClass("in")) {
          var n = e.Event("show.bs.collapse");
          if ((this.$element.trigger(n), !n.isDefaultPrevented())) {
            var i = this.$parent && this.$parent.find("> .panel > .in");
            if (i && i.length) {
              var r = i.data("bs.collapse");
              if (r && r.transitioning) return;
              t.call(i, "hide"), r || i.data("bs.collapse", null);
            }
            var s = this.dimension();
            this.$element.removeClass("collapse").addClass("collapsing")[s](0),
              (this.transitioning = 1);
            var o = function () {
              this.$element
                .removeClass("collapsing")
                .addClass("collapse in")
                [s](""),
                (this.transitioning = 0),
                this.$element.trigger("shown.bs.collapse");
            };
            if (!e.support.transition) return o.call(this);
            var a = e.camelCase(["scroll", s].join("-"));
            this.$element
              .one("bsTransitionEnd", e.proxy(o, this))
              .emulateTransitionEnd(350)
              [s](this.$element[0][a]);
          }
        }
      }),
      (n.prototype.hide = function () {
        if (!this.transitioning && this.$element.hasClass("in")) {
          var t = e.Event("hide.bs.collapse");
          if ((this.$element.trigger(t), !t.isDefaultPrevented())) {
            var n = this.dimension();
            this.$element[n](this.$element[n]())[0].offsetHeight,
              this.$element
                .addClass("collapsing")
                .removeClass("collapse")
                .removeClass("in"),
              (this.transitioning = 1);
            var i = function () {
              (this.transitioning = 0),
                this.$element
                  .trigger("hidden.bs.collapse")
                  .removeClass("collapsing")
                  .addClass("collapse");
            };
            return e.support.transition
              ? void this.$element[n](0)
                  .one("bsTransitionEnd", e.proxy(i, this))
                  .emulateTransitionEnd(350)
              : i.call(this);
          }
        }
      }),
      (n.prototype.toggle = function () {
        this[this.$element.hasClass("in") ? "hide" : "show"]();
      });
    var i = e.fn.collapse;
    (e.fn.collapse = t),
      (e.fn.collapse.Constructor = n),
      (e.fn.collapse.noConflict = function () {
        return (e.fn.collapse = i), this;
      }),
      e(document).on(
        "click.bs.collapse.data-api",
        '[data-toggle="collapse"]',
        function (n) {
          var i,
            r = e(this),
            s =
              r.attr("data-target") ||
              n.preventDefault() ||
              ((i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, "")),
            o = e(s),
            a = o.data("bs.collapse"),
            l = a ? "toggle" : r.data(),
            c = r.attr("data-parent"),
            u = c && e(c);
          (a && a.transitioning) ||
            (u &&
              u
                .find('[data-toggle="collapse"][data-parent="' + c + '"]')
                .not(r)
                .addClass("collapsed"),
            r[o.hasClass("in") ? "addClass" : "removeClass"]("collapsed")),
            t.call(o, l);
        }
      );
  })(jQuery),
  /* ========================================================================
   * Bootstrap: dropdown.js v3.2.0
   * http://getbootstrap.com/javascript/#dropdowns
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      (t && 3 === t.which) ||
        (e(r).remove(),
        e(s).each(function () {
          var i = n(e(this)),
            r = {
              relatedTarget: this,
            };
          i.hasClass("open") &&
            (i.trigger((t = e.Event("hide.bs.dropdown", r))),
            t.isDefaultPrevented() ||
              i.removeClass("open").trigger("hidden.bs.dropdown", r));
        }));
    }
    function n(t) {
      var n = t.attr("data-target");
      n ||
        ((n = t.attr("href")),
        (n = n && /#[A-Za-z]/.test(n) && n.replace(/.*(?=#[^\s]*$)/, "")));
      var i = n && e(n);
      return i && i.length ? i : t.parent();
    }
    function i(t) {
      return this.each(function () {
        var n = e(this),
          i = n.data("bs.dropdown");
        i || n.data("bs.dropdown", (i = new o(this))),
          "string" == typeof t && i[t].call(n);
      });
    }
    var r = ".dropdown-backdrop",
      s = '[data-toggle="dropdown"]',
      o = function (t) {
        e(t).on("click.bs.dropdown", this.toggle);
      };
    (o.VERSION = "3.2.0"),
      (o.prototype.toggle = function (i) {
        var r = e(this);
        if (!r.is(".disabled, :disabled")) {
          var s = n(r),
            o = s.hasClass("open");
          if ((t(), !o)) {
            "ontouchstart" in document.documentElement &&
              !s.closest(".navbar-nav").length &&
              e('<div class="dropdown-backdrop"/>')
                .insertAfter(e(this))
                .on("click", t);
            var a = {
              relatedTarget: this,
            };
            if (
              (s.trigger((i = e.Event("show.bs.dropdown", a))),
              i.isDefaultPrevented())
            )
              return;
            r.trigger("focus"),
              s.toggleClass("open").trigger("shown.bs.dropdown", a);
          }
          return !1;
        }
      }),
      (o.prototype.keydown = function (t) {
        if (/(38|40|27)/.test(t.keyCode)) {
          var i = e(this);
          if (
            (t.preventDefault(),
            t.stopPropagation(),
            !i.is(".disabled, :disabled"))
          ) {
            var r = n(i),
              o = r.hasClass("open");
            if (!o || (o && 27 == t.keyCode))
              return (
                27 == t.which && r.find(s).trigger("focus"), i.trigger("click")
              );
            var a = " li:not(.divider):visible a",
              l = r.find('[role="menu"]' + a + ', [role="listbox"]' + a);
            if (l.length) {
              var c = l.index(l.filter(":focus"));
              38 == t.keyCode && c > 0 && c--,
                40 == t.keyCode && c < l.length - 1 && c++,
                ~c || (c = 0),
                l.eq(c).trigger("focus");
            }
          }
        }
      });
    var a = e.fn.dropdown;
    (e.fn.dropdown = i),
      (e.fn.dropdown.Constructor = o),
      (e.fn.dropdown.noConflict = function () {
        return (e.fn.dropdown = a), this;
      }),
      e(document)
        .on("click.bs.dropdown.data-api", t)
        .on("click.bs.dropdown.data-api", ".dropdown form", function (e) {
          e.stopPropagation();
        })
        .on("click.bs.dropdown.data-api", s, o.prototype.toggle)
        .on(
          "keydown.bs.dropdown.data-api",
          s + ', [role="menu"], [role="listbox"]',
          o.prototype.keydown
        );
  })(jQuery),
  /* ========================================================================
   * Bootstrap: modal.js v3.2.0
   * http://getbootstrap.com/javascript/#modals
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t, i) {
      return this.each(function () {
        var r = e(this),
          s = r.data("bs.modal"),
          o = e.extend({}, n.DEFAULTS, r.data(), "object" == typeof t && t);
        s || r.data("bs.modal", (s = new n(this, o))),
          "string" == typeof t ? s[t](i) : o.show && s.show(i);
      });
    }
    var n = function (t, n) {
      (this.options = n),
        (this.$body = e(document.body)),
        (this.$element = e(t)),
        (this.$backdrop = this.isShown = null),
        (this.scrollbarWidth = 0),
        this.options.remote &&
          this.$element.find(".modal-content").load(
            this.options.remote,
            e.proxy(function () {
              this.$element.trigger("loaded.bs.modal");
            }, this)
          );
    };
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0,
      }),
      (n.prototype.toggle = function (e) {
        return this.isShown ? this.hide() : this.show(e);
      }),
      (n.prototype.show = function (t) {
        var n = this,
          i = e.Event("show.bs.modal", {
            relatedTarget: t,
          });
        this.$element.trigger(i),
          this.isShown ||
            i.isDefaultPrevented() ||
            ((this.isShown = !0),
            this.checkScrollbar(),
            this.$body.addClass("modal-open"),
            this.setScrollbar(),
            this.escape(),
            this.$element.on(
              "click.dismiss.bs.modal",
              '[data-dismiss="modal"]',
              e.proxy(this.hide, this)
            ),
            this.backdrop(function () {
              var i = e.support.transition && n.$element.hasClass("fade");
              n.$element.parent().length || n.$element.appendTo(n.$body),
                n.$element.show().scrollTop(0),
                i && n.$element[0].offsetWidth,
                n.$element.addClass("in").attr("aria-hidden", !1),
                n.enforceFocus();
              var r = e.Event("shown.bs.modal", {
                relatedTarget: t,
              });
              i
                ? n.$element
                    .find(".modal-dialog")
                    .one("bsTransitionEnd", function () {
                      n.$element.trigger("focus").trigger(r);
                    })
                    .emulateTransitionEnd(300)
                : n.$element.trigger("focus").trigger(r);
            }));
      }),
      (n.prototype.hide = function (t) {
        t && t.preventDefault(),
          (t = e.Event("hide.bs.modal")),
          this.$element.trigger(t),
          this.isShown &&
            !t.isDefaultPrevented() &&
            ((this.isShown = !1),
            this.$body.removeClass("modal-open"),
            this.resetScrollbar(),
            this.escape(),
            e(document).off("focusin.bs.modal"),
            this.$element
              .removeClass("in")
              .attr("aria-hidden", !0)
              .off("click.dismiss.bs.modal"),
            e.support.transition && this.$element.hasClass("fade")
              ? this.$element
                  .one("bsTransitionEnd", e.proxy(this.hideModal, this))
                  .emulateTransitionEnd(300)
              : this.hideModal());
      }),
      (n.prototype.enforceFocus = function () {
        e(document)
          .off("focusin.bs.modal")
          .on(
            "focusin.bs.modal",
            e.proxy(function (e) {
              this.$element[0] === e.target ||
                this.$element.has(e.target).length ||
                this.$element.trigger("focus");
            }, this)
          );
      }),
      (n.prototype.escape = function () {
        this.isShown && this.options.keyboard
          ? this.$element.on(
              "keyup.dismiss.bs.modal",
              e.proxy(function (e) {
                27 == e.which && this.hide();
              }, this)
            )
          : this.isShown || this.$element.off("keyup.dismiss.bs.modal");
      }),
      (n.prototype.hideModal = function () {
        var e = this;
        this.$element.hide(),
          this.backdrop(function () {
            e.$element.trigger("hidden.bs.modal");
          });
      }),
      (n.prototype.removeBackdrop = function () {
        this.$backdrop && this.$backdrop.remove(), (this.$backdrop = null);
      }),
      (n.prototype.backdrop = function (t) {
        var n = this,
          i = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
          var r = e.support.transition && i;
          if (
            ((this.$backdrop = e(
              '<div class="modal-backdrop ' + i + '" />'
            ).appendTo(this.$body)),
            this.$element.on(
              "mousedown.dismiss.bs.modal",
              e.proxy(function (e) {
                e.target === e.currentTarget &&
                  ("static" == this.options.backdrop
                    ? this.$element[0].focus.call(this.$element[0])
                    : this.hide.call(this));
              }, this)
            ),
            r && this.$backdrop[0].offsetWidth,
            this.$backdrop.addClass("in"),
            !t)
          )
            return;
          r
            ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(150)
            : t();
        } else if (!this.isShown && this.$backdrop) {
          this.$backdrop.removeClass("in");
          var s = function () {
            n.removeBackdrop(), t && t();
          };
          e.support.transition && this.$element.hasClass("fade")
            ? this.$backdrop.one("bsTransitionEnd", s).emulateTransitionEnd(150)
            : s();
        } else t && t();
      }),
      (n.prototype.checkScrollbar = function () {
        document.body.clientWidth >= window.innerWidth ||
          (this.scrollbarWidth =
            this.scrollbarWidth || this.measureScrollbar());
      }),
      (n.prototype.setScrollbar = function () {
        var e = parseInt(this.$body.css("padding-right") || 0, 10);
        this.scrollbarWidth &&
          this.$body.css("padding-right", e + this.scrollbarWidth);
      }),
      (n.prototype.resetScrollbar = function () {
        this.$body.css("padding-right", "");
      }),
      (n.prototype.measureScrollbar = function () {
        var e = document.createElement("div");
        (e.className = "modal-scrollbar-measure"), this.$body.append(e);
        var t = e.offsetWidth - e.clientWidth;
        return this.$body[0].removeChild(e), t;
      });
    var i = e.fn.modal;
    (e.fn.modal = t),
      (e.fn.modal.Constructor = n),
      (e.fn.modal.noConflict = function () {
        return (e.fn.modal = i), this;
      }),
      e(document).on(
        "click.bs.modal.data-api",
        '[data-toggle="modal"]',
        function (n) {
          var i = e(this),
            r = i.attr("href"),
            s = e(
              i.attr("data-target") || (r && r.replace(/.*(?=#[^\s]+$)/, ""))
            ),
            o = s.data("bs.modal")
              ? "toggle"
              : e.extend(
                  {
                    remote: !/#/.test(r) && r,
                  },
                  s.data(),
                  i.data()
                );
          i.is("a") && n.preventDefault(),
            s.one("show.bs.modal", function (e) {
              e.isDefaultPrevented() ||
                s.one("hidden.bs.modal", function () {
                  i.is(":visible") && i.trigger("focus");
                });
            }),
            t.call(s, o, this);
        }
      );
  })(jQuery),
  /* ========================================================================
   * Bootstrap: tooltip.js v3.2.0
   * http://getbootstrap.com/javascript/#tooltip
   * Inspired by the original jQuery.tipsy by Jason Frame
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.tooltip"),
          s = "object" == typeof t && t;
        (r || "destroy" != t) &&
          (r || i.data("bs.tooltip", (r = new n(this, s))),
          "string" == typeof t && r[t]());
      });
    }
    var n = function (e, t) {
      (this.type =
        this.options =
        this.enabled =
        this.timeout =
        this.hoverState =
        this.$element =
          null),
        this.init("tooltip", e, t);
    };
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template:
          '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
          selector: "body",
          padding: 0,
        },
      }),
      (n.prototype.init = function (t, n, i) {
        (this.enabled = !0),
          (this.type = t),
          (this.$element = e(n)),
          (this.options = this.getOptions(i)),
          (this.$viewport =
            this.options.viewport &&
            e(this.options.viewport.selector || this.options.viewport));
        for (var r = this.options.trigger.split(" "), s = r.length; s--; ) {
          var o = r[s];
          if ("click" == o)
            this.$element.on(
              "click." + this.type,
              this.options.selector,
              e.proxy(this.toggle, this)
            );
          else if ("manual" != o) {
            var a = "hover" == o ? "mouseenter" : "focusin",
              l = "hover" == o ? "mouseleave" : "focusout";
            this.$element.on(
              a + "." + this.type,
              this.options.selector,
              e.proxy(this.enter, this)
            ),
              this.$element.on(
                l + "." + this.type,
                this.options.selector,
                e.proxy(this.leave, this)
              );
          }
        }
        this.options.selector
          ? (this._options = e.extend({}, this.options, {
              trigger: "manual",
              selector: "",
            }))
          : this.fixTitle();
      }),
      (n.prototype.getDefaults = function () {
        return n.DEFAULTS;
      }),
      (n.prototype.getOptions = function (t) {
        return (
          (t = e.extend({}, this.getDefaults(), this.$element.data(), t)),
          t.delay &&
            "number" == typeof t.delay &&
            (t.delay = {
              show: t.delay,
              hide: t.delay,
            }),
          t
        );
      }),
      (n.prototype.getDelegateOptions = function () {
        var t = {},
          n = this.getDefaults();
        return (
          this._options &&
            e.each(this._options, function (e, i) {
              n[e] != i && (t[e] = i);
            }),
          t
        );
      }),
      (n.prototype.enter = function (t) {
        var n =
          t instanceof this.constructor
            ? t
            : e(t.currentTarget).data("bs." + this.type);
        return (
          n ||
            ((n = new this.constructor(
              t.currentTarget,
              this.getDelegateOptions()
            )),
            e(t.currentTarget).data("bs." + this.type, n)),
          clearTimeout(n.timeout),
          (n.hoverState = "in"),
          n.options.delay && n.options.delay.show
            ? void (n.timeout = setTimeout(function () {
                "in" == n.hoverState && n.show();
              }, n.options.delay.show))
            : n.show()
        );
      }),
      (n.prototype.leave = function (t) {
        var n =
          t instanceof this.constructor
            ? t
            : e(t.currentTarget).data("bs." + this.type);
        return (
          n ||
            ((n = new this.constructor(
              t.currentTarget,
              this.getDelegateOptions()
            )),
            e(t.currentTarget).data("bs." + this.type, n)),
          clearTimeout(n.timeout),
          (n.hoverState = "out"),
          n.options.delay && n.options.delay.hide
            ? void (n.timeout = setTimeout(function () {
                "out" == n.hoverState && n.hide();
              }, n.options.delay.hide))
            : n.hide()
        );
      }),
      (n.prototype.show = function () {
        var t = e.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
          this.$element.trigger(t);
          var n = e.contains(document.documentElement, this.$element[0]);
          if (t.isDefaultPrevented() || !n) return;
          var i = this,
            r = this.tip(),
            s = this.getUID(this.type);
          this.setContent(),
            r.attr("id", s),
            this.$element.attr("aria-describedby", s),
            this.options.animation && r.addClass("fade");
          var o =
              "function" == typeof this.options.placement
                ? this.options.placement.call(this, r[0], this.$element[0])
                : this.options.placement,
            a = /\s?auto?\s?/i,
            l = a.test(o);
          l && (o = o.replace(a, "") || "top"),
            r
              .detach()
              .css({
                top: 0,
                left: 0,
                display: "block",
              })
              .addClass(o)
              .data("bs." + this.type, this),
            this.options.container
              ? r.appendTo(this.options.container)
              : r.insertAfter(this.$element);
          var c = this.getPosition(),
            u = r[0].offsetWidth,
            d = r[0].offsetHeight;
          if (l) {
            var p = o,
              h = this.$element.parent(),
              f = this.getPosition(h);
            (o =
              "bottom" == o && c.top + c.height + d - f.scroll > f.height
                ? "top"
                : "top" == o && c.top - f.scroll - d < 0
                ? "bottom"
                : "right" == o && c.right + u > f.width
                ? "left"
                : "left" == o && c.left - u < f.left
                ? "right"
                : o),
              r.removeClass(p).addClass(o);
          }
          var m = this.getCalculatedOffset(o, c, u, d);
          this.applyPlacement(m, o);
          var g = function () {
            i.$element.trigger("shown.bs." + i.type), (i.hoverState = null);
          };
          e.support.transition && this.$tip.hasClass("fade")
            ? r.one("bsTransitionEnd", g).emulateTransitionEnd(150)
            : g();
        }
      }),
      (n.prototype.applyPlacement = function (t, n) {
        var i = this.tip(),
          r = i[0].offsetWidth,
          s = i[0].offsetHeight,
          o = parseInt(i.css("margin-top"), 10),
          a = parseInt(i.css("margin-left"), 10);
        isNaN(o) && (o = 0),
          isNaN(a) && (a = 0),
          (t.top = t.top + o),
          (t.left = t.left + a),
          e.offset.setOffset(
            i[0],
            e.extend(
              {
                using: function (e) {
                  i.css({
                    top: Math.round(e.top),
                    left: Math.round(e.left),
                  });
                },
              },
              t
            ),
            0
          ),
          i.addClass("in");
        var l = i[0].offsetWidth,
          c = i[0].offsetHeight;
        "top" == n && c != s && (t.top = t.top + s - c);
        var u = this.getViewportAdjustedDelta(n, t, l, c);
        u.left ? (t.left += u.left) : (t.top += u.top);
        var d = u.left ? 2 * u.left - r + l : 2 * u.top - s + c,
          p = u.left ? "left" : "top",
          h = u.left ? "offsetWidth" : "offsetHeight";
        i.offset(t), this.replaceArrow(d, i[0][h], p);
      }),
      (n.prototype.replaceArrow = function (e, t, n) {
        this.arrow().css(n, e ? 50 * (1 - e / t) + "%" : "");
      }),
      (n.prototype.setContent = function () {
        var e = this.tip(),
          t = this.getTitle();
        e.find(".tooltip-inner")[this.options.html ? "html" : "text"](t),
          e.removeClass("fade in top bottom left right");
      }),
      (n.prototype.hide = function () {
        function t() {
          "in" != n.hoverState && i.detach(),
            n.$element.trigger("hidden.bs." + n.type);
        }
        var n = this,
          i = this.tip(),
          r = e.Event("hide.bs." + this.type);
        return (
          this.$element.removeAttr("aria-describedby"),
          this.$element.trigger(r),
          r.isDefaultPrevented()
            ? void 0
            : (i.removeClass("in"),
              e.support.transition && this.$tip.hasClass("fade")
                ? i.one("bsTransitionEnd", t).emulateTransitionEnd(150)
                : t(),
              (this.hoverState = null),
              this)
        );
      }),
      (n.prototype.fixTitle = function () {
        var e = this.$element;
        (e.attr("title") || "string" != typeof e.attr("data-original-title")) &&
          e
            .attr("data-original-title", e.attr("title") || "")
            .attr("title", "");
      }),
      (n.prototype.hasContent = function () {
        return this.getTitle();
      }),
      (n.prototype.getPosition = function (t) {
        t = t || this.$element;
        var n = t[0],
          i = "BODY" == n.tagName;
        return e.extend(
          {},
          "function" == typeof n.getBoundingClientRect
            ? n.getBoundingClientRect()
            : null,
          {
            scroll: i
              ? document.documentElement.scrollTop || document.body.scrollTop
              : t.scrollTop(),
            width: i ? e(window).width() : t.outerWidth(),
            height: i ? e(window).height() : t.outerHeight(),
          },
          i
            ? {
                top: 0,
                left: 0,
              }
            : t.offset()
        );
      }),
      (n.prototype.getCalculatedOffset = function (e, t, n, i) {
        return "bottom" == e
          ? {
              top: t.top + t.height,
              left: t.left + t.width / 2 - n / 2,
            }
          : "top" == e
          ? {
              top: t.top - i,
              left: t.left + t.width / 2 - n / 2,
            }
          : "left" == e
          ? {
              top: t.top + t.height / 2 - i / 2,
              left: t.left - n,
            }
          : {
              top: t.top + t.height / 2 - i / 2,
              left: t.left + t.width,
            };
      }),
      (n.prototype.getViewportAdjustedDelta = function (e, t, n, i) {
        var r = {
          top: 0,
          left: 0,
        };
        if (!this.$viewport) return r;
        var s = (this.options.viewport && this.options.viewport.padding) || 0,
          o = this.getPosition(this.$viewport);
        if (/right|left/.test(e)) {
          var a = t.top - s - o.scroll,
            l = t.top + s - o.scroll + i;
          a < o.top
            ? (r.top = o.top - a)
            : l > o.top + o.height && (r.top = o.top + o.height - l);
        } else {
          var c = t.left - s,
            u = t.left + s + n;
          c < o.left
            ? (r.left = o.left - c)
            : u > o.width && (r.left = o.left + o.width - u);
        }
        return r;
      }),
      (n.prototype.getTitle = function () {
        var e,
          t = this.$element,
          n = this.options;
        return (e =
          t.attr("data-original-title") ||
          ("function" == typeof n.title ? n.title.call(t[0]) : n.title));
      }),
      (n.prototype.getUID = function (e) {
        do e += ~~(1e6 * Math.random());
        while (document.getElementById(e));
        return e;
      }),
      (n.prototype.tip = function () {
        return (this.$tip = this.$tip || e(this.options.template));
      }),
      (n.prototype.arrow = function () {
        return (this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow"));
      }),
      (n.prototype.validate = function () {
        this.$element[0].parentNode ||
          (this.hide(), (this.$element = null), (this.options = null));
      }),
      (n.prototype.enable = function () {
        this.enabled = !0;
      }),
      (n.prototype.disable = function () {
        this.enabled = !1;
      }),
      (n.prototype.toggleEnabled = function () {
        this.enabled = !this.enabled;
      }),
      (n.prototype.toggle = function (t) {
        var n = this;
        t &&
          ((n = e(t.currentTarget).data("bs." + this.type)),
          n ||
            ((n = new this.constructor(
              t.currentTarget,
              this.getDelegateOptions()
            )),
            e(t.currentTarget).data("bs." + this.type, n))),
          n.tip().hasClass("in") ? n.leave(n) : n.enter(n);
      }),
      (n.prototype.destroy = function () {
        clearTimeout(this.timeout),
          this.hide()
            .$element.off("." + this.type)
            .removeData("bs." + this.type);
      });
    var i = e.fn.tooltip;
    (e.fn.tooltip = t),
      (e.fn.tooltip.Constructor = n),
      (e.fn.tooltip.noConflict = function () {
        return (e.fn.tooltip = i), this;
      });
  })(jQuery),
  /* ========================================================================
   * Bootstrap: popover.js v3.2.0
   * http://getbootstrap.com/javascript/#popovers
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.popover"),
          s = "object" == typeof t && t;
        (r || "destroy" != t) &&
          (r || i.data("bs.popover", (r = new n(this, s))),
          "string" == typeof t && r[t]());
      });
    }
    var n = function (e, t) {
      this.init("popover", e, t);
    };
    if (!e.fn.tooltip) throw new Error("Popover requires tooltip.js");
    (n.VERSION = "3.2.0"),
      (n.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template:
          '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',
      })),
      (n.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype)),
      (n.prototype.constructor = n),
      (n.prototype.getDefaults = function () {
        return n.DEFAULTS;
      }),
      (n.prototype.setContent = function () {
        var e = this.tip(),
          t = this.getTitle(),
          n = this.getContent();
        e.find(".popover-title")[this.options.html ? "html" : "text"](t),
          e
            .find(".popover-content")
            .empty()
            [
              this.options.html
                ? "string" == typeof n
                  ? "html"
                  : "append"
                : "text"
            ](n),
          e.removeClass("fade top bottom left right in"),
          e.find(".popover-title").html() || e.find(".popover-title").hide();
      }),
      (n.prototype.hasContent = function () {
        return this.getTitle() || this.getContent();
      }),
      (n.prototype.getContent = function () {
        var e = this.$element,
          t = this.options;
        return (
          e.attr("data-content") ||
          ("function" == typeof t.content ? t.content.call(e[0]) : t.content)
        );
      }),
      (n.prototype.arrow = function () {
        return (this.$arrow = this.$arrow || this.tip().find(".arrow"));
      }),
      (n.prototype.tip = function () {
        return this.$tip || (this.$tip = e(this.options.template)), this.$tip;
      });
    var i = e.fn.popover;
    (e.fn.popover = t),
      (e.fn.popover.Constructor = n),
      (e.fn.popover.noConflict = function () {
        return (e.fn.popover = i), this;
      });
  })(jQuery),
  /* ========================================================================
   * Bootstrap: scrollspy.js v3.2.0
   * http://getbootstrap.com/javascript/#scrollspy
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(n, i) {
      var r = e.proxy(this.process, this);
      (this.$body = e("body")),
        (this.$scrollElement = e(e(n).is("body") ? window : n)),
        (this.options = e.extend({}, t.DEFAULTS, i)),
        (this.selector = (this.options.target || "") + " .nav li > a"),
        (this.offsets = []),
        (this.targets = []),
        (this.activeTarget = null),
        (this.scrollHeight = 0),
        this.$scrollElement.on("scroll.bs.scrollspy", r),
        this.refresh(),
        this.process();
    }
    function n(n) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.scrollspy"),
          s = "object" == typeof n && n;
        r || i.data("bs.scrollspy", (r = new t(this, s))),
          "string" == typeof n && r[n]();
      });
    }
    (t.VERSION = "3.2.0"),
      (t.DEFAULTS = {
        offset: 10,
      }),
      (t.prototype.getScrollHeight = function () {
        return (
          this.$scrollElement[0].scrollHeight ||
          Math.max(
            this.$body[0].scrollHeight,
            document.documentElement.scrollHeight
          )
        );
      }),
      (t.prototype.refresh = function () {
        var t = "offset",
          n = 0;
        e.isWindow(this.$scrollElement[0]) ||
          ((t = "position"), (n = this.$scrollElement.scrollTop())),
          (this.offsets = []),
          (this.targets = []),
          (this.scrollHeight = this.getScrollHeight());
        var i = this;
        this.$body
          .find(this.selector)
          .map(function () {
            var i = e(this),
              r = i.data("target") || i.attr("href"),
              s = /^#./.test(r) && e(r);
            return (
              (s && s.length && s.is(":visible") && [[s[t]().top + n, r]]) ||
              null
            );
          })
          .sort(function (e, t) {
            return e[0] - t[0];
          })
          .each(function () {
            i.offsets.push(this[0]), i.targets.push(this[1]);
          });
      }),
      (t.prototype.process = function () {
        var e,
          t = this.$scrollElement.scrollTop() + this.options.offset,
          n = this.getScrollHeight(),
          i = this.options.offset + n - this.$scrollElement.height(),
          r = this.offsets,
          s = this.targets,
          o = this.activeTarget;
        if ((this.scrollHeight != n && this.refresh(), t >= i))
          return o != (e = s[s.length - 1]) && this.activate(e);
        if (o && t <= r[0]) return o != (e = s[0]) && this.activate(e);
        for (e = r.length; e--; )
          o != s[e] &&
            t >= r[e] &&
            (!r[e + 1] || t <= r[e + 1]) &&
            this.activate(s[e]);
      }),
      (t.prototype.activate = function (t) {
        (this.activeTarget = t),
          e(this.selector)
            .parentsUntil(this.options.target, ".active")
            .removeClass("active");
        var n =
            this.selector +
            '[data-target="' +
            t +
            '"],' +
            this.selector +
            '[href="' +
            t +
            '"]',
          i = e(n).parents("li").addClass("active");
        i.parent(".dropdown-menu").length &&
          (i = i.closest("li.dropdown").addClass("active")),
          i.trigger("activate.bs.scrollspy");
      });
    var i = e.fn.scrollspy;
    (e.fn.scrollspy = n),
      (e.fn.scrollspy.Constructor = t),
      (e.fn.scrollspy.noConflict = function () {
        return (e.fn.scrollspy = i), this;
      }),
      e(window).on("load.bs.scrollspy.data-api", function () {
        e('[data-spy="scroll"]').each(function () {
          var t = e(this);
          n.call(t, t.data());
        });
      });
  })(jQuery),
  /* ========================================================================
   * Bootstrap: tab.js v3.2.0
   * http://getbootstrap.com/javascript/#tabs
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.tab");
        r || i.data("bs.tab", (r = new n(this))),
          "string" == typeof t && r[t]();
      });
    }
    var n = function (t) {
      this.element = e(t);
    };
    (n.VERSION = "3.2.0"),
      (n.prototype.show = function () {
        var t = this.element,
          n = t.closest("ul:not(.dropdown-menu)"),
          i = t.data("target");
        if (
          (i ||
            ((i = t.attr("href")), (i = i && i.replace(/.*(?=#[^\s]*$)/, ""))),
          !t.parent("li").hasClass("active"))
        ) {
          var r = n.find(".active:last a")[0],
            s = e.Event("show.bs.tab", {
              relatedTarget: r,
            });
          if ((t.trigger(s), !s.isDefaultPrevented())) {
            var o = e(i);
            this.activate(t.closest("li"), n),
              this.activate(o, o.parent(), function () {
                t.trigger({
                  type: "shown.bs.tab",
                  relatedTarget: r,
                });
              });
          }
        }
      }),
      (n.prototype.activate = function (t, n, i) {
        function r() {
          s
            .removeClass("active")
            .find("> .dropdown-menu > .active")
            .removeClass("active"),
            t.addClass("active"),
            o ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"),
            t.parent(".dropdown-menu") &&
              t.closest("li.dropdown").addClass("active"),
            i && i();
        }
        var s = n.find("> .active"),
          o = i && e.support.transition && s.hasClass("fade");
        o ? s.one("bsTransitionEnd", r).emulateTransitionEnd(150) : r(),
          s.removeClass("in");
      });
    var i = e.fn.tab;
    (e.fn.tab = t),
      (e.fn.tab.Constructor = n),
      (e.fn.tab.noConflict = function () {
        return (e.fn.tab = i), this;
      }),
      e(document).on(
        "click.bs.tab.data-api",
        '[data-toggle="tab"], [data-toggle="pill"]',
        function (n) {
          n.preventDefault(), t.call(e(this), "show");
        }
      );
  })(jQuery),
  /* ========================================================================
   * Bootstrap: affix.js v3.2.0
   * http://getbootstrap.com/javascript/#affix
   * ========================================================================
   * Copyright 2011-2014 Twitter, Inc.
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * ======================================================================== */
  +(function (e) {
    "use strict";
    function t(t) {
      return this.each(function () {
        var i = e(this),
          r = i.data("bs.affix"),
          s = "object" == typeof t && t;
        r || i.data("bs.affix", (r = new n(this, s))),
          "string" == typeof t && r[t]();
      });
    }
    var n = function (t, i) {
      (this.options = e.extend({}, n.DEFAULTS, i)),
        (this.$target = e(this.options.target)
          .on("scroll.bs.affix.data-api", e.proxy(this.checkPosition, this))
          .on(
            "click.bs.affix.data-api",
            e.proxy(this.checkPositionWithEventLoop, this)
          )),
        (this.$element = e(t)),
        (this.affixed = this.unpin = this.pinnedOffset = null),
        this.checkPosition();
    };
    (n.VERSION = "3.2.0"),
      (n.RESET = "affix affix-top affix-bottom"),
      (n.DEFAULTS = {
        offset: 0,
        target: window,
      }),
      (n.prototype.getPinnedOffset = function () {
        if (this.pinnedOffset) return this.pinnedOffset;
        this.$element.removeClass(n.RESET).addClass("affix");
        var e = this.$target.scrollTop(),
          t = this.$element.offset();
        return (this.pinnedOffset = t.top - e);
      }),
      (n.prototype.checkPositionWithEventLoop = function () {
        setTimeout(e.proxy(this.checkPosition, this), 1);
      }),
      (n.prototype.checkPosition = function () {
        if (this.$element.is(":visible")) {
          var t = e(document).height(),
            i = this.$target.scrollTop(),
            r = this.$element.offset(),
            s = this.options.offset,
            o = s.top,
            a = s.bottom;
          "object" != typeof s && (a = o = s),
            "function" == typeof o && (o = s.top(this.$element)),
            "function" == typeof a && (a = s.bottom(this.$element));
          var l =
            null != this.unpin && i + this.unpin <= r.top
              ? !1
              : null != a && r.top + this.$element.height() >= t - a
              ? "bottom"
              : null != o && o >= i
              ? "top"
              : !1;
          if (this.affixed !== l) {
            null != this.unpin && this.$element.css("top", "");
            var c = "affix" + (l ? "-" + l : ""),
              u = e.Event(c + ".bs.affix");
            this.$element.trigger(u),
              u.isDefaultPrevented() ||
                ((this.affixed = l),
                (this.unpin = "bottom" == l ? this.getPinnedOffset() : null),
                this.$element
                  .removeClass(n.RESET)
                  .addClass(c)
                  .trigger(e.Event(c.replace("affix", "affixed"))),
                "bottom" == l &&
                  this.$element.offset({
                    top: t - this.$element.height() - a,
                  }));
          }
        }
      });
    var i = e.fn.affix;
    (e.fn.affix = t),
      (e.fn.affix.Constructor = n),
      (e.fn.affix.noConflict = function () {
        return (e.fn.affix = i), this;
      }),
      e(window).on("load", function () {
        e('[data-spy="affix"]').each(function () {
          var n = e(this),
            i = n.data();
          (i.offset = i.offset || {}),
            i.offsetBottom && (i.offset.bottom = i.offsetBottom),
            i.offsetTop && (i.offset.top = i.offsetTop),
            t.call(n, i);
        });
      });
  })(jQuery),
  ($.fn.modal.Constructor.prototype.backdrop = function (e) {
    var t = this,
      n = this.$element.hasClass("fade") ? "fade" : "";
    if (this.isShown && this.options.backdrop) {
      var i = $.support.transition && n;
      if (
        ((this.$backdrop = $(
          '<div class="modal-backdrop ' + n + '" />'
        ).appendTo(this.$body)),
        this.$element.on(
          "click.dismiss.bs.modal",
          $.proxy(function (e) {
            e.target === e.currentTarget &&
              ("static" === this.options.backdrop
                ? this.$element[0].focus.call(this.$element[0])
                : this.hide.call(this));
          }, this)
        ),
        i && this.$backdrop[0].offsetWidth,
        this.$backdrop.addClass("in"),
        !e)
      )
        return;
      i
        ? this.$backdrop.one("bsTransitionEnd", e).emulateTransitionEnd(150)
        : e();
    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass("in");
      var r = function () {
        t.removeBackdrop(), e && e();
      };
      $.support.transition && this.$element.hasClass("fade")
        ? this.$backdrop.one("bsTransitionEnd", r).emulateTransitionEnd(150)
        : r();
    } else e && e();
  }),
  !(function (e) {
    e.expr[":"].icontains = function (t, n, i) {
      return e(t).text().toUpperCase().indexOf(i[3].toUpperCase()) >= 0;
    };
    var t = function (n, i, r) {
      r && (r.stopPropagation(), r.preventDefault()),
        (this.$element = e(n)),
        (this.$newElement = null),
        (this.$button = null),
        (this.$menu = null),
        (this.options = e.extend(
          {},
          e.fn.selectpicker.defaults,
          this.$element.data(),
          "object" == typeof i && i
        )),
        null == this.options.title &&
          (this.options.title = this.$element.attr("title")),
        (this.val = t.prototype.val),
        (this.render = t.prototype.render),
        (this.refresh = t.prototype.refresh),
        (this.setStyle = t.prototype.setStyle),
        (this.selectAll = t.prototype.selectAll),
        (this.deselectAll = t.prototype.deselectAll),
        this.init();
    };
    (t.prototype = {
      constructor: t,
      init: function () {
        this.$element.hide(), (this.multiple = this.$element.prop("multiple"));
        var t = this.$element.attr("id");
        if (
          ((this.$newElement = this.createView()),
          this.$element.after(this.$newElement),
          (this.$menu = this.$newElement.find("> .dropdown-menu")),
          (this.$button = this.$newElement.find("> button")),
          (this.$searchbox = this.$newElement.find("input")),
          (this.scrollListeners = []),
          (this.resizeListeners = []),
          (this.clickListeners = []),
          (this.touchstartListeners = []),
          void 0 !== t)
        ) {
          var n = this;
          this.$button.attr("data-id", t),
            e('label[for="' + t + '"]').click(function (e) {
              e.preventDefault(), n.$button.focus();
            });
        }
        this.checkDisabled(),
          this.clickListener(),
          this.liveSearchListener(),
          this.render(),
          this.liHeight(),
          this.setStyle(),
          this.setWidth(),
          this.options.container && this.selectPosition(),
          this.$menu.data("this", this),
          this.$newElement.data("this", this);
      },
      createDropdown: function () {
        var t = this.multiple ? " show-tick" : "",
          n = this.options.header
            ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' +
              this.options.header +
              "</div>"
            : "",
          i = this.options.liveSearch
            ? '<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>'
            : "",
          r =
            "<div class='btn-group bootstrap-select" +
            t +
            "'><button type='button' class='btn dropdown-toggle' data-toggle='dropdown'><div class='filter-option pull-left'></div>&nbsp;<div class='caret'></div></button><div class='dropdown-menu open'>" +
            n +
            i +
            "<ul class='dropdown-menu inner' role='menu'></ul></div></div>";
        return e(r);
      },
      createView: function () {
        var e = this.createDropdown(),
          t = this.createLi();
        return e.find("ul").append(t), e;
      },
      reloadLi: function () {
        this.destroyLi();
        var e = this.createLi();
        this.$menu.find("ul").append(e);
      },
      destroyLi: function () {
        this.$menu.find("li").remove();
      },
      createLi: function () {
        var t = this,
          n = [],
          i = "";
        return (
          this.$element.find("option").each(function () {
            var i = e(this),
              r = i.attr("class") || "",
              s = i.attr("style") || "",
              o = i.data("content") ? i.data("content") : i.html(),
              a =
                void 0 !== i.data("subtext")
                  ? '<small class="muted text-muted">' +
                    i.data("subtext") +
                    "</small>"
                  : "",
              l =
                void 0 !== i.data("icon")
                  ? '<i class="glyphicon ' + i.data("icon") + '"></i> '
                  : "";
            if (
              ("" !== l &&
                (i.is(":disabled") || i.parent().is(":disabled")) &&
                (l = "<span>" + l + "</span>"),
              i.data("content") ||
                (o = l + '<span class="text">' + o + a + "</span>"),
              t.options.hideDisabled &&
                (i.is(":disabled") || i.parent().is(":disabled")))
            )
              n.push('<a style="min-height: 0; padding: 0"></a>');
            else if (i.parent().is("optgroup") && 1 != i.data("divider"))
              if (0 == i.index()) {
                var c = i.parent().attr("label"),
                  u =
                    void 0 !== i.parent().data("subtext")
                      ? '<small class="muted text-muted">' +
                        i.parent().data("subtext") +
                        "</small>"
                      : "",
                  d = i.parent().data("icon")
                    ? '<i class="' + i.parent().data("icon") + '"></i> '
                    : "";
                (c = d + '<span class="text">' + c + u + "</span>"),
                  n.push(
                    0 != i[0].index
                      ? '<div class="div-contain"><div class="divider"></div></div><dt>' +
                          c +
                          "</dt>" +
                          t.createA(o, "opt " + r, s)
                      : "<dt>" + c + "</dt>" + t.createA(o, "opt " + r, s)
                  );
              } else n.push(t.createA(o, "opt " + r, s));
            else
              n.push(
                1 == i.data("divider")
                  ? '<div class="div-contain"><div class="divider"></div></div>'
                  : 1 == e(this).data("hidden")
                  ? ""
                  : t.createA(o, r, s)
              );
          }),
          e.each(n, function (e, t) {
            i += "<li rel=" + e + ">" + t + "</li>";
          }),
          this.multiple ||
            0 != this.$element.find("option:selected").length ||
            this.options.title ||
            this.$element
              .find("option")
              .eq(0)
              .prop("selected", !0)
              .attr("selected", "selected"),
          e(i)
        );
      },
      createA: function (e, t, n) {
        return (
          '<a tabindex="0" class="' +
          t +
          '" style="' +
          n +
          '">' +
          e +
          '<i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a>'
        );
      },
      render: function () {
        var t = this;
        this.$element.find("option").each(function (n) {
          t.setDisabled(
            n,
            e(this).is(":disabled") || e(this).parent().is(":disabled")
          ),
            t.setSelected(n, e(this).is(":selected"));
        }),
          this.tabIndex();
        var n = this.$element
            .find("option:selected")
            .map(function () {
              var n,
                i = e(this),
                r =
                  i.data("icon") && t.options.showIcon
                    ? '<i class="glyphicon ' + i.data("icon") + '"></i> '
                    : "";
              return (
                (n =
                  t.options.showSubtext && i.attr("data-subtext") && !t.multiple
                    ? ' <small class="muted text-muted">' +
                      i.data("subtext") +
                      "</small>"
                    : ""),
                i.data("content") && t.options.showContent
                  ? i.data("content")
                  : void 0 != i.attr("title")
                  ? i.attr("title")
                  : r + i.html() + n
              );
            })
            .toArray(),
          i = this.multiple ? n.join(", ") : n[0];
        if (
          this.multiple &&
          this.options.selectedTextFormat.indexOf("count") > -1
        ) {
          var r = this.options.selectedTextFormat.split(">"),
            s = this.options.hideDisabled ? ":not([disabled])" : "";
          ((r.length > 1 && n.length > r[1]) ||
            (1 == r.length && n.length >= 2)) &&
            (i = this.options.countSelectedText
              .replace("{0}", n.length)
              .replace(
                "{1}",
                this.$element.find(
                  'option:not([data-divider="true"]):not([data-hidden="true"])' +
                    s
                ).length
              ));
        }
        i ||
          (i =
            void 0 != this.options.title
              ? this.options.title
              : this.options.noneSelectedText),
          this.$newElement.find(".filter-option").html(i);
      },
      setStyle: function (e, t) {
        this.$element.attr("class") &&
          this.$newElement.addClass(
            this.$element
              .attr("class")
              .replace(/selectpicker|mobile-device/gi, "")
          );
        var n = e ? e : this.options.style;
        "add" == t
          ? this.$button.addClass(n)
          : "remove" == t
          ? this.$button.removeClass(n)
          : (this.$button.removeClass(this.options.style),
            this.$button.addClass(n));
      },
      liHeight: function () {
        var e = this.$newElement.clone();
        e.appendTo("body");
        var t = e.addClass("open").find("> .dropdown-menu"),
          n = t.find("li > a").outerHeight(),
          i = this.options.header ? t.find(".popover-title").outerHeight() : 0,
          r = this.options.liveSearch
            ? t.find(".bootstrap-select-searchbox").outerHeight()
            : 0;
        e.remove(),
          this.$newElement
            .data("liHeight", n)
            .data("headerHeight", i)
            .data("searchHeight", r);
      },
      setSize: function () {
        var t,
          n,
          i,
          r = this,
          s = this.$menu,
          o = s.find(".inner"),
          a = (o.find("li > a"), this.$newElement.outerHeight()),
          l = this.$newElement.data("liHeight"),
          c = this.$newElement.data("headerHeight"),
          u = this.$newElement.data("searchHeight"),
          d = s.find("li .divider").outerHeight(!0),
          p =
            parseInt(s.css("padding-top")) +
            parseInt(s.css("padding-bottom")) +
            parseInt(s.css("border-top-width")) +
            parseInt(s.css("border-bottom-width")),
          h = this.options.hideDisabled ? ":not(.disabled)" : "",
          f = e(window),
          m =
            p +
            parseInt(s.css("margin-top")) +
            parseInt(s.css("margin-bottom")) +
            2,
          g = function () {
            (n = r.$newElement.offset().top - f.scrollTop()),
              (i = f.height() - n - a);
          };
        if (
          (g(),
          this.options.header && s.css("padding-top", 0),
          "auto" == this.options.size)
        ) {
          var _ = function () {
            var e;
            g(),
              (t = i - m),
              r.$newElement.toggleClass(
                "dropup",
                n > i && t - m < s.height() && r.options.dropupAuto
              ),
              r.$newElement.hasClass("dropup") && (t = n - m),
              (e =
                s.find("li").length + s.find("dt").length > 3
                  ? 3 * l + m - 2
                  : 0),
              s.css({
                "max-height": t + "px",
                overflow: "hidden",
                "min-height": e + "px",
              }),
              o.css({
                "max-height": t - c - u - p + "px",
                "overflow-y": "auto",
                "min-height": e - p + "px",
              });
          };
          _(),
            e(window).resize(_),
            e(window).scroll(_),
            this.scrollListeners.push(_),
            this.resizeListeners.push(_);
        } else if (
          this.options.size &&
          "auto" != this.options.size &&
          s.find("li" + h).length > this.options.size
        ) {
          var v = s
              .find("li" + h + " > *")
              .filter(":not(.div-contain)")
              .slice(0, this.options.size)
              .last()
              .parent()
              .index(),
            y = s
              .find("li")
              .slice(0, v + 1)
              .find(".div-contain").length;
          (t = l * this.options.size + y * d + p),
            this.$newElement.toggleClass(
              "dropup",
              n > i && t < s.height() && this.options.dropupAuto
            ),
            s.css({
              "max-height": t + c + u + "px",
              overflow: "hidden",
            }),
            o.css({
              "max-height": t - p + "px",
              "overflow-y": "auto",
            });
        }
      },
      setWidth: function () {
        if ("auto" == this.options.width) {
          this.$menu.css("min-width", "0");
          var e = this.$newElement.clone().appendTo("body"),
            t = e.find("> .dropdown-menu").css("width");
          e.remove(), this.$newElement.css("width", t);
        } else
          "fit" == this.options.width
            ? (this.$menu.css("min-width", ""),
              this.$newElement.css("width", "").addClass("fit-width"))
            : this.options.width
            ? (this.$menu.css("min-width", ""),
              this.$newElement.css("width", this.options.width))
            : (this.$menu.css("min-width", ""),
              this.$newElement.css("width", ""));
        this.$newElement.hasClass("fit-width") &&
          "fit" !== this.options.width &&
          this.$newElement.removeClass("fit-width");
      },
      selectPosition: function () {
        var t,
          n,
          i = this,
          r = "<div />",
          s = e(r),
          o = function (e) {
            s
              .addClass(e.attr("class"))
              .toggleClass("dropup", e.hasClass("dropup")),
              (t = e.offset()),
              (n = e.hasClass("dropup") ? 0 : e[0].offsetHeight),
              s.css({
                top: t.top + n,
                left: t.left,
                width: e[0].offsetWidth,
                position: "absolute",
              });
          };
        this.$newElement.on("click", function () {
          o(e(this)),
            s.appendTo(i.options.container),
            s.toggleClass("open", !e(this).hasClass("open")),
            s.append(i.$menu);
        });
        var a = function () {
          o(i.$newElement);
        };
        e(window).resize(a), this.resizeListeners.push(a);
        var l = function () {
          o(i.$newElement);
        };
        e(window).on("scroll", l), this.scrollListeners.push(l);
        var c = function (t) {
          e(t.target).closest(i.$newElement).length < 1 &&
            s.removeClass("open");
        };
        e("html").on("click", c), this.clickListeners.push(c);
      },
      mobile: function () {
        this.$element.addClass("mobile-device").appendTo(this.$newElement),
          this.options.container && this.$menu.hide();
      },
      refresh: function () {
        this.reloadLi(),
          this.render(),
          this.setWidth(),
          this.setStyle(),
          this.checkDisabled(),
          this.liHeight();
      },
      update: function () {
        this.reloadLi(),
          this.setWidth(),
          this.setStyle(),
          this.checkDisabled(),
          this.liHeight();
      },
      setSelected: function (e, t) {
        this.$menu.find("li").eq(e).toggleClass("selected", t);
      },
      setDisabled: function (e, t) {
        t
          ? this.$menu
              .find("li")
              .eq(e)
              .addClass("disabled")
              .find("a")
              .attr("href", "#")
              .attr("tabindex", -1)
          : this.$menu
              .find("li")
              .eq(e)
              .removeClass("disabled")
              .find("a")
              .removeAttr("href")
              .attr("tabindex", 0);
      },
      isDisabled: function () {
        return this.$element.is(":disabled");
      },
      checkDisabled: function () {
        var e = this;
        this.isDisabled()
          ? this.$button.addClass("disabled").attr("tabindex", -1)
          : (this.$button.hasClass("disabled") &&
              this.$button.removeClass("disabled"),
            -1 == this.$button.attr("tabindex") &&
              (this.$element.data("tabindex") ||
                this.$button.removeAttr("tabindex"))),
          this.$button.click(function () {
            return !e.isDisabled();
          });
      },
      tabIndex: function () {
        this.$element.is("[tabindex]") &&
          (this.$element.data("tabindex", this.$element.attr("tabindex")),
          this.$button.attr("tabindex", this.$element.data("tabindex")));
      },
      clickListener: function () {
        var t = this,
          n = function (e) {
            e.stopPropagation();
          };
        e("body").on("touchstart.dropdown", ".dropdown-menu", n),
          this.touchstartListeners.push(n),
          this.$newElement.on("click", function () {
            t.setSize();
          }),
          this.$menu.on("click", "li a", function (n) {
            var i = e(this).parent().index(),
              r = (e(this).parent(), t.$element.val());
            if (
              (t.multiple && n.stopPropagation(),
              n.preventDefault(),
              !t.isDisabled() && !e(this).parent().hasClass("disabled"))
            ) {
              var s = t.$element.find("option"),
                o = s.eq(i);
              if (t.multiple) {
                var a = o.prop("selected");
                o.prop("selected", !a);
              } else s.prop("selected", !1), o.prop("selected", !0);
              t.$button.focus(), r != t.$element.val() && t.$element.change();
            }
          }),
          this.$menu.on(
            "click",
            "li.disabled a, li dt, li .div-contain, h3.popover-title",
            function (e) {
              e.target == this &&
                (e.preventDefault(), e.stopPropagation(), t.$button.focus());
            }
          ),
          this.$searchbox.on("click", function (e) {
            e.stopPropagation();
          }),
          this.$element.change(function () {
            t.render();
          });
      },
      liveSearchListener: function () {
        var e = this;
        this.$newElement.on("click.dropdown.data-api", function () {
          e.options.liveSearch &&
            setTimeout(function () {
              e.$searchbox.focus();
            }, 10);
        }),
          this.$searchbox.on("input", function () {
            e.$searchbox.val()
              ? e.$menu
                  .find("li")
                  .show()
                  .not(":icontains(" + e.$searchbox.val() + ")")
                  .hide()
              : e.$menu.find("li").show();
          });
      },
      val: function (e) {
        return void 0 != e
          ? (this.$element.val(e), this.$element.change(), this.$element)
          : this.$element.val();
      },
      selectAll: function () {
        this.$element
          .find("option")
          .prop("selected", !0)
          .attr("selected", "selected"),
          this.render();
      },
      deselectAll: function () {
        this.$element
          .find("option")
          .prop("selected", !1)
          .removeAttr("selected"),
          this.render();
      },
      keydown: function (t) {
        var n, i, r, s, o, a, l, c, u, d;
        if (
          ((n = e(this)),
          (r = n.parent()),
          (d = r.data("this")),
          d.options.container && (r = d.$menu),
          (i = e("[role=menu] li:not(.divider):visible a", r)),
          i.length)
        ) {
          if (/(38|40)/.test(t.keyCode))
            (s = i.index(i.filter(":focus"))),
              (a = i.parent(":not(.disabled)").first().index()),
              (l = i.parent(":not(.disabled)").last().index()),
              (o = i.eq(s).parent().nextAll(":not(.disabled)").eq(0).index()),
              (c = i.eq(s).parent().prevAll(":not(.disabled)").eq(0).index()),
              (u = i.eq(o).parent().prevAll(":not(.disabled)").eq(0).index()),
              38 == t.keyCode && (s != u && s > c && (s = c), a > s && (s = a)),
              40 == t.keyCode &&
                (s != u && o > s && (s = o),
                s > l && (s = l),
                -1 == s && (s = 0)),
              i.eq(s).focus();
          else {
            var p = {
                48: "0",
                49: "1",
                50: "2",
                51: "3",
                52: "4",
                53: "5",
                54: "6",
                55: "7",
                56: "8",
                57: "9",
                59: ";",
                65: "a",
                66: "b",
                67: "c",
                68: "d",
                69: "e",
                70: "f",
                71: "g",
                72: "h",
                73: "i",
                74: "j",
                75: "k",
                76: "l",
                77: "m",
                78: "n",
                79: "o",
                80: "p",
                81: "q",
                82: "r",
                83: "s",
                84: "t",
                85: "u",
                86: "v",
                87: "w",
                88: "x",
                89: "y",
                90: "z",
                96: "0",
                97: "1",
                98: "2",
                99: "3",
                100: "4",
                101: "5",
                102: "6",
                103: "7",
                104: "8",
                105: "9",
              },
              h = [];
            i.each(function () {
              e(this).parent().is(":not(.disabled)") &&
                e.trim(e(this).text().toLowerCase()).substring(0, 1) ==
                  p[t.keyCode] &&
                h.push(e(this).parent().index());
            });
            var f = e(document).data("keycount");
            f++, e(document).data("keycount", f);
            var m = e.trim(e(":focus").text().toLowerCase()).substring(0, 1);
            m != p[t.keyCode]
              ? ((f = 1), e(document).data("keycount", f))
              : f >= h.length && e(document).data("keycount", 0),
              i.eq(h[f - 1]).focus();
          }
          /(13|32)/.test(t.keyCode) &&
            (t.preventDefault(),
            e(":focus").click(),
            e(document).data("keycount", 0));
        }
      },
      hide: function () {
        this.$newElement.hide();
      },
      show: function () {
        this.$newElement.show();
      },
      destroy: function () {
        this.resizeListeners.forEach(function (t) {
          e(window).off("resize", t);
        }),
          this.scrollListeners.forEach(function (t) {
            e(window).off("scroll", t);
          }),
          this.clickListeners.forEach(function (t) {
            e("html").off("click", t);
          }),
          this.touchstartListeners.forEach(function (t) {
            e("body").off("touchstart.dropdown", ".dropdown-menu", t);
          }),
          e(document).off(
            "keydown",
            "[data-toggle=dropdown], [role=menu]",
            t.prototype.keydown
          ),
          this.$newElement.remove(),
          this.$element.remove();
        for (var n in this) this.hasOwnProperty(n) && (this[n] = null);
      },
    }),
      (e.fn.selectpicker = function (n, i) {
        var r,
          s = arguments,
          o = this.each(function () {
            if (e(this).is("select")) {
              var o = e(this),
                a = o.data("selectpicker"),
                l = "object" == typeof n && n;
              if (a) {
                if (l) for (var c in l) a.options[c] = l[c];
              } else o.data("selectpicker", (a = new t(this, l, i)));
              if ("string" == typeof n) {
                var u = n;
                a[u] instanceof Function
                  ? ([].shift.apply(s), (r = a[u].apply(a, s)))
                  : (r = a.options[u]);
              }
            }
          });
        return void 0 != r ? r : o;
      }),
      (e.fn.selectpicker.defaults = {
        style: "btn-default",
        size: "auto",
        title: null,
        selectedTextFormat: "values",
        noneSelectedText: "Nothing selected",
        countSelectedText: "{0} of {1} selected",
        width: !1,
        container: !1,
        hideDisabled: !1,
        showSubtext: !1,
        showIcon: !0,
        showContent: !0,
        dropupAuto: !0,
        header: !1,
        liveSearch: !1,
      }),
      e(document)
        .data("keycount", 0)
        .on(
          "keydown",
          "[data-toggle=dropdown], [role=menu]",
          t.prototype.keydown
        );
  })(window.jQuery),
  (function (e) {
    "function" == typeof define && define.amd
      ? define(["jquery"], function (t) {
          e(t, window, document);
        })
      : e(jQuery, window, document);
  })(function (e, t, n, i) {
    "use strict";
    function r(t, n) {
      (this.element = t),
        (this.options = e.extend({}, a, n)),
        (this._defaults = a),
        (this.ns = "." + s + o++),
        (this._name = s),
        this.init();
    }
    var s = "countrySelect",
      o = 1,
      a = {
        defaultCountry: "",
        defaultStyling: "inside",
        excludeCountries: [],
        onlyCountries: [],
        preferredCountries: ["us", "gb"],
      },
      l = {
        UP: 38,
        DOWN: 40,
        ENTER: 13,
        ESC: 27,
        PLUS: 43,
        A: 65,
        Z: 90,
        SPACE: 32,
        DELETE: 8,
        TAB: 9,
      },
      c = !1;
    e(t).on("load", function () {
      c = !0;
    }),
      (r.prototype = {
        init: function () {
          return (
            this._processCountryData(),
            this._generateMarkup(),
            this._setInitialState(),
            this._initListeners(),
            (this.autoCountryDeferred = new e.Deferred()),
            this._initAutoCountry(),
            this.autoCountryDeferred
          );
        },
        _processCountryData: function () {
          this._setInstanceCountryData(), this._setPreferredCountries();
        },
        _setInstanceCountryData: function () {
          var t = this;
          if (this.options.onlyCountries.length) {
            var n = [];
            e.each(this.options.onlyCountries, function (e, i) {
              var r = t._getCountryData(i, !0);
              r && n.push(r);
            }),
              (this.countries = n);
          } else if (this.options.excludeCountries.length) {
            var i = this.options.excludeCountries.map(function (e) {
              return e.toLowerCase();
            });
            this.countries = u.filter(function (e) {
              return -1 === i.indexOf(e.iso2);
            });
          } else this.countries = u;
        },
        _setPreferredCountries: function () {
          var t = this;
          (this.preferredCountries = []),
            e.each(this.options.preferredCountries, function (e, n) {
              var i = t._getCountryData(n, !1);
              i && t.preferredCountries.push(i);
            });
        },
        _generateMarkup: function () {
          this.countryInput = e(this.element);
          var t = "country-select";
          this.options.defaultStyling &&
            (t += " " + this.options.defaultStyling),
            this.countryInput.wrap(
              e("<div>", {
                class: t,
              })
            );
          var n = e("<div>", {
              class: "flag-dropdown",
            }).insertAfter(this.countryInput),
            i = e("<div>", {
              class: "flag-dropdown country-picker-right",
            }).insertAfter(this.countryInput),
            r = e("<div>", {
              class: "selected-flag",
            }).appendTo(n);
          this.selectedFlagInner = e("<div>", {
            class: "flag",
          }).appendTo(r);
          var s = e("<div>", {
            class: "selected-flag",
          }).appendTo(i);
          (this.selectedFlagInnerArrow = e("<div>", {
            class: "arrow",
          }).appendTo(s)),
            (this.countryList = e("<ul>", {
              class: "country-list v-hide",
            }).appendTo(n)),
            this.preferredCountries.length &&
              (this._appendListItems(this.preferredCountries, "preferred"),
              e("<li>", {
                class: "divider",
              }).appendTo(this.countryList)),
            this._appendListItems(this.countries, ""),
            (this.countryCodeInput = e(
              "#" + this.countryInput.attr("id") + "_code"
            )),
            this.countryCodeInput ||
              ((this.countryCodeInput = e(
                '<input type="hidden" id="' +
                  this.countryInput.attr("id") +
                  '_code" name="' +
                  this.countryInput.attr("name") +
                  '_code" value="" />'
              )),
              this.countryCodeInput.insertAfter(this.countryInput)),
            (this.dropdownHeight = this.countryList.outerHeight()),
            this.countryList.removeClass("v-hide").addClass("hide"),
            (this.countryListItems = this.countryList.children(".country"));
        },
        _appendListItems: function (t, n) {
          var i = "";
          e.each(t, function (e, t) {
            (i +=
              '<li class="country ' +
              n +
              '" data-country-code="' +
              t.iso2 +
              '">'),
              (i += '<div class="flag ' + t.iso2 + '"></div>'),
              (i += '<span class="country-name">' + t.name + "</span>"),
              (i += "</li>");
          }),
            this.countryList.append(i);
        },
        _setInitialState: function () {
          var e = !1;
          this.countryInput.val() && (e = this._updateFlagFromInputVal());
          var t = this.countryCodeInput.val();
          if ((t && this.selectCountry(t), !e)) {
            var n;
            this.options.defaultCountry
              ? ((n = this._getCountryData(this.options.defaultCountry, !1)),
                n ||
                  (n = this.preferredCountries.length
                    ? this.preferredCountries[0]
                    : this.countries[0]))
              : (n = this.preferredCountries.length
                  ? this.preferredCountries[0]
                  : this.countries[0]),
              (this.defaultCountry = n.iso2);
          }
        },
        _initListeners: function () {
          var e = this;
          this.countryInput.on("keyup" + this.ns, function () {
            e._updateFlagFromInputVal();
          });
          var t = this.selectedFlagInner.parent(),
            n = this.selectedFlagInnerArrow.parent();
          t.on("click" + this.ns, function () {
            e.countryList.hasClass("hide") &&
              !e.countryInput.prop("disabled") &&
              e._showDropdown();
          });
          var n = this.selectedFlagInnerArrow.parent();
          n.on("click" + this.ns, function () {
            e.countryList.hasClass("hide") &&
              !e.countryInput.prop("disabled") &&
              e._showDropdown();
          }),
            this.countryInput.on("blur" + this.ns, function () {
              e.countryInput.val() != e.getSelectedCountryData().name &&
                e.setCountry(e.countryInput.val()),
                e.countryInput.val(e.getSelectedCountryData().name);
            });
        },
        _initAutoCountry: function () {
          "auto" === this.options.initialCountry
            ? this._loadAutoCountry()
            : (this.selectCountry(this.defaultCountry),
              this.autoCountryDeferred.resolve());
        },
        _loadAutoCountry: function () {
          e.fn[s].autoCountry
            ? this.handleAutoCountry()
            : e.fn[s].startedLoadingAutoCountry ||
              ((e.fn[s].startedLoadingAutoCountry = !0),
              "function" == typeof this.options.geoIpLookup &&
                this.options.geoIpLookup(function (t) {
                  (e.fn[s].autoCountry = t.toLowerCase()),
                    setTimeout(function () {
                      e(".country-select input").countrySelect(
                        "handleAutoCountry"
                      );
                    });
                }));
        },
        _focus: function () {
          this.countryInput.focus();
          var e = this.countryInput[0];
          if (e.setSelectionRange) {
            var t = this.countryInput.val().length;
            e.setSelectionRange(t, t);
          }
        },
        _showDropdown: function () {
          this._setDropdownPosition();
          var e = this.countryList.children(".active");
          this._highlightListItem(e),
            this.countryList.removeClass("hide"),
            this._scrollTo(e),
            this._bindDropdownListeners(),
            this.selectedFlagInnerArrow
              .parent()
              .children(".arrow")
              .addClass("up");
        },
        _setDropdownPosition: function () {
          var n = this.countryInput.offset().top,
            i = e(t).scrollTop(),
            r =
              n + this.countryInput.outerHeight() + this.dropdownHeight <
              i + e(t).height(),
            s = n - this.dropdownHeight > i,
            o = !r && s ? this.countryInput.outerHeight() : "";
          this.countryList.css("bottom", o);
        },
        _bindDropdownListeners: function () {
          var t = this;
          this.countryList.on("mouseover" + this.ns, ".country", function () {
            t._highlightListItem(e(this));
          }),
            this.countryList.on("click" + this.ns, ".country", function () {
              t._selectListItem(e(this));
            });
          var i = !0;
          e("html").on("click" + this.ns, function () {
            i ||
              (t.settedValue && t.setCountry(t.settedValue.name),
              t._closeDropdown()),
              (i = !1);
          }),
            e(n).on("keydown" + this.ns, function (e) {
              e.preventDefault(),
                e.which == l.UP || e.which == l.DOWN
                  ? t._handleUpDownKey(e.which)
                  : e.which == l.ENTER
                  ? t._handleEnterKey()
                  : e.which == l.ESC
                  ? (t.settedValue && t.setCountry(t.settedValue.name),
                    t._closeDropdown())
                  : (e.which >= l.A && e.which <= l.Z) ||
                    e.which == l.SPACE ||
                    e.which == l.DELETE
                  ? t._handleLetterKey(e.key.charCodeAt(0), e.which == l.DELETE)
                  : e.which == l.TAB && t._handleTabKey();
            });
        },
        _handleTabKey: function () {
          this._handleEnterKey(), console.log(this.element);
          var t = e(this.element).closest("form").find(":focusable");
          t.eq(t.index(this.element) + 1).focus();
        },
        _handleUpDownKey: function (e) {
          var t = this._getNextElement(e);
          this._highlightListItem(t), this._scrollTo(t);
        },
        _getNextElement: function (t) {
          var n = "li:not(.hide, .divider)",
            i = this.countryList.children(".highlight").first()[0],
            r = this.countryList.children(n).toArray(),
            s = t == l.UP ? -1 : 1,
            o = r.indexOf(i),
            a = o + s;
          return e(0 > a || a > r.length - 1 ? i : r[a]);
        },
        _handleEnterKey: function () {
          var e = this.countryList.children(".highlight").first();
          e.length && this._selectListItem(e);
        },
        _handleLetterKey: function (t, n) {
          if (this.settedValue)
            if (n === !1)
              this.countryInput.val(
                this.countryInput.val() + String.fromCharCode(t)
              );
            else {
              var i = this.countryInput.val();
              this.countryInput.val(i.substring(0, i.length - 1));
            }
          else
            (this.settedValue = this.getSelectedCountryData()),
              this.countryInput.val(String.fromCharCode(t));
          var r = this.countryInput.val().replace(/(?=[()])/g, "\\"),
            s = this.countryListItems.filter(function () {
              var t = new RegExp("^" + r, "i"),
                n = e(this).text().match(t) && !e(this).hasClass("preferred");
              return (
                n ? e(this).removeClass("hide") : e(this).addClass("hide"), n
              );
            });
          if (s.length) {
            var o,
              a = s.filter(".highlight").first();
            (o =
              a && a.next() && a.next().text().charAt(0) == r
                ? a.next()
                : s.first()),
              this._highlightListItem(o),
              this._updateFlagFromInputVal(),
              this._scrollTo(o);
          } else this.countryListItems.removeClass("hide");
        },
        _updateFlagFromInputVal: function () {
          var t = this,
            n = this.countryInput.val().replace(/(?=[() ])/g, "\\");
          if (n) {
            for (
              var i = [], r = new RegExp("^" + n, "i"), s = 0;
              s < this.countries.length;
              s++
            )
              this.countries[s].name.match(r) && i.push(this.countries[s].iso2);
            var o = !1;
            return (
              e.each(i, function (e, n) {
                t.selectedFlagInner.hasClass(n) && (o = !0);
              }),
              o ||
                (this._selectFlag(i[0]),
                this.countryCodeInput.val(i[0]).trigger("change")),
              !0
            );
          }
          return !1;
        },
        _highlightListItem: function (e) {
          this.countryListItems.removeClass("highlight"),
            e.addClass("highlight");
        },
        _getCountryData: function (e, t) {
          for (var n = t ? u : this.countries, i = 0; i < n.length; i++)
            if (n[i].iso2 == e) return n[i];
          return null;
        },
        _selectFlag: function (e) {
          if (!e) return !1;
          this.selectedFlagInner.attr("class", "flag " + e);
          var t = this._getCountryData(e);
          this.selectedFlagInner.parent().attr("title", t.name);
          var n = this.countryListItems
            .children(".flag." + e)
            .first()
            .parent();
          this.countryListItems.removeClass("active"), n.addClass("active");
        },
        _selectListItem: function (e) {
          var t = e.attr("data-country-code");
          this._selectFlag(t),
            this._closeDropdown(),
            this._updateName(t),
            this.countryInput.trigger("change"),
            this.countryCodeInput.trigger("change"),
            this._focus();
        },
        _closeDropdown: function () {
          this.countryList.addClass("hide"),
            (this.settedValue = null),
            this.countryListItems.removeClass("hide"),
            this.selectedFlagInnerArrow
              .parent()
              .children(".arrow")
              .removeClass("up"),
            e(n).off("keydown" + this.ns),
            e("html").off("click" + this.ns),
            this.countryList.off(this.ns);
        },
        _scrollTo: function (e) {
          if (e && e.offset()) {
            var t = this.countryList,
              n = t.height(),
              i = t.offset().top,
              r = i + n,
              s = e.outerHeight(),
              o = e.offset().top,
              a = o + s,
              l = o - i + t.scrollTop();
            if (i > o) t.scrollTop(l);
            else if (a > r) {
              var c = n - s;
              t.scrollTop(l - c);
            }
          }
        },
        _updateName: function (e) {
          this.countryCodeInput.val(e).trigger("change"),
            this.countryInput.val(this._getCountryData(e).name);
        },
        handleAutoCountry: function () {
          "auto" === this.options.initialCountry &&
            ((this.defaultCountry = e.fn[s].autoCountry),
            this.countryInput.val() || this.selectCountry(this.defaultCountry),
            this.autoCountryDeferred.resolve());
        },
        getSelectedCountryData: function () {
          var e = this.selectedFlagInner.attr("class").split(" ")[1];
          return this._getCountryData(e);
        },
        selectCountry: function (e) {
          (e = e.toLowerCase()),
            this.selectedFlagInner.hasClass(e) ||
              (this._selectFlag(e), this._updateName(e));
        },
        setCountry: function (e) {
          this.countryInput.val(e), this._updateFlagFromInputVal();
        },
        destroy: function () {
          this.countryInput.off(this.ns),
            this.selectedFlagInner.parent().off(this.ns);
          var e = this.countryInput.parent();
          e.before(this.countryInput).remove();
        },
      }),
      (e.fn[s] = function (t) {
        var n = arguments;
        if (t === i || "object" == typeof t)
          return this.each(function () {
            e.data(this, "plugin_" + s) ||
              e.data(this, "plugin_" + s, new r(this, t));
          });
        if ("string" == typeof t && "_" !== t[0] && "init" !== t) {
          var o;
          return (
            this.each(function () {
              var i = e.data(this, "plugin_" + s);
              i instanceof r &&
                "function" == typeof i[t] &&
                (o = i[t].apply(i, Array.prototype.slice.call(n, 1))),
                "destroy" === t && e.data(this, "plugin_" + s, null);
            }),
            o !== i ? o : this
          );
        }
      }),
      (e.fn[s].getCountryData = function () {
        return u;
      }),
      (e.fn[s].setCountryData = function (e) {
        u = e;
      });
    var u = e.each(
      [
        {
          n: "Afghanistan (\u202b\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646\u202c\u200e)",
          i: "af",
        },
        {
          n: "\xc5land Islands (\xc5land)",
          i: "ax",
        },
        {
          n: "Albania (Shqip\xebri)",
          i: "al",
        },
        {
          n: "Algeria (\u202b\u0627\u0644\u062c\u0632\u0627\u0626\u0631\u202c\u200e)",
          i: "dz",
        },
        {
          n: "American Samoa",
          i: "as",
        },
        {
          n: "Andorra",
          i: "ad",
        },
        {
          n: "Angola",
          i: "ao",
        },
        {
          n: "Anguilla",
          i: "ai",
        },
        {
          n: "Antigua and Barbuda",
          i: "ag",
        },
        {
          n: "Argentina",
          i: "ar",
        },
        {
          n: "Armenia (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)",
          i: "am",
        },
        {
          n: "Aruba",
          i: "aw",
        },
        {
          n: "Australia",
          i: "au",
        },
        {
          n: "Austria (\xd6sterreich)",
          i: "at",
        },
        {
          n: "Azerbaijan (Az\u0259rbaycan)",
          i: "az",
        },
        {
          n: "Bahamas",
          i: "bs",
        },
        {
          n: "Bahrain (\u202b\u0627\u0644\u0628\u062d\u0631\u064a\u0646\u202c\u200e)",
          i: "bh",
        },
        {
          n: "Bangladesh (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)",
          i: "bd",
        },
        {
          n: "Barbados",
          i: "bb",
        },
        {
          n: "Belarus (\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c)",
          i: "by",
        },
        {
          n: "Belgium (Belgi\xeb)",
          i: "be",
        },
        {
          n: "Belize",
          i: "bz",
        },
        {
          n: "Benin (B\xe9nin)",
          i: "bj",
        },
        {
          n: "Bermuda",
          i: "bm",
        },
        {
          n: "Bhutan (\u0f60\u0f56\u0fb2\u0f74\u0f42)",
          i: "bt",
        },
        {
          n: "Bolivia",
          i: "bo",
        },
        {
          n: "Bosnia and Herzegovina (\u0411\u043e\u0441\u043d\u0430 \u0438 \u0425\u0435\u0440\u0446\u0435\u0433\u043e\u0432\u0438\u043d\u0430)",
          i: "ba",
        },
        {
          n: "Botswana",
          i: "bw",
        },
        {
          n: "Brazil (Brasil)",
          i: "br",
        },
        {
          n: "British Indian Ocean Territory",
          i: "io",
        },
        {
          n: "British Virgin Islands",
          i: "vg",
        },
        {
          n: "Brunei",
          i: "bn",
        },
        {
          n: "Bulgaria (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)",
          i: "bg",
        },
        {
          n: "Burkina Faso",
          i: "bf",
        },
        {
          n: "Burundi (Uburundi)",
          i: "bi",
        },
        {
          n: "Cambodia (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)",
          i: "kh",
        },
        {
          n: "Cameroon (Cameroun)",
          i: "cm",
        },
        {
          n: "Canada",
          i: "ca",
        },
        {
          n: "Cape Verde (Kabu Verdi)",
          i: "cv",
        },
        {
          n: "Caribbean Netherlands",
          i: "bq",
        },
        {
          n: "Cayman Islands",
          i: "ky",
        },
        {
          n: "Central African Republic (R\xe9publique Centrafricaine)",
          i: "cf",
        },
        {
          n: "Chad (Tchad)",
          i: "td",
        },
        {
          n: "Chile",
          i: "cl",
        },
        {
          n: "China (\u4e2d\u56fd)",
          i: "cn",
        },
        {
          n: "Christmas Island",
          i: "cx",
        },
        {
          n: "Cocos (Keeling) Islands (Kepulauan Cocos (Keeling))",
          i: "cc",
        },
        {
          n: "Colombia",
          i: "co",
        },
        {
          n: "Comoros (\u202b\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631\u202c\u200e)",
          i: "km",
        },
        {
          n: "Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",
          i: "cd",
        },
        {
          n: "Congo (Republic) (Congo-Brazzaville)",
          i: "cg",
        },
        {
          n: "Cook Islands",
          i: "ck",
        },
        {
          n: "Costa Rica",
          i: "cr",
        },
        {
          n: "C\xf4te d\u2019Ivoire",
          i: "ci",
        },
        {
          n: "Croatia (Hrvatska)",
          i: "hr",
        },
        {
          n: "Cuba",
          i: "cu",
        },
        {
          n: "Cura\xe7ao",
          i: "cw",
        },
        {
          n: "Cyprus (\u039a\u03cd\u03c0\u03c1\u03bf\u03c2)",
          i: "cy",
        },
        {
          n: "Czech Republic (\u010cesk\xe1 republika)",
          i: "cz",
        },
        {
          n: "Denmark (Danmark)",
          i: "dk",
        },
        {
          n: "Djibouti",
          i: "dj",
        },
        {
          n: "Dominica",
          i: "dm",
        },
        {
          n: "Dominican Republic (Rep\xfablica Dominicana)",
          i: "do",
        },
        {
          n: "Ecuador",
          i: "ec",
        },
        {
          n: "Egypt (\u202b\u0645\u0635\u0631\u202c\u200e)",
          i: "eg",
        },
        {
          n: "El Salvador",
          i: "sv",
        },
        {
          n: "Equatorial Guinea (Guinea Ecuatorial)",
          i: "gq",
        },
        {
          n: "Eritrea",
          i: "er",
        },
        {
          n: "Estonia (Eesti)",
          i: "ee",
        },
        {
          n: "Ethiopia",
          i: "et",
        },
        {
          n: "Falkland Islands (Islas Malvinas)",
          i: "fk",
        },
        {
          n: "Faroe Islands (F\xf8royar)",
          i: "fo",
        },
        {
          n: "Fiji",
          i: "fj",
        },
        {
          n: "Finland (Suomi)",
          i: "fi",
        },
        {
          n: "France",
          i: "fr",
        },
        {
          n: "French Guiana (Guyane fran\xe7aise)",
          i: "gf",
        },
        {
          n: "French Polynesia (Polyn\xe9sie fran\xe7aise)",
          i: "pf",
        },
        {
          n: "Gabon",
          i: "ga",
        },
        {
          n: "Gambia",
          i: "gm",
        },
        {
          n: "Georgia (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)",
          i: "ge",
        },
        {
          n: "Germany (Deutschland)",
          i: "de",
        },
        {
          n: "Ghana (Gaana)",
          i: "gh",
        },
        {
          n: "Gibraltar",
          i: "gi",
        },
        {
          n: "Greece (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)",
          i: "gr",
        },
        {
          n: "Greenland (Kalaallit Nunaat)",
          i: "gl",
        },
        {
          n: "Grenada",
          i: "gd",
        },
        {
          n: "Guadeloupe",
          i: "gp",
        },
        {
          n: "Guam",
          i: "gu",
        },
        {
          n: "Guatemala",
          i: "gt",
        },
        {
          n: "Guernsey",
          i: "gg",
        },
        {
          n: "Guinea (Guin\xe9e)",
          i: "gn",
        },
        {
          n: "Guinea-Bissau (Guin\xe9 Bissau)",
          i: "gw",
        },
        {
          n: "Guyana",
          i: "gy",
        },
        {
          n: "Haiti",
          i: "ht",
        },
        {
          n: "Honduras",
          i: "hn",
        },
        {
          n: "Hong Kong (\u9999\u6e2f)",
          i: "hk",
        },
        {
          n: "Hungary (Magyarorsz\xe1g)",
          i: "hu",
        },
        {
          n: "Iceland (\xcdsland)",
          i: "is",
        },
        {
          n: "India (\u092d\u093e\u0930\u0924)",
          i: "in",
        },
        {
          n: "Indonesia",
          i: "id",
        },
        {
          n: "Iran (\u202b\u0627\u06cc\u0631\u0627\u0646\u202c\u200e)",
          i: "ir",
        },
        {
          n: "Iraq (\u202b\u0627\u0644\u0639\u0631\u0627\u0642\u202c\u200e)",
          i: "iq",
        },
        {
          n: "Ireland",
          i: "ie",
        },
        {
          n: "Isle of Man",
          i: "im",
        },
        {
          n: "Israel (\u202b\u05d9\u05e9\u05e8\u05d0\u05dc\u202c\u200e)",
          i: "il",
        },
        {
          n: "Italy (Italia)",
          i: "it",
        },
        {
          n: "Jamaica",
          i: "jm",
        },
        {
          n: "Japan (\u65e5\u672c)",
          i: "jp",
        },
        {
          n: "Jersey",
          i: "je",
        },
        {
          n: "Jordan (\u202b\u0627\u0644\u0623\u0631\u062f\u0646\u202c\u200e)",
          i: "jo",
        },
        {
          n: "Kazakhstan (\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d)",
          i: "kz",
        },
        {
          n: "Kenya",
          i: "ke",
        },
        {
          n: "Kiribati",
          i: "ki",
        },
        {
          n: "Kosovo (Kosov\xeb)",
          i: "xk",
        },
        {
          n: "Kuwait (\u202b\u0627\u0644\u0643\u0648\u064a\u062a\u202c\u200e)",
          i: "kw",
        },
        {
          n: "Kyrgyzstan (\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d)",
          i: "kg",
        },
        {
          n: "Laos (\u0ea5\u0eb2\u0ea7)",
          i: "la",
        },
        {
          n: "Latvia (Latvija)",
          i: "lv",
        },
        {
          n: "Lebanon (\u202b\u0644\u0628\u0646\u0627\u0646\u202c\u200e)",
          i: "lb",
        },
        {
          n: "Lesotho",
          i: "ls",
        },
        {
          n: "Liberia",
          i: "lr",
        },
        {
          n: "Libya (\u202b\u0644\u064a\u0628\u064a\u0627\u202c\u200e)",
          i: "ly",
        },
        {
          n: "Liechtenstein",
          i: "li",
        },
        {
          n: "Lithuania (Lietuva)",
          i: "lt",
        },
        {
          n: "Luxembourg",
          i: "lu",
        },
        {
          n: "Macau (\u6fb3\u9580)",
          i: "mo",
        },
        {
          n: "Macedonia (FYROM) (\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430)",
          i: "mk",
        },
        {
          n: "Madagascar (Madagasikara)",
          i: "mg",
        },
        {
          n: "Malawi",
          i: "mw",
        },
        {
          n: "Malaysia",
          i: "my",
        },
        {
          n: "Maldives",
          i: "mv",
        },
        {
          n: "Mali",
          i: "ml",
        },
        {
          n: "Malta",
          i: "mt",
        },
        {
          n: "Marshall Islands",
          i: "mh",
        },
        {
          n: "Martinique",
          i: "mq",
        },
        {
          n: "Mauritania (\u202b\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627\u202c\u200e)",
          i: "mr",
        },
        {
          n: "Mauritius (Moris)",
          i: "mu",
        },
        {
          n: "Mayotte",
          i: "yt",
        },
        {
          n: "Mexico (M\xe9xico)",
          i: "mx",
        },
        {
          n: "Micronesia",
          i: "fm",
        },
        {
          n: "Moldova (Republica Moldova)",
          i: "md",
        },
        {
          n: "Monaco",
          i: "mc",
        },
        {
          n: "Mongolia (\u041c\u043e\u043d\u0433\u043e\u043b)",
          i: "mn",
        },
        {
          n: "Montenegro (Crna Gora)",
          i: "me",
        },
        {
          n: "Montserrat",
          i: "ms",
        },
        {
          n: "Morocco (\u202b\u0627\u0644\u0645\u063a\u0631\u0628\u202c\u200e)",
          i: "ma",
        },
        {
          n: "Mozambique (Mo\xe7ambique)",
          i: "mz",
        },
        {
          n: "Myanmar (Burma) (\u1019\u103c\u1014\u103a\u1019\u102c)",
          i: "mm",
        },
        {
          n: "Namibia (Namibi\xeb)",
          i: "na",
        },
        {
          n: "Nauru",
          i: "nr",
        },
        {
          n: "Nepal (\u0928\u0947\u092a\u093e\u0932)",
          i: "np",
        },
        {
          n: "Netherlands (Nederland)",
          i: "nl",
        },
        {
          n: "New Caledonia (Nouvelle-Cal\xe9donie)",
          i: "nc",
        },
        {
          n: "New Zealand",
          i: "nz",
        },
        {
          n: "Nicaragua",
          i: "ni",
        },
        {
          n: "Niger (Nijar)",
          i: "ne",
        },
        {
          n: "Nigeria",
          i: "ng",
        },
        {
          n: "Niue",
          i: "nu",
        },
        {
          n: "Norfolk Island",
          i: "nf",
        },
        {
          n: "North Korea (\uc870\uc120 \ubbfc\uc8fc\uc8fc\uc758 \uc778\ubbfc \uacf5\ud654\uad6d)",
          i: "kp",
        },
        {
          n: "Northern Mariana Islands",
          i: "mp",
        },
        {
          n: "Norway (Norge)",
          i: "no",
        },
        {
          n: "Oman (\u202b\u0639\u064f\u0645\u0627\u0646\u202c\u200e)",
          i: "om",
        },
        {
          n: "Pakistan (\u202b\u067e\u0627\u06a9\u0633\u062a\u0627\u0646\u202c\u200e)",
          i: "pk",
        },
        {
          n: "Palau",
          i: "pw",
        },
        {
          n: "Palestine (\u202b\u0641\u0644\u0633\u0637\u064a\u0646\u202c\u200e)",
          i: "ps",
        },
        {
          n: "Panama (Panam\xe1)",
          i: "pa",
        },
        {
          n: "Papua New Guinea",
          i: "pg",
        },
        {
          n: "Paraguay",
          i: "py",
        },
        {
          n: "Peru (Per\xfa)",
          i: "pe",
        },
        {
          n: "Philippines",
          i: "ph",
        },
        {
          n: "Pitcairn Islands",
          i: "pn",
        },
        {
          n: "Poland (Polska)",
          i: "pl",
        },
        {
          n: "Portugal",
          i: "pt",
        },
        {
          n: "Puerto Rico",
          i: "pr",
        },
        {
          n: "Qatar (\u202b\u0642\u0637\u0631\u202c\u200e)",
          i: "qa",
        },
        {
          n: "R\xe9union (La R\xe9union)",
          i: "re",
        },
        {
          n: "Romania (Rom\xe2nia)",
          i: "ro",
        },
        {
          n: "Russia (\u0420\u043e\u0441\u0441\u0438\u044f)",
          i: "ru",
        },
        {
          n: "Rwanda",
          i: "rw",
        },
        {
          n: "Saint Barth\xe9lemy (Saint-Barth\xe9lemy)",
          i: "bl",
        },
        {
          n: "Saint Helena",
          i: "sh",
        },
        {
          n: "Saint Kitts and Nevis",
          i: "kn",
        },
        {
          n: "Saint Lucia",
          i: "lc",
        },
        {
          n: "Saint Martin (Saint-Martin (partie fran\xe7aise))",
          i: "mf",
        },
        {
          n: "Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",
          i: "pm",
        },
        {
          n: "Saint Vincent and the Grenadines",
          i: "vc",
        },
        {
          n: "Samoa",
          i: "ws",
        },
        {
          n: "San Marino",
          i: "sm",
        },
        {
          n: "S\xe3o Tom\xe9 and Pr\xedncipe (S\xe3o Tom\xe9 e Pr\xedncipe)",
          i: "st",
        },
        {
          n: "Saudi Arabia (\u202b\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u202c\u200e)",
          i: "sa",
        },
        {
          n: "Senegal (S\xe9n\xe9gal)",
          i: "sn",
        },
        {
          n: "Serbia (\u0421\u0440\u0431\u0438\u0458\u0430)",
          i: "rs",
        },
        {
          n: "Seychelles",
          i: "sc",
        },
        {
          n: "Sierra Leone",
          i: "sl",
        },
        {
          n: "Singapore",
          i: "sg",
        },
        {
          n: "Sint Maarten",
          i: "sx",
        },
        {
          n: "Slovakia (Slovensko)",
          i: "sk",
        },
        {
          n: "Slovenia (Slovenija)",
          i: "si",
        },
        {
          n: "Solomon Islands",
          i: "sb",
        },
        {
          n: "Somalia (Soomaaliya)",
          i: "so",
        },
        {
          n: "South Africa",
          i: "za",
        },
        {
          n: "South Georgia & South Sandwich Islands",
          i: "gs",
        },
        {
          n: "South Korea (\ub300\ud55c\ubbfc\uad6d)",
          i: "kr",
        },
        {
          n: "South Sudan (\u202b\u062c\u0646\u0648\u0628 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)",
          i: "ss",
        },
        {
          n: "Spain (Espa\xf1a)",
          i: "es",
        },
        {
          n: "Sri Lanka (\u0dc1\u0dca\u200d\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)",
          i: "lk",
        },
        {
          n: "Sudan (\u202b\u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)",
          i: "sd",
        },
        {
          n: "Suriname",
          i: "sr",
        },
        {
          n: "Svalbard and Jan Mayen (Svalbard og Jan Mayen)",
          i: "sj",
        },
        {
          n: "Swaziland",
          i: "sz",
        },
        {
          n: "Sweden (Sverige)",
          i: "se",
        },
        {
          n: "Switzerland (Schweiz)",
          i: "ch",
        },
        {
          n: "Syria (\u202b\u0633\u0648\u0631\u064a\u0627\u202c\u200e)",
          i: "sy",
        },
        {
          n: "Taiwan (\u53f0\u7063)",
          i: "tw",
        },
        {
          n: "Tajikistan",
          i: "tj",
        },
        {
          n: "Tanzania",
          i: "tz",
        },
        {
          n: "Thailand (\u0e44\u0e17\u0e22)",
          i: "th",
        },
        {
          n: "Timor-Leste",
          i: "tl",
        },
        {
          n: "Togo",
          i: "tg",
        },
        {
          n: "Tokelau",
          i: "tk",
        },
        {
          n: "Tonga",
          i: "to",
        },
        {
          n: "Trinidad and Tobago",
          i: "tt",
        },
        {
          n: "Tunisia (\u202b\u062a\u0648\u0646\u0633\u202c\u200e)",
          i: "tn",
        },
        {
          n: "Turkey (T\xfcrkiye)",
          i: "tr",
        },
        {
          n: "Turkmenistan",
          i: "tm",
        },
        {
          n: "Turks and Caicos Islands",
          i: "tc",
        },
        {
          n: "Tuvalu",
          i: "tv",
        },
        {
          n: "Uganda",
          i: "ug",
        },
        {
          n: "Ukraine (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)",
          i: "ua",
        },
        {
          n: "United Arab Emirates (\u202b\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629\u202c\u200e)",
          i: "ae",
        },
        {
          n: "United Kingdom",
          i: "gb",
        },
        {
          n: "United States",
          i: "us",
        },
        {
          n: "U.S. Minor Outlying Islands",
          i: "um",
        },
        {
          n: "U.S. Virgin Islands",
          i: "vi",
        },
        {
          n: "Uruguay",
          i: "uy",
        },
        {
          n: "Uzbekistan (O\u02bbzbekiston)",
          i: "uz",
        },
        {
          n: "Vanuatu",
          i: "vu",
        },
        {
          n: "Vatican City (Citt\xe0 del Vaticano)",
          i: "va",
        },
        {
          n: "Venezuela",
          i: "ve",
        },
        {
          n: "Vietnam (Vi\u1ec7t Nam)",
          i: "vn",
        },
        {
          n: "Wallis and Futuna",
          i: "wf",
        },
        {
          n: "Western Sahara (\u202b\u0627\u0644\u0635\u062d\u0631\u0627\u0621 \u0627\u0644\u063a\u0631\u0628\u064a\u0629\u202c\u200e)",
          i: "eh",
        },
        {
          n: "Yemen (\u202b\u0627\u0644\u064a\u0645\u0646\u202c\u200e)",
          i: "ye",
        },
        {
          n: "Zambia",
          i: "zm",
        },
        {
          n: "Zimbabwe",
          i: "zw",
        },
      ],
      function (e, t) {
        (t.name = t.n), (t.iso2 = t.i), delete t.n, delete t.i;
      }
    );
  }),
  (function e(t, n, i) {
    function r(o, a) {
      if (!n[o]) {
        if (!t[o]) {
          var l = "function" == typeof require && require;
          if (!a && l) return l(o, !0);
          if (s) return s(o, !0);
          var c = new Error("Cannot find module '" + o + "'");
          throw ((c.code = "MODULE_NOT_FOUND"), c);
        }
        var u = (n[o] = {
          exports: {},
        });
        t[o][0].call(
          u.exports,
          function (e) {
            var n = t[o][1][e];
            return r(n ? n : e);
          },
          u,
          u.exports,
          e,
          t,
          n,
          i
        );
      }
      return n[o].exports;
    }
    for (
      var s = "function" == typeof require && require, o = 0;
      o < i.length;
      o++
    )
      r(i[o]);
    return r;
  })(
    {
      1: [
        function (e, t, n) {
          /*!
           * Module dependencies.
           */
          var i = e("./lib/envato-sso");
          t.exports = n = envatoSso = new i();
        },
        {
          "./lib/envato-sso": 5,
        },
      ],
      2: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e && "function" == typeof this.onError)
                    return this.onError(e.message, e);
                  if (t)
                    switch (t.state) {
                      case "ok":
                        if ("function" == typeof this.onSuccess)
                          return this.onSuccess(t.token);
                        throw i("missing-callback");
                      case "unauthenticated":
                        if ("function" == typeof this.onFailure)
                          return this.onFailure(
                            "No active session on Envato SSO"
                          );
                    }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      3: [
        function (e, t) {
          function n(e, t, n, i, r) {
            (this.method = e),
              (this.url = t),
              (this.timeout = n),
              (this.data = i || {}),
              (this.withCredentials = r || !1);
          }
          var i = e("component-type"),
            r = e("qs"),
            s = e("./uuid"),
            o = e("./cors-xhr"),
            a = e("./errors");
          (t.exports = n),
            (n.prototype.execute = function (e) {
              return "undefined" == i(o) || "null" == i(o)
                ? e(a("no-cors-support"))
                : this.xhr(e);
            }),
            (n.prototype.xhr = function (e) {
              var t = new o(),
                n = r.stringify(this.data);
              "get" === this.method && (this.url += "?" + n),
                t.open(this.method, this.url),
                (t.timeout = this.timeout),
                t.setRequestHeader("Accept", "application/json");
              var i = s.generate();
              t.setRequestHeader("X-Request-Id", i),
                (t.withCredentials = this.withCredentials),
                "post" === this.method || "put" === this.method
                  ? (t.setRequestHeader &&
                      t.setRequestHeader(
                        "Content-type",
                        "application/x-www-form-urlencoded"
                      ),
                    t.send(n))
                  : t.send();
              var l = function (e) {
                return {
                  message: e,
                  requestId: i,
                  responseText: t.responseText,
                  responseStatus: t.status,
                };
              };
              (t.ontimeout = function () {
                e(a("api-timeout", l("XMLHttpRequest.ontimeout")));
              }),
                (t.onerror = function () {
                  e(
                    a(
                      "api-error",
                      l("Network level failure (XMLHttpRequest.onerror)")
                    )
                  );
                }),
                (t.onprogress = function () {}),
                (t.onload = function () {
                  var t;
                  switch (this.status) {
                    case 200:
                    case 201:
                      try {
                        t = JSON.parse(this.responseText);
                      } catch (n) {
                        return e(
                          a(
                            "api-error",
                            l("There was a problem parsing the API response.")
                          )
                        );
                      }
                      break;
                    case 204:
                      t = {};
                      break;
                    case 404:
                      return e(a("api-error", l("API endpoint not found.")));
                    case 406:
                      return e(
                        a("api-error", l("API endpoint method not available."))
                      );
                    case 422:
                      try {
                        t = JSON.parse(this.responseText);
                      } catch (n) {
                        return e(
                          a(
                            "api-error",
                            l("There was a problem parsing the API response.")
                          )
                        );
                      }
                      break;
                    case 429:
                      return e(a("api-error", l("Too many requests.")));
                    default:
                      return e(
                        a("api-error", l("There was an unknown server error."))
                      );
                  }
                  e(null, t);
                });
            });
        },
        {
          "./cors-xhr": 4,
          "./errors": 6,
          "./uuid": 16,
          "component-type": 20,
          qs: 23,
        },
      ],
      4: [
        function (e, t) {
          var n = e("global/window");
          t.exports = (function (e) {
            var t = e.XMLHttpRequest,
              n = e.XDomainRequest;
            return t && "withCredentials" in new t() ? t : n ? n : void 0;
          })(n);
        },
        {
          "global/window": 21,
        },
      ],
      5: [
        function (e, t) {
          function n(e) {
            (this.config = i({}, g)), e && this.configure(e);
          }
          var i = e("./merge"),
            r = e("./sign-in"),
            s = e("./sign-in-verification"),
            o = e("./auto-sign-in"),
            a = e("./sign-out"),
            l = e("./sign-up"),
            c = e("./update-account"),
            u = e("./reset-password"),
            d = e("./validations/username"),
            p = e("./validations/password"),
            h = e("./validations/email"),
            f = e("./requests/password-reset"),
            m = e("./requests/recover-username"),
            g =
              (e("./errors"),
              {
                serverHost: "https://account.envato.com",
                signInPath: "/sign_in",
                signUpPath: "/api/users",
                signUpGuestPath: "/api/guests/sign_up",
                updateAccountPath: "/api/update_account",
                signInVerificationPath: "/api/verify_sign_in",
                autoSignInPath: "/api/auto_sign_in",
                signOutPath: "/api/session",
                passwordStrengthPath: "/api/validate_password",
                usernameAvailabilityPath: "/api/validate_username",
                emailValidationPath: "/api/validate_email",
                resetPasswordRequestPath: "/api/request_password_reset",
                recoverUsernameRequestPath: "/api/recover_username",
                resetPasswordPath: "/api/reset_password",
                timeout: 1e4,
                withCredentials: !1,
              });
          (t.exports = n),
            (n.prototype.configure = function (e) {
              this.config = i(this.config, e);
            }),
            (n.prototype.signIn = function (e) {
              var t = {
                  endpoint: this.config.serverHost + this.config.signInPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                s = new r(n);
              s.execute();
            }),
            (n.prototype.signInVerification = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.signInVerificationPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                r = new s(n);
              r.execute();
            }),
            (n.prototype.autoSignIn = function (e) {
              var t = {
                  endpoint: this.config.serverHost + this.config.autoSignInPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                r = new o(n);
              r.execute();
            }),
            (n.prototype.signOut = function (e) {
              var t = {
                  endpoint: this.config.serverHost + this.config.signOutPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                r = new a(n);
              r.execute();
            }),
            (n.prototype.signUp = function (e) {
              var t = {
                  endpoint: this.config.serverHost + this.config.signUpPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                r = new l(n);
              r.execute();
            }),
            (n.prototype.signUpGuest = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.signUpGuestPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = i(t, e),
                r = new l(n);
              r.execute();
            }),
            (n.prototype.usernameAvailability = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost +
                    this.config.usernameAvailabilityPath,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new d(t));
              n.execute();
            }),
            (n.prototype.passwordValidation = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.passwordStrengthPath,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new p(t));
              n.execute();
            }),
            (n.prototype.emailValidation = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.emailValidationPath,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new h(t));
              n.execute();
            }),
            (n.prototype.passwordResetRequest = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost +
                    this.config.resetPasswordRequestPath,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new f(t));
              n.execute();
            }),
            (n.prototype.recoverUsernameRequest = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost +
                    this.config.recoverUsernameRequestPath,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new m(t));
              n.execute();
            }),
            (n.prototype.resetPassword = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.resetPasswordPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new u(t));
              n.execute();
            }),
            (n.prototype.updateAccount = function (e) {
              var t = {
                  endpoint:
                    this.config.serverHost + this.config.updateAccountPath,
                  withCredentials: !0,
                  timeout: this.config.timeout,
                },
                n = (i(t, e), new c(t));
              n.execute();
            });
        },
        {
          "./auto-sign-in": 2,
          "./errors": 6,
          "./merge": 7,
          "./requests/password-reset": 8,
          "./requests/recover-username": 9,
          "./reset-password": 10,
          "./sign-in": 12,
          "./sign-in-verification": 11,
          "./sign-out": 13,
          "./sign-up": 14,
          "./update-account": 15,
          "./validations/email": 17,
          "./validations/password": 18,
          "./validations/username": 19,
        },
      ],
      6: [
        function (e, t, n) {
          function i(e, t) {
            return i.get(e, t);
          }
          var r = e("merge");
          (t.exports = n = i),
            (i.map = {}),
            (i.get = function (e, t) {
              if (e in i.map) return new i.map[e](t);
              throw new Error("invalid error");
            }),
            (i.add = function (e, t) {
              function n(n) {
                Error.call(this),
                  (this.name = this.code = e),
                  (this.message = t.message),
                  r(this, n || {});
              }
              return (t = t || {}), (n.prototype = new Error()), (i.map[e] = n);
            }),
            i.add("api-error", {
              message: "There was an error with your request.",
            }),
            i.add("api-timeout", {
              message: "The API request timed out.",
            }),
            i.add("missing-callback", {
              message: "Missing callback.",
            }),
            i.add("invalid-options", {
              message: "Options must be an object.",
            }),
            i.add("no-cors-support", {
              message: "This browser does not support CORS requests.",
            });
        },
        {
          merge: 22,
        },
      ],
      7: [
        function (e, t) {
          t.exports = function (e, t) {
            for (var n in t) e[n] = t[n];
            return e;
          };
        },
        {},
      ],
      8: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("../errors"),
            r = e("../cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (t.error) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.error);
                      throw i("missing-callback");
                    }
                    if ("function" == typeof this.onSuccess)
                      return this.onSuccess(
                        "Password reset email triggered on SSO"
                      );
                    throw i("missing-callback");
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "../cors-request": 3,
          "../errors": 6,
        },
      ],
      9: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("../errors"),
            r = e("../cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if ("function" == typeof this.onSuccess)
                      return this.onSuccess(
                        "Forgot username email triggered on SSO"
                      );
                    throw i("missing-callback");
                  }
                  if ("function" == typeof this.onFailure)
                    return this.onFailure(
                      "Unable to trigger forgot username email on SSO"
                    );
                  throw i("missing-callback");
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "../cors-request": 3,
          "../errors": 6,
        },
      ],
      10: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (t.token) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess(t.token);
                      throw i("missing-callback");
                    }
                    if (t.error) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.error);
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      11: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (t.token) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess(t.token);
                      throw i("missing-callback");
                    }
                    if (t.error) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.error);
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      12: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError),
              (this.onCaptchaRequired = e.onCaptchaRequired),
              (this.onCaptchaInvalid = e.onCaptchaInvalid),
              (this.onTwoFactorRequired = e.onTwoFactorRequired),
              (this.onTwoFactorInvalid = e.onTwoFactorInvalid),
              (this.onSignInVerification = e.onSignInVerification),
              (this.onForcedPasswordReset = e.onForcedPasswordReset),
              (this.onEmailConfirmationRequired =
                e.onEmailConfirmationRequired);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t)
                    switch (t.state) {
                      case "ok":
                        if ("function" == typeof this.onSuccess)
                          return this.onSuccess(t.token);
                        throw i("missing-callback");
                      case "password":
                        if ("function" == typeof this.onFailure)
                          return this.onFailure(t.error_message);
                        throw i("missing-callback");
                      case "captcha":
                        if (null != t.error_message) {
                          if (
                            t.error_message.indexOf(
                              "Looks like these are not your correct details"
                            ) >= 0
                          )
                            return this.onFailure(t.error_message);
                          if ("function" == typeof this.onCaptchaInvalid)
                            return this.onCaptchaInvalid(t.error_message);
                          throw i("missing-callback");
                        }
                        if ("function" == typeof this.onCaptchaRequired)
                          return this.onCaptchaRequired();
                        throw i("missing-callback");
                      case "two_factor":
                        if (null != t.error_message) {
                          if ("function" == typeof this.onTwoFactorInvalid)
                            return this.onTwoFactorInvalid(t.error_message);
                          throw i("missing-callback");
                        }
                        if ("function" == typeof this.onTwoFactorRequired)
                          return this.onTwoFactorRequired();
                        throw i("missing-callback");
                      case "sign_in_verification":
                        if ("function" == typeof this.onSignInVerification)
                          return this.onSignInVerification(
                            t.sign_in_verification_token
                          );
                        throw i("missing-callback");
                      case "password_reset_required":
                        if ("function" == typeof this.onForcedPasswordReset)
                          return this.onForcedPasswordReset(
                            "Forced password reset"
                          );
                        throw i("missing-callback");
                      case "email_confirmation_required":
                        if (
                          "function" == typeof this.onEmailConfirmationRequired
                        )
                          return this.onEmailConfirmationRequired();
                        throw i("missing-callback");
                      default:
                        return this.onFailure(
                          t.error_message ? t.error_message : "Unknown failure."
                        );
                    }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      13: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "delete"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onError = e.onError);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if ("function" == typeof this.onSuccess)
                      return this.onSuccess();
                    throw i("missing-callback");
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      14: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError),
              (this.onEmailConfirmationRequired =
                e.onEmailConfirmationRequired);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (t.token) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess(t.token);
                      throw i("missing-callback");
                    }
                    if (t.errors) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.errors);
                      throw i("missing-callback");
                    }
                    if ("email_confirmation_required" == t.state) {
                      if ("function" == typeof this.onEmailConfirmationRequired)
                        return this.onEmailConfirmationRequired();
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      15: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.withCredentials = e.withCredentials),
              (this.httpMethod = "put"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("./errors"),
            r = e("./cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data,
                  this.withCredentials
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (t.errors) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.errors);
                      throw i("missing-callback");
                    }
                    if ("function" == typeof this.onSuccess)
                      return this.onSuccess();
                    throw i("missing-callback");
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "./cors-request": 3,
          "./errors": 6,
        },
      ],
      16: [
        function (e, t) {
          t.exports = {
            generate: function () {
              return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
                /[xy]/g,
                function (e) {
                  var t = (16 * Math.random()) | 0,
                    n = "x" == e ? t : (3 & t) | 8;
                  return n.toString(16);
                }
              );
            },
          };
        },
        {},
      ],
      17: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("../errors"),
            r = e("../cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (1 == t.valid) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess("Email not in use");
                      throw i("missing-callback");
                    }
                    if (0 == t.valid) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.error);
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "../cors-request": 3,
          "../errors": 6,
        },
      ],
      18: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("../errors"),
            r = e("../cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (1 == t.acceptable) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess(t.strength);
                      throw i("missing-callback");
                    }
                    if (0 == t.acceptable) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.strength);
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "../cors-request": 3,
          "../errors": 6,
        },
      ],
      19: [
        function (e, t) {
          function n(e) {
            (this.endpoint = e.endpoint),
              (this.timeout = e.timeout),
              (this.httpMethod = "post"),
              (this.data = e.data),
              (this.onSuccess = e.onSuccess),
              (this.onFailure = e.onFailure),
              (this.onError = e.onError);
          }
          var i = e("../errors"),
            r = e("../cors-request");
          (t.exports = n),
            (n.prototype.execute = function () {
              var e = new r(
                  this.httpMethod,
                  this.endpoint,
                  this.timeout,
                  this.data
                ),
                t = function (e, t) {
                  if (e) {
                    if ("function" == typeof this.onError)
                      return this.onError(e.message, e);
                    throw i("missing-callback");
                  }
                  if (t) {
                    if (1 == t.valid) {
                      if ("function" == typeof this.onSuccess)
                        return this.onSuccess("Username is available");
                      throw i("missing-callback");
                    }
                    if (0 == t.valid) {
                      if ("function" == typeof this.onFailure)
                        return this.onFailure(t.error);
                      throw i("missing-callback");
                    }
                  }
                },
                n = this;
              e.execute(function () {
                t.apply(n, arguments);
              });
            });
        },
        {
          "../cors-request": 3,
          "../errors": 6,
        },
      ],
      20: [
        function (e, t) {
          function n(e) {
            return !(
              null == e ||
              !(
                e._isBuffer ||
                (e.constructor &&
                  "function" == typeof e.constructor.isBuffer &&
                  e.constructor.isBuffer(e))
              )
            );
          }
          var i = Object.prototype.toString;
          t.exports = function (e) {
            switch (i.call(e)) {
              case "[object Date]":
                return "date";
              case "[object RegExp]":
                return "regexp";
              case "[object Arguments]":
                return "arguments";
              case "[object Array]":
                return "array";
              case "[object Error]":
                return "error";
            }
            return null === e
              ? "null"
              : void 0 === e
              ? "undefined"
              : e !== e
              ? "nan"
              : e && 1 === e.nodeType
              ? "element"
              : n(e)
              ? "buffer"
              : ((e = e.valueOf
                  ? e.valueOf()
                  : Object.prototype.valueOf.apply(e)),
                typeof e);
          };
        },
        {},
      ],
      21: [
        function (e, t) {
          (function (e) {
            var n;
            (n =
              "undefined" != typeof window
                ? window
                : "undefined" != typeof e
                ? e
                : "undefined" != typeof self
                ? self
                : {}),
              (t.exports = n);
          }.call(
            this,
            "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : {}
          ));
        },
        {},
      ],
      22: [
        function (e, t) {
          !(function (e) {
            function n(e, t) {
              if ("object" !== r(e)) return t;
              for (var i in t)
                e[i] =
                  "object" === r(e[i]) && "object" === r(t[i])
                    ? n(e[i], t[i])
                    : t[i];
              return e;
            }
            function i(e, t, i) {
              var o = i[0],
                a = i.length;
              (e || "object" !== r(o)) && (o = {});
              for (var l = 0; a > l; ++l) {
                var c = i[l],
                  u = r(c);
                if ("object" === u)
                  for (var d in c) {
                    var p = e ? s.clone(c[d]) : c[d];
                    o[d] = t ? n(o[d], p) : p;
                  }
              }
              return o;
            }
            function r(e) {
              return {}.toString.call(e).slice(8, -1).toLowerCase();
            }
            var s = function (e) {
                return i(e === !0, !1, arguments);
              },
              o = "merge";
            (s.recursive = function (e) {
              return i(e === !0, !0, arguments);
            }),
              (s.clone = function (e) {
                var t,
                  n,
                  i = e,
                  o = r(e);
                if ("array" === o)
                  for (i = [], n = e.length, t = 0; n > t; ++t)
                    i[t] = s.clone(e[t]);
                else if ("object" === o) {
                  i = {};
                  for (t in e) i[t] = s.clone(e[t]);
                }
                return i;
              }),
              e ? (t.exports = s) : (window[o] = s);
          })(
            "object" == typeof t &&
              t &&
              "object" == typeof t.exports &&
              t.exports
          );
        },
        {},
      ],
      23: [
        function (e, t) {
          t.exports = e("./lib/");
        },
        {
          "./lib/": 24,
        },
      ],
      24: [
        function (e, t) {
          var n = e("./stringify"),
            i = e("./parse");
          t.exports = {
            stringify: n,
            parse: i,
          };
        },
        {
          "./parse": 25,
          "./stringify": 26,
        },
      ],
      25: [
        function (e, t) {
          var n = e("./utils"),
            i = {
              delimiter: "&",
              depth: 5,
              arrayLimit: 20,
              parameterLimit: 1e3,
            };
          (i.parseValues = function (e, t) {
            for (
              var i = {},
                r = e.split(
                  t.delimiter,
                  1 / 0 === t.parameterLimit ? void 0 : t.parameterLimit
                ),
                s = 0,
                o = r.length;
              o > s;
              ++s
            ) {
              var a = r[s],
                l =
                  -1 === a.indexOf("]=") ? a.indexOf("=") : a.indexOf("]=") + 1;
              if (-1 === l) i[n.decode(a)] = "";
              else {
                var c = n.decode(a.slice(0, l)),
                  u = n.decode(a.slice(l + 1));
                i[c] = Object.prototype.hasOwnProperty.call(i, c)
                  ? [].concat(i[c]).concat(u)
                  : u;
              }
            }
            return i;
          }),
            (i.parseObject = function (e, t, n) {
              if (!e.length) return t;
              var r = e.shift(),
                s = {};
              if ("[]" === r) (s = []), (s = s.concat(i.parseObject(e, t, n)));
              else {
                var o =
                    "[" === r[0] && "]" === r[r.length - 1]
                      ? r.slice(1, r.length - 1)
                      : r,
                  a = parseInt(o, 10),
                  l = "" + a;
                !isNaN(a) && r !== o && l === o && a >= 0 && a <= n.arrayLimit
                  ? ((s = []), (s[a] = i.parseObject(e, t, n)))
                  : (s[o] = i.parseObject(e, t, n));
              }
              return s;
            }),
            (i.parseKeys = function (e, t, n) {
              if (e) {
                var r = /^([^\[\]]*)/,
                  s = /(\[[^\[\]]*\])/g,
                  o = r.exec(e);
                if (!Object.prototype.hasOwnProperty(o[1])) {
                  var a = [];
                  o[1] && a.push(o[1]);
                  for (var l = 0; null !== (o = s.exec(e)) && l < n.depth; )
                    ++l,
                      Object.prototype.hasOwnProperty(
                        o[1].replace(/\[|\]/g, "")
                      ) || a.push(o[1]);
                  return (
                    o && a.push("[" + e.slice(o.index) + "]"),
                    i.parseObject(a, t, n)
                  );
                }
              }
            }),
            (t.exports = function (e, t) {
              if ("" === e || null === e || "undefined" == typeof e) return {};
              (t = t || {}),
                (t.delimiter =
                  "string" == typeof t.delimiter || n.isRegExp(t.delimiter)
                    ? t.delimiter
                    : i.delimiter),
                (t.depth = "number" == typeof t.depth ? t.depth : i.depth),
                (t.arrayLimit =
                  "number" == typeof t.arrayLimit
                    ? t.arrayLimit
                    : i.arrayLimit),
                (t.parameterLimit =
                  "number" == typeof t.parameterLimit
                    ? t.parameterLimit
                    : i.parameterLimit);
              for (
                var r = "string" == typeof e ? i.parseValues(e, t) : e,
                  s = {},
                  o = Object.keys(r),
                  a = 0,
                  l = o.length;
                l > a;
                ++a
              ) {
                var c = o[a],
                  u = i.parseKeys(c, r[c], t);
                s = n.merge(s, u);
              }
              return n.compact(s);
            });
        },
        {
          "./utils": 27,
        },
      ],
      26: [
        function (e, t) {
          var n = e("./utils"),
            i = {
              delimiter: "&",
              arrayPrefixGenerators: {
                brackets: function (e) {
                  return e + "[]";
                },
                indices: function (e, t) {
                  return e + "[" + t + "]";
                },
                repeat: function (e) {
                  return e;
                },
              },
            };
          (i.stringify = function (e, t, r) {
            if (
              (n.isBuffer(e)
                ? (e = e.toString())
                : e instanceof Date
                ? (e = e.toISOString())
                : null === e && (e = ""),
              "string" == typeof e ||
                "number" == typeof e ||
                "boolean" == typeof e)
            )
              return [encodeURIComponent(t) + "=" + encodeURIComponent(e)];
            var s = [];
            if ("undefined" == typeof e) return s;
            for (var o = Object.keys(e), a = 0, l = o.length; l > a; ++a) {
              var c = o[a];
              s = s.concat(
                Array.isArray(e)
                  ? i.stringify(e[c], r(t, c), r)
                  : i.stringify(e[c], t + "[" + c + "]", r)
              );
            }
            return s;
          }),
            (t.exports = function (e, t) {
              t = t || {};
              var n =
                  "undefined" == typeof t.delimiter ? i.delimiter : t.delimiter,
                r = [];
              if ("object" != typeof e || null === e) return "";
              var s;
              s =
                t.arrayFormat in i.arrayPrefixGenerators
                  ? t.arrayFormat
                  : "indices" in t
                  ? t.indices
                    ? "indices"
                    : "repeat"
                  : "indices";
              for (
                var o = i.arrayPrefixGenerators[s],
                  a = Object.keys(e),
                  l = 0,
                  c = a.length;
                c > l;
                ++l
              ) {
                var u = a[l];
                r = r.concat(i.stringify(e[u], u, o));
              }
              return r.join(n);
            });
        },
        {
          "./utils": 27,
        },
      ],
      27: [
        function (e, t, n) {
          (n.arrayToObject = function (e) {
            for (var t = {}, n = 0, i = e.length; i > n; ++n)
              "undefined" != typeof e[n] && (t[n] = e[n]);
            return t;
          }),
            (n.merge = function (e, t) {
              if (!t) return e;
              if ("object" != typeof t)
                return Array.isArray(e) ? e.push(t) : (e[t] = !0), e;
              if ("object" != typeof e) return (e = [e].concat(t));
              Array.isArray(e) && !Array.isArray(t) && (e = n.arrayToObject(e));
              for (var i = Object.keys(t), r = 0, s = i.length; s > r; ++r) {
                var o = i[r],
                  a = t[o];
                e[o] = e[o] ? n.merge(e[o], a) : a;
              }
              return e;
            }),
            (n.decode = function (e) {
              try {
                return decodeURIComponent(e.replace(/\+/g, " "));
              } catch (t) {
                return e;
              }
            }),
            (n.compact = function (e, t) {
              if ("object" != typeof e || null === e) return e;
              t = t || [];
              var i = t.indexOf(e);
              if (-1 !== i) return t[i];
              if ((t.push(e), Array.isArray(e))) {
                for (var r = [], s = 0, o = e.length; o > s; ++s)
                  "undefined" != typeof e[s] && r.push(e[s]);
                return r;
              }
              var a = Object.keys(e);
              for (s = 0, o = a.length; o > s; ++s) {
                var l = a[s];
                e[l] = n.compact(e[l], t);
              }
              return e;
            }),
            (n.isRegExp = function (e) {
              return "[object RegExp]" === Object.prototype.toString.call(e);
            }),
            (n.isBuffer = function (e) {
              return null === e || "undefined" == typeof e
                ? !1
                : !!(
                    e.constructor &&
                    e.constructor.isBuffer &&
                    e.constructor.isBuffer(e)
                  );
            });
        },
        {},
      ],
    },
    {},
    [1]
  ),
  (function (e) {
    var t = function (e, t) {
        return (e << t) | (e >>> (32 - t));
      },
      n = function (e, t) {
        var n, i, r, s, o;
        return (
          (r = 2147483648 & e),
          (s = 2147483648 & t),
          (n = 1073741824 & e),
          (i = 1073741824 & t),
          (o = (1073741823 & e) + (1073741823 & t)),
          n & i
            ? 2147483648 ^ o ^ r ^ s
            : n | i
            ? 1073741824 & o
              ? 3221225472 ^ o ^ r ^ s
              : 1073741824 ^ o ^ r ^ s
            : o ^ r ^ s
        );
      },
      i = function (e, t, n) {
        return (e & t) | (~e & n);
      },
      r = function (e, t, n) {
        return (e & n) | (t & ~n);
      },
      s = function (e, t, n) {
        return e ^ t ^ n;
      },
      o = function (e, t, n) {
        return t ^ (e | ~n);
      },
      a = function (e, r, s, o, a, l, c) {
        return (e = n(e, n(n(i(r, s, o), a), c))), n(t(e, l), r);
      },
      l = function (e, i, s, o, a, l, c) {
        return (e = n(e, n(n(r(i, s, o), a), c))), n(t(e, l), i);
      },
      c = function (e, i, r, o, a, l, c) {
        return (e = n(e, n(n(s(i, r, o), a), c))), n(t(e, l), i);
      },
      u = function (e, i, r, s, a, l, c) {
        return (e = n(e, n(n(o(i, r, s), a), c))), n(t(e, l), i);
      },
      d = function (e) {
        for (
          var t,
            n = e.length,
            i = n + 8,
            r = (i - (i % 64)) / 64,
            s = 16 * (r + 1),
            o = Array(s - 1),
            a = 0,
            l = 0;
          n > l;

        )
          (t = (l - (l % 4)) / 4),
            (a = (l % 4) * 8),
            (o[t] = o[t] | (e.charCodeAt(l) << a)),
            l++;
        return (
          (t = (l - (l % 4)) / 4),
          (a = (l % 4) * 8),
          (o[t] = o[t] | (128 << a)),
          (o[s - 2] = n << 3),
          (o[s - 1] = n >>> 29),
          o
        );
      },
      p = function (e) {
        var t,
          n,
          i = "",
          r = "";
        for (n = 0; 3 >= n; n++)
          (t = (e >>> (8 * n)) & 255),
            (r = "0" + t.toString(16)),
            (i += r.substr(r.length - 2, 2));
        return i;
      },
      h = function (e) {
        e = e.replace(/\x0d\x0a/g, "\n");
        for (var t = "", n = 0; n < e.length; n++) {
          var i = e.charCodeAt(n);
          128 > i
            ? (t += String.fromCharCode(i))
            : i > 127 && 2048 > i
            ? ((t += String.fromCharCode((i >> 6) | 192)),
              (t += String.fromCharCode((63 & i) | 128)))
            : ((t += String.fromCharCode((i >> 12) | 224)),
              (t += String.fromCharCode(((i >> 6) & 63) | 128)),
              (t += String.fromCharCode((63 & i) | 128)));
        }
        return t;
      };
    e.extend({
      md5: function (e) {
        var t,
          i,
          r,
          s,
          o,
          f,
          m,
          g,
          _,
          v = Array(),
          y = 7,
          b = 12,
          w = 17,
          C = 22,
          k = 5,
          T = 9,
          E = 14,
          S = 20,
          x = 4,
          P = 11,
          O = 16,
          A = 23,
          I = 6,
          D = 10,
          M = 15,
          R = 21;
        for (
          e = h(e),
            v = d(e),
            f = 1732584193,
            m = 4023233417,
            g = 2562383102,
            _ = 271733878,
            t = 0;
          t < v.length;
          t += 16
        )
          (i = f),
            (r = m),
            (s = g),
            (o = _),
            (f = a(f, m, g, _, v[t + 0], y, 3614090360)),
            (_ = a(_, f, m, g, v[t + 1], b, 3905402710)),
            (g = a(g, _, f, m, v[t + 2], w, 606105819)),
            (m = a(m, g, _, f, v[t + 3], C, 3250441966)),
            (f = a(f, m, g, _, v[t + 4], y, 4118548399)),
            (_ = a(_, f, m, g, v[t + 5], b, 1200080426)),
            (g = a(g, _, f, m, v[t + 6], w, 2821735955)),
            (m = a(m, g, _, f, v[t + 7], C, 4249261313)),
            (f = a(f, m, g, _, v[t + 8], y, 1770035416)),
            (_ = a(_, f, m, g, v[t + 9], b, 2336552879)),
            (g = a(g, _, f, m, v[t + 10], w, 4294925233)),
            (m = a(m, g, _, f, v[t + 11], C, 2304563134)),
            (f = a(f, m, g, _, v[t + 12], y, 1804603682)),
            (_ = a(_, f, m, g, v[t + 13], b, 4254626195)),
            (g = a(g, _, f, m, v[t + 14], w, 2792965006)),
            (m = a(m, g, _, f, v[t + 15], C, 1236535329)),
            (f = l(f, m, g, _, v[t + 1], k, 4129170786)),
            (_ = l(_, f, m, g, v[t + 6], T, 3225465664)),
            (g = l(g, _, f, m, v[t + 11], E, 643717713)),
            (m = l(m, g, _, f, v[t + 0], S, 3921069994)),
            (f = l(f, m, g, _, v[t + 5], k, 3593408605)),
            (_ = l(_, f, m, g, v[t + 10], T, 38016083)),
            (g = l(g, _, f, m, v[t + 15], E, 3634488961)),
            (m = l(m, g, _, f, v[t + 4], S, 3889429448)),
            (f = l(f, m, g, _, v[t + 9], k, 568446438)),
            (_ = l(_, f, m, g, v[t + 14], T, 3275163606)),
            (g = l(g, _, f, m, v[t + 3], E, 4107603335)),
            (m = l(m, g, _, f, v[t + 8], S, 1163531501)),
            (f = l(f, m, g, _, v[t + 13], k, 2850285829)),
            (_ = l(_, f, m, g, v[t + 2], T, 4243563512)),
            (g = l(g, _, f, m, v[t + 7], E, 1735328473)),
            (m = l(m, g, _, f, v[t + 12], S, 2368359562)),
            (f = c(f, m, g, _, v[t + 5], x, 4294588738)),
            (_ = c(_, f, m, g, v[t + 8], P, 2272392833)),
            (g = c(g, _, f, m, v[t + 11], O, 1839030562)),
            (m = c(m, g, _, f, v[t + 14], A, 4259657740)),
            (f = c(f, m, g, _, v[t + 1], x, 2763975236)),
            (_ = c(_, f, m, g, v[t + 4], P, 1272893353)),
            (g = c(g, _, f, m, v[t + 7], O, 4139469664)),
            (m = c(m, g, _, f, v[t + 10], A, 3200236656)),
            (f = c(f, m, g, _, v[t + 13], x, 681279174)),
            (_ = c(_, f, m, g, v[t + 0], P, 3936430074)),
            (g = c(g, _, f, m, v[t + 3], O, 3572445317)),
            (m = c(m, g, _, f, v[t + 6], A, 76029189)),
            (f = c(f, m, g, _, v[t + 9], x, 3654602809)),
            (_ = c(_, f, m, g, v[t + 12], P, 3873151461)),
            (g = c(g, _, f, m, v[t + 15], O, 530742520)),
            (m = c(m, g, _, f, v[t + 2], A, 3299628645)),
            (f = u(f, m, g, _, v[t + 0], I, 4096336452)),
            (_ = u(_, f, m, g, v[t + 7], D, 1126891415)),
            (g = u(g, _, f, m, v[t + 14], M, 2878612391)),
            (m = u(m, g, _, f, v[t + 5], R, 4237533241)),
            (f = u(f, m, g, _, v[t + 12], I, 1700485571)),
            (_ = u(_, f, m, g, v[t + 3], D, 2399980690)),
            (g = u(g, _, f, m, v[t + 10], M, 4293915773)),
            (m = u(m, g, _, f, v[t + 1], R, 2240044497)),
            (f = u(f, m, g, _, v[t + 8], I, 1873313359)),
            (_ = u(_, f, m, g, v[t + 15], D, 4264355552)),
            (g = u(g, _, f, m, v[t + 6], M, 2734768916)),
            (m = u(m, g, _, f, v[t + 13], R, 1309151649)),
            (f = u(f, m, g, _, v[t + 4], I, 4149444226)),
            (_ = u(_, f, m, g, v[t + 11], D, 3174756917)),
            (g = u(g, _, f, m, v[t + 2], M, 718787259)),
            (m = u(m, g, _, f, v[t + 9], R, 3951481745)),
            (f = n(f, i)),
            (m = n(m, r)),
            (g = n(g, s)),
            (_ = n(_, o));
        var j = p(f) + p(m) + p(g) + p(_);
        return j.toLowerCase();
      },
    });
  })(jQuery),
  /*!
   * jQuery UI Touch Punch 0.2.3
   *
   * Copyright 20112014, Dave Furfero
   * Dual licensed under the MIT or GPL Version 2 licenses.
   *
   * Depends:
   *  jquery.ui.widget.js
   *  jquery.ui.mouse.js
   */
  !(function (e) {
    function t(e, t) {
      if (!(e.originalEvent.touches.length > 1)) {
        e.preventDefault();
        var n = e.originalEvent.changedTouches[0],
          i = document.createEvent("MouseEvents");
        i.initMouseEvent(
          t,
          !0,
          !0,
          window,
          1,
          n.screenX,
          n.screenY,
          n.clientX,
          n.clientY,
          !1,
          !1,
          !1,
          !1,
          0,
          null
        ),
          e.target.dispatchEvent(i);
      }
    }
    if (((e.support.touch = "ontouchend" in document), e.support.touch)) {
      var n,
        i = e.ui.mouse.prototype,
        r = i._mouseInit,
        s = i._mouseDestroy;
      (i._touchStart = function (e) {
        var i = this;
        !n &&
          i._mouseCapture(e.originalEvent.changedTouches[0]) &&
          ((n = !0),
          (i._touchMoved = !1),
          t(e, "mouseover"),
          t(e, "mousemove"),
          t(e, "mousedown"));
      }),
        (i._touchMove = function (e) {
          n && ((this._touchMoved = !0), t(e, "mousemove"));
        }),
        (i._touchEnd = function (e) {
          n &&
            (t(e, "mouseup"),
            t(e, "mouseout"),
            this._touchMoved || t(e, "click"),
            (n = !1));
        }),
        (i._mouseInit = function () {
          var t = this;
          t.element.bind({
            touchstart: e.proxy(t, "_touchStart"),
            touchmove: e.proxy(t, "_touchMove"),
            touchend: e.proxy(t, "_touchEnd"),
          }),
            r.call(t);
        }),
        (i._mouseDestroy = function () {
          var t = this;
          t.element.unbind({
            touchstart: e.proxy(t, "_touchStart"),
            touchmove: e.proxy(t, "_touchMove"),
            touchend: e.proxy(t, "_touchEnd"),
          }),
            s.call(t);
        });
    }
  })(jQuery),
  !(function (e) {
    var t;
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = e())
      : "function" == typeof define && define.amd
      ? define([], e)
      : ((
          (t =
            "undefined" != typeof window
              ? window
              : "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : this).braintree || (t.braintree = {})
        ).client = e());
  })(function () {
    return (function e(t, n, i) {
      function r(o, a) {
        if (!n[o]) {
          if (!t[o]) {
            var l = "function" == typeof require && require;
            if (!a && l) return l(o, !0);
            if (s) return s(o, !0);
            var c = new Error("Cannot find module '" + o + "'");
            throw ((c.code = "MODULE_NOT_FOUND"), c);
          }
          var u = (n[o] = {
            exports: {},
          });
          t[o][0].call(
            u.exports,
            function (e) {
              return r(t[o][1][e] || e);
            },
            u,
            u.exports,
            e,
            t,
            n,
            i
          );
        }
        return n[o].exports;
      }
      for (
        var s = "function" == typeof require && require, o = 0;
        o < i.length;
        o++
      )
        r(i[o]);
      return r;
    })(
      {
        1: [
          function (e, t, n) {
            "use strict";
            var i =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule
                  ? e
                  : {
                      default: e,
                    };
              };
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.PromiseGlobal = void 0);
            var r = i(e("promise-polyfill")),
              s = "undefined" != typeof Promise ? Promise : r["default"];
            n.PromiseGlobal = s;
          },
          {
            "promise-polyfill": 15,
          },
        ],
        2: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t,
                n = JSON.stringify(e);
              if (!e.forceScriptReload && (t = r[n])) return t;
              var s = document.createElement("script"),
                o = e.dataAttributes || {},
                a = e.container || document.head;
              return (
                (s.src = e.src),
                (s.id = e.id || ""),
                (s.async = !0),
                e.crossorigin &&
                  s.setAttribute("crossorigin", "" + e.crossorigin),
                Object.keys(o).forEach(function (e) {
                  s.setAttribute("data-" + e, "" + o[e]);
                }),
                (t = new i.PromiseGlobal(function (t, n) {
                  s.addEventListener("load", function () {
                    t(s);
                  }),
                    s.addEventListener("error", function () {
                      n(new Error(e.src + " failed to load."));
                    }),
                    s.addEventListener("abort", function () {
                      n(new Error(e.src + " has aborted."));
                    }),
                    a.appendChild(s);
                })),
                (r[n] = t)
              );
            }
            var i = e("./lib/promise"),
              r = {};
            (n.clearCache = function () {
              r = {};
            }),
              (t.exports = n);
          },
          {
            "./lib/promise": 1,
          },
        ],
        3: [
          function (e, t) {
            t.exports = e("./dist/load-script");
          },
          {
            "./dist/load-script": 2,
          },
        ],
        4: [
          function (e, t) {
            "use strict";
            var n = e("./is-ie11");
            t.exports = function (e) {
              return (
                -1 !== (e = e || window.navigator.userAgent).indexOf("MSIE") ||
                n(e)
              );
            };
          },
          {
            "./is-ie11": 5,
          },
        ],
        5: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return (
                -1 !==
                (e = e || window.navigator.userAgent).indexOf("Trident/7")
              );
            };
          },
          {},
        ],
        6: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return (
                -1 !== (e = e || window.navigator.userAgent).indexOf("MSIE 9")
              );
            };
          },
          {},
        ],
        7: [
          function (e, t) {
            t.exports = e("./dist/is-ie");
          },
          {
            "./dist/is-ie": 4,
          },
        ],
        8: [
          function (e, t) {
            t.exports = e("./dist/is-ie9");
          },
          {
            "./dist/is-ie9": 6,
          },
        ],
        9: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t = this;
              "function" != typeof e
                ? ((this._promise = new n.Promise(function (e, n) {
                    (t._resolveFunction = e), (t._rejectFunction = n);
                  })),
                  (e = e || {}),
                  (this._onResolve = e.onResolve || n.defaultOnResolve),
                  (this._onReject = e.onReject || n.defaultOnReject),
                  n.shouldCatchExceptions(e) &&
                    this._promise["catch"](function () {}),
                  this._resetState())
                : (this._promise = new n.Promise(e));
            }
            var i = "undefined" != typeof Promise ? Promise : null,
              r =
                ((n.defaultOnResolve = function (e) {
                  return n.Promise.resolve(e);
                }),
                (n.defaultOnReject = function (e) {
                  return n.Promise.reject(e);
                }),
                (n.setPromise = function (e) {
                  n.Promise = e;
                }),
                (n.shouldCatchExceptions = function (e) {
                  return Boolean(
                    e.hasOwnProperty("suppressUnhandledPromiseMessage")
                      ? e.suppressUnhandledPromiseMessage
                      : n.suppressUnhandledPromiseMessage
                  );
                }),
                (n.all = function (e) {
                  return n.Promise.all(e);
                }),
                (n.allSettled = function (e) {
                  return n.Promise.allSettled(e);
                }),
                (n.race = function (e) {
                  return n.Promise.race(e);
                }),
                (n.reject = function (e) {
                  return n.Promise.reject(e);
                }),
                (n.resolve = function (e) {
                  return n.Promise.resolve(e);
                }),
                (n.prototype.then = function () {
                  for (var e, t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  return (e = this._promise).then.apply(e, t);
                }),
                (n.prototype["catch"] = function () {
                  for (var e, t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  return (e = this._promise)["catch"].apply(e, t);
                }),
                (n.prototype.resolve = function (e) {
                  var t = this;
                  return (
                    this.isFulfilled ||
                      (this._setResolved(),
                      n.Promise.resolve()
                        .then(function () {
                          return t._onResolve(e);
                        })
                        .then(function (e) {
                          t._resolveFunction(e);
                        })
                        ["catch"](function (e) {
                          t._resetState(), t.reject(e);
                        })),
                    this
                  );
                }),
                (n.prototype.reject = function (e) {
                  var t = this;
                  return (
                    this.isFulfilled ||
                      (this._setRejected(),
                      n.Promise.resolve()
                        .then(function () {
                          return t._onReject(e);
                        })
                        .then(function (e) {
                          t._setResolved(), t._resolveFunction(e);
                        })
                        ["catch"](function (e) {
                          return t._rejectFunction(e);
                        })),
                    this
                  );
                }),
                (n.prototype._resetState = function () {
                  (this.isFulfilled = !1),
                    (this.isResolved = !1),
                    (this.isRejected = !1);
                }),
                (n.prototype._setResolved = function () {
                  (this.isFulfilled = !0),
                    (this.isResolved = !0),
                    (this.isRejected = !1);
                }),
                (n.prototype._setRejected = function () {
                  (this.isFulfilled = !0),
                    (this.isResolved = !1),
                    (this.isRejected = !0);
                }),
                (n.Promise = i),
                n);
            t.exports = r;
          },
          {},
        ],
        10: [
          function (e, t) {
            "use strict";
            t.exports = function () {
              return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
                /[xy]/g,
                function (e) {
                  var t = (16 * Math.random()) | 0;
                  return ("x" === e ? t : (3 & t) | 8).toString(16);
                }
              );
            };
          },
          {},
        ],
        11: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.deferred = function (e) {
                return function () {
                  for (var t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  setTimeout(function () {
                    try {
                      e.apply(void 0, t);
                    } catch (t) {
                      console.log("Error in callback function"), console.log(t);
                    }
                  }, 1);
                };
              });
          },
          {},
        ],
        12: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.once = function (e) {
                var t = !1;
                return function () {
                  for (var n = [], i = 0; i < arguments.length; i++)
                    n[i] = arguments[i];
                  t || ((t = !0), e.apply(void 0, n));
                };
              });
          },
          {},
        ],
        13: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.promiseOrCallback = function (e, t) {
                return t
                  ? void e
                      .then(function (e) {
                        return t(null, e);
                      })
                      ["catch"](function (e) {
                        return t(e);
                      })
                  : e;
              });
          },
          {},
        ],
        14: [
          function (e, t) {
            "use strict";
            function n(e) {
              return function () {
                for (var t, n = [], o = 0; o < arguments.length; o++)
                  n[o] = arguments[o];
                return (
                  "function" == typeof n[n.length - 1] &&
                    ((t = n.pop()), (t = r.once(i.deferred(t)))),
                  s.promiseOrCallback(e.apply(this, n), t)
                );
              };
            }
            var i = e("./lib/deferred"),
              r = e("./lib/once"),
              s = e("./lib/promise-or-callback");
            (n.wrapPrototype = function (e, t) {
              void 0 === t && (t = {});
              var i = t.ignoreMethods || [],
                r = !0 === t.transformPrivateMethods;
              return (
                Object.getOwnPropertyNames(e.prototype)
                  .filter(function (t) {
                    var n =
                        "constructor" !== t &&
                        "function" == typeof e.prototype[t],
                      s = -1 === i.indexOf(t),
                      o = r || "_" !== t.charAt(0);
                    return n && o && s;
                  })
                  .forEach(function (t) {
                    var i = e.prototype[t];
                    e.prototype[t] = n(i);
                  }),
                e
              );
            }),
              (t.exports = n);
          },
          {
            "./lib/deferred": 11,
            "./lib/once": 12,
            "./lib/promise-or-callback": 13,
          },
        ],
        15: [
          function (e, t) {
            "use strict";
            function n(e) {
              return Boolean(e && void 0 !== e.length);
            }
            function i() {}
            function r(e) {
              if (!(this instanceof r))
                throw new TypeError("Promises must be constructed via new");
              if ("function" != typeof e) throw new TypeError("not a function");
              (this._state = 0),
                (this._handled = !1),
                (this._value = void 0),
                (this._deferreds = []),
                u(e, this);
            }
            function s(e, t) {
              for (; 3 === e._state; ) e = e._value;
              0 !== e._state
                ? ((e._handled = !0),
                  r._immediateFn(function () {
                    var n,
                      i = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null !== i) {
                      try {
                        n = i(e._value);
                      } catch (n) {
                        return void a(t.promise, n);
                      }
                      o(t.promise, n);
                    } else (1 === e._state ? o : a)(t.promise, e._value);
                  }))
                : e._deferreds.push(t);
            }
            function o(e, t) {
              try {
                if (t === e)
                  throw new TypeError(
                    "A promise cannot be resolved with itself."
                  );
                if (t && ("object" == typeof t || "function" == typeof t)) {
                  var n = t.then;
                  if (t instanceof r)
                    return (e._state = 3), (e._value = t), void l(e);
                  if ("function" == typeof n)
                    return void u(
                      ((i = n),
                      (s = t),
                      function () {
                        i.apply(s, arguments);
                      }),
                      e
                    );
                }
                (e._state = 1), (e._value = t), l(e);
              } catch (t) {
                a(e, t);
              }
              var i, s;
            }
            function a(e, t) {
              (e._state = 2), (e._value = t), l(e);
            }
            function l(e) {
              2 === e._state &&
                0 === e._deferreds.length &&
                r._immediateFn(function () {
                  e._handled || r._unhandledRejectionFn(e._value);
                });
              for (var t = 0, n = e._deferreds.length; n > t; t++)
                s(e, e._deferreds[t]);
              e._deferreds = null;
            }
            function c(e, t, n) {
              (this.onFulfilled = "function" == typeof e ? e : null),
                (this.onRejected = "function" == typeof t ? t : null),
                (this.promise = n);
            }
            function u(e, t) {
              var n = !1;
              try {
                e(
                  function (e) {
                    n || ((n = !0), o(t, e));
                  },
                  function (e) {
                    n || ((n = !0), a(t, e));
                  }
                );
              } catch (e) {
                if (n) return;
                (n = !0), a(t, e);
              }
            }
            var d = setTimeout;
            (r.prototype["catch"] = function (e) {
              return this.then(null, e);
            }),
              (r.prototype.then = function (e, t) {
                var n = new this.constructor(i);
                return s(this, new c(e, t, n)), n;
              }),
              (r.prototype["finally"] = function (e) {
                var t = this.constructor;
                return this.then(
                  function (n) {
                    return t.resolve(e()).then(function () {
                      return n;
                    });
                  },
                  function (n) {
                    return t.resolve(e()).then(function () {
                      return t.reject(n);
                    });
                  }
                );
              }),
              (r.all = function (e) {
                return new r(function (t, i) {
                  if (!n(e))
                    return i(new TypeError("Promise.all accepts an array"));
                  var r = Array.prototype.slice.call(e);
                  if (0 === r.length) return t([]);
                  for (var s = r.length, o = 0; o < r.length; o++)
                    !(function a(e, n) {
                      try {
                        if (
                          n &&
                          ("object" == typeof n || "function" == typeof n)
                        ) {
                          var o = n.then;
                          if ("function" == typeof o)
                            return void o.call(
                              n,
                              function (t) {
                                a(e, t);
                              },
                              i
                            );
                        }
                        (r[e] = n), 0 == --s && t(r);
                      } catch (n) {
                        i(n);
                      }
                    })(o, r[o]);
                });
              }),
              (r.resolve = function (e) {
                return e && "object" == typeof e && e.constructor === r
                  ? e
                  : new r(function (t) {
                      t(e);
                    });
              }),
              (r.reject = function (e) {
                return new r(function (t, n) {
                  n(e);
                });
              }),
              (r.race = function (e) {
                return new r(function (t, i) {
                  if (!n(e))
                    return i(new TypeError("Promise.race accepts an array"));
                  for (var s = 0, o = e.length; o > s; s++)
                    r.resolve(e[s]).then(t, i);
                });
              }),
              (r._immediateFn =
                "function" == typeof setImmediate
                  ? function (e) {
                      setImmediate(e);
                    }
                  : function (e) {
                      d(e, 0);
                    }),
              (r._unhandledRejectionFn = function (e) {
                "undefined" != typeof console &&
                  console &&
                  console.warn("Possible Unhandled Promise Rejection:", e);
              }),
              (t.exports = r);
          },
          {},
        ],
        16: [
          function (e, t) {
            "use strict";
            var n = e("@braintree/browser-detection/is-ie"),
              i = e("@braintree/browser-detection/is-ie9");
            t.exports = {
              isIe: n,
              isIe9: i,
            };
          },
          {
            "@braintree/browser-detection/is-ie": 7,
            "@braintree/browser-detection/is-ie9": 8,
          },
        ],
        17: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t, n;
              if (
                ((e = e || {}),
                (t = JSON.stringify(e)),
                !(n = e.gatewayConfiguration))
              )
                throw new a(v.CLIENT_MISSING_GATEWAY_CONFIGURATION);
              ["assetsUrl", "clientApiUrl", "configUrl"].forEach(function (e) {
                if (e in n && !o(n[e]))
                  throw new a({
                    type: v.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,
                    code: v.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,
                    message: e + " property is on an invalid domain.",
                  });
              }),
                (this.getConfiguration = function () {
                  return JSON.parse(t);
                }),
                (this._request = s),
                (this._configuration = this.getConfiguration()),
                (this._clientApiBaseUrl = n.clientApiUrl + "/v1/"),
                n.graphQL &&
                  (this._graphQL = new r({
                    graphQL: n.graphQL,
                  }));
            }
            var i = e("./constants").BRAINTREE_VERSION,
              r = e("./request/graphql"),
              s = e("./request"),
              o = e("../lib/is-verified-domain"),
              a = e("../lib/braintree-error"),
              l = e("../lib/convert-to-braintree-error"),
              c = e("./get-configuration").getConfiguration,
              u = e("../lib/create-authorization-data"),
              d = e("../lib/add-metadata"),
              p = e("../lib/promise"),
              h = e("@braintree/wrap-promise"),
              f = e("../lib/once"),
              m = e("../lib/deferred"),
              g = e("../lib/assign").assign,
              _ = e("../lib/analytics"),
              v = e("./errors"),
              y = e("../lib/constants").VERSION,
              b = e("../lib/constants").GRAPHQL_URLS,
              w = e("../lib/methods"),
              C = e("../lib/convert-methods-to-error"),
              k = e("../lib/assets"),
              T = e("../lib/constants").FRAUDNET_FNCLS,
              E = e("../lib/constants").FRAUDNET_SOURCE,
              S = e("../lib/constants").FRAUDNET_URL,
              x = {};
            (n.initialize = function (e) {
              var t,
                i,
                r = x[e.authorization];
              if (r) return _.sendEvent(r, "custom.client.load.cached"), r;
              try {
                i = u(e.authorization);
              } catch (i) {
                return p.reject(new a(v.CLIENT_INVALID_AUTHORIZATION));
              }
              return (
                (r = c(i).then(function (i) {
                  return (
                    e.debug && (i.isDebug = !0),
                    (i.authorization = e.authorization),
                    (t = new n(i))
                  );
                })),
                (x[e.authorization] = r),
                _.sendEvent(r, "custom.client.load.initialized"),
                r
                  .then(function (e) {
                    return _.sendEvent(t, "custom.client.load.succeeded"), e;
                  })
                  ["catch"](function (t) {
                    return delete x[e.authorization], p.reject(t);
                  })
              );
            }),
              (n.clearCache = function () {
                x = {};
              }),
              (n.prototype._findOrCreateFraudnetJSON = function (e) {
                var t,
                  n,
                  i,
                  r,
                  s = document.querySelector('script[fncls="' + T + '"]');
                s ||
                  (((s = document.body.appendChild(
                    document.createElement("script")
                  )).type = "application/json"),
                  s.setAttribute("fncls", T)),
                  (t = this.getConfiguration()),
                  (n = {
                    rda_tenant: "bt_card",
                    mid: t.gatewayConfiguration.merchantId,
                  }),
                  (i = t.authorizationFingerprint) &&
                    i.split("&").forEach(function (e) {
                      var t = e.split("=");
                      "customer_id" === t[0] && 1 < t.length && (n.cid = t[1]);
                    }),
                  (r = {
                    f: e.substr(0, 32),
                    fp: n,
                    bu: !1,
                    s: E,
                  }),
                  (s.text = JSON.stringify(r));
              }),
              (n.prototype.request = function (e, t) {
                var n = this,
                  r = new p(function (t, r) {
                    var s,
                      o,
                      c,
                      u,
                      p,
                      h = Boolean(
                        "payment_methods/credit_cards" === e.endpoint &&
                          n.getConfiguration().gatewayConfiguration.creditCards
                            .collectDeviceData
                      );
                    if (
                      ("graphQLApi" !== e.api &&
                        (e.method
                          ? e.endpoint || (s = "options.endpoint")
                          : (s = "options.method")),
                      s)
                    )
                      throw new a({
                        type: v.CLIENT_OPTION_REQUIRED.type,
                        code: v.CLIENT_OPTION_REQUIRED.code,
                        message: s + " is required when making a request.",
                      });
                    if (
                      ((o = "api" in e ? e.api : "clientApi"),
                      (u = {
                        method: e.method,
                        graphQL: n._graphQL,
                        timeout: e.timeout,
                        metadata: n._configuration.analyticsMetadata,
                      }),
                      "clientApi" === o)
                    )
                      (c = n._clientApiBaseUrl),
                        (u.data = d(n._configuration, e.data));
                    else {
                      if ("graphQLApi" !== o)
                        throw new a({
                          type: v.CLIENT_OPTION_INVALID.type,
                          code: v.CLIENT_OPTION_INVALID.code,
                          message: "options.api is invalid.",
                        });
                      (c =
                        b[n._configuration.gatewayConfiguration.environment]),
                        (e.endpoint = ""),
                        (u.method = "post"),
                        (u.data = g(
                          {
                            clientSdkMetadata: {
                              source: n._configuration.analyticsMetadata.source,
                              integration:
                                n._configuration.analyticsMetadata.integration,
                              sessionId:
                                n._configuration.analyticsMetadata.sessionId,
                            },
                          },
                          e.data
                        )),
                        (u.headers = {
                          Authorization:
                            "Bearer " +
                            ((p = n._configuration).authorizationFingerprint ||
                              p.authorization),
                          "Braintree-Version": i,
                        });
                    }
                    (u.url = c + e.endpoint),
                      (u.sendAnalyticsEvent = function (e) {
                        _.sendEvent(n, e);
                      }),
                      n._request(u, function (e, i, s) {
                        var c,
                          u = (function (e, t) {
                            var n;
                            return (
                              -1 === e
                                ? (n = new a(v.CLIENT_REQUEST_TIMEOUT))
                                : 403 === e
                                ? (n = new a(
                                    v.CLIENT_AUTHORIZATION_INSUFFICIENT
                                  ))
                                : 429 === e
                                ? (n = new a(v.CLIENT_RATE_LIMITED))
                                : e >= 500
                                ? (n = new a(v.CLIENT_GATEWAY_NETWORK))
                                : (200 > e || e >= 400) &&
                                  (n = l(t, {
                                    type: v.CLIENT_REQUEST_ERROR.type,
                                    code: v.CLIENT_REQUEST_ERROR.code,
                                    message: v.CLIENT_REQUEST_ERROR.message,
                                  })),
                              n
                                ? ((n.details = n.details || {}),
                                  (n.details.httpStatus = e),
                                  n)
                                : void 0
                            );
                          })(s, e);
                        u
                          ? r(u)
                          : "graphQLApi" === o && i.errors
                          ? r(
                              l(i.errors, {
                                type: v.CLIENT_GRAPHQL_REQUEST_ERROR.type,
                                code: v.CLIENT_GRAPHQL_REQUEST_ERROR.code,
                                message: v.CLIENT_GRAPHQL_REQUEST_ERROR.message,
                              })
                            )
                          : ((c = g(
                              {
                                _httpStatus: s,
                              },
                              i
                            )),
                            h &&
                              c.creditCards &&
                              0 < c.creditCards.length &&
                              (n._findOrCreateFraudnetJSON(
                                c.creditCards[0].nonce
                              ),
                              k.loadScript({
                                src: S,
                                forceScriptReload: !0,
                              })),
                            t(c));
                      });
                  });
                return "function" == typeof t
                  ? ((t = f(m(t))),
                    void r
                      .then(function (e) {
                        t(null, e, e._httpStatus);
                      })
                      ["catch"](function (e) {
                        var n = e && e.details && e.details.httpStatus;
                        t(e, null, n);
                      }))
                  : r;
              }),
              (n.prototype.toJSON = function () {
                return this.getConfiguration();
              }),
              (n.prototype.getVersion = function () {
                return y;
              }),
              (n.prototype.teardown = h(function () {
                return (
                  delete x[this.getConfiguration().authorization],
                  C(this, w(n.prototype)),
                  p.resolve()
                );
              })),
              (t.exports = n);
          },
          {
            "../lib/add-metadata": 38,
            "../lib/analytics": 39,
            "../lib/assets": 40,
            "../lib/assign": 41,
            "../lib/braintree-error": 42,
            "../lib/constants": 43,
            "../lib/convert-methods-to-error": 44,
            "../lib/convert-to-braintree-error": 45,
            "../lib/create-authorization-data": 46,
            "../lib/deferred": 47,
            "../lib/is-verified-domain": 51,
            "../lib/methods": 53,
            "../lib/once": 54,
            "../lib/promise": 55,
            "./constants": 18,
            "./errors": 19,
            "./get-configuration": 20,
            "./request": 32,
            "./request/graphql": 30,
            "@braintree/wrap-promise": 14,
          },
        ],
        18: [
          function (e, t) {
            "use strict";
            t.exports = {
              BRAINTREE_VERSION: "2018-05-10",
            };
          },
          {},
        ],
        19: [
          function (e, t) {
            "use strict";
            var n = e("../lib/braintree-error");
            t.exports = {
              CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN: {
                type: n.types.MERCHANT,
                code: "CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN",
              },
              CLIENT_OPTION_REQUIRED: {
                type: n.types.MERCHANT,
                code: "CLIENT_OPTION_REQUIRED",
              },
              CLIENT_OPTION_INVALID: {
                type: n.types.MERCHANT,
                code: "CLIENT_OPTION_INVALID",
              },
              CLIENT_MISSING_GATEWAY_CONFIGURATION: {
                type: n.types.INTERNAL,
                code: "CLIENT_MISSING_GATEWAY_CONFIGURATION",
                message: "Missing gatewayConfiguration.",
              },
              CLIENT_INVALID_AUTHORIZATION: {
                type: n.types.MERCHANT,
                code: "CLIENT_INVALID_AUTHORIZATION",
                message:
                  "Authorization is invalid. Make sure your client token or tokenization key is valid.",
              },
              CLIENT_GATEWAY_NETWORK: {
                type: n.types.NETWORK,
                code: "CLIENT_GATEWAY_NETWORK",
                message: "Cannot contact the gateway at this time.",
              },
              CLIENT_REQUEST_TIMEOUT: {
                type: n.types.NETWORK,
                code: "CLIENT_REQUEST_TIMEOUT",
                message: "Request timed out waiting for a reply.",
              },
              CLIENT_REQUEST_ERROR: {
                type: n.types.NETWORK,
                code: "CLIENT_REQUEST_ERROR",
                message: "There was a problem with your request.",
              },
              CLIENT_GRAPHQL_REQUEST_ERROR: {
                type: n.types.NETWORK,
                code: "CLIENT_GRAPHQL_REQUEST_ERROR",
                message: "There was a problem with your request.",
              },
              CLIENT_RATE_LIMITED: {
                type: n.types.MERCHANT,
                code: "CLIENT_RATE_LIMITED",
                message:
                  "You are being rate-limited; please try again in a few minutes.",
              },
              CLIENT_AUTHORIZATION_INSUFFICIENT: {
                type: n.types.MERCHANT,
                code: "CLIENT_AUTHORIZATION_INSUFFICIENT",
                message: "The authorization used has insufficient privileges.",
              },
            };
          },
          {
            "../lib/braintree-error": 42,
          },
        ],
        20: [
          function (e, t) {
            "use strict";
            var n = e("../lib/braintree-error"),
              i = e("../lib/promise"),
              r = e("@braintree/wrap-promise"),
              s = e("./request"),
              o = e("@braintree/uuid"),
              a = e("../lib/constants"),
              l = e("./errors"),
              c = e("./request/graphql"),
              u = e("../lib/constants").GRAPHQL_URLS,
              d = e("../lib/is-date-string-before-or-on"),
              p = e("./constants").BRAINTREE_VERSION;
            t.exports = {
              getConfiguration: r(function (e) {
                return new i(function (t, i) {
                  var r,
                    h,
                    f = o(),
                    m = {
                      merchantAppId: window.location.host,
                      platform: a.PLATFORM,
                      sdkVersion: a.VERSION,
                      source: a.SOURCE,
                      integration: a.INTEGRATION,
                      integrationType: a.INTEGRATION,
                      sessionId: f,
                    },
                    g = e.attrs,
                    _ = e.configUrl;
                  (g._meta = m),
                    (g.braintreeLibraryVersion = a.BRAINTREE_LIBRARY_VERSION),
                    (g.configVersion = "3"),
                    (h = {
                      url: _,
                      method: "GET",
                      data: g,
                    }),
                    g.authorizationFingerprint && e.graphQL
                      ? (d(e.graphQL.date, p) &&
                          (h.graphQL = new c({
                            graphQL: {
                              url: e.graphQL.url,
                              features: ["configuration"],
                            },
                          })),
                        (h.metadata = m))
                      : g.tokenizationKey &&
                        ((h.graphQL = new c({
                          graphQL: {
                            url: u[e.environment],
                            features: ["configuration"],
                          },
                        })),
                        (h.metadata = m)),
                    s(h, function (e, s, o) {
                      var a;
                      return e
                        ? ((a =
                            403 === o
                              ? l.CLIENT_AUTHORIZATION_INSUFFICIENT
                              : l.CLIENT_GATEWAY_NETWORK),
                          void i(
                            new n({
                              type: a.type,
                              code: a.code,
                              message: a.message,
                              details: {
                                originalError: e,
                              },
                            })
                          ))
                        : ((r = {
                            authorizationType: g.tokenizationKey
                              ? "TOKENIZATION_KEY"
                              : "CLIENT_TOKEN",
                            authorizationFingerprint:
                              g.authorizationFingerprint,
                            analyticsMetadata: m,
                            gatewayConfiguration: s,
                          }),
                          void t(r));
                    });
                });
              }),
            };
          },
          {
            "../lib/braintree-error": 42,
            "../lib/constants": 43,
            "../lib/is-date-string-before-or-on": 50,
            "../lib/promise": 55,
            "./constants": 18,
            "./errors": 19,
            "./request": 32,
            "./request/graphql": 30,
            "@braintree/uuid": 10,
            "@braintree/wrap-promise": 14,
          },
        ],
        21: [
          function (e, t) {
            "use strict";
            var n = e("../lib/braintree-error"),
              i = e("./client"),
              r = e("../lib/promise"),
              s = e("@braintree/wrap-promise"),
              o = e("../lib/errors");
            t.exports = {
              create: s(function (e) {
                return e.authorization
                  ? i.initialize(e)
                  : r.reject(
                      new n({
                        type: o.INSTANTIATION_OPTION_REQUIRED.type,
                        code: o.INSTANTIATION_OPTION_REQUIRED.code,
                        message:
                          "options.authorization is required when instantiating a client.",
                      })
                    );
              }),
              VERSION: "3.64.2",
            };
          },
          {
            "../lib/braintree-error": 42,
            "../lib/errors": 49,
            "../lib/promise": 55,
            "./client": 17,
            "@braintree/wrap-promise": 14,
          },
        ],
        22: [
          function (e, t) {
            "use strict";
            function n(e, t, h) {
              var f,
                m,
                g,
                _,
                v,
                y,
                b,
                w = e.url,
                C = e.graphQL,
                k = e.timeout,
                T = a.getRequestObject(),
                E = h,
                S = Boolean(C && C.isGraphQLRequest(w, e.data));
              (e.headers = r(
                {
                  "Content-Type": "application/json",
                },
                e.headers
              )),
                (w = (g = new (S ? c : u)(e)).getUrl()),
                (_ = g.getBody()),
                (v = g.getMethod()),
                (y = g.getHeaders()),
                "GET" === v && ((w = i.queryify(w, _)), (_ = null)),
                l
                  ? (T.onreadystatechange = function () {
                      if (4 === T.readyState) {
                        if (0 === T.status && S)
                          return delete e.graphQL, void n(e, t, h);
                        if (
                          ((b = o(T.responseText)),
                          (m = g.adaptResponseBody(b)),
                          400 <= (f = g.determineStatus(T.status, b)) ||
                            200 > f)
                        ) {
                          if (
                            S &&
                            ("UNKNOWN" ===
                              (s =
                                !(r = b).data &&
                                r.errors &&
                                r.errors[0] &&
                                r.errors[0].extensions &&
                                r.errors[0].extensions.errorClass) ||
                              "INTERNAL" === s)
                          )
                            return delete e.graphQL, void n(e, t, h);
                          if (d > t && (!(i = f) || i === p))
                            return void n(e, ++t, h);
                          E(m || "error", null, f || 500);
                        } else E(null, m, f);
                        var i, r, s;
                      }
                    })
                  : (e.headers && (w = i.queryify(w, y)),
                    (T.onload = function () {
                      E(null, o(T.responseText), T.status);
                    }),
                    (T.onerror = function () {
                      E("error", null, 500);
                    }),
                    (T.onprogress = function () {}),
                    (T.ontimeout = function () {
                      E("timeout", null, -1);
                    }));
              try {
                T.open(v, w, !0);
              } catch (_) {
                if (!S) throw _;
                return delete e.graphQL, void n(e, t, h);
              }
              (T.timeout = k),
                l &&
                  Object.keys(y).forEach(function (e) {
                    T.setRequestHeader(e, y[e]);
                  });
              try {
                T.send(s(v, _));
              } catch (_) {}
            }
            var i = e("../../lib/querystring"),
              r = e("../../lib/assign").assign,
              s = e("./prep-body"),
              o = e("./parse-body"),
              a = e("./xhr"),
              l = a.isAvailable,
              c = e("./graphql/request"),
              u = e("./default-request"),
              d = 1,
              p = 408;
            t.exports = {
              request: function (e, t) {
                n(e, 0, t);
              },
            };
          },
          {
            "../../lib/assign": 41,
            "../../lib/querystring": 56,
            "./default-request": 23,
            "./graphql/request": 31,
            "./parse-body": 35,
            "./prep-body": 36,
            "./xhr": 37,
          },
        ],
        23: [
          function (e, t) {
            "use strict";
            function n(e) {
              (this._url = e.url),
                (this._data = e.data),
                (this._method = e.method),
                (this._headers = e.headers);
            }
            (n.prototype.getUrl = function () {
              return this._url;
            }),
              (n.prototype.getBody = function () {
                return this._data;
              }),
              (n.prototype.getMethod = function () {
                return this._method;
              }),
              (n.prototype.getHeaders = function () {
                return this._headers;
              }),
              (n.prototype.adaptResponseBody = function (e) {
                return e;
              }),
              (n.prototype.determineStatus = function (e) {
                return e;
              }),
              (t.exports = n);
          },
          {},
        ],
        24: [
          function (e, t) {
            "use strict";
            t.exports = function () {
              return window.navigator.userAgent;
            };
          },
          {},
        ],
        25: [
          function (e, t) {
            "use strict";
            function n(e, t) {
              return e.reduce(function (e, n) {
                return t.hasOwnProperty(n) ? e.concat(t[n]) : e;
              }, []);
            }
            var i = e("./error"),
              r = e("../../../../lib/assign").assign,
              s = {
                creditCard: {
                  AMERICAN_EXPRESS: "American Express",
                  DISCOVER: "Discover",
                  INTERNATIONAL_MAESTRO: "Maestro",
                  JCB: "JCB",
                  MASTERCARD: "MasterCard",
                  SOLO: "Solo",
                  UK_MAESTRO: "UK Maestro",
                  UNION_PAY: "UnionPay",
                  VISA: "Visa",
                },
                applePayWeb: {
                  VISA: "visa",
                  MASTERCARD: "mastercard",
                  DISCOVER: "discover",
                  AMERICAN_EXPRESS: "amex",
                },
                visaCheckout: {
                  VISA: "Visa",
                  MASTERCARD: "MasterCard",
                  DISCOVER: "Discover",
                  AMERICAN_EXPRESS: "American Express",
                },
                googlePay: {
                  VISA: "visa",
                  MASTERCARD: "mastercard",
                  DISCOVER: "discover",
                  AMERICAN_EXPRESS: "amex",
                },
                masterpass: {
                  VISA: "visa",
                  MASTERCARD: "master",
                  DISCOVER: "discover",
                  AMERICAN_EXPRESS: "amex",
                  DINERS: "diners",
                  INTERNATIONAL_MAESTRO: "maestro",
                  JCB: "jcb",
                },
              };
            t.exports = function (e, t) {
              var o =
                e.data && !e.errors
                  ? (function (e, t) {
                      var i,
                        o = e.data.clientConfiguration;
                      return (
                        (i = {
                          environment: o.environment.toLowerCase(),
                          clientApiUrl: o.clientApiUrl,
                          assetsUrl: o.assetsUrl,
                          analytics: {
                            url: o.analyticsUrl,
                          },
                          merchantId: o.merchantId,
                          venmo: "off",
                        }),
                        o.supportedFeatures &&
                          (i.graphQL = {
                            url: t._graphQL._config.url,
                            features: o.supportedFeatures.map(function (e) {
                              return e.toLowerCase();
                            }),
                          }),
                        o.braintreeApi && (i.braintreeApi = o.braintreeApi),
                        o.applePayWeb &&
                          ((i.applePayWeb = o.applePayWeb),
                          (i.applePayWeb.supportedNetworks = n(
                            o.applePayWeb.supportedCardBrands,
                            s.applePayWeb
                          )),
                          delete i.applePayWeb.supportedCardBrands),
                        o.ideal && (i.ideal = o.ideal),
                        o.kount &&
                          (i.kount = {
                            kountMerchantId: o.kount.merchantId,
                          }),
                        o.creditCard
                          ? ((i.challenges = o.creditCard.challenges.map(
                              function (e) {
                                return e.toLowerCase();
                              }
                            )),
                            (i.creditCards = {
                              supportedCardTypes: n(
                                o.creditCard.supportedCardBrands,
                                s.creditCard
                              ),
                            }),
                            (i.threeDSecureEnabled =
                              o.creditCard.threeDSecureEnabled),
                            (i.threeDSecure = o.creditCard.threeDSecure))
                          : ((i.challenges = []),
                            (i.creditCards = {
                              supportedCardTypes: [],
                            }),
                            (i.threeDSecureEnabled = !1)),
                        o.googlePay &&
                          (i.androidPay = {
                            displayName: o.googlePay.displayName,
                            enabled: !0,
                            environment: o.googlePay.environment.toLowerCase(),
                            googleAuthorizationFingerprint:
                              o.googlePay.googleAuthorization,
                            paypalClientId: o.googlePay.paypalClientId,
                            supportedNetworks: n(
                              o.googlePay.supportedCardBrands,
                              s.googlePay
                            ),
                          }),
                        o.venmo &&
                          (i.payWithVenmo = {
                            merchantId: o.venmo.merchantId,
                            accessToken: o.venmo.accessToken,
                            environment: o.venmo.environment.toLowerCase(),
                          }),
                        o.paypal
                          ? ((i.paypalEnabled = !0),
                            (i.paypal = r({}, o.paypal)),
                            (i.paypal.currencyIsoCode = i.paypal.currencyCode),
                            (i.paypal.environment =
                              i.paypal.environment.toLowerCase()),
                            delete i.paypal.currencyCode)
                          : (i.paypalEnabled = !1),
                        o.unionPay &&
                          (i.unionPay = {
                            enabled: !0,
                            merchantAccountId: o.unionPay.merchantAccountId,
                          }),
                        o.visaCheckout &&
                          (i.visaCheckout = {
                            apikey: o.visaCheckout.apiKey,
                            externalClientId: o.visaCheckout.externalClientId,
                            supportedCardTypes: n(
                              o.visaCheckout.supportedCardBrands,
                              s.visaCheckout
                            ),
                          }),
                        o.masterpass &&
                          (i.masterpass = {
                            merchantCheckoutId: o.masterpass.merchantCheckoutId,
                            supportedNetworks: n(
                              o.masterpass.supportedCardBrands,
                              s.masterpass
                            ),
                          }),
                        o.usBankAccount &&
                          (i.usBankAccount = {
                            routeId: o.usBankAccount.routeId,
                            plaid: {
                              publicKey: o.usBankAccount.plaidPublicKey,
                            },
                          }),
                        i
                      );
                    })(e, t)
                  : i(e);
              return o;
            };
          },
          {
            "../../../../lib/assign": 41,
            "./error": 27,
          },
        ],
        26: [
          function (e, t) {
            "use strict";
            var n = e("./error"),
              i = {
                AMERICAN_EXPRESS: "American Express",
                DINERS: "Discover",
                DISCOVER: "Discover",
                INTERNATIONAL_MAESTRO: "Maestro",
                JCB: "JCB",
                MASTERCARD: "MasterCard",
                UK_MAESTRO: "Maestro",
                UNION_PAY: "Union Pay",
                VISA: "Visa",
              },
              r = {
                YES: "Yes",
                NO: "No",
                UNKNOWN: "Unknown",
              },
              s = {
                PSDTWO: "psd2",
              };
            t.exports = function (e) {
              var t = (
                e.data && !e.errors
                  ? function (e) {
                      var t,
                        n,
                        o = e.data.tokenizeCreditCard,
                        a = o.creditCard,
                        l = a.last4 ? a.last4.substr(2, 4) : "",
                        c = a.binData;
                      return (
                        c &&
                          ([
                            "commercial",
                            "debit",
                            "durbinRegulated",
                            "healthcare",
                            "payroll",
                            "prepaid",
                          ].forEach(function (e) {
                            c[e] = c[e] ? r[c[e]] : "Unknown";
                          }),
                          [
                            "issuingBank",
                            "countryOfIssuance",
                            "productId",
                          ].forEach(function (e) {
                            c[e] || (c[e] = "Unknown");
                          })),
                        (t = {
                          creditCards: [
                            {
                              binData: c,
                              consumed: !1,
                              description: l ? "ending in " + l : "",
                              nonce: o.token,
                              details: {
                                expirationMonth: a.expirationMonth,
                                expirationYear: a.expirationYear,
                                bin: a.bin || "",
                                cardType: i[a.brandCode] || "Unknown",
                                lastFour: a.last4 || "",
                                lastTwo: l,
                              },
                              type: "CreditCard",
                              threeDSecureInfo: null,
                            },
                          ],
                        }),
                        o.authenticationInsight &&
                          ((n =
                            o.authenticationInsight
                              .customerAuthenticationRegulationEnvironment),
                          (t.creditCards[0].authenticationInsight = {
                            regulationEnvironment: s[n] || n.toLowerCase(),
                          })),
                        t
                      );
                    }
                  : n
              )(e);
              return t;
            };
          },
          {
            "./error": 27,
          },
        ],
        27: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              var t,
                n,
                i =
                  e.errors &&
                  e.errors[0] &&
                  e.errors[0].extensions &&
                  e.errors[0].extensions.errorClass,
                r =
                  "VALIDATION" === i
                    ? 0 !==
                      (n = (function (e) {
                        var t = [];
                        return (
                          e.forEach(function (e) {
                            e.extensions &&
                              e.extensions.inputPath &&
                              !(function n(e, t, i) {
                                var r,
                                  s = t.extensions.legacyCode,
                                  o = e[0];
                                return 1 === e.length
                                  ? void i.push({
                                      code: s,
                                      field: o,
                                      message: t.message,
                                    })
                                  : (i.forEach(function (e) {
                                      e.field === o && (r = e);
                                    }),
                                    r ||
                                      ((r = {
                                        field: o,
                                        fieldErrors: [],
                                      }),
                                      i.push(r)),
                                    void n(e.slice(1), t, r.fieldErrors));
                              })(e.extensions.inputPath.slice(1), e, t);
                          }),
                          t
                        );
                      })((t = e).errors)).length
                      ? {
                          error: {
                            message: (function (e) {
                              var t = e[0].field;
                              return {
                                creditCard: "Credit card is invalid",
                              }[t];
                            })(n),
                          },
                          fieldErrors: n,
                        }
                      : {
                          error: {
                            message: t.errors[0].message,
                          },
                        }
                    : i
                    ? {
                        error: {
                          message: e.errors[0].message,
                        },
                        fieldErrors: [],
                      }
                    : {
                        error: {
                          message: "There was a problem serving your request",
                        },
                        fieldErrors: [],
                      };
              return r;
            };
          },
          {},
        ],
        28: [
          function (e, t) {
            "use strict";
            t.exports = function () {
              return {
                query:
                  "query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",
                operationName: "ClientConfiguration",
              };
            };
          },
          {},
        ],
        29: [
          function (e, t) {
            "use strict";
            function n(e, t) {
              var n = e.creditCard,
                r = n && n.billingAddress,
                s = n && n.expirationDate,
                o = n && (n.expirationMonth || (s && s.split("/")[0].trim())),
                a = n && (n.expirationYear || (s && s.split("/")[1].trim())),
                l = {
                  input: {
                    creditCard: {
                      number: n && n.number,
                      expirationMonth: o,
                      expirationYear: a,
                      cvv: n && n.cvv,
                      cardholderName: n && n.cardholderName,
                    },
                    options: {},
                  },
                };
              return (
                t.hasAuthenticationInsight &&
                  (l.authenticationInsightInput = {
                    merchantAccountId: e.merchantAccountId,
                  }),
                r && (l.input.creditCard.billingAddress = r),
                (l.input = (function (e, t) {
                  var n;
                  return (
                    e.creditCard &&
                    e.creditCard.options &&
                    "boolean" == typeof e.creditCard.options.validate
                      ? (n = e.creditCard.options.validate)
                      : (e.authorizationFingerprint && e.tokenizationKey) ||
                        e.authorizationFingerprint
                      ? (n = !0)
                      : e.tokenizationKey && (n = !1),
                    "boolean" == typeof n &&
                      (t.options = i(
                        {
                          validate: n,
                        },
                        t.options
                      )),
                    t
                  );
                })(e, l.input)),
                l
              );
            }
            var i = e("../../../../lib/assign").assign;
            t.exports = function (e) {
              var t,
                i,
                r = {
                  hasAuthenticationInsight: Boolean(
                    e.authenticationInsight && e.merchantAccountId
                  ),
                };
              return {
                query:
                  ((i =
                    "mutation TokenizeCreditCard($input: TokenizeCreditCardInput!"),
                  (t = r.hasAuthenticationInsight) &&
                    (i +=
                      ", $authenticationInsightInput: AuthenticationInsightInput!"),
                  (i +=
                    ") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } "),
                  t &&
                    (i +=
                      "    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),
                  (i += "  } }")),
                variables: n(e, r),
                operationName: "TokenizeCreditCard",
              };
            };
          },
          {
            "../../../../lib/assign": 41,
          },
        ],
        30: [
          function (e, t) {
            "use strict";
            function n(e) {
              this._config = e.graphQL;
            }
            var i = e("../../browser-detection"),
              r = {
                tokenize_credit_cards: "payment_methods/credit_cards",
                configuration: "configuration",
              },
              s = ["creditCard.options.unionPayEnrollment"];
            (n.prototype.getGraphQLEndpoint = function () {
              return this._config.url;
            }),
              (n.prototype.isGraphQLRequest = function (e, t) {
                var n,
                  o,
                  a = this.getClientApiPath(e);
                return (
                  !(!this._isGraphQLEnabled() || !a || i.isIe9()) &&
                  ((n = this._config.features.some(function (e) {
                    return r[e] === a;
                  })),
                  (o = t),
                  !s.some(function (e) {
                    return (
                      void 0 !==
                      e.split(".").reduce(function (e, t) {
                        return e && e[t];
                      }, o)
                    );
                  }) && n)
                );
              }),
              (n.prototype.getClientApiPath = function (e) {
                var t,
                  n = e.split("/client_api/v1/");
                return 1 < n.length && (t = n[1].split("?")[0]), t;
              }),
              (n.prototype._isGraphQLEnabled = function () {
                return Boolean(this._config);
              }),
              (t.exports = n);
          },
          {
            "../../browser-detection": 16,
          },
        ],
        31: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t = e.graphQL.getClientApiPath(e.url);
              (this._graphQL = e.graphQL),
                (this._data = e.data),
                (this._method = e.method),
                (this._headers = e.headers),
                (this._clientSdkMetadata = {
                  source: e.metadata.source,
                  integration: e.metadata.integration,
                  sessionId: e.metadata.sessionId,
                }),
                (this._sendAnalyticsEvent =
                  e.sendAnalyticsEvent || Function.prototype),
                (this._generator = u[t]),
                (this._adapter = d[t]),
                this._sendAnalyticsEvent("graphql.init");
            }
            function i(e) {
              return -1 === e.indexOf("_")
                ? e
                : e.toLowerCase().replace(/(\_\w)/g, function (e) {
                    return e[1].toUpperCase();
                  });
            }
            var r = e("../../constants").BRAINTREE_VERSION,
              s = e("../../../lib/assign").assign,
              o = e("./generators/credit-card-tokenization"),
              a = e("./adapters/credit-card-tokenization"),
              l = e("./generators/configuration"),
              c = e("./adapters/configuration"),
              u = {
                "payment_methods/credit_cards": o,
                configuration: l,
              },
              d = {
                "payment_methods/credit_cards": a,
                configuration: c,
              };
            (n.prototype.getUrl = function () {
              return this._graphQL.getGraphQLEndpoint();
            }),
              (n.prototype.getBody = function () {
                var e = (function r(e) {
                    var t = {};
                    return (
                      Object.keys(e).forEach(function (n) {
                        var s = i(n);
                        t[s] =
                          "object" == typeof e[n]
                            ? r(e[n])
                            : "number" == typeof e[n]
                            ? String(e[n])
                            : e[n];
                      }),
                      t
                    );
                  })(this._data),
                  t = this._generator(e),
                  n = s(
                    {
                      clientSdkMetadata: this._clientSdkMetadata,
                    },
                    t
                  );
                return JSON.stringify(n);
              }),
              (n.prototype.getMethod = function () {
                return "POST";
              }),
              (n.prototype.getHeaders = function () {
                var e = this._data.authorizationFingerprint
                    ? (this._sendAnalyticsEvent(
                        "graphql.authorization-fingerprint"
                      ),
                      this._data.authorizationFingerprint)
                    : (this._sendAnalyticsEvent("graphql.tokenization-key"),
                      this._data.tokenizationKey),
                  t = {
                    Authorization: "Bearer " + e,
                    "Braintree-Version": r,
                  };
                return s({}, this._headers, t);
              }),
              (n.prototype.adaptResponseBody = function (e) {
                return this._adapter(e, this);
              }),
              (n.prototype.determineStatus = function (e, t) {
                var n,
                  i,
                  r =
                    200 === e
                      ? ((n =
                          t.errors &&
                          t.errors[0] &&
                          t.errors[0].extensions &&
                          t.errors[0].extensions.errorClass),
                        t.data && !t.errors
                          ? 200
                          : "VALIDATION" === n
                          ? 422
                          : "AUTHORIZATION" === n
                          ? 403
                          : "AUTHENTICATION" === n
                          ? 401
                          : ((i = t), !n && i.errors[0].message ? 403 : 500))
                      : e || 500;
                return (
                  this._sendAnalyticsEvent("graphql.status." + e),
                  this._sendAnalyticsEvent("graphql.determinedStatus." + r),
                  r
                );
              }),
              (t.exports = n);
          },
          {
            "../../../lib/assign": 41,
            "../../constants": 18,
            "./adapters/configuration": 25,
            "./adapters/credit-card-tokenization": 26,
            "./generators/configuration": 28,
            "./generators/credit-card-tokenization": 29,
          },
        ],
        32: [
          function (e, t) {
            "use strict";
            var n,
              i = e("../../lib/once"),
              r = e("./jsonp-driver"),
              s = e("./ajax-driver"),
              o = e("./get-user-agent"),
              a = e("./is-http");
            t.exports = function (e, t) {
              (t = i(t || Function.prototype)),
                (e.method = (e.method || "GET").toUpperCase()),
                (e.timeout = null == e.timeout ? 6e4 : e.timeout),
                (e.data = e.data || {}),
                null == n && (n = !(a() && /MSIE\s(8|9)/.test(o()))),
                n ? s.request(e, t) : r.request(e, t);
            };
          },
          {
            "../../lib/once": 54,
            "./ajax-driver": 22,
            "./get-user-agent": 24,
            "./is-http": 33,
            "./jsonp-driver": 34,
          },
        ],
        33: [
          function (e, t) {
            "use strict";
            t.exports = function () {
              return "http:" === window.location.protocol;
            };
          },
          {},
        ],
        34: [
          function (e, t) {
            "use strict";
            function n(e) {
              try {
                delete window[e];
              } catch (t) {
                window[e] = null;
              }
            }
            function i(e, t, i) {
              window[i] = function (r) {
                var s,
                  o = r.status || 500,
                  l = null,
                  c = null;
                delete r.status,
                  o >= 400 || 200 > o ? (l = r) : (c = r),
                  n(i),
                  (s = e) && s.parentNode && s.parentNode.removeChild(s),
                  clearTimeout(a[i]),
                  t(l, c, o);
              };
            }
            var r,
              s = e("@braintree/uuid"),
              o = e("../../lib/querystring"),
              a = {};
            t.exports = {
              request: function (e, t) {
                var l,
                  c,
                  u,
                  d,
                  p,
                  h,
                  f,
                  m = "callback_json_" + s().replace(/-/g, ""),
                  g = e.url,
                  _ = e.data,
                  v = e.method,
                  y = e.timeout,
                  g = o.queryify(g, _);
                (g = o.queryify(g, {
                  _method: v,
                  callback: m,
                })),
                  (c = g),
                  (u = m),
                  (d = document.createElement("script")),
                  (p = !1),
                  (d.src = c),
                  (d.async = !0),
                  (d.onerror = function () {
                    window[u]({
                      message: "error",
                      status: 500,
                    });
                  }),
                  (d.onload = d.onreadystatechange =
                    function () {
                      p ||
                        (this.readyState &&
                          "loaded" !== this.readyState &&
                          "complete" !== this.readyState) ||
                        ((p = !0), (d.onload = d.onreadystatechange = null));
                    }),
                  i((l = d), t, m),
                  (h = y),
                  (a[(f = m)] = setTimeout(function () {
                    (a[f] = null),
                      window[f]({
                        error: "timeout",
                        status: -1,
                      }),
                      (window[f] = function () {
                        n(f);
                      });
                  }, h)),
                  (r =
                    r || document.getElementsByTagName("head")[0]).appendChild(
                    l
                  );
              },
            };
          },
          {
            "../../lib/querystring": 56,
            "@braintree/uuid": 10,
          },
        ],
        35: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              try {
                e = JSON.parse(e);
              } catch (e) {}
              return e;
            };
          },
          {},
        ],
        36: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t) {
              if ("string" != typeof e)
                throw new Error("Method must be a string");
              return (
                "get" !== e.toLowerCase() &&
                  null != t &&
                  (t = "string" == typeof t ? t : JSON.stringify(t)),
                t
              );
            };
          },
          {},
        ],
        37: [
          function (e, t) {
            "use strict";
            var n =
              "undefined" != typeof window &&
              window.XMLHttpRequest &&
              "withCredentials" in new window.XMLHttpRequest();
            t.exports = {
              isAvailable: n,
              getRequestObject: function () {
                return n
                  ? new window.XMLHttpRequest()
                  : new window.XDomainRequest();
              },
            };
          },
          {},
        ],
        38: [
          function (e, t) {
            "use strict";
            var n = e("./create-authorization-data"),
              i = e("./json-clone"),
              r = e("./constants");
            t.exports = function (e, t) {
              var s,
                o = t ? i(t) : {},
                a = n(e.authorization).attrs,
                l = i(e.analyticsMetadata);
              for (s in ((o.braintreeLibraryVersion =
                r.BRAINTREE_LIBRARY_VERSION),
              o._meta))
                o._meta.hasOwnProperty(s) && (l[s] = o._meta[s]);
              return (
                (o._meta = l),
                a.tokenizationKey
                  ? (o.tokenizationKey = a.tokenizationKey)
                  : (o.authorizationFingerprint = a.authorizationFingerprint),
                o
              );
            };
          },
          {
            "./constants": 43,
            "./create-authorization-data": 46,
            "./json-clone": 52,
          },
        ],
        39: [
          function (e, t) {
            "use strict";
            var n = e("./promise"),
              i = e("./constants"),
              r = e("./add-metadata");
            t.exports = {
              sendEvent: function (e, t, s) {
                var o = Date.now();
                return n.resolve(e).then(function (e) {
                  var n = Date.now(),
                    a = e.getConfiguration(),
                    l = e._request,
                    c = a.gatewayConfiguration.analytics.url,
                    u = {
                      analytics: [
                        {
                          kind: i.ANALYTICS_PREFIX + t,
                          isAsync: Math.floor(n / 1e3) !== Math.floor(o / 1e3),
                          timestamp: o,
                        },
                      ],
                    };
                  l(
                    {
                      url: c,
                      method: "post",
                      data: r(a, u),
                      timeout: i.ANALYTICS_REQUEST_TIMEOUT_MS,
                    },
                    s
                  );
                });
              },
            };
          },
          {
            "./add-metadata": 38,
            "./constants": 43,
            "./promise": 55,
          },
        ],
        40: [
          function (e, t) {
            "use strict";
            var n = e("@braintree/asset-loader/load-script");
            t.exports = {
              loadScript: n,
            };
          },
          {
            "@braintree/asset-loader/load-script": 3,
          },
        ],
        41: [
          function (e, t) {
            "use strict";
            function n(e) {
              for (var t, n, i = 1; i < arguments.length; i++)
                for (n in (t = arguments[i]))
                  t.hasOwnProperty(n) && (e[n] = t[n]);
              return e;
            }
            var i = "function" == typeof Object.assign ? Object.assign : n;
            t.exports = {
              assign: i,
              _assign: n,
            };
          },
          {},
        ],
        42: [
          function (e, t) {
            "use strict";
            function n(e) {
              if (!n.types.hasOwnProperty(e.type))
                throw new Error(e.type + " is not a valid type.");
              if (!e.code) throw new Error("Error code required.");
              if (!e.message) throw new Error("Error message required.");
              (this.name = "BraintreeError"),
                (this.code = e.code),
                (this.message = e.message),
                (this.type = e.type),
                (this.details = e.details);
            }
            var i = e("./enumerate");
            (n.prototype = Object.create(Error.prototype)),
              ((n.prototype.constructor = n).types = i([
                "CUSTOMER",
                "MERCHANT",
                "NETWORK",
                "INTERNAL",
                "UNKNOWN",
              ])),
              (n.findRootError = function (e) {
                return e instanceof n && e.details && e.details.originalError
                  ? n.findRootError(e.details.originalError)
                  : e;
              }),
              (t.exports = n);
          },
          {
            "./enumerate": 48,
          },
        ],
        43: [
          function (e, t) {
            "use strict";
            t.exports = {
              ANALYTICS_PREFIX: "web.",
              ANALYTICS_REQUEST_TIMEOUT_MS: 2e3,
              ASSETS_URLS: {
                production: "https://assets.braintreegateway.com",
                sandbox: "https://assets.braintreegateway.com",
              },
              CLIENT_API_URLS: {
                production: "https://api.braintreegateway.com:443",
                sandbox: "https://api.sandbox.braintreegateway.com:443",
              },
              FRAUDNET_SOURCE: "BRAINTREE_SIGNIN",
              FRAUDNET_FNCLS: "fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",
              FRAUDNET_URL: "https://c.paypal.com/da/r/fb.js",
              GRAPHQL_URLS: {
                production: "https://payments.braintree-api.com/graphql",
                sandbox: "https://payments.sandbox.braintree-api.com/graphql",
              },
              INTEGRATION_TIMEOUT_MS: 6e4,
              VERSION: "3.64.2",
              INTEGRATION: "custom",
              SOURCE: "client",
              PLATFORM: "web",
              BRAINTREE_LIBRARY_VERSION: "braintree/web/3.64.2",
            };
          },
          {},
        ],
        44: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error"),
              i = e("./errors");
            t.exports = function (e, t) {
              t.forEach(function (t) {
                e[t] = function () {
                  throw new n({
                    type: i.METHOD_CALLED_AFTER_TEARDOWN.type,
                    code: i.METHOD_CALLED_AFTER_TEARDOWN.code,
                    message: t + " cannot be called after teardown.",
                  });
                };
              });
            };
          },
          {
            "./braintree-error": 42,
            "./errors": 49,
          },
        ],
        45: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error");
            t.exports = function (e, t) {
              return e instanceof n
                ? e
                : new n({
                    type: t.type,
                    code: t.code,
                    message: t.message,
                    details: {
                      originalError: e,
                    },
                  });
            };
          },
          {
            "./braintree-error": 42,
          },
        ],
        46: [
          function (e, t) {
            "use strict";
            var n = e("../lib/vendor/polyfill").atob,
              i = e("../lib/constants").CLIENT_API_URLS;
            t.exports = function (e) {
              var t,
                r,
                s,
                o,
                a = {
                  attrs: {},
                  configUrl: "",
                };
              return (
                /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)
                  ? ((s = e.split("_")),
                    (o = s[0]),
                    (r = {
                      merchantId: s.slice(2).join("_"),
                      environment: o,
                    }),
                    (a.environment = r.environment),
                    (a.attrs.tokenizationKey = e),
                    (a.configUrl =
                      i[r.environment] +
                      "/merchants/" +
                      r.merchantId +
                      "/client_api/v1/configuration"))
                  : ((t = JSON.parse(n(e))),
                    (a.environment = t.environment),
                    (a.attrs.authorizationFingerprint =
                      t.authorizationFingerprint),
                    (a.configUrl = t.configUrl),
                    (a.graphQL = t.graphQL)),
                a
              );
            };
          },
          {
            "../lib/constants": 43,
            "../lib/vendor/polyfill": 57,
          },
        ],
        47: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return function () {
                var t = arguments;
                setTimeout(function () {
                  e.apply(null, t);
                }, 1);
              };
            };
          },
          {},
        ],
        48: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t) {
              return (
                (t = null == t ? "" : t),
                e.reduce(function (e, n) {
                  return (e[n] = t + n), e;
                }, {})
              );
            };
          },
          {},
        ],
        49: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error");
            t.exports = {
              INVALID_USE_OF_INTERNAL_FUNCTION: {
                type: n.types.INTERNAL,
                code: "INVALID_USE_OF_INTERNAL_FUNCTION",
              },
              INSTANTIATION_OPTION_REQUIRED: {
                type: n.types.MERCHANT,
                code: "INSTANTIATION_OPTION_REQUIRED",
              },
              INCOMPATIBLE_VERSIONS: {
                type: n.types.MERCHANT,
                code: "INCOMPATIBLE_VERSIONS",
              },
              CLIENT_SCRIPT_FAILED_TO_LOAD: {
                type: n.types.NETWORK,
                code: "CLIENT_SCRIPT_FAILED_TO_LOAD",
                message: "Braintree client script could not be loaded.",
              },
              METHOD_CALLED_AFTER_TEARDOWN: {
                type: n.types.MERCHANT,
                code: "METHOD_CALLED_AFTER_TEARDOWN",
              },
            };
          },
          {
            "./braintree-error": 42,
          },
        ],
        50: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t = e.split("-");
              return new Date(t[0], t[1], t[2]);
            }
            t.exports = function (e, t) {
              return n(e) <= n(t);
            };
          },
          {},
        ],
        51: [
          function (e, t) {
            "use strict";
            var n,
              i = {
                "paypal.com": 1,
                "braintreepayments.com": 1,
                "braintreegateway.com": 1,
                "braintree-api.com": 1,
              };
            t.exports = function (e) {
              var t;
              return (
                (e = e.toLowerCase()),
                !!/^https:/.test(e) &&
                  (((n = n || document.createElement("a")).href = e),
                  (t = n.hostname.split(".").slice(-2).join(".")),
                  i.hasOwnProperty(t))
              );
            };
          },
          {},
        ],
        52: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return JSON.parse(JSON.stringify(e));
            };
          },
          {},
        ],
        53: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return Object.keys(e).filter(function (t) {
                return "function" == typeof e[t];
              });
            };
          },
          {},
        ],
        54: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              var t = !1;
              return function () {
                t || ((t = !0), e.apply(null, arguments));
              };
            };
          },
          {},
        ],
        55: [
          function (e, t) {
            "use strict";
            var n = e("promise-polyfill"),
              i = e("@braintree/extended-promise"),
              r = "undefined" != typeof Promise ? Promise : n;
            (i.suppressUnhandledPromiseMessage = !0),
              i.setPromise(r),
              (t.exports = r);
          },
          {
            "@braintree/extended-promise": 9,
            "promise-polyfill": 15,
          },
        ],
        56: [
          function (e, t) {
            "use strict";
            function n(e, t) {
              var i,
                r,
                s,
                o,
                a = [];
              for (s in e)
                e.hasOwnProperty(s) &&
                  ((r = e[s]),
                  (i = t
                    ? (o = e) &&
                      "object" == typeof o &&
                      "number" == typeof o.length &&
                      "[object Array]" === Object.prototype.toString.call(o)
                      ? t + "[]"
                      : t + "[" + s + "]"
                    : s),
                  a.push(
                    "object" == typeof r
                      ? n(r, i)
                      : encodeURIComponent(i) + "=" + encodeURIComponent(r)
                  ));
              return a.join("&");
            }
            t.exports = {
              parse: function (e) {
                return (
                  (e = e || window.location.href),
                  /\?/.test(e)
                    ? e
                        .replace(/#.*$/, "")
                        .replace(/^.*\?/, "")
                        .split("&")
                        .reduce(function (e, t) {
                          var n = t.split("="),
                            i = decodeURIComponent(n[0]),
                            r = decodeURIComponent(n[1]);
                          return (e[i] = r), e;
                        }, {})
                    : {}
                );
              },
              stringify: n,
              queryify: function (e, t) {
                return (
                  (e = e || ""),
                  null != t &&
                    "object" == typeof t &&
                    (function (e) {
                      var t;
                      for (t in e) if (e.hasOwnProperty(t)) return 1;
                    })(t) &&
                    ((e += -1 === e.indexOf("?") ? "?" : ""),
                    (e += -1 !== e.indexOf("=") ? "&" : ""),
                    (e += n(t))),
                  e
                );
              },
            };
          },
          {},
        ],
        57: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t,
                n,
                i,
                r,
                s,
                o,
                a =
                  "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                l = "";
              if (
                !new RegExp(
                  "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"
                ).test(e)
              )
                throw new Error(
                  "Non base64 encoded input passed to window.atob polyfill"
                );
              for (
                o = 0;
                (t =
                  ((63 & a.indexOf(e.charAt(o++))) << 2) |
                  (((r = a.indexOf(e.charAt(o++))) >> 4) & 3)),
                  (n =
                    ((15 & r) << 4) |
                    (((s = a.indexOf(e.charAt(o++))) >> 2) & 15)),
                  (i = ((3 & s) << 6) | (63 & a.indexOf(e.charAt(o++)))),
                  (l +=
                    String.fromCharCode(t) +
                    (n ? String.fromCharCode(n) : "") +
                    (i ? String.fromCharCode(i) : "")),
                  o < e.length;

              );
              return l;
            }
            var i = "function" == typeof atob ? window.atob : n;
            t.exports = {
              atob: function (e) {
                return i.call(window, e);
              },
              _atob: n,
            };
          },
          {},
        ],
      },
      {},
      [21]
    )(21);
  }),
  !(function (e) {
    var t;
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = e())
      : "function" == typeof define && define.amd
      ? define([], e)
      : ((
          (t =
            "undefined" != typeof window
              ? window
              : "undefined" != typeof global
              ? global
              : "undefined" != typeof self
              ? self
              : this).braintree || (t.braintree = {})
        ).dataCollector = e());
  })(function () {
    return (function e(t, n, i) {
      function r(o, a) {
        if (!n[o]) {
          if (!t[o]) {
            var l = "function" == typeof require && require;
            if (!a && l) return l(o, !0);
            if (s) return s(o, !0);
            var c = new Error("Cannot find module '" + o + "'");
            throw ((c.code = "MODULE_NOT_FOUND"), c);
          }
          var u = (n[o] = {
            exports: {},
          });
          t[o][0].call(
            u.exports,
            function (e) {
              return r(t[o][1][e] || e);
            },
            u,
            u.exports,
            e,
            t,
            n,
            i
          );
        }
        return n[o].exports;
      }
      for (
        var s = "function" == typeof require && require, o = 0;
        o < i.length;
        o++
      )
        r(i[o]);
      return r;
    })(
      {
        1: [
          function (e, t, n) {
            "use strict";
            var i =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule
                  ? e
                  : {
                      default: e,
                    };
              };
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.PromiseGlobal = void 0);
            var r = i(e("promise-polyfill")),
              s = "undefined" != typeof Promise ? Promise : r["default"];
            n.PromiseGlobal = s;
          },
          {
            "promise-polyfill": 9,
          },
        ],
        2: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t,
                n = JSON.stringify(e);
              if (!e.forceScriptReload && (t = r[n])) return t;
              var s = document.createElement("script"),
                o = e.dataAttributes || {},
                a = e.container || document.head;
              return (
                (s.src = e.src),
                (s.id = e.id || ""),
                (s.async = !0),
                e.crossorigin &&
                  s.setAttribute("crossorigin", "" + e.crossorigin),
                Object.keys(o).forEach(function (e) {
                  s.setAttribute("data-" + e, "" + o[e]);
                }),
                (t = new i.PromiseGlobal(function (t, n) {
                  s.addEventListener("load", function () {
                    t(s);
                  }),
                    s.addEventListener("error", function () {
                      n(new Error(e.src + " failed to load."));
                    }),
                    s.addEventListener("abort", function () {
                      n(new Error(e.src + " has aborted."));
                    }),
                    a.appendChild(s);
                })),
                (r[n] = t)
              );
            }
            var i = e("./lib/promise"),
              r = {};
            (n.clearCache = function () {
              r = {};
            }),
              (t.exports = n);
          },
          {
            "./lib/promise": 1,
          },
        ],
        3: [
          function (e, t) {
            t.exports = e("./dist/load-script");
          },
          {
            "./dist/load-script": 2,
          },
        ],
        4: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t = this;
              "function" != typeof e
                ? ((this._promise = new n.Promise(function (e, n) {
                    (t._resolveFunction = e), (t._rejectFunction = n);
                  })),
                  (e = e || {}),
                  (this._onResolve = e.onResolve || n.defaultOnResolve),
                  (this._onReject = e.onReject || n.defaultOnReject),
                  n.shouldCatchExceptions(e) &&
                    this._promise["catch"](function () {}),
                  this._resetState())
                : (this._promise = new n.Promise(e));
            }
            var i = "undefined" != typeof Promise ? Promise : null,
              r =
                ((n.defaultOnResolve = function (e) {
                  return n.Promise.resolve(e);
                }),
                (n.defaultOnReject = function (e) {
                  return n.Promise.reject(e);
                }),
                (n.setPromise = function (e) {
                  n.Promise = e;
                }),
                (n.shouldCatchExceptions = function (e) {
                  return Boolean(
                    e.hasOwnProperty("suppressUnhandledPromiseMessage")
                      ? e.suppressUnhandledPromiseMessage
                      : n.suppressUnhandledPromiseMessage
                  );
                }),
                (n.all = function (e) {
                  return n.Promise.all(e);
                }),
                (n.allSettled = function (e) {
                  return n.Promise.allSettled(e);
                }),
                (n.race = function (e) {
                  return n.Promise.race(e);
                }),
                (n.reject = function (e) {
                  return n.Promise.reject(e);
                }),
                (n.resolve = function (e) {
                  return n.Promise.resolve(e);
                }),
                (n.prototype.then = function () {
                  for (var e, t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  return (e = this._promise).then.apply(e, t);
                }),
                (n.prototype["catch"] = function () {
                  for (var e, t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  return (e = this._promise)["catch"].apply(e, t);
                }),
                (n.prototype.resolve = function (e) {
                  var t = this;
                  return (
                    this.isFulfilled ||
                      (this._setResolved(),
                      n.Promise.resolve()
                        .then(function () {
                          return t._onResolve(e);
                        })
                        .then(function (e) {
                          t._resolveFunction(e);
                        })
                        ["catch"](function (e) {
                          t._resetState(), t.reject(e);
                        })),
                    this
                  );
                }),
                (n.prototype.reject = function (e) {
                  var t = this;
                  return (
                    this.isFulfilled ||
                      (this._setRejected(),
                      n.Promise.resolve()
                        .then(function () {
                          return t._onReject(e);
                        })
                        .then(function (e) {
                          t._setResolved(), t._resolveFunction(e);
                        })
                        ["catch"](function (e) {
                          return t._rejectFunction(e);
                        })),
                    this
                  );
                }),
                (n.prototype._resetState = function () {
                  (this.isFulfilled = !1),
                    (this.isResolved = !1),
                    (this.isRejected = !1);
                }),
                (n.prototype._setResolved = function () {
                  (this.isFulfilled = !0),
                    (this.isResolved = !0),
                    (this.isRejected = !1);
                }),
                (n.prototype._setRejected = function () {
                  (this.isFulfilled = !0),
                    (this.isResolved = !1),
                    (this.isRejected = !0);
                }),
                (n.Promise = i),
                n);
            t.exports = r;
          },
          {},
        ],
        5: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.deferred = function (e) {
                return function () {
                  for (var t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  setTimeout(function () {
                    try {
                      e.apply(void 0, t);
                    } catch (t) {
                      console.log("Error in callback function"), console.log(t);
                    }
                  }, 1);
                };
              });
          },
          {},
        ],
        6: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.once = function (e) {
                var t = !1;
                return function () {
                  for (var n = [], i = 0; i < arguments.length; i++)
                    n[i] = arguments[i];
                  t || ((t = !0), e.apply(void 0, n));
                };
              });
          },
          {},
        ],
        7: [
          function (e, t, n) {
            "use strict";
            Object.defineProperty(n, "__esModule", {
              value: !0,
            }),
              (n.promiseOrCallback = function (e, t) {
                return t
                  ? void e
                      .then(function (e) {
                        return t(null, e);
                      })
                      ["catch"](function (e) {
                        return t(e);
                      })
                  : e;
              });
          },
          {},
        ],
        8: [
          function (e, t) {
            "use strict";
            function n(e) {
              return function () {
                for (var t, n = [], o = 0; o < arguments.length; o++)
                  n[o] = arguments[o];
                return (
                  "function" == typeof n[n.length - 1] &&
                    ((t = n.pop()), (t = r.once(i.deferred(t)))),
                  s.promiseOrCallback(e.apply(this, n), t)
                );
              };
            }
            var i = e("./lib/deferred"),
              r = e("./lib/once"),
              s = e("./lib/promise-or-callback");
            (n.wrapPrototype = function (e, t) {
              void 0 === t && (t = {});
              var i = t.ignoreMethods || [],
                r = !0 === t.transformPrivateMethods;
              return (
                Object.getOwnPropertyNames(e.prototype)
                  .filter(function (t) {
                    var n =
                        "constructor" !== t &&
                        "function" == typeof e.prototype[t],
                      s = -1 === i.indexOf(t),
                      o = r || "_" !== t.charAt(0);
                    return n && o && s;
                  })
                  .forEach(function (t) {
                    var i = e.prototype[t];
                    e.prototype[t] = n(i);
                  }),
                e
              );
            }),
              (t.exports = n);
          },
          {
            "./lib/deferred": 5,
            "./lib/once": 6,
            "./lib/promise-or-callback": 7,
          },
        ],
        9: [
          function (e, t) {
            "use strict";
            function n(e) {
              return Boolean(e && void 0 !== e.length);
            }
            function i() {}
            function r(e) {
              if (!(this instanceof r))
                throw new TypeError("Promises must be constructed via new");
              if ("function" != typeof e) throw new TypeError("not a function");
              (this._state = 0),
                (this._handled = !1),
                (this._value = void 0),
                (this._deferreds = []),
                u(e, this);
            }
            function s(e, t) {
              for (; 3 === e._state; ) e = e._value;
              0 !== e._state
                ? ((e._handled = !0),
                  r._immediateFn(function () {
                    var n,
                      i = 1 === e._state ? t.onFulfilled : t.onRejected;
                    if (null !== i) {
                      try {
                        n = i(e._value);
                      } catch (n) {
                        return void a(t.promise, n);
                      }
                      o(t.promise, n);
                    } else (1 === e._state ? o : a)(t.promise, e._value);
                  }))
                : e._deferreds.push(t);
            }
            function o(e, t) {
              try {
                if (t === e)
                  throw new TypeError(
                    "A promise cannot be resolved with itself."
                  );
                if (t && ("object" == typeof t || "function" == typeof t)) {
                  var n = t.then;
                  if (t instanceof r)
                    return (e._state = 3), (e._value = t), void l(e);
                  if ("function" == typeof n)
                    return void u(
                      ((i = n),
                      (s = t),
                      function () {
                        i.apply(s, arguments);
                      }),
                      e
                    );
                }
                (e._state = 1), (e._value = t), l(e);
              } catch (t) {
                a(e, t);
              }
              var i, s;
            }
            function a(e, t) {
              (e._state = 2), (e._value = t), l(e);
            }
            function l(e) {
              2 === e._state &&
                0 === e._deferreds.length &&
                r._immediateFn(function () {
                  e._handled || r._unhandledRejectionFn(e._value);
                });
              for (var t = 0, n = e._deferreds.length; n > t; t++)
                s(e, e._deferreds[t]);
              e._deferreds = null;
            }
            function c(e, t, n) {
              (this.onFulfilled = "function" == typeof e ? e : null),
                (this.onRejected = "function" == typeof t ? t : null),
                (this.promise = n);
            }
            function u(e, t) {
              var n = !1;
              try {
                e(
                  function (e) {
                    n || ((n = !0), o(t, e));
                  },
                  function (e) {
                    n || ((n = !0), a(t, e));
                  }
                );
              } catch (e) {
                if (n) return;
                (n = !0), a(t, e);
              }
            }
            var d = setTimeout;
            (r.prototype["catch"] = function (e) {
              return this.then(null, e);
            }),
              (r.prototype.then = function (e, t) {
                var n = new this.constructor(i);
                return s(this, new c(e, t, n)), n;
              }),
              (r.prototype["finally"] = function (e) {
                var t = this.constructor;
                return this.then(
                  function (n) {
                    return t.resolve(e()).then(function () {
                      return n;
                    });
                  },
                  function (n) {
                    return t.resolve(e()).then(function () {
                      return t.reject(n);
                    });
                  }
                );
              }),
              (r.all = function (e) {
                return new r(function (t, i) {
                  if (!n(e))
                    return i(new TypeError("Promise.all accepts an array"));
                  var r = Array.prototype.slice.call(e);
                  if (0 === r.length) return t([]);
                  for (var s = r.length, o = 0; o < r.length; o++)
                    !(function a(e, n) {
                      try {
                        if (
                          n &&
                          ("object" == typeof n || "function" == typeof n)
                        ) {
                          var o = n.then;
                          if ("function" == typeof o)
                            return void o.call(
                              n,
                              function (t) {
                                a(e, t);
                              },
                              i
                            );
                        }
                        (r[e] = n), 0 == --s && t(r);
                      } catch (n) {
                        i(n);
                      }
                    })(o, r[o]);
                });
              }),
              (r.resolve = function (e) {
                return e && "object" == typeof e && e.constructor === r
                  ? e
                  : new r(function (t) {
                      t(e);
                    });
              }),
              (r.reject = function (e) {
                return new r(function (t, n) {
                  n(e);
                });
              }),
              (r.race = function (e) {
                return new r(function (t, i) {
                  if (!n(e))
                    return i(new TypeError("Promise.race accepts an array"));
                  for (var s = 0, o = e.length; o > s; s++)
                    r.resolve(e[s]).then(t, i);
                });
              }),
              (r._immediateFn =
                "function" == typeof setImmediate
                  ? function (e) {
                      setImmediate(e);
                    }
                  : function (e) {
                      d(e, 0);
                    }),
              (r._unhandledRejectionFn = function (e) {
                "undefined" != typeof console &&
                  console &&
                  console.warn("Possible Unhandled Promise Rejection:", e);
              }),
              (t.exports = r);
          },
          {},
        ],
        10: [
          function (e, t) {
            "use strict";
            var n = e("../lib/braintree-error");
            t.exports = {
              DATA_COLLECTOR_KOUNT_NOT_ENABLED: {
                type: n.types.MERCHANT,
                code: "DATA_COLLECTOR_KOUNT_NOT_ENABLED",
                message: "Kount is not enabled for this merchant.",
              },
              DATA_COLLECTOR_KOUNT_ERROR: {
                type: n.types.MERCHANT,
                code: "DATA_COLLECTOR_KOUNT_ERROR",
              },
              DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS: {
                type: n.types.MERCHANT,
                code: "DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",
                message:
                  "Data Collector must be created with Kount and/or PayPal.",
              },
            };
          },
          {
            "../lib/braintree-error": 17,
          },
        ],
        11: [
          function (e, t) {
            "use strict";
            function n() {}
            function i(e) {
              e && e.parentNode && e.parentNode.removeChild(e);
            }
            var r,
              s = e("../lib/constants").FRAUDNET_FNCLS,
              o = e("../lib/constants").FRAUDNET_SOURCE,
              a = e("../lib/constants").FRAUDNET_URL,
              l = e("../lib/assets").loadScript,
              c = e("../lib/promise");
            (n.prototype.initialize = function () {
              var e,
                t,
                n,
                i,
                c,
                u = this;
              return (
                (this.sessionId = r =
                  (function () {
                    var e,
                      t = "";
                    for (e = 0; 32 > e; e++)
                      t += Math.floor(16 * Math.random()).toString(16);
                    return t;
                  })()),
                (this._beaconId =
                  ((e = this.sessionId),
                  (t = new Date().getTime() / 1e3),
                  "https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p=" +
                    e +
                    "&t=" +
                    t +
                    "&a=14")),
                (this._parameterBlock =
                  ((n = this.sessionId),
                  (i = this._beaconId),
                  ((c = document.body.appendChild(
                    document.createElement("script")
                  )).type = "application/json"),
                  c.setAttribute("fncls", s),
                  (c.text = JSON.stringify({
                    f: n,
                    s: o,
                    b: i,
                  })),
                  c)),
                l({
                  src: a,
                })
                  .then(function (e) {
                    return (u._thirdPartyBlock = e), u;
                  })
                  ["catch"](function () {
                    return null;
                  })
              );
            }),
              (n.prototype.teardown = function () {
                i(document.querySelector('iframe[title="ppfniframe"]')),
                  i(document.querySelector('iframe[title="pbf"]')),
                  i(this._parameterBlock),
                  i(this._thirdPartyBlock);
              }),
              (t.exports = {
                setup: function () {
                  var e = new n();
                  return r ? ((e.sessionId = r), c.resolve(e)) : e.initialize();
                },
                clearSessionIdCache: function () {
                  r = null;
                },
              });
          },
          {
            "../lib/assets": 15,
            "../lib/constants": 19,
            "../lib/promise": 26,
          },
        ],
        12: [
          function (e, t) {
            "use strict";
            var n = e("./kount"),
              i = e("./fraudnet"),
              r = e("../lib/braintree-error"),
              s = e("../lib/basic-component-verification"),
              o = e("../lib/create-deferred-client"),
              a = e("../lib/create-assets-url"),
              l = e("../lib/methods"),
              c = e("../lib/convert-methods-to-error"),
              u = e("../lib/promise"),
              d = e("@braintree/wrap-promise"),
              p = e("./errors");
            t.exports = {
              create: d(function (e) {
                var t,
                  h = "Data Collector",
                  f = {
                    _instances: [],
                  };
                return s
                  .verify({
                    name: h,
                    client: e.client,
                    authorization: e.authorization,
                  })
                  .then(function () {
                    var s, m;
                    return (
                      (f._instantiatedWithAClient = !e.useDeferredClient),
                      (f._createPromise = o
                        .create({
                          authorization: e.authorization,
                          client: e.client,
                          debug: e.debug,
                          assetsUrl: a.create(e.authorization),
                          name: h,
                        })
                        .then(function (i) {
                          var s,
                            o = i.getConfiguration();
                          if (!0 === e.kount && o.gatewayConfiguration.kount) {
                            try {
                              s = n.setup({
                                environment: o.gatewayConfiguration.environment,
                                merchantId:
                                  o.gatewayConfiguration.kount.kountMerchantId,
                              });
                            } catch (i) {
                              return u.reject(
                                new r({
                                  type: p.DATA_COLLECTOR_KOUNT_ERROR.type,
                                  code: p.DATA_COLLECTOR_KOUNT_ERROR.code,
                                  message: i.message,
                                })
                              );
                            }
                            (t = s.deviceData), f._instances.push(s);
                          } else t = {};
                          return u.resolve();
                        })
                        .then(function () {
                          return i.setup().then(function (e) {
                            e &&
                              ((t.correlation_id = e.sessionId),
                              f._instances.push(e));
                          });
                        })
                        .then(function () {
                          return 0 === f._instances.length
                            ? u.reject(
                                new r(p.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)
                              )
                            : ((f.deviceData = JSON.stringify(t)),
                              (f.rawDeviceData = t),
                              f);
                        })),
                      (f.teardown =
                        ((s = f),
                        d(function () {
                          return s._createPromise.then(function () {
                            s._instances.forEach(function (e) {
                              e && e.teardown();
                            }),
                              c(s, l(s));
                          });
                        }))),
                      (f.getDeviceData =
                        ((m = f),
                        d(function (e) {
                          return (
                            (e = e || {}),
                            m._createPromise.then(function () {
                              return u.resolve(
                                e.raw ? m.rawDeviceData : m.deviceData
                              );
                            })
                          );
                        }))),
                      f._instantiatedWithAClient ? f._createPromise : f
                    );
                  });
              }),
              VERSION: "3.64.2",
            };
          },
          {
            "../lib/basic-component-verification": 16,
            "../lib/braintree-error": 17,
            "../lib/convert-methods-to-error": 20,
            "../lib/create-assets-url": 21,
            "../lib/create-deferred-client": 22,
            "../lib/methods": 25,
            "../lib/promise": 26,
            "./errors": 10,
            "./fraudnet": 11,
            "./kount": 13,
            "@braintree/wrap-promise": 8,
          },
        ],
        13: [
          function (e, t) {
            "use strict";
            function n(e) {
              var t = n.getCachedDeviceData(e.merchantId);
              return t
                ? ((this.deviceData = t), void (this._isCached = !0))
                : ((this._currentEnvironment = this._initializeEnvironment(e)),
                  i.random.startCollectors(),
                  (this._deviceSessionId = this._generateDeviceSessionId()),
                  (this.deviceData = this._getDeviceData()),
                  n.setCachedDeviceData(e.merchantId, this.deviceData),
                  (this._iframe = this._setupIFrame()),
                  void 0);
            }
            var i = e("./vendor/sjcl"),
              r = e("../lib/camel-case-to-snake-case"),
              s = "https://assets.qa.braintreepayments.com/data",
              o = {
                development: s,
                qa: s,
                sandbox: "https://assets.braintreegateway.com/sandbox/data",
                production: "https://assets.braintreegateway.com/data",
              },
              a = {};
            (n.getCachedDeviceData = function (e) {
              return a[e];
            }),
              (n.setCachedDeviceData = function (e, t) {
                a[e] = t;
              }),
              (n.prototype.teardown = function () {
                this._isCached ||
                  (i.random.stopCollectors(), this._removeIframe());
              }),
              (n.prototype._removeIframe = function () {
                this._iframe.parentNode.removeChild(this._iframe);
              }),
              (n.prototype._getDeviceData = function () {
                return r({
                  deviceSessionId: this._deviceSessionId,
                  fraudMerchantId: this._currentEnvironment.id,
                });
              }),
              (n.prototype._generateDeviceSessionId = function () {
                var e = i.random.randomWords(4, 0);
                return i.codec.hex.fromBits(e);
              }),
              (n.prototype._setupIFrame = function () {
                var e = this,
                  t =
                    "?m=" +
                    this._currentEnvironment.id +
                    "&s=" +
                    this._deviceSessionId,
                  n = document.createElement("iframe");
                return (
                  (n.width = 1),
                  (n.id = "braintreeDataFrame-" + this._deviceSessionId),
                  (n.height = 1),
                  (n.frameBorder = 0),
                  (n.scrolling = "no"),
                  (n.style.position = "fixed"),
                  (n.style.left = "-999999px"),
                  (n.style.top = "-999999px"),
                  (n.title = "Braintree-Kount-iframe"),
                  n.setAttribute("aria-hidden", "true"),
                  document.body.appendChild(n),
                  setTimeout(function () {
                    (n.src = e._currentEnvironment.url + "/logo.htm" + t),
                      (n.innerHTML =
                        '<img src="' +
                        e._currentEnvironment.url +
                        "/logo.gif" +
                        t +
                        '" alt="" />');
                  }, 10),
                  n
                );
              }),
              (n.prototype._initializeEnvironment = function (e) {
                var t = o[e.environment];
                if (null == t)
                  throw new Error(
                    e.environment +
                      " is not a valid environment for kount.environment"
                  );
                return {
                  url: t,
                  name: e.environment,
                  id: e.merchantId,
                };
              }),
              (t.exports = {
                setup: function (e) {
                  return new n(null != e ? e : {});
                },
                Kount: n,
                environmentUrls: o,
              });
          },
          {
            "../lib/camel-case-to-snake-case": 18,
            "./vendor/sjcl": 14,
          },
        ],
        14: [
          function (e, t) {
            "use strict";
            function n(e, t, n) {
              if (4 !== t.length)
                throw new f.exception.invalid("invalid aes block size");
              var i = e.b[n],
                r = t[0] ^ i[0],
                s = t[n ? 3 : 1] ^ i[1],
                o = t[2] ^ i[2];
              t = t[n ? 1 : 3] ^ i[3];
              var a,
                l,
                c = i.length / 4 - 2,
                u = 4,
                d = [0, 0, 0, 0],
                p = e.l[n];
              e = p[0];
              for (
                var h = p[1], m = p[2], g = p[3], _ = p[4], v = 0;
                c > v;
                v++
              )
                (p =
                  e[r >>> 24] ^
                  h[(s >> 16) & 255] ^
                  m[(o >> 8) & 255] ^
                  g[255 & t] ^
                  i[u]),
                  (a =
                    e[s >>> 24] ^
                    h[(o >> 16) & 255] ^
                    m[(t >> 8) & 255] ^
                    g[255 & r] ^
                    i[u + 1]),
                  (l =
                    e[o >>> 24] ^
                    h[(t >> 16) & 255] ^
                    m[(r >> 8) & 255] ^
                    g[255 & s] ^
                    i[u + 2]),
                  (t =
                    e[t >>> 24] ^
                    h[(r >> 16) & 255] ^
                    m[(s >> 8) & 255] ^
                    g[255 & o] ^
                    i[u + 3]),
                  (u += 4),
                  (r = p),
                  (s = a),
                  (o = l);
              for (v = 0; 4 > v; v++)
                (d[n ? 3 & -v : v] =
                  (_[r >>> 24] << 24) ^
                  (_[(s >> 16) & 255] << 16) ^
                  (_[(o >> 8) & 255] << 8) ^
                  _[255 & t] ^
                  i[u++]),
                  (p = r),
                  (r = s),
                  (s = o),
                  (o = t),
                  (t = p);
              return d;
            }
            function i(e, t) {
              for (
                var n,
                  i,
                  r = e.u,
                  s = e.b,
                  o = r[0],
                  a = r[1],
                  l = r[2],
                  c = r[3],
                  u = r[4],
                  d = r[5],
                  p = r[6],
                  h = r[7],
                  f = 0;
                64 > f;
                f++
              )
                (n =
                  (n =
                    16 > f
                      ? t[f]
                      : ((n = t[(f + 1) & 15]),
                        (i = t[(f + 14) & 15]),
                        (t[15 & f] =
                          (((n >>> 7) ^
                            (n >>> 18) ^
                            (n >>> 3) ^
                            (n << 25) ^
                            (n << 14)) +
                            ((i >>> 17) ^
                              (i >>> 19) ^
                              (i >>> 10) ^
                              (i << 15) ^
                              (i << 13)) +
                            t[15 & f] +
                            t[(f + 9) & 15]) |
                          0))) +
                  h +
                  ((u >>> 6) ^
                    (u >>> 11) ^
                    (u >>> 25) ^
                    (u << 26) ^
                    (u << 21) ^
                    (u << 7)) +
                  (p ^ (u & (d ^ p))) +
                  s[f]),
                  (h = p),
                  (p = d),
                  (d = u),
                  (u = (c + n) | 0),
                  (c = l),
                  (l = a),
                  (o =
                    (n +
                      (((a = o) & l) ^ (c & (a ^ l))) +
                      ((a >>> 2) ^
                        (a >>> 13) ^
                        (a >>> 22) ^
                        (a << 30) ^
                        (a << 19) ^
                        (a << 10))) |
                    0);
              (r[0] = (r[0] + o) | 0),
                (r[1] = (r[1] + a) | 0),
                (r[2] = (r[2] + l) | 0),
                (r[3] = (r[3] + c) | 0),
                (r[4] = (r[4] + u) | 0),
                (r[5] = (r[5] + d) | 0),
                (r[6] = (r[6] + p) | 0),
                (r[7] = (r[7] + h) | 0);
            }
            function r(e, t) {
              var n,
                i = f.random.B[e],
                r = [];
              for (n in i) i.hasOwnProperty(n) && r.push(i[n]);
              for (n = 0; n < r.length; n++) r[n](t);
            }
            function s(e, t) {
              "undefined" != typeof window &&
              window.performance &&
              "function" == typeof window.performance.now
                ? e.addEntropy(window.performance.now(), t, "loadtime")
                : e.addEntropy(new Date().valueOf(), t, "loadtime");
            }
            function o(e) {
              (e.b = a(e).concat(a(e))), (e.C = new f.cipher.aes(e.b));
            }
            function a(e) {
              for (
                var t = 0;
                4 > t && ((e.g[t] = (e.g[t] + 1) | 0), !e.g[t]);
                t++
              );
              return e.C.encrypt(e.g);
            }
            function l(e, t) {
              return function () {
                t.apply(e, arguments);
              };
            }
            var c,
              u,
              d,
              p,
              h,
              f = {
                cipher: {},
                hash: {},
                keyexchange: {},
                mode: {},
                misc: {},
                codec: {},
                exception: {
                  corrupt: function (e) {
                    (this.toString = function () {
                      return "CORRUPT: " + this.message;
                    }),
                      (this.message = e);
                  },
                  invalid: function (e) {
                    (this.toString = function () {
                      return "INVALID: " + this.message;
                    }),
                      (this.message = e);
                  },
                  bug: function (e) {
                    (this.toString = function () {
                      return "BUG: " + this.message;
                    }),
                      (this.message = e);
                  },
                  notReady: function (e) {
                    (this.toString = function () {
                      return "NOT READY: " + this.message;
                    }),
                      (this.message = e);
                  },
                },
              };
            (f.cipher.aes = function (e) {
              this.l[0][0][0] || this.G();
              var t,
                n,
                i,
                r = this.l[0][4],
                s = this.l[1],
                o = e.length,
                a = 1;
              if (4 !== o && 6 !== o && 8 !== o)
                throw new f.exception.invalid("invalid aes key size");
              for (
                this.b = [(n = e.slice(0)), (i = [])], e = o;
                4 * o + 28 > e;
                e++
              )
                (t = n[e - 1]),
                  (0 == e % o || (8 === o && 4 == e % o)) &&
                    ((t =
                      (r[t >>> 24] << 24) ^
                      (r[(t >> 16) & 255] << 16) ^
                      (r[(t >> 8) & 255] << 8) ^
                      r[255 & t]),
                    0 == e % o &&
                      ((t = (t << 8) ^ (t >>> 24) ^ (a << 24)),
                      (a = (a << 1) ^ (283 * (a >> 7))))),
                  (n[e] = n[e - o] ^ t);
              for (o = 0; e; o++, e--)
                (t = n[3 & o ? e : e - 4]),
                  (i[o] =
                    4 >= e || 4 > o
                      ? t
                      : s[0][r[t >>> 24]] ^
                        s[1][r[(t >> 16) & 255]] ^
                        s[2][r[(t >> 8) & 255]] ^
                        s[3][r[255 & t]]);
            }),
              (f.cipher.aes.prototype = {
                encrypt: function (e) {
                  return n(this, e, 0);
                },
                decrypt: function (e) {
                  return n(this, e, 1);
                },
                l: [
                  [[], [], [], [], []],
                  [[], [], [], [], []],
                ],
                G: function () {
                  for (
                    var e,
                      t,
                      n,
                      i,
                      r,
                      s,
                      o = this.l[0],
                      a = this.l[1],
                      l = o[4],
                      c = a[4],
                      u = [],
                      d = [],
                      p = 0;
                    256 > p;
                    p++
                  )
                    d[(u[p] = (p << 1) ^ (283 * (p >> 7))) ^ p] = p;
                  for (e = t = 0; !l[e]; e ^= n || 1, t = d[t] || 1)
                    for (
                      r =
                        ((r = t ^ (t << 1) ^ (t << 2) ^ (t << 3) ^ (t << 4)) >>
                          8) ^
                        (255 & r) ^
                        99,
                        s =
                          (16843009 *
                            (i = u[(p = u[(n = u[(c[(l[e] = r)] = e)])])])) ^
                          (65537 * p) ^
                          (257 * n) ^
                          (16843008 * e),
                        i = (257 * u[r]) ^ (16843008 * r),
                        p = 0;
                      4 > p;
                      p++
                    )
                      (o[p][e] = i = (i << 24) ^ (i >>> 8)),
                        (a[p][r] = s = (s << 24) ^ (s >>> 8));
                  for (p = 0; 5 > p; p++)
                    (o[p] = o[p].slice(0)), (a[p] = a[p].slice(0));
                },
              }),
              (f.bitArray = {
                bitSlice: function (e, t, n) {
                  return (
                    (e = f.bitArray.M(e.slice(t / 32), 32 - (31 & t)).slice(1)),
                    void 0 === n ? e : f.bitArray.clamp(e, n - t)
                  );
                },
                extract: function (e, t, n) {
                  var i = Math.floor((-t - n) & 31);
                  return (
                    (-32 & ((t + n - 1) ^ t)
                      ? (e[(t / 32) | 0] << (32 - i)) ^
                        (e[(t / 32 + 1) | 0] >>> i)
                      : e[(t / 32) | 0] >>> i) &
                    ((1 << n) - 1)
                  );
                },
                concat: function (e, t) {
                  if (0 === e.length || 0 === t.length) return e.concat(t);
                  var n = e[e.length - 1],
                    i = f.bitArray.getPartial(n);
                  return 32 === i
                    ? e.concat(t)
                    : f.bitArray.M(t, i, 0 | n, e.slice(0, e.length - 1));
                },
                bitLength: function (e) {
                  var t = e.length;
                  return 0 === t
                    ? 0
                    : 32 * (t - 1) + f.bitArray.getPartial(e[t - 1]);
                },
                clamp: function (e, t) {
                  if (32 * e.length < t) return e;
                  var n = (e = e.slice(0, Math.ceil(t / 32))).length;
                  return (
                    (t &= 31),
                    n > 0 &&
                      t &&
                      (e[n - 1] = f.bitArray.partial(
                        t,
                        e[n - 1] & (2147483648 >> (t - 1)),
                        1
                      )),
                    e
                  );
                },
                partial: function (e, t, n) {
                  return 32 === e
                    ? t
                    : (n ? 0 | t : t << (32 - e)) + 1099511627776 * e;
                },
                getPartial: function (e) {
                  return Math.round(e / 1099511627776) || 32;
                },
                equal: function (e, t) {
                  if (f.bitArray.bitLength(e) !== f.bitArray.bitLength(t))
                    return !1;
                  for (var n = 0, i = 0; i < e.length; i++) n |= e[i] ^ t[i];
                  return 0 === n;
                },
                M: function (e, t, n, i) {
                  var r = 0;
                  for (void 0 === i && (i = []); t >= 32; t -= 32)
                    i.push(n), (n = 0);
                  if (0 === t) return i.concat(e);
                  for (r = 0; r < e.length; r++)
                    i.push(n | (e[r] >>> t)), (n = e[r] << (32 - t));
                  return (
                    (r = e.length ? e[e.length - 1] : 0),
                    (e = f.bitArray.getPartial(r)),
                    i.push(
                      f.bitArray.partial(
                        (t + e) & 31,
                        t + e > 32 ? n : i.pop(),
                        1
                      )
                    ),
                    i
                  );
                },
                Y: function (e, t) {
                  return [e[0] ^ t[0], e[1] ^ t[1], e[2] ^ t[2], e[3] ^ t[3]];
                },
                byteswapM: function (e) {
                  for (var t, n = 0; n < e.length; ++n)
                    (t = e[n]),
                      (e[n] =
                        (t >>> 24) |
                        ((t >>> 8) & 65280) |
                        ((65280 & t) << 8) |
                        (t << 24));
                  return e;
                },
              }),
              (f.codec.utf8String = {
                fromBits: function (e) {
                  for (
                    var t, n = "", i = f.bitArray.bitLength(e), r = 0;
                    i / 8 > r;
                    r++
                  )
                    0 == (3 & r) && (t = e[r / 4]),
                      (n += String.fromCharCode(((t >>> 8) >>> 8) >>> 8)),
                      (t <<= 8);
                  return decodeURIComponent(escape(n));
                },
                toBits: function (e) {
                  e = unescape(encodeURIComponent(e));
                  for (var t = [], n = 0, i = 0; i < e.length; i++)
                    (n = (n << 8) | e.charCodeAt(i)),
                      3 == (3 & i) && (t.push(n), (n = 0));
                  return 3 & i && t.push(f.bitArray.partial(8 * (3 & i), n)), t;
                },
              }),
              (f.codec.hex = {
                fromBits: function (e) {
                  for (var t = "", n = 0; n < e.length; n++)
                    t += (0xf00000000000 + (0 | e[n])).toString(16).substr(4);
                  return t.substr(0, f.bitArray.bitLength(e) / 4);
                },
                toBits: function (e) {
                  var t,
                    n = [],
                    i = (e = e.replace(/\s|0x/g, "")).length;
                  for (e += "00000000", t = 0; t < e.length; t += 8)
                    n.push(0 ^ parseInt(e.substr(t, 8), 16));
                  return f.bitArray.clamp(n, 4 * i);
                },
              }),
              (f.hash.sha256 = function (e) {
                this.b[0] || this.G(),
                  e
                    ? ((this.u = e.u.slice(0)),
                      (this.o = e.o.slice(0)),
                      (this.h = e.h))
                    : this.reset();
              }),
              (f.hash.sha256.hash = function (e) {
                return new f.hash.sha256().update(e).finalize();
              }),
              (f.hash.sha256.prototype = {
                blockSize: 512,
                reset: function () {
                  return (
                    (this.u = this.K.slice(0)),
                    (this.o = []),
                    (this.h = 0),
                    this
                  );
                },
                update: function (e) {
                  "string" == typeof e && (e = f.codec.utf8String.toBits(e));
                  var t = (this.o = f.bitArray.concat(this.o, e));
                  if (
                    ((s = this.h),
                    9007199254740991 <
                      (e = this.h = s + f.bitArray.bitLength(e)))
                  )
                    throw new f.exception.invalid(
                      "Cannot hash more than 2^53 - 1 bits"
                    );
                  if ("undefined" != typeof Uint32Array) {
                    for (
                      var n = new Uint32Array(t),
                        r = 0,
                        s = 512 + s - ((512 + s) & 511);
                      e >= s;
                      s += 512
                    )
                      i(this, n.subarray(16 * r, 16 * (r + 1))), (r += 1);
                    t.splice(0, 16 * r);
                  } else
                    for (s = 512 + s - ((512 + s) & 511); e >= s; s += 512)
                      i(this, t.splice(0, 16));
                  return this;
                },
                finalize: function () {
                  for (
                    var e = this.o,
                      t = this.u,
                      n =
                        (e = f.bitArray.concat(e, [f.bitArray.partial(1, 1)]))
                          .length + 2;
                    15 & n;
                    n++
                  )
                    e.push(0);
                  for (
                    e.push(Math.floor(this.h / 4294967296)), e.push(0 | this.h);
                    e.length;

                  )
                    i(this, e.splice(0, 16));
                  return this.reset(), t;
                },
                K: [],
                b: [],
                G: function () {
                  function e(e) {
                    return (4294967296 * (e - Math.floor(e))) | 0;
                  }
                  for (var t, n, i = 0, r = 2; 64 > i; r++) {
                    for (n = !0, t = 2; r >= t * t; t++)
                      if (0 == r % t) {
                        n = !1;
                        break;
                      }
                    n &&
                      (8 > i && (this.K[i] = e(Math.pow(r, 0.5))),
                      (this.b[i] = e(Math.pow(r, 1 / 3))),
                      i++);
                  }
                },
              }),
              (f.prng = function (e) {
                (this.c = [new f.hash.sha256()]),
                  (this.i = [0]),
                  (this.H = 0),
                  (this.v = {}),
                  (this.F = 0),
                  (this.J = {}),
                  (this.L = this.f = this.j = this.T = 0),
                  (this.b = [0, 0, 0, 0, 0, 0, 0, 0]),
                  (this.g = [0, 0, 0, 0]),
                  (this.C = void 0),
                  (this.D = e),
                  (this.s = !1),
                  (this.B = {
                    progress: {},
                    seeded: {},
                  }),
                  (this.m = this.S = 0),
                  (this.w = 1),
                  (this.A = 2),
                  (this.O = 65536),
                  (this.I = [
                    0, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024,
                  ]),
                  (this.P = 3e4),
                  (this.N = 80);
              }),
              (f.prng.prototype = {
                randomWords: function (e, t) {
                  var n,
                    i = [],
                    r = this.isReady(t);
                  if (r === this.m)
                    throw new f.exception.notReady("generator isn't seeded");
                  if (r & this.A) {
                    (r = !(r & this.w)), (n = []);
                    var s,
                      l = 0;
                    for (
                      this.L = n[0] = new Date().valueOf() + this.P, s = 0;
                      16 > s;
                      s++
                    )
                      n.push((4294967296 * Math.random()) | 0);
                    for (
                      s = 0;
                      s < this.c.length &&
                      ((n = n.concat(this.c[s].finalize())),
                      (l += this.i[s]),
                      (this.i[s] = 0),
                      r || !(this.H & (1 << s)));
                      s++
                    );
                    for (
                      this.H >= 1 << this.c.length &&
                        (this.c.push(new f.hash.sha256()), this.i.push(0)),
                        this.f -= l,
                        l > this.j && (this.j = l),
                        this.H++,
                        this.b = f.hash.sha256.hash(this.b.concat(n)),
                        this.C = new f.cipher.aes(this.b),
                        r = 0;
                      4 > r && ((this.g[r] = (this.g[r] + 1) | 0), !this.g[r]);
                      r++
                    );
                  }
                  for (r = 0; e > r; r += 4)
                    0 == (r + 1) % this.O && o(this),
                      (n = a(this)),
                      i.push(n[0], n[1], n[2], n[3]);
                  return o(this), i.slice(0, e);
                },
                setDefaultParanoia: function (e, t) {
                  if (
                    0 === e &&
                    "Setting paranoia=0 will ruin your security; use it only for testing" !==
                      t
                  )
                    throw new f.exception.invalid(
                      "Setting paranoia=0 will ruin your security; use it only for testing"
                    );
                  this.D = e;
                },
                addEntropy: function (e, t, n) {
                  n = n || "user";
                  var i,
                    s = new Date().valueOf(),
                    o = this.v[n],
                    a = this.isReady(),
                    l = 0,
                    c = this.J[n];
                  switch (
                    (void 0 === c && (c = this.J[n] = this.T++),
                    void 0 === o && (o = this.v[n] = 0),
                    (this.v[n] = (this.v[n] + 1) % this.c.length),
                    typeof e)
                  ) {
                    case "number":
                      void 0 === t && (t = 1),
                        this.c[o].update([c, this.F++, 1, t, s, 1, 0 | e]);
                      break;
                    case "object":
                      if (
                        "[object Uint32Array]" ===
                        (n = Object.prototype.toString.call(e))
                      ) {
                        for (i = [], n = 0; n < e.length; n++) i.push(e[n]);
                        e = i;
                      } else
                        for (
                          "[object Array]" !== n && (l = 1), n = 0;
                          n < e.length && !l;
                          n++
                        )
                          "number" != typeof e[n] && (l = 1);
                      if (!l) {
                        if (void 0 === t)
                          for (n = t = 0; n < e.length; n++)
                            for (i = e[n]; i > 0; ) t++, (i >>>= 1);
                        this.c[o].update(
                          [c, this.F++, 2, t, s, e.length].concat(e)
                        );
                      }
                      break;
                    case "string":
                      void 0 === t && (t = e.length),
                        this.c[o].update([c, this.F++, 3, t, s, e.length]),
                        this.c[o].update(e);
                      break;
                    default:
                      l = 1;
                  }
                  if (l)
                    throw new f.exception.bug(
                      "random: addEntropy only supports number, array of numbers or string"
                    );
                  (this.i[o] += t),
                    (this.f += t),
                    a === this.m &&
                      (this.isReady() !== this.m &&
                        r("seeded", Math.max(this.j, this.f)),
                      r("progress", this.getProgress()));
                },
                isReady: function (e) {
                  return (
                    (e = this.I[void 0 !== e ? e : this.D]),
                    this.j && this.j >= e
                      ? this.i[0] > this.N && new Date().valueOf() > this.L
                        ? this.A | this.w
                        : this.w
                      : this.f >= e
                      ? this.A | this.m
                      : this.m
                  );
                },
                getProgress: function (e) {
                  return (
                    (e = this.I[e || this.D]),
                    this.j >= e || this.f > e ? 1 : this.f / e
                  );
                },
                startCollectors: function () {
                  if (!this.s) {
                    if (
                      ((this.a = {
                        loadTimeCollector: l(this, this.V),
                        mouseCollector: l(this, this.W),
                        keyboardCollector: l(this, this.U),
                        accelerometerCollector: l(this, this.R),
                        touchCollector: l(this, this.X),
                      }),
                      window.addEventListener)
                    )
                      window.addEventListener(
                        "load",
                        this.a.loadTimeCollector,
                        !1
                      ),
                        window.addEventListener(
                          "mousemove",
                          this.a.mouseCollector,
                          !1
                        ),
                        window.addEventListener(
                          "keypress",
                          this.a.keyboardCollector,
                          !1
                        ),
                        window.addEventListener(
                          "devicemotion",
                          this.a.accelerometerCollector,
                          !1
                        ),
                        window.addEventListener(
                          "touchmove",
                          this.a.touchCollector,
                          !1
                        );
                    else {
                      if (!document.attachEvent)
                        throw new f.exception.bug("can't attach event");
                      document.attachEvent("onload", this.a.loadTimeCollector),
                        document.attachEvent(
                          "onmousemove",
                          this.a.mouseCollector
                        ),
                        document.attachEvent(
                          "keypress",
                          this.a.keyboardCollector
                        );
                    }
                    this.s = !0;
                  }
                },
                stopCollectors: function () {
                  this.s &&
                    (window.removeEventListener
                      ? (window.removeEventListener(
                          "load",
                          this.a.loadTimeCollector,
                          !1
                        ),
                        window.removeEventListener(
                          "mousemove",
                          this.a.mouseCollector,
                          !1
                        ),
                        window.removeEventListener(
                          "keypress",
                          this.a.keyboardCollector,
                          !1
                        ),
                        window.removeEventListener(
                          "devicemotion",
                          this.a.accelerometerCollector,
                          !1
                        ),
                        window.removeEventListener(
                          "touchmove",
                          this.a.touchCollector,
                          !1
                        ))
                      : document.detachEvent &&
                        (document.detachEvent(
                          "onload",
                          this.a.loadTimeCollector
                        ),
                        document.detachEvent(
                          "onmousemove",
                          this.a.mouseCollector
                        ),
                        document.detachEvent(
                          "keypress",
                          this.a.keyboardCollector
                        )),
                    (this.s = !1));
                },
                addEventListener: function (e, t) {
                  this.B[e][this.S++] = t;
                },
                removeEventListener: function (e, t) {
                  var n,
                    i,
                    r = this.B[e],
                    s = [];
                  for (i in r) r.hasOwnProperty(i) && r[i] === t && s.push(i);
                  for (n = 0; n < s.length; n++) delete r[(i = s[n])];
                },
                U: function () {
                  s(this, 1);
                },
                W: function (e) {
                  var t, n;
                  try {
                    (t = e.x || e.clientX || e.offsetX || 0),
                      (n = e.y || e.clientY || e.offsetY || 0);
                  } catch (e) {
                    n = t = 0;
                  }
                  0 != t && 0 != n && this.addEntropy([t, n], 2, "mouse"),
                    s(this, 0);
                },
                X: function (e) {
                  (e = e.touches[0] || e.changedTouches[0]),
                    this.addEntropy(
                      [e.pageX || e.clientX, e.pageY || e.clientY],
                      1,
                      "touch"
                    ),
                    s(this, 0);
                },
                V: function () {
                  s(this, 2);
                },
                R: function (e) {
                  var t;
                  (e =
                    e.accelerationIncludingGravity.x ||
                    e.accelerationIncludingGravity.y ||
                    e.accelerationIncludingGravity.z),
                    !window.orientation ||
                      ("number" == typeof (t = window.orientation) &&
                        this.addEntropy(t, 1, "accelerometer")),
                    e && this.addEntropy(e, 2, "accelerometer"),
                    s(this, 0);
                },
              }),
              (f.random = new f.prng(6));
            e: try {
              if ((p = void 0 !== t && t.exports)) {
                try {
                  h = e("crypto");
                } catch (e) {
                  h = null;
                }
                p = u = h;
              }
              if (p && u.randomBytes)
                (c = u.randomBytes(128)),
                  (c = new Uint32Array(new Uint8Array(c).buffer)),
                  f.random.addEntropy(c, 1024, "crypto['randomBytes']");
              else if (
                "undefined" != typeof window &&
                "undefined" != typeof Uint32Array
              ) {
                if (
                  ((d = new Uint32Array(32)),
                  window.crypto && window.crypto.getRandomValues)
                )
                  window.crypto.getRandomValues(d);
                else {
                  if (!window.msCrypto || !window.msCrypto.getRandomValues)
                    break e;
                  window.msCrypto.getRandomValues(d);
                }
                f.random.addEntropy(d, 1024, "crypto['getRandomValues']");
              }
            } catch (e) {
              "undefined" != typeof window &&
                window.console &&
                (console.log(
                  "There was an error collecting entropy from the browser:"
                ),
                console.log(e));
            }
            void 0 !== t && t.exports && (t.exports = f);
          },
          {
            crypto: void 0,
          },
        ],
        15: [
          function (e, t) {
            "use strict";
            var n = e("@braintree/asset-loader/load-script");
            t.exports = {
              loadScript: n,
            };
          },
          {
            "@braintree/asset-loader/load-script": 3,
          },
        ],
        16: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error"),
              i = e("./promise"),
              r = e("./errors");
            t.exports = {
              verify: function (e) {
                var t, s, o;
                return e
                  ? ((o = e.name),
                    (t = e.client),
                    (s = e.authorization),
                    t || s
                      ? s || "3.64.2" === t.getVersion()
                        ? i.resolve()
                        : i.reject(
                            new n({
                              type: r.INCOMPATIBLE_VERSIONS.type,
                              code: r.INCOMPATIBLE_VERSIONS.code,
                              message:
                                "Client (version " +
                                t.getVersion() +
                                ") and " +
                                o +
                                " (version 3.64.2) components must be from the same SDK version.",
                            })
                          )
                      : i.reject(
                          new n({
                            type: r.INSTANTIATION_OPTION_REQUIRED.type,
                            code: r.INSTANTIATION_OPTION_REQUIRED.code,
                            message:
                              "options.client is required when instantiating " +
                              o +
                              ".",
                          })
                        ))
                  : i.reject(
                      new n({
                        type: r.INVALID_USE_OF_INTERNAL_FUNCTION.type,
                        code: r.INVALID_USE_OF_INTERNAL_FUNCTION.code,
                        message:
                          "Options must be passed to basicComponentVerification function.",
                      })
                    );
              },
            };
          },
          {
            "./braintree-error": 17,
            "./errors": 24,
            "./promise": 26,
          },
        ],
        17: [
          function (e, t) {
            "use strict";
            function n(e) {
              if (!n.types.hasOwnProperty(e.type))
                throw new Error(e.type + " is not a valid type.");
              if (!e.code) throw new Error("Error code required.");
              if (!e.message) throw new Error("Error message required.");
              (this.name = "BraintreeError"),
                (this.code = e.code),
                (this.message = e.message),
                (this.type = e.type),
                (this.details = e.details);
            }
            var i = e("./enumerate");
            (n.prototype = Object.create(Error.prototype)),
              ((n.prototype.constructor = n).types = i([
                "CUSTOMER",
                "MERCHANT",
                "NETWORK",
                "INTERNAL",
                "UNKNOWN",
              ])),
              (n.findRootError = function (e) {
                return e instanceof n && e.details && e.details.originalError
                  ? n.findRootError(e.details.originalError)
                  : e;
              }),
              (t.exports = n);
          },
          {
            "./enumerate": 23,
          },
        ],
        18: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return Object.keys(e).reduce(function (t, n) {
                return (
                  (t[
                    n
                      .replace(/([a-z\d])([A-Z])/g, "$1_$2")
                      .replace(/([A-Z]+)([A-Z][a-z\d]+)/g, "$1_$2")
                      .toLowerCase()
                  ] = e[n]),
                  t
                );
              }, {});
            };
          },
          {},
        ],
        19: [
          function (e, t) {
            "use strict";
            t.exports = {
              ANALYTICS_PREFIX: "web.",
              ANALYTICS_REQUEST_TIMEOUT_MS: 2e3,
              ASSETS_URLS: {
                production: "https://assets.braintreegateway.com",
                sandbox: "https://assets.braintreegateway.com",
              },
              CLIENT_API_URLS: {
                production: "https://api.braintreegateway.com:443",
                sandbox: "https://api.sandbox.braintreegateway.com:443",
              },
              FRAUDNET_SOURCE: "BRAINTREE_SIGNIN",
              FRAUDNET_FNCLS: "fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",
              FRAUDNET_URL: "https://c.paypal.com/da/r/fb.js",
              GRAPHQL_URLS: {
                production: "https://payments.braintree-api.com/graphql",
                sandbox: "https://payments.sandbox.braintree-api.com/graphql",
              },
              INTEGRATION_TIMEOUT_MS: 6e4,
              VERSION: "3.64.2",
              INTEGRATION: "custom",
              SOURCE: "client",
              PLATFORM: "web",
              BRAINTREE_LIBRARY_VERSION: "braintree/web/3.64.2",
            };
          },
          {},
        ],
        20: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error"),
              i = e("./errors");
            t.exports = function (e, t) {
              t.forEach(function (t) {
                e[t] = function () {
                  throw new n({
                    type: i.METHOD_CALLED_AFTER_TEARDOWN.type,
                    code: i.METHOD_CALLED_AFTER_TEARDOWN.code,
                    message: t + " cannot be called after teardown.",
                  });
                };
              });
            };
          },
          {
            "./braintree-error": 17,
            "./errors": 24,
          },
        ],
        21: [
          function (e, t) {
            "use strict";
            var n = e("./constants").ASSETS_URLS;
            t.exports = {
              create: function () {
                return n.production;
              },
            };
          },
          {
            "./constants": 19,
          },
        ],
        22: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error"),
              i = e("./promise"),
              r = e("./assets"),
              s = e("./errors"),
              o = "3.64.2";
            t.exports = {
              create: function (e) {
                var t = i.resolve();
                return e.client
                  ? i.resolve(e.client)
                  : ((window.braintree && window.braintree.client) ||
                      (t = r
                        .loadScript({
                          src: e.assetsUrl + "/web/" + o + "/js/client.min.js",
                        })
                        ["catch"](function (e) {
                          return i.reject(
                            new n({
                              type: s.CLIENT_SCRIPT_FAILED_TO_LOAD.type,
                              code: s.CLIENT_SCRIPT_FAILED_TO_LOAD.code,
                              message: s.CLIENT_SCRIPT_FAILED_TO_LOAD.message,
                              details: {
                                originalError: e,
                              },
                            })
                          );
                        })),
                    t.then(function () {
                      return window.braintree.client.VERSION !== o
                        ? i.reject(
                            new n({
                              type: s.INCOMPATIBLE_VERSIONS.type,
                              code: s.INCOMPATIBLE_VERSIONS.code,
                              message:
                                "Client (version " +
                                window.braintree.client.VERSION +
                                ") and " +
                                e.name +
                                " (version " +
                                o +
                                ") components must be from the same SDK version.",
                            })
                          )
                        : window.braintree.client.create({
                            authorization: e.authorization,
                            debug: e.debug,
                          });
                    }));
              },
            };
          },
          {
            "./assets": 15,
            "./braintree-error": 17,
            "./errors": 24,
            "./promise": 26,
          },
        ],
        23: [
          function (e, t) {
            "use strict";
            t.exports = function (e, t) {
              return (
                (t = null == t ? "" : t),
                e.reduce(function (e, n) {
                  return (e[n] = t + n), e;
                }, {})
              );
            };
          },
          {},
        ],
        24: [
          function (e, t) {
            "use strict";
            var n = e("./braintree-error");
            t.exports = {
              INVALID_USE_OF_INTERNAL_FUNCTION: {
                type: n.types.INTERNAL,
                code: "INVALID_USE_OF_INTERNAL_FUNCTION",
              },
              INSTANTIATION_OPTION_REQUIRED: {
                type: n.types.MERCHANT,
                code: "INSTANTIATION_OPTION_REQUIRED",
              },
              INCOMPATIBLE_VERSIONS: {
                type: n.types.MERCHANT,
                code: "INCOMPATIBLE_VERSIONS",
              },
              CLIENT_SCRIPT_FAILED_TO_LOAD: {
                type: n.types.NETWORK,
                code: "CLIENT_SCRIPT_FAILED_TO_LOAD",
                message: "Braintree client script could not be loaded.",
              },
              METHOD_CALLED_AFTER_TEARDOWN: {
                type: n.types.MERCHANT,
                code: "METHOD_CALLED_AFTER_TEARDOWN",
              },
            };
          },
          {
            "./braintree-error": 17,
          },
        ],
        25: [
          function (e, t) {
            "use strict";
            t.exports = function (e) {
              return Object.keys(e).filter(function (t) {
                return "function" == typeof e[t];
              });
            };
          },
          {},
        ],
        26: [
          function (e, t) {
            "use strict";
            var n = e("promise-polyfill"),
              i = e("@braintree/extended-promise"),
              r = "undefined" != typeof Promise ? Promise : n;
            (i.suppressUnhandledPromiseMessage = !0),
              i.setPromise(r),
              (t.exports = r);
          },
          {
            "@braintree/extended-promise": 4,
            "promise-polyfill": 9,
          },
        ],
      },
      {},
      [12]
    )(12);
  });
var recurly = (function (e) {
  function t(i) {
    if (n[i]) return n[i].exports;
    var r = (n[i] = {
      i: i,
      l: !1,
      exports: {},
    });
    return e[i].call(r.exports, r, r.exports, t), (r.l = !0), r.exports;
  }
  var n = {};
  return (
    (t.m = e),
    (t.c = n),
    (t.d = function (e, n, i) {
      t.o(e, n) ||
        Object.defineProperty(e, n, {
          enumerable: !0,
          get: i,
        });
    }),
    (t.r = function (e) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, {
          value: "Module",
        }),
        Object.defineProperty(e, "__esModule", {
          value: !0,
        });
    }),
    (t.t = function (e, n) {
      if ((1 & n && (e = t(e)), 8 & n)) return e;
      if (4 & n && "object" == typeof e && e && e.__esModule) return e;
      var i = Object.create(null);
      if (
        (t.r(i),
        Object.defineProperty(i, "default", {
          enumerable: !0,
          value: e,
        }),
        2 & n && "string" != typeof e)
      )
        for (var r in e)
          t.d(
            i,
            r,
            function (t) {
              return e[t];
            }.bind(null, r)
          );
      return i;
    }),
    (t.n = function (e) {
      var n =
        e && e.__esModule
          ? function () {
              return e["default"];
            }
          : function () {
              return e;
            };
      return t.d(n, "a", n), n;
    }),
    (t.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (t.p = "/build/"),
    t((t.s = "./index.js"))
  );
})({
  "./index.js": function (module, __webpack_exports__, __webpack_require__) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_recurly_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/recurly.css */ "./lib/recurly.css");\n/* harmony import */ var _lib_recurly_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_recurly_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_recurly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/recurly */ "./lib/recurly.js");\n/**\n * License information available at https://docs.recurly.com/page/open-source-attribution\n * @attribution\n */\n\n\nvar recurly = new _lib_recurly__WEBPACK_IMPORTED_MODULE_1__["Recurly"]();\n/* harmony default export */ __webpack_exports__["default"] = (recurly);\n\n//# sourceURL=webpack://recurly/./index.js?'
    );
  },
  "./lib/recurly.css": function (module, exports, __webpack_require__) {
    eval(
      "// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://recurly/./lib/recurly.css?"
    );
  },
  "./lib/recurly.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Recurly", function() { return Recurly; });\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/deep-assign */ "./lib/util/deep-assign.js");\n/* harmony import */ var deep_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deep-filter */ "./node_modules/deep-filter/index.js");\n/* harmony import */ var deep_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(deep_filter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/uid */ "./lib/util/uid.js");\n/* harmony import */ var _recurly_errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./recurly/errors */ "./lib/recurly/errors.js");\n/* harmony import */ var _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./recurly/bank-account */ "./lib/recurly/bank-account.js");\n/* harmony import */ var _recurly_coupon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./recurly/coupon */ "./lib/recurly/coupon.js");\n/* harmony import */ var _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./recurly/gift-card */ "./lib/recurly/gift-card.js");\n/* harmony import */ var _recurly_item__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./recurly/item */ "./lib/recurly/item.js");\n/* harmony import */ var _recurly_plan__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./recurly/plan */ "./lib/recurly/plan.js");\n/* harmony import */ var _recurly_tax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./recurly/tax */ "./lib/recurly/tax.js");\n/* harmony import */ var _recurly_version__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./recurly/version */ "./lib/recurly/version.js");\n/* harmony import */ var _recurly_version__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_recurly_version__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _recurly_token__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./recurly/token */ "./lib/recurly/token.js");\n/* harmony import */ var _recurly_adyen__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./recurly/adyen */ "./lib/recurly/adyen.js");\n/* harmony import */ var _recurly_apple_pay__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./recurly/apple-pay */ "./lib/recurly/apple-pay.js");\n/* harmony import */ var _recurly_elements__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./recurly/elements */ "./lib/recurly/elements.js");\n/* harmony import */ var _recurly_frame__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./recurly/frame */ "./lib/recurly/frame.js");\n/* harmony import */ var _recurly_paypal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./recurly/paypal */ "./lib/recurly/paypal/index.js");\n/* harmony import */ var _recurly_risk__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./recurly/risk */ "./lib/recurly/risk/index.js");\n/* harmony import */ var _recurly_paypal_strategy_direct__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./recurly/paypal/strategy/direct */ "./lib/recurly/paypal/strategy/direct.js");\n/* harmony import */ var _recurly_bus__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./recurly/bus */ "./lib/recurly/bus.js");\n/* harmony import */ var _recurly_reporter__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./recurly/reporter */ "./lib/recurly/reporter.js");\n/* harmony import */ var _recurly_fraud__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./recurly/fraud */ "./lib/recurly/fraud.js");\n/* harmony import */ var _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./recurly/hosted-fields */ "./lib/recurly/hosted-fields.js");\n/* harmony import */ var _recurly_request__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./recurly/request */ "./lib/recurly/request.js");\n/* harmony import */ var _util_web_storage__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./util/web-storage */ "./lib/util/web-storage.js");\n/* harmony import */ var _recurly_pricing_checkout__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./recurly/pricing/checkout */ "./lib/recurly/pricing/checkout/index.js");\n/* harmony import */ var _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./recurly/pricing/subscription */ "./lib/recurly/pricing/subscription/index.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*jshint -W058 */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly\');\n/**\n * Default configuration values.\n *\n * currency: ISO 4217\n * timeout: API request timeout in ms\n * publicKey: Recurly site public key\n * cors: Whether to use XHR2/XDR+CORS over jsonp for API requests\n * fraud: fraud configuration\n * api: URL of API\n * fields: field behavior and styling configuration\n *\n * @private\n * @type {Object}\n */\n\n\nvar DEFAULTS = {\n  currency: \'USD\',\n  timeout: 60000,\n  publicKey: \'\',\n  parent: true,\n  parentVersion: _recurly_version__WEBPACK_IMPORTED_MODULE_13___default.a,\n  cors: true,\n  fraud: {\n    kount: {\n      dataCollector: false,\n      form: undefined\n    },\n    litle: {\n      sessionId: undefined\n    },\n    braintree: {\n      deviceData: undefined\n    }\n  },\n  api: \'https://api.recurly.com/js/v1\',\n  fields: {\n    all: {\n      style: {}\n    },\n    number: {\n      selector: \'[data-recurly=number]\',\n      style: {}\n    },\n    month: {\n      selector: \'[data-recurly=month]\',\n      style: {}\n    },\n    year: {\n      selector: \'[data-recurly=year]\',\n      style: {}\n    },\n    cvv: {\n      selector: \'[data-recurly=cvv]\',\n      style: {}\n    },\n    card: {\n      selector: \'[data-recurly=card]\',\n      style: {}\n    }\n  }\n};\n/**\n * Initialize defaults.\n *\n * @param {Object} options\n * @constructor\n * @public\n */\n\nvar Recurly = /*#__PURE__*/function (_Emitter) {\n  _inherits(Recurly, _Emitter);\n\n  var _super = _createSuper(Recurly);\n\n  // DEPRECATED\n\n  /**\n   * Expose the class through its common name\n   */\n  function Recurly(options) {\n    var _this;\n\n    _classCallCheck(this, Recurly);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), "Adyen", _recurly_adyen__WEBPACK_IMPORTED_MODULE_15__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "ApplePay", _recurly_apple_pay__WEBPACK_IMPORTED_MODULE_16__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "coupon", _recurly_coupon__WEBPACK_IMPORTED_MODULE_8__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "Elements", _recurly_elements__WEBPACK_IMPORTED_MODULE_17__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "Frame", _recurly_frame__WEBPACK_IMPORTED_MODULE_18__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "giftCard", _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "giftcard", _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "item", _recurly_item__WEBPACK_IMPORTED_MODULE_10__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "PayPal", _recurly_paypal__WEBPACK_IMPORTED_MODULE_19__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "paypal", _recurly_paypal_strategy_direct__WEBPACK_IMPORTED_MODULE_21__["deprecated"]);\n\n    _defineProperty(_assertThisInitialized(_this), "plan", _recurly_plan__WEBPACK_IMPORTED_MODULE_11__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "Risk", _recurly_risk__WEBPACK_IMPORTED_MODULE_20__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "tax", _recurly_tax__WEBPACK_IMPORTED_MODULE_12__["default"]);\n\n    _defineProperty(_assertThisInitialized(_this), "token", _recurly_token__WEBPACK_IMPORTED_MODULE_14__["tokenDispatcher"]);\n\n    _defineProperty(_assertThisInitialized(_this), "validate", __webpack_require__(/*! ./recurly/validate */ "./lib/recurly/validate.js").publicMethods);\n\n    _defineProperty(_assertThisInitialized(_this), "Recurly", _this.constructor);\n\n    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])();\n    _this.version = _recurly_version__WEBPACK_IMPORTED_MODULE_13___default.a;\n    _this.configured = false;\n    _this.readyState = 0;\n    _this.config = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, DEFAULTS);\n    if (options) _this.configure(options);\n    _this.bankAccount = {\n      token: _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__["bankAccount"].token.bind(_assertThisInitialized(_this)),\n      bankInfo: _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__["bankAccount"].bankInfo.bind(_assertThisInitialized(_this))\n    };\n    _this.reporter = new _recurly_reporter__WEBPACK_IMPORTED_MODULE_23__["Reporter"]({\n      recurly: _assertThisInitialized(_this)\n    });\n    _this.request = new _recurly_request__WEBPACK_IMPORTED_MODULE_26__["Request"]({\n      recurly: _assertThisInitialized(_this)\n    });\n\n    _this.Pricing = function () {\n      return new _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_29__["default"](_assertThisInitialized(_this));\n    }; // deprecated\n\n\n    _this.Pricing.Checkout = function () {\n      return new _recurly_pricing_checkout__WEBPACK_IMPORTED_MODULE_28__["default"](_assertThisInitialized(_this));\n    };\n\n    _this.Pricing.Subscription = function () {\n      return new _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_29__["default"](_assertThisInitialized(_this));\n    };\n\n    _this.once(\'ready\', function () {\n      return _this.report(\'ready\');\n    });\n\n    _this.bindReporting();\n\n    return _this;\n  }\n  /**\n   * Whether this instance is considered a parent\n   *\n   * @return {Boolean}\n   */\n\n\n  _createClass(Recurly, [{\n    key: "url",\n\n    /**\n     * Assembles the API endpoint\n     *\n     * @return {String} route\n     */\n    value: function url(route) {\n      return this.config.api + route;\n    }\n    /**\n     * Queues or immediately invokes a callback when the instance is\n     * in the ready state\n     *\n     * @param  {Function} done callback\n     */\n\n  }, {\n    key: "ready",\n    value: function ready(done) {\n      if (this.readyState > 1) done();else this.once(\'ready\', done);\n    }\n    /**\n     * Configure settings.\n     *\n     * @param {String|Object} options Either publicKey or object containing\n     *                                publicKey and other optional members\n     * @param {String} options.publicKey\n     * @param {String} [options.currency] sets a default currency\n     * @param {String} [options.api]\n     * @param {Boolean} [options.cors] Enables data transmission over XHR+CORS\n     * @param {Array} [options.required] Adds additional field requirements for\n     *                                   tokenization. ex: [\'cvv\']\n     * @public\n     */\n\n  }, {\n    key: "configure",\n    value: function configure(options) {\n      debug(\'configure\');\n      options = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(options);\n      if (typeof options === \'string\') options = {\n        publicKey: options\n      };\n      options = normalizeOptions(options);\n\n      if (options.publicKey) {\n        this.config.publicKey = options.publicKey;\n      } else if (!this.config.publicKey) {\n        throw Object(_recurly_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'config-missing-public-key\');\n      }\n\n      if (options.api) {\n        this.config.api = options.api;\n      }\n\n      if (options.currency) {\n        this.config.currency = options.currency;\n      }\n\n      if (\'cors\' in options) {\n        this.config.cors = options.cors;\n      }\n\n      if (\'fraud\' in options) {\n        Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.config.fraud, options.fraud);\n      }\n\n      if (\'parent\' in options) {\n        this.config.parent = options.parent;\n      }\n\n      if (_typeof(options.fields) === \'object\') {\n        Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.config.fields, options.fields);\n      }\n\n      this.config.required = options.required || this.config.required || []; // Begin parent role configuration and setup\n\n      if (this.config.parent) {\n        this.parent();\n      } else {\n        if (options.parentVersion) this.config.parentVersion = options.parentVersion;\n      }\n\n      if (!this.configured) {\n        this.configured = true;\n        this.emit(\'configured\');\n        this.report(\'configured\');\n      } // Since this readyState indicates synchronous preparation, we may now\n      // emit ready\n\n\n      if (this.readyState === 3) {\n        this.emit(\'ready\');\n      }\n    }\n    /**\n     * Disables a recurly.js instance\n     *\n     * - Removes all listeners\n     * - Propagates a destroy call to the bus\n     * - Stops the bus\n     * - Removes external references\n     *\n     * TODO:\n     *  - destroy pricing instances, or let them live on? Currently they\n     *    may live on since their associated recurly instances remain configured\n     *    for API requests.\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      debug(\'destroying Recurly instance\', this.id);\n      this.off();\n\n      if (this.bus) {\n        this.bus.send(\'destroy\');\n        this.bus.destroy();\n      }\n\n      if (this.fraud) {\n        this.fraud.destroy();\n      }\n\n      if (this.reporter) {\n        this.reporter.destroy();\n        delete this.reporter;\n      }\n    }\n    /**\n     * Initialize the parent recurly instance concerns: hosted fields and message bus\n     *\n     * TODO: readyState is not a good pattern\n     *\n     * sets this.readyState\n     *   0: unconfigured\n     *   1: begun intializing hosted fields\n     *   2: done initializing hosted fields\n     *   3: done initializing (no hosted fields)\n     *\n     * @private\n     */\n\n  }, {\n    key: "parent",\n    value: function parent() {\n      var _this2 = this;\n\n      // Check integrity of hostedFields. If fields are dead or\n      // do not match chosen selectors, reset\n      var reset = this.hostedFields && this.readyState > 0 && !this.hostedFields.integrityCheck(this.config.fields);\n\n      if (reset) {\n        // If we are between states 1 and 2, we must abandon the advancement listeners\n        if (this.readyState === 1) {\n          this.off(\'hostedFields:ready\');\n          this.off(\'hostedFields:state:change\');\n          this.off(\'hostedField:submit\');\n        }\n\n        this.readyState = 0;\n        this.hostedFields.destroy();\n      }\n\n      if (this.readyState > 0) {\n        this.bus.send(\'hostedFields:configure\', {\n          recurlyConfig: this.sanitizedConfig\n        });\n        return;\n      }\n\n      if (!this.fraud) this.fraud = new _recurly_fraud__WEBPACK_IMPORTED_MODULE_24__["Fraud"](this);\n      this.fraud.on(\'error\', function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [\'error\'].concat(args));\n      });\n\n      if (!this.bus) {\n        this.bus = new _recurly_bus__WEBPACK_IMPORTED_MODULE_22__["Bus"]({\n          api: this.config.api,\n          role: \'recurly\'\n        });\n        this.bus.add(this);\n      }\n\n      if (!this.hostedFields || reset) {\n        this.hostedFields = new _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_25__["HostedFields"]({\n          recurly: this\n        });\n      }\n\n      if (this.hostedFields.errors.length === 0) {\n        this.bus.add(this.hostedFields);\n        this.once(\'hostedFields:ready\', function () {\n          _this2.readyState = 2;\n\n          _this2.emit(\'ready\');\n        });\n        this.on(\'hostedFields:state:change\', function (body) {\n          return _this2.emit(\'change\', {\n            fields: body\n          });\n        });\n        this.on(\'hostedField:submit\', function () {\n          return _this2.emit(\'field:submit\');\n        });\n        this.readyState = 1;\n      } else {\n        this.readyState = 3;\n      }\n    }\n    /**\n     * Reports an event to the Reporter if it is available\n     *\n     * @private\n     */\n\n  }, {\n    key: "report",\n    value: function report() {\n      var _this$reporter;\n\n      if (!this.reporter) return;\n\n      (_this$reporter = this.reporter).send.apply(_this$reporter, arguments);\n    }\n    /**\n     * Binds important events to the EventDispatcher\n     *\n     * @private\n     */\n\n  }, {\n    key: "bindReporting",\n    value: function bindReporting() {\n      var _this3 = this;\n\n      if (!this.isParent) return;\n      [\'focus\', \'blur\'].forEach(function (eventName) {\n        _this3.on("hostedField:".concat(eventName), function (_ref) {\n          var type = _ref.type;\n          var state = _this3.hostedFields.state[type];\n          var meta = lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(state, [\'type\', \'valid\', \'empty\']);\n          if (state.brand) meta.brand = state.brand;\n\n          _this3.report("hosted-field:".concat(eventName), meta);\n        });\n      });\n    }\n  }, {\n    key: "isParent",\n    get: function get() {\n      return !!this.config.parent;\n    }\n  }, {\n    key: "deviceId",\n    get: function get() {\n      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_27__["fetch"])({\n        key: \'deviceId\',\n        otherwise: Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])()\n      });\n    },\n    set: function set(id) {\n      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_27__["set"])({\n        key: \'deviceId\',\n        value: id\n      });\n    }\n  }, {\n    key: "sessionId",\n    get: function get() {\n      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_27__["fetch"])({\n        scope: \'session\',\n        key: \'sessionId\',\n        otherwise: Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])()\n      });\n    },\n    set: function set(id) {\n      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_27__["set"])({\n        scope: \'session\',\n        key: \'sessionId\',\n        value: id\n      });\n    }\n    /**\n     * Configuration Object prepared for marshalling\n     *\n     * @return {Object}\n     */\n\n  }, {\n    key: "sanitizedConfig",\n    get: function get() {\n      return deep_filter__WEBPACK_IMPORTED_MODULE_2___default()(this.config, function (val) {\n        return !(val instanceof Node);\n      });\n    }\n  }]);\n\n  return Recurly;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_3___default.a);\n/**\n * Standardizes old configuration structure to current\n *\n * 1. options.fields.[field] {String} -> options.fields.[field].selector {String}\n * 2. options.style.[field] {Object} -> options.fields.[field].style {Object}\n * 3. options.style.all {Object} -> options.fields.all.style {Object}\n *\n * @param  {Object} options\n * @return {Object}\n */\n\nfunction normalizeOptions(options) {\n  var baseStyleConfig = options.style || {};\n  delete options.style;\n  _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_25__["FIELD_TYPES"].forEach(function (type) {\n    // 1\n    if (options.fields && typeof options.fields[type] === \'string\') {\n      options.fields[type] = {\n        selector: options.fields[type]\n      };\n    } // 2\n\n\n    if (baseStyleConfig[type]) {\n      options.fields = options.fields || {};\n      options.fields[type] = options.fields[type] || {};\n      options.fields[type].style = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, baseStyleConfig[type], options.fields[type].style);\n    }\n  }); // 3\n\n  if (baseStyleConfig.all) {\n    options.fields = options.fields || {};\n    options.fields.all = {\n      style: baseStyleConfig.all\n    };\n  }\n\n  return options;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly.js?'
    );
  },
  "./lib/recurly/adyen.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:adyen\');\n/**\n * Instantiation factory\n *\n * @param  {Object} options\n * @return {Adyen}\n */\n\n\nfunction factory(options) {\n  return new Adyen(_extends({}, options, {\n    recurly: this\n  }));\n}\n/**\n * Initializes an Adyen session.\n *\n * @param {Object} options\n * @param {Recurly} options.recurly\n * @constructor\n * @public\n */\n\nvar Adyen = /*#__PURE__*/function (_Emitter) {\n  _inherits(Adyen, _Emitter);\n\n  var _super = _createSuper(Adyen);\n\n  function Adyen(options) {\n    var _this;\n\n    _classCallCheck(this, Adyen);\n\n    debug(\'Creating new Adyen session\');\n    _this = _super.call(this);\n    _this.recurly = options.recurly;\n    return _this;\n  }\n  /**\n   * Invokes the Adyen Payment Modal\n   * @param {Object} opts\n   * @param {String} opts.invoiceUuid - invoice Uuid from PendingPurchase\n   * @param {String} [opts.countryCode] - 2 Digit Country Code\n   * @param {String} [opts.shopperLocale] - shopperLocale for Payment Modal\n   * @param {String} [opts.skinCode] - Skin code provided by Adyen\n  */\n\n\n  _createClass(Adyen, [{\n    key: "start",\n    value: function start(opts) {\n      var _this2 = this;\n\n      debug(\'Invoking Adyen Modal\');\n      var payload = {\n        invoiceUuid: opts.invoiceUuid,\n        countryCode: opts.countryCode,\n        shopperLocale: opts.shopperLocale,\n        skinCode: opts.skinCode\n      };\n      var errors = validatePayload(payload);\n\n      if (errors.length > 0) {\n        return this.error(\'validation\', {\n          fields: errors\n        });\n      }\n\n      var frame = this.recurly.Frame({\n        height: 600,\n        path: \'/adyen/start\',\n        payload: payload\n      });\n      frame.once(\'error\', function (cause) {\n        return _this2.error(\'adyen-error\', {\n          cause: cause\n        });\n      });\n      frame.once(\'done\', function (token) {\n        return _this2.emit(\'token\', token);\n      });\n    }\n  }, {\n    key: "error",\n    value: function error() {\n      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_1__["default"].apply(void 0, arguments);\n      this.emit(\'error\', err);\n      return err;\n    }\n  }]);\n\n  return Adyen;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n\nfunction validatePayload(payload) {\n  var errors = [];\n\n  if (payload.skinCode && payload.skinCode.length != 8) {\n    errors.push(\'skinCode should be 8 characters\');\n  }\n\n  if (payload.countryCode && payload.countryCode.length != 2) {\n    errors.push(\'countryCode should be 2 characters\');\n  }\n\n  if (payload.shopperLocale && payload.shopperLocale.length != 5) {\n    errors.push(\'shopperLocale should be 5 characters\');\n  }\n\n  if (!payload.invoiceUuid) {\n    errors.push(\'invoiceUuid cannot be blank\');\n  }\n\n  debug(\'validate errors\', errors);\n  return errors;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/adyen.js?'
    );
  },
  "./lib/recurly/apple-pay.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"factory\", function() { return factory; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors */ \"./lib/recurly/errors.js\");\n/* harmony import */ var _pricing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pricing */ \"./lib/recurly/pricing/index.js\");\n/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/normalize */ \"./lib/util/normalize.js\");\n/* harmony import */ var _util_decimalize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/decimalize */ \"./lib/util/decimalize.js\");\n/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./token */ \"./lib/recurly/token.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:apple-pay');\n\nvar APPLE_PAY_API_VERSION = 2;\nvar APPLE_PAY_ADDRESS_MAP = {\n  first_name: 'givenName',\n  last_name: 'familyName',\n  address1: 'addressLines',\n  address2: 'addressLines',\n  city: 'locality',\n  state: 'administrativeArea',\n  postal_code: 'postalCode',\n  country: 'countryCode'\n};\nvar I18N = {\n  authorizationLineItemLabel: 'Card Authorization (Temporary)',\n  subtotalLineItemLabel: 'Subtotal',\n  discountLineItemLabel: 'Discount',\n  taxLineItemLabel: 'Tax',\n  giftCardLineItemLabel: 'Gift card'\n};\n/**\n * Instantiation factory\n *\n * @param  {Object} options\n * @return {ApplePay}\n */\n\nfunction factory(options) {\n  return new ApplePay(_extends({}, options, {\n    recurly: this\n  }));\n}\n/**\n * Initializes an Apple Pay session.\n *\n * @param {Object} options\n * @param {Recurly} options.recurly\n * @param {String} options.country\n * @param {String} options.currency\n * @param {String} options.label label to display to customers in the Apple Pay dialogue\n * @param {String} options.total transaction total in format '1.00'\n * @param {HTMLElement} [options.form] to provide additional customer data\n * @param {Pricing} [options.pricing] to provide transaction total from Pricing\n * @constructor\n * @public\n */\n\nvar ApplePay = /*#__PURE__*/function (_Emitter) {\n  _inherits(ApplePay, _Emitter);\n\n  var _super = _createSuper(ApplePay);\n\n  function ApplePay(options) {\n    var _this;\n\n    _classCallCheck(this, ApplePay);\n\n    _this = _super.call(this);\n    _this._ready = false;\n    _this.config = {\n      i18n: I18N\n    };\n\n    _this.once('ready', function () {\n      return _this._ready = true;\n    }); // Detect whether Apple Pay is available\n\n\n    if (!window.ApplePaySession) {\n      _this.initError = _this.error('apple-pay-not-supported');\n    } else if (!window.ApplePaySession.canMakePayments()) {\n      _this.initError = _this.error('apple-pay-not-available');\n    }\n\n    if (!_this.initError) {\n      _this.configure(options);\n    }\n\n    return _this;\n  }\n  /**\n   * @return {ApplePaySession} Bound Apple Pay session\n   * @private\n   */\n\n\n  _createClass(ApplePay, [{\n    key: \"ready\",\n\n    /**\n     * Initialized state callback registry\n     *\n     * @param  {Function} cb callback\n     * @public\n     */\n    value: function ready(cb) {\n      if (this._ready) cb();else this.once('ready', cb);\n    }\n    /**\n     * Configures a new instance\n     *\n     * @param  {Object} options\n     * @emit 'ready'\n     * @private\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      var _this2 = this;\n\n      if ('label' in options) this.config.label = options.label;else return this.initError = this.error('apple-pay-config-missing', {\n        opt: 'label'\n      });\n      if ('form' in options) this.config.form = options.form; // Initialize with no line items\n\n      this.config.lineItems = [];\n      if ('recurly' in options) this.recurly = options.recurly;else return this.initError = this.error('apple-pay-factory-only');\n      if ('i18n' in options) _extends(this.config.i18n, options.i18n); // Listen for pricing changes to update totals and currency\n\n      var pricing = options.pricing;\n\n      if (pricing instanceof _pricing__WEBPACK_IMPORTED_MODULE_2__[\"Pricing\"]) {\n        this.config.pricing = pricing;\n        pricing.on('change', function () {\n          return _this2.onPricingChange();\n        });\n        if (pricing.hasPrice) this.onPricingChange();\n      } else if ('total' in options) {\n        this.config.total = options.total;\n      } else {\n        return this.initError = this.error('apple-pay-config-missing', {\n          opt: 'total'\n        });\n      }\n\n      this.recurly.request.get({\n        route: '/apple_pay/info',\n        data: {\n          currency: options.currency\n        },\n        done: this.applyRemoteConfig(options)\n      });\n    }\n    /**\n     * Assigns ApplePay configuration from site config\n     * @param  {object} options\n     * @private\n     */\n\n  }, {\n    key: \"applyRemoteConfig\",\n    value: function applyRemoteConfig(options) {\n      var _this3 = this;\n\n      return function (err, info) {\n        if (err) return _this3.initError = _this3.error(err);\n        if ('countries' in info && ~info.countries.indexOf(options.country)) _this3.config.country = options.country;else return _this3.initError = _this3.error('apple-pay-config-invalid', {\n          opt: 'country',\n          set: info.countries\n        });\n        if ('currencies' in info && ~info.currencies.indexOf(options.currency)) _this3.config.currency = options.currency;else return _this3.initError = _this3.error('apple-pay-config-invalid', {\n          opt: 'currency',\n          set: info.currencies\n        });\n        _this3.config.merchantCapabilities = info.merchantCapabilities || [];\n        _this3.config.supportedNetworks = info.supportedNetworks || [];\n        _this3.config.requiredShippingContactFields = options.requiredShippingContactFields || [];\n\n        _this3.emit('ready');\n      };\n    }\n    /**\n     * Begins Apple Pay transaction\n     *\n     * @public\n     */\n\n  }, {\n    key: \"begin\",\n    value: function begin() {\n      if (this.initError) return this.error('apple-pay-init-error', {\n        err: this.initError\n      });\n      delete this._session;\n      this.session.begin();\n    }\n    /**\n     * Conditionally adds an authorization line item in order to circumvent Apple Pay\n     * zero-amount authorization limitation\n     *\n     * @private\n     */\n\n  }, {\n    key: \"addAuthorizationLineItem\",\n    value: function addAuthorizationLineItem() {\n      if (parseFloat(this.config.total) > 0) return;\n      this.config.lineItems.push(this.authorizationLineItem);\n      this.config.total = this.authorizationLineItem.amount;\n    }\n    /**\n     * Updates line items and total price on pricing module changes\n     *\n     * @param  {Object} price Pricing.price\n     * @private\n     */\n\n  }, {\n    key: \"onPricingChange\",\n    value: function onPricingChange() {\n      var pricing = this.config.pricing;\n      var lineItems = this.config.lineItems = [];\n      this.config.total = pricing.totalNow;\n      if (!pricing.hasPrice) return;\n      var taxAmount = pricing.price.now.taxes || pricing.price.now.tax;\n      lineItems.push(lineItem(this.config.i18n.subtotalLineItemLabel, pricing.subtotalPreDiscountNow));\n\n      if (+pricing.price.now.discount) {\n        lineItems.push(lineItem(this.config.i18n.discountLineItemLabel, -pricing.price.now.discount));\n      }\n\n      if (+taxAmount) {\n        lineItems.push(lineItem(this.config.i18n.taxLineItemLabel, taxAmount));\n      }\n\n      if (+pricing.price.now.giftCard) {\n        lineItems.push(lineItem(this.config.i18n.giftCardLineItemLabel, -pricing.price.now.giftCard));\n      }\n\n      this.config.lineItems = lineItems;\n    }\n    /**\n     * Validates the merchant session\n     *\n     * @param  {Event} event ApplePayValidateMerchantEvent\n     * @return {[type]} [description]\n     * @private\n     */\n\n  }, {\n    key: \"onValidateMerchant\",\n    value: function onValidateMerchant(event) {\n      var _this4 = this;\n\n      debug('Validating Apple Pay merchant session', event);\n      var validationURL = event.validationURL;\n      this.recurly.request.post({\n        route: '/apple_pay/start',\n        data: {\n          validationURL: validationURL\n        },\n        done: function done(err, merchantSession) {\n          if (err) return _this4.error(err);\n\n          _this4.session.completeMerchantValidation(merchantSession);\n        }\n      });\n    }\n    /**\n     * Handles payment method selection\n     *\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"onPaymentMethodSelected\",\n    value: function onPaymentMethodSelected(event) {\n      debug('Payment method selected', event);\n      this.session.completePaymentMethodSelection(this.finalTotalLineItem, this.lineItems);\n    }\n    /**\n     * Handles shipping contact selection. Not utilized\n     *\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"onShippingContactSelected\",\n    value: function onShippingContactSelected(event) {\n      var status = this.session.STATUS_SUCCESS;\n      var newShippingMethods = [];\n      this.emit('shippingContactSelected', event);\n      this.session.completeShippingContactSelection(status, newShippingMethods, this.finalTotalLineItem, this.lineItems);\n    }\n    /**\n     * Handles shipping method selection. Not utilized\n     *\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"onShippingMethodSelected\",\n    value: function onShippingMethodSelected(event) {\n      var status = this.session.STATUS_SUCCESS;\n      this.emit('shippingMethodSelected', event);\n      this.session.completeShippingMethodSelection(status, this.finalTotalLineItem, this.lineItems);\n    }\n    /**\n     * Handles payment authorization. Submits payment token and\n     * emits the resultant authorization token\n     *\n     * @param  {Event} event\n     * @emit 'token'\n     * @private\n     */\n\n  }, {\n    key: \"onPaymentAuthorized\",\n    value: function onPaymentAuthorized(event) {\n      var _this5 = this;\n\n      debug('Payment authorization received', event);\n      var data = {};\n\n      if (this.config.form) {\n        data = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_3__[\"normalize\"])(this.config.form, _token__WEBPACK_IMPORTED_MODULE_5__[\"FIELDS\"], {\n          parseCard: false\n        }).values;\n      }\n\n      this.emit('paymentAuthorized', event);\n      this.mapPaymentData(data, event.payment);\n      this.recurly.request.post({\n        route: '/apple_pay/token',\n        data: data,\n        done: function done(err, token) {\n          if (err) {\n            _this5.session.completePayment(_this5.session.STATUS_FAILURE);\n\n            return _this5.error('apple-pay-payment-failure', err);\n          }\n\n          debug('Token received', token);\n\n          _this5.session.completePayment(_this5.session.STATUS_SUCCESS);\n\n          _this5.emit('authorized', event);\n\n          _this5.emit('token', token);\n        }\n      });\n    }\n    /**\n     * Handles customer cancelation. Passes on the event\n     *\n     * @param  {Event} event\n     * @emit 'cancel'\n     * @private\n     */\n\n  }, {\n    key: \"onCancel\",\n    value: function onCancel(event) {\n      debug('User canceled Apple Pay payment', event);\n      this.emit('cancel', event);\n    }\n    /**\n     * Creates and emits a RecurlyError\n     *\n     * @param  {...Mixed} params to be passed to the Recurlyerror factory\n     * @return {RecurlyError}\n     * @emit 'error'\n     * @private\n     */\n\n  }, {\n    key: \"error\",\n    value: function error() {\n      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apply(void 0, arguments);\n      this.emit('error', err);\n      return err;\n    }\n    /**\n     * Maps data from the Apple Pay token into the inputs\n     * object that is sent to RA for tokenization\n     *\n     * @private\n     */\n\n  }, {\n    key: \"mapPaymentData\",\n    value: function mapPaymentData(inputs, data) {\n      inputs.paymentData = data.token.paymentData;\n      inputs.paymentMethod = data.token.paymentMethod;\n      if (!data.billingContact) return;\n      if (_token__WEBPACK_IMPORTED_MODULE_5__[\"FIELDS\"].some(function (field) {\n        return inputs[field];\n      })) return;\n      _token__WEBPACK_IMPORTED_MODULE_5__[\"FIELDS\"].forEach(function (field) {\n        if (!APPLE_PAY_ADDRESS_MAP[field]) return;\n        var tokenData = data.billingContact[APPLE_PAY_ADDRESS_MAP[field]]; // address lines are an array from Apple Pay\n\n        if (field === 'address1') tokenData = tokenData[0];else if (field === 'address2') tokenData = tokenData[1];\n        inputs[field] = tokenData;\n      });\n    }\n  }, {\n    key: \"session\",\n    get: function get() {\n      if (this._session) return this._session;\n      debug('Creating new Apple Pay session');\n      this.addAuthorizationLineItem();\n      var session = new window.ApplePaySession(APPLE_PAY_API_VERSION, {\n        countryCode: this.config.country,\n        currencyCode: this.config.currency,\n        supportedNetworks: this.config.supportedNetworks,\n        merchantCapabilities: this.config.merchantCapabilities,\n        requiredBillingContactFields: ['postalAddress'],\n        requiredShippingContactFields: this.config.requiredShippingContactFields,\n        total: this.totalLineItem\n      });\n      session.onvalidatemerchant = this.onValidateMerchant.bind(this);\n      session.onshippingcontactselected = this.onShippingContactSelected.bind(this);\n      session.onshippingmethodselected = this.onShippingMethodSelected.bind(this);\n      session.onpaymentmethodselected = this.onPaymentMethodSelected.bind(this);\n      session.onpaymentauthorized = this.onPaymentAuthorized.bind(this);\n      session.oncancel = this.onCancel.bind(this);\n      return this._session = session;\n    }\n    /**\n     * @return {Array} subtotal line items for display on payment sheet\n     * @private\n     */\n\n  }, {\n    key: \"lineItems\",\n    get: function get() {\n      // Clone configured line items\n      return [].concat(this.config.lineItems);\n    }\n    /**\n     * @return {Object} total cost line item\n     * @private\n     */\n\n  }, {\n    key: \"totalLineItem\",\n    get: function get() {\n      return lineItem(this.config.label, this.config.total);\n    }\n    /**\n     * @return {Object} total cost line item indicating a finalized line item\n     * @private\n     */\n\n  }, {\n    key: \"finalTotalLineItem\",\n    get: function get() {\n      return _extends({}, this.totalLineItem, {\n        type: 'final'\n      });\n    }\n    /**\n     * Used when the total price is zero, to circumvent Apple Pay\n     * zero amount authorization limitation\n     * @return {Object} card authorization line item, $1.00\n     * @private\n     */\n\n  }, {\n    key: \"authorizationLineItem\",\n    get: function get() {\n      return lineItem(this.config.i18n.authorizationLineItemLabel, 1.00);\n    }\n  }]);\n\n  return ApplePay;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n/**\n * Builds an ApplePayLineItem\n * @param  {String} label\n * @param  {Number} amount\n * @return {object}\n */\n\n\nfunction lineItem() {\n  var label = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return {\n    label: label,\n    amount: Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(amount)\n  };\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/apple-pay.js?"
    );
  },
  "./lib/recurly/bank-account.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bankAccount\", function() { return bankAccount; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./lib/recurly/errors.js\");\n/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/normalize */ \"./lib/util/normalize.js\");\n/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate */ \"./lib/recurly/validate.js\");\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:bankAccount');\n\nvar bankAccount = {\n  token: token,\n  bankInfo: bankInfo\n};\n/**\n * Fields that are sent to API.\n *\n * @type {Array}\n * @private\n */\n\nvar FIELDS = ['account_number', 'account_number_confirmation', 'bsb_code', 'iban', 'routing_number', 'sort_code', 'name_on_account', 'account_type', 'address1', 'address2', 'company', 'country', 'city', 'state', 'postal_code', 'phone', 'vat_number', 'token', 'type'];\n/**\n * Generates a token from customer data.\n *\n * The callback signature: `err, response` where `err` is a\n * connection, request, or server error, and `response` is the\n * recurly service response. The generated token is accessed\n * at `response.token`.\n *\n * @param {Object|HTMLFormElement} options Billing properties or an HTMLFormElement\n * with children corresponding to billing properties via 'data-recurly' attributes.\n * @param {String} options.name_on_account customer name on bank account\n *\n * -- required when tokenizing a US bank account\n *\n * @param {String} options.account_number bank account number\n * @param {String} options.account_number_confirmation bank account number confirmation\n * @param {String} options.routing_number bank routing number\n * @param {String} options.account_type type of bank account (checking/savings)\n *\n * -- required when tokenizing an IBAN bank account\n *\n * @param {String} options.iban\n *\n * @param {String} [options.address1]\n * @param {String} [options.address2]\n * @param {String} [options.country]\n * @param {String} [options.city]\n * @param {String} [options.state]\n * @param {String|Number} [options.postal_code]\n * @param {Function} done callback\n */\n\nfunction token(options, _done) {\n  debug('token');\n  var data = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_1__[\"normalize\"])(options, FIELDS);\n  var inputs = data.values;\n  var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_2__[\"validateBankAccountInputs\"])(inputs);\n\n  if (typeof _done !== 'function') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('missing-callback');\n  }\n\n  if (userErrors.length) {\n    return _done(Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('validation', {\n      fields: userErrors.map(function (e) {\n        return e.field;\n      }),\n      details: userErrors\n    }));\n  }\n\n  if ('iban' in inputs) {\n    inputs.type = 'iban_bank_account';\n  }\n\n  if (inputs.type === 'bacs') {\n    inputs.type = 'bacs_bank_account';\n  }\n\n  if (inputs.type === 'becs') {\n    inputs.type = 'becs_bank_account';\n  }\n\n  this.request.post({\n    route: '/tokens',\n    data: inputs,\n    done: function done(err, res) {\n      if (err) return _done(err);\n\n      if (data.fields.token && res.id) {\n        data.fields.token.value = res.id;\n      }\n\n      _done(null, res);\n    }\n  });\n}\n/**\n * performs a bank lookup\n *\n * The callback signature: `err, response` where `err` is\n * a lookup or server error and `response` and the object containing\n * the found bank info.\n *\n * At this time, the only parameter accepted in the options argument\n * is `routingNumber`.\n *\n * @param  {Object} options lookup properties\n * @param  {String} options.routingNumber the rounting number to use for the bank lookup\n * @param  {Function} done callback\n */\n\n\nfunction bankInfo(options, _done2) {\n  debug('bankInfo');\n\n  if (typeof _done2 !== 'function') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('missing-callback');\n  }\n\n  var routingNumber = options && options.routingNumber;\n  var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_2__[\"validateBankRoutingNumber\"])(routingNumber);\n\n  if (userErrors.length) {\n    return _done2(Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('validation', {\n      fields: userErrors.map(function (e) {\n        return e.field;\n      }),\n      details: userErrors\n    }));\n  }\n\n  this.request.get({\n    route: '/bank',\n    data: {\n      routing_number: routingNumber\n    },\n    done: function done(err, res) {\n      if (err) return _done2(err);\n\n      _done2(null, res);\n    }\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/bank-account.js?"
    );
  },
  "./lib/recurly/bus.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bus", function() { return Bus; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./lib/recurly/message.js");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/uid */ "./lib/util/uid.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/**\n * Hosted field generic message bus\n *\n * Listens to message events on the window, filters recurly messages,\n * and emits them to all registered recipients\n *\n * May also receive generic messages, which it sends to all recipients\n */\n\nvar Bus = /*#__PURE__*/function (_Emitter) {\n  _inherits(Bus, _Emitter);\n\n  var _super = _createSuper(Bus);\n\n  function Bus() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Bus);\n\n    _this = _super.call(this);\n    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();\n    _this.groupId = options.groupId || Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();\n    _this.emitters = [];\n    _this.recipients = [];\n    _this.receive = _this.receive.bind(_assertThisInitialized(_this));\n    _this.config = {\n      api: options.api\n    };\n    _this.debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")("recurly:bus:".concat(options.role ? "".concat(options.role, ":") : \'\').concat(_this.id.split(\'-\')[0]));\n\n    _this.connect();\n\n    _this.send = _this.send.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Bus, [{\n    key: "connect",\n    value: function connect() {\n      window.addEventListener(\'message\', this.receive, false);\n      this.debug(\'listening for postMessage events on\', window);\n    }\n    /**\n     * Receives a postMessage, filters it, and sends it out\n     *\n     * @private\n     * @param {MessageEvent} messageEvent\n     */\n\n  }, {\n    key: "receive",\n    value: function receive(messageEvent) {\n      // allow for listening to the raw message spout\n      this.emit(\'raw-message\', messageEvent);\n      if (!this.originMatches(messageEvent.origin)) return;\n      this.debug(\'message event received\', messageEvent.data);\n      var message = _message__WEBPACK_IMPORTED_MODULE_1__["Message"].createFromMessageEvent(messageEvent, this.debug.bind(this));\n      if (!this.shouldHandleMessage(message)) return;\n      this.send(message, null, {\n        exclude: [messageEvent.srcElement, messageEvent.source]\n      });\n    }\n    /**\n     * Adds a recipient to the bus\n     *\n     * @public\n     * @param {Window|Emitter} recipient that may receive messages from `send`\n     */\n\n  }, {\n    key: "add",\n    value: function add(recipient) {\n      if (~this.recipients.indexOf(recipient)) return;\n      this.recipients.push(recipient);\n      if (recipient instanceof component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a) recipient.emit(\'bus:added\', this);\n      this.debug("added recipient. Total: ".concat(this.recipients.length), recipient);\n    }\n    /**\n     * Removes a recipient from the bus\n     *\n     * @public\n     * @param {Window|Emitter} recipient to remove\n     * @return {Boolean} whether the removal was performed\n     */\n\n  }, {\n    key: "remove",\n    value: function remove(recipient) {\n      var pos = this.recipients.indexOf(recipient);\n      return !!(~pos && this.recipients.splice(pos, 1));\n    }\n    /**\n     * Sends a generic message to all recipients\n     *\n     * @public\n     * @param {String} event name of the message\'s event\n     * @param {Object} body message contents\n     * @param {Object} [options]\n     * @param {Array} [options.exclude] a list of recipients to exlude from receiving the message\n     */\n\n  }, {\n    key: "send",\n    value: function send(event, body) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        exclude: []\n      };\n      var groupId = this.groupId;\n      var message = new _message__WEBPACK_IMPORTED_MODULE_1__["Message"](event, body, groupId);\n      var exclude = options.exclude;\n\n      if (!message.event) {\n        this.debug(\'discarding message due to lack of event name\', message);\n        return;\n      }\n\n      var recipients = this.recipients.filter(function (r) {\n        return !~exclude.indexOf(r);\n      });\n      this.debug("sending message to ".concat(recipients.length, " recipients"), recipients, message);\n      recipients.forEach(function (r) {\n        if (r.postMessage) {\n          if (typeof r.postMessage === \'function\') r.postMessage(message, \'*\');\n        } else if (typeof r.emit === \'function\') {\n          r.emit(message.event, message.body);\n        }\n      });\n    }\n    /**\n     * Empties recipients and disconnects the listener\n     *\n     * @public\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.debug(\'destroying bus\', this.groupId, this.id);\n      this.recipients = [];\n      window.removeEventListener(\'message\', this.receive, false);\n    }\n    /**\n     * Determines whether a message received should be handled by this bus\n     *\n     * @private\n     * @param {Message} message\n     */\n\n  }, {\n    key: "shouldHandleMessage",\n    value: function shouldHandleMessage(message) {\n      // If a message has a group id, it must match\n      if (message.groupId) return message.groupId === this.groupId;\n      return true;\n    }\n    /**\n     * Checks a message origin for compatibility\n     *\n     * @private\n     * @param {String} url message origin url\n     */\n\n  }, {\n    key: "originMatches",\n    value: function originMatches(url) {\n      return origin(url) === origin(this.config.api);\n    }\n  }]);\n\n  return Bus;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n/**\n * Parses an origin from a url\n *\n * @private\n * @param  {String} url\n * @return {Boolean}\n */\n\nfunction origin(url) {\n  var parser = window.document.createElement(\'a\');\n  parser.href = url;\n  return "".concat(parser.protocol, "//").concat(parser.host);\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/bus.js?'
    );
  },
  "./lib/recurly/coupon.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return coupon; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./lib/recurly/errors.js\");\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:coupon');\n/**\n * Coupon\n *\n * Retrieves coupon information for the `coupon` and optional `plan`.\n * The `callback` signature is `err, coupon` where `err` may be a request\n * or server error, and `coupon` is a representation of the requested coupon.\n *\n * @param {Object} options\n * @param {String} options.coupon coupon code\n * @param {String} [options.plan] plan code\n * @param {Array[String]} [options.plans] plan codes\n * @param {Function} done\n */\n\n\nfunction coupon() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var done = arguments.length > 1 ? arguments[1] : undefined;\n  debug('%j', options);\n  var coupon = options.coupon,\n      plans = options.plans,\n      plan = options.plan,\n      currency = options.currency;\n  if (!coupon) throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('missing-coupon');\n  if (typeof done !== 'function') throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('missing-callback');\n  if (!plans && plan) plans = [plan];\n  this.request.piped({\n    route: \"/coupons/\".concat(coupon),\n    data: {\n      plan_codes: plans,\n      currency: currency\n    },\n    by: 'plan_codes'\n  }).nodeify(done);\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/coupon.js?"
    );
  },
  "./lib/recurly/element/card-cvv.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardCvvElement", function() { return CardCvvElement; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction factory(options) {\n  return new CardCvvElement(_objectSpread({}, options, {\n    elements: this\n  }));\n}\nvar CardCvvElement = /*#__PURE__*/function (_Element) {\n  _inherits(CardCvvElement, _Element);\n\n  var _super = _createSuper(CardCvvElement);\n\n  function CardCvvElement() {\n    _classCallCheck(this, CardCvvElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  return CardCvvElement;\n}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(CardCvvElement, "type", \'cvv\');\n\n_defineProperty(CardCvvElement, "elementClassName", \'CardCvvElement\');\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/card-cvv.js?'
    );
  },
  "./lib/recurly/element/card-month.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardMonthElement", function() { return CardMonthElement; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction factory(options) {\n  return new CardMonthElement(_objectSpread({}, options, {\n    elements: this\n  }));\n}\nvar CardMonthElement = /*#__PURE__*/function (_Element) {\n  _inherits(CardMonthElement, _Element);\n\n  var _super = _createSuper(CardMonthElement);\n\n  function CardMonthElement() {\n    _classCallCheck(this, CardMonthElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  return CardMonthElement;\n}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(CardMonthElement, "type", \'month\');\n\n_defineProperty(CardMonthElement, "elementClassName", \'CardMonthElement\');\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/card-month.js?'
    );
  },
  "./lib/recurly/element/card-number.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardNumberElement", function() { return CardNumberElement; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction factory(options) {\n  return new CardNumberElement(_objectSpread({}, options, {\n    elements: this\n  }));\n}\nvar CardNumberElement = /*#__PURE__*/function (_Element) {\n  _inherits(CardNumberElement, _Element);\n\n  var _super = _createSuper(CardNumberElement);\n\n  function CardNumberElement() {\n    _classCallCheck(this, CardNumberElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  return CardNumberElement;\n}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(CardNumberElement, "type", \'number\');\n\n_defineProperty(CardNumberElement, "elementClassName", \'CardNumberElement\');\n\n_defineProperty(CardNumberElement, "supportsTokenization", true);\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/card-number.js?'
    );
  },
  "./lib/recurly/element/card-year.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardYearElement", function() { return CardYearElement; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction factory(options) {\n  return new CardYearElement(_objectSpread({}, options, {\n    elements: this\n  }));\n}\nvar CardYearElement = /*#__PURE__*/function (_Element) {\n  _inherits(CardYearElement, _Element);\n\n  var _super = _createSuper(CardYearElement);\n\n  function CardYearElement() {\n    _classCallCheck(this, CardYearElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  return CardYearElement;\n}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(CardYearElement, "type", \'year\');\n\n_defineProperty(CardYearElement, "elementClassName", \'CardYearElement\');\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/card-year.js?'
    );
  },
  "./lib/recurly/element/card.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardElement", function() { return CardElement; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction factory(options) {\n  return new CardElement(_objectSpread({}, options, {\n    elements: this\n  }));\n}\nvar CardElement = /*#__PURE__*/function (_Element) {\n  _inherits(CardElement, _Element);\n\n  var _super = _createSuper(CardElement);\n\n  function CardElement() {\n    _classCallCheck(this, CardElement);\n\n    return _super.apply(this, arguments);\n  }\n\n  return CardElement;\n}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(CardElement, "type", \'card\');\n\n_defineProperty(CardElement, "elementClassName", \'CardElement\');\n\n_defineProperty(CardElement, "supportsTokenization", true);\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/card.js?'
    );
  },
  "./lib/recurly/element/element.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Element; });\n/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/deep-assign */ "./lib/util/deep-assign.js");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/dom */ "./lib/util/dom.js");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var to_slug_case__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! to-slug-case */ "./node_modules/to-slug-case/index.js");\n/* harmony import */ var to_slug_case__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(to_slug_case__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tabbable */ "./node_modules/tabbable/index.js");\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(tabbable__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/uid */ "./lib/util/uid.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\nvar bowser = __webpack_require__(/*! bowser */ "./node_modules/bowser/src/bowser.js");\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:element\');\n/**\n * Element\n *\n * Controller for a DOM element that accepts protected customer data\n *\n * @param  {Object} options\n * @param  {Elements} options.elements\n * @return {Element}\n */\n\n\nvar Element = /*#__PURE__*/function (_Emitter) {\n  _inherits(Element, _Emitter);\n\n  var _super = _createSuper(Element);\n\n  _createClass(Element, null, [{\n    key: "findElementInDOMTree",\n\n    /**\n     * Locates the first Element in a DOM tree\n     *\n     * @param {HTMLElement} root\n     * @return {Element} First element encountered in the tree\n     */\n    value: function findElementInDOMTree(parent) {\n      var DATA_ATTRIBUTE_ID = Element.DATA_ATTRIBUTE_ID,\n          INSTANCE_REF_NAME = Element.INSTANCE_REF_NAME;\n      var maybes = parent.querySelectorAll("[data-".concat(to_slug_case__WEBPACK_IMPORTED_MODULE_5___default()(DATA_ATTRIBUTE_ID), "]"));\n      var container = component_find__WEBPACK_IMPORTED_MODULE_3___default()(maybes, function (maybe) {\n        return INSTANCE_REF_NAME in maybe;\n      });\n      if (container) return container[INSTANCE_REF_NAME];\n    }\n  }]);\n\n  function Element(_ref) {\n    var _this;\n\n    var elements = _ref.elements,\n        options = _objectWithoutProperties(_ref, ["elements"]);\n\n    _classCallCheck(this, Element);\n\n    _this = _super.call(this);\n    _this.elements = elements;\n    _this.recurly = elements.recurly;\n    _this.bus = elements.bus;\n    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_7__["default"])();\n    _this._config = {};\n    _this.state = {};\n\n    _this.configure(options);\n\n    _this.bus.add(_assertThisInitialized(_this));\n\n    _this.elements.add(_assertThisInitialized(_this));\n\n    _this.on(_this.messageName(\'state:change\'), function () {\n      var _this2;\n\n      return (_this2 = _this).onStateChange.apply(_this2, arguments);\n    });\n\n    _this.on(_this.messageName(\'focus\'), function () {\n      return _this.onFocus();\n    });\n\n    _this.on(_this.messageName(\'blur\'), function () {\n      return _this.onBlur();\n    });\n\n    _this.on(_this.messageName(\'tab:previous\'), function () {\n      return _this.onTab(\'previous\');\n    });\n\n    _this.on(_this.messageName(\'tab:next\'), function () {\n      return _this.onTab(\'next\');\n    });\n\n    _this.on(_this.messageName(\'submit\'), function () {\n      return _this.onSubmit();\n    });\n\n    _this.on(\'destroy\', function () {\n      var _this3;\n\n      return (_this3 = _this).destroy.apply(_this3, arguments);\n    });\n\n    debug(\'create\', _this.id);\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(Element, [{\n    key: "attach",\n\n    /**\n     * Attach the element to an HTMLElement\n     *\n     * Usage\n     *\n     * ```\n     * element.attach(\'#my-card-container\');\n     * ```\n     *\n     * ```\n     * element.attach(document.querySelector(\'#my-card-container\'));\n     * ```\n     *\n     * @public\n     * @param  {HTMLElement|String} parent element or selector reference to the attach target\n     */\n    value: function attach(parent) {\n      var _this4 = this;\n\n      parent = _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.element(parent);\n\n      if (!parent) {\n        throw new Error(\'Invalid parent. Expected HTMLElement.\');\n      }\n\n      var attached = this.attached,\n          bus = this.bus,\n          container = this.container,\n          id = this.id;\n      debug(\'attach\', id);\n\n      if (attached) {\n        if (container.parentElement === parent) return this;\n        this.remove();\n      }\n\n      parent.appendChild(container);\n      bus.add(this.window);\n      this.once(this.messageName(\'ready\'), function () {\n        return _this4.emit(\'attach\', _this4);\n      });\n      return this;\n    }\n    /**\n     * Removes the element from the DOM\n     *\n     * @public\n     */\n\n  }, {\n    key: "remove",\n    value: function remove() {\n      var attached = this.attached,\n          bus = this.bus,\n          id = this.id,\n          container = this.container;\n      debug(\'remove\', id);\n      if (!attached) return this;\n      var parent = container.parentElement;\n      if (!parent) return this;\n      bus.remove(this.window);\n      parent.removeChild(container); // Prevent dangling ready listeners from triggering the \'attach\' event\n\n      this.off(this.messageName(\'ready\'));\n      this.emit(\'remove\', this);\n      return this;\n    }\n    /**\n     * Destroys the element and disables its functionality\n     *\n     * @private\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.remove();\n      this.off();\n      this.bus.remove(this);\n      this.elements.remove(this);\n      delete this.container;\n      delete this.iframe;\n      delete this.window;\n      return this;\n    }\n    /**\n     * Configures the element, enforcing the config allowlist\n     *\n     * @public\n     */\n\n  }, {\n    key: "configure",\n    value: function configure() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _config = this._config;\n      var OPTIONS = this.constructor.OPTIONS;\n      var newConfig = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_0__["default"])({}, _config, lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(options, OPTIONS));\n      if (JSON.stringify(_config) === JSON.stringify(newConfig)) return this;\n      this._config = newConfig;\n      this.update();\n      return this;\n    }\n    /**\n     * Places focus on this element\n     */\n\n  }, {\n    key: "focus",\n    value: function focus() {\n      this.bus.send(this.messageName(\'focus!\'));\n    }\n    /**\n     * Updates element DOM properties to latest values\n     *\n     * @private\n     */\n\n  }, {\n    key: "update",\n    value: function update() {\n      var bus = this.bus,\n          classList = this.classList,\n          config = this.config,\n          id = this.id,\n          iframe = this.iframe;\n      var tabIndex = parseInt(config.tabIndex, 10) || 0;\n      debug(\'update\', id);\n      this.container.className = classList;\n      iframe.setAttribute(\'tabindex\', tabIndex);\n      bus.send(this.messageName(\'configure!\'), config);\n    }\n    /**\n     * Builds a standard message name string in the format expected from\n     * a frame message\n     *\n     * @private\n     * @param {string} name message name\n     * @return {String} fully qualified message name\n     */\n\n  }, {\n    key: "messageName",\n    value: function messageName(name) {\n      return "element:".concat(this.id, ":").concat(name);\n    }\n    /**\n     * Provides an Array of tabbable HTMLElements in the document body,\n     * excluding (Recurly) Element frames\n     *\n     * @private\n     * @return {Array} of HTMLElements\n     */\n\n  }, {\n    key: "tabbableItems",\n    value: function tabbableItems() {\n      var FRAME_NAME_PREFIX = this.constructor.FRAME_NAME_PREFIX;\n      return tabbable__WEBPACK_IMPORTED_MODULE_6___default()(window.document.body).filter(function (el) {\n        if (!el.name) return true;\n        return el.name.indexOf(FRAME_NAME_PREFIX) !== 0;\n      });\n    } // Event handlers\n\n    /**\n     * Updates state to reflect changes signaled by the Element iframe\n     *\n     * @private\n     * @param  {Object} body message body, containing new state\n     */\n\n  }, {\n    key: "onStateChange",\n    value: function onStateChange(body) {\n      debug(\'state change\', this.id, body);\n\n      var newState = _objectSpread({}, body);\n\n      delete newState.type;\n      if (JSON.stringify(this.state) === JSON.stringify(newState)) return;\n      this.state = newState;\n      debug(\'state change committed\', this.id, {\n        old: this.state,\n        new: newState\n      });\n      this.emit(\'change\', _objectSpread({}, this.state));\n      this.update();\n    }\n  }, {\n    key: "onFocus",\n    value: function onFocus() {\n      debug(\'focus\', this.id);\n      this.emit(\'focus\', this);\n    }\n  }, {\n    key: "onBlur",\n    value: function onBlur() {\n      debug(\'blur\', this.id);\n      this.emit(\'blur\', this);\n    }\n  }, {\n    key: "onTab",\n    value: function onTab(direction) {\n      debug(\'tab\', this.id, direction);\n      var tabProxy = this.tabProxy;\n      if (!tabProxy) return;\n      var tabbableItems = this.tabbableItems();\n      var pos = tabbableItems.indexOf(tabProxy);\n      var dest = direction === \'previous\' ? tabbableItems[pos - 1] : tabbableItems[pos + 1];\n      if (dest) dest.focus();\n    }\n  }, {\n    key: "onSubmit",\n    value: function onSubmit() {\n      debug(\'submit\', this.id);\n      this.emit(\'submit\', this);\n    }\n  }, {\n    key: "type",\n    get: function get() {\n      return this.constructor.type;\n    }\n  }, {\n    key: "supportsTokenization",\n    get: function get() {\n      return this.constructor.supportsTokenization;\n    }\n  }, {\n    key: "elementClassName",\n    get: function get() {\n      return this.constructor.elementClassName;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "container",\n    get: function get() {\n      var _this5 = this;\n\n      if (this._container) return this._container;\n      var classList = this.classList,\n          iframe = this.iframe,\n          tabProxy = this.tabProxy,\n          id = this.id;\n      var _this$constructor = this.constructor,\n          DATA_ATTRIBUTE_ID = _this$constructor.DATA_ATTRIBUTE_ID,\n          INSTANCE_REF_NAME = _this$constructor.INSTANCE_REF_NAME;\n      var container = this._container = document.createElement(\'div\');\n      _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.data(container, DATA_ATTRIBUTE_ID, id);\n      container[INSTANCE_REF_NAME] = this;\n      container.setAttribute(\'class\', classList);\n\n      if (isMobile()) {\n        container.appendChild(tabProxy);\n      }\n\n      container.appendChild(iframe);\n      container.addEventListener(\'click\', function () {\n        return _this5.focus();\n      });\n      return container;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "tabProxy",\n    get: function get() {\n      var _this6 = this;\n\n      if (this._tabProxy) return this._tabProxy;\n      var proxy = this._tabProxy = _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createHiddenInput();\n      proxy.addEventListener(\'focus\', function () {\n        return _this6.focus();\n      });\n      return proxy;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "iframe",\n    get: function get() {\n      if (this._iframe) return this._iframe;\n      var id = this.id,\n          url = this.url;\n      var FRAME_NAME_PREFIX = this.constructor.FRAME_NAME_PREFIX;\n      var iframe = this._iframe = document.createElement(\'iframe\');\n      iframe.setAttribute(\'allowtransparency\', \'true\');\n      iframe.setAttribute(\'frameborder\', \'0\');\n      iframe.setAttribute(\'scrolling\', \'no\');\n      iframe.setAttribute(\'name\', "".concat(FRAME_NAME_PREFIX).concat(id));\n      iframe.setAttribute(\'allowpaymentrequest\', \'true\');\n      iframe.setAttribute(\'style\', \'background: none; width: 100%; height: 100%;\');\n      iframe.src = url;\n      return iframe;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "window",\n    get: function get() {\n      return this.iframe.contentWindow;\n    }\n    /**\n     * @private\n     *\n     * FIXME: contentWindow access is very slow.\n     *   - we may wish to use a sentinel to track attached state,\n     *     toggled by \'attach\' event and .remove()\n     */\n\n  }, {\n    key: "attached",\n    get: function get() {\n      return !!this.window;\n    }\n    /**\n     * Whether this instance has begun attachment but is awaiting the \'ready\' message\n     *\n     * @public\n     */\n\n  }, {\n    key: "attaching",\n    get: function get() {\n      return this.hasListeners(this.messageName(\'ready\'));\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "url",\n    get: function get() {\n      var config = encodeURIComponent(JSON.stringify(this.config));\n      return this.recurly.url("/field.html#config=".concat(config));\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: "config",\n    get: function get() {\n      var bus = this.bus,\n          id = this.id,\n          recurly = this.recurly,\n          type = this.type;\n      var deviceId = recurly.deviceId,\n          sessionId = recurly.sessionId;\n      return _objectSpread({}, this._config, {\n        busGroupId: bus.groupId,\n        deviceId: deviceId,\n        elementId: id,\n        recurly: recurly.sanitizedConfig,\n        sessionId: sessionId,\n        type: type\n      });\n    }\n    /**\n     * Provides a string of class names corresponding to\n     * the current state\n     *\n     * @private\n     */\n\n  }, {\n    key: "classList",\n    get: function get() {\n      var attached = this.attached,\n          state = this.state,\n          type = this.type;\n      var prefix = \'recurly-element\';\n      var classes = [prefix];\n\n      if (attached) {\n        classes.push("".concat(prefix, "-").concat(type));\n\n        if (state.focus) {\n          classes.push("".concat(prefix, "-focus"));\n          classes.push("".concat(prefix, "-").concat(type, "-focus"));\n        }\n\n        if (state.valid) {\n          classes.push("".concat(prefix, "-valid"));\n          classes.push("".concat(prefix, "-").concat(type, "-valid"));\n        } else if (!state.focus && !state.empty) {\n          classes.push("".concat(prefix, "-invalid"));\n          classes.push("".concat(prefix, "-").concat(type, "-invalid"));\n        }\n      }\n\n      return classes.join(\' \');\n    }\n  }]);\n\n  return Element;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);\n/**\n * Determine if user\'s browser is mobile or non-mobile\n * @return {Boolean} value\n */\n\n\n_defineProperty(Element, "DATA_ATTRIBUTE_ID", \'recurlyElementId\');\n\n_defineProperty(Element, "FRAME_NAME_PREFIX", \'recurly-element--\');\n\n_defineProperty(Element, "INSTANCE_REF_NAME", \'__recurlyElement\');\n\n_defineProperty(Element, "OPTIONS", [\'displayIcon\', \'inputType\', \'style\', \'tabIndex\']);\n\n_defineProperty(Element, "supportsTokenization", false);\n\n_defineProperty(Element, "type", null);\n\n\n\nfunction isMobile() {\n  return bowser.mobile || bowser.tablet;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/element.js?'
    );
  },
  "./lib/recurly/element/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/element.js");\n\n/* harmony default export */ __webpack_exports__["default"] = (_element__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n//# sourceURL=webpack://recurly/./lib/recurly/element/index.js?'
    );
  },
  "./lib/recurly/elements.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Elements; });\n/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bus */ "./lib/recurly/bus.js");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element */ "./lib/recurly/element/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\n/* harmony import */ var _element_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./element/card */ "./lib/recurly/element/card.js");\n/* harmony import */ var _element_card_number__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./element/card-number */ "./lib/recurly/element/card-number.js");\n/* harmony import */ var _element_card_month__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./element/card-month */ "./lib/recurly/element/card-month.js");\n/* harmony import */ var _element_card_year__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element/card-year */ "./lib/recurly/element/card-year.js");\n/* harmony import */ var _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./element/card-cvv */ "./lib/recurly/element/card-cvv.js");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/uid */ "./lib/util/uid.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:elements\');\n\nfunction factory(options) {\n  return new Elements(_extends({}, options, {\n    recurly: this\n  }));\n}\n/**\n * Elements\n *\n * Controls a group of Element instances\n *\n * @param  {Object} options\n * @param  {Elements} options.recurly\n */\n\nvar Elements = /*#__PURE__*/function (_Emitter) {\n  _inherits(Elements, _Emitter);\n\n  var _super = _createSuper(Elements);\n\n  function Elements(_ref) {\n    var _this;\n\n    var recurly = _ref.recurly;\n\n    _classCallCheck(this, Elements);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), "CardElement", _element_card__WEBPACK_IMPORTED_MODULE_4__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "CardNumberElement", _element_card_number__WEBPACK_IMPORTED_MODULE_5__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "CardMonthElement", _element_card_month__WEBPACK_IMPORTED_MODULE_6__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "CardYearElement", _element_card_year__WEBPACK_IMPORTED_MODULE_7__["factory"]);\n\n    _defineProperty(_assertThisInitialized(_this), "CardCvvElement", _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__["factory"]);\n\n    _this.recurly = recurly;\n    _this.id = "recurly-elements:".concat(Object(_util_uid__WEBPACK_IMPORTED_MODULE_9__["default"])());\n    _this.elements = [];\n    _this.bus = new _bus__WEBPACK_IMPORTED_MODULE_0__["Bus"]({\n      api: recurly.config.api,\n      role: \'elements\'\n    });\n\n    _this.bus.add(_assertThisInitialized(_this));\n\n    _this.bus.add(recurly);\n\n    _this.on(\'destroy\', function () {\n      var _this2;\n\n      return (_this2 = _this).destroy.apply(_this2, arguments);\n    });\n\n    _this.on(\'token:init\', function () {\n      var _this3;\n\n      return (_this3 = _this).ensureTokenCapability.apply(_this3, arguments);\n    });\n\n    debug(\'create\', _this.id);\n    return _this;\n  }\n  /**\n   * Adds an element\n   *\n   * @private\n   * @param  {Element} element\n   */\n\n\n  _createClass(Elements, [{\n    key: "add",\n    value: function add(element) {\n      debug(\'add\', this.id, element);\n      var elements = this.elements;\n      var VALID_SETS = this.constructor.VALID_SETS;\n\n      if (!(element instanceof _element__WEBPACK_IMPORTED_MODULE_1__["default"])) {\n        throw new Error("Invalid element. Expected Element, got ".concat(_typeof(element)));\n      }\n\n      if (elements.some(function (e) {\n        return e === element;\n      })) {\n        throw new Error("\\n        Invalid element. There is already a `".concat(element.elementClassName, "` in this set.\\n      "));\n      } // Validate that the new element can be added to the existing set\n      // TODO: Add set rules documentation link to the error\n\n\n      var newSet = elements.concat(element);\n\n      if (!VALID_SETS.some(function (set) {\n        return newSet.every(function (ne) {\n          return ~set.indexOf(ne.constructor);\n        });\n      })) {\n        throw new Error("\\n        Invalid element. A `".concat(element.elementClassName, "` may not be added to the existing set:\\n        ").concat(elements.map(function (e) {\n          return "\'".concat(e.elementClassName, "\'");\n        }).join(\', \'), "\\n      "));\n      }\n\n      elements.push(element);\n      element.on(\'attach\', this.onElementAttach.bind(this));\n      element.on(\'submit\', this.onElementSubmit.bind(this));\n      this.sendPeerAnnounce();\n    }\n    /**\n     * Removes an element\n     *\n     * @private\n     * @param  {Element} element\n     * @return {Boolean} whether the removal was performed\n     */\n\n  }, {\n    key: "remove",\n    value: function remove(element) {\n      debug(\'remove\', this.id, element);\n      var elements = this.elements;\n      var pos = elements.indexOf(element);\n      var removed = ~pos && elements.splice(pos, 1);\n      if (removed) this.sendPeerAnnounce();\n      return removed;\n    }\n    /**\n     * Destroys this controller\n     *\n     * TODO: disable instance upon destruction?\n     *\n     * @private\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      debug(\'destroy\', this.id);\n      var elements = this.elements,\n          bus = this.bus;\n      elements.forEach(function (e) {\n        return e.destroy();\n      });\n      bus.destroy();\n    }\n    /**\n     * Sends a message announcing the ids of the associated elements\n     *\n     * @private\n     */\n\n  }, {\n    key: "sendPeerAnnounce",\n    value: function sendPeerAnnounce() {\n      var elements = this.elements,\n          bus = this.bus;\n      var ids = elements.map(function (e) {\n        return e.id;\n      });\n      bus.send(\'elements:peer-announce\', {\n        ids: ids\n      });\n    } // Event handlers\n\n    /**\n     * Sends the \'elements:ready!\' event when no elements are in the process\n     * of attaching\n     *\n     * Called when any element has finished attaching and initializing\n     *\n     * @private\n     * @param {Element} element\n     */\n\n  }, {\n    key: "onElementAttach",\n    value: function onElementAttach(element) {\n      debug(\'element attach\', this.id, element);\n      var elements = this.elements,\n          bus = this.bus;\n      if (elements.length < 1) return;\n      if (elements.some(function (e) {\n        return e.attaching;\n      })) return;\n      bus.send(\'elements:ready!\');\n      this.sendPeerAnnounce();\n    }\n    /**\n     * Emits the submit event to indicate when the event has occurred on an Element\n     *\n     * @private\n     * @param {Element} element\n     */\n\n  }, {\n    key: "onElementSubmit",\n    value: function onElementSubmit(element) {\n      debug(\'submit\', this.id, element);\n      this.emit(\'submit\', element);\n    }\n    /**\n     * Ensures the current elements group contains one Element supporting tokenization.\n     * If one is not present, then this will emit an error to the token listener.\n     *\n     * @param {String} options.id tokenization id\n     */\n\n  }, {\n    key: "ensureTokenCapability",\n    value: function ensureTokenCapability(_ref2) {\n      var id = _ref2.id;\n      var elements = this.elements,\n          bus = this.bus;\n\n      if (!elements.some(function (el) {\n        return el.supportsTokenization;\n      })) {\n        var found = elements.map(function (el) {\n          return el.elementClassName;\n        });\n        var err = Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])(\'elements-tokenization-not-possible\', {\n          found: found\n        });\n        bus.send("token:done:".concat(id), {\n          err: err\n        });\n      }\n    }\n  }]);\n\n  return Elements;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);\n\n_defineProperty(Elements, "VALID_SETS", [[_element_card__WEBPACK_IMPORTED_MODULE_4__["CardElement"]], [_element_card_number__WEBPACK_IMPORTED_MODULE_5__["CardNumberElement"], _element_card_month__WEBPACK_IMPORTED_MODULE_6__["CardMonthElement"], _element_card_year__WEBPACK_IMPORTED_MODULE_7__["CardYearElement"], _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__["CardCvvElement"]]]);\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/elements.js?'
    );
  },
  "./lib/recurly/errors.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return error; });\n/* harmony import */ var _reporter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reporter */ \"./lib/recurly/reporter.js\");\n/* harmony import */ var string_squish__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! string-squish */ \"./node_modules/string-squish/index.js\");\n/* harmony import */ var string_squish__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(string_squish__WEBPACK_IMPORTED_MODULE_1__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar BASE_URL = 'https://dev.recurly.com/docs/recurly-js-';\nvar ERRORS = [{\n  code: 'not-configured',\n  message: 'Not configured. You must first call recurly.configure().',\n  classification: 'merchant',\n  help: 'getting-started#section-configure'\n}, {\n  code: 'config-missing-public-key',\n  message: 'The publicKey setting is required.',\n  classification: 'merchant',\n  help: '#identify-your-site'\n}, {\n  code: 'config-missing-fields',\n  message: 'The fields setting is required.',\n  classification: 'merchant'\n}, {\n  code: 'missing-hosted-field-target',\n  message: function message(c) {\n    return \"Target HTMLElement not found for \".concat(c.type, \" field using selector '\").concat(c.selector, \"'\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'elements-tokenization-not-possible',\n  message: function message(c) {\n    return \"No Element capable of tokenization was found in the given Elements group\\n                   (\".concat(c.found.join(','), \"). Please review documentation for a list of tokenizing Elements.\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'api-error',\n  message: 'There was an error with your request.',\n  classification: 'api'\n}, {\n  code: 'api-timeout',\n  message: 'The API request timed out.',\n  classification: 'api'\n}, {\n  code: 'validation',\n  message: 'There was an error validating your request.',\n  classification: 'customer'\n}, {\n  code: 'missing-callback',\n  message: 'Missing callback',\n  classification: 'merchant'\n}, {\n  code: 'invalid-options',\n  message: 'Options must be an object',\n  classification: 'merchant'\n}, {\n  code: 'invalid-option',\n  message: function message(c) {\n    return \"Option \".concat(c.name, \" must be \").concat(c.expect);\n  },\n  classification: 'merchant'\n}, {\n  code: 'missing-plan',\n  message: 'A plan must be specified.',\n  classification: 'merchant'\n}, {\n  code: 'missing-coupon',\n  message: 'A coupon must be specified.',\n  classification: 'merchant'\n}, {\n  code: 'invalid-item',\n  message: 'The given item does not appear to be a valid recurly plan, coupon, addon, or taxable address.',\n  classification: 'merchant'\n}, {\n  code: 'invalid-addon',\n  message: 'The given addon_code is not among the valid addons for the specified plan.',\n  classification: 'merchant'\n}, {\n  code: 'invalid-currency',\n  message: function message(c) {\n    return \"The given currency (\".concat(c.currency, \") is not among the valid codes for the specified plan(s): \").concat(c.allowed, \".\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'invalid-plan-currency',\n  message: function message(c) {\n    return \"The requested plan (\".concat(c.planCode, \") does not support the possible checkout currencies: \").concat(c.currencies, \".\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'invalid-subscription-currency',\n  message: \"The given subscription does not support the currencies of this Checkout instance's existing subscriptions\",\n  classification: 'merchant'\n}, {\n  code: 'invalid-item-currency',\n  message: function message(c) {\n    return \"The requested item (\".concat(c.itemCode, \") does not support the requested currency: \").concat(c.currency, \".\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'unremovable-item',\n  message: 'The given item cannot be removed.',\n  classification: 'merchant'\n}, {\n  code: 'fraud-data-collector-request-failed',\n  message: function message(c) {\n    return \"There was an error getting the data collector fields: \".concat(c.error);\n  },\n  classification: 'internal'\n}, {\n  code: 'fraud-data-collector-missing-form',\n  message: function message(c) {\n    return \"There was an error finding a form to inject the data collector fields using selector '\".concat(c.selector, \"'\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'gift-card-currency-mismatch',\n  message: 'The giftcard currency does not match the given currency.',\n  classification: 'merchant'\n}, {\n  code: 'apple-pay-not-supported',\n  message: 'Apple Pay is not supported by this device or browser.',\n  classification: 'environment'\n}, {\n  code: 'apple-pay-not-available',\n  message: 'Apple Pay is supported by this device, but the customer has not configured Apple Pay.',\n  classification: 'environment'\n}, {\n  code: 'apple-pay-config-missing',\n  message: function message(c) {\n    return \"Missing Apple Pay configuration option: '\".concat(c.opt, \"'\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'apple-pay-config-invalid',\n  message: function message(c) {\n    return \"Apple Pay configuration option '\".concat(c.opt, \"' is not among your available options: \").concat(c.set, \".\\n                   Please refer to your site configuration if the available options is incorrect.\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'apple-pay-factory-only',\n  message: 'Apple Pay must be initialized by calling recurly.ApplePay',\n  classification: 'merchant'\n}, {\n  code: 'apple-pay-init-error',\n  message: function message(c) {\n    var message = 'Apple Pay did not initialize due to a fatal error';\n    if (c.err) message += \": \".concat(c.err.message);\n    return message;\n  },\n  classification: 'internal'\n}, {\n  code: 'apple-pay-payment-failure',\n  message: 'Apply Pay could not charge the customer',\n  classification: 'internal'\n}, {\n  code: 'paypal-factory-only',\n  message: 'PayPal must be initialized by calling recurly.PayPal',\n  classification: 'merchant'\n}, {\n  code: 'paypal-config-missing',\n  message: function message(c) {\n    return \"Missing PayPal configuration option: '\".concat(c.opt, \"'\");\n  },\n  classification: 'merchant'\n}, {\n  code: 'paypal-load-error',\n  message: 'Client libraries failed to load',\n  classification: 'environment'\n}, {\n  code: 'paypal-client-error',\n  message: 'PayPal encountered an unexpected error',\n  classification: 'internal'\n}, {\n  code: 'paypal-tokenize-error',\n  message: 'An error occurred while attempting to generate the PayPal token',\n  classification: 'internal'\n}, {\n  code: 'paypal-tokenize-recurly-error',\n  message: 'An error occurred while attempting to generate the Recurly token',\n  classification: 'internal'\n}, {\n  code: 'paypal-braintree-not-ready',\n  message: 'Braintree PayPal is not yet ready to create a checkout flow',\n  classification: 'merchant'\n}, {\n  code: 'paypal-braintree-api-error',\n  message: 'Braintree API experienced an error',\n  classification: 'internal'\n}, {\n  code: 'paypal-braintree-tokenize-braintree-error',\n  message: 'An error occurred while attempting to generate the Braintree token',\n  classification: 'internal'\n}, {\n  code: 'paypal-braintree-tokenize-recurly-error',\n  message: 'An error occurred while attempting to generate the Braintree token within Recurly',\n  classification: 'internal'\n}, {\n  code: 'adyen-error',\n  message: \"An error occurred within your Adyen checkout process. Please refer to the\\n              cause property for more detail.\",\n  classification: 'internal'\n}, {\n  code: '3ds-vendor-load-error',\n  message: function message(c) {\n    return \"An error occurred while loading a dependency from \".concat(c.vendor, \". Please refer\\n                   to the cause property for more detail.\");\n  },\n  classification: 'internal'\n}, {\n  code: '3ds-auth-error',\n  message: \"We were unable to authenticate your payment method. Please choose a different payment\\n              method and try again.\",\n  classification: 'internal'\n}, {\n  code: '3ds-result-tokenization-error',\n  message: \"An error occurred while attempting to tokenize 3D Secure results.\\n              Please refer to the cause property for more detail.\",\n  classification: 'api'\n}, {\n  code: 'risk-preflight-timeout',\n  message: function message(c) {\n    return \"recurly.Risk timeout out in preflight procedure for \".concat(c.processor, \". Skipping.\");\n  },\n  classification: 'internal'\n}];\n/**\n * Error directory\n *\n * @param {Recurly} recurly instance\n */\n\nvar ErrorDirectory = /*#__PURE__*/function () {\n  function ErrorDirectory() {\n    _classCallCheck(this, ErrorDirectory);\n\n    this.ERROR_MAP = ERRORS.reduce(function (memo, definition) {\n      memo[definition.code] = recurlyErrorFactory(definition);\n      return memo;\n    }, {});\n  }\n  /**\n   * Retrieves an error from the directory\n   *\n   * @param {String} code\n   * @param {Object} [context] arbitrary error property dictionary\n   * @param {Object} [options]\n   * @param {Reporter} [options.reporter] Reporter instance to report errors\n   * @return {RecurlyError}\n   * @throws {Error} if the requested error is not in the directory\n   */\n\n\n  _createClass(ErrorDirectory, [{\n    key: \"get\",\n    value: function get(code) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (!(code in this.ERROR_MAP)) {\n        throw new Error(\"invalid error: \".concat(code));\n      } else {\n        return new this.ERROR_MAP[code](context, options);\n      }\n    }\n  }]);\n\n  return ErrorDirectory;\n}();\n/**\n * Generates a function which binds error properties to a RecurlyError\n *\n * @param {Object} definition\n * @return {Function}\n */\n\n\nfunction recurlyErrorFactory(definition) {\n  var code = definition.code,\n      message = definition.message,\n      help = definition.help;\n  /**\n   * Recurly domain-specific error class\n   *\n   * Provides helpful context to runtime errors. Logs errors.\n   *\n   * @param {String} code error code\n   * @param {String} message error message\n   * @param {Object} context suplementary error data\n   * @param {Object} [options]\n   * @param {Reporter} [options.reporter] Reporter instance used to report an error\n   * @param {String} [help] documentation reference\n   */\n\n  function RecurlyError() {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.code = this.name = code;\n\n    if (message instanceof Function) {\n      this.message = message(context);\n    } else {\n      this.message = message;\n    }\n\n    this.message = string_squish__WEBPACK_IMPORTED_MODULE_1___default()(this.message);\n\n    _extends(this, context);\n\n    if (options.reporter) this.reporter = options.reporter;\n\n    if (help) {\n      this.help = BASE_URL + help;\n      this.message += \" (need help? \".concat(this.help, \")\");\n    }\n\n    if (this.reporter instanceof _reporter__WEBPACK_IMPORTED_MODULE_0__[\"Reporter\"]) {\n      var type = 'client';\n      if (this.classification) type += \":\".concat(this.classification); // Warning: any errors that occur in this code path risk\n      // a stack overflow if they include a reporter\n\n      this.reporter.send('error', {\n        type: type\n      });\n    }\n  }\n\n  RecurlyError.prototype = new Error();\n  return RecurlyError;\n}\n\nvar errorDirectory = new ErrorDirectory();\n/**\n * Exported singleton proxy\n *\n * See ErrorDirectory.get\n */\n\nfunction error() {\n  if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof Error) return arguments.length <= 0 ? undefined : arguments[0];\n  return errorDirectory.get.apply(errorDirectory, arguments);\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/errors.js?"
    );
  },
  "./lib/recurly/frame.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return Frame; });\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! qs */ "./node_modules/qs/lib/index.js");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/uid */ "./lib/util/uid.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:frame\');\n/**\n * Options for Frame\n *\n * @typedef {Object} FrameOptions\n * @property {Recurly} recurly\n * @property {String} path            API endpoint to load\n * @property {Object} payload         Message payload to deliver to endpoint\n * @property {TYPE} [type=Frame.TYPES.WINDOW]          window or iframe\n * @property {HTMLElement} container  only valid for type=\'iframe\' --\n *                                      attaches iframe to this container\n * @property {Number} [height=450]    frame height\n * @property {Number} [width=535]     frame width\n */\n\n/**\n * Frame factory. Binds the caller to the `recurly` {FrameOptions} property\n *\n * @public\n * @param {FrameOptions} options\n *\n * @return {Frame}\n */\n\n\nfunction factory(options) {\n  options = _extends({}, options, {\n    recurly: this\n  });\n  return new Frame(options);\n}\n/**\n * Issues an API request to a popup window.\n *\n * @param {FrameOptions} options\n */\n\nvar Frame = /*#__PURE__*/function (_Emitter) {\n  _inherits(Frame, _Emitter);\n\n  var _super = _createSuper(Frame);\n\n  function Frame(_ref) {\n    var _this;\n\n    var recurly = _ref.recurly,\n        path = _ref.path,\n        _ref$payload = _ref.payload,\n        payload = _ref$payload === void 0 ? {} : _ref$payload,\n        options = _objectWithoutProperties(_ref, ["recurly", "path", "payload"]);\n\n    _classCallCheck(this, Frame);\n\n    _this = _super.call(this);\n    _this.recurly = recurly;\n    _this.id = "".concat(_this.recurly.id, "-").concat(Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])());\n    _this.name = "recurly-frame-".concat(_this.id);\n    _this.config = options;\n\n    _this.prepare(path, payload);\n\n    _this.listen();\n\n    return _this;\n  }\n  /**\n   * Whether this Frame is to be rendered as an iframe\n   * @type {Boolean}\n   */\n\n\n  _createClass(Frame, [{\n    key: "prepare",\n\n    /**\n     * Prepares the url and payload prior to launching the Frame\n     *\n     * @private\n     * @param {String} path - API path to load\n     * @param {Object} payload - Request payload\n     */\n    value: function prepare(path, payload) {\n      var _this2 = this;\n\n      var name = this.name,\n          recurly = this.recurly;\n      debug(\'creating request frame\');\n      payload.version = recurly.version;\n      payload.event = name;\n      payload.key = recurly.config.publicKey;\n      this.once(payload.event, function (res) {\n        _this2.removeRelay();\n\n        if (res.error) {\n          _this2.emit(\'error\', res.error);\n        } else {\n          _this2.emit(\'done\', res);\n        }\n\n        _this2.destroy();\n      });\n      this.url = this.recurly.url(path);\n      this.url += (~this.url.indexOf(\'?\') ? \'&\' : \'?\') + qs__WEBPACK_IMPORTED_MODULE_0___default.a.stringify(payload, {\n        encodeValuesOnly: true\n      });\n      this.once(\'destroy\', function () {\n        return _this2.destroy();\n      });\n    }\n    /**\n     * Adds the Frame to the Bus and creates a relay if necessary\n     *\n     * @private\n     */\n\n  }, {\n    key: "listen",\n    value: function listen() {\n      var _this3 = this;\n\n      this.recurly.bus.add(this); // IE (including 11) will not allow communication between windows;\n      // thus we must create a frame relay\n\n      if (\'documentMode\' in document) {\n        debug(\'creating relay\');\n        var relay = document.createElement(\'iframe\');\n        relay.width = relay.height = 0;\n        relay.src = this.recurly.url(\'/relay\');\n        relay.name = "recurly-relay-".concat(this.id);\n        relay.style.display = \'none\';\n\n        relay.onload = function () {\n          return _this3.create();\n        };\n\n        window.document.body.appendChild(relay);\n        this.relay = relay;\n        debug(\'created relay\', relay);\n      } else {\n        this.create();\n      }\n    }\n    /**\n     * Initiates creation of the frame\n     *\n     * @private\n     */\n\n  }, {\n    key: "create",\n    value: function create() {\n      if (this.isIframe) this.createIFrame();else this.createWindow();\n    }\n    /**\n     * Creates a new window (popup)\n     *\n     * @private\n     */\n\n  }, {\n    key: "createWindow",\n    value: function createWindow() {\n      var name = this.name,\n          url = this.url,\n          windowAttributes = this.windowAttributes;\n      this.window = window.open(url, name, windowAttributes);\n      debug(\'opening window\', this.window, url, name, windowAttributes);\n      this.bindWindowCloseListener();\n    }\n    /**\n     * Creates a new iframe\n     *\n     * @private\n     */\n\n  }, {\n    key: "createIFrame",\n    value: function createIFrame() {\n      var container = this.container,\n          url = this.url;\n      var iframe = document.createElement(\'iframe\');\n\n      if (!(container instanceof HTMLElement)) {\n        throw new Error("Invalid container. Expected HTMLElement, got ".concat(_typeof(container)));\n      }\n\n      iframe.src = url;\n      iframe.setAttribute(\'allowtransparency\', \'true\');\n      iframe.setAttribute(\'border\', \'0\');\n      iframe.setAttribute(\'frameborder\', \'0\');\n      iframe.setAttribute(\'scrolling\', \'no\');\n      iframe.setAttribute(\'style\', \'background: transparent; width: 100%; height: 100%;\');\n      container.appendChild(iframe);\n      this.iframe = iframe;\n      debug(\'created iframe and attached to\', container);\n    }\n    /**\n     * Destroys the frame\n     *  - closes the window or removes the iframe\n     *  - removes listeners\n     *  - instructs instance to remove any existing relay\n     *\n     * @private\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      var iframe = this.iframe,\n          frameWindow = this.window;\n\n      if (iframe) {\n        var parentElement = iframe.parentElement;\n        if (parentElement) parentElement.removeChild(iframe);\n        delete this.iframe;\n      } else if (frameWindow) {\n        if (frameWindow.close) frameWindow.close();\n        this.removeWindowCloseListener();\n      }\n\n      this.off();\n      this.removeRelay();\n    }\n    /**\n     * Removes any existing relay\n     *\n     * @private\n     */\n\n  }, {\n    key: "removeRelay",\n    value: function removeRelay() {\n      if (!this.relay) return;\n      if (!window.document.body.contains(this.relay)) return;\n      window.document.body.removeChild(this.relay);\n    }\n  }, {\n    key: "bindWindowCloseListener",\n    value: function bindWindowCloseListener() {\n      var _this4 = this;\n\n      var tick = this.windowCloseListenerTick = setInterval(function () {\n        if (!_this4.window) {\n          return clearInterval(tick);\n        }\n\n        if (_this4.window.closed) {\n          debug(\'detected frame window closure. Destroying.\', _this4.window);\n\n          _this4.emit(\'close\');\n\n          _this4.destroy();\n        }\n      }, 1000);\n    }\n  }, {\n    key: "removeWindowCloseListener",\n    value: function removeWindowCloseListener() {\n      var tick = this.windowCloseListenerTick;\n      if (tick) clearInterval(tick);\n    }\n  }, {\n    key: "isIframe",\n    get: function get() {\n      return this.type === Frame.TYPES.IFRAME;\n    }\n    /**\n     * Frame height from configuration\n     * @type {Number}\n     */\n\n  }, {\n    key: "height",\n    get: function get() {\n      return this.config.height || this.constructor.DEFAULTS.height;\n    }\n    /**\n     * Frame width from configuration\n     * @type {Number}\n     */\n\n  }, {\n    key: "width",\n    get: function get() {\n      return this.config.width || this.constructor.DEFAULTS.width;\n    }\n    /**\n     * Frame type from configuration\n     * @type {String}\n     */\n\n  }, {\n    key: "type",\n    get: function get() {\n      return this.config.type || this.constructor.DEFAULTS.type;\n    }\n    /**\n     * Frame container element\n     * @type {HTMLElement}\n     */\n\n  }, {\n    key: "container",\n    get: function get() {\n      return this.config.container;\n    }\n    /**\n     * Idomatic list of window attributes meant for a `window.open`` call\n     * @type {String}\n     */\n\n  }, {\n    key: "windowAttributes",\n    get: function get() {\n      var width = this.width,\n          height = this.height,\n          top = this.top,\n          left = this.left;\n      return "resizable,scrollbars,width=".concat(width, ",height=").concat(height, ",top=").concat(top, ",left=").concat(left);\n    }\n    /**\n     * Calculated window top position in order to place a new window above the center\n     * of the parent viewport\n     *\n     * @type {Number}\n     */\n\n  }, {\n    key: "top",\n    get: function get() {\n      var outerHeight = window.outerHeight || window.document.documentElement.clientHeight;\n      var outerTop = window.screenY === null ? window.screenTop : window.screenY;\n      return center(outerHeight, this.height, outerTop);\n    }\n    /**\n     * Calculated window left position in order to place a new window above the center\n     * of the parent viewport\n     *\n     * @type {Number}\n     */\n\n  }, {\n    key: "left",\n    get: function get() {\n      var outerWidth = window.outerWidth || window.document.documentElement.clientWidth;\n      var outerLeft = window.screenX === null ? window.screenLeft : window.screenX;\n      return center(outerWidth, this.width, outerLeft);\n    }\n  }]);\n\n  return Frame;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);\n/**\n * Calculates the center position given screen and window dimensions\n *\n * @param {Number} outer\n * @param {Number} inner\n * @param {Number} offset\n *\n * @return {Number} center position\n */\n\n_defineProperty(Frame, "TYPES", {\n  WINDOW: 0,\n  IFRAME: 1\n});\n\n_defineProperty(Frame, "DEFAULTS", {\n  height: 535,\n  width: 450,\n  type: Frame.TYPES.WINDOW\n});\n\nfunction center(outer, inner, offset) {\n  return (outer - inner) / 2 + offset;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/frame.js?'
    );
  },
  "./lib/recurly/fraud.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Fraud", function() { return Fraud; });\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/dom */ "./lib/util/dom.js");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:fraud\');\n\nvar Fraud = /*#__PURE__*/function (_Emitter) {\n  _inherits(Fraud, _Emitter);\n\n  var _super = _createSuper(Fraud);\n\n  function Fraud(recurly) {\n    var _this;\n\n    _classCallCheck(this, Fraud);\n\n    _this = _super.call(this);\n    _this.recurly = recurly;\n    _this.dataCollectorInitiated = false;\n    _this.attachedNodes = [];\n\n    if (_this.shouldCollectData) {\n      recurly.ready(_this.attachDataCollector.bind(_assertThisInitialized(_this)));\n    }\n\n    return _this;\n  }\n\n  _createClass(Fraud, [{\n    key: "params",\n\n    /**\n     * gets the fraud params present including injected form fields\n     * as well as grabbing litle session id if configured\n     */\n    value: function params(data) {\n      var fraudConfig = this.recurly.config.fraud;\n      var fraudParams = [];\n\n      if (fraudConfig.kount.dataCollector && data.fraud_session_id) {\n        fraudParams.push({\n          processor: \'kount\',\n          session_id: data.fraud_session_id\n        });\n      }\n\n      if (fraudConfig.litle.sessionId) {\n        fraudParams.push({\n          processor: \'litle_threat_metrix\',\n          session_id: fraudConfig.litle.sessionId\n        });\n      }\n\n      if (fraudConfig.braintree.deviceData) {\n        fraudParams.push({\n          processor: \'braintree\',\n          session_id: fraudConfig.braintree.deviceData\n        });\n      }\n\n      return fraudParams;\n    }\n    /**\n     * requests the data collector form fields from the\n     * Recurly server and injects them into the payment form\n     */\n\n  }, {\n    key: "attachDataCollector",\n    value: function attachDataCollector() {\n      var _this2 = this;\n\n      if (this.dataCollectorInitiated) return;\n      this.dataCollectorInitiated = true;\n      this.recurly.request.get({\n        route: \'/risk/info\',\n        done: function done(error, response) {\n          debug(\'risk info\', error, response);\n\n          if (error) {\n            return _this2.emit(\'error\', Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])(\'fraud-data-collector-request-failed\', {\n              error: error\n            }));\n          }\n\n          var profiles = response.profiles;\n          profiles.forEach(function (profile) {\n            var processor = profile.processor,\n                params = profile.params;\n\n            if (processor === \'kount\') {\n              var configuredForm = _this2.recurly.config.fraud.kount.form;\n              var scriptElement = document.createElement(\'script\');\n              var initializerElement = document.createElement(\'div\');\n              var sessionIdInputElement = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createHiddenInput({\n                \'data-recurly\': \'fraud_session_id\',\n                \'value\': params.session_id\n              });\n\n              var initialize = function initialize() {\n                if (!window.ka) {\n                  return _this2.emit(\'error\', Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])(\'fraud-data-collector-request-failed\', {\n                    error: \'Kount SDK failed to load.\'\n                  }));\n                } // eslint-disable-next-line no-undef\n\n\n                var client = new ka.ClientSDK();\n                client.autoLoadEvents();\n              };\n\n              scriptElement.setAttribute(\'src\', params.script_url);\n              scriptElement.onload = initialize;\n              initializerElement.className = \'kaxsdc\';\n              initializerElement.setAttribute(\'data-event\', \'load\');\n\n              var form = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(configuredForm) || _this2.getHostedFieldParentForm();\n\n              if (form) {\n                var nodes = [sessionIdInputElement, scriptElement, initializerElement];\n                nodes.forEach(function (node) {\n                  return form.appendChild(node);\n                });\n                _this2.attachedNodes = nodes;\n              }\n\n              _this2.emit(\'ready\');\n            }\n          });\n        }\n      });\n    }\n    /**\n     * Attempts to discover a form element using the assumed configuration of\n     * hosted fields as a basis for DOM tree upward traversal\n     *\n     * @return {HTMLFormElement}\n     * @throws {RecurlyError} if a form cannot be discovered\n     */\n\n  }, {\n    key: "getHostedFieldParentForm",\n    value: function getHostedFieldParentForm() {\n      if (this._form) return this._form;\n      var fields = this.recurly.config.fields;\n      var selectors = Object.keys(fields).map(function (name) {\n        return fields[name].selector;\n      }).filter(Boolean);\n      var form;\n      component_find__WEBPACK_IMPORTED_MODULE_0___default()(selectors, function (selector) {\n        var node = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findNodeInParents(window.document.querySelector(selector), \'form\');\n        if (_util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(node)) form = node;\n      });\n\n      if (form) {\n        return this._form = form;\n      } else {\n        var missingFormError = Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])(\'fraud-data-collector-missing-form\', {\n          selectors: selectors\n        });\n        this.emit(\'error\', missingFormError);\n      }\n    }\n    /**\n     * Removes any attached data collectors\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.attachedNodes.forEach(function (node) {\n        if (!node.parentElement) return;\n        node.parentElement.removeChild(node);\n      });\n    }\n  }, {\n    key: "shouldCollectData",\n    get: function get() {\n      return !!this.recurly.config.fraud.kount.dataCollector;\n    }\n  }]);\n\n  return Fraud;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);\n\n//# sourceURL=webpack://recurly/./lib/recurly/fraud.js?'
    );
  },
  "./lib/recurly/gift-card.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return giftCard; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:giftcard\');\n/**\n * giftCard\n *\n * Retrieves giftCard pricing info based on a redemption code. The `callback` signature\n * is `err, gift_card` where `err` may be a request or server error and `gift_card` is\n * giftcard pricing data.\n *\n * @param {Object} options\n * @param {String} options.code Gift card redemption code\n * @param {Function} callback\n */\n\n\nfunction giftCard(options, done) {\n  debug(\'%j\', options);\n\n  if (typeof done !== \'function\') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])(\'missing-callback\');\n  }\n\n  if (_typeof(options) !== \'object\') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])(\'invalid-options\');\n  } // DEPRECATED: \'options.giftcard\'\n\n\n  var code = options.code || options.giftcard;\n\n  if (!code) {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])(\'invalid-option\', {\n      name: \'code\',\n      expect: \'a String\'\n    });\n  }\n\n  var route = "/gift_cards/".concat(code);\n  this.request.get({\n    route: route,\n    data: options,\n    done: done\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/gift-card.js?'
    );
  },
  "./lib/recurly/hosted-field.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HostedField", function() { return HostedField; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/dom */ "./lib/util/dom.js");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar bowser = __webpack_require__(/*! bowser */ "./node_modules/bowser/src/bowser.js");\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:hostedField\');\n/**\n * HostedField\n *\n * @constructor\n * @param {Object} options\n * @param {String} options.selector target selector\n * @private\n */\n\n\nvar HostedField = /*#__PURE__*/function (_Emitter) {\n  _inherits(HostedField, _Emitter);\n\n  var _super = _createSuper(HostedField);\n\n  function HostedField(options) {\n    var _this;\n\n    _classCallCheck(this, HostedField);\n\n    _this = _super.call(this);\n    _this.onReady = _this.onReady.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onConfigure = _this.onConfigure.bind(_assertThisInitialized(_this));\n    _this.onStateChange = _this.onStateChange.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    _this.destroy = _this.destroy.bind(_assertThisInitialized(_this));\n    _this.ready = false;\n    _this.state = {};\n\n    _this.configure(options);\n\n    _this.inject();\n\n    _this.bindDeferredFocus();\n\n    _this.on(\'bus:added\', function (bus) {\n      _this.bus = bus;\n\n      _this.bus.add(_this.window);\n    });\n\n    _this.on(\'hostedField:ready\', _this.onReady);\n\n    _this.on(\'hostedField:change\', _this.onChange);\n\n    _this.on(\'hostedField:configure\', _this.onConfigure);\n\n    _this.on(\'hostedField:state:change\', _this.onStateChange);\n\n    _this.once(\'destroy\', _this.destroy);\n\n    return _this;\n  }\n\n  _createClass(HostedField, [{\n    key: "integrityCheck",\n\n    /**\n     * Checks that the elements necessary to display the hostedField are in the document.body\n     *\n     * @return {Boolean}\n     */\n    value: function integrityCheck() {\n      var els = [this.target, this.container, this.iframe];\n      var present = document.body.contains.bind(document.body);\n      return !~els.map(present).indexOf(false);\n    } // Private\n\n  }, {\n    key: "configure",\n    value: function configure(options) {\n      options = component_clone__WEBPACK_IMPORTED_MODULE_1___default()(options);\n      if (!this.target) this.target = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(window.document.querySelector(options.selector));\n\n      if (!this.target) {\n        var _options = options,\n            type = _options.type,\n            selector = _options.selector;\n        throw Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])(\'missing-hosted-field-target\', {\n          type: type,\n          selector: selector\n        });\n      }\n\n      this.config = options;\n    }\n  }, {\n    key: "inject",\n    value: function inject() {\n      this.target.innerHTML = "\\n      <div class=\\"".concat(this.classList, "\\">\\n        <iframe\\n          src=\\"").concat(this.url, "\\"\\n          allowtransparency=\\"true\\"\\n          border=\\"0\\"\\n          frameborder=\\"0\\"\\n          scrolling=\\"no\\"\\n          style=\\"background: transparent; width: 100%; height: 100%;\\">\\n        </iframe>\\n      </div>\\n    ");\n      this.container = this.target.children[0];\n      this.iframe = this.container.querySelector(\'iframe\');\n      this.window = this.iframe.contentWindow; // Inject mobile tabbing proxy before the iframe\n\n      if (isMobile()) {\n        this.tabbingProxy = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createHiddenInput();\n        this.tabbingProxy.addEventListener(\'focus\', this.focus);\n        this.container.insertBefore(this.tabbingProxy, this.iframe);\n      }\n    }\n    /**\n     * Binds focus on the following elements to the `focus!` event on the hosted field\n     *  - the container element\n     *  - `<label>` elements with a `for` attribute matching the target `id` attribute\n     *\n     * @private\n     */\n\n  }, {\n    key: "bindDeferredFocus",\n    value: function bindDeferredFocus() {\n      var _this2 = this;\n\n      this.container.addEventListener(\'click\', this.focus);\n      if (!this.target.id) return;\n      var labels = window.document.querySelectorAll("label[for=".concat(this.target.id, "]"));\n      [].slice.apply(labels).forEach(function (label) {\n        label.addEventListener(\'click\', _this2.focus);\n      });\n    }\n    /**\n     * Removes listeners, and clears references\n     *\n     * @private\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      debug("destroying ".concat(this.type, " hosted field"), this);\n      this.off();\n\n      if (this.bus) {\n        this.bus.remove(this.window);\n        this.bus.remove(this);\n      }\n\n      if (this.target) this.target.innerHTML = \'\';\n      delete this.target;\n      delete this.container;\n      delete this.iframe;\n      delete this.window;\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      this.container.className = this.classList;\n      this.iframe.setAttribute(\'tabindex\', this.tabIndex);\n    }\n  }, {\n    key: "onReady",\n    value: function onReady(body) {\n      if (body.type !== this.type) return;\n      this.ready = true;\n      this.off(\'hostedField:ready\', this.onReady);\n      this.update();\n    }\n  }, {\n    key: "onStateChange",\n    value: function onStateChange(body) {\n      if (body.type !== this.type) return;\n\n      var newState = _extends({}, body);\n\n      delete newState.type;\n      this.state = newState;\n      this.update();\n    }\n  }, {\n    key: "onChange",\n    value: function onChange(body) {\n      if (body.type !== this.type) return;\n      this.update();\n    }\n  }, {\n    key: "onConfigure",\n    value: function onConfigure(body) {\n      if (body.type !== this.type) return;\n      this.configure(body);\n      this.update();\n    }\n    /**\n     * Places focus on this hosted field\n     */\n\n  }, {\n    key: "focus",\n    value: function focus() {\n      if (!this.bus) return;\n      this.bus.send("hostedField:".concat(this.type, ":focus!"));\n    }\n  }, {\n    key: "type",\n    get: function get() {\n      return this.config.type;\n    }\n  }, {\n    key: "url",\n    get: function get() {\n      var config = encodeURIComponent(JSON.stringify(this.config));\n      return "".concat(this.config.recurly.api, "/field.html#config=").concat(config);\n    }\n  }, {\n    key: "classList",\n    get: function get() {\n      var prefix = \'recurly-hosted-field\';\n      var classes = [prefix];\n\n      if (this.ready) {\n        classes.push("".concat(prefix, "-").concat(this.config.type));\n\n        if (this.state.focus) {\n          classes.push("".concat(prefix, "-focus"));\n          classes.push("".concat(prefix, "-").concat(this.config.type, "-focus"));\n        }\n\n        if (this.state.valid) {\n          classes.push("".concat(prefix, "-valid"));\n          classes.push("".concat(prefix, "-").concat(this.config.type, "-valid"));\n        } else if (!this.state.focus && !this.state.empty) {\n          classes.push("".concat(prefix, "-invalid"));\n          classes.push("".concat(prefix, "-").concat(this.config.type, "-invalid"));\n        }\n      }\n\n      return classes.join(\' \');\n    }\n  }, {\n    key: "tabIndex",\n    get: function get() {\n      var tabIndex = parseInt(this.config.tabIndex, 10);\n      return isNaN(tabIndex) ? 0 : tabIndex;\n    }\n  }]);\n\n  return HostedField;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n/**\n * Determine if user\'s browser is mobile or non-mobile\n * @return {Boolean} value\n */\n\nfunction isMobile() {\n  return bowser.mobile || bowser.tablet;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/hosted-field.js?'
    );
  },
  "./lib/recurly/hosted-fields.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FIELD_TYPES\", function() { return FIELD_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HostedFields\", function() { return HostedFields; });\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ \"./node_modules/component-clone/index.js\");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/deep-assign */ \"./lib/util/deep-assign.js\");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tabbable */ \"./node_modules/tabbable/index.js\");\n/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tabbable__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _hosted_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hosted-field */ \"./lib/recurly/hosted-field.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:hostedFields');\n\nvar FIELD_TYPES = ['number', 'month', 'year', 'cvv', 'card'];\n/**\n * HostedFields\n *\n * @constructor\n * @param {Object} options\n * @param {Recurly} options.recurly Associated Recurly instance\n * @public\n */\n\nvar HostedFields = /*#__PURE__*/function (_Emitter) {\n  _inherits(HostedFields, _Emitter);\n\n  var _super = _createSuper(HostedFields);\n\n  function HostedFields(_ref) {\n    var _this;\n\n    var recurly = _ref.recurly;\n\n    _classCallCheck(this, HostedFields);\n\n    _this = _super.call(this);\n    _this.ready = false;\n    _this.state = {};\n    _this.fields = [];\n    _this.errors = [];\n    _this.initQueue = [];\n    _this.recurly = recurly;\n\n    _this.configure(recurly.sanitizedConfig);\n\n    _this.inject();\n\n    _this.on('hostedFields:configure', function (opts) {\n      _this.configure(opts.recurlyConfig);\n\n      _this.fields.forEach(function (field) {\n        if (_this.bus) _this.bus.send('hostedField:configure', _this.fieldConfig(field.type));\n      });\n    });\n\n    _this.on('hostedField:ready', _this.onReady.bind(_assertThisInitialized(_this)));\n\n    _this.on('hostedField:tab:previous', function (message) {\n      return _this.onTab('previous', message);\n    });\n\n    _this.on('hostedField:tab:next', function (message) {\n      return _this.onTab('next', message);\n    });\n\n    _this.on('hostedField:state:change', _this.update.bind(_assertThisInitialized(_this)));\n\n    _this.on('bus:added', function (bus) {\n      _this.bus = bus;\n\n      _this.fields.forEach(function (hf) {\n        return bus.add(hf);\n      });\n    });\n\n    _this.once('destroy', _this.destroy.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n  /**\n   * checks integrity of constituent fields\n   * optionally compares fields configuration with current state for parity\n   *\n   * @param {Object} fields fields configuration to compare against\n   * @return {Boolean} whether all fields are present and receivable\n   */\n\n\n  _createClass(HostedFields, [{\n    key: \"integrityCheck\",\n    value: function integrityCheck(fields) {\n      var _this2 = this;\n\n      if (!this.ready) return false;\n      if (this.fields.length === 0) return false;\n\n      if (fields) {\n        var newSelectors = Object.keys(fields).map(function (key) {\n          return fields[key].selector;\n        }).join('');\n        var currentSelectors = Object.keys(this.config.recurly.fields).map(function (key) {\n          return _this2.config.recurly.fields[key].selector;\n        }).join('');\n        if (newSelectors !== currentSelectors) return false;\n      }\n\n      return !~this.fields.map(function (f) {\n        return f.integrityCheck();\n      }).indexOf(false);\n    } // Private\n\n    /**\n     * Creates HostedField instances\n     *\n     * @private\n     */\n\n  }, {\n    key: \"inject\",\n    value: function inject() {\n      var _this3 = this;\n\n      FIELD_TYPES.forEach(function (type) {\n        try {\n          _this3.fields.push(new _hosted_field__WEBPACK_IMPORTED_MODULE_4__[\"HostedField\"](_this3.fieldConfig(type)));\n\n          _this3.initQueue.push(type);\n        } catch (e) {\n          if (e.name === 'missing-hosted-field-target') {\n            if (~['number', 'month', 'year', 'card'].indexOf(type)) {\n              _this3.errors.push(e);\n            }\n          } else {\n            throw e;\n          }\n        }\n      }); // If we have a card hosted field, clear all missing target errors.\n\n      var cardFieldMissingErrorPresent = this.errors.some(function (e) {\n        return e.type === 'card';\n      });\n\n      if (cardFieldMissingErrorPresent) {\n        // If we are only missing the card field, clear the error\n        var missingFieldErrors = this.errors.filter(function (e) {\n          return e.name === 'missing-hosted-field-target';\n        });\n\n        if (missingFieldErrors.length === 1) {\n          this.errors = this.errors.filter(function (e) {\n            return !(e.name === 'missing-hosted-field-target' && e.type === 'card');\n          });\n        }\n      } else {\n        this.errors = this.errors.filter(function (e) {\n          return e.name !== 'missing-hosted-field-target';\n        });\n      }\n    }\n  }, {\n    key: \"configure\",\n    value: function configure(recurlyConfig) {\n      this.config = {\n        recurly: component_clone__WEBPACK_IMPORTED_MODULE_0___default()(recurlyConfig || {})\n      };\n    }\n    /**\n     * Removes listeners and external references\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      debug('destroying HostedFields');\n      this.off();\n      this.ready = false;\n      this.fields.forEach(function (field) {\n        return field.destroy();\n      });\n      if (this.bus) this.bus.remove(this);\n      this.fields = [];\n      this.errors = [];\n      this.initQueue = [];\n      delete this.recurly;\n    }\n  }, {\n    key: \"onReady\",\n    value: function onReady(body) {\n      var pos = this.initQueue.indexOf(body.type);\n      if (~pos) this.initQueue.splice(pos, 1);\n\n      if (this.initQueue.length === 0) {\n        this.off('hostedField:ready', this.onReady);\n        this.bus.send('hostedFields:ready');\n        this.ready = true;\n      }\n\n      this.update(body);\n    }\n  }, {\n    key: \"onTab\",\n    value: function onTab(direction, message) {\n      var origin = this.getFieldByType(message.type);\n      if (!(origin instanceof _hosted_field__WEBPACK_IMPORTED_MODULE_4__[\"HostedField\"])) return; // Find the origin within the tabbable list, and focus in our intended direction\n\n      var tabbableItems = this.tabbableItems();\n      var pos = tabbableItems.indexOf(origin.tabbingProxy);\n      var destination = direction === 'previous' ? tabbableItems[pos - 1] : tabbableItems[pos + 1];\n      if (destination) destination.focus();\n    }\n    /**\n     * Provides an Array of tabbable Elements in the document body,\n     * excluding those which correspond to hosted field iframes\n     * @return {Array} Elements\n     */\n\n  }, {\n    key: \"tabbableItems\",\n    value: function tabbableItems() {\n      var fieldFrames = this.fields.map(function (f) {\n        return f.iframe;\n      });\n      return tabbable__WEBPACK_IMPORTED_MODULE_3___default()(window.document.body).filter(function (el) {\n        return !~fieldFrames.indexOf(el);\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(body) {\n      var newState = _extends({}, body);\n\n      delete newState.type;\n      this.state[body.type] = newState;\n      if (!this.ready) return;\n      this.bus.send('hostedFields:state:change', this.state);\n    }\n  }, {\n    key: \"fieldConfig\",\n    value: function fieldConfig(type) {\n      var fields = this.config.recurly.fields;\n      var field = fields[type];\n      var busGroupId = this.recurly.bus.groupId;\n      var _this$config = this.config,\n          deviceId = _this$config.deviceId,\n          sessionId = _this$config.sessionId;\n      var displayIcon = field.displayIcon,\n          inputType = field.inputType,\n          selector = field.selector;\n      if (!fields[type]) return;\n      return {\n        type: type,\n        deviceId: deviceId,\n        sessionId: sessionId,\n        busGroupId: busGroupId,\n        displayIcon: displayIcon,\n        inputType: inputType,\n        selector: selector,\n        format: typeof field.format === 'boolean' ? field.format : fields.all.format,\n        recurly: this.config.recurly,\n        style: Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, fields.all.style, field.style),\n        tabIndex: typeof fields.all.tabIndex === 'number' ? fields.all.tabIndex : field.tabIndex\n      };\n    }\n  }, {\n    key: \"getFieldByType\",\n    value: function getFieldByType(type) {\n      return this.fields.filter(function (f) {\n        return f.config.type === type;\n      })[0];\n    }\n  }]);\n\n  return HostedFields;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);\n\n//# sourceURL=webpack://recurly/./lib/recurly/hosted-fields.js?"
    );
  },
  "./lib/recurly/item.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return item; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"./lib/recurly/errors.js\");\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:item');\n/**\n * Item\n *\n * Retrieves item pricing info based on an item code.\n *\n * @param {Object} options\n * @param {String} options.itemCode\n * @return {Promise}\n */\n\n\nfunction item() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      itemCode = _ref.itemCode;\n\n  debug(itemCode);\n\n  if (typeof itemCode !== 'string') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('invalid-option', {\n      name: 'itemCode',\n      expect: 'a String'\n    });\n  }\n\n  return this.request.get({\n    route: \"/items/\".concat(itemCode),\n    cached: true\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/item.js?"
    );
  },
  "./lib/recurly/message.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Message\", function() { return Message; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// eslint-disable-next-line\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:message');\n/**\n * Message\n *\n * @param {String|Message|MessageEvent} event message event name or Message or MessageEvent\n * @param {Object} body message contents\n */\n\n\nvar Message = /*#__PURE__*/function () {\n  function Message(event) {\n    var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var groupId = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, Message);\n\n    if (event instanceof Message) return event;\n    this.event = event;\n    this.body = body;\n    this.groupId = groupId;\n  }\n  /**\n   * Creates a message from a window.MessageEvent\n   *\n   * @param  {MessageEvent} messageEvent\n   * @return {Message}\n   */\n\n\n  _createClass(Message, null, [{\n    key: \"createFromMessageEvent\",\n    value: function createFromMessageEvent(messageEvent) {\n      var debug = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : debug;\n      var data = messageEvent.data; // Parse a MessageEvent which originates from a relay\n\n      if (typeof data === 'string') {\n        debug('attempting to parse a relay-like message', data);\n        data = dataFromRelayMessageEvent(messageEvent, debug);\n      }\n\n      if (!data) return;\n      return new Message(data.event, data.body, data.groupId);\n    }\n  }]);\n\n  return Message;\n}();\n/**\n * Parses a messageEvent coming from a Frame relay\n *\n * NOTE: groupId is not handled because Frames subscribe to unique topics\n *\n * @param  {String} data message data as a JSON string\n * @return {Object} parsed message data: { event, body }\n */\n\nfunction dataFromRelayMessageEvent(messageEvent, debug) {\n  var data = messageEvent.data;\n\n  try {\n    data = JSON.parse(data);\n  } catch (e) {\n    debug('failed to parse relay message', e, messageEvent);\n  }\n\n  if (!data) {\n    debug('no data in relay message');\n    return;\n  }\n\n  return {\n    event: data.recurly_event,\n    body: data.recurly_message\n  };\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/message.js?"
    );
  },
  "./lib/recurly/paypal/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _strategy_direct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/direct */ "./lib/recurly/paypal/strategy/direct.js");\n/* harmony import */ var _strategy_braintree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy/braintree */ "./lib/recurly/paypal/strategy/braintree.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:paypal\');\n/**\n * PayPal instantiation factory\n *\n * @param {Object} options\n * @return {PayPal}\n */\n\n\nfunction factory(options) {\n  options = _extends({}, options, {\n    recurly: this\n  });\n  return new PayPal(options);\n}\nvar DEFERRED_EVENTS = [\'ready\', \'token\', \'error\', \'cancel\'];\n/**\n * PayPal strategy interface\n */\n\nvar PayPal = /*#__PURE__*/function (_Emitter) {\n  _inherits(PayPal, _Emitter);\n\n  var _super = _createSuper(PayPal);\n\n  function PayPal(options) {\n    var _this;\n\n    _classCallCheck(this, PayPal);\n\n    _this = _super.call(this);\n    _this.isReady = false;\n    _this.options = options;\n\n    _this.once(\'ready\', function () {\n      return _this.isReady = true;\n    });\n\n    if (options.braintree) {\n      _this.strategy = new _strategy_braintree__WEBPACK_IMPORTED_MODULE_2__["BraintreeStrategy"](options);\n\n      _this.strategy.onFail(_this.fallback.bind(_assertThisInitialized(_this)));\n    } else {\n      _this.strategy = new _strategy_direct__WEBPACK_IMPORTED_MODULE_1__["DirectStrategy"](options);\n    }\n\n    _this.bindStrategy();\n\n    return _this;\n  }\n\n  _createClass(PayPal, [{\n    key: "ready",\n    value: function ready(done) {\n      if (this.isReady) done();else this.once(\'ready\', done);\n    }\n  }, {\n    key: "start",\n    value: function start() {\n      var _this$strategy;\n\n      return (_this$strategy = this.strategy).start.apply(_this$strategy, arguments);\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      var strategy = this.strategy;\n\n      if (strategy) {\n        strategy.destroy();\n        delete this.strategy;\n      }\n\n      this.off();\n    }\n    /**\n     * Handles strategy failure scenario\n     *\n     * @private\n     */\n\n  }, {\n    key: "fallback",\n    value: function fallback() {\n      var _this2 = this;\n\n      debug(\'Initializing strategy fallback\');\n\n      var strategyOptions = _extends({}, this.options);\n\n      delete strategyOptions.braintree;\n      this.strategy = new _strategy_direct__WEBPACK_IMPORTED_MODULE_1__["DirectStrategy"](strategyOptions);\n      this.bindStrategy();\n      this.strategy.ready(function () {\n        return _this2.emit(\'ready\');\n      });\n    }\n    /**\n     * Binds external interface events to those on the strategy\n     *\n     * @private\n     */\n\n  }, {\n    key: "bindStrategy",\n    value: function bindStrategy() {\n      var _this3 = this;\n\n      DEFERRED_EVENTS.forEach(function (ev) {\n        return _this3.strategy.on(ev, _this3.emit.bind(_this3, ev));\n      });\n    }\n  }]);\n\n  return PayPal;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n//# sourceURL=webpack://recurly/./lib/recurly/paypal/index.js?'
    );
  },
  "./lib/recurly/paypal/strategy/braintree.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BRAINTREE_CLIENT_VERSION", function() { return BRAINTREE_CLIENT_VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BraintreeStrategy", function() { return BraintreeStrategy; });\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_after__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/after */ "./lib/util/after.js");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ "./lib/recurly/paypal/strategy/index.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:paypal:strategy:braintree\');\n\nvar BRAINTREE_CLIENT_VERSION = \'3.50.0\';\n/**\n * Braintree-specific PayPal handler\n */\n\nvar BraintreeStrategy = /*#__PURE__*/function (_PayPalStrategy) {\n  _inherits(BraintreeStrategy, _PayPalStrategy);\n\n  var _super = _createSuper(BraintreeStrategy);\n\n  function BraintreeStrategy() {\n    var _this;\n\n    _classCallCheck(this, BraintreeStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.load();\n\n    return _this;\n  }\n\n  _createClass(BraintreeStrategy, [{\n    key: "configure",\n    value: function configure(options) {\n      _get(_getPrototypeOf(BraintreeStrategy.prototype), "configure", this).call(this, options);\n\n      if (!options.braintree || !options.braintree.clientAuthorization) {\n        throw this.error(\'paypal-config-missing\', {\n          opt: \'braintree.clientAuthorization\'\n        });\n      }\n\n      this.config.clientAuthorization = options.braintree.clientAuthorization;\n    }\n    /**\n     * Loads Braintree client and modules\n     *\n     * @todo semver client detection\n     */\n\n  }, {\n    key: "load",\n    value: function load() {\n      var _this2 = this;\n\n      debug(\'loading Braintree libraries\');\n      var part = Object(_util_after__WEBPACK_IMPORTED_MODULE_1__["default"])(2, function () {\n        return _this2.initialize();\n      });\n\n      var get = function get(lib) {\n        var done = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var uri = "https://js.braintreegateway.com/web/".concat(BRAINTREE_CLIENT_VERSION, "/js/").concat(lib, ".min.js");\n        load_script__WEBPACK_IMPORTED_MODULE_0___default()(uri, function (error) {\n          if (error) _this2.error(\'paypal-load-error\', {\n            cause: error\n          });else done();\n        });\n      };\n\n      var modules = function modules() {\n        if (_this2.braintreeClientAvailable(\'paypal\')) part();else get(\'paypal\', part);\n        if (_this2.braintreeClientAvailable(\'dataCollector\')) part();else get(\'data-collector\', part);\n      };\n\n      if (this.braintreeClientAvailable()) modules();else get(\'client\', modules);\n    }\n    /**\n     * Initializes a Braintree client, device data collection module, and paypal client\n     */\n\n  }, {\n    key: "initialize",\n    value: function initialize() {\n      var _this3 = this;\n\n      debug(\'Initializing Braintree client\');\n      var authorization = this.config.clientAuthorization;\n      var braintree = window.braintree;\n      braintree.client.create({\n        authorization: authorization\n      }, function (error, client) {\n        if (error) return _this3.fail(\'paypal-braintree-api-error\', {\n          cause: error\n        });\n        debug(\'Braintree client created\');\n        braintree.dataCollector.create({\n          client: client,\n          paypal: true\n        }, function (error, collector) {\n          if (error) return _this3.fail(\'paypal-braintree-api-error\', {\n            cause: error\n          });\n          debug(\'Device data collector created\');\n          _this3.deviceFingerprint = collector.deviceData;\n          braintree.paypal.create({\n            client: client\n          }, function (error, paypal) {\n            if (error) return _this3.fail(\'paypal-braintree-api-error\', {\n              cause: error\n            });\n            debug(\'PayPal client created\');\n            _this3.paypal = paypal;\n\n            _this3.emit(\'ready\');\n          });\n        });\n      });\n    }\n  }, {\n    key: "start",\n    value: function start() {\n      var _this4 = this;\n\n      var tokenOpts = _extends({}, this.config.display, {\n        flow: \'vault\'\n      }); // Tokenize with Braintree\n\n\n      var _this$paypal$tokenize = this.paypal.tokenize(tokenOpts, function (error, payload) {\n        if (error) {\n          if (error.code === \'PAYPAL_POPUP_CLOSED\') return _this4.emit(\'cancel\');\n          return _this4.error(\'paypal-braintree-tokenize-braintree-error\', {\n            cause: error\n          });\n        }\n\n        debug(\'Token payload received\', payload);\n\n        if (_this4.deviceFingerprint) {\n          payload.deviceFingerprint = _this4.deviceFingerprint;\n        } // Tokenize with Recurly\n\n\n        _this4.recurly.request.post({\n          route: \'/paypal/token\',\n          data: {\n            type: \'braintree\',\n            payload: payload\n          },\n          done: function done(error, token) {\n            if (error) return _this4.error(\'paypal-braintree-tokenize-recurly-error\', {\n              cause: error\n            });\n\n            _this4.emit(\'token\', token);\n          }\n        });\n      }),\n          close = _this$paypal$tokenize.close;\n\n      this.close = close;\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      if (this.close) {\n        this.close();\n      }\n\n      this.off();\n    }\n  }, {\n    key: "braintreeClientAvailable",\n    value: function braintreeClientAvailable(module) {\n      var bt = window.braintree;\n      return bt && bt.client && bt.client.VERSION === BRAINTREE_CLIENT_VERSION && (module ? module in bt : true);\n    }\n  }]);\n\n  return BraintreeStrategy;\n}(_index__WEBPACK_IMPORTED_MODULE_2__["PayPalStrategy"]);\n\n//# sourceURL=webpack://recurly/./lib/recurly/paypal/strategy/braintree.js?'
    );
  },
  "./lib/recurly/paypal/strategy/direct.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectStrategy", function() { return DirectStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deprecated", function() { return deprecated; });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ "./lib/recurly/paypal/strategy/index.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:paypal:strategy:direct\');\n/**\n * Direct PayPal Express Checkout strategy\n */\n\n\nvar DirectStrategy = /*#__PURE__*/function (_PayPalStrategy) {\n  _inherits(DirectStrategy, _PayPalStrategy);\n\n  var _super = _createSuper(DirectStrategy);\n\n  function DirectStrategy() {\n    var _this;\n\n    _classCallCheck(this, DirectStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.emit(\'ready\');\n\n    return _this;\n  }\n\n  _createClass(DirectStrategy, [{\n    key: "start",\n    value: function start() {\n      var _this2 = this;\n\n      var payload = this.payload;\n      var frame = this.frame = this.recurly.Frame({\n        path: \'/paypal/start\',\n        payload: payload\n      });\n      frame.once(\'done\', function (token) {\n        return _this2.emit(\'token\', token);\n      });\n      frame.once(\'close\', function () {\n        return _this2.emit(\'cancel\');\n      });\n      frame.once(\'error\', function (cause) {\n        if (cause.code === \'paypal-cancel\') _this2.emit(\'cancel\');\n\n        _this2.error(\'paypal-tokenize-error\', {\n          cause: cause\n        });\n      });\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      if (this.frame) {\n        this.frame.destroy();\n      }\n\n      this.off();\n    }\n  }, {\n    key: "payload",\n    get: function get() {\n      var payload = {\n        description: this.config.display.displayName\n      };\n      if (this.config.display.amount) payload.amount = this.config.display.amount;\n      if (this.config.display.logoImageUrl) payload.logoImageUrl = this.config.display.logoImageUrl;\n      if (this.config.display.headerImageUrl) payload.headerImageUrl = this.config.display.headerImageUrl;\n      return payload;\n    }\n  }]);\n\n  return DirectStrategy;\n}(_index__WEBPACK_IMPORTED_MODULE_0__["PayPalStrategy"]);\n/**\n * Deprecated Paypal method\n *\n * @deprecated\n * @param {Object} payload\n * @param {String} payload.description - transaction description\n * @param {Function} done callback\n */\n\nfunction deprecated(payload, done) {\n  debug(\'start\');\n  var frame = this.Frame({\n    path: \'/paypal/start\',\n    payload: payload\n  });\n  frame.once(\'error\', function (error) {\n    return done(error);\n  });\n  frame.once(\'done\', function (token) {\n    return done(null, token);\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/paypal/strategy/direct.js?'
    );
  },
  "./lib/recurly/paypal/strategy/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayPalStrategy", function() { return PayPalStrategy; });\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _recurly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../recurly */ "./lib/recurly.js");\n/* harmony import */ var _pricing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../pricing */ "./lib/recurly/pricing/index.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:paypal:strategy\');\n\nvar DISPLAY_OPTIONS = [\'amount\', \'currency\', \'displayName\', \'locale\', \'enableShippingAddress\', \'shippingAddressOverride\', \'shippingAddressEditable\', \'billingAgreementDescription\', \'landingPageType\', // Not compatible with Braintree options due to lack of support\n\'logoImageUrl\', \'headerImageUrl\'];\nvar DEFAULTS = {\n  display: {\n    locale: \'en_US\'\n  }\n};\n/**\n * PayPal base interface strategy\n *\n * @abstract\n */\n\nvar PayPalStrategy = /*#__PURE__*/function (_Emitter) {\n  _inherits(PayPalStrategy, _Emitter);\n\n  var _super = _createSuper(PayPalStrategy);\n\n  function PayPalStrategy(options) {\n    var _this;\n\n    _classCallCheck(this, PayPalStrategy);\n\n    _this = _super.call(this);\n    _this.isReady = false;\n    _this.config = {};\n\n    _this.once(\'ready\', function () {\n      return _this.isReady = true;\n    });\n\n    _this.configure(options);\n\n    return _this;\n  }\n\n  _createClass(PayPalStrategy, [{\n    key: "ready",\n    value: function ready(done) {\n      if (this.isReady) done();else this.once(\'ready\', done);\n    }\n  }, {\n    key: "configure",\n    value: function configure(options) {\n      var _this2 = this;\n\n      if (!(options.recurly instanceof _recurly__WEBPACK_IMPORTED_MODULE_2__["Recurly"])) throw this.error(\'paypal-factory-only\');\n      this.recurly = options.recurly;\n      this.config.display = {}; // PayPal EC flow display customization\n\n      if (_typeof(options.display) === \'object\') {\n        this.config.display = lodash_pick__WEBPACK_IMPORTED_MODULE_0___default()(options.display, DISPLAY_OPTIONS);\n      }\n\n      if (!this.config.display.locale) this.config.display.locale = DEFAULTS.display.locale; // Bind pricing information to display options\n\n      if (options.pricing instanceof _pricing__WEBPACK_IMPORTED_MODULE_3__["Pricing"]) {\n        this.pricing = options.pricing;\n        this.pricing.on(\'change\', function () {\n          return _this2.updatePriceFromPricing();\n        });\n        if (this.pricing.hasPrice) this.updatePriceFromPricing();\n      }\n    }\n  }, {\n    key: "initialize",\n    value: function initialize() {\n      debug("Method \'initialize\' not implemented");\n    }\n    /**\n     * Starts the PayPal flow\n     * > must be on the call chain with a user interaction (click, touch) on it\n     */\n\n  }, {\n    key: "start",\n    value: function start() {\n      debug("Method \'start\' not implemented");\n    }\n  }, {\n    key: "cancel",\n    value: function cancel() {\n      this.emit(\'cancel\');\n    }\n    /**\n     * Registers or immediately invokes a failure handler\n     *\n     * @param {Function} done Failure handler\n     */\n\n  }, {\n    key: "onFail",\n    value: function onFail(done) {\n      if (this.failure) done();else this.once(\'fail\', done);\n    }\n    /**\n     * Logs and announces a failure to initialize a strategy\n     *\n     * @private\n     * @param  {String} reason\n     * @param  {Object} [options]\n     */\n\n  }, {\n    key: "fail",\n    value: function fail(reason, options) {\n      if (this.failure) return;\n      debug(\'Failure scenario encountered\', reason, options);\n      var failure = this.failure = this.error(reason, options);\n      this.emit(\'fail\', failure);\n    }\n    /**\n     * Creates and emits a RecurlyError\n     *\n     * @protected\n     * @param  {...Mixed} params to be passed to the Recurlyerror factory\n     * @return {RecurlyError}\n     * @emit \'error\'\n     */\n\n  }, {\n    key: "error",\n    value: function error() {\n      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_4__["default"].apply(void 0, arguments);\n      this.emit(\'error\', err);\n      return err;\n    }\n    /**\n     * Updates price information from a Pricing instance\n     *\n     * @private\n     */\n\n  }, {\n    key: "updatePriceFromPricing",\n    value: function updatePriceFromPricing() {\n      this.config.display.amount = this.pricing.totalNow;\n      this.config.display.currency = this.pricing.currencyCode;\n    }\n  }]);\n\n  return PayPalStrategy;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);\n\n//# sourceURL=webpack://recurly/./lib/recurly/paypal/strategy/index.js?'
    );
  },
  "./lib/recurly/plan.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return plan; });\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:plan');\n/**\n * Plan\n *\n * Retrieves information for the `plan`. The `callback` signature\n * is `err, plan` where `err` may be a request or server error, and `plan`\n * is a representation of the requested plan.\n *\n * @param {String} code\n * @param {Function} done callback\n */\n\n\nfunction plan(code, done) {\n  debug('%s', code);\n\n  if (typeof done !== 'function') {\n    throw new Error('Missing callback');\n  }\n\n  if (typeof code === 'undefined' || code === '') {\n    return done(new Error('Missing plan code'));\n  }\n\n  var route = \"/plans/\".concat(code);\n  this.request.get({\n    route: route,\n    cached: true,\n    done: done\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/plan.js?"
    );
  },
  "./lib/recurly/pricing/checkout/attachment.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Attachment; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ \"./node_modules/promise/index.js\");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../subscription */ \"./lib/recurly/pricing/subscription/index.js\");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/dom */ \"./lib/util/dom.js\");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _util_flatten__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/flatten */ \"./lib/util/flatten.js\");\n/* harmony import */ var _util_group_by__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/group-by */ \"./lib/util/group-by.js\");\n/* harmony import */ var _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../subscription/attachment */ \"./lib/recurly/pricing/subscription/attachment.js\");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/uid */ \"./lib/util/uid.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:pricing:checkout:attachment');\n\nvar INIT_RUN = 'init-all';\n/**\n * Binds a DOM tree to CheckoutPricing values\n *\n * @param {CheckoutPricing} pricing\n * @param {HTMLElement} container Element on which to attach\n */\n\nvar Attachment = /*#__PURE__*/function (_Emitter) {\n  _inherits(Attachment, _Emitter);\n\n  var _super = _createSuper(Attachment);\n\n  function Attachment(pricing, container) {\n    var _this;\n\n    _classCallCheck(this, Attachment);\n\n    _this = _super.call(this);\n    _this.pricing = pricing;\n    _this.recurly = pricing.recurly;\n    _this.container = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.element(container);\n    if (!_this.container) throw new Error('invalid dom element');\n    _this.onInputChange = _this.onInputChange.bind(_assertThisInitialized(_this));\n    _this.updateOutput = _this.updateOutput.bind(_assertThisInitialized(_this));\n\n    _this.pricing.on('change', _this.updateOutput);\n\n    _this.elements.all.forEach(function (elem) {\n      elem.addEventListener('change', _this.onInputChange);\n      elem.addEventListener('propertychange', _this.onInputChange);\n    });\n\n    _this.onInputChange(INIT_RUN);\n\n    return _this;\n  }\n\n  _createClass(Attachment, [{\n    key: \"onInputChange\",\n\n    /**\n     * Handles input element changes\n     */\n    value: function onInputChange(event) {\n      var _this2 = this;\n\n      debug('onInputChange');\n      var elems = this.elements; // Collect subscription properties that are not given a subscription id,\n      // and assign them one, assuming they are all meant to apply to one\n      // subscription\n\n      var orphanedSubscriptionId = Object(_util_uid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n      Object(_util_flatten__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([elems.plan, elems.plan_quantity, elems.addon, elems.tax_code]).forEach(function (el) {\n        if (!el) return;\n        if (_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription')) return;\n        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription', orphanedSubscriptionId);\n      }); // Collect subscription elements, grouped by their ids,\n      // then removes elements not paired to a subscription\n\n      var subscriptionGroups = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(elems.all, function (el) {\n        return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription');\n      });\n      delete subscriptionGroups.undefined; // Remove abandoned subscriptions\n\n      this.pricing.items.subscriptions.forEach(function (sub) {\n        if (!subscriptionGroups[sub.id]) _this2.pricing.remove({\n          subscription: sub\n        });\n      }); // Remove abandoned adjustments\n\n      var adjustmentElemIds = (elems.adjustment || []).map(function (el) {\n        return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlyAdjustment');\n      });\n      this.pricing.items.adjustments.forEach(function (adj) {\n        if (!~adjustmentElemIds.indexOf(adj.id)) _this2.pricing.remove({\n          adjustment: adj\n        });\n      }); // Builds a SubscriptionPricing instance per subscription element group\n\n      promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(Object.keys(subscriptionGroups).map(function (id) {\n        var subscriptionElems = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(subscriptionGroups[id], function (el) {\n          return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurly');\n        }); // Look for an existing subscription for this code\n\n        var subscription = _this2.pricing.findSubscriptionById(id);\n\n        if (!subscription) {\n          subscription = new _subscription__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this2.recurly, {\n            id: id\n          });\n\n          _this2.pricing.subscription(subscription);\n        }\n\n        var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.plan_quantity) || 1;\n        return subscription // Plan\n        .plan(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.plan), {\n          quantity: quantity\n        }).then(function () {\n          // Add-ons\n          if (!subscriptionElems.addon) return;\n          return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(subscriptionElems.addon.map(function (addonElem) {\n            var code = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(addonElem, 'recurlyAddon');\n            var addonQuantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(addonElem);\n            return subscription.addon(code, {\n              quantity: addonQuantity\n            }).catch(function (e) {\n              return _this2.pricing.error(e);\n            });\n          }));\n        }).then(function () {\n          // Tax code\n          if (!subscriptionElems.tax_code) return;\n          return subscription.tax({\n            tax_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.tax_code)\n          });\n        }).reprice();\n      })).then(function () {\n        // Adjustments\n        if (!elems.adjustment) return;\n        return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(elems.adjustment.map(function (adjustmentElem) {\n          var id = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustment');\n          var itemCode = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentItemCode');\n          var amount = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentAmount');\n          var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(adjustmentElem) || 0;\n          var currency = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentCurrency');\n          var taxCode = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentTaxCode');\n          var taxExempt = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentTaxExempt');\n          return _this2.pricing.adjustment({\n            id: id,\n            itemCode: itemCode,\n            amount: amount,\n            quantity: quantity,\n            currency: currency,\n            taxCode: taxCode,\n            taxExempt: taxExempt\n          });\n        }));\n      }).then(function () {\n        // Currency\n        if (!elems.currency) return;\n        return _this2.pricing.currency(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency));\n      }).then(function () {\n        // Coupon\n        if (!elems.coupon) return;\n        return _this2.pricing.coupon(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.coupon).trim()).then(null, _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__[\"ignoreNotFound\"]);\n      }).then(function () {\n        // Gift card\n        if (!elems.gift_card) return;\n        return _this2.pricing.giftCard(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.gift_card).trim()).then(null, _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__[\"ignoreNotFound\"]);\n      }).then(function () {\n        // Address\n        if (elems.country || elems.postal_code) {\n          return _this2.pricing.address({\n            country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.country),\n            postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.postal_code)\n          });\n        }\n      }).then(function () {\n        // Shipping Address\n        if (elems['shipping_address.country'] || elems['shipping_address.postal_code']) {\n          return _this2.pricing.shippingAddress({\n            country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.country']),\n            postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.postal_code'])\n          });\n        }\n      }).then(function () {\n        // Taxes\n        var taxParams = {};\n\n        if (elems['tax_amount.now'] || elems['tax_amount.next']) {\n          taxParams.amount = {\n            now: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.now']) || 0,\n            next: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.next']) || 0\n          };\n        }\n\n        if (elems.vat_number) taxParams.vat_number = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.vat_number);\n        return _this2.pricing.tax(taxParams);\n      }).then(function () {\n        return _this2.pricing.reprice();\n      }).then(function () {\n        if (event === INIT_RUN) _this2.emit('ready');\n      }).done();\n    }\n    /**\n     * Updates output elements\n     *\n     * - TODO: Should there be output elements for each item in `price[when].items`?\n     *\n     */\n\n  }, {\n    key: \"updateOutput\",\n    value: function updateOutput(price) {\n      var _this3 = this;\n\n      var elems = this.elements;\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_code, price.currency.code);\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_symbol, price.currency.symbol);\n      ['subscriptions', 'adjustments', 'discount', 'subtotal', 'taxes', 'total'].forEach(function (value) {\n        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_now'], price.now[value]);\n        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_next'], price.next[value]);\n      });\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['gift_card_now'], price.now.giftCard);\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['gift_card_next'], price.next.giftCard);\n\n      if (elems.addon_price) {\n        elems.addon_price.forEach(function (elem) {\n          var subscriptionId = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlySubscription');\n\n          var subscription = subscriptionId && _this3.pricing.findSubscriptionById(subscriptionId);\n\n          if (!subscription) return;\n          if (!subscription.isValid) return;\n          var addonPrice = subscription.price.base.addons[_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon')];\n          if (addonPrice) _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem, addonPrice);\n        });\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _this4 = this;\n\n      this.pricing.off('change', this.updateOutput);\n      this.elements.all.forEach(function (elem) {\n        elem.removeEventListener('change', _this4.onInputChange);\n        elem.removeEventListener('propertychange', _this4.onInputChange);\n      });\n    }\n  }, {\n    key: \"elements\",\n    get: function get() {\n      if (this._elements) return this._elements;\n      var elements = {\n        all: [].slice.call(this.container.querySelectorAll('[data-recurly]'))\n      };\n      elements.all.forEach(function (node) {\n        var name = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(node, 'recurly');\n        if (!(name in elements)) elements[name] = [];\n        elements[name].push(node);\n      });\n      this._elements = elements;\n      return elements;\n    }\n  }]);\n\n  return Attachment;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/checkout/attachment.js?"
    );
  },
  "./lib/recurly/pricing/checkout/calculations.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Calculations; });\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! array-unique */ "./node_modules/array-unique/index.js");\n/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(array_unique__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/decimalize-member */ "./lib/util/decimalize-member.js");\n/* harmony import */ var _util_group_by__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/group-by */ "./lib/util/group-by.js");\n/* harmony import */ var _util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/tax-ceil */ "./lib/util/tax-ceil.js");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n/**\n * Checkout pricing calculation handler\n *\n * @param {CheckoutPricing} pricing\n * @constructor\n * @public\n */\n\nvar Calculations = /*#__PURE__*/function () {\n  function Calculations(pricing, done) {\n    var _this = this;\n\n    _classCallCheck(this, Calculations);\n\n    this.pricing = pricing;\n    this.items = pricing.items;\n    this._itemizedSets = {\n      now: {},\n      next: {}\n    };\n    this.price = {\n      now: {\n        items: []\n      },\n      next: {\n        items: []\n      },\n      currency: {\n        code: this.pricing.currencyCode,\n        symbol: this.pricing.currencySymbol\n      },\n      taxes: []\n    }; // TODO: Instead of relying on ordering assumptions, it would be ideal to define each\n    //       calculation\'s dependencies\n\n    this.subscriptions().then(function () {\n      return _this.adjustments();\n    }).then(function () {\n      return _this.discounts();\n    }).then(function () {\n      return _this.subtotals();\n    }).then(function () {\n      return _this.taxes();\n    }).then(function () {\n      return _this.giftCards();\n    }).then(function () {\n      return _this.totals();\n    }).then(function () {\n      return _this.itemizedSets();\n    }).catch(function (err) {\n      return _this.pricing.error(err);\n    }).done(function () {\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(_this.price.now, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], _this.price.now);\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(_this.price.next, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], _this.price.next);\n\n      _this.price.now.items.forEach(function (item) {\n        return component_each__WEBPACK_IMPORTED_MODULE_0___default()(item, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], item);\n      });\n\n      _this.price.next.items.forEach(function (item) {\n        return component_each__WEBPACK_IMPORTED_MODULE_0___default()(item, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], item);\n      });\n\n      done(_this.price);\n    });\n  }\n\n  _createClass(Calculations, [{\n    key: "subscriptions",\n\n    /**\n     * Subscriptions\n     *\n     * - Subscription subtotaling, derived from valid subs only\n     * - Adds subscriptions to price item set\n     *\n     * @return {Promise}\n     */\n    value: function subscriptions() {\n      var _this2 = this;\n\n      this.price.now.subscriptions = 0;\n      this.price.next.subscriptions = 0;\n      this._itemizedSets.now.subscriptions = [];\n      this._itemizedSets.next.subscriptions = [];\n      this.validSubscriptions.forEach(function (sub) {\n        _this2.price.now.subscriptions += Number(sub.price.now.total);\n        _this2.price.next.subscriptions += Number(sub.price.next.total);\n\n        _this2._itemizedSets.now.subscriptions.push(subscriptionItem(\'now\', sub));\n\n        _this2._itemizedSets.next.subscriptions.push(subscriptionItem(\'next\', sub));\n      });\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Adjustments\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "adjustments",\n    value: function adjustments() {\n      var _this3 = this;\n\n      this.price.now.adjustments = 0;\n      this.price.next.adjustments = 0; // always zero\n\n      this._itemizedSets.now.adjustments = [];\n      this.validAdjustments.forEach(function (adjustment) {\n        var unitAmount = adjustment.amount,\n            quantity = adjustment.quantity,\n            id = adjustment.id;\n        var amount = unitAmount * quantity;\n        var item = {\n          type: \'adjustment\',\n          id: id,\n          amount: amount,\n          quantity: quantity,\n          unitAmount: unitAmount\n        };\n        _this3.price.now.adjustments += amount;\n\n        _this3._itemizedSets.now.adjustments.push(item);\n      });\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Discounts\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "discounts",\n    value: function discounts() {\n      var _this4 = this;\n\n      var coupon = this.items.coupon;\n      var promise = promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n      this.price.now.discount = 0;\n      this.price.next.discount = 0; // Remove all previously-applied coupons\n\n      this.validSubscriptions.forEach(function (sub) {\n        promise = promise.then(function () {\n          return sub.coupon().reprice(null, {\n            internal: true\n          });\n        });\n      });\n      if (!coupon) return promise;\n\n      if (coupon.discount.type === \'free_trial\') {\n        promise = promise.then(function () {\n          return _this4.applyFreeTrialCoupon();\n        });\n      } else {\n        var _this$discountAmounts = this.discountAmounts(),\n            discountNow = _this$discountAmounts.discountNow,\n            discountNext = _this$discountAmounts.discountNext;\n\n        this.price.now.discount = discountNow;\n        this.price.next.discount = discountNext;\n      }\n\n      return promise.then(function () {\n        if (coupon.single_use) _this4.price.next.discount = 0;\n      });\n    }\n    /**\n     * Subtotals\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "subtotals",\n    value: function subtotals() {\n      var _this$price = this.price,\n          now = _this$price.now,\n          next = _this$price.next;\n      this.price.now.subtotal = now.subscriptions + now.adjustments - now.discount;\n      this.price.next.subtotal = next.subscriptions - next.discount;\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Taxes\n     *\n     * Tax info precedence: `tax` > `shippingAddress` > `address`\n     *\n     * Workflow\n     * - collects tax rates for each tax code and the\n     *   base tax info (country, postal code, vat number)\n     * - applies taxes to each taxable item, according to its tax code\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "taxes",\n    value: function taxes() {\n      var _this5 = this;\n\n      var taxNow = this.price.now.taxes = 0;\n      var taxNext = this.price.next.taxes = 0; // If tax amount has been specified, simply apply it\n\n      if (this.items.tax && this.items.tax.amount) {\n        this.price.now.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(this.items.tax.amount.now);\n        this.price.next.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(this.items.tax.amount.next);\n        return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n      }\n\n      var taxAddress = this.items.shippingAddress || this.items.address;\n\n      var baseTaxInfo = _extends({}, taxAddress, this.items.tax); // Taxation requires that we at least have base tax information\n\n\n      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_1___default()(baseTaxInfo)) return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n      var getTaxes = promise__WEBPACK_IMPORTED_MODULE_2___default.a.denodeify(this.pricing.recurly.tax.bind(this.pricing.recurly));\n\n      var getTaxesFor = function getTaxesFor(item) {\n        return getTaxes(_extends({}, baseTaxInfo, {\n          taxCode: item.taxCode\n        }));\n      };\n\n      var fixedAmount = function fixedAmount(amt) {\n        return parseFloat(amt.toFixed(6));\n      };\n\n      var taxRates = [];\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(this.taxableAdjustments.map(function (adj) {\n        return getTaxesFor(adj).then(function (taxes) {\n          taxRates = taxRates.concat(taxes);\n          taxNow += taxes.reduce(function (sum, tax) {\n            return sum + fixedAmount(adj.amount * adj.quantity * tax.rate);\n          }, 0);\n        });\n      })).then(function () {\n        return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(_this5.taxableSubscriptions.map(function (sub) {\n          return getTaxesFor(sub).then(function (taxes) {\n            taxRates = taxRates.concat(taxes);\n            taxes.forEach(function (tax) {\n              taxNow += fixedAmount(sub.price.now.subtotal * tax.rate);\n              taxNext += fixedAmount(sub.price.next.subtotal * tax.rate);\n            });\n          });\n        }));\n      }).then(function () {\n        if (!_this5.items.coupon) return;\n\n        var _this5$discountAmount = _this5.discountAmounts({\n          taxExempt: false\n        }),\n            discountNow = _this5$discountAmount.discountNow,\n            discountNext = _this5$discountAmount.discountNext;\n\n        return getTaxes(baseTaxInfo).then(function (taxes) {\n          taxes.forEach(function (tax) {\n            taxNow -= fixedAmount(discountNow * tax.rate);\n            taxNext -= fixedAmount(discountNext * tax.rate);\n          });\n        });\n      }).catch(function (err) {\n        return _this5.pricing.emit(\'error\', err);\n      }).then(function () {\n        // Filter tax rates for uniqueness\n        taxRates = taxRates.map(JSON.stringify).filter(function (taxRate, i, taxRates) {\n          return taxRates.indexOf(taxRate) === i;\n        }).map(JSON.parse);\n        _this5.price.taxes = taxRates;\n        _this5.price.now.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(taxNow);\n        _this5.price.next.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(taxNext);\n      });\n    }\n    /**\n     * Gift cards\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "giftCards",\n    value: function giftCards() {\n      this.price.now.giftCard = 0;\n      this.price.next.giftCard = 0;\n      if (!this.items.giftCard) return;\n      var eligibleNow = this.price.now.subtotal + this.price.now.taxes;\n      var eligibleNext = this.price.next.subtotal + this.price.next.taxes;\n\n      var _useGiftcard = useGiftcard(eligibleNow, this.items.giftCard.unit_amount),\n          cardUsedNow = _useGiftcard.used,\n          cardRemaining = _useGiftcard.remains;\n\n      var _useGiftcard2 = useGiftcard(eligibleNext, cardRemaining),\n          cardUsedNext = _useGiftcard2.used;\n\n      this.price.now.giftCard = cardUsedNow;\n      this.price.next.giftCard = cardUsedNext;\n\n      function useGiftcard(price, giftCardValue) {\n        var used = 0;\n        var remains = 0;\n\n        if (giftCardValue > price) {\n          used = price;\n          remains = giftCardValue - price;\n        } else {\n          used = giftCardValue;\n        }\n\n        return {\n          used: used,\n          remains: remains\n        };\n      }\n\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Totals\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "totals",\n    value: function totals() {\n      this.price.now.total = this.price.now.subtotal + this.price.now.taxes - this.price.now.giftCard;\n      this.price.next.total = this.price.next.subtotal + this.price.next.taxes - this.price.next.giftCard;\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Creates itemized entires for price.now and price.next\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "itemizedSets",\n    value: function itemizedSets() {\n      this.price.now.items = this._itemizedSets.now.subscriptions.concat(this._itemizedSets.now.adjustments);\n      this.price.next.items = this._itemizedSets.next.subscriptions;\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n    }\n    /**\n     * Applies a free trial coupon\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "applyFreeTrialCoupon",\n    value: function applyFreeTrialCoupon() {\n      var _this6 = this;\n\n      var coupon = this.items.coupon;\n      if (!this.hasValidSubscriptions) return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();\n\n      if (coupon.redemption_resource === \'subscription\') {\n        return this.mostValuableSubscriptionForFreeTrial().coupon(coupon).reprice(null, {\n          internal: true\n        }).then(function () {\n          return _this6.subscriptions();\n        });\n      }\n\n      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(this.validSubscriptions.map(function (s) {\n        return s.coupon(coupon).reprice(null, {\n          internal: true\n        });\n      })).then(function () {\n        return _this6.subscriptions();\n      });\n    }\n    /**\n     * Calculates discount amounts according to rules\n     *\n     * @return {Object} { discountNow, discountNext }\n     */\n\n  }, {\n    key: "discountAmounts",\n    value: function discountAmounts() {\n      var coupon = this.items.coupon;\n      var discountNow = 0;\n      var discountNext = 0;\n\n      if (coupon) {\n        if (coupon.discount.type === \'free_trial\') {// Amounts are left zero\n        } else if (coupon.discount.rate) {\n          var _this$discountableSub = this.discountableSubtotals(coupon, {\n            setupFees: false\n          }),\n              discountableNow = _this$discountableSub.discountableNow,\n              discountableNext = _this$discountableSub.discountableNext;\n\n          discountNow = roundForDiscount(discountableNow * coupon.discount.rate);\n          discountNext = roundForDiscount(discountableNext * coupon.discount.rate);\n        } else if (coupon.discount.amount) {\n          var _this$discountableSub2 = this.discountableSubtotals(coupon),\n              _discountableNow = _this$discountableSub2.discountableNow,\n              _discountableNext = _this$discountableSub2.discountableNext; // Falls back to zero if the coupon does not support the checkout currency\n\n\n          var discountAmount = coupon.discount.amount[this.items.currency] || 0;\n          discountNow = Math.min(_discountableNow, discountAmount);\n          discountNext = Math.min(_discountableNext, discountAmount);\n        }\n      }\n\n      return {\n        discountNow: discountNow,\n        discountNext: discountNext\n      };\n    }\n    /**\n     * Computes the discountable subtotals for a given coupon\n     *\n     * Workflow\n     *  - Whether coupon applies to adjustments\n     *  - Whether coupon applies to subscriptions\n     *    - Whether coupon is plan-specific or plan-agnostic\n     *    - Whether coupon applies at subcription or account level\n     *    - Whether coupon applies to each subscription\n     *\n     * @param  {Object} coupon\n     * @param  {Object} [options]\n     * @param  {Boolean} [options.setupFees=true] whether to include setup fees\n     * @param  {Boolean} [options.taxExempt=true] whether to include tax exempt items\n     * @return {Object} { discountableNow, discountableNext }\n     */\n\n  }, {\n    key: "discountableSubtotals",\n    value: function discountableSubtotals(coupon) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$setupFees = _ref.setupFees,\n          setupFees = _ref$setupFees === void 0 ? true : _ref$setupFees,\n          _ref$taxExempt = _ref.taxExempt,\n          taxExempt = _ref$taxExempt === void 0 ? true : _ref$taxExempt;\n\n      var discountableNow = 0;\n      var discountableNext = 0; // adjustments\n\n      if (coupon.applies_to_non_plan_charges) {\n        if (taxExempt) {\n          discountableNow += this.price.now.adjustments;\n        } else {\n          // Sums of the totals of adjustments that are taxable\n          discountableNow += this.validAdjustments.reduce(function (sum, adj) {\n            return sum + (adj.taxExempt ? 0 : adj.amount * adj.quantity);\n          }, 0);\n        }\n      } // subscriptions\n\n\n      if (coupon.applies_to_plans && this.hasValidSubscriptions) {\n        var discountableSubscriptions; // subscription-level coupons may only apply to one subscription\n\n        if (coupon.redemption_resource === \'subscription\') {\n          discountableSubscriptions = [this.mostValuableSubscriptionForDiscount()];\n        } else {\n          discountableSubscriptions = this.validSubscriptions;\n        }\n\n        discountableSubscriptions = filterSubscriptionsForCoupon(discountableSubscriptions, coupon); // add each subscription\'s discountable amount\n\n        discountableSubscriptions.forEach(function (sub) {\n          if (!taxExempt && sub.taxExempt) return;\n          discountableNow += discountableSubscriptionSubtotal(\'now\', sub, {\n            setupFees: setupFees\n          });\n          discountableNext += discountableSubscriptionSubtotal(\'next\', sub, {\n            setupFees: setupFees\n          });\n        });\n      }\n\n      return {\n        discountableNow: discountableNow,\n        discountableNext: discountableNext\n      };\n    }\n    /**\n     * Finds the subscription with the greatest subtotal\n     *\n     * @param  {Array[SubscriptionPricing]} [subscriptions=this.validSubscriptions]\n     * @return {SubscriptionPricing}\n     */\n\n  }, {\n    key: "mostValuableSubscriptionForDiscount",\n    value: function mostValuableSubscriptionForDiscount() {\n      var subscriptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.validSubscriptions;\n      subscriptions = filterSubscriptionsForCoupon(subscriptions, this.items.coupon);\n      return subscriptions.sort(function (a, b) {\n        var subtotalA = parseFloat(a.price.now.subtotal);\n        var subtotalB = parseFloat(b.price.now.subtotal);\n\n        if (subtotalA > subtotalB) {\n          return -1;\n        } else if (subtotalA < subtotalB) {\n          return 1;\n        } else {\n          return 0;\n        }\n      })[0];\n    }\n    /**\n     * Finds the subscription with the longest trial length and greatest subtotal\n     *\n     * @return {subscriptionPricing}\n     */\n\n  }, {\n    key: "mostValuableSubscriptionForFreeTrial",\n    value: function mostValuableSubscriptionForFreeTrial() {\n      var subscriptions = filterSubscriptionsForCoupon(this.validSubscriptions, this.items.coupon);\n      var trialSet = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__["default"])(subscriptions, trialLength);\n      var longestTrial = Object.keys(trialSet).sort(function (a, b) {\n        return b - a;\n      })[0]; // descending sort\n\n      return this.mostValuableSubscriptionForDiscount(trialSet[longestTrial]);\n    }\n  }, {\n    key: "validAdjustments",\n    get: function get() {\n      return this.pricing.validAdjustments;\n    }\n  }, {\n    key: "validSubscriptions",\n    get: function get() {\n      return this.pricing.validSubscriptions;\n    }\n  }, {\n    key: "hasValidSubscriptions",\n    get: function get() {\n      return this.validSubscriptions.length > 0;\n    }\n  }, {\n    key: "taxableAdjustments",\n    get: function get() {\n      return this.validAdjustments.filter(function (adj) {\n        return !adj.taxExempt && adj.amount > 0;\n      });\n    }\n  }, {\n    key: "taxableSubscriptions",\n    get: function get() {\n      return this.validSubscriptions.filter(function (sub) {\n        return !sub.items.plan.tax_exempt;\n      });\n    } // includes undefined entries\n\n  }, {\n    key: "taxCodes",\n    get: function get() {\n      var taxableItems = this.taxableAdjustments.concat(this.taxableSubscriptions);\n      return array_unique__WEBPACK_IMPORTED_MODULE_3___default()(taxableItems.map(function (item) {\n        return item.taxCode;\n      }));\n    }\n  }]);\n\n  return Calculations;\n}();\n/**\n * Utilities\n */\n\n/**\n * Builds a price.items[{type: \'subscription\'}] item\n *\n * @param  {String} when \'now\' or \'next\'\n * @param  {SubscriptionPricing} subscription\n * @return {Object} item\n */\n\n\n\n\nfunction subscriptionItem(when, subscription) {\n  var id = subscription.id,\n      price = subscription.price;\n  return {\n    type: \'subscription\',\n    id: id,\n    amount: price[when].total,\n    setupFee: price[when].setup_fee,\n    addons: price[when].addons,\n    plan: price[when].plan\n  };\n}\n/**\n * Returns a subscription\'s trial length in seconds\n *\n * @param  {Object} subscription\n * @return {Number} trial length in seconds\n */\n\n\nfunction trialLength(subscription) {\n  if (!subscription.items.plan.trial) return 0;\n  var seconds = {\n    days: 86400,\n    months: 2678400 // 31 days\n\n  }[subscription.items.plan.trial.interval] || 0;\n  return subscription.items.plan.trial.length * seconds;\n}\n/**\n * Returns a subscription\'s discountable subtotal\n *\n * - plan + addons + discount + setup_fee = subtotal\n * - discountable_subtotal = subtotal + discount - setup_fee\n *\n * @param  {String} when \'now\' or \'next\'\n * @param  {SubscriptionPricing} subscription\n * @param  {Object} [options]\n * @param  {Boolean} [options.setupFees=true] whether to include setup fees\n * @return {Number} discountable subtotal\n */\n\n\nfunction discountableSubscriptionSubtotal(when, subscription) {\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$setupFees = _ref2.setupFees,\n      setupFees = _ref2$setupFees === void 0 ? true : _ref2$setupFees;\n\n  var price = subscription.price[when];\n  var subtotal = parseFloat(price.subtotal) + parseFloat(price.discount);\n  if (!setupFees) subtotal -= parseFloat(price.setup_fee);\n  return subtotal;\n}\n/**\n * Filter subscriptions for which this coupon does not apply\n * @param  {Array[EmbeddedSubscriptionPricing]} subscriptions\n * @param  {Object} coupon\n * @return {Array[EmbeddedSubscriptionPricing]}\n */\n\n\nfunction filterSubscriptionsForCoupon(subscriptions, coupon) {\n  if (subscriptions.length === 0) return subscriptions;\n  if (coupon.applies_to_all_plans) return subscriptions;\n  return subscriptions.filter(function (sub) {\n    return sub.couponIsValidForSubscription(coupon);\n  });\n}\n/**\n * Rounds a Number and sets it to a fixed length\n * @param  {Number} amount\n * @return {Number}\n */\n\n\nfunction roundForDiscount(amount) {\n  return parseFloat((Math.round(amount * 100) / 100).toFixed(6));\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/checkout/calculations.js?'
    );
  },
  "./lib/recurly/pricing/checkout/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CheckoutPricing; });\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var intersect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! intersect */ "./node_modules/intersect/index.js");\n/* harmony import */ var intersect__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(intersect__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! array-unique */ "./node_modules/array-unique/index.js");\n/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(array_unique__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/uid */ "./lib/util/uid.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ */ "./lib/recurly/pricing/index.js");\n/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../promise */ "./lib/recurly/pricing/promise.js");\n/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../subscription */ "./lib/recurly/pricing/subscription/index.js");\n/* harmony import */ var _subscription_embedded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../subscription/embedded */ "./lib/recurly/pricing/subscription/embedded.js");\n/* harmony import */ var _calculations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./calculations */ "./lib/recurly/pricing/checkout/calculations.js");\n/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./attachment */ "./lib/recurly/pricing/checkout/attachment.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:pricing:checkout-pricing\');\n/**\n * CheckoutPricing\n *\n * Constructs a pricing model for a checkout purchase. Call methods\n * on an instance to add or remove items from the pricing model, and\n * listen for changes to the price.\n *\n * This class allows you to provide basic details about a checkout purchase,\n * such as plan code, item code, and address, and receive detailed pricing\n * information about the overall purchase, including item costs, tax estimates,\n * complex discounting, and currency changes.\n *\n * Example\n *\n * ```\n * const checkoutPricing = recurly.Pricing.Checkout();\n * checkoutPricing.on(\'change\', price => console.log(price));\n * checkoutPricing\n *   .currency(\'USD\')\n *   .subscription(recurly.Pricing.Subscription().plan(\'my-plan\').done())\n *   .adjustment({ itemCode: \'my-item-code\', quantity: 2 })\n *   .address({ country: \'US\', postalCode: \'94110\' })\n *   .coupon(\'my-coupon-code\')\n *   .done();\n * ```\n *\n * @class\n */\n\n\nvar CheckoutPricing = /*#__PURE__*/function (_Pricing) {\n  _inherits(CheckoutPricing, _Pricing);\n\n  var _super = _createSuper(CheckoutPricing);\n\n  function CheckoutPricing() {\n    var _this;\n\n    _classCallCheck(this, CheckoutPricing);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.debug = debug;\n\n    _this.recurly.report(\'pricing:checkout:create\');\n\n    return _this;\n  }\n\n  _createClass(CheckoutPricing, [{\n    key: "reset",\n    value: function reset() {\n      _get(_getPrototypeOf(CheckoutPricing.prototype), "reset", this).call(this);\n\n      this.items.subscriptions = [];\n      this.items.adjustments = [];\n    }\n  }, {\n    key: "findSubscriptionById",\n    value: function findSubscriptionById(id) {\n      var embeddedSubscription = component_find__WEBPACK_IMPORTED_MODULE_1___default()(this.items.subscriptions, function (esub) {\n        return esub.id === id;\n      });\n      if (embeddedSubscription) return embeddedSubscription.subscription;\n    }\n    /**\n     * Attachment factory\n     *\n     * @param {HTMLElement} container - element on which to attach\n     */\n\n  }, {\n    key: "attach",\n    value: function attach(container) {\n      var _this2 = this;\n\n      if (this.attachment) this.attachment.detach();\n      this.attachment = new _attachment__WEBPACK_IMPORTED_MODULE_13__["default"](this, container);\n      this.attachment.once(\'ready\', function () {\n        return _this2.emit(\'attached\');\n      });\n      return this.attachment;\n    }\n    /**\n     * Updates currency code. Will reject if the subscription plans do not support the given code\n     *\n     * @param {String} code Currency code\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "currency",\n    value: function currency(code) {\n      var _this3 = this;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n        if (_this3.items.currency === code) return resolve(_this3.items.currency);\n\n        if (!_this3.subscriptionsAllowCurrency(code)) {\n          return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'invalid-currency\', {\n            currency: code,\n            allowed: _this3.subscriptionCurrencies\n          }), reject, \'currency\');\n        }\n\n        _this3.items.currency = code; // Propagate currency changes to each subscription\n\n        promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(_this3.validSubscriptions.map(function (sub) {\n          debug(\'checkout currency has changed. Updating subscription\', sub);\n          return sub.currency(code).reprice();\n        })) // Eject gift cards on currency change\n        .then(function () {\n          return _this3.giftCard(null);\n        }).then(function () {\n          return _this3.resolveAndEmit(\'set.currency\', code, resolve);\n        });\n      }, this);\n    }\n    /**\n     * Adds a subscription\n     *\n     * - Ignores address and tax info from subscriptions\n     * - Removes subscription discounts\n     *\n     * @param {SubscriptionPricing} subscription\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "subscription",\n    value: function subscription(_subscription) {\n      var _this4 = this;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n        if (!(_subscription instanceof _subscription__WEBPACK_IMPORTED_MODULE_10__["default"])) {\n          return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'invalid-option\', {\n            name: \'subscription\',\n            expect: \'a {recurly.Pricing.Subscription}\'\n          }), reject, \'subscription\');\n        } // Do nothing if we already have this subscription\n\n\n        if (_this4.items.subscriptions.some(function (esub) {\n          return esub.subscription === _subscription;\n        })) {\n          return resolve(_subscription);\n        }\n\n        var plan = _subscription.items.plan; // If the subscription currencies do not match the checkout currency, attempt to resolve it.\n        // If it cannot be resolved, reject the subscription\n\n        if (_this4.items.currency && plan) {\n          var planCurrencies = Object.keys(plan.price);\n\n          if (!~planCurrencies.indexOf(_this4.currencyCode)) {\n            try {\n              _this4.resolveCurrency(planCurrencies);\n            } catch (e) {\n              return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'invalid-subscription-currency\', {\n                checkoutCurrency: _this4.currencyCode,\n                checkoutSupportedCurrencies: _this4.subscriptionCurrencies,\n                subscriptionPlanCurrencies: planCurrencies\n              }), reject, \'currency\');\n            }\n          }\n        }\n\n        if (!_this4.items.currency) _this4.currency(_subscription.items.currency);\n\n        var emitSubscriptionSetter = function emitSubscriptionSetter(name) {\n          return function (item) {\n            return _this4.emit("set.".concat(name), _defineProperty({\n              subscription: {\n                id: _subscription.id\n              }\n            }, name, item));\n          };\n        };\n\n        var addSubscription = function addSubscription() {\n          _subscription.on(\'change:external\', function () {\n            return _this4.reprice();\n          });\n\n          _subscription.on(\'set.plan\', emitSubscriptionSetter(\'plan\'));\n\n          _subscription.on(\'set.addon\', emitSubscriptionSetter(\'addon\'));\n\n          _this4.items.subscriptions.push(new _subscription_embedded__WEBPACK_IMPORTED_MODULE_11__["default"](_subscription, _this4));\n\n          _this4.resolveAndEmit(\'set.subscription\', _subscription, resolve, {\n            copy: false\n          });\n        }; // Removes any subscription coupons and gift cards\n\n\n        if (_subscription.isValid) {\n          _subscription.coupon(null).giftcard(null).then(addSubscription);\n        } else {\n          addSubscription();\n        }\n      }, this);\n    }\n    /**\n     * @typedef {Object} CheckoutPricing~Adjustment\n     *\n     * @property {String}  [itemCode] item code reference. If provided,\n     *                                the amount and tax properties will be populated\n     *                                from the given item. an itemCode may not be used to\n     *                                modify an adjustment in-place.\n     * @property {Number}  [amount] in unit price (1.0 for USD, etc)\n     * @property {Number}  [quantity=1] number of units\n     * @property {String}  [id=uid()] unique identifier. Use this value to modify an\n     *                                adjustment in-place\n     * @property {String}  [currency=this.items.currency] currency code\n     * @property {Boolean} [taxExempt=false] whether this adjustment is tax exempt\n     * @property {String}  [taxCode] taxation code\n     */\n\n    /**\n     * Adds a one-time charge or credit a.k.a. adjustment\n     *\n     * @param {CheckoutPricing~Adjustment} adjustment\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "adjustment",\n    value: function adjustment(_ref) {\n      var _this5 = this;\n\n      var _ref$itemCode = _ref.itemCode,\n          itemCode = _ref$itemCode === void 0 ? null : _ref$itemCode,\n          amount = _ref.amount,\n          quantity = _ref.quantity,\n          _ref$id = _ref.id,\n          id = _ref$id === void 0 ? Object(_util_uid__WEBPACK_IMPORTED_MODULE_6__["default"])() : _ref$id,\n          currency = _ref.currency,\n          taxExempt = _ref.taxExempt,\n          taxCode = _ref.taxCode;\n      var recurly = this.recurly;\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n        var existingAdjustment = component_find__WEBPACK_IMPORTED_MODULE_1___default()(_this5.items.adjustments, function (a) {\n          return a.id === id;\n        });\n        var validateAmount = true;\n\n        if (itemCode || existingAdjustment && typeof amount === \'undefined\') {\n          validateAmount = false;\n        }\n\n        if (validateAmount) {\n          amount = Number(amount);\n\n          if (!isFinite(amount)) {\n            var err = {\n              name: \'amount\',\n              expect: \'a finite Number\'\n            };\n            return _this5.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'invalid-option\', err), reject, \'adjustment\');\n          }\n        }\n\n        if (existingAdjustment && existingAdjustment.itemCode && !itemCode) {\n          itemCode = existingAdjustment.itemCode;\n        }\n\n        new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {\n          if (!itemCode) return resolve();\n          return recurly.item({\n            itemCode: itemCode\n          }).then(function (item) {\n            var expectedCurrency = currency || existingAdjustment && existingAdjustment.currency || _this5.items.currency;\n\n            if (typeof amount === \'undefined\') {\n              var itemPrice = component_find__WEBPACK_IMPORTED_MODULE_1___default()(item.currencies, function (c) {\n                return c.currency_code === expectedCurrency;\n              });\n\n              if (itemPrice) {\n                amount = itemPrice.unit_amount;\n              } else {\n                return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'invalid-item-currency\', {\n                  itemCode: itemCode,\n                  currency: expectedCurrency\n                }));\n              }\n            }\n\n            taxCode = item.tax_code;\n            taxExempt = item.tax_exempt;\n            resolve();\n          }, reject);\n        }).then(function () {\n          // New adjustment defaults\n          if (!existingAdjustment) {\n            currency = currency || _this5.items.currency;\n            quantity = coerceAdjustmentQuantity(quantity);\n            taxExempt = !!taxExempt;\n          }\n\n          return {\n            amount: amount,\n            quantity: quantity,\n            id: id,\n            currency: currency,\n            taxExempt: taxExempt,\n            taxCode: taxCode,\n            itemCode: itemCode\n          };\n        }).then(function (adjustment) {\n          if (existingAdjustment) {\n            if (typeof amount === \'undefined\') delete adjustment.amount;\n            if (typeof currency === \'undefined\') delete adjustment.currency;\n\n            if (typeof quantity === \'undefined\') {\n              delete adjustment.quantity;\n            } else {\n              quantity = coerceAdjustmentQuantity(quantity);\n            }\n\n            if (existingAdjustment.itemCode || typeof taxCode === \'undefined\') {\n              delete adjustment.taxCode;\n            }\n\n            if (existingAdjustment.itemCode || typeof taxExempt === \'undefined\') {\n              delete adjustment.taxExempt;\n            }\n\n            adjustment = _extends(existingAdjustment, adjustment);\n          } else {\n            _this5.items.adjustments.push(adjustment);\n          }\n\n          _this5.resolveAndEmit(\'set.adjustment\', adjustment, resolve);\n        }).catch(function (err) {\n          _this5.error(err, reject, \'adjustment\');\n        });\n      }, this);\n    }\n    /**\n     * Updates coupon. Manages a single coupon on the item set, unsetting any exisitng\n     * coupon\n     *\n     * `set.coupon` is emitted when a valid coupon is set\n     * `unset.coupon` is emitted when an existing valid coupon is removed\n     * `error.coupon` is emitted when the requested coupon is invalid\n     *\n     * @param {String} couponCode\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "coupon",\n    value: function coupon(couponCode) {\n      var _this6 = this;\n\n      if (~this.couponCodes.indexOf(couponCode)) {\n        return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve) {\n          return resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this6.items.coupon));\n        }, this);\n      }\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve) {\n        return resolve();\n      }, this).then(function () {\n        if (!_this6.items.coupon) return;\n        var priorCoupon = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this6.items.coupon);\n        debug(\'unset.coupon\');\n        return _this6.remove({\n          coupon: priorCoupon.code\n        }).then(function () {\n          _this6.emit(\'unset.coupon\', priorCoupon);\n        });\n      }).then(function () {\n        return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n          // A blank coupon is handled as ok\n          if (!couponCode) return resolve();\n\n          _this6.recurly.coupon({\n            plans: _this6.subscriptionPlanCodes,\n            coupon: couponCode\n          }, function (err, coupon) {\n            if (err) {\n              return _this6.error(err, reject, \'coupon\');\n            } else {\n              _this6.items.coupon = coupon;\n\n              _this6.resolveAndEmit(\'set.coupon\', coupon, resolve);\n            }\n          });\n        });\n      });\n    }\n    /**\n     * Updates address\n     *\n     * @param {Object} address\n     * @param {String} address.country\n     * @param {String} address.postalCode\n     * @param {String} address.vatNumber\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "address",\n    value: function address(_address) {\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory(\'address\', _address), this);\n    }\n    /**\n     * Updates shipping address\n     *\n     * @param {Object} address\n     * @param {String} address.country\n     * @param {String} address.postalCode\n     * @param {String} address.vatNumber\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "shippingAddress",\n    value: function shippingAddress(address) {\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory(\'shippingAddress\', address), this);\n    }\n    /**\n     * Updates tax info\n     *\n     * @param {Object} tax\n     * @param {String} tax.vatNumber\n     * @param {Object} [tax.amounts] specific tax amounts. Overrides automated tax rate calculations\n     * @param {Object} [tax.amounts.now] specific tax to apply on the immediate charge\n     * @param {Object} [tax.amounts.next=0] specific tax to apply on the next billing cycle\n     * @public\n     */\n\n  }, {\n    key: "tax",\n    value: function tax(_tax) {\n      this.guardTaxSignature(_tax);\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory(\'tax\', _tax), this);\n    }\n    /**\n     * Updates gift card\n     *\n     * @param {String} code Gift card code\n     * @return {PricingPromise} [description]\n     * @public\n     */\n\n  }, {\n    key: "giftCard",\n    value: function giftCard(code) {\n      var _this7 = this;\n\n      var unset = function unset() {\n        if (!_this7.items.giftCard) return;\n        debug(\'unset.giftCard\');\n        delete _this7.items.giftCard;\n\n        _this7.emit(\'unset.giftCard\');\n      };\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n        if (!code) {\n          unset();\n          return resolve();\n        }\n\n        _this7.recurly.giftCard({\n          code: code\n        }, function (err, giftCard) {\n          if (err) {\n            return _this7.error(err, reject, \'giftCard\');\n          } else {\n            unset();\n\n            if (_this7.items.currency !== giftCard.currency) {\n              return _this7.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])(\'gift-card-currency-mismatch\'), reject, \'giftCard\');\n            } else {\n              _this7.items.giftCard = giftCard;\n\n              _this7.resolveAndEmit(\'set.giftCard\', giftCard, resolve);\n            }\n          }\n        });\n      }, this);\n    }\n    /**\n     * Adds handlers to remove subscriptions, adjustments, and coupons\n     *\n     * @param {Object} options\n     * @param {Object} options[item] Must contain an id property. The key name\n     *                               corresponds to the item type to be removed (ex: \'subscription\')\n     * @public\n     */\n\n  }, {\n    key: "remove",\n    value: function remove(options) {\n      var _this8 = this;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {\n        // Expects SubscriptionPricing or EmbeddedSubscriptionPricing\n        if (options.subscription) {\n          _this8.removeFromSet(\'subscriptions\', options.subscription);\n        } else if (options.adjustment) {\n          _this8.removeFromSet(\'adjustments\', options.adjustment);\n        } else {\n          if (options.coupon) {\n            // Remove the coupon from embedded subscriptions\n            promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(_this8.validSubscriptions.map(function (sub) {\n              return sub.coupon().reprice({\n                internal: true\n              });\n            })).then(function () {\n              return _get(_getPrototypeOf(CheckoutPricing.prototype), "remove", _this8).call(_this8, options).then(resolve, reject);\n            });\n          } else {\n            _get(_getPrototypeOf(CheckoutPricing.prototype), "remove", _this8).call(_this8, options).then(resolve, reject);\n          }\n        }\n      });\n    }\n    /**\n     * Removes a set item (subscription or adjustment)\n     *\n     * @param  {String} name         item name (ex: \'subscription\', \'adjustment\')\n     * @param  {Object} itemToRemove item to remove. Must have an id property\n     * @private\n     */\n\n  }, {\n    key: "removeFromSet",\n    value: function removeFromSet(name, itemToRemove) {\n      this.items[name] = this.items[name].filter(function (item) {\n        return item.id !== itemToRemove.id;\n      });\n    }\n    /**\n     * Checks whether the current subscriptions will allow the given currency code\n     *\n     * @param  {String} code Currency code\n     * @return {Boolean}\n     * @private\n     */\n\n  }, {\n    key: "subscriptionsAllowCurrency",\n    value: function subscriptionsAllowCurrency(code) {\n      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(this.items.subscriptions)) return true;\n      return !!~this.subscriptionCurrencies.indexOf(code);\n    }\n    /**\n     * Attempts to set a common currency from amongst the\n     * current subscriptions and the provided codes.\n     *\n     * @param {Array} code Array of {String} currency codes\n     * @param {Object} [options]\n     * @param {Boolean} [options.commit=true] whether to commit a currency change\n     * @throws {Error} If a common currency cannot be found\n     * @private\n     */\n\n  }, {\n    key: "resolveCurrency",\n    value: function resolveCurrency(codes) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$commit = _ref2.commit,\n          commit = _ref2$commit === void 0 ? true : _ref2$commit;\n\n      var commonCurrencies; // If we have subscriptions already, check that we have common currencies. Otherwise, we may proceed\n\n      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(this.validSubscriptions)) {\n        commonCurrencies = codes;\n      } else {\n        commonCurrencies = intersect__WEBPACK_IMPORTED_MODULE_2___default()(this.subscriptionCurrencies, codes);\n      }\n\n      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(commonCurrencies)) throw new Error(\'unresolvable\');\n      if (commit) return this.currency(commonCurrencies[0]);\n    }\n    /**\n     * Binds important events to the EventDispatcher\n     *\n     * @protected\n     */\n\n  }, {\n    key: "bindReporting",\n    value: function bindReporting() {\n      var _this9 = this;\n\n      _get(_getPrototypeOf(CheckoutPricing.prototype), "bindReporting", this).call(this, \'pricing:checkout\');\n\n      var report = function report() {\n        var _this9$recurly;\n\n        return (_this9$recurly = _this9.recurly).report.apply(_this9$recurly, arguments);\n      };\n\n      this.on(\'attached\', function () {\n        return report(\'pricing:checkout:attached\');\n      });\n      this.on(\'set.subscription\', function () {\n        return report(\'pricing:checkout:set:subscription\');\n      });\n      this.on(\'change:external\', function (price) {\n        return report(\'pricing:checkout:change\', {\n          price: {\n            couponCodes: _this9.couponCodes,\n            currency: _this9.currencyCode,\n            discount: price.now.discount,\n            giftCard: price.now.giftCard,\n            items: price.now.items.map(function (item) {\n              return {\n                type: item.type,\n                amount: item.amount,\n                quantity: item.quantity\n              };\n            }),\n            taxes: price.now.taxes,\n            total: price.now.total,\n            totalNext: price.next.total\n          }\n        });\n      });\n    }\n  }, {\n    key: "Calculations",\n    get: function get() {\n      return _calculations__WEBPACK_IMPORTED_MODULE_12__["default"];\n    }\n  }, {\n    key: "PRICING_METHODS",\n    get: function get() {\n      return _get(_getPrototypeOf(CheckoutPricing.prototype), "PRICING_METHODS", this).concat([\'address\', \'adjustment\', \'coupon\', \'currency\', \'giftCard\', \'shippingAddress\', \'subscription\', \'tax\']);\n    }\n  }, {\n    key: "validAdjustments",\n    get: function get() {\n      var _this10 = this;\n\n      return this.items.adjustments.filter(function (adj) {\n        return adj.currency === _this10.items.currency;\n      });\n    }\n  }, {\n    key: "validSubscriptions",\n    get: function get() {\n      return this.items.subscriptions.filter(function (sub) {\n        return sub.isValid;\n      });\n    } // Currency codes common to all subscriptions\n\n  }, {\n    key: "subscriptionCurrencies",\n    get: function get() {\n      return intersect__WEBPACK_IMPORTED_MODULE_2___default()(this.validSubscriptions.map(function (s) {\n        return Object.keys(s.items.plan.price);\n      }));\n    } // Plan codes of all subscriptions\n\n  }, {\n    key: "subscriptionPlanCodes",\n    get: function get() {\n      return array_unique__WEBPACK_IMPORTED_MODULE_5___default()(this.validSubscriptions.map(function (s) {\n        return s.items.plan.code;\n      }));\n    }\n  }]);\n\n  return CheckoutPricing;\n}(___WEBPACK_IMPORTED_MODULE_8__["Pricing"]);\n\n\n\nfunction coerceAdjustmentQuantity(quantity) {\n  quantity = parseInt(quantity, 10);\n  if (isNaN(quantity)) quantity = 1;\n  return quantity;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/checkout/index.js?'
    );
  },
  "./lib/recurly/pricing/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pricing", function() { return Pricing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findByCode", function() { return findByCode; });\n/* harmony import */ var currency_symbol_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! currency-symbol-map */ "./node_modules/currency-symbol-map/currency-symbol-map.js");\n/* harmony import */ var currency_symbol_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(currency_symbol_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");\n/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./promise */ "./lib/recurly/pricing/promise.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var _util_decimalize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/decimalize */ "./lib/util/decimalize.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:pricing\');\n\nvar Pricing = /*#__PURE__*/function (_Emitter) {\n  _inherits(Pricing, _Emitter);\n\n  var _super = _createSuper(Pricing);\n\n  function Pricing(recurly) {\n    var _this;\n\n    _classCallCheck(this, Pricing);\n\n    _this = _super.call(this);\n    _this.recurly = recurly;\n    _this.debug = debug;\n\n    _this.reset();\n\n    _this.reprice();\n\n    _this.bindReporting();\n\n    return _this;\n  }\n\n  _createClass(Pricing, [{\n    key: "reset",\n\n    /**\n     * Resets items and sets defaults\n     *\n     * @public\n     */\n    value: function reset() {\n      this.items = {};\n      this.currency(this.recurly.config.currency);\n    }\n    /**\n     * Provides a price estimate using current state\n     *\n     * @param {Function} [done] callback\n     * @param {Object} [options]\n     * @param {Boolean} [options.internal] when true, the \'change:external\' event is not emitted\n     * @public\n     */\n\n  }, {\n    key: "reprice",\n    value: function reprice(done) {\n      var _this2 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$internal = _ref.internal,\n          internal = _ref$internal === void 0 ? false : _ref$internal;\n\n      this.debug(\'reprice\');\n      return new _promise__WEBPACK_IMPORTED_MODULE_5__["default"](function (resolve) {\n        new _this2.Calculations(_this2, function (price) {\n          if (JSON.stringify(price) === JSON.stringify(_this2.price)) return resolve(price);\n          _this2.price = price;\n\n          var priceCopy = _this2.resolveAndEmit(\'change\', price, resolve);\n\n          if (!internal) _this2.emit(\'change:external\', priceCopy);\n        });\n      }, this).nodeify(done);\n    }\n    /**\n     * Removes an object from the pricing model\n     *\n     * FIXME: This does not work well with sets i.e. subscriptions\n     *\n     * example\n     *\n     *   .remove({ plan: \'plan_code\' });\n     *   .remove({ addons: \'addon_code\' });\n     *   .remove({ coupon: \'coupon_code\' });\n     *   .remove({ address: true }); // to remove without specifying a code\n     *\n     * @param {Object} opts\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "remove",\n    value: function remove(opts, done) {\n      var _this3 = this;\n\n      // is `item` being used for anything? It might just be having its value reassigned and then unused\n      // eslint-disable-next-line\n      var item;\n      this.debug(\'remove\', opts);\n      return new _promise__WEBPACK_IMPORTED_MODULE_5__["default"](function (resolve, reject) {\n        var prop = Object.keys(opts)[0];\n        var id = opts[prop];\n        if (!~Object.keys(_this3.items).indexOf(prop)) return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'invalid-item\'), reject);\n\n        if (Array.isArray(_this3.items[prop])) {\n          var pos = _this3.items[prop].indexOf(findByCode(_this3.items[prop], id));\n\n          if (~pos) {\n            item = _this3.items[prop].splice(pos);\n          }\n        } else if (_this3.items[prop] && (id === _this3.items[prop].code || id === true)) {\n          item = _this3.items[prop];\n          delete _this3.items[prop];\n        } else {\n          return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'unremovable-item\', {\n            type: prop,\n            id: id,\n            reason: \'does not exist on this pricing instance.\'\n          }), reject);\n        }\n\n        resolve();\n      }, this).nodeify(done);\n    }\n    /**\n     * Checks tax params against expectations\n     *\n     * @param  {Object} tax\n     * @throws {String} error message if expectations are not met\n     */\n\n  }, {\n    key: "guardTaxSignature",\n    value: function guardTaxSignature() {\n      var tax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!tax.amount) return;\n\n      if (_typeof(tax.amount) !== \'object\') {\n        throw "Invalid \'amount\'. Expected \'Object\', got \'".concat(_typeof(tax.amount), "\'");\n      } else if (!isFinite(+tax.amount.now)) {\n        throw "Invalid \'amount.now\'. Expected \'Finite Numeric\', got \'".concat(_typeof(tax.amount.now), "\'");\n      } else if (!isFinite(+tax.amount.next)) {\n        throw "Invalid \'amount.next\'. Expected \'Finite Numeric\', got \'".concat(_typeof(tax.amount.next), "\'");\n      }\n    }\n    /**\n     * Utility to emit an event and call a PricingPromise resolver\n     * with a mutation-safe copy of the item object\n     *\n     * @param {string} event event name\n     * @param {Object} object pricing item\n     * @param {Function} resolve PricingPromise resolver\n     * @param {Boolean} [copy] whether to clone the pricing item\n     * @return {Object} object or object clone\n     * @private\n     */\n\n  }, {\n    key: "resolveAndEmit",\n    value: function resolveAndEmit(event, object, resolve) {\n      var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n          _ref2$copy = _ref2.copy,\n          copy = _ref2$copy === void 0 ? true : _ref2$copy;\n\n      this.debug(event);\n      if (_typeof(object) !== \'object\') copy = false;\n      if (copy) object = component_clone__WEBPACK_IMPORTED_MODULE_2___default()(object);\n      this.emit(event, object);\n      resolve(object);\n      return object;\n    }\n    /**\n     * Binds important events to the EventDispatcher\n     *\n     * @protected\n     */\n\n  }, {\n    key: "bindReporting",\n    value: function bindReporting() {\n      var _this4 = this;\n\n      var domain = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'pricing\';\n\n      var report = function report() {\n        var _this4$recurly;\n\n        return (_this4$recurly = _this4.recurly).report.apply(_this4$recurly, arguments);\n      };\n\n      var setGiftCard = function setGiftCard(giftCard) {\n        return report("".concat(domain, ":set:giftCard"), {\n          amount: giftCard.unit_amount\n        });\n      };\n\n      var unsetGiftCard = function unsetGiftCard() {\n        return report("".concat(domain, ":unset:giftCard"));\n      };\n\n      this.on(\'set.addon\', function (addOn) {\n        return report("".concat(domain, ":set:addOn"), lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(addOn, [\'code\', \'quantity\']));\n      });\n      this.on(\'set.coupon\', function (coupon) {\n        return report("".concat(domain, ":set:coupon"), {\n          code: coupon.code\n        });\n      });\n      this.on(\'set.currency\', function (code) {\n        return report("".concat(domain, ":set:currency"), {\n          code: code\n        });\n      });\n      this.on(\'set.gift_card\', setGiftCard);\n      this.on(\'set.giftCard\', setGiftCard);\n      this.on(\'set.plan\', function (plan) {\n        return report("".concat(domain, ":set:plan"), {\n          code: plan.code\n        });\n      });\n      this.on(\'unset.coupon\', function () {\n        return report("".concat(domain, ":unset:coupon"));\n      });\n      this.on(\'unset.gift_card\', unsetGiftCard);\n      this.on(\'unset.giftCard\', unsetGiftCard);\n    }\n    /**\n     * Generates an standard Pricing.item updater method to be given to a PricingPromise\n     *\n     * @param {String} name item name\n     * @param {Object} object item value\n     * @return {Function} PricingPromise handler\n     * @private\n     */\n\n  }, {\n    key: "itemUpdateFactory",\n    value: function itemUpdateFactory(name, object) {\n      var _this5 = this;\n\n      return function (resolve) {\n        if (JSON.stringify(object) === JSON.stringify(_this5.items[name])) {\n          return resolve(_this5.items[name]);\n        }\n\n        _this5.items[name] = object;\n\n        _this5.resolveAndEmit("set.".concat(name), object, resolve);\n      };\n    }\n    /**\n     * Emits a namespaced error\n     * @param {Error} error\n     * @param {Function} reject - Promise rejection function\n     * @param {[String]} namespace - dot-delimited error namespace\n     * @private\n     */\n\n  }, {\n    key: "error",\n    value: function error(_error) {\n      var _this6 = this;\n\n      var reject = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n      var namespace = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (namespace) {\n        namespace.split(\'.\').reduce(function (memo, name) {\n          return _this6.emit("".concat(memo, ".").concat(name), _error);\n        }, \'error\');\n      }\n\n      this.emit(\'error\', _error);\n      return reject(_error);\n    }\n  }, {\n    key: "Calculations",\n    get: function get() {\n      throw new Error(\'Not implemented\');\n    }\n  }, {\n    key: "PRICING_METHODS",\n    get: function get() {\n      return [\'reset\', \'remove\', \'reprice\'];\n    }\n  }, {\n    key: "hasPrice",\n    get: function get() {\n      return !!this.price;\n    }\n  }, {\n    key: "totalNow",\n    get: function get() {\n      return Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_7__["default"])(this.hasPrice ? this.price.now.total : 0);\n    }\n  }, {\n    key: "subtotalPreDiscountNow",\n    get: function get() {\n      var subtotalPreDiscountNow = parseFloat(this.price.now.subtotal) + parseFloat(this.price.now.discount);\n      return Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_7__["default"])(this.hasPrice ? subtotalPreDiscountNow : 0);\n    }\n  }, {\n    key: "currencyCode",\n    get: function get() {\n      return this.items.currency || \'\';\n    }\n  }, {\n    key: "currencySymbol",\n    get: function get() {\n      return currency_symbol_map__WEBPACK_IMPORTED_MODULE_0___default()(this.currencyCode);\n    }\n  }, {\n    key: "couponCodes",\n    get: function get() {\n      if (this.items.coupon) return [this.items.coupon.code];\n      return [];\n    }\n  }]);\n\n  return Pricing;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);\n/**\n * Utility functions\n */\n\n/**\n * Finds an item within a set by its \'code\' property. Used for\n * arrayed items like subscription addons\n *\n * @param {Array} set\n * @param {String} code\n * @return {Object}\n * @private\n */\n\nfunction findByCode(set, code) {\n  return set && component_find__WEBPACK_IMPORTED_MODULE_3___default()(set, {\n    code: code\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/index.js?'
    );
  },
  "./lib/recurly/pricing/promise.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PricingPromise; });\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:pricing:promise\');\n/**\n * PricingPromise\n *\n * issues repricing when .done\n *\n * contains .then wrappers for Pricing property methods\n *\n * Usage\n *\n *   let pricing = recurly.Pricing.Subscription();\n *\n *   pricing\n *     .plan(\'basic\')\n *     .addon(\'addon1\')\n *     .then(process)\n *     .catch(errors)\n *     .done();\n *\n * @param {Function} resolver\n * @param {Pricing} pricing bound instance\n * @constructor\n * @public\n */\n\n\nvar PricingPromise = /*#__PURE__*/function (_Promise) {\n  _inherits(PricingPromise, _Promise);\n\n  var _super = _createSuper(PricingPromise);\n\n  function PricingPromise(resolver, pricing) {\n    var _this;\n\n    _classCallCheck(this, PricingPromise);\n\n    debug(\'create\');\n    _this = _super.call(this, resolver);\n    _this.pricing = pricing;\n\n    _this.constructor = function (resolver) {\n      return new PricingPromise(resolver, pricing);\n    }; // for each pricing method, create a promise wrapper method\n\n\n    pricing && pricing.PRICING_METHODS.forEach(function (met) {\n      _this[met] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _this.then(function () {\n          return pricing[met].apply(pricing, args);\n        });\n      };\n    });\n    return _this;\n  }\n  /**\n   * Adds a reprice and completes the control flow\n   *\n   * @param {Function} onFulfilled\n   * @param {Function} onRejected\n   * @return {Pricing} bound pricing instance\n   * @public\n   */\n\n\n  _createClass(PricingPromise, [{\n    key: "done",\n    value: function done() {\n      debug(\'repricing\');\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _get(_getPrototypeOf(PricingPromise.prototype), "done", this).apply(this.then(this.reprice), args);\n\n      return this.pricing;\n    }\n    /**\n     * Adds a reprice if a callback is passed\n     *\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "nodeify",\n    value: function nodeify(done) {\n      var _get2;\n\n      if (typeof done === \'function\') this.reprice();\n\n      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        args[_key3 - 1] = arguments[_key3];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(PricingPromise.prototype), "nodeify", this)).call.apply(_get2, [this, done].concat(args));\n    }\n  }]);\n\n  return PricingPromise;\n}(promise__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/promise.js?'
    );
  },
  "./lib/recurly/pricing/subscription/attachment.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Attachment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ignoreNotFound\", function() { return ignoreNotFound; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ \"./node_modules/promise/index.js\");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-find */ \"./node_modules/component-find/index.js\");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/dom */ \"./lib/util/dom.js\");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:pricing:attachment');\n\nvar INIT_RUN = 'init-all';\n/**\n * bind a dom element to pricing values\n *\n * @param {SubscriptionPricing} pricing\n * @param {HTMLElement} container Element on which to attach\n */\n\nvar Attachment = /*#__PURE__*/function (_Emitter) {\n  _inherits(Attachment, _Emitter);\n\n  var _super = _createSuper(Attachment);\n\n  function Attachment(pricing, container) {\n    var _this;\n\n    _classCallCheck(this, Attachment);\n\n    _this = _super.call(this);\n    _this.pricing = pricing;\n    _this.container = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.element(container);\n    if (!_this.container) throw new Error('invalid dom element');\n    _this.change = _this.change.bind(_assertThisInitialized(_this));\n    _this.update = _this.update.bind(_assertThisInitialized(_this));\n\n    _this.pricing.on('change', _this.update);\n\n    _this.elements.all.forEach(function (elem) {\n      elem.addEventListener('change', _this.change);\n      elem.addEventListener('propertychange', _this.change);\n    });\n\n    _this.change(INIT_RUN);\n\n    return _this;\n  }\n\n  _createClass(Attachment, [{\n    key: \"change\",\n\n    /**\n     * Handles input element changes\n     */\n    value: function change(event) {\n      var _this2 = this;\n\n      debug('change');\n      var elems = this.elements;\n      var target = event.target || event.srcElement;\n      var targetName = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(target, 'recurly');\n\n      var updating = function updating(name) {\n        return name in elems && event === INIT_RUN || targetName === name;\n      };\n\n      var updateAddon = elems.addon && updating('addon');\n      var updateAddress = updating('country') || updating('postal_code');\n      var updateCurrency = updating('currency');\n      var updateCoupon = elems.coupon && (updating('coupon') || updating('plan'));\n      var updateGiftcard = elems.gift_card && updating('gift_card');\n      var updateShippingAddress = updating('shipping_address.country') || updating('shipping_address.postal_code');\n      var updateTax = ['vat_number', 'tax_code', 'tax_amount.now', 'tax_amount.next'].some(updating);\n      var pricing = this.pricing.plan(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan), {\n        quantity: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_quantity)\n      });\n\n      if (updateCurrency) {\n        pricing = pricing.currency(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency));\n      }\n\n      if (updateAddon) {\n        pricing = pricing.then(function () {\n          return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(elems.addon.map(function (elem) {\n            var plan = _this2.pricing.items.plan;\n            var code = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon');\n            var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem);\n\n            if (plan.addons && component_find__WEBPACK_IMPORTED_MODULE_2___default()(plan.addons, {\n              code: code\n            })) {\n              return _this2.pricing.addon(code, {\n                quantity: quantity\n              });\n            }\n          }));\n        });\n      }\n\n      if (updateCoupon) {\n        pricing = pricing.coupon(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.coupon).trim()).then(null, ignoreNotFound);\n      }\n\n      if (updateGiftcard) {\n        pricing = pricing.giftcard(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.gift_card).trim()).then(null, ignoreNotFound);\n      }\n\n      if (updateAddress) {\n        pricing = pricing.address({\n          country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.country),\n          postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.postal_code)\n        });\n      }\n\n      if (updateShippingAddress) {\n        pricing = pricing.shippingAddress({\n          country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.country']),\n          postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.postal_code'])\n        });\n      }\n\n      if (updateTax) {\n        var taxParams = {\n          vatNumber: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.vat_number),\n          taxCode: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.tax_code)\n        };\n\n        if (elems['tax_amount.now'] || elems['tax_amount.next']) {\n          taxParams.amount = {\n            now: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.now']) || 0,\n            next: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.next']) || 0\n          };\n        }\n\n        pricing = pricing.tax(taxParams);\n      }\n\n      this.pricing = pricing.done(function () {\n        return event === INIT_RUN && _this2.emit('ready');\n      });\n    }\n    /**\n     * Updates output elements\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(price) {\n      var elems = this.elements;\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_code, price.currency.code);\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_symbol, price.currency.symbol);\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_base, price.base.plan.unit);\n      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_interval, price.base.plan.interval);\n      ['plan', 'addons', 'discount', 'setup_fee', 'subtotal', 'tax', 'total', 'gift_card'].forEach(function (value) {\n        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_now'], price.now[value]);\n        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_next'], price.next[value]);\n      });\n\n      if (elems.addon_price) {\n        elems.addon_price.forEach(function (elem) {\n          var addonPrice = price.base.addons[_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon')];\n          if (addonPrice) _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem, addonPrice);\n        });\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _this3 = this;\n\n      this.pricing.off('change', this.update);\n      this.elements.all.forEach(function (elem) {\n        elem.removeEventListener('change', _this3.change);\n        elem.removeEventListener('propertychange', _this3.change);\n      });\n    }\n  }, {\n    key: \"elements\",\n    get: function get() {\n      if (this._elements) return this._elements;\n      var elements = {\n        all: [].slice.call(this.container.querySelectorAll('[data-recurly]'))\n      };\n      elements.all.forEach(function (node) {\n        var name = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(node, 'recurly');\n        if (!(name in elements)) elements[name] = [];\n        elements[name].push(node);\n      });\n      this._elements = elements;\n      return elements;\n    }\n  }]);\n\n  return Attachment;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n\nfunction ignoreNotFound(err) {\n  if (err.code === 'not-found') return;else throw err;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/subscription/attachment.js?"
    );
  },
  "./lib/recurly/pricing/subscription/calculations.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Calculations; });\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");\n/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/decimalize-member */ "./lib/util/decimalize-member.js");\n/* harmony import */ var _util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/tax-ceil */ "./lib/util/tax-ceil.js");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * Subscription pricing calculation handler\n *\n * @param {SubscriptionPricing} pricing\n * @constructor\n * @public\n */\n\nvar Calculations = /*#__PURE__*/function () {\n  function Calculations(pricing, done) {\n    _classCallCheck(this, Calculations);\n\n    this.pricing = pricing;\n    this.items = pricing.items;\n    this.price = {\n      now: {},\n      next: {},\n      base: {\n        plan: {},\n        addons: {}\n      },\n      addons: {},\n      // DEPRECATED\n      currency: {\n        code: this.pricing.currencyCode,\n        symbol: this.pricing.currencySymbol\n      },\n      taxes: []\n    };\n    this.subtotal();\n    this.tax(function () {\n      this.total();\n      this.giftCard();\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.base.plan, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.base.plan);\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.base.addons, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.base.addons);\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.addons, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.addons); // DEPRECATED\n\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.now, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.now);\n      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.next, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.next);\n      done(this.price);\n    });\n  }\n  /**\n   * Calculates subtotal\n   *\n   * @private\n   */\n\n\n  _createClass(Calculations, [{\n    key: "subtotal",\n    value: function subtotal() {\n      this.price.now.subtotal = 0;\n      this.price.next.subtotal = 0;\n      this.plan();\n      this.price.now.subtotal += this.price.now.plan;\n      this.price.next.subtotal += this.price.next.plan;\n      this.addons();\n      this.price.now.subtotal += this.price.now.addons;\n      this.price.next.subtotal += this.price.next.addons;\n      this.setupFee();\n      this.discount();\n      this.price.now.subtotal -= this.price.now.discount;\n      this.price.next.subtotal -= this.price.next.discount;\n      this.price.now.subtotal += this.price.now.setup_fee;\n    }\n    /**\n     * Calculates total\n     *\n     * @private\n     */\n\n  }, {\n    key: "total",\n    value: function total() {\n      this.price.now.total = this.price.now.subtotal + this.price.now.tax;\n      this.price.next.total = this.price.next.subtotal + this.price.next.tax;\n    }\n    /**\n     * Calculates tax\n     *\n     * tax info precedence: `tax` > `shipping_address` > `address`\n     *\n     * @param {Function} done\n     * @private\n     */\n\n  }, {\n    key: "tax",\n    value: function tax(done) {\n      var _this = this;\n\n      this.price.now.tax = 0;\n      this.price.next.tax = 0; // If tax amount has been specified, simply apply it\n\n      if (this.items.tax && this.items.tax.amount) {\n        this.price.now.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(this.items.tax.amount.now);\n        this.price.next.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(this.items.tax.amount.next);\n        return done.call(this);\n      } // Tax the shipping address if present, or\n\n\n      var taxAddress = this.items.shipping_address || this.items.address;\n\n      var taxInfo = _extends({}, taxAddress, this.items.tax);\n\n      if (!lodash_isempty__WEBPACK_IMPORTED_MODULE_2___default()(taxInfo)) {\n        this.pricing.recurly.tax(taxInfo, function (err, taxes) {\n          if (err) {\n            _this.pricing.emit(\'error\', err);\n          } else {\n            _this.price.taxes = [];\n            component_each__WEBPACK_IMPORTED_MODULE_0___default()(taxes, function (tax) {\n              if (_this.pricing.taxExempt) return;\n              _this.price.now.tax += parseFloat((_this.price.now.subtotal * tax.rate).toFixed(6));\n              _this.price.next.tax += parseFloat((_this.price.next.subtotal * tax.rate).toFixed(6)); // If we have taxes, we may want to display the rate...\n              // push the taxes so we know what they are...\n\n              _this.price.taxes.push(tax);\n            }); // tax estimation prefers partial cents to always round up\n\n            _this.price.now.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.price.now.tax);\n            _this.price.next.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.price.next.tax);\n          }\n\n          done.call(_this);\n        });\n      } else {\n        done.call(this);\n      }\n    }\n    /**\n     * Computes plan prices\n     *\n     * @private\n     */\n\n  }, {\n    key: "plan",\n    value: function plan() {\n      this.price.now.plan = 0;\n      this.price.next.plan = 0;\n      if (!this.items.plan) return;\n      var base = this.items.plan.price[this.items.currency];\n      this.price.base.plan.unit = base.unit_amount;\n      this.price.base.plan.setup_fee = base.setup_fee;\n      var amount = this.planPrice().amount;\n      this.price.now.plan = amount;\n      this.price.next.plan = amount;\n      if (this.isTrial()) this.price.now.plan = 0;\n    }\n    /**\n     * Computes addon prices and applies addons to the subtotal\n     *\n     * @private\n     */\n\n  }, {\n    key: "addons",\n    value: function addons() {\n      var _this2 = this;\n\n      this.price.now.addons = 0;\n      this.price.next.addons = 0;\n      if (!this.items.plan) return;\n      if (!Array.isArray(this.items.plan.addons)) return;\n      this.items.plan.addons.forEach(function (addon) {\n        // exclude usage addons\n        if (addon.add_on_type !== \'fixed\') return;\n        var price = addon.price[_this2.items.currency].unit_amount;\n        _this2.price.base.addons[addon.code] = price;\n        _this2.price.addons[addon.code] = price; // DEPRECATED\n\n        var selected = component_find__WEBPACK_IMPORTED_MODULE_1___default()(_this2.items.addons, {\n          code: addon.code\n        });\n\n        if (selected) {\n          price = price * selected.quantity;\n          if (!_this2.isTrial()) _this2.price.now.addons += price;\n          _this2.price.next.addons += price;\n        }\n      });\n    }\n    /**\n     * Applies coupon discount to the subtotal\n     *\n     * @private\n     */\n\n  }, {\n    key: "discount",\n    value: function discount() {\n      var coupon = this.items.coupon;\n      this.price.now.discount = 0;\n      this.price.next.discount = 0;\n      if (!coupon) return;\n\n      if (coupon.discount.rate) {\n        var discountNow = parseFloat((this.price.now.subtotal * coupon.discount.rate).toFixed(6));\n        var discountNext = parseFloat((this.price.next.subtotal * coupon.discount.rate).toFixed(6));\n        this.price.now.discount = Math.round(discountNow * 100) / 100;\n        this.price.next.discount = Math.round(discountNext * 100) / 100;\n      } else if (coupon.discount.type === \'free_trial\') {// Handled in separate trial logic\n      } else {\n        var discountableNow = this.price.now.subtotal + this.price.now.setup_fee;\n        var discountableNext = this.price.next.subtotal;\n        this.price.now.discount = Math.min(discountableNow, coupon.discount.amount[this.items.currency]);\n        this.price.next.discount = Math.min(discountableNext, coupon.discount.amount[this.items.currency]);\n      }\n\n      if (coupon.single_use && this.price.now.discount > 0) this.price.next.discount = 0;\n    }\n    /**\n     * Applies plan setup fee to the subtotal\n     *\n     * @private\n     */\n\n  }, {\n    key: "setupFee",\n    value: function setupFee() {\n      this.price.now.setup_fee = this.planPrice().setup_fee;\n      this.price.next.setup_fee = 0;\n    }\n    /**\n     * Subtracts any giftcard value from the total\n     *\n     * @private\n     */\n\n  }, {\n    key: "giftCard",\n    value: function giftCard() {\n      if (this.pricing.items.gift_card) {\n        var nowTotal = this.price.now.total;\n        var nextTotal = this.price.next.total;\n        var giftcardNow = useGiftcard(nowTotal, this.pricing.items.gift_card.unit_amount);\n        var giftcardNext = useGiftcard(nextTotal, giftcardNow.remains);\n        this.price.now.gift_card = giftcardNow.used;\n        this.price.next.gift_card = giftcardNext.used;\n        this.price.now.total = nowTotal - giftcardNow.used;\n        this.price.next.total = nextTotal - giftcardNext.used;\n      }\n\n      function useGiftcard(price, giftcardValue) {\n        var used = 0;\n        var remains = 0;\n\n        if (giftcardValue > price) {\n          used = price;\n          remains = giftcardValue - price;\n        } else {\n          used = giftcardValue;\n        }\n\n        return {\n          used: used,\n          remains: remains\n        };\n      }\n    }\n    /**\n     * Get the price structure of the current plan on the current currency\n     *\n     * @return {Object} { amount, setup_fee }\n     * @private\n     */\n\n  }, {\n    key: "planPrice",\n    value: function planPrice() {\n      var plan = this.items.plan;\n      if (!plan) return {\n        amount: 0,\n        setup_fee: 0\n      };\n      var price = plan.price[this.items.currency];\n      price.amount = price.unit_amount * (plan.quantity || 1);\n      return price;\n    }\n  }, {\n    key: "isTrial",\n    value: function isTrial() {\n      var coupon = this.items.coupon;\n      if (coupon && coupon.discount.type === \'free_trial\') return true;\n      return this.items.plan.trial;\n    }\n  }]);\n\n  return Calculations;\n}();\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/subscription/calculations.js?'
    );
  },
  "./lib/recurly/pricing/subscription/embedded.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISABLED_METHODS", function() { return DISABLED_METHODS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFERRED_METHODS", function() { return DEFERRED_METHODS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EmbeddedSubscriptionPricing; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../promise */ "./lib/recurly/pricing/promise.js");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ */ "./lib/recurly/pricing/subscription/index.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // this isn\'t being used but maybe needs to be in scope?\n// eslint-disable-next-line\n\n\nvar DISABLED_METHODS = [\'address\', \'coupon\', \'currency\', \'giftcard\', \'shippingAddress\', \'bindReporting\'];\nvar DEFERRED_METHODS = [\'couponIsValidForSubscription\'];\n/**\n * Wraps a SubscriptionPricing to be embedded in CheckoutPricing\n *\n * - disables impertinent methods on the original subscriptionPricing\n *   in place\n * - proxies the orignal methods on the new\n *   EmbeddedSubscriptionPricing instance\n *\n * @param {SubscriptionPricing} subscriptionPricing\n * @constructor\n */\n\nvar EmbeddedSubscriptionPricing = /*#__PURE__*/function () {\n  function EmbeddedSubscriptionPricing(subscriptionPricing, checkoutPricing) {\n    var _this = this;\n\n    _classCallCheck(this, EmbeddedSubscriptionPricing);\n\n    this.subscription = subscriptionPricing;\n    this.checkout = checkoutPricing;\n    DISABLED_METHODS.forEach(function (method) {\n      var original = subscriptionPricing[method];\n      subscriptionPricing[method] = disabledResolverFactory(method, subscriptionPricing);\n      _this[method] = original.bind(subscriptionPricing);\n    });\n    DEFERRED_METHODS.forEach(function (method) {\n      _this[method] = function () {\n        return subscriptionPricing[method].apply(subscriptionPricing, arguments);\n      };\n    });\n    subscriptionPricing.plan = this.plan.bind(this);\n  }\n\n  _createClass(EmbeddedSubscriptionPricing, [{\n    key: "plan",\n\n    /**\n     * Plan setter\n     *\n     * - Overrides SubscriptionPricing.plan\n     * - Adds additional currency check before setting plan\n     * - Adds checkout currency resolution after the plan is set\n     *\n     * @param {String} planCode\n     * @param {Object} [meta]\n     * @param {Number} [meta.quantity]\n     * @param {Function} [done] callback\n     * @return {PricingPromise}\n     */\n    value: function plan() {\n      var _this$subscription,\n          _this2 = this;\n\n      var _this$subscription$re = (_this$subscription = this.subscription).resolvePlanOptions.apply(_this$subscription, arguments),\n          currentPlan = _this$subscription$re.currentPlan,\n          quantity = _this$subscription$re.quantity,\n          planCode = _this$subscription$re.planCode,\n          done = _this$subscription$re.done;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_1__["default"](function (resolve, reject) {\n        if (currentPlan && currentPlan.code === planCode) {\n          currentPlan.quantity = quantity;\n          return resolve(currentPlan);\n        }\n\n        _this2.checkout.recurly.plan(planCode, function (err, plan) {\n          if (err) return _this2.subscription.error(err, reject, \'plan\'); // Check if the new plan will resolve with the checkout currencies\n\n          if (_this2.checkout.items.subscriptions.length > 1) {\n            try {\n              _this2.checkout.resolveCurrency(Object.keys(plan.price), {\n                commit: false\n              });\n            } catch (err) {\n              return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])(\'invalid-plan-currency\', {\n                planCode: plan.code,\n                currencies: _this2.checkout.subscriptionCurrencies\n              }));\n            }\n          }\n\n          plan.quantity = quantity;\n          _this2.subscription.items.plan = plan;\n\n          var finish = function finish() {\n            _this2.subscription.emit(\'set.plan\', plan);\n\n            resolve(plan);\n          };\n\n          if (_this2.checkout.currencyCode in plan.price) {\n            finish();\n          } else {\n            // update currencies on checkout, which will propagate the\n            // change to the subscriptions\n            try {\n              _this2.checkout.resolveCurrency(Object.keys(plan.price)).then(finish);\n            } catch (e) {\n              reject(err);\n            }\n          }\n        });\n      }, this.subscription).nodeify(done);\n    }\n  }, {\n    key: "id",\n    get: function get() {\n      return this.subscription.id;\n    }\n  }, {\n    key: "isValid",\n    get: function get() {\n      return this.subscription.isValid;\n    }\n  }, {\n    key: "items",\n    get: function get() {\n      return this.subscription.items;\n    }\n  }, {\n    key: "price",\n    get: function get() {\n      return this.subscription.price;\n    }\n  }, {\n    key: "taxCode",\n    get: function get() {\n      return this.subscription.taxCode;\n    }\n  }, {\n    key: "taxExempt",\n    get: function get() {\n      return this.subscription.taxExempt;\n    }\n  }]);\n\n  return EmbeddedSubscriptionPricing;\n}();\n\n\n\nfunction disabledResolverFactory(method, subscriptionPricing) {\n  return function () {\n    return new _promise__WEBPACK_IMPORTED_MODULE_1__["default"](function (res) {\n      return res();\n    }, subscriptionPricing);\n  };\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/subscription/embedded.js?'
    );
  },
  "./lib/recurly/pricing/subscription/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SubscriptionPricing; });\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");\n/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/uid */ "./lib/util/uid.js");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ */ "./lib/recurly/pricing/index.js");\n/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../promise */ "./lib/recurly/pricing/promise.js");\n/* harmony import */ var _calculations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./calculations */ "./lib/recurly/pricing/subscription/calculations.js");\n/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attachment */ "./lib/recurly/pricing/subscription/attachment.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../errors */ "./lib/recurly/errors.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:pricing:subscription-pricing\');\n/**\n * SubscriptionPricing\n *\n * @constructor\n * @param {Recurly} recurly\n * @public\n */\n\n\nvar SubscriptionPricing = /*#__PURE__*/function (_Pricing) {\n  _inherits(SubscriptionPricing, _Pricing);\n\n  var _super = _createSuper(SubscriptionPricing);\n\n  function SubscriptionPricing(recurly) {\n    var _this;\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$id = _ref.id,\n        id = _ref$id === void 0 ? Object(_util_uid__WEBPACK_IMPORTED_MODULE_1__["default"])() : _ref$id;\n\n    _classCallCheck(this, SubscriptionPricing);\n\n    _this = _super.call(this, recurly);\n    _this.id = id;\n    _this.debug = debug;\n\n    _this.recurly.report(\'pricing:subscription:create\');\n\n    return _this;\n  }\n\n  _createClass(SubscriptionPricing, [{\n    key: "reset",\n    value: function reset() {\n      _get(_getPrototypeOf(SubscriptionPricing.prototype), "reset", this).call(this);\n\n      this.items.addons = [];\n    }\n    /**\n     * Attachment factory\n     *\n     * @param {HTMLElement} container - element on which to attach\n     */\n\n  }, {\n    key: "attach",\n    value: function attach(container) {\n      var _this2 = this;\n\n      if (this.attachment) this.attachment.detach();\n      this.attachment = new _attachment__WEBPACK_IMPORTED_MODULE_5__["default"](this, container);\n      this.attachment.once(\'ready\', function () {\n        return _this2.emit(\'attached\');\n      });\n      return this.attachment;\n    }\n    /**\n     * Updates plan\n     *\n     * @param {String} planCode\n     * @param {Object} [meta]\n     * @param {Number} [meta.quantity]\n     * @param {Function} [done] callback\n     * @return {PricingPromise}\n     * @public\n     */\n\n  }, {\n    key: "plan",\n    value: function plan() {\n      var _this3 = this;\n\n      var _this$resolvePlanOpti = this.resolvePlanOptions.apply(this, arguments),\n          currentPlan = _this$resolvePlanOpti.currentPlan,\n          quantity = _this$resolvePlanOpti.quantity,\n          planCode = _this$resolvePlanOpti.planCode,\n          done = _this$resolvePlanOpti.done;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n        if (currentPlan && currentPlan.code === planCode) {\n          currentPlan.quantity = quantity;\n          return resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(currentPlan));\n        }\n\n        _this3.recurly.plan(planCode, function (err, plan) {\n          if (err) return _this3.error(err, reject, \'plan\');\n          plan.quantity = quantity;\n          _this3.items.plan = plan;\n\n          if (!(_this3.items.currency in plan.price)) {\n            _this3.currency(Object.keys(plan.price)[0]);\n          }\n\n          var finish = function finish() {\n            return _this3.resolveAndEmit(\'set.plan\', plan, resolve);\n          }; // If we have a coupon, it must be reapplied\n\n\n          if (_this3.items.coupon) {\n            _this3.coupon(_this3.items.coupon.code).then(finish, finish);\n          } else {\n            finish();\n          }\n        });\n      }, this).nodeify(done);\n    }\n    /**\n     * Updates addon\n     *\n     * @param {String} addonCode\n     * @param {Object} [meta]\n     * @param {Number} [meta.quantity]\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "addon",\n    value: function addon(addonCode, meta, done) {\n      var _this4 = this;\n\n      if (typeof meta === \'function\') {\n        done = meta;\n        meta = undefined;\n      }\n\n      meta = meta || {};\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n        if (!_this4.items.plan) return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'missing-plan\'), reject, \'addon\');\n        var planAddon = Object(___WEBPACK_IMPORTED_MODULE_2__["findByCode"])(_this4.items.plan.addons, addonCode);\n\n        if (!planAddon) {\n          return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'invalid-addon\', {\n            planCode: _this4.items.plan.code,\n            addonCode: addonCode\n          }), reject, \'addon\');\n        }\n\n        var quantity = addonQuantity(meta, planAddon);\n        var addon = Object(___WEBPACK_IMPORTED_MODULE_2__["findByCode"])(_this4.items.addons, addonCode);\n\n        if (quantity === 0) {\n          _this4.remove({\n            addons: addonCode\n          });\n        }\n\n        if (addon) {\n          addon.quantity = quantity;\n        } else {\n          addon = JSON.parse(JSON.stringify(planAddon));\n          addon.quantity = quantity;\n\n          _this4.items.addons.push(addon);\n        }\n\n        _this4.resolveAndEmit(\'set.addon\', addon, resolve);\n      }, this).nodeify(done);\n    }\n    /**\n    * Updates Gift card\n    *\n    * @param {String} code\n    * @param {Function} [done] callback\n    * @public\n    */\n\n  }, {\n    key: "giftcard",\n    value: function giftcard(code, done) {\n      var self = this;\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n        unsetGiftcard();\n        if (!code) return resolve();\n        self.recurly.giftCard({\n          code: code\n        }, function (err, gift_card) {\n          if (err && err.code === \'not-found\') unsetGiftcard();\n\n          if (err) {\n            return self.error(err, reject, \'gift_card\');\n          } else {\n            if (self.items.currency !== gift_card.currency) {\n              unsetGiftcard();\n              return self.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'gift-card-currency-mismatch\'), reject, \'gift_card\');\n            } else {\n              self.items.gift_card = gift_card;\n              self.resolveAndEmit(\'set.gift_card\', gift_card, resolve);\n            }\n          }\n        });\n      }, this).nodeify(done);\n\n      function unsetGiftcard() {\n        debug(\'unset.gift_card\');\n        delete self.items.gift_card;\n        self.emit(\'unset.gift_card\');\n      }\n    }\n    /**\n     * Updates coupon\n     *\n     * `set.coupon` is emitted when a valid coupon is set\n     * `unset.coupon` is emitted when an existing valid coupon is removed\n     * `error.coupon` is emitted when the requested coupon is invalid\n     *\n     * @param {String} newCoupon coupon code\n     * @param {Object} newCoupon coupon object\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "coupon",\n    value: function coupon(newCoupon, done) {\n      var _this5 = this;\n\n      // If the new coupon matches the current one, we just need to ensure it\n      // still applies to the current plan\n      if (~this.couponCodes.indexOf(newCoupon)) {\n        return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n          if (!_this5.couponIsValidForSubscription(_this5.items.coupon)) {\n            _this5.removeCurrentCoupon();\n\n            return _this5.error(\'invalid-coupon-for-subscription\', reject, \'coupon\');\n          }\n\n          resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this5.items.coupon));\n        }, this);\n      }\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n        if (!_this5.items.plan) return _this5.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'missing-plan\'), reject, \'coupon\');\n        if (_this5.items.coupon) _this5.removeCurrentCoupon(); // A blank coupon is handled as ok\n\n        if (!newCoupon) return resolve();\n\n        var receiveCoupon = function receiveCoupon(err, coupon) {\n          if (err) {\n            return _this5.error(err, reject, \'coupon\');\n          }\n\n          if (!_this5.couponIsValidForSubscription(coupon)) {\n            return _this5.error(\'invalid-coupon-for-subscription\', reject, \'coupon\');\n          } else {\n            _this5.items.coupon = coupon;\n\n            _this5.resolveAndEmit(\'set.coupon\', coupon, resolve);\n          }\n        };\n\n        if (typeof newCoupon === \'string\') {\n          _this5.recurly.coupon({\n            plan: _this5.items.plan.code,\n            coupon: newCoupon\n          }, receiveCoupon);\n        } else {\n          receiveCoupon(null, newCoupon);\n        }\n      }, this).nodeify(done);\n    }\n    /**\n     * Updates address\n     *\n     * @param {Object} address\n     * @param {String} address.country\n     * @param {String|Number} address.postal_code\n     * @param {String} address.vat_number\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "address",\n    value: function address(_address, done) {\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory(\'address\', _address), this).nodeify(done);\n    }\n    /**\n     * Updates shipping address\n     *\n     * @param {Object} address\n     * @param {String} address.country\n     * @param {String|Number} address.postal_code\n     * @param {String} address.vat_number\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "shippingAddress",\n    value: function shippingAddress(address, done) {\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory(\'shipping_address\', address), this).nodeify(done);\n    }\n    /**\n     * Updates tax info\n     *\n     * @param {Object} tax\n     * @param {String} tax.taxCode\n     * @param {String} tax.vatNmber\n     * @param {Object} [tax.amounts] specific tax amounts. Overrides automated tax rate calculations\n     * @param {Object} [tax.amounts.now] specific tax to apply on the immediate charge\n     * @param {Object} [tax.amounts.next] specific tax to apply on the next billing cycle\n     * @param {String} tax.tax_code // deprecated\n     * @param {String} tax.vat_number // deprecated\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "tax",\n    value: function tax(_tax, done) {\n      this.guardTaxSignature(_tax);\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory(\'tax\', _tax), this).nodeify(done);\n    }\n    /**\n     * Updates or retrieves currency code\n     *\n     * @param {String} code\n     * @param {Function} [done] callback\n     * @public\n     */\n\n  }, {\n    key: "currency",\n    value: function currency(code, done) {\n      var _this6 = this;\n\n      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {\n        var plan = _this6.items.plan;\n        if (_this6.items.currency === code) return resolve(_this6.items.currency);\n\n        if (plan && !(code in plan.price)) {\n          return _this6.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(\'invalid-currency\', {\n            currency: code,\n            allowed: Object.keys(plan.price)\n          }), reject, \'currency\');\n        }\n\n        _this6.items.currency = code;\n\n        _this6.resolveAndEmit(\'set.currency\', code, resolve);\n      }, this).nodeify(done);\n    }\n    /**\n     * Checks whether a given coupon may apply to this subscription\n     * @param  {Object} coupon\n     * @return {Boolean}\n     * @private\n     */\n\n  }, {\n    key: "couponIsValidForSubscription",\n    value: function couponIsValidForSubscription(coupon) {\n      if (!coupon) return false;\n      if (!coupon.applies_to_plans) return false;\n      if (coupon.applies_to_all_plans) return true;\n      if (~coupon.plans.indexOf(this.items.plan.code)) return true;\n      return false;\n    }\n    /**\n     * Removes the current coupon\n     *\n     * emits `unset.coupon`\n     *\n     * @private\n     */\n\n  }, {\n    key: "removeCurrentCoupon",\n    value: function removeCurrentCoupon() {\n      var _this7 = this;\n\n      if (!this.items.coupon) return;\n      var currentCoupon = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(this.items.coupon);\n      debug(\'unset.coupon\');\n      this.remove({\n        coupon: currentCoupon.code\n      }).then(function () {\n        return _this7.emit(\'unset.coupon\', currentCoupon);\n      });\n    }\n    /**\n     * Parses plan method options\n     *\n     * @param  {String}   planCode\n     * @param  {Object}   [options]\n     * @param  {Function} done\n     * @return {object}\n     * @private\n     */\n\n  }, {\n    key: "resolvePlanOptions",\n    value: function resolvePlanOptions(planCode) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var done = arguments.length > 2 ? arguments[2] : undefined;\n      var plan = this.items.plan;\n      var quantity;\n\n      if (typeof options === \'function\') {\n        done = options;\n        options = {};\n      } // options.quantity, plan.quantity, 1\n\n\n      if (plan && plan.quantity) quantity = plan.quantity;\n      if (options.quantity) quantity = parseInt(options.quantity, 10);\n      if (!quantity || quantity < 1) quantity = 1;\n      return {\n        currentPlan: plan,\n        quantity: quantity,\n        planCode: planCode,\n        options: options,\n        done: done\n      };\n    }\n    /**\n     * Binds important events to the EventDispatcher\n     *\n     * @protected\n     */\n\n  }, {\n    key: "bindReporting",\n    value: function bindReporting() {\n      var _this8 = this;\n\n      _get(_getPrototypeOf(SubscriptionPricing.prototype), "bindReporting", this).call(this, \'pricing:subscription\');\n\n      var report = function report() {\n        var _this8$recurly;\n\n        return (_this8$recurly = _this8.recurly).report.apply(_this8$recurly, arguments);\n      };\n\n      this.on(\'attached\', function () {\n        return report(\'pricing:subscription:attached\');\n      });\n      this.on(\'change:external\', function (price) {\n        return report(\'pricing:subscription:change\', {\n          price: {\n            addons: price.now.addons,\n            couponCodes: _this8.couponCodes,\n            currency: _this8.currencyCode,\n            discount: price.now.discount,\n            giftCard: price.now.gift_card,\n            taxes: price.now.taxes,\n            total: price.now.total,\n            totalNext: price.next.total\n          }\n        });\n      });\n    }\n  }, {\n    key: "Calculations",\n    get: function get() {\n      return _calculations__WEBPACK_IMPORTED_MODULE_4__["default"];\n    }\n  }, {\n    key: "PRICING_METHODS",\n    get: function get() {\n      return _get(_getPrototypeOf(SubscriptionPricing.prototype), "PRICING_METHODS", this).concat([\'addon\', \'address\', \'coupon\', \'currency\', \'giftcard\', \'plan\', \'shippingAddress\', \'tax\']);\n    }\n  }, {\n    key: "isValid",\n    get: function get() {\n      return !!(this.items.plan && this.price);\n    }\n  }, {\n    key: "taxCode",\n    get: function get() {\n      // eslint-disable-next-line\n      if (!this.items.tax) return;\n      return this.items.tax.taxCode || this.items.tax.tax_code;\n    }\n  }, {\n    key: "taxExempt",\n    get: function get() {\n      return this.items.plan && this.items.plan.tax_exempt;\n    }\n  }]);\n\n  return SubscriptionPricing;\n}(___WEBPACK_IMPORTED_MODULE_2__["Pricing"]);\n\n\n\nfunction addonQuantity(meta, planAddon) {\n  var qty = 1;\n  if (\'quantity\' in planAddon) qty = planAddon.quantity;\n  if (\'quantity\' in meta) qty = meta.quantity;\n  return parseInt(qty, 10) || 0;\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/pricing/subscription/index.js?'
    );
  },
  "./lib/recurly/reporter.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Reporter", function() { return Reporter; });\n/* harmony import */ var _worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./worker */ "./lib/recurly/worker.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:reporter\');\n/**\n * Reports events to the API\n *\n * @param {Object} options\n * @param {Recurly} options.recurly\n */\n\n\nvar Reporter = /*#__PURE__*/function () {\n  function Reporter(_ref) {\n    var recurly = _ref.recurly;\n\n    _classCallCheck(this, Reporter);\n\n    this.pool = [];\n    this.recurly = recurly;\n    if (!this.shouldDispatch) return;\n    this.worker = new _worker__WEBPACK_IMPORTED_MODULE_0__["IntervalWorker"]({\n      perform: this.deliver.bind(this)\n    });\n\n    try {\n      this.worker.start();\n    } catch (err) {\n      debug(\'Error starting worker\', err);\n    }\n  }\n  /**\n   * Sends a reporting event to be dispatched\n   *\n   * @param  {String} name event name\n   * @param  {Object} meta event metadata\n   */\n\n\n  _createClass(Reporter, [{\n    key: "send",\n    value: function send(name, meta) {\n      if (!this.shouldDispatch) return;\n      this.pool.push(this.payload(name, meta));\n    }\n    /**\n     * Stops the worker and removes external references\n     *\n     * @return {[type]} [description]\n     */\n\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      debug(\'destroying reporter\');\n\n      if (this.worker) {\n        this.worker.destroy();\n        delete this.worker;\n      }\n    }\n    /**\n     * Whether events should be dispatched\n     *\n     * @return {Boolean}\n     * @private\n     */\n\n  }, {\n    key: "deliver",\n\n    /**\n     * Delivery job. Sends events in a queued request to the events endpoint\n     *\n     * @private\n     */\n    value: function deliver() {\n      if (this.pool.length === 0) return;\n      var data = {\n        events: this.pool.splice(0, this.pool.length)\n      };\n      this.recurly.request.queued({\n        method: \'post\',\n        route: \'/events\',\n        data: data\n      });\n    }\n    /**\n     * Formats an event payload\n     *\n     * @param {String} name event name\n     * @param {Object} [meta] event metadata\n     * @private\n     */\n\n  }, {\n    key: "payload",\n    value: function payload(name, meta) {\n      return {\n        name: name,\n        meta: meta,\n        occurredAt: new Date().toISOString()\n      };\n    }\n  }, {\n    key: "shouldDispatch",\n    get: function get() {\n      return this.recurly.isParent;\n    }\n  }]);\n\n  return Reporter;\n}();\n\n//# sourceURL=webpack://recurly/./lib/recurly/reporter.js?'
    );
  },
  "./lib/recurly/request.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Request", function() { return Request; });\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.chunk */ "./node_modules/lodash.chunk/index.js");\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/deep-assign */ "./lib/util/deep-assign.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ "./lib/recurly/errors.js");\n/* harmony import */ var jsonp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonp */ "./node_modules/jsonp/index.js");\n/* harmony import */ var jsonp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonp__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! qs */ "./node_modules/qs/lib/index.js");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_5__);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:Request\');\n/**\n * XHR/XDM Reference, according to browser environment\n */\n\n\nvar XHR = function () {\n  var XHR = window.XMLHttpRequest;\n  var XDM = window.XDomainRequest;\n  if (XHR && \'withCredentials\' in new XHR()) return XHR;\n  if (XDM) return XDM;\n}();\n\nvar NOOP = function NOOP() {};\n/**\n * @typedef {RequestOptions}\n *\n * @property {String}   route          API route (e.g.: \'/plans/my-plan\')\n * @property {Object}   data           Request payload\n * @property {Function} [done]         Response callback. Signature: done(err, res)\n * @property {Boolean}  [cached=false] Whether to cache the request\n */\n\n/**\n * Constructs and issues API requests according to\n * the Recurly /js/v1 API contract\n *\n * @param {Object} options\n * @param {Recurly} options.recurly Recurly instance\n */\n\n\nvar Request = /*#__PURE__*/function () {\n  function Request(options) {\n    _classCallCheck(this, Request);\n\n    this.recurly = options.recurly;\n    this.cache = {};\n  }\n  /**\n   * @type {Number} default is 60 seconds\n   */\n\n\n  _createClass(Request, [{\n    key: "get",\n\n    /**\n     * Performs a GET request\n     *\n     * @public\n     * @param {RequestOptions} options\n     *\n     * @return {Promise} if `done` is not passed in options\n     * @return {undefined} if `done` is passed in options -- the callback will be used instead\n     */\n    value: function get(_ref) {\n      var route = _ref.route,\n          data = _ref.data,\n          done = _ref.done,\n          cached = _ref.cached;\n      return this.requestWithCallback({\n        method: \'get\',\n        route: route,\n        data: data,\n        done: done,\n        cached: cached\n      });\n    }\n    /**\n     * Performs a POST request\n     *\n     * @public\n     * @param {RequestOptions} options\n     *\n     * @return {Promise} if `done` is not passed in options\n     * @return {undefined} if `done` is passed in options -- the callback will be used instead\n     */\n\n  }, {\n    key: "post",\n    value: function post(_ref2) {\n      var route = _ref2.route,\n          data = _ref2.data,\n          done = _ref2.done,\n          cached = _ref2.cached;\n      return this.requestWithCallback({\n        method: \'post\',\n        route: route,\n        data: data,\n        done: done,\n        cached: cached\n      });\n    }\n    /**\n     * Constructs a request with an optional callback resolve handler\n     *\n     * @private\n     * @param {RequestOptions} options\n     * @param {String}         options.method \'get\' or \'post\'\n     *\n     * @return {Promise} if `done` is not passed in options\n     * @return {undefined} if `done` is passed in options -- the callback will be used instead\n     */\n\n  }, {\n    key: "requestWithCallback",\n    value: function requestWithCallback(_ref3) {\n      var method = _ref3.method,\n          route = _ref3.route,\n          data = _ref3.data,\n          done = _ref3.done,\n          _ref3$cached = _ref3.cached,\n          cached = _ref3$cached === void 0 ? false : _ref3$cached;\n      var request = this[cached ? \'cached\' : \'request\']({\n        method: method,\n        route: route,\n        data: data\n      });\n\n      if (done) {\n        return request.done(function (res) {\n          return done(null, res);\n        }, function (err) {\n          return done(err, null);\n        });\n      }\n\n      return request;\n    }\n    /**\n     * Issues an API request\n     *\n     * @public\n     * @param {String} method\n     * @param {String} route\n     * @param {Object} [data]\n     * @throws {Error} If `configure` has not been called.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: "request",\n    value: function request(_ref4) {\n      var method = _ref4.method,\n          route = _ref4.route,\n          _ref4$data = _ref4.data,\n          data = _ref4$data === void 0 ? {} : _ref4$data;\n      debug(\'request\', method, route, data);\n\n      if (!this.isConfigured) {\n        return promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'not-configured\'));\n      }\n\n      var version = this.version,\n          key = this.key,\n          deviceId = this.deviceId,\n          sessionId = this.sessionId,\n          instanceId = this.instanceId;\n      var url = this.recurly.url(route);\n      data = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, data, {\n        version: version,\n        key: key,\n        deviceId: deviceId,\n        sessionId: sessionId,\n        instanceId: instanceId\n      });\n\n      if (this.shouldUseXHR) {\n        return this.xhr({\n          method: method,\n          url: url,\n          data: data\n        });\n      } else {\n        return this.jsonp({\n          method: method,\n          url: url,\n          data: data\n        });\n      }\n    }\n    /**\n     * Performs an API request with caching\n     */\n\n  }, {\n    key: "cached",\n    value: function cached(_ref5) {\n      var method = _ref5.method,\n          route = _ref5.route,\n          data = _ref5.data;\n      var cache = this.cache;\n      var slug = "".concat(method, "-").concat(route, "-").concat(JSON.stringify(data));\n      if (cache[slug]) return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(cache[slug]);\n      return this.request({\n        method: method,\n        route: route,\n        data: data\n      }).then(function (res) {\n        return cache[slug] = res;\n      });\n    }\n    /**\n     * Performs an API request that queues until it is able to be sent\n     */\n\n  }, {\n    key: "queued",\n    value: function queued() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (this.isConfigured) return this.request.apply(this, args);\n      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {\n        _this.recurly.once(\'configured\', function () {\n          return _this.request.apply(_this, args).then(resolve, reject);\n        });\n      });\n    }\n    /**\n     * Pipelines a request across several requests\n     *\n     * Chunks are made of `data[by]` in `size`. If any request errors,\n     * the entire pipeline errors\n     *\n     * - Ignores individual 404s\n     * - Rejects if all responses are 404s\n     * - Immediately rejects other errors\n     * - Collects and concats array responses\n     * - Resolves non-array responses with the first response\n     *\n     * @param {String} method\n     * @param {String} route\n     * @param {Object} data\n     * @param {Array} data.by must be an Array\n     * @param {String} by\n     * @param {Number} size=100\n     * @return {Promise}\n     */\n\n  }, {\n    key: "piped",\n    value: function piped(_ref6) {\n      var _this2 = this;\n\n      var _ref6$method = _ref6.method,\n          method = _ref6$method === void 0 ? \'get\' : _ref6$method,\n          route = _ref6.route,\n          _ref6$data = _ref6.data,\n          data = _ref6$data === void 0 ? {} : _ref6$data,\n          by = _ref6.by,\n          _ref6$size = _ref6.size,\n          size = _ref6$size === void 0 ? 100 : _ref6$size;\n      var chunks = lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default()(data[by], size).map(function (piece) {\n        return _extends({}, data, _defineProperty({}, by, piece));\n      });\n\n      if (chunks.length === 0) {\n        return this.request({\n          method: method,\n          route: route,\n          data: data\n        });\n      }\n\n      var ignoreNotfound = function ignoreNotfound(error) {\n        return error.code === \'not-found\' ? {\n          error: error\n        } : promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(error);\n      };\n\n      var pipeline = chunks.map(function (data) {\n        return _this2.request({\n          method: method,\n          route: route,\n          data: data\n        }).catch(ignoreNotfound);\n      });\n      return promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(pipeline).then(function (results) {\n        var successes = results.filter(function (res) {\n          return !res.error;\n        });\n\n        if (successes.length === 0) {\n          return promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(results[0].error);\n        } // Determines if any single success response is not an Array.\n        // If so, we resolve with that single response\n\n\n        var nonArraySuccess = successes.filter(function (res) {\n          return !Array.isArray(res);\n        })[0];\n        if (nonArraySuccess) return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(nonArraySuccess); // If we are left entirely with successful Array responses, resolve\n        // with a concatenated Array of them all\n\n        return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(successes.reduce(function (acc, cur) {\n          return acc.concat(cur);\n        }));\n      });\n    }\n    /**\n     * Issues an API request over xhr.\n     *\n     * @private\n     * @param {String} method\n     * @param {String} url\n     * @param {Object} [data]\n     * @return {Promise}\n     */\n\n  }, {\n    key: "xhr",\n    value: function xhr(_ref7) {\n      var _this3 = this;\n\n      var method = _ref7.method,\n          url = _ref7.url,\n          data = _ref7.data;\n      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {\n        var req = new XHR();\n        var payload = qs__WEBPACK_IMPORTED_MODULE_5___default.a.stringify(data, {\n          encodeValuesOnly: true\n        });\n        var timeout = _this3.timeout;\n\n        if (method === \'get\') {\n          url += "?".concat(payload);\n        }\n\n        req.open(method, url);\n        req.timeout = timeout;\n\n        req.ontimeout = function () {\n          return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'api-timeout\'));\n        };\n\n        req.onerror = function () {\n          return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'api-error\'));\n        };\n\n        req.onprogress = NOOP;\n\n        req.onload = function () {\n          var res;\n\n          try {\n            if (this.responseText) res = JSON.parse(this.responseText);\n          } catch (e) {\n            debug(e, this.responseText);\n            return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'api-error\', {\n              message: "There was a problem parsing the API response.\\n              request:\\n                url: ".concat(method, " ").concat(url, "\\n                body: ").concat(data, "\\n              response:\\n                body: ").concat(this.responseText)\n            }));\n          }\n\n          if (res && res.error) {\n            reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'api-error\', res.error));\n          } else {\n            resolve(res);\n          }\n        }; // XDR requests will abort if too many are sent simultaneously\n\n\n        setTimeout(function () {\n          if (method === \'post\') {\n            // XDR cannot set Content-type\n            if (req.setRequestHeader) {\n              req.setRequestHeader(\'Content-type\', \'application/x-www-form-urlencoded\');\n            }\n\n            req.send(payload);\n          } else {\n            req.send();\n          }\n        }, 0);\n      });\n    }\n    /**\n     * Issues an API request over jsonp.\n     *\n     * @private\n     * @param {String} method\n     * @param {String} url\n     * @param {Object} [data]\n     */\n\n  }, {\n    key: "jsonp",\n    value: function jsonp(_ref8) {\n      var method = _ref8.method,\n          url = _ref8.url,\n          data = _ref8.data;\n      var timeout = this.timeout;\n      if (method === \'post\') data._method = method;\n      url += "?".concat(qs__WEBPACK_IMPORTED_MODULE_5___default.a.stringify(data, {\n        encodeValuesOnly: true\n      }));\n      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {\n        jsonp__WEBPACK_IMPORTED_MODULE_3___default()(url, {\n          prefix: \'__rjs\',\n          timeout: timeout\n        }, function (err, res) {\n          if (err) return reject(err);\n\n          if (res.error) {\n            reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'api-error\', res.error));\n          } else {\n            resolve(res);\n          }\n        });\n      });\n    }\n  }, {\n    key: "timeout",\n    get: function get() {\n      return this.recurly.config.timeout || 60000;\n    }\n    /**\n     * @type {String}\n     */\n\n  }, {\n    key: "key",\n    get: function get() {\n      return this.recurly.config.publicKey;\n    }\n    /**\n     * @type {String}\n     */\n\n  }, {\n    key: "version",\n    get: function get() {\n      return this.recurly.isParent ? this.recurly.version : this.recurly.config.parentVersion;\n    }\n    /**\n     * @type {String}\n     */\n\n  }, {\n    key: "deviceId",\n    get: function get() {\n      return this.recurly.deviceId;\n    }\n    /**\n     * @type {String}\n     */\n\n  }, {\n    key: "instanceId",\n    get: function get() {\n      return this.recurly.id;\n    }\n    /**\n     * @type {String}\n     */\n\n  }, {\n    key: "sessionId",\n    get: function get() {\n      return this.recurly.sessionId;\n    }\n    /**\n     * @type {Boolean}\n     */\n\n  }, {\n    key: "shouldUseXHR",\n    get: function get() {\n      return !!this.recurly.config.cors;\n    }\n    /**\n     * @type {Boolean}\n     */\n\n  }, {\n    key: "isConfigured",\n    get: function get() {\n      return !!this.recurly.configured;\n    }\n  }]);\n\n  return Request;\n}();\n\n//# sourceURL=webpack://recurly/./lib/recurly/request.js?'
    );
  },
  "./lib/recurly/risk/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _risk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./risk */ "./lib/recurly/risk/risk.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return _risk__WEBPACK_IMPORTED_MODULE_0__["factory"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Risk", function() { return _risk__WEBPACK_IMPORTED_MODULE_0__["Risk"]; });\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/index.js?'
    );
  },
  "./lib/recurly/risk/risk-concern.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RiskConcern; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var _util_readiness_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/readiness-emitter */ "./lib/util/readiness-emitter.js");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/uid */ "./lib/util/uid.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * Risk concern management class\n *\n * @abstract\n */\n\nvar RiskConcern = /*#__PURE__*/function (_ReadinessEmitter) {\n  _inherits(RiskConcern, _ReadinessEmitter);\n\n  var _super = _createSuper(RiskConcern);\n\n  function RiskConcern(_ref) {\n    var _this;\n\n    var risk = _ref.risk;\n\n    _classCallCheck(this, RiskConcern);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), "concernName", \'base\');\n\n    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();\n    _this.risk = risk;\n\n    _this.risk.add(_assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(RiskConcern, [{\n    key: "attach",\n    // To be implemented by individual concerns\n    value: function attach() {}\n  }, {\n    key: "remove",\n    value: function remove() {}\n  }, {\n    key: "error",\n    value: function error() {\n      var err = _errors__WEBPACK_IMPORTED_MODULE_0__["default"].apply(void 0, arguments);\n      this.emit(\'error\', err);\n    }\n  }, {\n    key: "report",\n    value: function report(name, meta) {\n      var risk = this.risk,\n          concernId = this.id,\n          concernName = this.concernName;\n      risk.recurly.report("".concat(concernName, ":").concat(name), _objectSpread({\n        concernId: concernId\n      }, meta));\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.remove();\n      this.risk.remove(this);\n      this.off();\n    }\n  }, {\n    key: "recurly",\n    get: function get() {\n      return this.risk.recurly;\n    }\n  }]);\n\n  return RiskConcern;\n}(_util_readiness_emitter__WEBPACK_IMPORTED_MODULE_1__["default"]);\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/risk-concern.js?'
    );
  },
  "./lib/recurly/risk/risk.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Risk", function() { return Risk; });\n/* harmony import */ var _risk_concern__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./risk-concern */ "./lib/recurly/risk/risk-concern.js");\n/* harmony import */ var _three_d_secure__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-d-secure */ "./lib/recurly/risk/three-d-secure/index.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk\');\n\nfunction factory(options) {\n  return new Risk(_objectSpread({\n    recurly: this\n  }, options));\n}\n/**\n * Risk concerns controller\n */\n\nvar Risk = /*#__PURE__*/function () {\n  _createClass(Risk, null, [{\n    key: "preflight",\n\n    /**\n     * Retrieves preflight data and performs preflight procedures per concern\n     *\n     * Filters out any timeout results\n     *\n     * @param {Recurly} options.recurly\n     * @param {String}  options.bin     credit card BIN\n     * @return {Promise}\n     */\n    value: function preflight(_ref) {\n      var recurly = _ref.recurly,\n          bin = _ref.bin;\n      return recurly.request.get({\n        route: \'/risk/preflights\'\n      }).then(function (_ref2) {\n        var preflights = _ref2.preflights;\n        debug(\'received preflight instructions\', preflights);\n        return _three_d_secure__WEBPACK_IMPORTED_MODULE_1__["ThreeDSecure"].preflight({\n          recurly: recurly,\n          bin: bin,\n          preflights: preflights\n        });\n      }).then(function (results) {\n        return results.filter(function (maybeErr) {\n          if (maybeErr.code === \'risk-preflight-timeout\') {\n            debug(\'timeout encountered\', maybeErr);\n            return false;\n          }\n\n          return true;\n        });\n      });\n    }\n  }, {\n    key: "browserInfo",\n\n    /**\n     * Returns a set of values helpful for building a risk profile,\n     * formatted for the API\n     *\n     * @typedef {Object} BrowserInfo\n     * @property {Number} color_depth\n     * @property {Boolean} java_enabled\n     * @property {String} language\n     * @property {Number} screen_height\n     * @property {Number} screen_width\n     * @property {Number} time_zone_offset\n     * @property {String} user_agent\n     *\n     * @private\n     * @return {BrowserInfo}\n     */\n    get: function get() {\n      var _window = window,\n          navigator = _window.navigator,\n          screen = _window.screen;\n      var language = navigator.language,\n          user_agent = navigator.userAgent;\n      var color_depth = screen.colorDepth;\n      return {\n        color_depth: color_depth,\n        java_enabled: navigator.javaEnabled(),\n        language: language,\n        referrer_url: window.location.href,\n        screen_height: screen.height,\n        screen_width: screen.width,\n        time_zone_offset: new Date().getTimezoneOffset(),\n        user_agent: user_agent\n      };\n    }\n  }]);\n\n  function Risk(_ref3) {\n    var recurly = _ref3.recurly;\n\n    _classCallCheck(this, Risk);\n\n    _defineProperty(this, "ThreeDSecure", _three_d_secure__WEBPACK_IMPORTED_MODULE_1__["factory"]);\n\n    this.recurly = recurly;\n    this.concerns = [];\n  }\n  /**\n   * Adds a risk concern to the controller\n   *\n   * @private\n   * @param {RiskConcern} concern\n   */\n\n\n  _createClass(Risk, [{\n    key: "add",\n    value: function add(concern) {\n      if (!(concern instanceof _risk_concern__WEBPACK_IMPORTED_MODULE_0__["default"])) {\n        throw "Invalid concern. Expected \'RiskConcern\', got \'".concat(_typeof(concern), "\'");\n      }\n\n      this.concerns.push(concern);\n    }\n    /**\n     * Removes a risk concern from the controller\n     *\n     * @private\n     * @param {RiskConcern} concern\n     * @return {Boolean} whether the removal was successful\n     */\n\n  }, {\n    key: "remove",\n    value: function remove(concern) {\n      var concerns = this.concerns;\n      var pos = concerns.indexOf(concern);\n      var removed = ~pos && concerns.splice(pos, 1);\n      return !!removed;\n    }\n  }]);\n\n  return Risk;\n}();\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/risk.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/index.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _three_d_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three-d-secure */ "./lib/recurly/risk/three-d-secure/three-d-secure.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return _three_d_secure__WEBPACK_IMPORTED_MODULE_0__["factory"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThreeDSecure", function() { return _three_d_secure__WEBPACK_IMPORTED_MODULE_0__["ThreeDSecure"]; });\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/index.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/adyen.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AdyenStrategy; });\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\n/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../frame */ "./lib/recurly/frame.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:adyen\');\n\nvar AdyenStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(AdyenStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(AdyenStrategy);\n\n  function AdyenStrategy() {\n    var _this;\n\n    _classCallCheck(this, AdyenStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    if (!_this.shouldLoadAdyenLibrary) return _possibleConstructorReturn(_this);\n    debug(\'loading Adyen library\');\n\n    _this.loadAdyenLibrary().catch(function (cause) {\n      return _this.threeDSecure.error(\'3ds-vendor-load-error\', {\n        vendor: \'Adyen\',\n        cause: cause\n      });\n    }).then(function () {\n      _this.adyenCheckout = new window.AdyenCheckout();\n      debug(\'Adyen checkout instance created\', _this.adyenCheckout);\n\n      _this.markReady();\n    });\n\n    return _this;\n  }\n\n  _createClass(AdyenStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(AdyenStrategy.prototype), "attach", this).call(this, element);\n\n      var shouldFallback = this.shouldFallback,\n          shouldFingerprint = this.shouldFingerprint,\n          shouldChallenge = this.shouldChallenge;\n\n      if (shouldFingerprint) {\n        this.whenReady(function () {\n          return _this2.fingerprint();\n        });\n      } else if (shouldChallenge) {\n        this.whenReady(function () {\n          return _this2.challenge();\n        });\n      } else if (shouldFallback) {\n        this.fallback();\n      } else {\n        var cause = \'We could not determine an authentication method\';\n        this.threeDSecure.error(\'3ds-auth-determination-error\', {\n          cause: cause\n        });\n      }\n    }\n    /**\n     * Removes DOM elements\n     */\n\n  }, {\n    key: "remove",\n    value: function remove() {\n      var frame = this.frame;\n      if (frame) frame.destroy();\n\n      _get(_getPrototypeOf(AdyenStrategy.prototype), "remove", this).call(this);\n    }\n    /**\n     * Initiates device fingerprinting through AdyenCheckout\n     */\n\n  }, {\n    key: "fingerprint",\n    value: function fingerprint() {\n      var _this3 = this;\n\n      var adyenCheckout = this.adyenCheckout,\n          adyenFingerprintToken = this.adyenFingerprintToken,\n          container = this.container;\n      debug(\'Initializing fingerprinting with Adyen token\', adyenFingerprintToken);\n      var fingerprintService = adyenCheckout.create(\'threeDS2DeviceFingerprint\', {\n        fingerprintToken: adyenFingerprintToken,\n        onComplete: function onComplete(results) {\n          return _this3.emit(\'done\', results);\n        },\n        onError: function onError(cause) {\n          return _this3.threeDSecure.error(\'3ds-auth-error\', {\n            cause: cause\n          });\n        }\n      });\n      fingerprintService.mount(container);\n    }\n    /**\n     * Initiates a challenge through AdyenCheckout\n     */\n\n  }, {\n    key: "challenge",\n    value: function challenge() {\n      var _this4 = this;\n\n      var adyenCheckout = this.adyenCheckout,\n          adyenChallengeToken = this.adyenChallengeToken,\n          container = this.container;\n      debug(\'Initializing challenge with Adyen token\', adyenChallengeToken);\n      var challengeService = adyenCheckout.create(\'threeDS2Challenge\', {\n        challengeToken: adyenChallengeToken,\n        onComplete: function onComplete(results) {\n          return _this4.emit(\'done\', results);\n        },\n        onError: function onError(cause) {\n          return _this4.threeDSecure.error(\'3ds-auth-error\', {\n            cause: cause\n          });\n        },\n        size: \'05\'\n      });\n      challengeService.mount(container);\n    }\n    /**\n     * Constructs a 3D Secure 1.0 iframe\n     *\n     * TODO: Move this into a separate strategy, and have this strategy\n     *       instruct ThreeDSecureConcern to employ it instead\n     */\n\n  }, {\n    key: "fallback",\n    value: function fallback() {\n      var _this5 = this;\n\n      debug(\'Initiating 3D Secure 1.0 frame\');\n      var adyenRedirectParams = this.adyenRedirectParams,\n          container = this.container,\n          threeDSecure = this.threeDSecure;\n      var recurly = threeDSecure.risk.recurly;\n\n      var payload = _objectSpread({\n        redirect_url: adyenRedirectParams.url\n      }, adyenRedirectParams.data);\n\n      this.frame = recurly.Frame({\n        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,\n        path: \'/three_d_secure/start\',\n        payload: payload,\n        container: container\n      }).on(\'error\', function (cause) {\n        return threeDSecure.error(\'3ds-auth-error\', {\n          cause: cause\n        });\n      }).on(\'done\', function (results) {\n        return _this5.emit(\'done\', results);\n      });\n    }\n    /**\n     * Loads Adyen library dependency\n     */\n\n  }, {\n    key: "loadAdyenLibrary",\n    value: function loadAdyenLibrary() {\n      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {\n        if (window.AdyenCheckout) return resolve();\n        load_script__WEBPACK_IMPORTED_MODULE_0___default()(AdyenStrategy.libUrl, function (error) {\n          if (error) reject(error);else resolve();\n        });\n      });\n    }\n  }, {\n    key: "shouldLoadAdyenLibrary",\n    get: function get() {\n      return !this.shouldFallback;\n    }\n  }, {\n    key: "shouldFingerprint",\n    get: function get() {\n      return !!this.adyenFingerprintToken;\n    }\n  }, {\n    key: "shouldChallenge",\n    get: function get() {\n      return !!this.adyenChallengeToken;\n    }\n  }, {\n    key: "shouldFallback",\n    get: function get() {\n      return !!this.adyenRedirectParams;\n    }\n  }, {\n    key: "adyenFingerprintToken",\n    get: function get() {\n      var authentication = this.actionToken.three_d_secure.params.authentication;\n      return authentication && authentication[\'threeds2.fingerprintToken\'];\n    }\n  }, {\n    key: "adyenChallengeToken",\n    get: function get() {\n      var authentication = this.actionToken.three_d_secure.params.authentication;\n      return authentication && authentication[\'threeds2.challengeToken\'];\n    }\n  }, {\n    key: "adyenRedirectParams",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.redirect;\n    }\n  }]);\n\n  return AdyenStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);\n\n_defineProperty(AdyenStrategy, "libUrl", \'https://checkoutshopper-test.adyen.com/checkoutshopper/sdk/2.2.0/adyen.js\');\n\n_defineProperty(AdyenStrategy, "strategyName", \'adyen\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/adyen.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/braintree.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BraintreeStrategy; });\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:braintree\');\n\nvar BRAINTREE_CLIENT_VERSION = \'3.50.0\';\n\nvar BraintreeStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(BraintreeStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(BraintreeStrategy);\n\n  function BraintreeStrategy() {\n    var _this;\n\n    _classCallCheck(this, BraintreeStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    debug(\'loading braintree libraries\');\n\n    _this.loadBraintreeLibraries().catch(function (cause) {\n      return _this.threeDSecure.error(\'3ds-vendor-load-error\', {\n        vendor: \'Braintree\',\n        cause: cause\n      });\n    }).then(function () {\n      _this.braintree = window.braintree;\n      debug(\'Braintree checkout instance created\', _this.braintree);\n\n      _this.markReady();\n    });\n\n    return _this;\n  }\n\n  _createClass(BraintreeStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(BraintreeStrategy.prototype), "attach", this).call(this, element);\n\n      this.whenReady(function () {\n        debug(\'Attempting to load braintree\');\n        var braintree = _this2.braintree,\n            braintreeClientToken = _this2.braintreeClientToken,\n            amount = _this2.amount,\n            nonce = _this2.nonce,\n            bin = _this2.bin;\n        braintree.client.create({\n          authorization: braintreeClientToken\n        }).then(function (clientInstance) {\n          return braintree.threeDSecure.create({\n            client: clientInstance,\n            version: 2\n          });\n        }).then(function (threeDSecureInstance) {\n          return threeDSecureInstance.verifyCard({\n            amount: amount,\n            nonce: nonce,\n            bin: bin,\n            onLookupComplete: function onLookupComplete(data, next) {\n              next();\n            }\n          });\n        }).then(function (_ref) {\n          var paymentMethodNonce = _ref.nonce;\n          return _this2.emit(\'done\', {\n            paymentMethodNonce: paymentMethodNonce\n          });\n        }).catch(function (cause) {\n          return _this2.threeDSecure.error(\'3ds-auth-error\', {\n            cause: cause\n          });\n        });\n      });\n    }\n  }, {\n    key: "urlForResource",\n    value: function urlForResource(type) {\n      return "https://js.braintreegateway.com/web/".concat(BRAINTREE_CLIENT_VERSION, "/js/").concat(type, ".min.js");\n    }\n    /**\n     * Loads Braintree library dependency\n     */\n\n  }, {\n    key: "loadBraintreeLibraries",\n    value: function loadBraintreeLibraries() {\n      var _this3 = this;\n\n      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {\n        if (window.braintree && window.braintree.client && window.braintree.threeDSecure) return resolve();\n        load_script__WEBPACK_IMPORTED_MODULE_0___default()(_this3.urlForResource(\'client\'), function (error) {\n          if (error) reject(error);else load_script__WEBPACK_IMPORTED_MODULE_0___default()(_this3.urlForResource(\'three-d-secure\'), function (error) {\n            if (error) reject(error);else resolve();\n          });\n        });\n      });\n    }\n  }, {\n    key: "braintreeClientToken",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.client_token;\n    }\n  }, {\n    key: "nonce",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.payment_method_nonce;\n    }\n  }, {\n    key: "amount",\n    get: function get() {\n      return this.actionToken.transaction.amount;\n    }\n  }, {\n    key: "bin",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.bin;\n    }\n  }]);\n\n  return BraintreeStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);\n\n_defineProperty(BraintreeStrategy, "strategyName", \'braintree_blue\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/braintree.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/sage-pay.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SagePayStrategy; });\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\n/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../frame */ "./lib/recurly/frame.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:sage-pay\');\n\nvar SagePayStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(SagePayStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(SagePayStrategy);\n\n  function SagePayStrategy() {\n    var _this;\n\n    _classCallCheck(this, SagePayStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.markReady();\n\n    return _this;\n  }\n\n  _createClass(SagePayStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(SagePayStrategy.prototype), "attach", this).call(this, element);\n\n      debug(\'Initiating 3D Secure frame\');\n      var redirectParams = this.redirectParams,\n          container = this.container,\n          threeDSecure = this.threeDSecure;\n      var recurly = threeDSecure.risk.recurly;\n      var payload = {\n        redirect_url: redirectParams.acsUrl,\n        pa_req: redirectParams.pareq,\n        creq: redirectParams.creq,\n        md: redirectParams.md,\n        three_d_secure_action_token_id: this.actionToken.id\n      };\n      this.frame = recurly.Frame({\n        path: \'/three_d_secure/start\',\n        payload: payload,\n        container: container,\n        type: _frame__WEBPACK_IMPORTED_MODULE_1__["Frame"].TYPES.IFRAME\n      }).on(\'error\', function (cause) {\n        return threeDSecure.error(\'3ds-auth-error\', {\n          cause: cause\n        });\n      }).on(\'done\', function (results) {\n        return _this2.emit(\'done\', results);\n      });\n    }\n    /**\n     * Removes DOM elements\n     */\n\n  }, {\n    key: "remove",\n    value: function remove() {\n      var frame = this.frame;\n      if (frame) frame.destroy();\n\n      _get(_getPrototypeOf(SagePayStrategy.prototype), "remove", this).call(this);\n    }\n  }, {\n    key: "redirectParams",\n    get: function get() {\n      return this.actionToken.three_d_secure.params;\n    }\n  }]);\n\n  return SagePayStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(SagePayStrategy, "strategyName", \'sagepay\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/sage-pay.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/strategy.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeDSecureStrategy; });\n/* harmony import */ var _util_readiness_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../util/readiness-emitter */ "./lib/util/readiness-emitter.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar ThreeDSecureStrategy = /*#__PURE__*/function (_ReadinessEmitter) {\n  _inherits(ThreeDSecureStrategy, _ReadinessEmitter);\n\n  var _super = _createSuper(ThreeDSecureStrategy);\n\n  _createClass(ThreeDSecureStrategy, null, [{\n    key: "preflight",\n    value: function preflight() {}\n  }]);\n\n  function ThreeDSecureStrategy(_ref) {\n    var _this;\n\n    var threeDSecure = _ref.threeDSecure,\n        actionToken = _ref.actionToken;\n\n    _classCallCheck(this, ThreeDSecureStrategy);\n\n    _this = _super.call(this);\n    _this.threeDSecure = threeDSecure;\n    _this.actionToken = actionToken;\n    return _this;\n  }\n\n  _createClass(ThreeDSecureStrategy, [{\n    key: "attach",\n    value: function attach(el) {\n      this.parent = el;\n    }\n  }, {\n    key: "remove",\n    value: function remove() {\n      if (!this._container) return;\n      if (!this._container.parentElement) return;\n      this.parent.removeChild(this._container);\n    }\n  }, {\n    key: "fingerprint",\n    value: function fingerprint() {}\n  }, {\n    key: "challenge",\n    value: function challenge() {}\n  }, {\n    key: "strategyName",\n    get: function get() {\n      return this.constructor.strategyName;\n    }\n  }, {\n    key: "container",\n    get: function get() {\n      if (this._container) return this._container;\n      var parent = this.parent; // eslint-disable-next-line\n\n      if (!parent) return;\n      var container = this._container = document.createElement(\'div\');\n      container.setAttribute(\'data-recurly\', \'three-d-secure-container\');\n      container.style.height = \'100%\';\n      container.style.width = \'100%\';\n      parent.appendChild(container);\n      return container;\n    }\n  }]);\n\n  return ThreeDSecureStrategy;\n}(_util_readiness_emitter__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(ThreeDSecureStrategy, "strategyName", \'base\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/strategy.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/stripe.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StripeStrategy; });\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");\n/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:stripe\');\n\nvar StripeStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(StripeStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(StripeStrategy);\n\n  function StripeStrategy() {\n    var _this;\n\n    _classCallCheck(this, StripeStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    debug(\'loading Stripe library\');\n\n    _this.loadStripeLibrary().catch(function (cause) {\n      return _this.threeDSecure.error(\'3ds-vendor-load-error\', {\n        vendor: \'Stripe\',\n        cause: cause\n      });\n    }).then(function () {\n      _this.stripe = window.Stripe(_this.stripePublishableKey);\n      debug(\'Stripe checkout instance created\', _this.stripe);\n\n      _this.markReady();\n    });\n\n    return _this;\n  }\n\n  _createClass(StripeStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(StripeStrategy.prototype), "attach", this).call(this, element);\n\n      this.whenReady(function () {\n        _this2.stripe.handleCardAction(_this2.stripeClientSecret).then(function (result) {\n          if (result.error) {\n            return _this2.threeDSecure.error(\'3ds-auth-error\', {\n              cause: result.error\n            });\n          }\n\n          var id = result.paymentIntent.id;\n\n          _this2.emit(\'done\', {\n            id: id\n          });\n        });\n      });\n    }\n    /**\n     * Loads Adyen library dependency\n     */\n\n  }, {\n    key: "loadStripeLibrary",\n    value: function loadStripeLibrary() {\n      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {\n        if (window.Stripe) return resolve();\n        load_script__WEBPACK_IMPORTED_MODULE_0___default()(StripeStrategy.libUrl, function (error) {\n          if (error) reject(error);else resolve();\n        });\n      });\n    }\n  }, {\n    key: "stripePublishableKey",\n    get: function get() {\n      return this.actionToken.gateway.credentials.publishable_key;\n    }\n  }, {\n    key: "stripeClientSecret",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.client_secret;\n    }\n  }]);\n\n  return StripeStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);\n\n_defineProperty(StripeStrategy, "libUrl", \'https://js.stripe.com/v3/\');\n\n_defineProperty(StripeStrategy, "strategyName", \'stripe\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/stripe.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/test.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TestStrategy; });\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\n/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../frame */ "./lib/recurly/frame.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:test\');\n\nvar TestStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(TestStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(TestStrategy);\n\n  function TestStrategy() {\n    var _this;\n\n    _classCallCheck(this, TestStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    debug(\'Using test strategy\');\n    return _this;\n  }\n\n  _createClass(TestStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(TestStrategy.prototype), "attach", this).call(this, element);\n\n      var shouldFingerprint = this.shouldFingerprint,\n          shouldChallenge = this.shouldChallenge;\n\n      if (shouldFingerprint) {\n        this.emit(\'done\', {\n          type: \'fingerprint\',\n          success: true\n        });\n      } else if (shouldChallenge) {\n        this.challenge().done(function (success) {\n          return _this2.emit(\'done\', {\n            type: \'challenge\',\n            success: success\n          });\n        });\n      }\n    }\n  }, {\n    key: "challenge",\n    value: function challenge() {\n      var _this3 = this;\n\n      return new promise__WEBPACK_IMPORTED_MODULE_0___default.a(function () {\n        var container = _this3.container,\n            actionToken = _this3.actionToken,\n            threeDSecure = _this3.threeDSecure;\n        var recurly = threeDSecure.risk.recurly;\n        recurly.Frame({\n          type: _frame__WEBPACK_IMPORTED_MODULE_2__["Frame"].TYPES.IFRAME,\n          path: \'/three_d_secure/mock\',\n          payload: {\n            three_d_secure_action_token_id: actionToken.id\n          },\n          container: container\n        }).on(\'error\', function (err) {\n          return _this3.error(err);\n        }).on(\'done\', function (results) {\n          if (results.success) _this3.emit(\'done\', results);else _this3.error(results);\n        });\n      });\n    }\n  }, {\n    key: "error",\n    value: function error(cause) {\n      this.emit(\'error\', {\n        cause: cause\n      });\n      this.threeDSecure.error(\'3ds-auth-error\', {\n        cause: cause\n      });\n    }\n  }, {\n    key: "shouldFingerprint",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.challengeType === \'fingerprint\';\n    }\n  }, {\n    key: "shouldChallenge",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.challengeType === \'challenge\';\n    }\n  }]);\n\n  return TestStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_1__["default"]);\n\n_defineProperty(TestStrategy, "strategyName", \'test\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/test.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/wirecard.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WirecardStrategy; });\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\n/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../frame */ "./lib/recurly/frame.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:wirecard\');\n\nvar WirecardStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(WirecardStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(WirecardStrategy);\n\n  function WirecardStrategy() {\n    var _this;\n\n    _classCallCheck(this, WirecardStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.markReady();\n\n    return _this;\n  }\n\n  _createClass(WirecardStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(WirecardStrategy.prototype), "attach", this).call(this, element);\n\n      debug(\'Initiating 3D Secure frame\');\n      var redirectParams = this.redirectParams,\n          container = this.container,\n          threeDSecure = this.threeDSecure;\n      var recurly = threeDSecure.risk.recurly;\n      var payload = {\n        redirect_url: redirectParams.acsUrl,\n        pa_req: redirectParams.pareq\n      };\n      this.frame = recurly.Frame({\n        path: \'/three_d_secure/start\',\n        payload: payload,\n        container: container,\n        type: _frame__WEBPACK_IMPORTED_MODULE_1__["Frame"].TYPES.IFRAME\n      }).on(\'error\', function (cause) {\n        return threeDSecure.error(\'3ds-auth-error\', {\n          cause: cause\n        });\n      }).on(\'done\', function (results) {\n        return _this2.emit(\'done\', results);\n      });\n    }\n    /**\n     * Removes DOM elements\n     */\n\n  }, {\n    key: "remove",\n    value: function remove() {\n      var frame = this.frame;\n      if (frame) frame.destroy();\n\n      _get(_getPrototypeOf(WirecardStrategy.prototype), "remove", this).call(this);\n    }\n  }, {\n    key: "redirectParams",\n    get: function get() {\n      return this.actionToken.three_d_secure.params;\n    }\n  }]);\n\n  return WirecardStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_0__["default"]);\n\n_defineProperty(WirecardStrategy, "strategyName", \'wirecard\');\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/wirecard.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/strategy/worldpay.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldpayStrategy; });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./lib/recurly/risk/three-d-secure/strategy/strategy.js");\n/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../frame */ "./lib/recurly/frame.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure:worldpay\');\n\nvar WorldpayStrategy = /*#__PURE__*/function (_ThreeDSecureStrategy) {\n  _inherits(WorldpayStrategy, _ThreeDSecureStrategy);\n\n  var _super = _createSuper(WorldpayStrategy);\n\n  _createClass(WorldpayStrategy, null, [{\n    key: "preflight",\n\n    /**\n     * Performs Worldpay data collector preflight\n     *\n     * @param {recurly} options.recurly\n     * @param {String} options.bin CC BIN\n     * @param {String} options.jwt JWT\n     * @return {Promise}\n     */\n    value: function preflight(_ref) {\n      var recurly = _ref.recurly,\n          bin = _ref.bin,\n          jwt = _ref.jwt;\n      var PREFLIGHT_TIMEOUT = WorldpayStrategy.PREFLIGHT_TIMEOUT;\n      var frame = recurly.Frame({\n        path: \'/risk/data_collector\',\n        payload: {\n          bin: bin,\n          jwt: jwt,\n          redirect_url: \'https://secure-test.worldpay.com/shopper/3ds/ddc.html\'\n        },\n        container: window.document.body,\n        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,\n        height: 0,\n        width: 0\n      });\n      return promise__WEBPACK_IMPORTED_MODULE_1___default.a.race([new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {\n        var listener = function listener(_ref2) {\n          var data = _ref2.data;\n\n          try {\n            var body = JSON.parse(data);\n\n            if (body.MessageType === \'profile.completed\') {\n              debug(\'received device data session id\', body);\n              resolve({\n                session_id: body.SessionId\n              });\n              recurly.bus.off(\'raw-message\', listener);\n              frame.destroy();\n            }\n          } catch (e) {\n            debug(\'Error parsing message. May be foreign message, skipping\', e);\n          }\n        };\n\n        recurly.bus.on(\'raw-message\', listener);\n      }), new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {\n        setTimeout(function () {\n          resolve(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])(\'risk-preflight-timeout\', {\n            processor: \'worldpay\'\n          }));\n        }, PREFLIGHT_TIMEOUT);\n      })]);\n    }\n  }]);\n\n  function WorldpayStrategy() {\n    var _this;\n\n    _classCallCheck(this, WorldpayStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.markReady();\n\n    return _this;\n  }\n\n  _createClass(WorldpayStrategy, [{\n    key: "attach",\n\n    /**\n     * Provides the target DOM element for which we will apply\n     * fingerprint detection, challenge flows, and results\n     *\n     * @param {HTMLElement} element\n     */\n    value: function attach(element) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(WorldpayStrategy.prototype), "attach", this).call(this, element);\n\n      debug(\'Initiating 3D Secure frame\');\n      var actionToken = this.actionToken,\n          container = this.container,\n          threeDSecure = this.threeDSecure,\n          redirectUrl = this.redirectUrl;\n      var recurly = threeDSecure.risk.recurly;\n      var payload = {\n        redirect_url: redirectUrl,\n        three_d_secure_action_token_id: actionToken.id\n      };\n      this.frame = recurly.Frame({\n        path: \'/three_d_secure/start\',\n        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,\n        payload: payload,\n        container: container\n      }).on(\'error\', function (cause) {\n        return threeDSecure.error(\'3ds-auth-error\', {\n          cause: cause\n        });\n      }).on(\'done\', function (results) {\n        return _this2.emit(\'done\', results);\n      });\n    }\n    /**\n     * Removes DOM elements\n     */\n\n  }, {\n    key: "remove",\n    value: function remove() {\n      var frame = this.frame;\n      if (frame) frame.destroy();\n\n      _get(_getPrototypeOf(WorldpayStrategy.prototype), "remove", this).call(this);\n    }\n  }, {\n    key: "redirectUrl",\n    get: function get() {\n      return this.actionToken.three_d_secure.params.redirect_url;\n    }\n  }]);\n\n  return WorldpayStrategy;\n}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);\n\n_defineProperty(WorldpayStrategy, "strategyName", \'worldpay\');\n\n_defineProperty(WorldpayStrategy, "PREFLIGHT_TIMEOUT", 30000);\n\n\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/strategy/worldpay.js?'
    );
  },
  "./lib/recurly/risk/three-d-secure/three-d-secure.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeDSecure", function() { return ThreeDSecure; });\n/* harmony import */ var _strategy_adyen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy/adyen */ "./lib/recurly/risk/three-d-secure/strategy/adyen.js");\n/* harmony import */ var _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/braintree */ "./lib/recurly/risk/three-d-secure/strategy/braintree.js");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors */ "./lib/recurly/errors.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");\n/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _risk_concern__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../risk-concern */ "./lib/recurly/risk/risk-concern.js");\n/* harmony import */ var _strategy_sage_pay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./strategy/sage-pay */ "./lib/recurly/risk/three-d-secure/strategy/sage-pay.js");\n/* harmony import */ var _strategy_stripe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./strategy/stripe */ "./lib/recurly/risk/three-d-secure/strategy/stripe.js");\n/* harmony import */ var _strategy_test__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./strategy/test */ "./lib/recurly/risk/three-d-secure/strategy/test.js");\n/* harmony import */ var _strategy_wirecard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./strategy/wirecard */ "./lib/recurly/risk/three-d-secure/strategy/wirecard.js");\n/* harmony import */ var _strategy_worldpay__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./strategy/worldpay */ "./lib/recurly/risk/three-d-secure/strategy/worldpay.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:risk:three-d-secure\');\n\nfunction factory(options) {\n  return new ThreeDSecure(_objectSpread({\n    risk: this\n  }, options));\n}\n/**\n * 3D Secure 2.0\n *\n * Usage\n *\n * ```\n * const risk = recurly.Risk();\n * const threeDSecure = risk.ThreeDSecure({ actionTokenId: \'my-action-token-id\' });\n *\n * threeDSecure.on(\'token\', token => token);\n * threeDSecure.on(\'error\', err => err);\n *\n * threeDSecure.attach(document.querySelector(\'#my-checkout-3ds-container\'));\n * ```\n *\n * @param {Risk} risk\n * @param {String} [actionTokenId] when given, the concern will parse any auth actions\n *                                 necessary to fulfull the action\n */\n\nvar ThreeDSecure = /*#__PURE__*/function (_RiskConcern) {\n  _inherits(ThreeDSecure, _RiskConcern);\n\n  var _super = _createSuper(ThreeDSecure);\n\n  _createClass(ThreeDSecure, null, [{\n    key: "getStrategyForGatewayType",\n\n    /**\n     * Returns a strateggy for a given gateway type\n     *\n     * @param  {String} type\n     * @return {ThreeDSecureStrategy}\n     */\n    value: function getStrategyForGatewayType(type) {\n      return component_find__WEBPACK_IMPORTED_MODULE_3___default()(ThreeDSecure.STRATEGIES, function (s) {\n        return s.strategyName === type;\n      });\n    }\n    /**\n     * Performs preflight procedures per strategy\n     *\n     * @typedef  {Object} Preflights\n     * @property {Object} gateway\n     * @property {String} gateway.type  e.g. \'worldpay\'\n     * @property {Object} params        params required by the strategy\n     *\n     * @param {Recurly}    options.recurly\n     * @param {String}     options.bin         credit card BIN\n     * @param {Preflights} options.preflights\n     * @return {Promise}\n     */\n\n  }, {\n    key: "preflight",\n    value: function preflight(_ref) {\n      var recurly = _ref.recurly,\n          bin = _ref.bin,\n          preflights = _ref.preflights;\n      return promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(preflights.map(function (preflight) {\n        var type = preflight.gateway.type;\n        var strategy = ThreeDSecure.getStrategyForGatewayType(type);\n        return strategy.preflight(_objectSpread({\n          recurly: recurly,\n          bin: bin\n        }, preflight.params)).then(function (results) {\n          return {\n            processor: type,\n            results: results\n          };\n        });\n      }));\n    }\n  }]);\n\n  function ThreeDSecure(_ref2) {\n    var _this;\n\n    var risk = _ref2.risk,\n        actionTokenId = _ref2.actionTokenId;\n\n    _classCallCheck(this, ThreeDSecure);\n\n    _this = _super.call(this, {\n      risk: risk\n    });\n\n    _defineProperty(_assertThisInitialized(_this), "concernName", \'three-d-secure\');\n\n    _this.actionTokenId = actionTokenId;\n\n    if (!actionTokenId) {\n      throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'invalid-option\', {\n        name: \'actionTokenId\',\n        expect: \'a three_d_secure_action_token_id\'\n      });\n    }\n\n    _this.recurly.request.get({\n      route: "/tokens/".concat(actionTokenId)\n    }).catch(function (err) {\n      return _this.error(err);\n    }).then(function (token) {\n      assertIsActionToken(token);\n      _this.strategy = _this.getStrategyForActionToken(token);\n\n      _this.strategy.on(\'done\', function () {\n        var _this2;\n\n        return (_this2 = _this).onStrategyDone.apply(_this2, arguments);\n      });\n\n      _this.markReady();\n    }).catch(function (err) {\n      return _this.error(err);\n    });\n\n    _this.report(\'create\', {\n      actionTokenId: actionTokenId\n    });\n\n    _this.whenReady(function () {\n      return _this.report(\'ready\', {\n        strategy: _this.strategy.strategyName\n      });\n    });\n\n    return _this;\n  }\n  /**\n   * Instructs the strategy to attach, awaiting readiness of the strategy\n   *\n   * @param {HTMLElement} container\n   */\n\n\n  _createClass(ThreeDSecure, [{\n    key: "attach",\n    value: function attach(container) {\n      var _this3 = this;\n\n      this.whenReady(function () {\n        _this3.strategy.attach(container);\n\n        _this3.report(\'attach\');\n      });\n    }\n  }, {\n    key: "remove",\n    value: function remove() {\n      var _this4 = this;\n\n      this.whenReady(function () {\n        _this4.strategy.remove();\n\n        _this4.report(\'remove\');\n      });\n    }\n    /**\n     * Determines which strategy to employ based on an ThreeDSecureActionToken\n     *\n     * @private\n     * @param {Object} actionToken\n     */\n\n  }, {\n    key: "getStrategyForActionToken",\n    value: function getStrategyForActionToken(actionToken) {\n      var strategy = ThreeDSecure.getStrategyForGatewayType(actionToken.gateway.type);\n      return new strategy({\n        threeDSecure: this,\n        actionToken: actionToken\n      });\n    }\n    /**\n     * Creates a ThreeDSecureActionResultToken from action results\n     *\n     * @private\n     * @param {Object} results\n     * @param {Function} done callback\n     * @return {Promise} to create the token\n     */\n\n  }, {\n    key: "createResultToken",\n    value: function createResultToken(results) {\n      var data = {\n        type: \'three_d_secure_action_result\',\n        three_d_secure_action_token_id: this.actionTokenId,\n        results: results\n      };\n      debug(\'submitting results for tokenization\', data);\n      return this.recurly.request.post({\n        route: \'/tokens\',\n        data: data\n      });\n    } // Listeners\n\n    /**\n     * Called when a strategy has produced results\n     *\n     * @param {Object} results\n     */\n\n  }, {\n    key: "onStrategyDone",\n    value: function onStrategyDone(results) {\n      var _this5 = this;\n\n      this.createResultToken(results).catch(function (cause) {\n        return _this5.error(\'3ds-result-tokenization-error\', {\n          cause: cause\n        });\n      }).then(function (token) {\n        debug(\'Result token\', token);\n\n        _this5.emit(\'token\', token);\n\n        _this5.report(\'done\', {\n          actionResultTokenId: token.id\n        });\n      }).done();\n    }\n  }]);\n\n  return ThreeDSecure;\n}(_risk_concern__WEBPACK_IMPORTED_MODULE_5__["default"]);\n\n_defineProperty(ThreeDSecure, "STRATEGIES", [_strategy_adyen__WEBPACK_IMPORTED_MODULE_0__["default"], _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__["default"], _strategy_sage_pay__WEBPACK_IMPORTED_MODULE_6__["default"], _strategy_stripe__WEBPACK_IMPORTED_MODULE_7__["default"], _strategy_test__WEBPACK_IMPORTED_MODULE_8__["default"], _strategy_wirecard__WEBPACK_IMPORTED_MODULE_9__["default"], _strategy_worldpay__WEBPACK_IMPORTED_MODULE_10__["default"]]);\n\nfunction assertIsActionToken(token) {\n  if (token && token.type === \'three_d_secure_action\') return;\n  throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])(\'invalid-option\', {\n    name: \'actionTokenId\',\n    expect: \'a three_d_secure_action_token_id\'\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/risk/three-d-secure/three-d-secure.js?'
    );
  },
  "./lib/recurly/tax.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return tax; });\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Tax getter\n *\n * Provides a tax estimate for the given tax info.\n *\n * @param {Object} options\n * @param {Object} options.postal_code\n * @param {Object} options.country\n * @param {Object} [options.tax_code]\n * @param {Object} [options.vat_number] Used for VAT exemptions\n * @param {Function} callback\n */\nfunction tax(options, done) {\n  options = _extends({}, options);\n\n  if (typeof done !== 'function') {\n    throw new Error('Missing callback');\n  }\n\n  this.request.get({\n    cached: true,\n    route: '/tax',\n    data: {\n      country: options.country,\n      postal_code: options.postalCode || options.postal_code,\n      tax_code: options.taxCode || options.tax_code,\n      vat_number: options.vatNumber || options.vat_number\n    },\n    done: done\n  });\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/tax.js?"
    );
  },
  "./lib/recurly/token.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FIELDS\", function() { return FIELDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tokenDispatcher\", function() { return tokenDispatcher; });\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ \"./lib/recurly/element/index.js\");\n/* harmony import */ var _elements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elements */ \"./lib/recurly/elements.js\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./lib/recurly/errors.js\");\n/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/normalize */ \"./lib/util/normalize.js\");\n/* harmony import */ var _risk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./risk */ \"./lib/recurly/risk/index.js\");\n/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/uid */ \"./lib/util/uid.js\");\n/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate */ \"./lib/recurly/validate.js\");\n\n\n\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:token');\n/**\n * Fields that are sent to API.\n *\n * @type {Array}\n * @private\n */\n\n\nvar FIELDS = ['first_name', 'last_name', 'address1', 'address2', 'company', 'country', 'city', 'state', 'postal_code', 'phone', 'vat_number', 'tax_identifier', 'tax_identifier_type', 'fraud_session_id', 'token'];\n/**\n * Parses the token call signature to determine the form of tokenization to perform,\n * then passes the customer data on for tokenization\n *\n * == When tokenizing Elements ==\n *\n * @param {[Elements]} elements An Elements instance containing one tokenizable Element\n * @param {HTMLFormElement|Object} customerData An HTMLFormElement whose children correspond to\n *                                              billing properties via their 'data-recurly'\n *                                              attributes, or an Object containing customer data\n *                                              (see customerData object).\n * @param {Function} done callback\n *\n *\n * == When tokenizing Hosted Fields ==\n *\n * @param {HTMLFormElement} customerData An HTMLFormElement whose children correspond to billing\n *                                       properties via their 'data-recurly' attributes, or an Object\n *                                       containing customer data (see customerData object).\n * @param {Function} done callback\n *\n *\n * == customerData {Object} ==\n *\n * @param {String} [first_name] customer first name\n * @param {String} [last_name] customer last name\n * @param {String} [address1]\n * @param {String} [address2]\n * @param {String} [country]\n * @param {String} [city]\n * @param {String} [state]\n * @param {String|Number} [postal_code]\n * @param {String} [phone]\n * @param {String} [vat_number]\n * @param {String} [tax_identifier]\n * @param {String} [tax_identifier_type]\n */\n\nfunction tokenDispatcher() {\n  var bus, elements, customerData, done; // signature variance\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (args[0] instanceof _elements__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n    elements = args[0];\n    customerData = args[1];\n    done = args[2];\n  } else {\n    customerData = args[0];\n    done = args[1];\n  } // Try to find the implied Elements if given an HTMLFormElement\n\n\n  if (!elements && customerData instanceof HTMLFormElement) {\n    var impliedElement = _element__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findElementInDOMTree(customerData);\n\n    if (impliedElement) {\n      elements = impliedElement.elements;\n    }\n  }\n\n  bus = elements ? elements.bus : this.bus; // Basic validations\n\n  if (!this.configured) {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('not-configured');\n  }\n\n  if (typeof done !== 'function') {\n    throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('missing-callback');\n  } // TODO: unified error message for lack of elements and hosted fields within\n  // tokenizing form\n  // We perform this hosted field health check here in order to retain\n  // the generic nature of the token method\n\n\n  if (this.config.parent && !elements && this.hostedFields.errors.length > 0) {\n    throw this.hostedFields.errors[0];\n  }\n\n  customerData = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_3__[\"normalize\"])(customerData, FIELDS, {\n    parseCard: true\n  });\n  return token.call(this, customerData, bus, done);\n}\n/**\n * Generates a token from customer data.\n *\n * The callback signature is `err, response` where `err` is a\n * connection, request, or server error, and `response` is the\n * recurly service response. The generated token is accessed\n * at `response.token`.\n *\n * When using Elements\n *\n * @param {Object} customerData Billing properties\n * @param {Elements} options.elements an Elements instance containing one tokenizable Element\n * @param {HTMLFormElement} [options.form] whose children correspond to billing properties via their\n *                                       'data-recurly' attributes\n *\n * @param {Function} done callback\n *\n *\n * When using Hosted Fields\n *\n * @param {HTMLFormElement} options An HTMLFormElement whose children correspond to billing\n *                                  properties via their 'data-recurly' attributes\n * @param {Function} done callback\n */\n\nfunction token(customerData, bus, done) {\n  var _this = this;\n\n  debug('token');\n  var inputs = customerData.values;\n\n  if (this.config.parent) {\n    inputs.fraud = this.fraud.params(inputs);\n    inputs.browser = _risk__WEBPACK_IMPORTED_MODULE_4__[\"Risk\"].browserInfo;\n    var id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n    this.once(\"token:done:\".concat(id), function (msg) {\n      return complete(msg.err, msg.token);\n    });\n    bus.send('token:init', {\n      id: id,\n      inputs: inputs\n    });\n  } else {\n    var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_6__[\"validateCardInputs\"])(this, inputs);\n\n    if (userErrors.length) {\n      return done(Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('validation', {\n        fields: userErrors.map(function (e) {\n          return e.field;\n        }),\n        details: userErrors\n      }));\n    }\n\n    var bin = inputs.number.substr(0, 6);\n    _risk__WEBPACK_IMPORTED_MODULE_4__[\"Risk\"].preflight({\n      recurly: this,\n      bin: bin\n    }).then(function (results) {\n      return inputs.risk = results;\n    }).then(function () {\n      return _this.request.post({\n        route: '/token',\n        data: inputs,\n        done: complete\n      });\n    }).done();\n  }\n\n  function complete(err, res) {\n    if (err) return done(err);\n\n    if (customerData.fields.token && res.id) {\n      customerData.fields.token.value = res.id;\n    }\n\n    done(null, res);\n  }\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/token.js?"
    );
  },
  "./lib/recurly/validate.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"publicMethods\", function() { return publicMethods; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cardNumber\", function() { return cardNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cardType\", function() { return cardType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expiry\", function() { return expiry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cvv\", function() { return cvv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateCardInputs\", function() { return validateCardInputs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateBankAccountInputs\", function() { return validateBankAccountInputs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateBankRoutingNumber\", function() { return validateBankRoutingNumber; });\n/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token */ \"./lib/recurly/token.js\");\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-each */ \"./node_modules/component-each/index.js\");\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-find */ \"./node_modules/component-find/index.js\");\n/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_parse_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/parse-card */ \"./lib/util/parse-card.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*jshint -W058 */\n\n\n\n\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\")('recurly:validate');\n/**\n * Card patterns.\n *\n * @private\n */\n\n\nvar TYPES = [{\n  type: 'discover',\n  pattern: {\n    test: function test(n) {\n      var firstEight = parseInt(n.substr(0, 8), 10);\n      var acceptedRanges = [[60110000, 60110399], [60110500, 60110999], [60112000, 60114999], [60117400, 60117499], [60117700, 60117999], [60118600, 60119999], [64400000, 65059999], [65060100, 65060999], [65061100, 65999999]];\n      if (!/^6[045]/.test(firstEight)) return false;\n      return validBinRange(acceptedRanges, firstEight);\n    }\n  },\n  lengths: [16, 17, 18, 19]\n}, {\n  type: 'union_pay',\n  pattern: {\n    test: function test(n) {\n      var firstEight = parseInt(n.substr(0, 8), 10);\n      var acceptedRanges = [[62109400, 62109499], [62212600, 62292599], [62400000, 62699999], [62820000, 62889999], [81000000, 81099999], [81100000, 81319999], [81320000, 81519999], [81520000, 81639999], [81640000, 81719999]];\n      if (!/^6[2]/.test(firstEight) && !/^8[1]/.test(firstEight)) return false;\n      return validBinRange(acceptedRanges, firstEight);\n    }\n  },\n  lengths: [16, 17, 18, 19]\n}, {\n  type: 'master',\n  pattern: {\n    test: function test(n) {\n      var firstSix = parseInt(n.substr(0, 6), 10);\n      if (/^5[1-5]/.test(n)) return true;\n      if (firstSix >= 222100 && firstSix <= 272099) return true;\n      return false;\n    }\n  },\n  lengths: [16]\n}, {\n  type: 'american_express',\n  pattern: /^3[47]/,\n  lengths: [15]\n}, {\n  type: 'elo',\n  pattern: /^(636368|438935|504175|451416|636297|506[67]\\d\\d|4576\\d\\d|4011\\d\\d)\\d{0,10}$/,\n  lengths: [13, 16]\n}, {\n  type: 'visa',\n  pattern: /^4/,\n  lengths: [13, 16]\n}, {\n  type: 'jcb',\n  pattern: /^35[2-8]\\d/,\n  lengths: [16]\n}, {\n  type: 'diners_club',\n  pattern: /^(30[0-5]|309|36|3[89]|54|55|2014|2149)/,\n  lengths: [14]\n}, {\n  type: 'hipercard',\n  pattern: /^(606282\\d{10}(\\d{3})?)|(3841\\d{15})$/,\n  lengths: [16]\n}];\n/**\n * Validates bin ranges for supported card types\n *\n * @private\n */\n\nfunction validBinRange(acceptedRanges, firstEight) {\n  for (var index = 0; index < acceptedRanges.length; index++) {\n    var _acceptedRanges$index = _slicedToArray(acceptedRanges[index], 2),\n        min = _acceptedRanges$index[0],\n        max = _acceptedRanges$index[1];\n\n    if (firstEight <= max && firstEight >= min) return true;\n  }\n\n  return false;\n}\n/**\n * Validation error messages\n * @type {String}\n * @private\n */\n\n\nvar INVALID = 'is invalid';\nvar BLANK = \"can't be blank\";\nvar DOES_NOT_MATCH = 'does not match';\n/**\n * Fields required by bank account tokenization\n * @type {Array}\n */\n\nvar BANK_ACCOUNT_REQUIRED_FIELDS = ['account_number', 'account_number_confirmation', 'routing_number', 'account_type', 'name_on_account', 'country'];\n/**\n * Fields required by IBAN bank account tokenization\n * @type {Array}\n */\n\nvar IBAN_BANK_ACCOUNT_REQUIRED_FIELDS = ['iban', 'name_on_account'];\n/**\n * Fields required by Bacs bank account tokenization\n * @type {Array}\n */\n\nvar BACS_BANK_ACCOUNT_REQUIRED_FIELDS = ['name_on_account', 'sort_code', 'account_number', 'account_number_confirmation'];\n/**\n * Fields required by BECS bank account tokenization\n * @type {Array}\n */\n\nvar BECS_BANK_ACCOUNT_REQUIRED_FIELDS = ['account_number', 'account_number_confirmation', 'name_on_account', 'bsb_code'];\nvar publicMethods = {\n  cardNumber: cardNumber,\n  cardType: cardType,\n  expiry: expiry,\n  cvv: cvv\n};\n/**\n * Validates a credit card number via length check and luhn algorithm.\n *\n * @param {Number|String} number The card number.\n * @return {Boolean}\n * @see https://sites.google.com/site/abapexamples/javascript/luhn-validation\n */\n\nfunction cardNumber(number) {\n  var str = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_3__[\"parseCard\"])(number);\n  var ca,\n      sum = 0,\n      mul = 1;\n  var i = str.length;\n  if (i < 12 || i > 19) return false;\n\n  while (i--) {\n    ca = parseInt(str.charAt(i), 10) * mul;\n    sum += ca - (ca > 9) * 9;\n    mul ^= 3;\n  }\n\n  return sum % 10 === 0 && sum > 0;\n}\n/**\n * Returns the type of the card number as a string.\n *\n * @param {Number|String} number The card number\n * @param {Boolean} partial detect card type on a partial (incomplete) number\n * @return {String} card type\n */\n\nfunction cardType(number) {\n  var partial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var str = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_3__[\"parseCard\"])(number);\n  var len = str.length;\n  var card = component_find__WEBPACK_IMPORTED_MODULE_2___default()(TYPES, function (card) {\n    return card.pattern.test(str) && (partial || ~card.lengths.indexOf(len));\n  });\n  return card && card.type || 'unknown';\n}\n/**\n * Validates whether an expiry month is present or future.\n *\n * @param {Number|String} month The 2 digit month\n * @param {Number|String} year The 2 or 4 digit year\n * @return {Boolean}\n */\n\nfunction expiry(month, year) {\n  month = Number(month) - 1;\n  if (month < 0 || month > 11) return false;\n  year = Number(year);\n  year += year < 100 ? 2000 : 0;\n  var expiry = new Date();\n  expiry.setYear(year);\n  expiry.setDate(1);\n  expiry.setHours(0);\n  expiry.setMinutes(0);\n  expiry.setSeconds(0);\n  expiry.setMonth(month + 1);\n  return new Date() < expiry;\n}\n/**\n * Validates whether a number looks like a cvv.\n *\n * e.g.: '123', '0321'\n *\n * @param {Number|String} number The card verification value\n * @return {Boolean}\n */\n\nfunction cvv(number) {\n  number = String(number).trim();\n  if (!~[3, 4].indexOf(number.length)) return false;\n  return /^\\d+$/.test(number);\n}\n/**\n * Checks user input on a card token call\n *\n * @param {Recurly} recurly\n * @param {Object} inputs\n * @return {Array} formatted array of invalid fields with descriptive messages\n */\n\nfunction validateCardInputs(recurly, inputs) {\n  var format = formatFieldValidationError;\n  var errors = [];\n\n  if (!cardNumber(inputs.number)) {\n    errors.push(format('number', INVALID));\n  }\n\n  if (!expiry(inputs.month, inputs.year)) {\n    errors.push(format('month', INVALID), format('year', INVALID));\n  }\n\n  if (!inputs.first_name) {\n    errors.push(format('first_name', BLANK));\n  }\n\n  if (!inputs.last_name) {\n    errors.push(format('last_name', BLANK));\n  }\n\n  if (~recurly.config.required.indexOf('cvv') && !inputs.cvv) {\n    errors.push(format('cvv', BLANK));\n  } else if ((~recurly.config.required.indexOf('cvv') || inputs.cvv) && !cvv(inputs.cvv)) {\n    errors.push(format('cvv', INVALID));\n  }\n\n  component_each__WEBPACK_IMPORTED_MODULE_1___default()(recurly.config.required, function (field) {\n    if (!inputs[field] && ~_token__WEBPACK_IMPORTED_MODULE_0__[\"FIELDS\"].indexOf(field)) {\n      errors.push(format(field, BLANK));\n    }\n  });\n  debug('validate errors', errors);\n  return errors;\n}\n/**\n * Checks user input on a bank account token call\n *\n * @param {Object} inputs\n * @return {Array} formatted array of invalid fields with descriptive messages\n */\n\nfunction validateBankAccountInputs(inputs) {\n  var format = formatFieldValidationError;\n  var required = [];\n  var errors = [];\n\n  if ('iban' in inputs) {\n    required = IBAN_BANK_ACCOUNT_REQUIRED_FIELDS;\n  } else if (inputs.type === 'bacs') {\n    required = BACS_BANK_ACCOUNT_REQUIRED_FIELDS;\n    accountNumberMatches(inputs, errors);\n  } else if (inputs.type === 'becs') {\n    required = BECS_BANK_ACCOUNT_REQUIRED_FIELDS;\n    accountNumberMatches(inputs, errors);\n  } else {\n    required = BANK_ACCOUNT_REQUIRED_FIELDS;\n    accountNumberMatches(inputs, errors);\n  }\n\n  required.forEach(function (name) {\n    if (!inputs[name]) {\n      errors.push(format(name, BLANK));\n    } else if (typeof inputs[name] !== 'string') {\n      errors.push(format(name, INVALID));\n    }\n  });\n  debug('bank account validate errors', errors);\n  return errors;\n}\n/**\n * Validates a bank account routing number\n * @param  {[type]} routingNumber\n * @return {Array} formatted array of invalid fields with descriptive messages\n */\n\nfunction validateBankRoutingNumber(routingNumber) {\n  var errors = [];\n\n  if (!routingNumber) {\n    errors.push(formatFieldValidationError('routing_number', BLANK));\n  } else if (typeof routingNumber !== 'string') {\n    errors.push(formatFieldValidationError('routing_number', INVALID));\n  }\n\n  debug('validate errors', errors);\n  return errors;\n}\n/**\n * Formats a field validation error\n *\n * @param {string} field\n * @param {String} message\n * @return {Object}\n */\n\nfunction formatFieldValidationError(field, message) {\n  return {\n    field: field,\n    messages: [message]\n  };\n}\n\nfunction accountNumberMatches(inputs, errors) {\n  var format = formatFieldValidationError;\n\n  if (inputs.account_number !== inputs.account_number_confirmation) {\n    errors.push(format('account_number_confirmation', DOES_NOT_MATCH));\n  }\n}\n\n//# sourceURL=webpack://recurly/./lib/recurly/validate.js?"
    );
  },
  "./lib/recurly/version.js": function (module, exports) {
    eval(
      "/**\n * Current package/component version.\n */\nmodule.exports = '4.14.0';\n\n//# sourceURL=webpack://recurly/./lib/recurly/version.js?"
    );
  },
  "./lib/recurly/worker.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntervalWorker", function() { return IntervalWorker; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_PERIOD = 30000; // 30 seconds\n\nvar IntervalWorker = /*#__PURE__*/function () {\n  function IntervalWorker() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$period = _ref.period,\n        period = _ref$period === void 0 ? DEFAULT_PERIOD : _ref$period,\n        perform = _ref.perform;\n\n    _classCallCheck(this, IntervalWorker);\n\n    if (typeof perform !== \'function\') throw new Error(\'Invalid perform function\');\n    this.active = false;\n    this.jobId = 0;\n    this.tick = this.tick.bind(this);\n    this.period = period;\n    this.perform = perform;\n    this._intervalId = setInterval(this.tick, this.period);\n    window.addEventListener(\'beforeunload\', this.tick);\n  }\n\n  _createClass(IntervalWorker, [{\n    key: "start",\n    value: function start() {\n      this.guard();\n      this.active = true;\n    }\n  }, {\n    key: "pause",\n    value: function pause() {\n      this.guard();\n      this.active = false;\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.pause();\n      clearInterval(this._intervalId);\n      delete this._intervalId;\n      window.removeEventListener(\'beforeunload\', this.tick);\n    } // Private\n\n  }, {\n    key: "tick",\n    value: function tick() {\n      if (!this.active) return;\n\n      try {\n        this.perform({\n          jobId: this.jobId\n        });\n      } finally {\n        this.jobId++;\n      }\n    }\n  }, {\n    key: "guard",\n    value: function guard() {\n      if (typeof this._intervalId === \'number\') return;\n      throw new Error(\'This Worker has been destroyed and can no longer be used\');\n    }\n  }]);\n\n  return IntervalWorker;\n}();\n\n//# sourceURL=webpack://recurly/./lib/recurly/worker.js?'
    );
  },
  "./lib/util/after.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return after; });\n/**\n * Returns a function which calls the callback after x calls\n *\n * @param  {Number} count\n * @param  {Function} done\n * @return {Function}\n */\nfunction after() {\n  var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var done = arguments.length > 1 ? arguments[1] : undefined;\n  var i = 0;\n  return function () {\n    return i++ && i === count && done();\n  };\n}\n\n//# sourceURL=webpack://recurly/./lib/util/after.js?'
    );
  },
  "./lib/util/decimalize-member.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return decimalizeMember; });\n/* harmony import */ var _decimalize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./decimalize */ "./lib/util/decimalize.js");\n\n/**\n * Applies a decimal transform on an object\'s member\n *\n * @param {String} prop Property on {this} to transform\n * @this {Object} on which to apply decimal transformation\n */\n\nfunction decimalizeMember(prop) {\n  if (typeof this[prop] !== \'number\') return;\n  this[prop] = Object(_decimalize__WEBPACK_IMPORTED_MODULE_0__["default"])(this[prop]);\n}\n\n//# sourceURL=webpack://recurly/./lib/util/decimalize-member.js?'
    );
  },
  "./lib/util/decimalize.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return decimalize; });\n/**\n * Applies a decimal transform\n *\n * @param {Number} number to transform\n */\nfunction decimalize(number) {\n  return (Math.round(number * 100) / 100).toFixed(2);\n}\n\n//# sourceURL=webpack://recurly/./lib/util/decimalize.js?'
    );
  },
  "./lib/util/deep-assign.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return deepAssign; });\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Deep Object.assign\n *\n * @param target\n * @param ...sources\n */\nfunction deepAssign(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) return target;\n  var source = sources.shift();\n\n  if (isAssignableObject(target) && isAssignableObject(source)) {\n    for (var key in source) {\n      if (isAssignableObject(source[key])) {\n        if (!target[key]) _extends(target, _defineProperty({}, key, {}));\n        deepAssign(target[key], source[key]);\n      } else {\n        _extends(target, _defineProperty({}, key, source[key]));\n      }\n    }\n  }\n\n  return deepAssign.apply(void 0, [target].concat(sources));\n}\n\nfunction isAssignableObject(item) {\n  return item && _typeof(item) === \'object\' && !Array.isArray(item) && !(item instanceof Node);\n}\n\n//# sourceURL=webpack://recurly/./lib/util/deep-assign.js?'
    );
  },
  "./lib/util/dom.js": function (module, exports, __webpack_require__) {
    eval(
      "/**\n * dependencies\n */\nvar slug = __webpack_require__(/*! to-slug-case */ \"./node_modules/to-slug-case/index.js\");\n\nvar each = __webpack_require__(/*! component-each */ \"./node_modules/component-each/index.js\");\n/**\n * expose\n */\n\n\nmodule.exports = {\n  createHiddenInput: createHiddenInput,\n  data: data,\n  element: element,\n  findNodeInParents: findNodeInParents,\n  value: value\n};\n/**\n * Detects whether an object is an html element.\n *\n * @param {HTMLElement|jQuery|String} node\n * @return {HTMLElement|Boolean} node\n */\n\nfunction element(node) {\n  var jQuery = window.jQuery;\n  var isJQuery = jQuery && node instanceof jQuery;\n  var isElem;\n  if (isJQuery || Array.isArray(node)) node = node[0];\n  if (typeof node === 'string') node = window.document.querySelector(node);\n\n  if (!node) {\n    return false;\n  }\n\n  if (typeof HTMLElement !== 'undefined') {\n    isElem = node instanceof HTMLElement;\n  } else {\n    isElem = node.nodeType === 1;\n  }\n\n  return isElem && node;\n}\n/**\n * Gets or sets the value of a given HTML form element\n *\n * supports text inputs, radio inputs, and selects\n *\n * @param {HTMLElement} node\n * @return {String} val value of the element\n */\n\n\nfunction value(node, val) {\n  if (!element(node)) return null;\n\n  if (typeof val !== 'undefined') {\n    return valueSet(node, val);\n  } else {\n    return valueGet(node);\n  }\n}\n/**\n * Gets an HTMLElement's value property in the context of a form\n *\n * @private\n * @param {HTMLElement} node\n * @return {String} node's value\n */\n\n\nfunction valueGet(node) {\n  node = element(node);\n  var nodeType = node && node.type && node.type.toLowerCase();\n  var value;\n\n  if (!nodeType) {\n    value = '';\n  } else if ('options' in node) {\n    var option = node.options[node.selectedIndex] || node.options[0] || {\n      value: ''\n    };\n    value = option.value;\n  } else if (nodeType === 'checkbox') {\n    if (node.checked) value = node.value;\n  } else if (nodeType === 'radio') {\n    var radios = document.querySelectorAll('input[data-recurly=\"' + data(node, 'recurly') + '\"]');\n    each(radios, function (radio) {\n      if (radio.checked) value = radio.value;\n    });\n  } else if ('value' in node) {\n    value = node.value;\n  }\n\n  return value;\n}\n/**\n * Updates an element's value property if\n * one exists; else innerText if it exists\n *\n * @private\n * @param {Array[HTMLElement]} nodes\n * @param {Mixed} value\n */\n\n\nfunction valueSet(nodes, value) {\n  if (!Array.isArray(nodes)) nodes = [nodes];\n  each(nodes, function (node) {\n    if (!node) return;else if ('value' in node) node.value = value;else if ('textContent' in node) node.textContent = value;else if ('innerText' in node) node.innerText = value;\n  });\n}\n/**\n * Gets or sets a node's data attribute\n *\n * @param {HTMLElement} node\n * @param {String} key\n * @param {Mixed} [value]\n * @return {String} value\n */\n\n\nfunction data(node, key, value) {\n  node = element(node);\n  if (!node) return;\n\n  if (typeof value !== 'undefined') {\n    return dataSet(node, key, value);\n  } else {\n    return dataGet(node, key);\n  }\n}\n/**\n * Gets a node's data attribute\n *\n * @private\n * @param {HTMLElement} node\n * @param {String} key\n * @return {String} attribute value\n */\n\n\nfunction dataGet(node, key) {\n  if (node.dataset) {\n    return node.dataset[key];\n  } else {\n    return node.getAttribute('data-' + slug(key));\n  }\n}\n/**\n * sets a node's data attribute\n *\n * @private\n * @param {HTMLElement} node\n * @param {String} key\n * @param {Mixed} value\n * @return {String} value\n */\n\n\nfunction dataSet(node, key, value) {\n  if (node.dataset) {\n    node.dataset[key] = value;\n  } else {\n    node.setAttribute('data-' + slug(key), value);\n  }\n\n  return '' + value;\n}\n/**\n * take an html node and find a parent node with a target tag name\n * example tag names: 'div', 'form'\n *\n * @param  {HTMLElement} node\n * @param  {String} targetTagName the name of the target element type\n * @return {HTMLElement} the found node if available\n */\n\n\nfunction findNodeInParents(node, targetTagName) {\n  node = element(node);\n  if (!node) return null;\n  if (node.tagName.match(RegExp(targetTagName, 'i'))) return node;\n  return findNodeInParents(node.parentNode, targetTagName);\n}\n/**\n * Create a hidden input element\n *\n * @return {InputElement}\n */\n\n\nfunction createHiddenInput() {\n  var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var inputType = 'input';\n\n  if (~['button', 'select'].indexOf(attributes.type)) {\n    inputType = attributes.type;\n    delete attributes.type;\n  }\n\n  var hidden = window.document.createElement(inputType);\n  if (!('type' in attributes)) attributes.type = 'text';\n  if (!('style' in attributes)) attributes.style = 'position: absolute; top: 0px; left: -1000px; opacity: 0;';\n  attributes['aria-hidden'] = true;\n  Object.keys(attributes).forEach(function (attr) {\n    return hidden.setAttribute(attr, attributes[attr]);\n  });\n  return hidden;\n}\n\n//# sourceURL=webpack://recurly/./lib/util/dom.js?"
    );
  },
  "./lib/util/flatten.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return flatten; });\n/**\n * Flattens an array from any dimension to 1D\n *\n * @param  {Array} arr\n * @return {Array} flattened array\n */\nfunction flatten(arr) {\n  return arr.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n  }, []);\n}\n\n//# sourceURL=webpack://recurly/./lib/util/flatten.js?'
    );
  },
  "./lib/util/group-by.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return groupBy; });\n/**\n * Reduces an array into a object whose keys\n * correspond to the value returned by the iteratee function\n *\n * @param  {array}    set      array to group\n * @param  {Function} iteratee returns the value upon which to group\n * @return {Object}            { [iteratee[item]]: [items...], ... }\n */\nfunction groupBy(set) {\n  var iteratee = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (v) {\n    return v;\n  };\n  return set.reduce(function (acc, item) {\n    var reductionKey = iteratee(item);\n    (acc[reductionKey] = acc[reductionKey] || []).push(item);\n    return acc;\n  }, {});\n}\n\n//# sourceURL=webpack://recurly/./lib/util/group-by.js?'
    );
  },
  "./lib/util/normalize.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ "./lib/util/dom.js");\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");\n/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_parse_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/parse-card */ "./lib/util/parse-card.js");\n\n\n\n/**\n * Parses options out of a form element and normalizes according to an allowlist.\n *\n * @param {Object|HTMLFormElement} input\n * @param {Array} allowlist of field names\n * @param {Object} [options]\n * @param {Boolean} [options.parseCard] whether to parse the card number value\n * @return {Object}\n */\n\nfunction normalize(input, allowlist) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var data = {\n    fields: {},\n    values: {}\n  };\n  var el = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.element(input);\n\n  if (el && \'form\' === el.nodeName.toLowerCase()) {\n    component_each__WEBPACK_IMPORTED_MODULE_1___default()(el.querySelectorAll(\'[data-recurly]\'), function (field) {\n      var name = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.data(field, \'recurly\');\n\n      if (~allowlist.indexOf(name)) {\n        data.fields[name] = field;\n        data.values[name] = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.value(field);\n      }\n    });\n  } else {\n    data.values = input;\n  }\n\n  if (options.parseCard) {\n    data.values.number = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_2__["parseCard"])(data.values.number);\n  }\n\n  return data;\n}\n\n//# sourceURL=webpack://recurly/./lib/util/normalize.js?'
    );
  },
  "./lib/util/parse-card.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseCard\", function() { return parseCard; });\n/**\n * Removes dashes and spaces from a card number.\n *\n * @param {Number|String} number\n * @return {String} parsed card number\n */\nfunction parseCard(number) {\n  return (number || '').toString().replace(/[-\\s]/g, '');\n}\n\n//# sourceURL=webpack://recurly/./lib/util/parse-card.js?"
    );
  },
  "./lib/util/readiness-emitter.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ReadinessEmitter; });\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");\n/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar ReadinessEmitter = /*#__PURE__*/function (_Emitter) {\n  _inherits(ReadinessEmitter, _Emitter);\n\n  var _super = _createSuper(ReadinessEmitter);\n\n  function ReadinessEmitter() {\n    var _this;\n\n    _classCallCheck(this, ReadinessEmitter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), "_ready", false);\n\n    return _this;\n  }\n\n  _createClass(ReadinessEmitter, [{\n    key: "whenReady",\n\n    /**\n     * Calls the callback when the instance is marked as ready\n     *\n     * @param  {Function} callback\n     */\n    value: function whenReady(callback) {\n      var _ready = this._ready;\n      if (_ready) callback();else this.once(\'ready\', callback);\n    }\n    /**\n     * Marks the instance as ready\n     * @return {[type]} [description]\n     */\n\n  }, {\n    key: "markReady",\n    value: function markReady() {\n      this._ready = true;\n      this.emit(\'ready\');\n    }\n  }]);\n\n  return ReadinessEmitter;\n}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n\n\n//# sourceURL=webpack://recurly/./lib/util/readiness-emitter.js?'
    );
  },
  "./lib/util/tax-ceil.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return taxCeil; });\n/**\n * Ceilings the second decimal of a number without risk of\n * floating point math errors\n *\n * - returns zero if the result is negative\n *\n * @param {Number} number\n * @return {Number}\n */\nfunction taxCeil(number) {\n  number = Math.max(number, 0);\n  return +(Math.ceil(number + 'e+2') + 'e-2');\n}\n\n//# sourceURL=webpack://recurly/./lib/util/tax-ceil.js?"
    );
  },
  "./lib/util/uid.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return uid; });\n/* harmony import */ var nanoid_generate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/generate */ "./node_modules/nanoid/generate.js");\n/* harmony import */ var nanoid_generate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nanoid_generate__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CHARSET = \'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\';\n/**\n * returns a new nanoid according to our charset\n *\n * @return {String}\n */\n\nfunction uid() {\n  return nanoid_generate__WEBPACK_IMPORTED_MODULE_0___default()(CHARSET, 16);\n}\n\n//# sourceURL=webpack://recurly/./lib/util/uid.js?'
    );
  },
  "./lib/util/web-storage.js": function (
    module,
    __webpack_exports__,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NAMESPACE", function() { return NAMESPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORES", function() { return STORES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectStore", function() { return objectStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetch", function() { return fetch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "set", function() { return set; });\nvar debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")(\'recurly:web-storage\');\n\nvar NAMESPACE = \'__recurly__\';\nvar STORES = {\n  local: function local() {\n    return window.localStorage;\n  },\n  session: function session() {\n    return window.sessionStorage;\n  }\n};\nvar objectStore = {\n  setItem: function setItem(name, value) {\n    return this[name] = value;\n  },\n  getItem: function getItem(name) {\n    if (name in this) return this[name];else return null;\n  }\n};\n\nvar namespaced = function namespaced(key) {\n  return "".concat(NAMESPACE, ".").concat(key);\n};\n/**\n * Fetches a value from web storage, optionally setting its value\n * if it is not already set\n *\n * @param  {String}    options.scope       \'session\' or \'local\'\n * @param  {String}    options.key         item key\n * @param  {DOMString} [options.otherwise] value to set if this key is new\n * @param  {DOMString} [options.set]       force a value to be set\n * @return {Mixed}     item value\n */\n\n\nfunction fetch(_ref) {\n  var _ref$scope = _ref.scope,\n      scope = _ref$scope === void 0 ? \'local\' : _ref$scope,\n      key = _ref.key,\n      otherwise = _ref.otherwise;\n  var value = store(scope).getItem(namespaced(key));\n\n  if (value === null && !~[null, undefined].indexOf(otherwise)) {\n    value = otherwise;\n    store(scope).setItem(namespaced(key), value);\n  }\n\n  return value;\n}\nfunction set(_ref2) {\n  var _ref2$scope = _ref2.scope,\n      scope = _ref2$scope === void 0 ? \'local\' : _ref2$scope,\n      key = _ref2.key,\n      value = _ref2.value;\n  store(scope).setItem(namespaced(key), value);\n  return store(scope).getItem(namespaced(key));\n}\n\nfunction store(scope) {\n  try {\n    var _store = STORES[scope]();\n\n    _store.setItem(NAMESPACE, NAMESPACE);\n\n    _store.removeItem(NAMESPACE);\n\n    return _store;\n  } catch (e) {\n    debug(\'Web storage is not available due to\', e);\n    return objectStore;\n  }\n}\n\n//# sourceURL=webpack://recurly/./lib/util/web-storage.js?'
    );
  },
  "./node_modules/array-unique/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "/*!\n * array-unique <https://github.com/jonschlinkert/array-unique>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n\n\nmodule.exports = function unique(arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.');\n  }\n\n  var len = arr.length;\n  var i = -1;\n\n  while (i++ < len) {\n    var j = i + 1;\n\n    for (; j < arr.length; ++j) {\n      if (arr[i] === arr[j]) {\n        arr.splice(j--, 1);\n      }\n    }\n  }\n  return arr;\n};\n\nmodule.exports.immutable = function uniqueImmutable(arr) {\n  if (!Array.isArray(arr)) {\n    throw new TypeError('array-unique expects an array.');\n  }\n\n  var arrLen = arr.length;\n  var newArr = new Array(arrLen);\n\n  for (var i = 0; i < arrLen; i++) {\n    newArr[i] = arr[i];\n  }\n\n  return module.exports(newArr);\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/array-unique/index.js?"
    );
  },
  "./node_modules/asap/browser-asap.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = __webpack_require__(/*! ./raw */ "./node_modules/asap/browser-raw.js");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/asap/browser-asap.js?'
    );
  },
  "./node_modules/asap/browser-raw.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser\'s own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don\'t\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== "undefined" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === "function") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser\'s renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js\u2019s\n// `process.on("uncaughtException")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between "1" and "-1".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode("");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page\'s first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don\'t need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we\'re flushing, there\'s no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n//# sourceURL=webpack://recurly/./node_modules/asap/browser-raw.js?'
    );
  },
  "./node_modules/bowser/src/bowser.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "/*!\n * Bowser - a browser detector\n * https://github.com/ded/bowser\n * MIT License | (c) Dustin Diaz 2015\n */\n\n!function (root, name, definition) {\n  if ( true && module.exports) module.exports = definition()\n  else if (true) __webpack_require__(/*! !webpack amd define */ \"./node_modules/webpack/buildin/amd-define.js\")(name, definition)\n  else {}\n}(this, 'bowser', function () {\n  /**\n    * See useragents.js for examples of navigator.userAgent\n    */\n\n  var t = true\n\n  function detect(ua) {\n\n    function getFirstMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[1]) || '';\n    }\n\n    function getSecondMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[2]) || '';\n    }\n\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n      , likeAndroid = /like android/i.test(ua)\n      , android = !likeAndroid && /android/i.test(ua)\n      , nexusMobile = /nexus\\s*[0-6]\\s*/i.test(ua)\n      , nexusTablet = !nexusMobile && /nexus\\s*[0-9]+/i.test(ua)\n      , chromeos = /CrOS/.test(ua)\n      , silk = /silk/i.test(ua)\n      , sailfish = /sailfish/i.test(ua)\n      , tizen = /tizen/i.test(ua)\n      , webos = /(web|hpw)(o|0)s/i.test(ua)\n      , windowsphone = /windows phone/i.test(ua)\n      , samsungBrowser = /SamsungBrowser/i.test(ua)\n      , windows = !windowsphone && /windows/i.test(ua)\n      , mac = !iosdevice && !silk && /macintosh/i.test(ua)\n      , linux = !android && !sailfish && !tizen && !webos && /linux/i.test(ua)\n      , edgeVersion = getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i)\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n      , tablet = /tablet/i.test(ua) && !/tablet pc/i.test(ua)\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\n      , xbox = /xbox/i.test(ua)\n      , result\n\n    if (/opera/i.test(ua)) {\n      //  an old Opera\n      result = {\n        name: 'Opera'\n      , opera: t\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/opr\\/|opios/i.test(ua)) {\n      // a new Opera\n      result = {\n        name: 'Opera'\n        , opera: t\n        , version: getFirstMatch(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/SamsungBrowser/i.test(ua)) {\n      result = {\n        name: 'Samsung Internet for Android'\n        , samsungBrowser: t\n        , version: versionIdentifier || getFirstMatch(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/Whale/i.test(ua)) {\n      result = {\n        name: 'NAVER Whale browser'\n        , whale: t\n        , version: getFirstMatch(/(?:whale)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/MZBrowser/i.test(ua)) {\n      result = {\n        name: 'MZ Browser'\n        , mzbrowser: t\n        , version: getFirstMatch(/(?:MZBrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/coast/i.test(ua)) {\n      result = {\n        name: 'Opera Coast'\n        , coast: t\n        , version: versionIdentifier || getFirstMatch(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/focus/i.test(ua)) {\n      result = {\n        name: 'Focus'\n        , focus: t\n        , version: getFirstMatch(/(?:focus)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/yabrowser/i.test(ua)) {\n      result = {\n        name: 'Yandex Browser'\n      , yandexbrowser: t\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/ucbrowser/i.test(ua)) {\n      result = {\n          name: 'UC Browser'\n        , ucbrowser: t\n        , version: getFirstMatch(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/mxios/i.test(ua)) {\n      result = {\n        name: 'Maxthon'\n        , maxthon: t\n        , version: getFirstMatch(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/epiphany/i.test(ua)) {\n      result = {\n        name: 'Epiphany'\n        , epiphany: t\n        , version: getFirstMatch(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/puffin/i.test(ua)) {\n      result = {\n        name: 'Puffin'\n        , puffin: t\n        , version: getFirstMatch(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n      }\n    }\n    else if (/sleipnir/i.test(ua)) {\n      result = {\n        name: 'Sleipnir'\n        , sleipnir: t\n        , version: getFirstMatch(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/k-meleon/i.test(ua)) {\n      result = {\n        name: 'K-Meleon'\n        , kMeleon: t\n        , version: getFirstMatch(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (windowsphone) {\n      result = {\n        name: 'Windows Phone'\n      , osname: 'Windows Phone'\n      , windowsphone: t\n      }\n      if (edgeVersion) {\n        result.msedge = t\n        result.version = edgeVersion\n      }\n      else {\n        result.msie = t\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/msie|trident/i.test(ua)) {\n      result = {\n        name: 'Internet Explorer'\n      , msie: t\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (chromeos) {\n      result = {\n        name: 'Chrome'\n      , osname: 'Chrome OS'\n      , chromeos: t\n      , chromeBook: t\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/edg([ea]|ios)/i.test(ua)) {\n      result = {\n        name: 'Microsoft Edge'\n      , msedge: t\n      , version: edgeVersion\n      }\n    }\n    else if (/vivaldi/i.test(ua)) {\n      result = {\n        name: 'Vivaldi'\n        , vivaldi: t\n        , version: getFirstMatch(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (sailfish) {\n      result = {\n        name: 'Sailfish'\n      , osname: 'Sailfish OS'\n      , sailfish: t\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/seamonkey\\//i.test(ua)) {\n      result = {\n        name: 'SeaMonkey'\n      , seamonkey: t\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/firefox|iceweasel|fxios/i.test(ua)) {\n      result = {\n        name: 'Firefox'\n      , firefox: t\n      , version: getFirstMatch(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n      }\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n        result.firefoxos = t\n        result.osname = 'Firefox OS'\n      }\n    }\n    else if (silk) {\n      result =  {\n        name: 'Amazon Silk'\n      , silk: t\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/phantom/i.test(ua)) {\n      result = {\n        name: 'PhantomJS'\n      , phantom: t\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/slimerjs/i.test(ua)) {\n      result = {\n        name: 'SlimerJS'\n        , slimer: t\n        , version: getFirstMatch(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n      result = {\n        name: 'BlackBerry'\n      , osname: 'BlackBerry OS'\n      , blackberry: t\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (webos) {\n      result = {\n        name: 'WebOS'\n      , osname: 'WebOS'\n      , webos: t\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      };\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\n    }\n    else if (/bada/i.test(ua)) {\n      result = {\n        name: 'Bada'\n      , osname: 'Bada'\n      , bada: t\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      };\n    }\n    else if (tizen) {\n      result = {\n        name: 'Tizen'\n      , osname: 'Tizen'\n      , tizen: t\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      };\n    }\n    else if (/qupzilla/i.test(ua)) {\n      result = {\n        name: 'QupZilla'\n        , qupzilla: t\n        , version: getFirstMatch(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || versionIdentifier\n      }\n    }\n    else if (/chromium/i.test(ua)) {\n      result = {\n        name: 'Chromium'\n        , chromium: t\n        , version: getFirstMatch(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/chrome|crios|crmo/i.test(ua)) {\n      result = {\n        name: 'Chrome'\n        , chrome: t\n        , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (android) {\n      result = {\n        name: 'Android'\n        , version: versionIdentifier\n      }\n    }\n    else if (/safari|applewebkit/i.test(ua)) {\n      result = {\n        name: 'Safari'\n      , safari: t\n      }\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if (iosdevice) {\n      result = {\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n      }\n      // WTF: version is not part of user agent in web apps\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if(/googlebot/i.test(ua)) {\n      result = {\n        name: 'Googlebot'\n      , googlebot: t\n      , version: getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i) || versionIdentifier\n      }\n    }\n    else {\n      result = {\n        name: getFirstMatch(/^(.*)\\/(.*) /),\n        version: getSecondMatch(/^(.*)\\/(.*) /)\n     };\n   }\n\n    // set webkit or gecko flag for browsers based on these engines\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n      if (/(apple)?webkit\\/537\\.36/i.test(ua)) {\n        result.name = result.name || \"Blink\"\n        result.blink = t\n      } else {\n        result.name = result.name || \"Webkit\"\n        result.webkit = t\n      }\n      if (!result.version && versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\n      result.name = result.name || \"Gecko\"\n      result.gecko = t\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n    }\n\n    // set OS flags for platforms that have multiple browsers\n    if (!result.windowsphone && (android || result.silk)) {\n      result.android = t\n      result.osname = 'Android'\n    } else if (!result.windowsphone && iosdevice) {\n      result[iosdevice] = t\n      result.ios = t\n      result.osname = 'iOS'\n    } else if (mac) {\n      result.mac = t\n      result.osname = 'macOS'\n    } else if (xbox) {\n      result.xbox = t\n      result.osname = 'Xbox'\n    } else if (windows) {\n      result.windows = t\n      result.osname = 'Windows'\n    } else if (linux) {\n      result.linux = t\n      result.osname = 'Linux'\n    }\n\n    function getWindowsVersion (s) {\n      switch (s) {\n        case 'NT': return 'NT'\n        case 'XP': return 'XP'\n        case 'NT 5.0': return '2000'\n        case 'NT 5.1': return 'XP'\n        case 'NT 5.2': return '2003'\n        case 'NT 6.0': return 'Vista'\n        case 'NT 6.1': return '7'\n        case 'NT 6.2': return '8'\n        case 'NT 6.3': return '8.1'\n        case 'NT 10.0': return '10'\n        default: return undefined\n      }\n    }\n\n    // OS version extraction\n    var osVersion = '';\n    if (result.windows) {\n      osVersion = getWindowsVersion(getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i))\n    } else if (result.windowsphone) {\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n    } else if (result.mac) {\n      osVersion = getFirstMatch(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (iosdevice) {\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (android) {\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n    } else if (result.webos) {\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.blackberry) {\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n    } else if (result.bada) {\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.tizen) {\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n    }\n    if (osVersion) {\n      result.osversion = osVersion;\n    }\n\n    // device type extraction\n    var osMajorVersion = !result.windows && osVersion.split('.')[0];\n    if (\n         tablet\n      || nexusTablet\n      || iosdevice == 'ipad'\n      || (android && (osMajorVersion == 3 || (osMajorVersion >= 4 && !mobile)))\n      || result.silk\n    ) {\n      result.tablet = t\n    } else if (\n         mobile\n      || iosdevice == 'iphone'\n      || iosdevice == 'ipod'\n      || android\n      || nexusMobile\n      || result.blackberry\n      || result.webos\n      || result.bada\n    ) {\n      result.mobile = t\n    }\n\n    // Graded Browser Support\n    // http://developer.yahoo.com/yui/articles/gbs\n    if (result.msedge ||\n        (result.msie && result.version >= 10) ||\n        (result.yandexbrowser && result.version >= 15) ||\n		    (result.vivaldi && result.version >= 1.0) ||\n        (result.chrome && result.version >= 20) ||\n        (result.samsungBrowser && result.version >= 4) ||\n        (result.whale && compareVersions([result.version, '1.0']) === 1) ||\n        (result.mzbrowser && compareVersions([result.version, '6.0']) === 1) ||\n        (result.focus && compareVersions([result.version, '1.0']) === 1) ||\n        (result.firefox && result.version >= 20.0) ||\n        (result.safari && result.version >= 6) ||\n        (result.opera && result.version >= 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n        (result.blackberry && result.version >= 10.1)\n        || (result.chromium && result.version >= 20)\n        ) {\n      result.a = t;\n    }\n    else if ((result.msie && result.version < 10) ||\n        (result.chrome && result.version < 20) ||\n        (result.firefox && result.version < 20.0) ||\n        (result.safari && result.version < 6) ||\n        (result.opera && result.version < 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n        || (result.chromium && result.version < 20)\n        ) {\n      result.c = t\n    } else result.x = t\n\n    return result\n  }\n\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent || '' : '')\n\n  bowser.test = function (browserList) {\n    for (var i = 0; i < browserList.length; ++i) {\n      var browserItem = browserList[i];\n      if (typeof browserItem=== 'string') {\n        if (browserItem in bowser) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Get version precisions count\n   *\n   * @example\n   *   getVersionPrecision(\"1.10.3\") // 3\n   *\n   * @param  {string} version\n   * @return {number}\n   */\n  function getVersionPrecision(version) {\n    return version.split(\".\").length;\n  }\n\n  /**\n   * Array::map polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} iterator\n   * @return {Array}\n   */\n  function map(arr, iterator) {\n    var result = [], i;\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, iterator);\n    }\n    for (i = 0; i < arr.length; i++) {\n      result.push(iterator(arr[i]));\n    }\n    return result;\n  }\n\n  /**\n   * Calculate browser version weight\n   *\n   * @example\n   *   compareVersions(['1.10.2.1',  '1.8.2.1.90'])    // 1\n   *   compareVersions(['1.010.2.1', '1.09.2.1.90']);  // 1\n   *   compareVersions(['1.10.2.1',  '1.10.2.1']);     // 0\n   *   compareVersions(['1.10.2.1',  '1.0800.2']);     // -1\n   *\n   * @param  {Array<String>} versions versions to compare\n   * @return {Number} comparison result\n   */\n  function compareVersions(versions) {\n    // 1) get common precision for both versions, for example for \"10.0\" and \"9\" it should be 2\n    var precision = Math.max(getVersionPrecision(versions[0]), getVersionPrecision(versions[1]));\n    var chunks = map(versions, function (version) {\n      var delta = precision - getVersionPrecision(version);\n\n      // 2) \"9\" -> \"9.0\" (for precision = 2)\n      version = version + new Array(delta + 1).join(\".0\");\n\n      // 3) \"9.0\" -> [\"000000000\"\", \"000000009\"]\n      return map(version.split(\".\"), function (chunk) {\n        return new Array(20 - chunk.length).join(\"0\") + chunk;\n      }).reverse();\n    });\n\n    // iterate in reverse order by reversed chunks array\n    while (--precision >= 0) {\n      // 4) compare: \"000000009\" > \"000000010\" = false (but \"9\" > \"10\" = true)\n      if (chunks[0][precision] > chunks[1][precision]) {\n        return 1;\n      }\n      else if (chunks[0][precision] === chunks[1][precision]) {\n        if (precision === 0) {\n          // all version chunks are same\n          return 0;\n        }\n      }\n      else {\n        return -1;\n      }\n    }\n  }\n\n  /**\n   * Check if browser is unsupported\n   *\n   * @example\n   *   bowser.isUnsupportedBrowser({\n   *     msie: \"10\",\n   *     firefox: \"23\",\n   *     chrome: \"29\",\n   *     safari: \"5.1\",\n   *     opera: \"16\",\n   *     phantom: \"534\"\n   *   });\n   *\n   * @param  {Object}  minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function isUnsupportedBrowser(minVersions, strictMode, ua) {\n    var _bowser = bowser;\n\n    // make strictMode param optional with ua param usage\n    if (typeof strictMode === 'string') {\n      ua = strictMode;\n      strictMode = void(0);\n    }\n\n    if (strictMode === void(0)) {\n      strictMode = false;\n    }\n    if (ua) {\n      _bowser = detect(ua);\n    }\n\n    var version = \"\" + _bowser.version;\n    for (var browser in minVersions) {\n      if (minVersions.hasOwnProperty(browser)) {\n        if (_bowser[browser]) {\n          if (typeof minVersions[browser] !== 'string') {\n            throw new Error('Browser version in the minVersion map should be a string: ' + browser + ': ' + String(minVersions));\n          }\n\n          // browser version and min supported version.\n          return compareVersions([version, minVersions[browser]]) < 0;\n        }\n      }\n    }\n\n    return strictMode; // not found\n  }\n\n  /**\n   * Check if browser is supported\n   *\n   * @param  {Object} minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function check(minVersions, strictMode, ua) {\n    return !isUnsupportedBrowser(minVersions, strictMode, ua);\n  }\n\n  bowser.isUnsupportedBrowser = isUnsupportedBrowser;\n  bowser.compareVersions = compareVersions;\n  bowser.check = check;\n\n  /*\n   * Set our detect method to the main bowser object so we can\n   * reuse it to test other user agents.\n   * This is needed to implement future tests.\n   */\n  bowser._detect = detect;\n\n  /*\n   * Set our detect public method to the main bowser object\n   * This is needed to implement bowser in server side\n   */\n  bowser.detect = detect;\n  return bowser\n});\n\n\n//# sourceURL=webpack://recurly/./node_modules/bowser/src/bowser.js?"
    );
  },
  "./node_modules/component-clone/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "/**\n * Module dependencies.\n */\n\nvar type;\ntry {\n  type = __webpack_require__(/*! component-type */ \"./node_modules/component-type/index.js\");\n} catch (_) {\n  type = __webpack_require__(/*! type */ \"./node_modules/component-type/index.js\");\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = clone;\n\n/**\n * Clones objects.\n *\n * @param {Mixed} any object\n * @api public\n */\n\nfunction clone(obj){\n  switch (type(obj)) {\n    case 'object':\n      var copy = {};\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          copy[key] = clone(obj[key]);\n        }\n      }\n      return copy;\n\n    case 'array':\n      var copy = new Array(obj.length);\n      for (var i = 0, l = obj.length; i < l; i++) {\n        copy[i] = clone(obj[i]);\n      }\n      return copy;\n\n    case 'regexp':\n      // from millermedeiros/amd-utils - MIT\n      var flags = '';\n      flags += obj.multiline ? 'm' : '';\n      flags += obj.global ? 'g' : '';\n      flags += obj.ignoreCase ? 'i' : '';\n      return new RegExp(obj.source, flags);\n\n    case 'date':\n      return new Date(obj.getTime());\n\n    default: // string, number, boolean, \u2026\n      return obj;\n  }\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-clone/index.js?"
    );
  },
  "./node_modules/component-each/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\n/**\n * Module dependencies.\n */\n\ntry {\n  var type = __webpack_require__(/*! type */ \"./node_modules/component-each/node_modules/component-type/index.js\");\n} catch (err) {\n  var type = __webpack_require__(/*! component-type */ \"./node_modules/component-each/node_modules/component-type/index.js\");\n}\n\nvar toFunction = __webpack_require__(/*! to-function */ \"./node_modules/to-function/index.js\");\n\n/**\n * HOP reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Iterate the given `obj` and invoke `fn(val, i)`\n * in optional context `ctx`.\n *\n * @param {String|Array|Object} obj\n * @param {Function} fn\n * @param {Object} [ctx]\n * @api public\n */\n\nmodule.exports = function(obj, fn, ctx){\n  fn = toFunction(fn);\n  ctx = ctx || this;\n  switch (type(obj)) {\n    case 'array':\n      return array(obj, fn, ctx);\n    case 'object':\n      if ('number' == typeof obj.length) return array(obj, fn, ctx);\n      return object(obj, fn, ctx);\n    case 'string':\n      return string(obj, fn, ctx);\n  }\n};\n\n/**\n * Iterate string chars.\n *\n * @param {String} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction string(obj, fn, ctx) {\n  for (var i = 0; i < obj.length; ++i) {\n    fn.call(ctx, obj.charAt(i), i);\n  }\n}\n\n/**\n * Iterate object keys.\n *\n * @param {Object} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction object(obj, fn, ctx) {\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      fn.call(ctx, key, obj[key]);\n    }\n  }\n}\n\n/**\n * Iterate array-ish.\n *\n * @param {Array|Object} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction array(obj, fn, ctx) {\n  for (var i = 0; i < obj.length; ++i) {\n    fn.call(ctx, obj[i], i);\n  }\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-each/index.js?"
    );
  },
  "./node_modules/component-each/node_modules/component-type/index.js":
    function (module, exports) {
      eval(
        "\n/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Function]': return 'function';\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object String]': return 'string';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val && val.nodeType === 1) return 'element';\n  if (val === Object(val)) return 'object';\n\n  return typeof val;\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-each/node_modules/component-type/index.js?"
      );
    },
  "./node_modules/component-emitter/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (true) {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-emitter/index.js?"
    );
  },
  "./node_modules/component-find/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\n/**\n * Module dependencies.\n */\n\nvar toFunction = __webpack_require__(/*! to-function */ \"./node_modules/to-function/index.js\");\n\n/**\n * Find the first value in `arr` with when `fn(val, i)` is truthy.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @return {Array}\n * @api public\n */\n\nmodule.exports = function(arr, fn){\n  // callback\n  if ('function' != typeof fn) {\n    if (Object(fn) === fn) fn = objectToFunction(fn);\n    else fn = toFunction(fn);\n  }\n\n  // filter\n  for (var i = 0, len = arr.length; i < len; ++i) {\n    if (fn(arr[i], i)) return arr[i];\n  }\n};\n\n/**\n * Convert `obj` into a match function.\n *\n * @param {Object} obj\n * @return {Function}\n * @api private\n */\n\nfunction objectToFunction(obj) {\n  return function(o){\n    for (var key in obj) {\n      if (o[key] != obj[key]) return false;\n    }\n    return true;\n  }\n}\n\n//# sourceURL=webpack://recurly/./node_modules/component-find/index.js?"
    );
  },
  "./node_modules/component-props/index.js": function (module, exports) {
    eval(
      "/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nmodule.exports = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-props/index.js?"
    );
  },
  "./node_modules/component-type/index.js": function (module, exports) {
    eval(
      "/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  if (isBuffer(val)) return 'buffer';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val);\n\n  return typeof val;\n};\n\n// code borrowed from https://github.com/feross/is-buffer/blob/master/index.js\nfunction isBuffer(obj) {\n  return !!(obj != null &&\n    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n      (obj.constructor &&\n      typeof obj.constructor.isBuffer === 'function' &&\n      obj.constructor.isBuffer(obj))\n    ))\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/component-type/index.js?"
    );
  },
  "./node_modules/currency-symbol-map/currency-symbol-map.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "var currencySymbolMap = __webpack_require__(/*! ./map */ \"./node_modules/currency-symbol-map/map.js\")\n\nmodule.exports = function getSymbolFromCurrency (currencyCode) {\n  if (typeof currencyCode !== 'string') return undefined\n  var code = currencyCode.toUpperCase()\n  if (!currencySymbolMap.hasOwnProperty(code)) return undefined\n  return currencySymbolMap[code]\n}\n\nmodule.exports.currencySymbolMap = currencySymbolMap\n\n\n//# sourceURL=webpack://recurly/./node_modules/currency-symbol-map/currency-symbol-map.js?"
    );
  },
  "./node_modules/currency-symbol-map/map.js": function (module, exports) {
    eval(
      "module.exports = {\n  'AED': '\u062f.\u0625',\n  'AFN': '\u060b',\n  'ALL': 'L',\n  'AMD': '\u058f',\n  'ANG': '\u0192',\n  'AOA': 'Kz',\n  'ARS': '$',\n  'AUD': '$',\n  'AWG': '\u0192',\n  'AZN': '\u20bc',\n  'BAM': 'KM',\n  'BBD': '$',\n  'BDT': '\u09f3',\n  'BGN': '\u043b\u0432',\n  'BHD': '.\u062f.\u0628',\n  'BIF': 'FBu',\n  'BMD': '$',\n  'BND': '$',\n  'BOB': '$b',\n  'BRL': 'R$',\n  'BSD': '$',\n  'BTC': '\u0e3f',\n  'BTN': 'Nu.',\n  'BWP': 'P',\n  'BYR': 'Br',\n  'BYN': 'Br',\n  'BZD': 'BZ$',\n  'CAD': '$',\n  'CDF': 'FC',\n  'CHF': 'CHF',\n  'CLP': '$',\n  'CNY': '\xa5',\n  'COP': '$',\n  'CRC': '\u20a1',\n  'CUC': '$',\n  'CUP': '\u20b1',\n  'CVE': '$',\n  'CZK': 'K\u010d',\n  'DJF': 'Fdj',\n  'DKK': 'kr',\n  'DOP': 'RD$',\n  'DZD': '\u062f\u062c',\n  'EEK': 'kr',\n  'EGP': '\xa3',\n  'ERN': 'Nfk',\n  'ETB': 'Br',\n  'ETH': '\u039e',\n  'EUR': '\u20ac',\n  'FJD': '$',\n  'FKP': '\xa3',\n  'GBP': '\xa3',\n  'GEL': '\u20be',\n  'GGP': '\xa3',\n  'GHC': '\u20b5',\n  'GHS': 'GH\u20b5',\n  'GIP': '\xa3',\n  'GMD': 'D',\n  'GNF': 'FG',\n  'GTQ': 'Q',\n  'GYD': '$',\n  'HKD': '$',\n  'HNL': 'L',\n  'HRK': 'kn',\n  'HTG': 'G',\n  'HUF': 'Ft',\n  'IDR': 'Rp',\n  'ILS': '\u20aa',\n  'IMP': '\xa3',\n  'INR': '\u20b9',\n  'IQD': '\u0639.\u062f',\n  'IRR': '\ufdfc',\n  'ISK': 'kr',\n  'JEP': '\xa3',\n  'JMD': 'J$',\n  'JOD': 'JD',\n  'JPY': '\xa5',\n  'KES': 'KSh',\n  'KGS': '\u043b\u0432',\n  'KHR': '\u17db',\n  'KMF': 'CF',\n  'KPW': '\u20a9',\n  'KRW': '\u20a9',\n  'KWD': 'KD',\n  'KYD': '$',\n  'KZT': '\u043b\u0432',\n  'LAK': '\u20ad',\n  'LBP': '\xa3',\n  'LKR': '\u20a8',\n  'LRD': '$',\n  'LSL': 'M',\n  'LTC': '\u0141',\n  'LTL': 'Lt',\n  'LVL': 'Ls',\n  'LYD': 'LD',\n  'MAD': 'MAD',\n  'MDL': 'lei',\n  'MGA': 'Ar',\n  'MKD': '\u0434\u0435\u043d',\n  'MMK': 'K',\n  'MNT': '\u20ae',\n  'MOP': 'MOP$',\n  'MRO': 'UM',\n  'MRU': 'UM',\n  'MUR': '\u20a8',\n  'MVR': 'Rf',\n  'MWK': 'MK',\n  'MXN': '$',\n  'MYR': 'RM',\n  'MZN': 'MT',\n  'NAD': '$',\n  'NGN': '\u20a6',\n  'NIO': 'C$',\n  'NOK': 'kr',\n  'NPR': '\u20a8',\n  'NZD': '$',\n  'OMR': '\ufdfc',\n  'PAB': 'B/.',\n  'PEN': 'S/.',\n  'PGK': 'K',\n  'PHP': '\u20b1',\n  'PKR': '\u20a8',\n  'PLN': 'z\u0142',\n  'PYG': 'Gs',\n  'QAR': '\ufdfc',\n  'RMB': '\uffe5',\n  'RON': 'lei',\n  'RSD': '\u0414\u0438\u043d.',\n  'RUB': '\u20bd',\n  'RWF': 'R\u20a3',\n  'SAR': '\ufdfc',\n  'SBD': '$',\n  'SCR': '\u20a8',\n  'SDG': '\u062c.\u0633.',\n  'SEK': 'kr',\n  'SGD': '$',\n  'SHP': '\xa3',\n  'SLL': 'Le',\n  'SOS': 'S',\n  'SRD': '$',\n  'SSP': '\xa3',\n  'STD': 'Db',\n  'STN': 'Db',\n  'SVC': '$',\n  'SYP': '\xa3',\n  'SZL': 'E',\n  'THB': '\u0e3f',\n  'TJS': 'SM',\n  'TMT': 'T',\n  'TND': '\u062f.\u062a',\n  'TOP': 'T$',\n  'TRL': '\u20a4',\n  'TRY': '\u20ba',\n  'TTD': 'TT$',\n  'TVD': '$',\n  'TWD': 'NT$',\n  'TZS': 'TSh',\n  'UAH': '\u20b4',\n  'UGX': 'USh',\n  'USD': '$',\n  'UYU': '$U',\n  'UZS': '\u043b\u0432',\n  'VEF': 'Bs',\n  'VND': '\u20ab',\n  'VUV': 'VT',\n  'WST': 'WS$',\n  'XAF': 'FCFA',\n  'XBT': '\u0243',\n  'XCD': '$',\n  'XOF': 'CFA',\n  'XPF': '\u20a3',\n  'YER': '\ufdfc',\n  'ZAR': 'R',\n  'ZWD': 'Z$'\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/currency-symbol-map/map.js?"
    );
  },
  "./node_modules/debug/src/browser.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "/* WEBPACK VAR INJECTION */(function(process) {\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/debug/src/common.js\")(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n//# sourceURL=webpack://recurly/./node_modules/debug/src/browser.js?"
    );
  },
  "./node_modules/debug/src/common.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n//# sourceURL=webpack://recurly/./node_modules/debug/src/common.js?"
    );
  },
  "./node_modules/deep-filter/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nvar isPlainObject = __webpack_require__(/*! is-plain-object */ "./node_modules/is-plain-object/index.js");\n\nfunction filter(value, fn) {\n    if (Array.isArray(value)) {\n        return filterArray(value, fn);\n    } else if (isPlainObject(value)) {\n        return filterObject(value, fn);\n    }\n\n    return value;\n}\n\nfunction filterObject(obj, fn) {\n    var newObj = {};\n    var key;\n    var value;\n\n    for (key in obj) {\n        value = filter(obj[key], fn);\n\n        if (fn.call(obj, value, key, obj)) {\n            if (value !== obj[key] && !isCollection(value)) {\n                value = obj[key];\n            }\n\n            newObj[key] = value;\n        }\n    }\n\n    return newObj;\n}\n\nfunction filterArray(array, fn) {\n    var filtered = [];\n\n    array.forEach(function (value, index, array) {\n        value = filter(value, fn);\n\n        if (fn.call(array, value, index, array)) {\n            if (value !== array[index] && !isCollection(value)) {\n                value = array[index];\n            }\n\n            filtered.push(value);\n        }\n    });\n\n    return filtered;\n}\n\nfunction isCollection(value) {\n    return Array.isArray(value) || isPlainObject(value);\n}\n\nmodule.exports = filter;\n\n\n//# sourceURL=webpack://recurly/./node_modules/deep-filter/index.js?'
    );
  },
  "./node_modules/intersect/index.js": function (module, exports) {
    eval(
      "module.exports = intersect;\n\nfunction many (sets) {\n  var o = {};\n  var l = sets.length - 1;\n  var first = sets[0];\n  var last = sets[l];\n  \n  for(var i in first) o[first[i]] = 0;\n  \n  for(var i = 1; i <= l; i++) {\n    var row = sets[i];\n    for(var j in row) {\n      var key = row[j];\n      if(o[key] === i - 1) o[key] = i;\n    }\n  }\n  \n  var a = [];\n  for(var i in last) {\n    var key = last[i];\n    if(o[key] === l) a.push(key);\n  }\n  \n  return a;\n}\n\nfunction intersect (a, b) {\n  if (!b) return many(a);\n\n  var res = [];\n  for (var i = 0; i < a.length; i++) {\n    if (indexOf(b, a[i]) > -1) res.push(a[i]);\n  }\n  return res;\n}\n\nintersect.big = function(a, b) {\n  if (!b) return many(a);\n  \n  var ret = [];\n  var temp = {};\n  \n  for (var i = 0; i < b.length; i++) {\n    temp[b[i]] = true;\n  }\n  for (var i = 0; i < a.length; i++) {\n    if (temp[a[i]]) ret.push(a[i]);\n  }\n  \n  return ret;\n}\n\nfunction indexOf(arr, el) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === el) return i;\n  }\n  return -1;\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/intersect/index.js?"
    );
  },
  "./node_modules/is-plain-object/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isObject = __webpack_require__(/*! isobject */ \"./node_modules/isobject/index.js\");\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/is-plain-object/index.js?"
    );
  },
  "./node_modules/isobject/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/isobject/index.js?"
    );
  },
  "./node_modules/jsonp/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "/**\n * Module dependencies\n */\n\nvar debug = __webpack_require__(/*! debug */ \"./node_modules/jsonp/node_modules/debug/src/browser.js\")('jsonp');\n\n/**\n * Module exports.\n */\n\nmodule.exports = jsonp;\n\n/**\n * Callback index.\n */\n\nvar count = 0;\n\n/**\n * Noop function.\n */\n\nfunction noop(){}\n\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n * @param {Function} optional callback\n */\n\nfunction jsonp(url, opts, fn){\n  if ('function' == typeof opts) {\n    fn = opts;\n    opts = {};\n  }\n  if (!opts) opts = {};\n\n  var prefix = opts.prefix || '__jp';\n\n  // use the callback name that was passed if one was provided.\n  // otherwise generate a unique name by incrementing our counter.\n  var id = opts.name || (prefix + (count++));\n\n  var param = opts.param || 'callback';\n  var timeout = null != opts.timeout ? opts.timeout : 60000;\n  var enc = encodeURIComponent;\n  var target = document.getElementsByTagName('script')[0] || document.head;\n  var script;\n  var timer;\n\n\n  if (timeout) {\n    timer = setTimeout(function(){\n      cleanup();\n      if (fn) fn(new Error('Timeout'));\n    }, timeout);\n  }\n\n  function cleanup(){\n    if (script.parentNode) script.parentNode.removeChild(script);\n    window[id] = noop;\n    if (timer) clearTimeout(timer);\n  }\n\n  function cancel(){\n    if (window[id]) {\n      cleanup();\n    }\n  }\n\n  window[id] = function(data){\n    debug('jsonp got', data);\n    cleanup();\n    if (fn) fn(null, data);\n  };\n\n  // add qs component\n  url += (~url.indexOf('?') ? '&' : '?') + param + '=' + enc(id);\n  url = url.replace('?&', '?');\n\n  debug('jsonp req \"%s\"', url);\n\n  // create script\n  script = document.createElement('script');\n  script.src = url;\n  target.parentNode.insertBefore(script, target);\n\n  return cancel;\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/jsonp/index.js?"
    );
  },
  "./node_modules/jsonp/node_modules/debug/src/browser.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "/* WEBPACK VAR INJECTION */(function(process) {/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = __webpack_require__(/*! ./debug */ \"./node_modules/jsonp/node_modules/debug/src/debug.js\");\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n//# sourceURL=webpack://recurly/./node_modules/jsonp/node_modules/debug/src/browser.js?"
    );
  },
  "./node_modules/jsonp/node_modules/debug/src/debug.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = __webpack_require__(/*! ms */ \"./node_modules/jsonp/node_modules/ms/index.js\");\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/jsonp/node_modules/debug/src/debug.js?"
    );
  },
  "./node_modules/jsonp/node_modules/ms/index.js": function (module, exports) {
    eval(
      "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/jsonp/node_modules/ms/index.js?"
    );
  },
  "./node_modules/load-script/index.js": function (module, exports) {
    eval(
      "\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/load-script/index.js?"
    );
  },
  "./node_modules/lodash.chunk/index.js": function (module, exports) {
    eval(
      "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array ? array.length : 0;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = chunk;\n\n\n//# sourceURL=webpack://recurly/./node_modules/lodash.chunk/index.js?"
    );
  },
  "./node_modules/lodash.isempty/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "/* WEBPACK VAR INJECTION */(function(module) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' ||\n        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (nonEnumShadows || isPrototype(value)) {\n    return !nativeKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEmpty;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n//# sourceURL=webpack://recurly/./node_modules/lodash.isempty/index.js?"
    );
  },
  "./node_modules/lodash.pick/index.js": function (module, exports) {
    eval(
      "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = baseRest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nmodule.exports = pick;\n\n\n//# sourceURL=webpack://recurly/./node_modules/lodash.pick/index.js?"
    );
  },
  "./node_modules/ms/index.js": function (module, exports) {
    eval(
      "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/ms/index.js?"
    );
  },
  "./node_modules/nanoid/format.browser.js": function (module, exports) {
    eval(
      "// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nmodule.exports = function (random, alphabet, size) {\n  // We can\u2019t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length)\n  var id = ''\n\n  while (true) {\n    var bytes = random(step)\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || ''\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/nanoid/format.browser.js?"
    );
  },
  "./node_modules/nanoid/generate.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      'var random = __webpack_require__(/*! ./random */ "./node_modules/nanoid/random.browser.js")\nvar format = __webpack_require__(/*! ./format */ "./node_modules/nanoid/format.browser.js")\n\n/**\n * Low-level function to change alphabet and ID size.\n *\n * Alphabet must contain 256 symbols or less. Otherwise, the generator\n * will not be secure.\n *\n * @param {string} alphabet Symbols to be used in ID.\n * @param {number} size The number of symbols in ID.\n *\n * @return {string} Unique ID.\n *\n * @example\n * const generate = require(\'nanoid/generate\')\n * model.id = generate(\'0123456789\u0430\u0431\u0432\u0433\u0434\u0435\u0451\', 5) //=> "8\u045156\u0430"\n *\n * @name generate\n * @function\n */\nmodule.exports = format.bind(null, random)\n\n\n//# sourceURL=webpack://recurly/./node_modules/nanoid/generate.js?'
    );
  },
  "./node_modules/nanoid/random.browser.js": function (module, exports) {
    eval(
      "var crypto = self.crypto || self.msCrypto\n\nmodule.exports = function (bytes) {\n  return crypto.getRandomValues(new Uint8Array(bytes))\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/nanoid/random.browser.js?"
    );
  },
  "./node_modules/process/browser.js": function (module, exports) {
    eval(
      "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//# sourceURL=webpack://recurly/./node_modules/process/browser.js?"
    );
  },
  "./node_modules/promise/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nmodule.exports = __webpack_require__(/*! ./lib */ "./node_modules/promise/lib/index.js")\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/index.js?'
    );
  },
  "./node_modules/promise/lib/core.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar asap = __webpack_require__(/*! asap/raw */ \"./node_modules/asap/browser-raw.js\");\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._U = 0;\n  this._V = 0;\n  this._W = null;\n  this._X = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._Y = null;\nPromise._Z = null;\nPromise._0 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._V === 3) {\n    self = self._W;\n  }\n  if (Promise._Y) {\n    Promise._Y(self);\n  }\n  if (self._V === 0) {\n    if (self._U === 0) {\n      self._U = 1;\n      self._X = deferred;\n      return;\n    }\n    if (self._U === 1) {\n      self._U = 2;\n      self._X = [self._X, deferred];\n      return;\n    }\n    self._X.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._V === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._V === 1) {\n        resolve(deferred.promise, self._W);\n      } else {\n        reject(deferred.promise, self._W);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._W);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._V = 3;\n      self._W = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._V = 1;\n  self._W = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._V = 2;\n  self._W = newValue;\n  if (Promise._Z) {\n    Promise._Z(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._U === 1) {\n    handle(self, self._X);\n    self._X = null;\n  }\n  if (self._U === 2) {\n    for (var i = 0; i < self._X.length; i++) {\n      handle(self, self._X[i]);\n    }\n    self._X = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/core.js?"
    );
  },
  "./node_modules/promise/lib/done.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nvar Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/done.js?'
    );
  },
  "./node_modules/promise/lib/es6-extensions.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = __webpack_require__(/*! ./core.js */ \"./node_modules/promise/lib/core.js\");\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._0);\n  p._V = 1;\n  p._W = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._V === 3) {\n            val = val._W;\n          }\n          if (val._V === 1) return res(i, val._W);\n          if (val._V === 2) reject(val._W);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/es6-extensions.js?"
    );
  },
  "./node_modules/promise/lib/finally.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nvar Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/finally.js?'
    );
  },
  "./node_modules/promise/lib/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nmodule.exports = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");\n__webpack_require__(/*! ./done.js */ "./node_modules/promise/lib/done.js");\n__webpack_require__(/*! ./finally.js */ "./node_modules/promise/lib/finally.js");\n__webpack_require__(/*! ./es6-extensions.js */ "./node_modules/promise/lib/es6-extensions.js");\n__webpack_require__(/*! ./node-extensions.js */ "./node_modules/promise/lib/node-extensions.js");\n__webpack_require__(/*! ./synchronous.js */ "./node_modules/promise/lib/synchronous.js");\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/index.js?'
    );
  },
  "./node_modules/promise/lib/node-extensions.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = __webpack_require__(/*! ./core.js */ \"./node_modules/promise/lib/core.js\");\nvar asap = __webpack_require__(/*! asap */ \"./node_modules/asap/browser-asap.js\");\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/node-extensions.js?"
    );
  },
  "./node_modules/promise/lib/synchronous.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar Promise = __webpack_require__(/*! ./core.js */ \"./node_modules/promise/lib/core.js\");\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._V === 3) {\n      return this._W.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._V === 3) {\n      return this._W.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._V === 3) {\n      return this._W.getState();\n    }\n    if (this._V === -1 || this._V === -2) {\n      return 0;\n    }\n\n    return this._V;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/promise/lib/synchronous.js?"
    );
  },
  "./node_modules/qs/lib/formats.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = __webpack_require__(/*! ./utils */ \"./node_modules/qs/lib/utils.js\");\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n\n\n//# sourceURL=webpack://recurly/./node_modules/qs/lib/formats.js?"
    );
  },
  "./node_modules/qs/lib/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      '\n\nvar stringify = __webpack_require__(/*! ./stringify */ "./node_modules/qs/lib/stringify.js");\nvar parse = __webpack_require__(/*! ./parse */ "./node_modules/qs/lib/parse.js");\nvar formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/qs/lib/index.js?'
    );
  },
  "./node_modules/qs/lib/parse.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar utils = __webpack_require__(/*! ./utils */ \"./node_modules/qs/lib/utils.js\");\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\n// This is what browsers will submit when the \u2713 character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the \u2713 character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('\u2713')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj; // eslint-disable-line no-param-reassign\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/qs/lib/parse.js?"
    );
  },
  "./node_modules/qs/lib/stringify.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar utils = __webpack_require__(/*! ./utils */ \"./node_modules/qs/lib/utils.js\");\nvar formats = __webpack_require__(/*! ./formats */ \"./node_modules/qs/lib/formats.js\");\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('\u2713')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/qs/lib/stringify.js?"
    );
  },
  "./node_modules/qs/lib/utils.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    "use strict";
    eval(
      "\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n\n\n//# sourceURL=webpack://recurly/./node_modules/qs/lib/utils.js?"
    );
  },
  "./node_modules/string-squish/index.js": function (module, exports) {
    eval(
      "var CONSECUTIVE_SPACES = /\\s+/g;\n\nmodule.exports = function squish (string) {\n  if (typeof string !== 'string') throw 'Invalid \\'string\\'. Expected String, got ' + typeof string;\n  return string.trim().replace(CONSECUTIVE_SPACES, ' ');\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/string-squish/index.js?"
    );
  },
  "./node_modules/tabbable/index.js": function (module, exports) {
    eval(
      "var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || isHidden(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n\n\n//# sourceURL=webpack://recurly/./node_modules/tabbable/index.js?"
    );
  },
  "./node_modules/to-function/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\n/**\n * Module Dependencies\n */\n\nvar expr;\ntry {\n  expr = __webpack_require__(/*! props */ \"./node_modules/component-props/index.js\");\n} catch(e) {\n  expr = __webpack_require__(/*! component-props */ \"./node_modules/component-props/index.js\");\n}\n\n/**\n * Expose `toFunction()`.\n */\n\nmodule.exports = toFunction;\n\n/**\n * Convert `obj` to a `Function`.\n *\n * @param {Mixed} obj\n * @return {Function}\n * @api private\n */\n\nfunction toFunction(obj) {\n  switch ({}.toString.call(obj)) {\n    case '[object Object]':\n      return objectToFunction(obj);\n    case '[object Function]':\n      return obj;\n    case '[object String]':\n      return stringToFunction(obj);\n    case '[object RegExp]':\n      return regexpToFunction(obj);\n    default:\n      return defaultToFunction(obj);\n  }\n}\n\n/**\n * Default to strict equality.\n *\n * @param {Mixed} val\n * @return {Function}\n * @api private\n */\n\nfunction defaultToFunction(val) {\n  return function(obj){\n    return val === obj;\n  };\n}\n\n/**\n * Convert `re` to a function.\n *\n * @param {RegExp} re\n * @return {Function}\n * @api private\n */\n\nfunction regexpToFunction(re) {\n  return function(obj){\n    return re.test(obj);\n  };\n}\n\n/**\n * Convert property `str` to a function.\n *\n * @param {String} str\n * @return {Function}\n * @api private\n */\n\nfunction stringToFunction(str) {\n  // immediate such as \"> 20\"\n  if (/^ *\\W+/.test(str)) return new Function('_', 'return _ ' + str);\n\n  // properties such as \"name.first\" or \"age > 18\" or \"age > 18 && age < 36\"\n  return new Function('_', 'return ' + get(str));\n}\n\n/**\n * Convert `object` to a function.\n *\n * @param {Object} object\n * @return {Function}\n * @api private\n */\n\nfunction objectToFunction(obj) {\n  var match = {};\n  for (var key in obj) {\n    match[key] = typeof obj[key] === 'string'\n      ? defaultToFunction(obj[key])\n      : toFunction(obj[key]);\n  }\n  return function(val){\n    if (typeof val !== 'object') return false;\n    for (var key in match) {\n      if (!(key in val)) return false;\n      if (!match[key](val[key])) return false;\n    }\n    return true;\n  };\n}\n\n/**\n * Built the getter function. Supports getter style functions\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction get(str) {\n  var props = expr(str);\n  if (!props.length) return '_.' + str;\n\n  var val, i, prop;\n  for (i = 0; i < props.length; i++) {\n    prop = props[i];\n    val = '_.' + prop;\n    val = \"('function' == typeof \" + val + \" ? \" + val + \"() : \" + val + \")\";\n\n    // mimic negative lookbehind to avoid problems with nested properties\n    str = stripNested(prop, str, val);\n  }\n\n  return str;\n}\n\n/**\n * Mimic negative lookbehind to avoid problems with nested properties.\n *\n * See: http://blog.stevenlevithan.com/archives/mimic-lookbehind-javascript\n *\n * @param {String} prop\n * @param {String} str\n * @param {String} val\n * @return {String}\n * @api private\n */\n\nfunction stripNested (prop, str, val) {\n  return str.replace(new RegExp('(\\\\.)?' + prop, 'g'), function($0, $1) {\n    return $1 ? $0 : val;\n  });\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/to-function/index.js?"
    );
  },
  "./node_modules/to-no-case/index.js": function (module, exports) {
    eval(
      "\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/to-no-case/index.js?"
    );
  },
  "./node_modules/to-slug-case/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\nvar toSpace = __webpack_require__(/*! to-space-case */ \"./node_modules/to-space-case/index.js\")\n\n/**\n * Export.\n */\n\nmodule.exports = toSlugCase\n\n/**\n * Convert a `string` to slug case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSlugCase(string) {\n  return toSpace(string).replace(/\\s/g, '-')\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/to-slug-case/index.js?"
    );
  },
  "./node_modules/to-space-case/index.js": function (
    module,
    exports,
    __webpack_require__
  ) {
    eval(
      "\nvar clean = __webpack_require__(/*! to-no-case */ \"./node_modules/to-no-case/index.js\")\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n//# sourceURL=webpack://recurly/./node_modules/to-space-case/index.js?"
    );
  },
  "./node_modules/webpack/buildin/amd-define.js": function (module, exports) {
    eval(
      'module.exports = function() {\n	throw new Error("define cannot be used indirect");\n};\n\n\n//# sourceURL=webpack://recurly/(webpack)/buildin/amd-define.js?'
    );
  },
  "./node_modules/webpack/buildin/module.js": function (module, exports) {
    eval(
      'module.exports = function(module) {\n	if (!module.webpackPolyfill) {\n		module.deprecate = function() {};\n		module.paths = [];\n		// module.parent = undefined by default\n		if (!module.children) module.children = [];\n		Object.defineProperty(module, "loaded", {\n			enumerable: true,\n			get: function() {\n				return module.l;\n			}\n		});\n		Object.defineProperty(module, "id", {\n			enumerable: true,\n			get: function() {\n				return module.i;\n			}\n		});\n		module.webpackPolyfill = 1;\n	}\n	return module;\n};\n\n\n//# sourceURL=webpack://recurly/(webpack)/buildin/module.js?'
    );
  },
})["default"];
(jQuery.fn.visibleInScroll = function (e) {
  var t = $(this[0]).scrollParent()[0],
    n = this[0].getBoundingClientRect(),
    i = [t.getBoundingClientRect()];
  if (
    ((n = {
      left: n.left,
      top: n.top,
      right: n.right,
      bottom: n.bottom,
      width: n.width,
      height: n.height,
      visibleWidth: n.width,
      visibleHeight: n.height,
      isVisible: !0,
      isContained: !0,
    }),
    t === this[0].ownerDocument)
  )
    return n;
  for (
    ;
    t !== this[0].ownerDocument &&
    null !== t &&
    ((t.scrollWidth > t.clientWidth || t.scrollHeight > t.clientHeight) &&
      i.push(t.getBoundingClientRect()),
    !i.length || !e);

  )
    t = $(t).scrollParent()[0];
  e || (i.length = 1);
  for (var r = 0; r < i.length; r += 1) {
    var s = i[r];
    (n.left = Math.max(n.left, s.left)),
      (n.top = Math.max(n.top, s.top)),
      (n.right = Math.min(n.right, s.right)),
      (n.bottom = Math.min(n.bottom, s.bottom));
  }
  return (
    (n.visibleWidth = Math.max(0, n.right - n.left)),
    (n.visibleHeight = n.visibleWidth && Math.max(0, n.bottom - n.top)),
    n.visibleHeight || (n.visibleWidth = 0),
    (n.isVisible = n.visibleWidth > 0 && n.visibleHeight > 0),
    (n.isContained =
      n.visibleWidth === n.width && n.visibleHeight === n.height),
    n.isContained ||
      (n.partlyHiddenSide = n.left === i[0].left ? "left" : "right"),
    n
  );
}),
  (function (e) {
    "use strict";
    "function" == typeof define && define.amd
      ? define(["jquery"], e)
      : "undefined" != typeof exports
      ? (module.exports = e(require("jquery")))
      : e(jQuery);
  })(function (e) {
    "use strict";
    var t = window.Slick || {};
    (t = (function () {
      function t(t, i) {
        var r,
          s = this;
        (s.defaults = {
          accessibility: !0,
          adaptiveHeight: !1,
          appendArrows: e(t),
          appendDots: e(t),
          arrows: !0,
          asNavFor: null,
          prevArrow:
            '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
          nextArrow:
            '<button class="slick-next" aria-label="Next" type="button">Next</button>',
          autoplay: !1,
          autoplaySpeed: 3e3,
          centerMode: !1,
          centerPadding: "50px",
          cssEase: "ease",
          customPaging: function (t, n) {
            return e('<button type="button" />').text(n + 1);
          },
          dots: !1,
          dotsClass: "slick-dots",
          draggable: !0,
          easing: "linear",
          edgeFriction: 0.35,
          fade: !1,
          focusOnSelect: !1,
          focusOnChange: !1,
          infinite: !0,
          initialSlide: 0,
          lazyLoad: "ondemand",
          mobileFirst: !1,
          pauseOnHover: !0,
          pauseOnFocus: !0,
          pauseOnDotsHover: !1,
          respondTo: "window",
          responsive: null,
          rows: 1,
          rtl: !1,
          slide: "",
          slidesPerRow: 1,
          slidesToShow: 1,
          slidesToScroll: 1,
          speed: 500,
          swipe: !0,
          swipeToSlide: !1,
          touchMove: !0,
          touchThreshold: 5,
          useCSS: !0,
          useTransform: !0,
          variableWidth: !1,
          vertical: !1,
          verticalSwiping: !1,
          waitForAnimate: !0,
          zIndex: 1e3,
        }),
          (s.initials = {
            animating: !1,
            dragging: !1,
            autoPlayTimer: null,
            currentDirection: 0,
            currentLeft: null,
            currentSlide: 0,
            direction: 1,
            $dots: null,
            listWidth: null,
            listHeight: null,
            loadIndex: 0,
            $nextArrow: null,
            $prevArrow: null,
            scrolling: !1,
            slideCount: null,
            slideWidth: null,
            $slideTrack: null,
            $slides: null,
            sliding: !1,
            slideOffset: 0,
            swipeLeft: null,
            swiping: !1,
            $list: null,
            touchObject: {},
            transformsEnabled: !1,
            unslicked: !1,
          }),
          e.extend(s, s.initials),
          (s.activeBreakpoint = null),
          (s.animType = null),
          (s.animProp = null),
          (s.breakpoints = []),
          (s.breakpointSettings = []),
          (s.cssTransitions = !1),
          (s.focussed = !1),
          (s.interrupted = !1),
          (s.hidden = "hidden"),
          (s.paused = !0),
          (s.positionProp = null),
          (s.respondTo = null),
          (s.rowCount = 1),
          (s.shouldClick = !0),
          (s.$slider = e(t)),
          (s.$slidesCache = null),
          (s.transformType = null),
          (s.transitionType = null),
          (s.visibilityChange = "visibilitychange"),
          (s.windowWidth = 0),
          (s.windowTimer = null),
          (r = e(t).data("slick") || {}),
          (s.options = e.extend({}, s.defaults, i, r)),
          (s.currentSlide = s.options.initialSlide),
          (s.originalSettings = s.options),
          "undefined" != typeof document.mozHidden
            ? ((s.hidden = "mozHidden"),
              (s.visibilityChange = "mozvisibilitychange"))
            : "undefined" != typeof document.webkitHidden &&
              ((s.hidden = "webkitHidden"),
              (s.visibilityChange = "webkitvisibilitychange")),
          (s.autoPlay = e.proxy(s.autoPlay, s)),
          (s.autoPlayClear = e.proxy(s.autoPlayClear, s)),
          (s.autoPlayIterator = e.proxy(s.autoPlayIterator, s)),
          (s.changeSlide = e.proxy(s.changeSlide, s)),
          (s.clickHandler = e.proxy(s.clickHandler, s)),
          (s.selectHandler = e.proxy(s.selectHandler, s)),
          (s.setPosition = e.proxy(s.setPosition, s)),
          (s.swipeHandler = e.proxy(s.swipeHandler, s)),
          (s.dragHandler = e.proxy(s.dragHandler, s)),
          (s.keyHandler = e.proxy(s.keyHandler, s)),
          (s.instanceUid = n++),
          (s.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/),
          s.registerBreakpoints(),
          s.init(!0);
      }
      var n = 0;
      return t;
    })()),
      (t.prototype.activateADA = function () {
        var e = this;
        e.$slideTrack
          .find(".slick-active")
          .attr({
            "aria-hidden": "false",
          })
          .find("a, input, button, select")
          .attr({
            tabindex: "0",
          });
      }),
      (t.prototype.addSlide = t.prototype.slickAdd =
        function (t, n, i) {
          var r = this;
          if ("boolean" == typeof n) (i = n), (n = null);
          else if (0 > n || n >= r.slideCount) return !1;
          r.unload(),
            "number" == typeof n
              ? 0 === n && 0 === r.$slides.length
                ? e(t).appendTo(r.$slideTrack)
                : i
                ? e(t).insertBefore(r.$slides.eq(n))
                : e(t).insertAfter(r.$slides.eq(n))
              : i === !0
              ? e(t).prependTo(r.$slideTrack)
              : e(t).appendTo(r.$slideTrack),
            (r.$slides = r.$slideTrack.children(this.options.slide)),
            r.$slideTrack.children(this.options.slide).detach(),
            r.$slideTrack.append(r.$slides),
            r.$slides.each(function (t, n) {
              e(n).attr("data-slick-index", t);
            }),
            (r.$slidesCache = r.$slides),
            r.reinit();
        }),
      (t.prototype.animateHeight = function () {
        var e = this;
        if (
          1 === e.options.slidesToShow &&
          e.options.adaptiveHeight === !0 &&
          e.options.vertical === !1
        ) {
          var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
          e.$list.animate(
            {
              height: t,
            },
            e.options.speed
          );
        }
      }),
      (t.prototype.animateSlide = function (t, n) {
        var i = {},
          r = this;
        r.animateHeight(),
          r.options.rtl === !0 && r.options.vertical === !1 && (t = -t),
          r.transformsEnabled === !1
            ? r.options.vertical === !1
              ? r.$slideTrack.animate(
                  {
                    left: t,
                  },
                  r.options.speed,
                  r.options.easing,
                  n
                )
              : r.$slideTrack.animate(
                  {
                    top: t,
                  },
                  r.options.speed,
                  r.options.easing,
                  n
                )
            : r.cssTransitions === !1
            ? (r.options.rtl === !0 && (r.currentLeft = -r.currentLeft),
              e({
                animStart: r.currentLeft,
              }).animate(
                {
                  animStart: t,
                },
                {
                  duration: r.options.speed,
                  easing: r.options.easing,
                  step: function (e) {
                    (e = Math.ceil(e)),
                      r.options.vertical === !1
                        ? ((i[r.animType] = "translate(" + e + "px, 0px)"),
                          r.$slideTrack.css(i))
                        : ((i[r.animType] = "translate(0px," + e + "px)"),
                          r.$slideTrack.css(i));
                  },
                  complete: function () {
                    n && n.call();
                  },
                }
              ))
            : (r.applyTransition(),
              (t = Math.ceil(t)),
              (i[r.animType] =
                r.options.vertical === !1
                  ? "translate3d(" + t + "px, 0px, 0px)"
                  : "translate3d(0px," + t + "px, 0px)"),
              r.$slideTrack.css(i),
              n &&
                setTimeout(function () {
                  r.disableTransition(), n.call();
                }, r.options.speed));
      }),
      (t.prototype.getNavTarget = function () {
        var t = this,
          n = t.options.asNavFor;
        return n && null !== n && (n = e(n).not(t.$slider)), n;
      }),
      (t.prototype.asNavFor = function (t) {
        var n = this,
          i = n.getNavTarget();
        null !== i &&
          "object" == typeof i &&
          i.each(function () {
            var n = e(this).slick("getSlick");
            n.unslicked || n.slideHandler(t, !0);
          });
      }),
      (t.prototype.applyTransition = function (e) {
        var t = this,
          n = {};
        (n[t.transitionType] =
          t.options.fade === !1
            ? t.transformType +
              " " +
              t.options.speed +
              "ms " +
              t.options.cssEase
            : "opacity " + t.options.speed + "ms " + t.options.cssEase),
          t.options.fade === !1 ? t.$slideTrack.css(n) : t.$slides.eq(e).css(n);
      }),
      (t.prototype.autoPlay = function () {
        var e = this;
        e.autoPlayClear(),
          e.slideCount > e.options.slidesToShow &&
            (e.autoPlayTimer = setInterval(
              e.autoPlayIterator,
              e.options.autoplaySpeed
            ));
      }),
      (t.prototype.autoPlayClear = function () {
        var e = this;
        e.autoPlayTimer && clearInterval(e.autoPlayTimer);
      }),
      (t.prototype.autoPlayIterator = function () {
        var e = this,
          t = e.currentSlide + e.options.slidesToScroll;
        e.paused ||
          e.interrupted ||
          e.focussed ||
          (e.options.infinite === !1 &&
            (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1
              ? (e.direction = 0)
              : 0 === e.direction &&
                ((t = e.currentSlide - e.options.slidesToScroll),
                e.currentSlide - 1 === 0 && (e.direction = 1))),
          e.slideHandler(t));
      }),
      (t.prototype.buildArrows = function () {
        var t = this;
        t.options.arrows === !0 &&
          ((t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow")),
          (t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow")),
          t.slideCount > t.options.slidesToShow
            ? (t.$prevArrow
                .removeClass("slick-hidden")
                .removeAttr("aria-hidden tabindex"),
              t.$nextArrow
                .removeClass("slick-hidden")
                .removeAttr("aria-hidden tabindex"),
              t.htmlExpr.test(t.options.prevArrow) &&
                t.$prevArrow.prependTo(t.options.appendArrows),
              t.htmlExpr.test(t.options.nextArrow) &&
                t.$nextArrow.appendTo(t.options.appendArrows),
              t.options.infinite !== !0 &&
                t.$prevArrow
                  .addClass("slick-disabled")
                  .attr("aria-disabled", "true"))
            : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
                "aria-disabled": "true",
                tabindex: "-1",
              }));
      }),
      (t.prototype.buildDots = function () {
        var t,
          n,
          i = this;
        if (i.options.dots === !0) {
          for (
            i.$slider.addClass("slick-dotted"),
              n = e("<ul />").addClass(i.options.dotsClass),
              t = 0;
            t <= i.getDotCount();
            t += 1
          )
            n.append(
              e("<li />").append(i.options.customPaging.call(this, i, t))
            );
          (i.$dots = n.appendTo(i.options.appendDots)),
            i.$dots.find("li").first().addClass("slick-active");
        }
      }),
      (t.prototype.buildOut = function () {
        var t = this;
        (t.$slides = t.$slider
          .children(t.options.slide + ":not(.slick-cloned)")
          .addClass("slick-slide")),
          (t.slideCount = t.$slides.length),
          t.$slides.each(function (t, n) {
            e(n)
              .attr("data-slick-index", t)
              .data("originalStyling", e(n).attr("style") || "");
          }),
          t.$slider.addClass("slick-slider"),
          (t.$slideTrack =
            0 === t.slideCount
              ? e('<div class="slick-track"/>').appendTo(t.$slider)
              : t.$slides.wrapAll('<div class="slick-track"/>').parent()),
          (t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent()),
          t.$slideTrack.css("opacity", 0),
          (t.options.centerMode === !0 || t.options.swipeToSlide === !0) &&
            (t.options.slidesToScroll = 1),
          e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"),
          t.setupInfinite(),
          t.buildArrows(),
          t.buildDots(),
          t.updateDots(),
          t.setSlideClasses(
            "number" == typeof t.currentSlide ? t.currentSlide : 0
          ),
          t.options.draggable === !0 && t.$list.addClass("draggable");
      }),
      (t.prototype.buildRows = function () {
        var e,
          t,
          n,
          i,
          r,
          s,
          o,
          a = this;
        if (
          ((i = document.createDocumentFragment()),
          (s = a.$slider.children()),
          a.options.rows > 1)
        ) {
          for (
            o = a.options.slidesPerRow * a.options.rows,
              r = Math.ceil(s.length / o),
              e = 0;
            r > e;
            e++
          ) {
            var l = document.createElement("div");
            for (t = 0; t < a.options.rows; t++) {
              var c = document.createElement("div");
              for (n = 0; n < a.options.slidesPerRow; n++) {
                var u = e * o + (t * a.options.slidesPerRow + n);
                s.get(u) && c.appendChild(s.get(u));
              }
              l.appendChild(c);
            }
            i.appendChild(l);
          }
          a.$slider.empty().append(i),
            a.$slider
              .children()
              .children()
              .children()
              .css({
                width: 100 / a.options.slidesPerRow + "%",
                display: "inline-block",
              });
        }
      }),
      (t.prototype.checkResponsive = function (t, n) {
        var i,
          r,
          s,
          o = this,
          a = !1,
          l = o.$slider.width(),
          c = window.innerWidth || e(window).width();
        if (
          ("window" === o.respondTo
            ? (s = c)
            : "slider" === o.respondTo
            ? (s = l)
            : "min" === o.respondTo && (s = Math.min(c, l)),
          o.options.responsive &&
            o.options.responsive.length &&
            null !== o.options.responsive)
        ) {
          r = null;
          for (i in o.breakpoints)
            o.breakpoints.hasOwnProperty(i) &&
              (o.originalSettings.mobileFirst === !1
                ? s < o.breakpoints[i] && (r = o.breakpoints[i])
                : s > o.breakpoints[i] && (r = o.breakpoints[i]));
          null !== r
            ? null !== o.activeBreakpoint
              ? (r !== o.activeBreakpoint || n) &&
                ((o.activeBreakpoint = r),
                "unslick" === o.breakpointSettings[r]
                  ? o.unslick(r)
                  : ((o.options = e.extend(
                      {},
                      o.originalSettings,
                      o.breakpointSettings[r]
                    )),
                    t === !0 && (o.currentSlide = o.options.initialSlide),
                    o.refresh(t)),
                (a = r))
              : ((o.activeBreakpoint = r),
                "unslick" === o.breakpointSettings[r]
                  ? o.unslick(r)
                  : ((o.options = e.extend(
                      {},
                      o.originalSettings,
                      o.breakpointSettings[r]
                    )),
                    t === !0 && (o.currentSlide = o.options.initialSlide),
                    o.refresh(t)),
                (a = r))
            : null !== o.activeBreakpoint &&
              ((o.activeBreakpoint = null),
              (o.options = o.originalSettings),
              t === !0 && (o.currentSlide = o.options.initialSlide),
              o.refresh(t),
              (a = r)),
            t || a === !1 || o.$slider.trigger("breakpoint", [o, a]);
        }
      }),
      (t.prototype.changeSlide = function (t, n) {
        var i,
          r,
          s,
          o = this,
          a = e(t.currentTarget);
        switch (
          (a.is("a") && t.preventDefault(),
          a.is("li") || (a = a.closest("li")),
          (s = o.slideCount % o.options.slidesToScroll !== 0),
          (i = s
            ? 0
            : (o.slideCount - o.currentSlide) % o.options.slidesToScroll),
          t.data.message)
        ) {
          case "previous":
            (r =
              0 === i ? o.options.slidesToScroll : o.options.slidesToShow - i),
              o.slideCount > o.options.slidesToShow &&
                o.slideHandler(o.currentSlide - r, !1, n);
            break;
          case "next":
            (r = 0 === i ? o.options.slidesToScroll : i),
              o.slideCount > o.options.slidesToShow &&
                o.slideHandler(o.currentSlide + r, !1, n);
            break;
          case "index":
            var l =
              0 === t.data.index
                ? 0
                : t.data.index || a.index() * o.options.slidesToScroll;
            o.slideHandler(o.checkNavigable(l), !1, n),
              a.children().trigger("focus");
            break;
          default:
            return;
        }
      }),
      (t.prototype.checkNavigable = function (e) {
        var t,
          n,
          i = this;
        if (((t = i.getNavigableIndexes()), (n = 0), e > t[t.length - 1]))
          e = t[t.length - 1];
        else
          for (var r in t) {
            if (e < t[r]) {
              e = n;
              break;
            }
            n = t[r];
          }
        return e;
      }),
      (t.prototype.cleanUpEvents = function () {
        var t = this;
        t.options.dots &&
          null !== t.$dots &&
          (e("li", t.$dots)
            .off("click.slick", t.changeSlide)
            .off("mouseenter.slick", e.proxy(t.interrupt, t, !0))
            .off("mouseleave.slick", e.proxy(t.interrupt, t, !1)),
          t.options.accessibility === !0 &&
            t.$dots.off("keydown.slick", t.keyHandler)),
          t.$slider.off("focus.slick blur.slick"),
          t.options.arrows === !0 &&
            t.slideCount > t.options.slidesToShow &&
            (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide),
            t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide),
            t.options.accessibility === !0 &&
              (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler),
              t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))),
          t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler),
          t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler),
          t.$list.off("touchend.slick mouseup.slick", t.swipeHandler),
          t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler),
          t.$list.off("click.slick", t.clickHandler),
          e(document).off(t.visibilityChange, t.visibility),
          t.cleanUpSlideEvents(),
          t.options.accessibility === !0 &&
            t.$list.off("keydown.slick", t.keyHandler),
          t.options.focusOnSelect === !0 &&
            e(t.$slideTrack).children().off("click.slick", t.selectHandler),
          e(window).off(
            "orientationchange.slick.slick-" + t.instanceUid,
            t.orientationChange
          ),
          e(window).off("resize.slick.slick-" + t.instanceUid, t.resize),
          e("[draggable!=true]", t.$slideTrack).off(
            "dragstart",
            t.preventDefault
          ),
          e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition);
      }),
      (t.prototype.cleanUpSlideEvents = function () {
        var t = this;
        t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)),
          t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1));
      }),
      (t.prototype.cleanUpRows = function () {
        var e,
          t = this;
        t.options.rows > 1 &&
          ((e = t.$slides.children().children()),
          e.removeAttr("style"),
          t.$slider.empty().append(e));
      }),
      (t.prototype.clickHandler = function (e) {
        var t = this;
        t.shouldClick === !1 &&
          (e.stopImmediatePropagation(),
          e.stopPropagation(),
          e.preventDefault());
      }),
      (t.prototype.destroy = function (t) {
        var n = this;
        n.autoPlayClear(),
          (n.touchObject = {}),
          n.cleanUpEvents(),
          e(".slick-cloned", n.$slider).detach(),
          n.$dots && n.$dots.remove(),
          n.$prevArrow &&
            n.$prevArrow.length &&
            (n.$prevArrow
              .removeClass("slick-disabled slick-arrow slick-hidden")
              .removeAttr("aria-hidden aria-disabled tabindex")
              .css("display", ""),
            n.htmlExpr.test(n.options.prevArrow) && n.$prevArrow.remove()),
          n.$nextArrow &&
            n.$nextArrow.length &&
            (n.$nextArrow
              .removeClass("slick-disabled slick-arrow slick-hidden")
              .removeAttr("aria-hidden aria-disabled tabindex")
              .css("display", ""),
            n.htmlExpr.test(n.options.nextArrow) && n.$nextArrow.remove()),
          n.$slides &&
            (n.$slides
              .removeClass(
                "slick-slide slick-active slick-center slick-visible slick-current"
              )
              .removeAttr("aria-hidden")
              .removeAttr("data-slick-index")
              .each(function () {
                e(this).attr("style", e(this).data("originalStyling"));
              }),
            n.$slideTrack.children(this.options.slide).detach(),
            n.$slideTrack.detach(),
            n.$list.detach(),
            n.$slider.append(n.$slides)),
          n.cleanUpRows(),
          n.$slider.removeClass("slick-slider"),
          n.$slider.removeClass("slick-initialized"),
          n.$slider.removeClass("slick-dotted"),
          (n.unslicked = !0),
          t || n.$slider.trigger("destroy", [n]);
      }),
      (t.prototype.disableTransition = function (e) {
        var t = this,
          n = {};
        (n[t.transitionType] = ""),
          t.options.fade === !1 ? t.$slideTrack.css(n) : t.$slides.eq(e).css(n);
      }),
      (t.prototype.fadeSlide = function (e, t) {
        var n = this;
        n.cssTransitions === !1
          ? (n.$slides.eq(e).css({
              zIndex: n.options.zIndex,
            }),
            n.$slides.eq(e).animate(
              {
                opacity: 1,
              },
              n.options.speed,
              n.options.easing,
              t
            ))
          : (n.applyTransition(e),
            n.$slides.eq(e).css({
              opacity: 1,
              zIndex: n.options.zIndex,
            }),
            t &&
              setTimeout(function () {
                n.disableTransition(e), t.call();
              }, n.options.speed));
      }),
      (t.prototype.fadeSlideOut = function (e) {
        var t = this;
        t.cssTransitions === !1
          ? t.$slides.eq(e).animate(
              {
                opacity: 0,
                zIndex: t.options.zIndex - 2,
              },
              t.options.speed,
              t.options.easing
            )
          : (t.applyTransition(e),
            t.$slides.eq(e).css({
              opacity: 0,
              zIndex: t.options.zIndex - 2,
            }));
      }),
      (t.prototype.filterSlides = t.prototype.slickFilter =
        function (e) {
          var t = this;
          null !== e &&
            ((t.$slidesCache = t.$slides),
            t.unload(),
            t.$slideTrack.children(this.options.slide).detach(),
            t.$slidesCache.filter(e).appendTo(t.$slideTrack),
            t.reinit());
        }),
      (t.prototype.focusHandler = function () {
        var t = this;
        t.$slider
          .off("focus.slick blur.slick")
          .on("focus.slick blur.slick", "*", function (n) {
            n.stopImmediatePropagation();
            var i = e(this);
            setTimeout(function () {
              t.options.pauseOnFocus &&
                ((t.focussed = i.is(":focus")), t.autoPlay());
            }, 0);
          });
      }),
      (t.prototype.getCurrent = t.prototype.slickCurrentSlide =
        function () {
          var e = this;
          return e.currentSlide;
        }),
      (t.prototype.getDotCount = function () {
        var e = this,
          t = 0,
          n = 0,
          i = 0;
        if (e.options.infinite === !0)
          if (e.slideCount <= e.options.slidesToShow) ++i;
          else
            for (; t < e.slideCount; )
              ++i,
                (t = n + e.options.slidesToScroll),
                (n +=
                  e.options.slidesToScroll <= e.options.slidesToShow
                    ? e.options.slidesToScroll
                    : e.options.slidesToShow);
        else if (e.options.centerMode === !0) i = e.slideCount;
        else if (e.options.asNavFor)
          for (; t < e.slideCount; )
            ++i,
              (t = n + e.options.slidesToScroll),
              (n +=
                e.options.slidesToScroll <= e.options.slidesToShow
                  ? e.options.slidesToScroll
                  : e.options.slidesToShow);
        else
          i =
            1 +
            Math.ceil(
              (e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll
            );
        return i - 1;
      }),
      (t.prototype.getLeft = function (e) {
        var t,
          n,
          i,
          r,
          s = this,
          o = 0;
        return (
          (s.slideOffset = 0),
          (n = s.$slides.first().outerHeight(!0)),
          s.options.infinite === !0
            ? (s.slideCount > s.options.slidesToShow &&
                ((s.slideOffset = s.slideWidth * s.options.slidesToShow * -1),
                (r = -1),
                s.options.vertical === !0 &&
                  s.options.centerMode === !0 &&
                  (2 === s.options.slidesToShow
                    ? (r = -1.5)
                    : 1 === s.options.slidesToShow && (r = -2)),
                (o = n * s.options.slidesToShow * r)),
              s.slideCount % s.options.slidesToScroll !== 0 &&
                e + s.options.slidesToScroll > s.slideCount &&
                s.slideCount > s.options.slidesToShow &&
                (e > s.slideCount
                  ? ((s.slideOffset =
                      (s.options.slidesToShow - (e - s.slideCount)) *
                      s.slideWidth *
                      -1),
                    (o =
                      (s.options.slidesToShow - (e - s.slideCount)) * n * -1))
                  : ((s.slideOffset =
                      (s.slideCount % s.options.slidesToScroll) *
                      s.slideWidth *
                      -1),
                    (o = (s.slideCount % s.options.slidesToScroll) * n * -1))))
            : e + s.options.slidesToShow > s.slideCount &&
              ((s.slideOffset =
                (e + s.options.slidesToShow - s.slideCount) * s.slideWidth),
              (o = (e + s.options.slidesToShow - s.slideCount) * n)),
          s.slideCount <= s.options.slidesToShow &&
            ((s.slideOffset = 0), (o = 0)),
          s.options.centerMode === !0 && s.slideCount <= s.options.slidesToShow
            ? (s.slideOffset =
                (s.slideWidth * Math.floor(s.options.slidesToShow)) / 2 -
                (s.slideWidth * s.slideCount) / 2)
            : s.options.centerMode === !0 && s.options.infinite === !0
            ? (s.slideOffset +=
                s.slideWidth * Math.floor(s.options.slidesToShow / 2) -
                s.slideWidth)
            : s.options.centerMode === !0 &&
              ((s.slideOffset = 0),
              (s.slideOffset +=
                s.slideWidth * Math.floor(s.options.slidesToShow / 2))),
          (t =
            s.options.vertical === !1
              ? e * s.slideWidth * -1 + s.slideOffset
              : e * n * -1 + o),
          s.options.variableWidth === !0 &&
            ((i = s.$slideTrack
              .children(".slick-slide")
              .eq(
                s.slideCount <= s.options.slidesToShow ||
                  s.options.infinite === !1
                  ? e
                  : e + s.options.slidesToShow
              )),
            (t =
              s.options.rtl === !0
                ? i[0]
                  ? -1 * (s.$slideTrack.width() - i[0].offsetLeft - i.width())
                  : 0
                : i[0]
                ? -1 * i[0].offsetLeft
                : 0),
            s.options.centerMode === !0 &&
              ((i = s.$slideTrack
                .children(".slick-slide")
                .eq(
                  s.slideCount <= s.options.slidesToShow ||
                    s.options.infinite === !1
                    ? e
                    : e + s.options.slidesToShow + 1
                )),
              (t =
                s.options.rtl === !0
                  ? i[0]
                    ? -1 * (s.$slideTrack.width() - i[0].offsetLeft - i.width())
                    : 0
                  : i[0]
                  ? -1 * i[0].offsetLeft
                  : 0),
              (t += (s.$list.width() - i.outerWidth()) / 2))),
          t
        );
      }),
      (t.prototype.getOption = t.prototype.slickGetOption =
        function (e) {
          var t = this;
          return t.options[e];
        }),
      (t.prototype.getNavigableIndexes = function () {
        var e,
          t = this,
          n = 0,
          i = 0,
          r = [];
        for (
          t.options.infinite === !1
            ? (e = t.slideCount)
            : ((n = -1 * t.options.slidesToScroll),
              (i = -1 * t.options.slidesToScroll),
              (e = 2 * t.slideCount));
          e > n;

        )
          r.push(n),
            (n = i + t.options.slidesToScroll),
            (i +=
              t.options.slidesToScroll <= t.options.slidesToShow
                ? t.options.slidesToScroll
                : t.options.slidesToShow);
        return r;
      }),
      (t.prototype.getSlick = function () {
        return this;
      }),
      (t.prototype.getSlideCount = function () {
        var t,
          n,
          i,
          r = this;
        return (
          (i =
            r.options.centerMode === !0
              ? r.slideWidth * Math.floor(r.options.slidesToShow / 2)
              : 0),
          r.options.swipeToSlide === !0
            ? (r.$slideTrack.find(".slick-slide").each(function (t, s) {
                return s.offsetLeft - i + e(s).outerWidth() / 2 >
                  -1 * r.swipeLeft
                  ? ((n = s), !1)
                  : void 0;
              }),
              (t =
                Math.abs(e(n).attr("data-slick-index") - r.currentSlide) || 1))
            : r.options.slidesToScroll
        );
      }),
      (t.prototype.goTo = t.prototype.slickGoTo =
        function (e, t) {
          var n = this;
          n.changeSlide(
            {
              data: {
                message: "index",
                index: parseInt(e),
              },
            },
            t
          );
        }),
      (t.prototype.init = function (t) {
        var n = this;
        e(n.$slider).hasClass("slick-initialized") ||
          (e(n.$slider).addClass("slick-initialized"),
          n.buildRows(),
          n.buildOut(),
          n.setProps(),
          n.startLoad(),
          n.loadSlider(),
          n.initializeEvents(),
          n.updateArrows(),
          n.updateDots(),
          n.checkResponsive(!0),
          n.focusHandler()),
          t && n.$slider.trigger("init", [n]),
          n.options.accessibility === !0 && n.initADA(),
          n.options.autoplay && ((n.paused = !1), n.autoPlay());
      }),
      (t.prototype.initADA = function () {
        var t = this,
          n = Math.ceil(t.slideCount / t.options.slidesToShow),
          i = t.getNavigableIndexes().filter(function (e) {
            return e >= 0 && e < t.slideCount;
          });
        t.$slides
          .add(t.$slideTrack.find(".slick-cloned"))
          .attr({
            "aria-hidden": "true",
            tabindex: "-1",
          })
          .find("a, input, button, select")
          .attr({
            tabindex: "-1",
          }),
          null !== t.$dots &&
            (t.$slides
              .not(t.$slideTrack.find(".slick-cloned"))
              .each(function (n) {
                var r = i.indexOf(n);
                e(this).attr({
                  role: "tabpanel",
                  id: "slick-slide" + t.instanceUid + n,
                  tabindex: -1,
                }),
                  -1 !== r &&
                    e(this).attr({
                      "aria-describedby":
                        "slick-slide-control" + t.instanceUid + r,
                    });
              }),
            t.$dots
              .attr("role", "tablist")
              .find("li")
              .each(function (r) {
                var s = i[r];
                e(this).attr({
                  role: "presentation",
                }),
                  e(this)
                    .find("button")
                    .first()
                    .attr({
                      role: "tab",
                      id: "slick-slide-control" + t.instanceUid + r,
                      "aria-controls": "slick-slide" + t.instanceUid + s,
                      "aria-label": r + 1 + " of " + n,
                      "aria-selected": null,
                      tabindex: "-1",
                    });
              })
              .eq(t.currentSlide)
              .find("button")
              .attr({
                "aria-selected": "true",
                tabindex: "0",
              })
              .end());
        for (var r = t.currentSlide, s = r + t.options.slidesToShow; s > r; r++)
          t.$slides.eq(r).attr("tabindex", 0);
        t.activateADA();
      }),
      (t.prototype.initArrowEvents = function () {
        var e = this;
        e.options.arrows === !0 &&
          e.slideCount > e.options.slidesToShow &&
          (e.$prevArrow.off("click.slick").on(
            "click.slick",
            {
              message: "previous",
            },
            e.changeSlide
          ),
          e.$nextArrow.off("click.slick").on(
            "click.slick",
            {
              message: "next",
            },
            e.changeSlide
          ),
          e.options.accessibility === !0 &&
            (e.$prevArrow.on("keydown.slick", e.keyHandler),
            e.$nextArrow.on("keydown.slick", e.keyHandler)));
      }),
      (t.prototype.initDotEvents = function () {
        var t = this;
        t.options.dots === !0 &&
          (e("li", t.$dots).on(
            "click.slick",
            {
              message: "index",
            },
            t.changeSlide
          ),
          t.options.accessibility === !0 &&
            t.$dots.on("keydown.slick", t.keyHandler)),
          t.options.dots === !0 &&
            t.options.pauseOnDotsHover === !0 &&
            e("li", t.$dots)
              .on("mouseenter.slick", e.proxy(t.interrupt, t, !0))
              .on("mouseleave.slick", e.proxy(t.interrupt, t, !1));
      }),
      (t.prototype.initSlideEvents = function () {
        var t = this;
        t.options.pauseOnHover &&
          (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)),
          t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)));
      }),
      (t.prototype.initializeEvents = function () {
        var t = this;
        t.initArrowEvents(),
          t.initDotEvents(),
          t.initSlideEvents(),
          t.$list.on(
            "touchstart.slick mousedown.slick",
            {
              action: "start",
            },
            t.swipeHandler
          ),
          t.$list.on(
            "touchmove.slick mousemove.slick",
            {
              action: "move",
            },
            t.swipeHandler
          ),
          t.$list.on(
            "touchend.slick mouseup.slick",
            {
              action: "end",
            },
            t.swipeHandler
          ),
          t.$list.on(
            "touchcancel.slick mouseleave.slick",
            {
              action: "end",
            },
            t.swipeHandler
          ),
          t.$list.on("click.slick", t.clickHandler),
          e(document).on(t.visibilityChange, e.proxy(t.visibility, t)),
          t.options.accessibility === !0 &&
            t.$list.on("keydown.slick", t.keyHandler),
          t.options.focusOnSelect === !0 &&
            e(t.$slideTrack).children().on("click.slick", t.selectHandler),
          e(window).on(
            "orientationchange.slick.slick-" + t.instanceUid,
            e.proxy(t.orientationChange, t)
          ),
          e(window).on(
            "resize.slick.slick-" + t.instanceUid,
            e.proxy(t.resize, t)
          ),
          e("[draggable!=true]", t.$slideTrack).on(
            "dragstart",
            t.preventDefault
          ),
          e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition),
          e(t.setPosition);
      }),
      (t.prototype.initUI = function () {
        var e = this;
        e.options.arrows === !0 &&
          e.slideCount > e.options.slidesToShow &&
          (e.$prevArrow.show(), e.$nextArrow.show()),
          e.options.dots === !0 &&
            e.slideCount > e.options.slidesToShow &&
            e.$dots.show();
      }),
      (t.prototype.keyHandler = function (e) {
        var t = this;
        e.target.tagName.match("TEXTAREA|INPUT|SELECT") ||
          (37 === e.keyCode && t.options.accessibility === !0
            ? t.changeSlide({
                data: {
                  message: t.options.rtl === !0 ? "next" : "previous",
                },
              })
            : 39 === e.keyCode &&
              t.options.accessibility === !0 &&
              t.changeSlide({
                data: {
                  message: t.options.rtl === !0 ? "previous" : "next",
                },
              }));
      }),
      (t.prototype.lazyLoad = function () {
        function t(t) {
          e("img[data-lazy]", t).each(function () {
            var t = e(this),
              n = e(this).attr("data-lazy"),
              i = e(this).attr("data-srcset"),
              r = e(this).attr("data-sizes") || o.$slider.attr("data-sizes"),
              s = document.createElement("img");
            (s.onload = function () {
              t.animate(
                {
                  opacity: 0,
                },
                100,
                function () {
                  i && (t.attr("srcset", i), r && t.attr("sizes", r)),
                    t.attr("src", n).animate(
                      {
                        opacity: 1,
                      },
                      200,
                      function () {
                        t.removeAttr(
                          "data-lazy data-srcset data-sizes"
                        ).removeClass("slick-loading");
                      }
                    ),
                    o.$slider.trigger("lazyLoaded", [o, t, n]);
                }
              );
            }),
              (s.onerror = function () {
                t
                  .removeAttr("data-lazy")
                  .removeClass("slick-loading")
                  .addClass("slick-lazyload-error"),
                  o.$slider.trigger("lazyLoadError", [o, t, n]);
              }),
              (s.src = n);
          });
        }
        var n,
          i,
          r,
          s,
          o = this;
        if (
          (o.options.centerMode === !0
            ? o.options.infinite === !0
              ? ((r = o.currentSlide + (o.options.slidesToShow / 2 + 1)),
                (s = r + o.options.slidesToShow + 2))
              : ((r = Math.max(
                  0,
                  o.currentSlide - (o.options.slidesToShow / 2 + 1)
                )),
                (s = 2 + (o.options.slidesToShow / 2 + 1) + o.currentSlide))
            : ((r = o.options.infinite
                ? o.options.slidesToShow + o.currentSlide
                : o.currentSlide),
              (s = Math.ceil(r + o.options.slidesToShow)),
              o.options.fade === !0 &&
                (r > 0 && r--, s <= o.slideCount && s++)),
          (n = o.$slider.find(".slick-slide").slice(r, s)),
          "anticipated" === o.options.lazyLoad)
        )
          for (
            var a = r - 1, l = s, c = o.$slider.find(".slick-slide"), u = 0;
            u < o.options.slidesToScroll;
            u++
          )
            0 > a && (a = o.slideCount - 1),
              (n = n.add(c.eq(a))),
              (n = n.add(c.eq(l))),
              a--,
              l++;
        t(n),
          o.slideCount <= o.options.slidesToShow
            ? ((i = o.$slider.find(".slick-slide")), t(i))
            : o.currentSlide >= o.slideCount - o.options.slidesToShow
            ? ((i = o.$slider
                .find(".slick-cloned")
                .slice(0, o.options.slidesToShow)),
              t(i))
            : 0 === o.currentSlide &&
              ((i = o.$slider
                .find(".slick-cloned")
                .slice(-1 * o.options.slidesToShow)),
              t(i));
      }),
      (t.prototype.loadSlider = function () {
        var e = this;
        e.setPosition(),
          e.$slideTrack.css({
            opacity: 1,
          }),
          e.$slider.removeClass("slick-loading"),
          e.initUI(),
          "progressive" === e.options.lazyLoad && e.progressiveLazyLoad();
      }),
      (t.prototype.next = t.prototype.slickNext =
        function () {
          var e = this;
          e.changeSlide({
            data: {
              message: "next",
            },
          });
        }),
      (t.prototype.orientationChange = function () {
        var e = this;
        e.checkResponsive(), e.setPosition();
      }),
      (t.prototype.pause = t.prototype.slickPause =
        function () {
          var e = this;
          e.autoPlayClear(), (e.paused = !0);
        }),
      (t.prototype.play = t.prototype.slickPlay =
        function () {
          var e = this;
          e.autoPlay(),
            (e.options.autoplay = !0),
            (e.paused = !1),
            (e.focussed = !1),
            (e.interrupted = !1);
        }),
      (t.prototype.postSlide = function (t) {
        var n = this;
        if (
          !n.unslicked &&
          (n.$slider.trigger("afterChange", [n, t]),
          (n.animating = !1),
          n.slideCount > n.options.slidesToShow && n.setPosition(),
          (n.swipeLeft = null),
          n.options.autoplay && n.autoPlay(),
          n.options.accessibility === !0 &&
            (n.initADA(), n.options.focusOnChange))
        ) {
          var i = e(n.$slides.get(n.currentSlide));
          i.attr("tabindex", 0).focus();
        }
      }),
      (t.prototype.prev = t.prototype.slickPrev =
        function () {
          var e = this;
          e.changeSlide({
            data: {
              message: "previous",
            },
          });
        }),
      (t.prototype.preventDefault = function (e) {
        e.preventDefault();
      }),
      (t.prototype.progressiveLazyLoad = function (t) {
        t = t || 1;
        var n,
          i,
          r,
          s,
          o,
          a = this,
          l = e("img[data-lazy]", a.$slider);
        l.length
          ? ((n = l.first()),
            (i = n.attr("data-lazy")),
            (r = n.attr("data-srcset")),
            (s = n.attr("data-sizes") || a.$slider.attr("data-sizes")),
            (o = document.createElement("img")),
            (o.onload = function () {
              r && (n.attr("srcset", r), s && n.attr("sizes", s)),
                n
                  .attr("src", i)
                  .removeAttr("data-lazy data-srcset data-sizes")
                  .removeClass("slick-loading"),
                a.options.adaptiveHeight === !0 && a.setPosition(),
                a.$slider.trigger("lazyLoaded", [a, n, i]),
                a.progressiveLazyLoad();
            }),
            (o.onerror = function () {
              3 > t
                ? setTimeout(function () {
                    a.progressiveLazyLoad(t + 1);
                  }, 500)
                : (n
                    .removeAttr("data-lazy")
                    .removeClass("slick-loading")
                    .addClass("slick-lazyload-error"),
                  a.$slider.trigger("lazyLoadError", [a, n, i]),
                  a.progressiveLazyLoad());
            }),
            (o.src = i))
          : a.$slider.trigger("allImagesLoaded", [a]);
      }),
      (t.prototype.refresh = function (t) {
        var n,
          i,
          r = this;
        (i = r.slideCount - r.options.slidesToShow),
          !r.options.infinite && r.currentSlide > i && (r.currentSlide = i),
          r.slideCount <= r.options.slidesToShow && (r.currentSlide = 0),
          (n = r.currentSlide),
          r.destroy(!0),
          e.extend(r, r.initials, {
            currentSlide: n,
          }),
          r.init(),
          t ||
            r.changeSlide(
              {
                data: {
                  message: "index",
                  index: n,
                },
              },
              !1
            );
      }),
      (t.prototype.registerBreakpoints = function () {
        var t,
          n,
          i,
          r = this,
          s = r.options.responsive || null;
        if ("array" === e.type(s) && s.length) {
          r.respondTo = r.options.respondTo || "window";
          for (t in s)
            if (((i = r.breakpoints.length - 1), s.hasOwnProperty(t))) {
              for (n = s[t].breakpoint; i >= 0; )
                r.breakpoints[i] &&
                  r.breakpoints[i] === n &&
                  r.breakpoints.splice(i, 1),
                  i--;
              r.breakpoints.push(n), (r.breakpointSettings[n] = s[t].settings);
            }
          r.breakpoints.sort(function (e, t) {
            return r.options.mobileFirst ? e - t : t - e;
          });
        }
      }),
      (t.prototype.reinit = function () {
        var t = this;
        (t.$slides = t.$slideTrack
          .children(t.options.slide)
          .addClass("slick-slide")),
          (t.slideCount = t.$slides.length),
          t.currentSlide >= t.slideCount &&
            0 !== t.currentSlide &&
            (t.currentSlide = t.currentSlide - t.options.slidesToScroll),
          t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0),
          t.registerBreakpoints(),
          t.setProps(),
          t.setupInfinite(),
          t.buildArrows(),
          t.updateArrows(),
          t.initArrowEvents(),
          t.buildDots(),
          t.updateDots(),
          t.initDotEvents(),
          t.cleanUpSlideEvents(),
          t.initSlideEvents(),
          t.checkResponsive(!1, !0),
          t.options.focusOnSelect === !0 &&
            e(t.$slideTrack).children().on("click.slick", t.selectHandler),
          t.setSlideClasses(
            "number" == typeof t.currentSlide ? t.currentSlide : 0
          ),
          t.setPosition(),
          t.focusHandler(),
          (t.paused = !t.options.autoplay),
          t.autoPlay(),
          t.$slider.trigger("reInit", [t]);
      }),
      (t.prototype.resize = function () {
        var t = this;
        e(window).width() !== t.windowWidth &&
          (clearTimeout(t.windowDelay),
          (t.windowDelay = window.setTimeout(function () {
            (t.windowWidth = e(window).width()),
              t.checkResponsive(),
              t.unslicked || t.setPosition();
          }, 50)));
      }),
      (t.prototype.removeSlide = t.prototype.slickRemove =
        function (e, t, n) {
          var i = this;
          return (
            "boolean" == typeof e
              ? ((t = e), (e = t === !0 ? 0 : i.slideCount - 1))
              : (e = t === !0 ? --e : e),
            i.slideCount < 1 || 0 > e || e > i.slideCount - 1
              ? !1
              : (i.unload(),
                n === !0
                  ? i.$slideTrack.children().remove()
                  : i.$slideTrack.children(this.options.slide).eq(e).remove(),
                (i.$slides = i.$slideTrack.children(this.options.slide)),
                i.$slideTrack.children(this.options.slide).detach(),
                i.$slideTrack.append(i.$slides),
                (i.$slidesCache = i.$slides),
                void i.reinit())
          );
        }),
      (t.prototype.setCSS = function (e) {
        var t,
          n,
          i = this,
          r = {};
        i.options.rtl === !0 && (e = -e),
          (t = "left" == i.positionProp ? Math.ceil(e) + "px" : "0px"),
          (n = "top" == i.positionProp ? Math.ceil(e) + "px" : "0px"),
          (r[i.positionProp] = e),
          i.transformsEnabled === !1
            ? i.$slideTrack.css(r)
            : ((r = {}),
              i.cssTransitions === !1
                ? ((r[i.animType] = "translate(" + t + ", " + n + ")"),
                  i.$slideTrack.css(r))
                : ((r[i.animType] = "translate3d(" + t + ", " + n + ", 0px)"),
                  i.$slideTrack.css(r)));
      }),
      (t.prototype.setDimensions = function () {
        var e = this;
        e.options.vertical === !1
          ? e.options.centerMode === !0 &&
            e.$list.css({
              padding: "0px " + e.options.centerPadding,
            })
          : (e.$list.height(
              e.$slides.first().outerHeight(!0) * e.options.slidesToShow
            ),
            e.options.centerMode === !0 &&
              e.$list.css({
                padding: e.options.centerPadding + " 0px",
              })),
          (e.listWidth = e.$list.width()),
          (e.listHeight = e.$list.height()),
          e.options.vertical === !1 && e.options.variableWidth === !1
            ? ((e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow)),
              e.$slideTrack.width(
                Math.ceil(
                  e.slideWidth * e.$slideTrack.children(".slick-slide").length
                )
              ))
            : e.options.variableWidth === !0
            ? e.$slideTrack.width(5e3 * e.slideCount)
            : ((e.slideWidth = Math.ceil(e.listWidth)),
              e.$slideTrack.height(
                Math.ceil(
                  e.$slides.first().outerHeight(!0) *
                    e.$slideTrack.children(".slick-slide").length
                )
              ));
        var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
        e.options.variableWidth === !1 &&
          e.$slideTrack.children(".slick-slide").width(e.slideWidth - t);
      }),
      (t.prototype.setFade = function () {
        var t,
          n = this;
        n.$slides.each(function (i, r) {
          (t = n.slideWidth * i * -1),
            e(r).css(
              n.options.rtl === !0
                ? {
                    position: "relative",
                    right: t,
                    top: 0,
                    zIndex: n.options.zIndex - 2,
                    opacity: 0,
                  }
                : {
                    position: "relative",
                    left: t,
                    top: 0,
                    zIndex: n.options.zIndex - 2,
                    opacity: 0,
                  }
            );
        }),
          n.$slides.eq(n.currentSlide).css({
            zIndex: n.options.zIndex - 1,
            opacity: 1,
          });
      }),
      (t.prototype.setHeight = function () {
        var e = this;
        if (
          1 === e.options.slidesToShow &&
          e.options.adaptiveHeight === !0 &&
          e.options.vertical === !1
        ) {
          var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
          e.$list.css("height", t);
        }
      }),
      (t.prototype.setOption = t.prototype.slickSetOption =
        function () {
          var t,
            n,
            i,
            r,
            s,
            o = this,
            a = !1;
          if (
            ("object" === e.type(arguments[0])
              ? ((i = arguments[0]), (a = arguments[1]), (s = "multiple"))
              : "string" === e.type(arguments[0]) &&
                ((i = arguments[0]),
                (r = arguments[1]),
                (a = arguments[2]),
                "responsive" === arguments[0] &&
                "array" === e.type(arguments[1])
                  ? (s = "responsive")
                  : "undefined" != typeof arguments[1] && (s = "single")),
            "single" === s)
          )
            o.options[i] = r;
          else if ("multiple" === s)
            e.each(i, function (e, t) {
              o.options[e] = t;
            });
          else if ("responsive" === s)
            for (n in r)
              if ("array" !== e.type(o.options.responsive))
                o.options.responsive = [r[n]];
              else {
                for (t = o.options.responsive.length - 1; t >= 0; )
                  o.options.responsive[t].breakpoint === r[n].breakpoint &&
                    o.options.responsive.splice(t, 1),
                    t--;
                o.options.responsive.push(r[n]);
              }
          a && (o.unload(), o.reinit());
        }),
      (t.prototype.setPosition = function () {
        var e = this;
        e.setDimensions(),
          e.setHeight(),
          e.options.fade === !1
            ? e.setCSS(e.getLeft(e.currentSlide))
            : e.setFade(),
          e.$slider.trigger("setPosition", [e]);
      }),
      (t.prototype.setProps = function () {
        var e = this,
          t = document.body.style;
        (e.positionProp = e.options.vertical === !0 ? "top" : "left"),
          "top" === e.positionProp
            ? e.$slider.addClass("slick-vertical")
            : e.$slider.removeClass("slick-vertical"),
          (void 0 !== t.WebkitTransition ||
            void 0 !== t.MozTransition ||
            void 0 !== t.msTransition) &&
            e.options.useCSS === !0 &&
            (e.cssTransitions = !0),
          e.options.fade &&
            ("number" == typeof e.options.zIndex
              ? e.options.zIndex < 3 && (e.options.zIndex = 3)
              : (e.options.zIndex = e.defaults.zIndex)),
          void 0 !== t.OTransform &&
            ((e.animType = "OTransform"),
            (e.transformType = "-o-transform"),
            (e.transitionType = "OTransition"),
            void 0 === t.perspectiveProperty &&
              void 0 === t.webkitPerspective &&
              (e.animType = !1)),
          void 0 !== t.MozTransform &&
            ((e.animType = "MozTransform"),
            (e.transformType = "-moz-transform"),
            (e.transitionType = "MozTransition"),
            void 0 === t.perspectiveProperty &&
              void 0 === t.MozPerspective &&
              (e.animType = !1)),
          void 0 !== t.webkitTransform &&
            ((e.animType = "webkitTransform"),
            (e.transformType = "-webkit-transform"),
            (e.transitionType = "webkitTransition"),
            void 0 === t.perspectiveProperty &&
              void 0 === t.webkitPerspective &&
              (e.animType = !1)),
          void 0 !== t.msTransform &&
            ((e.animType = "msTransform"),
            (e.transformType = "-ms-transform"),
            (e.transitionType = "msTransition"),
            void 0 === t.msTransform && (e.animType = !1)),
          void 0 !== t.transform &&
            e.animType !== !1 &&
            ((e.animType = "transform"),
            (e.transformType = "transform"),
            (e.transitionType = "transition")),
          (e.transformsEnabled =
            e.options.useTransform && null !== e.animType && e.animType !== !1);
      }),
      (t.prototype.setSlideClasses = function (e) {
        var t,
          n,
          i,
          r,
          s = this;
        if (
          ((n = s.$slider
            .find(".slick-slide")
            .removeClass("slick-active slick-center slick-current")
            .attr("aria-hidden", "true")),
          s.$slides.eq(e).addClass("slick-current"),
          s.options.centerMode === !0)
        ) {
          var o = s.options.slidesToShow % 2 === 0 ? 1 : 0;
          (t = Math.floor(s.options.slidesToShow / 2)),
            s.options.infinite === !0 &&
              (e >= t && e <= s.slideCount - 1 - t
                ? s.$slides
                    .slice(e - t + o, e + t + 1)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false")
                : ((i = s.options.slidesToShow + e),
                  n
                    .slice(i - t + 1 + o, i + t + 2)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false")),
              0 === e
                ? n
                    .eq(n.length - 1 - s.options.slidesToShow)
                    .addClass("slick-center")
                : e === s.slideCount - 1 &&
                  n.eq(s.options.slidesToShow).addClass("slick-center")),
            s.$slides.eq(e).addClass("slick-center");
        } else
          e >= 0 && e <= s.slideCount - s.options.slidesToShow
            ? s.$slides
                .slice(e, e + s.options.slidesToShow)
                .addClass("slick-active")
                .attr("aria-hidden", "false")
            : n.length <= s.options.slidesToShow
            ? n.addClass("slick-active").attr("aria-hidden", "false")
            : ((r = s.slideCount % s.options.slidesToShow),
              (i = s.options.infinite === !0 ? s.options.slidesToShow + e : e),
              s.options.slidesToShow == s.options.slidesToScroll &&
              s.slideCount - e < s.options.slidesToShow
                ? n
                    .slice(i - (s.options.slidesToShow - r), i + r)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false")
                : n
                    .slice(i, i + s.options.slidesToShow)
                    .addClass("slick-active")
                    .attr("aria-hidden", "false"));
        ("ondemand" === s.options.lazyLoad ||
          "anticipated" === s.options.lazyLoad) &&
          s.lazyLoad();
      }),
      (t.prototype.setupInfinite = function () {
        var t,
          n,
          i,
          r = this;
        if (
          (r.options.fade === !0 && (r.options.centerMode = !1),
          r.options.infinite === !0 &&
            r.options.fade === !1 &&
            ((n = null), r.slideCount > r.options.slidesToShow))
        ) {
          for (
            i =
              r.options.centerMode === !0
                ? r.options.slidesToShow + 1
                : r.options.slidesToShow,
              t = r.slideCount;
            t > r.slideCount - i;
            t -= 1
          )
            (n = t - 1),
              e(r.$slides[n])
                .clone(!0)
                .attr("id", "")
                .attr("data-slick-index", n - r.slideCount)
                .prependTo(r.$slideTrack)
                .addClass("slick-cloned");
          for (t = 0; t < i + r.slideCount; t += 1)
            (n = t),
              e(r.$slides[n])
                .clone(!0)
                .attr("id", "")
                .attr("data-slick-index", n + r.slideCount)
                .appendTo(r.$slideTrack)
                .addClass("slick-cloned");
          r.$slideTrack
            .find(".slick-cloned")
            .find("[id]")
            .each(function () {
              e(this).attr("id", "");
            });
        }
      }),
      (t.prototype.interrupt = function (e) {
        var t = this;
        e || t.autoPlay(), (t.interrupted = e);
      }),
      (t.prototype.selectHandler = function (t) {
        var n = this,
          i = e(t.target).is(".slick-slide")
            ? e(t.target)
            : e(t.target).parents(".slick-slide"),
          r = parseInt(i.attr("data-slick-index"));
        return (
          r || (r = 0),
          n.slideCount <= n.options.slidesToShow
            ? void n.slideHandler(r, !1, !0)
            : void n.slideHandler(r)
        );
      }),
      (t.prototype.slideHandler = function (e, t, n) {
        var i,
          r,
          s,
          o,
          a,
          l = null,
          c = this;
        return (
          (t = t || !1),
          (c.animating === !0 && c.options.waitForAnimate === !0) ||
          (c.options.fade === !0 && c.currentSlide === e)
            ? void 0
            : (t === !1 && c.asNavFor(e),
              (i = e),
              (l = c.getLeft(i)),
              (o = c.getLeft(c.currentSlide)),
              (c.currentLeft = null === c.swipeLeft ? o : c.swipeLeft),
              c.options.infinite === !1 &&
              c.options.centerMode === !1 &&
              (0 > e || e > c.getDotCount() * c.options.slidesToScroll)
                ? void (
                    c.options.fade === !1 &&
                    ((i = c.currentSlide),
                    n !== !0
                      ? c.animateSlide(o, function () {
                          c.postSlide(i);
                        })
                      : c.postSlide(i))
                  )
                : c.options.infinite === !1 &&
                  c.options.centerMode === !0 &&
                  (0 > e || e > c.slideCount - c.options.slidesToScroll)
                ? void (
                    c.options.fade === !1 &&
                    ((i = c.currentSlide),
                    n !== !0
                      ? c.animateSlide(o, function () {
                          c.postSlide(i);
                        })
                      : c.postSlide(i))
                  )
                : (c.options.autoplay && clearInterval(c.autoPlayTimer),
                  (r =
                    0 > i
                      ? c.slideCount % c.options.slidesToScroll !== 0
                        ? c.slideCount -
                          (c.slideCount % c.options.slidesToScroll)
                        : c.slideCount + i
                      : i >= c.slideCount
                      ? c.slideCount % c.options.slidesToScroll !== 0
                        ? 0
                        : i - c.slideCount
                      : i),
                  (c.animating = !0),
                  c.$slider.trigger("beforeChange", [c, c.currentSlide, r]),
                  (s = c.currentSlide),
                  (c.currentSlide = r),
                  c.setSlideClasses(c.currentSlide),
                  c.options.asNavFor &&
                    ((a = c.getNavTarget()),
                    (a = a.slick("getSlick")),
                    a.slideCount <= a.options.slidesToShow &&
                      a.setSlideClasses(c.currentSlide)),
                  c.updateDots(),
                  c.updateArrows(),
                  c.options.fade === !0
                    ? (n !== !0
                        ? (c.fadeSlideOut(s),
                          c.fadeSlide(r, function () {
                            c.postSlide(r);
                          }))
                        : c.postSlide(r),
                      void c.animateHeight())
                    : void (n !== !0
                        ? c.animateSlide(l, function () {
                            c.postSlide(r);
                          })
                        : c.postSlide(r))))
        );
      }),
      (t.prototype.startLoad = function () {
        var e = this;
        e.options.arrows === !0 &&
          e.slideCount > e.options.slidesToShow &&
          (e.$prevArrow.hide(), e.$nextArrow.hide()),
          e.options.dots === !0 &&
            e.slideCount > e.options.slidesToShow &&
            e.$dots.hide(),
          e.$slider.addClass("slick-loading");
      }),
      (t.prototype.swipeDirection = function () {
        var e,
          t,
          n,
          i,
          r = this;
        return (
          (e = r.touchObject.startX - r.touchObject.curX),
          (t = r.touchObject.startY - r.touchObject.curY),
          (n = Math.atan2(t, e)),
          (i = Math.round((180 * n) / Math.PI)),
          0 > i && (i = 360 - Math.abs(i)),
          45 >= i && i >= 0
            ? r.options.rtl === !1
              ? "left"
              : "right"
            : 360 >= i && i >= 315
            ? r.options.rtl === !1
              ? "left"
              : "right"
            : i >= 135 && 225 >= i
            ? r.options.rtl === !1
              ? "right"
              : "left"
            : r.options.verticalSwiping === !0
            ? i >= 35 && 135 >= i
              ? "down"
              : "up"
            : "vertical"
        );
      }),
      (t.prototype.swipeEnd = function () {
        var e,
          t,
          n = this;
        if (((n.dragging = !1), (n.swiping = !1), n.scrolling))
          return (n.scrolling = !1), !1;
        if (
          ((n.interrupted = !1),
          (n.shouldClick = n.touchObject.swipeLength > 10 ? !1 : !0),
          void 0 === n.touchObject.curX)
        )
          return !1;
        if (
          (n.touchObject.edgeHit === !0 &&
            n.$slider.trigger("edge", [n, n.swipeDirection()]),
          n.touchObject.swipeLength >= n.touchObject.minSwipe)
        ) {
          switch ((t = n.swipeDirection())) {
            case "left":
            case "down":
              (e = n.options.swipeToSlide
                ? n.checkNavigable(n.currentSlide + n.getSlideCount())
                : n.currentSlide + n.getSlideCount()),
                (n.currentDirection = 0);
              break;
            case "right":
            case "up":
              (e = n.options.swipeToSlide
                ? n.checkNavigable(n.currentSlide - n.getSlideCount())
                : n.currentSlide - n.getSlideCount()),
                (n.currentDirection = 1);
          }
          "vertical" != t &&
            (n.slideHandler(e),
            (n.touchObject = {}),
            n.$slider.trigger("swipe", [n, t]));
        } else
          n.touchObject.startX !== n.touchObject.curX &&
            (n.slideHandler(n.currentSlide), (n.touchObject = {}));
      }),
      (t.prototype.swipeHandler = function (e) {
        var t = this;
        if (
          !(
            t.options.swipe === !1 ||
            ("ontouchend" in document && t.options.swipe === !1) ||
            (t.options.draggable === !1 && -1 !== e.type.indexOf("mouse"))
          )
        )
          switch (
            ((t.touchObject.fingerCount =
              e.originalEvent && void 0 !== e.originalEvent.touches
                ? e.originalEvent.touches.length
                : 1),
            (t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold),
            t.options.verticalSwiping === !0 &&
              (t.touchObject.minSwipe =
                t.listHeight / t.options.touchThreshold),
            e.data.action)
          ) {
            case "start":
              t.swipeStart(e);
              break;
            case "move":
              t.swipeMove(e);
              break;
            case "end":
              t.swipeEnd(e);
          }
      }),
      (t.prototype.swipeMove = function (e) {
        var t,
          n,
          i,
          r,
          s,
          o,
          a = this;
        return (
          (s = void 0 !== e.originalEvent ? e.originalEvent.touches : null),
          !a.dragging || a.scrolling || (s && 1 !== s.length)
            ? !1
            : ((t = a.getLeft(a.currentSlide)),
              (a.touchObject.curX = void 0 !== s ? s[0].pageX : e.clientX),
              (a.touchObject.curY = void 0 !== s ? s[0].pageY : e.clientY),
              (a.touchObject.swipeLength = Math.round(
                Math.sqrt(
                  Math.pow(a.touchObject.curX - a.touchObject.startX, 2)
                )
              )),
              (o = Math.round(
                Math.sqrt(
                  Math.pow(a.touchObject.curY - a.touchObject.startY, 2)
                )
              )),
              !a.options.verticalSwiping && !a.swiping && o > 4
                ? ((a.scrolling = !0), !1)
                : (a.options.verticalSwiping === !0 &&
                    (a.touchObject.swipeLength = o),
                  (n = a.swipeDirection()),
                  void 0 !== e.originalEvent &&
                    a.touchObject.swipeLength > 4 &&
                    ((a.swiping = !0), e.preventDefault()),
                  (r =
                    (a.options.rtl === !1 ? 1 : -1) *
                    (a.touchObject.curX > a.touchObject.startX ? 1 : -1)),
                  a.options.verticalSwiping === !0 &&
                    (r = a.touchObject.curY > a.touchObject.startY ? 1 : -1),
                  (i = a.touchObject.swipeLength),
                  (a.touchObject.edgeHit = !1),
                  a.options.infinite === !1 &&
                    ((0 === a.currentSlide && "right" === n) ||
                      (a.currentSlide >= a.getDotCount() && "left" === n)) &&
                    ((i = a.touchObject.swipeLength * a.options.edgeFriction),
                    (a.touchObject.edgeHit = !0)),
                  (a.swipeLeft =
                    a.options.vertical === !1
                      ? t + i * r
                      : t + i * (a.$list.height() / a.listWidth) * r),
                  a.options.verticalSwiping === !0 && (a.swipeLeft = t + i * r),
                  a.options.fade === !0 || a.options.touchMove === !1
                    ? !1
                    : a.animating === !0
                    ? ((a.swipeLeft = null), !1)
                    : void a.setCSS(a.swipeLeft)))
        );
      }),
      (t.prototype.swipeStart = function (e) {
        var t,
          n = this;
        return (
          (n.interrupted = !0),
          1 !== n.touchObject.fingerCount ||
          n.slideCount <= n.options.slidesToShow
            ? ((n.touchObject = {}), !1)
            : (void 0 !== e.originalEvent &&
                void 0 !== e.originalEvent.touches &&
                (t = e.originalEvent.touches[0]),
              (n.touchObject.startX = n.touchObject.curX =
                void 0 !== t ? t.pageX : e.clientX),
              (n.touchObject.startY = n.touchObject.curY =
                void 0 !== t ? t.pageY : e.clientY),
              void (n.dragging = !0))
        );
      }),
      (t.prototype.unfilterSlides = t.prototype.slickUnfilter =
        function () {
          var e = this;
          null !== e.$slidesCache &&
            (e.unload(),
            e.$slideTrack.children(this.options.slide).detach(),
            e.$slidesCache.appendTo(e.$slideTrack),
            e.reinit());
        }),
      (t.prototype.unload = function () {
        var t = this;
        e(".slick-cloned", t.$slider).remove(),
          t.$dots && t.$dots.remove(),
          t.$prevArrow &&
            t.htmlExpr.test(t.options.prevArrow) &&
            t.$prevArrow.remove(),
          t.$nextArrow &&
            t.htmlExpr.test(t.options.nextArrow) &&
            t.$nextArrow.remove(),
          t.$slides
            .removeClass("slick-slide slick-active slick-visible slick-current")
            .attr("aria-hidden", "true")
            .css("width", "");
      }),
      (t.prototype.unslick = function (e) {
        var t = this;
        t.$slider.trigger("unslick", [t, e]), t.destroy();
      }),
      (t.prototype.updateArrows = function () {
        var e,
          t = this;
        (e = Math.floor(t.options.slidesToShow / 2)),
          t.options.arrows === !0 &&
            t.slideCount > t.options.slidesToShow &&
            !t.options.infinite &&
            (t.$prevArrow
              .removeClass("slick-disabled")
              .attr("aria-disabled", "false"),
            t.$nextArrow
              .removeClass("slick-disabled")
              .attr("aria-disabled", "false"),
            0 === t.currentSlide
              ? (t.$prevArrow
                  .addClass("slick-disabled")
                  .attr("aria-disabled", "true"),
                t.$nextArrow
                  .removeClass("slick-disabled")
                  .attr("aria-disabled", "false"))
              : t.currentSlide >= t.slideCount - t.options.slidesToShow &&
                t.options.centerMode === !1
              ? (t.$nextArrow
                  .addClass("slick-disabled")
                  .attr("aria-disabled", "true"),
                t.$prevArrow
                  .removeClass("slick-disabled")
                  .attr("aria-disabled", "false"))
              : t.currentSlide >= t.slideCount - 1 &&
                t.options.centerMode === !0 &&
                (t.$nextArrow
                  .addClass("slick-disabled")
                  .attr("aria-disabled", "true"),
                t.$prevArrow
                  .removeClass("slick-disabled")
                  .attr("aria-disabled", "false")));
      }),
      (t.prototype.updateDots = function () {
        var e = this;
        null !== e.$dots &&
          (e.$dots.find("li").removeClass("slick-active").end(),
          e.$dots
            .find("li")
            .eq(Math.floor(e.currentSlide / e.options.slidesToScroll))
            .addClass("slick-active"));
      }),
      (t.prototype.visibility = function () {
        var e = this;
        e.options.autoplay && (e.interrupted = document[e.hidden] ? !0 : !1);
      }),
      (e.fn.slick = function () {
        var e,
          n,
          i = this,
          r = arguments[0],
          s = Array.prototype.slice.call(arguments, 1),
          o = i.length;
        for (e = 0; o > e; e++)
          if (
            ("object" == typeof r || "undefined" == typeof r
              ? (i[e].slick = new t(i[e], r))
              : (n = i[e].slick[r].apply(i[e].slick, s)),
            "undefined" != typeof n)
          )
            return n;
        return i;
      });
  });
var geoip2 = (function () {
  function Lookup(e, t, n, i) {
    (this.successCallback = e),
      (this.errorCallback = t),
      (this.geolocation =
        n && n.hasOwnProperty("geolocation")
          ? n.geolocation
          : navigator.geolocation),
      (this.type = i);
  }
  var exports = {};
  (Lookup.prototype.returnSuccess = function (e) {
    this.successCallback &&
      "function" == typeof this.successCallback &&
      this.successCallback(this.fillInObject(this.objectFromJSON(e)));
  }),
    (Lookup.prototype.returnError = function (e) {
      this.errorCallback &&
        "function" == typeof this.errorCallback &&
        (e ||
          (e = {
            error: "Unknown error",
          }),
        this.errorCallback(e));
    }),
    (Lookup.prototype.objectFromJSON = function (json) {
      return "undefined" != typeof window.JSON &&
        "function" == typeof window.JSON.parse
        ? window.JSON.parse(json)
        : eval("(" + json + ")");
    });
  var fillIns = {
    country: [
      ["continent", "Object", "names", "Object"],
      ["country", "Object", "names", "Object"],
      ["registered_country", "Object", "names", "Object"],
      ["represented_country", "Object", "names", "Object"],
      ["traits", "Object"],
    ],
    city: [
      ["city", "Object", "names", "Object"],
      ["continent", "Object", "names", "Object"],
      ["country", "Object", "names", "Object"],
      ["location", "Object"],
      ["postal", "Object"],
      ["registered_country", "Object", "names", "Object"],
      ["represented_country", "Object", "names", "Object"],
      ["subdivisions", "Array", 0, "Object", "names", "Object"],
      ["traits", "Object"],
    ],
  };
  return (
    (Lookup.prototype.fillInObject = function (e) {
      for (
        var t = "country" === this.type ? fillIns.country : fillIns.city, n = 0;
        n < t.length;
        n++
      )
        for (var i = t[n], r = e, s = 0; s < i.length; s += 2) {
          var o = i[s];
          r[o] || (r[o] = "Object" === i[s + 1] ? {} : []), (r = r[o]);
        }
      try {
        Object.defineProperty(e.continent, "continent_code", {
          enumerable: !1,
          get: function () {
            return this.code;
          },
          set: function (e) {
            this.code = e;
          },
        });
      } catch (a) {
        e.continent.code && (e.continent.continent_code = e.continent.code);
      }
      if ("country" !== this.type)
        try {
          Object.defineProperty(e, "most_specific_subdivision", {
            enumerable: !1,
            get: function () {
              return this.subdivisions[this.subdivisions.length - 1];
            },
            set: function (e) {
              this.subdivisions[this.subdivisions.length - 1] = e;
            },
          });
        } catch (a) {
          e.most_specific_subdivision =
            e.subdivisions[e.subdivisions.length - 1];
        }
      return e;
    }),
    (Lookup.prototype.getGeoIPResult = function () {
      var e,
        t,
        n = this,
        i = "//geoip-js.maxmind.com/geoip/v2.1/" + this.type + "/me?",
        r = {
          referrer: location.protocol + "//" + location.hostname,
        };
      if (!this.alreadyRan) {
        (this.alreadyRan = 1),
          "Microsoft Internet Explorer" === navigator.appName &&
          window.XDomainRequest &&
          -1 === navigator.appVersion.indexOf("MSIE 1")
            ? ((t = new XDomainRequest()),
              (i = window.location.protocol + i),
              (t.onprogress = function () {}))
            : ((t = new window.XMLHttpRequest()), (i = "https:" + i));
        for (e in r)
          r.hasOwnProperty(e) &&
            r[e] &&
            (i += e + "=" + encodeURIComponent(r[e]) + "&");
        (i = i.substring(0, i.length - 1)),
          t.open("GET", i, !0),
          (t.onload = function () {
            if ("undefined" == typeof t.status || 200 === t.status)
              n.returnSuccess(t.responseText);
            else {
              var e,
                i = t.hasOwnProperty("contentType")
                  ? t.contentType
                  : t.getResponseHeader("Content-Type");
              if (/json/.test(i) && t.responseText.length)
                try {
                  e = n.objectFromJSON(t.responseText);
                } catch (r) {
                  e = {
                    code: "HTTP_ERROR",
                    error:
                      "The server returned a " +
                      t.status +
                      " status with an invalid JSON body.",
                  };
                }
              else
                e = t.responseText.length
                  ? {
                      code: "HTTP_ERROR",
                      error:
                        "The server returned a " +
                        t.status +
                        " status with the following body: " +
                        t.responseText,
                    }
                  : {
                      code: "HTTP_ERROR",
                      error:
                        "The server returned a " +
                        t.status +
                        " status but either the server did not return a body or this browser is a version of Internet Explorer that hides error bodies.",
                    };
              n.returnError(e);
            }
          }),
          (t.ontimeout = function () {
            n.returnError({
              code: "HTTP_TIMEOUT",
              error: "The request to the GeoIP2 web service timed out.",
            });
          }),
          (t.onerror = function () {
            n.returnError({
              code: "HTTP_ERROR",
              error:
                "There was a network error receiving the response from the GeoIP2 web service.",
            });
          }),
          t.send(null);
      }
    }),
    (exports.country = function (e, t, n) {
      var i = new Lookup(e, t, n, "country");
      i.getGeoIPResult();
    }),
    (exports.city = function (e, t, n) {
      var i = new Lookup(e, t, n, "city");
      i.getGeoIPResult();
    }),
    (exports.insights = function (e, t, n) {
      var i = new Lookup(e, t, n, "insights");
      i.getGeoIPResult();
    }),
    exports
  );
})();
/*! lazysizes - v5.2.0-beta1 */
!(function (e, t) {
  var n = t(e, e.document);
  (e.lazySizes = n),
    "object" == typeof module && module.exports && (module.exports = n);
})("undefined" != typeof window ? window : {}, function (e, t) {
  "use strict";
  var n, i;
  if (
    ((function () {
      var t,
        n = {
          lazyClass: "lazyload",
          loadedClass: "lazyloaded",
          loadingClass: "lazyloading",
          preloadClass: "lazypreload",
          errorClass: "lazyerror",
          autosizesClass: "lazyautosizes",
          srcAttr: "data-src",
          srcsetAttr: "data-srcset",
          sizesAttr: "data-sizes",
          minSize: 40,
          customMedia: {},
          init: !0,
          expFactor: 1.5,
          hFac: 0.8,
          loadMode: 2,
          loadHidden: !0,
          ricTimeout: 0,
          throttleDelay: 125,
        };
      i = e.lazySizesConfig || e.lazysizesConfig || {};
      for (t in n) t in i || (i[t] = n[t]);
    })(),
    !t || !t.getElementsByClassName)
  )
    return {
      init: function () {},
      cfg: i,
      noSupport: !0,
    };
  var r = t.documentElement,
    s = e.Date,
    o = e.HTMLPictureElement,
    a = "addEventListener",
    l = "getAttribute",
    c = e[a],
    u = e.setTimeout,
    d = e.requestAnimationFrame || u,
    p = e.requestIdleCallback,
    h = /^picture$/i,
    f = ["load", "error", "lazyincluded", "_lazyloaded"],
    m = {},
    g = Array.prototype.forEach,
    _ = function (e, t) {
      return (
        m[t] || (m[t] = new RegExp("(\\s|^)" + t + "(\\s|$)")),
        m[t].test(e[l]("class") || "") && m[t]
      );
    },
    v = function (e, t) {
      _(e, t) ||
        e.setAttribute("class", (e[l]("class") || "").trim() + " " + t);
    },
    y = function (e, t) {
      var n;
      (n = _(e, t)) &&
        e.setAttribute("class", (e[l]("class") || "").replace(n, " "));
    },
    b = function (e, t, n) {
      var i = n ? a : "removeEventListener";
      n && b(e, t),
        f.forEach(function (n) {
          e[i](n, t);
        });
    },
    w = function (e, i, r, s, o) {
      var a = t.createEvent("Event");
      return (
        r || (r = {}),
        (r.instance = n),
        a.initEvent(i, !s, !o),
        (a.detail = r),
        e.dispatchEvent(a),
        a
      );
    },
    C = function (t, n) {
      var r;
      !o && (r = e.picturefill || i.pf)
        ? (n && n.src && !t[l]("srcset") && t.setAttribute("srcset", n.src),
          r({
            reevaluate: !0,
            elements: [t],
          }))
        : n && n.src && (t.src = n.src);
    },
    k = function (e, t) {
      return (getComputedStyle(e, null) || {})[t];
    },
    T = function (e, t, n) {
      for (n = n || e.offsetWidth; n < i.minSize && t && !e._lazysizesWidth; )
        (n = t.offsetWidth), (t = t.parentNode);
      return n;
    },
    E = (function () {
      var e,
        n,
        i = [],
        r = [],
        s = i,
        o = function () {
          var t = s;
          for (s = i.length ? r : i, e = !0, n = !1; t.length; ) t.shift()();
          e = !1;
        },
        a = function (i, r) {
          e && !r
            ? i.apply(this, arguments)
            : (s.push(i), n || ((n = !0), (t.hidden ? u : d)(o)));
        };
      return (a._lsFlush = o), a;
    })(),
    S = function (e, t) {
      return t
        ? function () {
            E(e);
          }
        : function () {
            var t = this,
              n = arguments;
            E(function () {
              e.apply(t, n);
            });
          };
    },
    x = function (e) {
      var t,
        n = 0,
        r = i.throttleDelay,
        o = i.ricTimeout,
        a = function () {
          (t = !1), (n = s.now()), e();
        },
        l =
          p && o > 49
            ? function () {
                p(a, {
                  timeout: o,
                }),
                  o !== i.ricTimeout && (o = i.ricTimeout);
              }
            : S(function () {
                u(a);
              }, !0);
      return function (e) {
        var i;
        (e = !0 === e) && (o = 33),
          t ||
            ((t = !0),
            (i = r - (s.now() - n)),
            0 > i && (i = 0),
            e || 9 > i ? l() : u(l, i));
      };
    },
    P = function (e) {
      var t,
        n,
        i = 99,
        r = function () {
          (t = null), e();
        },
        o = function () {
          var e = s.now() - n;
          i > e ? u(o, i - e) : (p || r)(r);
        };
      return function () {
        (n = s.now()), t || (t = u(o, i));
      };
    },
    O = (function () {
      var o,
        p,
        f,
        m,
        T,
        O,
        I,
        D,
        M,
        R,
        j,
        L,
        N = /^img$/i,
        U = /^iframe$/i,
        B = "onscroll" in e && !/(gle|ing)bot/.test(navigator.userAgent),
        $ = 0,
        F = 0,
        H = 0,
        W = -1,
        q = function (e) {
          H--, (!e || 0 > H || !e.target) && (H = 0);
        },
        z = function (e) {
          return (
            null == L && (L = "hidden" == k(t.body, "visibility")),
            L ||
              !(
                "hidden" == k(e.parentNode, "visibility") &&
                "hidden" == k(e, "visibility")
              )
          );
        },
        V = function (e, n) {
          var i,
            s = e,
            o = z(e);
          for (
            D -= n, j += n, M -= n, R += n;
            o && (s = s.offsetParent) && s != t.body && s != r;

          )
            (o = (k(s, "opacity") || 1) > 0) &&
              "visible" != k(s, "overflow") &&
              ((i = s.getBoundingClientRect()),
              (o =
                R > i.left &&
                M < i.right &&
                j > i.top - 1 &&
                D < i.bottom + 1));
          return o;
        },
        K = function () {
          var e,
            s,
            a,
            c,
            u,
            d,
            h,
            f,
            g,
            _,
            v,
            y,
            b = n.elements;
          if ((m = i.loadMode) && 8 > H && (e = b.length)) {
            for (s = 0, W++; e > s; s++)
              if (b[s] && !b[s]._lazyRace)
                if (!B || (n.prematureUnveil && n.prematureUnveil(b[s])))
                  tt(b[s]);
                else if (
                  (((f = b[s][l]("data-expand")) && (d = 1 * f)) || (d = F),
                  _ ||
                    ((_ =
                      !i.expand || i.expand < 1
                        ? r.clientHeight > 500 && r.clientWidth > 500
                          ? 500
                          : 370
                        : i.expand),
                    (n._defEx = _),
                    (v = _ * i.expFactor),
                    (y = i.hFac),
                    (L = null),
                    v > F && 1 > H && W > 2 && m > 2 && !t.hidden
                      ? ((F = v), (W = 0))
                      : (F = m > 1 && W > 1 && 6 > H ? _ : $)),
                  g !== d &&
                    ((O = innerWidth + d * y),
                    (I = innerHeight + d),
                    (h = -1 * d),
                    (g = d)),
                  (a = b[s].getBoundingClientRect()),
                  (j = a.bottom) >= h &&
                    (D = a.top) <= I &&
                    (R = a.right) >= h * y &&
                    (M = a.left) <= O &&
                    (j || R || M || D) &&
                    (i.loadHidden || z(b[s])) &&
                    ((p && 3 > H && !f && (3 > m || 4 > W)) || V(b[s], d)))
                ) {
                  if ((tt(b[s]), (u = !0), H > 9)) break;
                } else
                  !u &&
                    p &&
                    !c &&
                    4 > H &&
                    4 > W &&
                    m > 2 &&
                    (o[0] || i.preloadAfterLoad) &&
                    (o[0] ||
                      (!f &&
                        (j ||
                          R ||
                          M ||
                          D ||
                          "auto" != b[s][l](i.sizesAttr)))) &&
                    (c = o[0] || b[s]);
            c && !u && tt(c);
          }
        },
        G = x(K),
        Y = function (e) {
          var t = e.target;
          return t._lazyCache
            ? void delete t._lazyCache
            : (q(e),
              v(t, i.loadedClass),
              y(t, i.loadingClass),
              b(t, Q),
              w(t, "lazyloaded"),
              void 0);
        },
        X = S(Y),
        Q = function (e) {
          X({
            target: e.target,
          });
        },
        J = function (e, t) {
          try {
            e.contentWindow.location.replace(t);
          } catch (n) {
            e.src = t;
          }
        },
        Z = function (e) {
          var t,
            n = e[l](i.srcsetAttr);
          (t = i.customMedia[e[l]("data-media") || e[l]("media")]) &&
            e.setAttribute("media", t),
            n && e.setAttribute("srcset", n);
        },
        et = S(function (e, t, n, r, s) {
          var o, a, c, d, p, m;
          (p = w(e, "lazybeforeunveil", t)).defaultPrevented ||
            (r && (n ? v(e, i.autosizesClass) : e.setAttribute("sizes", r)),
            (a = e[l](i.srcsetAttr)),
            (o = e[l](i.srcAttr)),
            s && ((c = e.parentNode), (d = c && h.test(c.nodeName || ""))),
            (m = t.firesLoad || ("src" in e && (a || o || d))),
            (p = {
              target: e,
            }),
            v(e, i.loadingClass),
            m && (clearTimeout(f), (f = u(q, 2500)), b(e, Q, !0)),
            d && g.call(c.getElementsByTagName("source"), Z),
            a
              ? e.setAttribute("srcset", a)
              : o && !d && (U.test(e.nodeName) ? J(e, o) : (e.src = o)),
            s &&
              (a || d) &&
              C(e, {
                src: o,
              })),
            e._lazyRace && delete e._lazyRace,
            y(e, i.lazyClass),
            E(function () {
              var t = e.complete && e.naturalWidth > 1;
              (m && !t) ||
                (t && v(e, "ls-is-cached"),
                Y(p),
                (e._lazyCache = !0),
                u(function () {
                  "_lazyCache" in e && delete e._lazyCache;
                }, 9)),
                "lazy" == e.loading && H--;
            }, !0);
        }),
        tt = function (e) {
          if (!e._lazyRace) {
            var t,
              n = N.test(e.nodeName),
              r = n && (e[l](i.sizesAttr) || e[l]("sizes")),
              s = "auto" == r;
            ((!s && p) ||
              !n ||
              (!e[l]("src") && !e.srcset) ||
              e.complete ||
              _(e, i.errorClass) ||
              !_(e, i.lazyClass)) &&
              ((t = w(e, "lazyunveilread").detail),
              s && A.updateElem(e, !0, e.offsetWidth),
              (e._lazyRace = !0),
              H++,
              et(e, t, s, r, n));
          }
        },
        nt = P(function () {
          (i.loadMode = 3), G();
        }),
        it = function () {
          3 == i.loadMode && (i.loadMode = 2), nt();
        },
        rt = function () {
          if (!p) {
            if (s.now() - T < 999) return void u(rt, 999);
            (p = !0), (i.loadMode = 3), G(), c("scroll", it, !0);
          }
        };
      return {
        _: function () {
          (T = s.now()),
            (n.elements = t.getElementsByClassName(i.lazyClass)),
            (o = t.getElementsByClassName(i.lazyClass + " " + i.preloadClass)),
            c("scroll", G, !0),
            c("resize", G, !0),
            c("pageshow", function (e) {
              if (e.persisted) {
                var n = t.querySelectorAll("." + i.loadingClass);
                n.length &&
                  n.forEach &&
                  d(function () {
                    n.forEach(function (e) {
                      e.complete && tt(e);
                    });
                  });
              }
            }),
            e.MutationObserver
              ? new MutationObserver(G).observe(r, {
                  childList: !0,
                  subtree: !0,
                  attributes: !0,
                })
              : (r[a]("DOMNodeInserted", G, !0),
                r[a]("DOMAttrModified", G, !0),
                setInterval(G, 999)),
            c("hashchange", G, !0),
            [
              "focus",
              "mouseover",
              "click",
              "load",
              "transitionend",
              "animationend",
            ].forEach(function (e) {
              t[a](e, G, !0);
            }),
            /d$|^c/.test(t.readyState)
              ? rt()
              : (c("load", rt), t[a]("DOMContentLoaded", G), u(rt, 2e4)),
            n.elements.length ? (K(), E._lsFlush()) : G();
        },
        checkElems: G,
        unveil: tt,
        _aLSL: it,
      };
    })(),
    A = (function () {
      var e,
        n = S(function (e, t, n, i) {
          var r, s, o;
          if (
            ((e._lazysizesWidth = i),
            (i += "px"),
            e.setAttribute("sizes", i),
            h.test(t.nodeName || ""))
          )
            for (
              r = t.getElementsByTagName("source"), s = 0, o = r.length;
              o > s;
              s++
            )
              r[s].setAttribute("sizes", i);
          n.detail.dataAttr || C(e, n.detail);
        }),
        r = function (e, t, i) {
          var r,
            s = e.parentNode;
          s &&
            ((i = T(e, s, i)),
            (r = w(e, "lazybeforesizes", {
              width: i,
              dataAttr: !!t,
            })),
            r.defaultPrevented ||
              ((i = r.detail.width) &&
                i !== e._lazysizesWidth &&
                n(e, s, r, i)));
        },
        s = function () {
          var t,
            n = e.length;
          if (n) for (t = 0; n > t; t++) r(e[t]);
        },
        o = P(s);
      return {
        _: function () {
          (e = t.getElementsByClassName(i.autosizesClass)), c("resize", o);
        },
        checkElems: o,
        updateElem: r,
      };
    })(),
    I = function () {
      !I.i && t.getElementsByClassName && ((I.i = !0), A._(), O._());
    };
  return (
    u(function () {
      i.init && I();
    }),
    (n = {
      cfg: i,
      autoSizer: A,
      loader: O,
      init: I,
      uP: C,
      aC: v,
      rC: y,
      hC: _,
      fire: w,
      gW: T,
      rAF: E,
    })
  );
}),
  /*!
   * autocomplete.js 0.31.0
   * https://github.com/algolia/autocomplete.js
   * Copyright 2018 Algolia, Inc. and other contributors; Licensed MIT
   */
  !(function (e, t) {
    "object" == typeof exports && "object" == typeof module
      ? (module.exports = t())
      : "function" == typeof define && define.amd
      ? define([], t)
      : "object" == typeof exports
      ? (exports.autocomplete = t())
      : (e.autocomplete = t());
  })(this, function () {
    return (function (e) {
      function t(i) {
        if (n[i]) return n[i].exports;
        var r = (n[i] = {
          exports: {},
          id: i,
          loaded: !1,
        });
        return (
          e[i].call(r.exports, r, r.exports, t), (r.loaded = !0), r.exports
        );
      }
      var n = {};
      return (t.m = e), (t.c = n), (t.p = ""), t(0);
    })([
      function (e, t, n) {
        "use strict";
        e.exports = n(1);
      },
      function (e, t, n) {
        "use strict";
        function i(e, t, n, i) {
          n = s.isArray(n) ? n : [].slice.call(arguments, 2);
          var c = r(e).each(function (e, s) {
            var c = r(s),
              u = new l({
                el: c,
              }),
              d =
                i ||
                new a({
                  input: c,
                  eventBus: u,
                  dropdownMenuContainer: t.dropdownMenuContainer,
                  hint: void 0 === t.hint || !!t.hint,
                  minLength: t.minLength,
                  autoselect: t.autoselect,
                  autoselectOnBlur: t.autoselectOnBlur,
                  openOnFocus: t.openOnFocus,
                  templates: t.templates,
                  debug: t.debug,
                  clearOnSelected: t.clearOnSelected,
                  cssClasses: t.cssClasses,
                  datasets: n,
                  keyboardShortcuts: t.keyboardShortcuts,
                  appendTo: t.appendTo,
                  autoWidth: t.autoWidth,
                });
            c.data(o, d);
          });
          return (
            (c.autocomplete = {}),
            s.each(
              ["open", "close", "getVal", "setVal", "destroy", "getWrapper"],
              function (e) {
                c.autocomplete[e] = function () {
                  var t,
                    n = arguments;
                  return (
                    c.each(function (i, s) {
                      var a = r(s).data(o);
                      t = a[e].apply(a, n);
                    }),
                    t
                  );
                };
              }
            ),
            c
          );
        }
        var r = n(2);
        n(3).element = r;
        var s = n(4);
        (s.isArray = r.isArray),
          (s.isFunction = r.isFunction),
          (s.isObject = r.isPlainObject),
          (s.bind = r.proxy),
          (s.each = function (e, t) {
            function n(e, n) {
              return t(n, e);
            }
            r.each(e, n);
          }),
          (s.map = r.map),
          (s.mixin = r.extend),
          (s.Event = r.Event);
        var o = "aaAutocomplete",
          a = n(5),
          l = n(6);
        (i.sources = a.sources),
          (i.escapeHighlightedString = s.escapeHighlightedString);
        var c = "autocomplete" in window,
          u = window.autocomplete;
        (i.noConflict = function () {
          return c ? (window.autocomplete = u) : delete window.autocomplete, i;
        }),
          (e.exports = i);
      },
      function (e) {
        !(function (t) {
          e.exports = (function (e) {
            var t = (function () {
              function t(e) {
                return null == e ? String(e) : K[G.call(e)] || "object";
              }
              function n(e) {
                return "function" == t(e);
              }
              function i(e) {
                return null != e && e == e.window;
              }
              function r(e) {
                return null != e && e.nodeType == e.DOCUMENT_NODE;
              }
              function s(e) {
                return "object" == t(e);
              }
              function o(e) {
                return (
                  s(e) && !i(e) && Object.getPrototypeOf(e) == Object.prototype
                );
              }
              function a(e) {
                var t = !!e && "length" in e && e.length,
                  n = E.type(e);
                return (
                  "function" != n &&
                  !i(e) &&
                  ("array" == n ||
                    0 === t ||
                    ("number" == typeof t && t > 0 && t - 1 in e))
                );
              }
              function l(e) {
                return I.call(e, function (e) {
                  return null != e;
                });
              }
              function c(e) {
                return e.length > 0 ? E.fn.concat.apply([], e) : e;
              }
              function u(e) {
                return e
                  .replace(/::/g, "/")
                  .replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2")
                  .replace(/([a-z\d])([A-Z])/g, "$1_$2")
                  .replace(/_/g, "-")
                  .toLowerCase();
              }
              function d(e) {
                return e in j
                  ? j[e]
                  : (j[e] = new RegExp("(^|\\s)" + e + "(\\s|$)"));
              }
              function p(e, t) {
                return "number" != typeof t || L[u(e)] ? t : t + "px";
              }
              function h(e) {
                var t, n;
                return (
                  R[e] ||
                    ((t = M.createElement(e)),
                    M.body.appendChild(t),
                    (n = getComputedStyle(t, "").getPropertyValue("display")),
                    t.parentNode.removeChild(t),
                    "none" == n && (n = "block"),
                    (R[e] = n)),
                  R[e]
                );
              }
              function f(e) {
                return "children" in e
                  ? D.call(e.children)
                  : E.map(e.childNodes, function (e) {
                      return 1 == e.nodeType ? e : void 0;
                    });
              }
              function m(e, t) {
                var n,
                  i = e ? e.length : 0;
                for (n = 0; i > n; n++) this[n] = e[n];
                (this.length = i), (this.selector = t || "");
              }
              function g(e, t, n) {
                for (T in t)
                  n && (o(t[T]) || J(t[T]))
                    ? (o(t[T]) && !o(e[T]) && (e[T] = {}),
                      J(t[T]) && !J(e[T]) && (e[T] = []),
                      g(e[T], t[T], n))
                    : t[T] !== k && (e[T] = t[T]);
              }
              function _(e, t) {
                return null == t ? E(e) : E(e).filter(t);
              }
              function v(e, t, i, r) {
                return n(t) ? t.call(e, i, r) : t;
              }
              function y(e, t, n) {
                null == n ? e.removeAttribute(t) : e.setAttribute(t, n);
              }
              function b(e, t) {
                var n = e.className || "",
                  i = n && n.baseVal !== k;
                return t === k
                  ? i
                    ? n.baseVal
                    : n
                  : void (i ? (n.baseVal = t) : (e.className = t));
              }
              function w(e) {
                try {
                  return e
                    ? "true" == e ||
                        ("false" != e &&
                          ("null" == e
                            ? null
                            : +e + "" == e
                            ? +e
                            : /^[\[\{]/.test(e)
                            ? E.parseJSON(e)
                            : e))
                    : e;
                } catch (t) {
                  return e;
                }
              }
              function C(e, t) {
                t(e);
                for (var n = 0, i = e.childNodes.length; i > n; n++)
                  C(e.childNodes[n], t);
              }
              var k,
                T,
                E,
                S,
                x,
                P,
                O = [],
                A = O.concat,
                I = O.filter,
                D = O.slice,
                M = e.document,
                R = {},
                j = {},
                L = {
                  "column-count": 1,
                  columns: 1,
                  "font-weight": 1,
                  "line-height": 1,
                  opacity: 1,
                  "z-index": 1,
                  zoom: 1,
                },
                N = /^\s*<(\w+|!)[^>]*>/,
                U = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
                B = /^(?:body|html)$/i,
                $ = [
                  "val",
                  "css",
                  "html",
                  "text",
                  "data",
                  "width",
                  "height",
                  "offset",
                ],
                F = ["after", "prepend", "before", "append"],
                H = M.createElement("table"),
                W = M.createElement("tr"),
                q = {
                  tr: M.createElement("tbody"),
                  tbody: H,
                  thead: H,
                  tfoot: H,
                  td: W,
                  th: W,
                  "*": M.createElement("div"),
                },
                z = /complete|loaded|interactive/,
                V = /^[\w-]*$/,
                K = {},
                G = K.toString,
                Y = {},
                X = M.createElement("div"),
                Q = {
                  tabindex: "tabIndex",
                  readonly: "readOnly",
                  for: "htmlFor",
                  class: "className",
                  maxlength: "maxLength",
                  cellspacing: "cellSpacing",
                  cellpadding: "cellPadding",
                  rowspan: "rowSpan",
                  colspan: "colSpan",
                  usemap: "useMap",
                  frameborder: "frameBorder",
                  contenteditable: "contentEditable",
                },
                J =
                  Array.isArray ||
                  function (e) {
                    return e instanceof Array;
                  };
              return (
                (Y.matches = function (e, t) {
                  if (!t || !e || 1 !== e.nodeType) return !1;
                  var n =
                    e.matches ||
                    e.webkitMatchesSelector ||
                    e.mozMatchesSelector ||
                    e.oMatchesSelector ||
                    e.matchesSelector;
                  if (n) return n.call(e, t);
                  var i,
                    r = e.parentNode,
                    s = !r;
                  return (
                    s && (r = X).appendChild(e),
                    (i = ~Y.qsa(r, t).indexOf(e)),
                    s && X.removeChild(e),
                    i
                  );
                }),
                (x = function (e) {
                  return e.replace(/-+(.)?/g, function (e, t) {
                    return t ? t.toUpperCase() : "";
                  });
                }),
                (P = function (e) {
                  return I.call(e, function (t, n) {
                    return e.indexOf(t) == n;
                  });
                }),
                (Y.fragment = function (e, t, n) {
                  var i, r, s;
                  return (
                    U.test(e) && (i = E(M.createElement(RegExp.$1))),
                    i ||
                      (e.replace &&
                        (e = e.replace(
                          /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
                          "<$1></$2>"
                        )),
                      t === k && (t = N.test(e) && RegExp.$1),
                      t in q || (t = "*"),
                      (s = q[t]),
                      (s.innerHTML = "" + e),
                      (i = E.each(D.call(s.childNodes), function () {
                        s.removeChild(this);
                      }))),
                    o(n) &&
                      ((r = E(i)),
                      E.each(n, function (e, t) {
                        $.indexOf(e) > -1 ? r[e](t) : r.attr(e, t);
                      })),
                    i
                  );
                }),
                (Y.Z = function (e, t) {
                  return new m(e, t);
                }),
                (Y.isZ = function (e) {
                  return e instanceof Y.Z;
                }),
                (Y.init = function (e, t) {
                  var i;
                  if (!e) return Y.Z();
                  if ("string" == typeof e)
                    if (((e = e.trim()), "<" == e[0] && N.test(e)))
                      (i = Y.fragment(e, RegExp.$1, t)), (e = null);
                    else {
                      if (t !== k) return E(t).find(e);
                      i = Y.qsa(M, e);
                    }
                  else {
                    if (n(e)) return E(M).ready(e);
                    if (Y.isZ(e)) return e;
                    if (J(e)) i = l(e);
                    else if (s(e)) (i = [e]), (e = null);
                    else if (N.test(e))
                      (i = Y.fragment(e.trim(), RegExp.$1, t)), (e = null);
                    else {
                      if (t !== k) return E(t).find(e);
                      i = Y.qsa(M, e);
                    }
                  }
                  return Y.Z(i, e);
                }),
                (E = function (e, t) {
                  return Y.init(e, t);
                }),
                (E.extend = function (e) {
                  var t,
                    n = D.call(arguments, 1);
                  return (
                    "boolean" == typeof e && ((t = e), (e = n.shift())),
                    n.forEach(function (n) {
                      g(e, n, t);
                    }),
                    e
                  );
                }),
                (Y.qsa = function (e, t) {
                  var n,
                    i = "#" == t[0],
                    r = !i && "." == t[0],
                    s = i || r ? t.slice(1) : t,
                    o = V.test(s);
                  return e.getElementById && o && i
                    ? (n = e.getElementById(s))
                      ? [n]
                      : []
                    : 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType
                    ? []
                    : D.call(
                        o && !i && e.getElementsByClassName
                          ? r
                            ? e.getElementsByClassName(s)
                            : e.getElementsByTagName(t)
                          : e.querySelectorAll(t)
                      );
                }),
                (E.contains = M.documentElement.contains
                  ? function (e, t) {
                      return e !== t && e.contains(t);
                    }
                  : function (e, t) {
                      for (; t && (t = t.parentNode); ) if (t === e) return !0;
                      return !1;
                    }),
                (E.type = t),
                (E.isFunction = n),
                (E.isWindow = i),
                (E.isArray = J),
                (E.isPlainObject = o),
                (E.isEmptyObject = function (e) {
                  var t;
                  for (t in e) return !1;
                  return !0;
                }),
                (E.isNumeric = function (e) {
                  var t = Number(e),
                    n = typeof e;
                  return (
                    (null != e &&
                      "boolean" != n &&
                      ("string" != n || e.length) &&
                      !isNaN(t) &&
                      isFinite(t)) ||
                    !1
                  );
                }),
                (E.inArray = function (e, t, n) {
                  return O.indexOf.call(t, e, n);
                }),
                (E.camelCase = x),
                (E.trim = function (e) {
                  return null == e ? "" : String.prototype.trim.call(e);
                }),
                (E.uuid = 0),
                (E.support = {}),
                (E.expr = {}),
                (E.noop = function () {}),
                (E.map = function (e, t) {
                  var n,
                    i,
                    r,
                    s = [];
                  if (a(e))
                    for (i = 0; i < e.length; i++)
                      null != (n = t(e[i], i)) && s.push(n);
                  else for (r in e) null != (n = t(e[r], r)) && s.push(n);
                  return c(s);
                }),
                (E.each = function (e, t) {
                  var n, i;
                  if (a(e)) {
                    for (n = 0; n < e.length; n++)
                      if (t.call(e[n], n, e[n]) === !1) return e;
                  } else
                    for (i in e) if (t.call(e[i], i, e[i]) === !1) return e;
                  return e;
                }),
                (E.grep = function (e, t) {
                  return I.call(e, t);
                }),
                e.JSON && (E.parseJSON = JSON.parse),
                E.each(
                  "Boolean Number String Function Array Date RegExp Object Error".split(
                    " "
                  ),
                  function (e, t) {
                    K["[object " + t + "]"] = t.toLowerCase();
                  }
                ),
                (E.fn = {
                  constructor: Y.Z,
                  length: 0,
                  forEach: O.forEach,
                  reduce: O.reduce,
                  push: O.push,
                  sort: O.sort,
                  splice: O.splice,
                  indexOf: O.indexOf,
                  concat: function () {
                    var e,
                      t,
                      n = [];
                    for (e = 0; e < arguments.length; e++)
                      (t = arguments[e]), (n[e] = Y.isZ(t) ? t.toArray() : t);
                    return A.apply(Y.isZ(this) ? this.toArray() : this, n);
                  },
                  map: function (e) {
                    return E(
                      E.map(this, function (t, n) {
                        return e.call(t, n, t);
                      })
                    );
                  },
                  slice: function () {
                    return E(D.apply(this, arguments));
                  },
                  ready: function (e) {
                    return (
                      z.test(M.readyState) && M.body
                        ? e(E)
                        : M.addEventListener(
                            "DOMContentLoaded",
                            function () {
                              e(E);
                            },
                            !1
                          ),
                      this
                    );
                  },
                  get: function (e) {
                    return e === k
                      ? D.call(this)
                      : this[e >= 0 ? e : e + this.length];
                  },
                  toArray: function () {
                    return this.get();
                  },
                  size: function () {
                    return this.length;
                  },
                  remove: function () {
                    return this.each(function () {
                      null != this.parentNode &&
                        this.parentNode.removeChild(this);
                    });
                  },
                  each: function (e) {
                    return (
                      O.every.call(this, function (t, n) {
                        return e.call(t, n, t) !== !1;
                      }),
                      this
                    );
                  },
                  filter: function (e) {
                    return n(e)
                      ? this.not(this.not(e))
                      : E(
                          I.call(this, function (t) {
                            return Y.matches(t, e);
                          })
                        );
                  },
                  add: function (e, t) {
                    return E(P(this.concat(E(e, t))));
                  },
                  is: function (e) {
                    return this.length > 0 && Y.matches(this[0], e);
                  },
                  not: function (e) {
                    var t = [];
                    if (n(e) && e.call !== k)
                      this.each(function (n) {
                        e.call(this, n) || t.push(this);
                      });
                    else {
                      var i =
                        "string" == typeof e
                          ? this.filter(e)
                          : a(e) && n(e.item)
                          ? D.call(e)
                          : E(e);
                      this.forEach(function (e) {
                        i.indexOf(e) < 0 && t.push(e);
                      });
                    }
                    return E(t);
                  },
                  has: function (e) {
                    return this.filter(function () {
                      return s(e)
                        ? E.contains(this, e)
                        : E(this).find(e).size();
                    });
                  },
                  eq: function (e) {
                    return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
                  },
                  first: function () {
                    var e = this[0];
                    return e && !s(e) ? e : E(e);
                  },
                  last: function () {
                    var e = this[this.length - 1];
                    return e && !s(e) ? e : E(e);
                  },
                  find: function (e) {
                    var t = this;
                    return e
                      ? "object" == typeof e
                        ? E(e).filter(function () {
                            var e = this;
                            return O.some.call(t, function (t) {
                              return E.contains(t, e);
                            });
                          })
                        : 1 == this.length
                        ? E(Y.qsa(this[0], e))
                        : this.map(function () {
                            return Y.qsa(this, e);
                          })
                      : E();
                  },
                  closest: function (e, t) {
                    var n = [],
                      i = "object" == typeof e && E(e);
                    return (
                      this.each(function (s, o) {
                        for (
                          ;
                          o && !(i ? i.indexOf(o) >= 0 : Y.matches(o, e));

                        )
                          o = o !== t && !r(o) && o.parentNode;
                        o && n.indexOf(o) < 0 && n.push(o);
                      }),
                      E(n)
                    );
                  },
                  parents: function (e) {
                    for (var t = [], n = this; n.length > 0; )
                      n = E.map(n, function (e) {
                        return (e = e.parentNode) && !r(e) && t.indexOf(e) < 0
                          ? (t.push(e), e)
                          : void 0;
                      });
                    return _(t, e);
                  },
                  parent: function (e) {
                    return _(P(this.pluck("parentNode")), e);
                  },
                  children: function (e) {
                    return _(
                      this.map(function () {
                        return f(this);
                      }),
                      e
                    );
                  },
                  contents: function () {
                    return this.map(function () {
                      return this.contentDocument || D.call(this.childNodes);
                    });
                  },
                  siblings: function (e) {
                    return _(
                      this.map(function (e, t) {
                        return I.call(f(t.parentNode), function (e) {
                          return e !== t;
                        });
                      }),
                      e
                    );
                  },
                  empty: function () {
                    return this.each(function () {
                      this.innerHTML = "";
                    });
                  },
                  pluck: function (e) {
                    return E.map(this, function (t) {
                      return t[e];
                    });
                  },
                  show: function () {
                    return this.each(function () {
                      "none" == this.style.display && (this.style.display = ""),
                        "none" ==
                          getComputedStyle(this, "").getPropertyValue(
                            "display"
                          ) && (this.style.display = h(this.nodeName));
                    });
                  },
                  replaceWith: function (e) {
                    return this.before(e).remove();
                  },
                  wrap: function (e) {
                    var t = n(e);
                    if (this[0] && !t)
                      var i = E(e).get(0),
                        r = i.parentNode || this.length > 1;
                    return this.each(function (n) {
                      E(this).wrapAll(
                        t ? e.call(this, n) : r ? i.cloneNode(!0) : i
                      );
                    });
                  },
                  wrapAll: function (e) {
                    if (this[0]) {
                      E(this[0]).before((e = E(e)));
                      for (var t; (t = e.children()).length; ) e = t.first();
                      E(e).append(this);
                    }
                    return this;
                  },
                  wrapInner: function (e) {
                    var t = n(e);
                    return this.each(function (n) {
                      var i = E(this),
                        r = i.contents(),
                        s = t ? e.call(this, n) : e;
                      r.length ? r.wrapAll(s) : i.append(s);
                    });
                  },
                  unwrap: function () {
                    return (
                      this.parent().each(function () {
                        E(this).replaceWith(E(this).children());
                      }),
                      this
                    );
                  },
                  clone: function () {
                    return this.map(function () {
                      return this.cloneNode(!0);
                    });
                  },
                  hide: function () {
                    return this.css("display", "none");
                  },
                  toggle: function (e) {
                    return this.each(function () {
                      var t = E(this);
                      (e === k ? "none" == t.css("display") : e)
                        ? t.show()
                        : t.hide();
                    });
                  },
                  prev: function (e) {
                    return E(this.pluck("previousElementSibling")).filter(
                      e || "*"
                    );
                  },
                  next: function (e) {
                    return E(this.pluck("nextElementSibling")).filter(e || "*");
                  },
                  html: function (e) {
                    return 0 in arguments
                      ? this.each(function (t) {
                          var n = this.innerHTML;
                          E(this).empty().append(v(this, e, t, n));
                        })
                      : 0 in this
                      ? this[0].innerHTML
                      : null;
                  },
                  text: function (e) {
                    return 0 in arguments
                      ? this.each(function (t) {
                          var n = v(this, e, t, this.textContent);
                          this.textContent = null == n ? "" : "" + n;
                        })
                      : 0 in this
                      ? this.pluck("textContent").join("")
                      : null;
                  },
                  attr: function (e, t) {
                    var n;
                    return "string" != typeof e || 1 in arguments
                      ? this.each(function (n) {
                          if (1 === this.nodeType)
                            if (s(e)) for (T in e) y(this, T, e[T]);
                            else
                              y(this, e, v(this, t, n, this.getAttribute(e)));
                        })
                      : 0 in this &&
                        1 == this[0].nodeType &&
                        null != (n = this[0].getAttribute(e))
                      ? n
                      : k;
                  },
                  removeAttr: function (e) {
                    return this.each(function () {
                      1 === this.nodeType &&
                        e.split(" ").forEach(function (e) {
                          y(this, e);
                        }, this);
                    });
                  },
                  prop: function (e, t) {
                    return (
                      (e = Q[e] || e),
                      1 in arguments
                        ? this.each(function (n) {
                            this[e] = v(this, t, n, this[e]);
                          })
                        : this[0] && this[0][e]
                    );
                  },
                  removeProp: function (e) {
                    return (
                      (e = Q[e] || e),
                      this.each(function () {
                        delete this[e];
                      })
                    );
                  },
                  data: function (e, t) {
                    var n =
                        "data-" + e.replace(/([A-Z])/g, "-$1").toLowerCase(),
                      i = 1 in arguments ? this.attr(n, t) : this.attr(n);
                    return null !== i ? w(i) : k;
                  },
                  val: function (e) {
                    return 0 in arguments
                      ? (null == e && (e = ""),
                        this.each(function (t) {
                          this.value = v(this, e, t, this.value);
                        }))
                      : this[0] &&
                          (this[0].multiple
                            ? E(this[0])
                                .find("option")
                                .filter(function () {
                                  return this.selected;
                                })
                                .pluck("value")
                            : this[0].value);
                  },
                  offset: function (t) {
                    if (t)
                      return this.each(function (e) {
                        var n = E(this),
                          i = v(this, t, e, n.offset()),
                          r = n.offsetParent().offset(),
                          s = {
                            top: i.top - r.top,
                            left: i.left - r.left,
                          };
                        "static" == n.css("position") &&
                          (s.position = "relative"),
                          n.css(s);
                      });
                    if (!this.length) return null;
                    if (
                      M.documentElement !== this[0] &&
                      !E.contains(M.documentElement, this[0])
                    )
                      return {
                        top: 0,
                        left: 0,
                      };
                    var n = this[0].getBoundingClientRect();
                    return {
                      left: n.left + e.pageXOffset,
                      top: n.top + e.pageYOffset,
                      width: Math.round(n.width),
                      height: Math.round(n.height),
                    };
                  },
                  css: function (e, n) {
                    if (arguments.length < 2) {
                      var i = this[0];
                      if ("string" == typeof e) {
                        if (!i) return;
                        return (
                          i.style[x(e)] ||
                          getComputedStyle(i, "").getPropertyValue(e)
                        );
                      }
                      if (J(e)) {
                        if (!i) return;
                        var r = {},
                          s = getComputedStyle(i, "");
                        return (
                          E.each(e, function (e, t) {
                            r[t] = i.style[x(t)] || s.getPropertyValue(t);
                          }),
                          r
                        );
                      }
                    }
                    var o = "";
                    if ("string" == t(e))
                      n || 0 === n
                        ? (o = u(e) + ":" + p(e, n))
                        : this.each(function () {
                            this.style.removeProperty(u(e));
                          });
                    else
                      for (T in e)
                        e[T] || 0 === e[T]
                          ? (o += u(T) + ":" + p(T, e[T]) + ";")
                          : this.each(function () {
                              this.style.removeProperty(u(T));
                            });
                    return this.each(function () {
                      this.style.cssText += ";" + o;
                    });
                  },
                  index: function (e) {
                    return e
                      ? this.indexOf(E(e)[0])
                      : this.parent().children().indexOf(this[0]);
                  },
                  hasClass: function (e) {
                    return (
                      !!e &&
                      O.some.call(
                        this,
                        function (e) {
                          return this.test(b(e));
                        },
                        d(e)
                      )
                    );
                  },
                  addClass: function (e) {
                    return e
                      ? this.each(function (t) {
                          if ("className" in this) {
                            S = [];
                            var n = b(this);
                            v(this, e, t, n)
                              .split(/\s+/g)
                              .forEach(function (e) {
                                E(this).hasClass(e) || S.push(e);
                              }, this),
                              S.length &&
                                b(this, n + (n ? " " : "") + S.join(" "));
                          }
                        })
                      : this;
                  },
                  removeClass: function (e) {
                    return this.each(function (t) {
                      if ("className" in this) {
                        if (e === k) return b(this, "");
                        (S = b(this)),
                          v(this, e, t, S)
                            .split(/\s+/g)
                            .forEach(function (e) {
                              S = S.replace(d(e), " ");
                            }),
                          b(this, S.trim());
                      }
                    });
                  },
                  toggleClass: function (e, t) {
                    return e
                      ? this.each(function (n) {
                          var i = E(this);
                          v(this, e, n, b(this))
                            .split(/\s+/g)
                            .forEach(function (e) {
                              (t === k ? !i.hasClass(e) : t)
                                ? i.addClass(e)
                                : i.removeClass(e);
                            });
                        })
                      : this;
                  },
                  scrollTop: function (e) {
                    if (this.length) {
                      var t = "scrollTop" in this[0];
                      return e === k
                        ? t
                          ? this[0].scrollTop
                          : this[0].pageYOffset
                        : this.each(
                            t
                              ? function () {
                                  this.scrollTop = e;
                                }
                              : function () {
                                  this.scrollTo(this.scrollX, e);
                                }
                          );
                    }
                  },
                  scrollLeft: function (e) {
                    if (this.length) {
                      var t = "scrollLeft" in this[0];
                      return e === k
                        ? t
                          ? this[0].scrollLeft
                          : this[0].pageXOffset
                        : this.each(
                            t
                              ? function () {
                                  this.scrollLeft = e;
                                }
                              : function () {
                                  this.scrollTo(e, this.scrollY);
                                }
                          );
                    }
                  },
                  position: function () {
                    if (this.length) {
                      var e = this[0],
                        t = this.offsetParent(),
                        n = this.offset(),
                        i = B.test(t[0].nodeName)
                          ? {
                              top: 0,
                              left: 0,
                            }
                          : t.offset();
                      return (
                        (n.top -= parseFloat(E(e).css("margin-top")) || 0),
                        (n.left -= parseFloat(E(e).css("margin-left")) || 0),
                        (i.top +=
                          parseFloat(E(t[0]).css("border-top-width")) || 0),
                        (i.left +=
                          parseFloat(E(t[0]).css("border-left-width")) || 0),
                        {
                          top: n.top - i.top,
                          left: n.left - i.left,
                        }
                      );
                    }
                  },
                  offsetParent: function () {
                    return this.map(function () {
                      for (
                        var e = this.offsetParent || M.body;
                        e &&
                        !B.test(e.nodeName) &&
                        "static" == E(e).css("position");

                      )
                        e = e.offsetParent;
                      return e;
                    });
                  },
                }),
                (E.fn.detach = E.fn.remove),
                ["width", "height"].forEach(function (e) {
                  var t = e.replace(/./, function (e) {
                    return e[0].toUpperCase();
                  });
                  E.fn[e] = function (n) {
                    var s,
                      o = this[0];
                    return n === k
                      ? i(o)
                        ? o["inner" + t]
                        : r(o)
                        ? o.documentElement["scroll" + t]
                        : (s = this.offset()) && s[e]
                      : this.each(function (t) {
                          (o = E(this)), o.css(e, v(this, n, t, o[e]()));
                        });
                  };
                }),
                F.forEach(function (n, i) {
                  var r = i % 2;
                  (E.fn[n] = function () {
                    var n,
                      s,
                      o = E.map(arguments, function (e) {
                        var i = [];
                        return (
                          (n = t(e)),
                          "array" == n
                            ? (e.forEach(function (e) {
                                return e.nodeType !== k
                                  ? i.push(e)
                                  : E.zepto.isZ(e)
                                  ? (i = i.concat(e.get()))
                                  : void (i = i.concat(Y.fragment(e)));
                              }),
                              i)
                            : "object" == n || null == e
                            ? e
                            : Y.fragment(e)
                        );
                      }),
                      a = this.length > 1;
                    return o.length < 1
                      ? this
                      : this.each(function (t, n) {
                          (s = r ? n : n.parentNode),
                            (n =
                              0 == i
                                ? n.nextSibling
                                : 1 == i
                                ? n.firstChild
                                : 2 == i
                                ? n
                                : null);
                          var l = E.contains(M.documentElement, s);
                          o.forEach(function (t) {
                            if (a) t = t.cloneNode(!0);
                            else if (!s) return E(t).remove();
                            s.insertBefore(t, n),
                              l &&
                                C(t, function (t) {
                                  if (
                                    !(
                                      null == t.nodeName ||
                                      "SCRIPT" !== t.nodeName.toUpperCase() ||
                                      (t.type &&
                                        "text/javascript" !== t.type) ||
                                      t.src
                                    )
                                  ) {
                                    var n = t.ownerDocument
                                      ? t.ownerDocument.defaultView
                                      : e;
                                    n.eval.call(n, t.innerHTML);
                                  }
                                });
                          });
                        });
                  }),
                    (E.fn[r ? n + "To" : "insert" + (i ? "Before" : "After")] =
                      function (e) {
                        return E(e)[n](this), this;
                      });
                }),
                (Y.Z.prototype = m.prototype = E.fn),
                (Y.uniq = P),
                (Y.deserializeValue = w),
                (E.zepto = Y),
                E
              );
            })();
            return (
              (function (t) {
                function n(e) {
                  return e._zid || (e._zid = h++);
                }
                function i(e, t, i, o) {
                  if (((t = r(t)), t.ns)) var a = s(t.ns);
                  return (_[n(e)] || []).filter(function (e) {
                    return !(
                      !e ||
                      (t.e && e.e != t.e) ||
                      (t.ns && !a.test(e.ns)) ||
                      (i && n(e.fn) !== n(i)) ||
                      (o && e.sel != o)
                    );
                  });
                }
                function r(e) {
                  var t = ("" + e).split(".");
                  return {
                    e: t[0],
                    ns: t.slice(1).sort().join(" "),
                  };
                }
                function s(e) {
                  return new RegExp(
                    "(?:^| )" + e.replace(" ", " .* ?") + "(?: |$)"
                  );
                }
                function o(e, t) {
                  return (e.del && !y && e.e in b) || !!t;
                }
                function a(e) {
                  return w[e] || (y && b[e]) || e;
                }
                function l(e, i, s, l, c, d, h) {
                  var f = n(e),
                    m = _[f] || (_[f] = []);
                  i.split(/\s/).forEach(function (n) {
                    if ("ready" == n) return t(document).ready(s);
                    var i = r(n);
                    (i.fn = s),
                      (i.sel = c),
                      i.e in w &&
                        (s = function (e) {
                          var n = e.relatedTarget;
                          return !n || (n !== this && !t.contains(this, n))
                            ? i.fn.apply(this, arguments)
                            : void 0;
                        }),
                      (i.del = d);
                    var f = d || s;
                    (i.proxy = function (t) {
                      if (((t = u(t)), !t.isImmediatePropagationStopped())) {
                        t.data = l;
                        var n = f.apply(
                          e,
                          t._args == p ? [t] : [t].concat(t._args)
                        );
                        return (
                          n === !1 && (t.preventDefault(), t.stopPropagation()),
                          n
                        );
                      }
                    }),
                      (i.i = m.length),
                      m.push(i),
                      "addEventListener" in e &&
                        e.addEventListener(a(i.e), i.proxy, o(i, h));
                  });
                }
                function c(e, t, r, s, l) {
                  var c = n(e);
                  (t || "").split(/\s/).forEach(function (t) {
                    i(e, t, r, s).forEach(function (t) {
                      delete _[c][t.i],
                        "removeEventListener" in e &&
                          e.removeEventListener(a(t.e), t.proxy, o(t, l));
                    });
                  });
                }
                function u(e, n) {
                  return (
                    (!n && e.isDefaultPrevented) ||
                      (n || (n = e),
                      t.each(E, function (t, i) {
                        var r = n[t];
                        (e[t] = function () {
                          return (this[i] = C), r && r.apply(n, arguments);
                        }),
                          (e[i] = k);
                      }),
                      e.timeStamp || (e.timeStamp = Date.now()),
                      (n.defaultPrevented !== p
                        ? n.defaultPrevented
                        : "returnValue" in n
                        ? n.returnValue === !1
                        : n.getPreventDefault && n.getPreventDefault()) &&
                        (e.isDefaultPrevented = C)),
                    e
                  );
                }
                function d(e) {
                  var t,
                    n = {
                      originalEvent: e,
                    };
                  for (t in e) T.test(t) || e[t] === p || (n[t] = e[t]);
                  return u(n, e);
                }
                var p,
                  h = 1,
                  f = Array.prototype.slice,
                  m = t.isFunction,
                  g = function (e) {
                    return "string" == typeof e;
                  },
                  _ = {},
                  v = {},
                  y = "onfocusin" in e,
                  b = {
                    focus: "focusin",
                    blur: "focusout",
                  },
                  w = {
                    mouseenter: "mouseover",
                    mouseleave: "mouseout",
                  };
                (v.click =
                  v.mousedown =
                  v.mouseup =
                  v.mousemove =
                    "MouseEvents"),
                  (t.event = {
                    add: l,
                    remove: c,
                  }),
                  (t.proxy = function (e, i) {
                    var r = 2 in arguments && f.call(arguments, 2);
                    if (m(e)) {
                      var s = function () {
                        return e.apply(
                          i,
                          r ? r.concat(f.call(arguments)) : arguments
                        );
                      };
                      return (s._zid = n(e)), s;
                    }
                    if (g(i))
                      return r
                        ? (r.unshift(e[i], e), t.proxy.apply(null, r))
                        : t.proxy(e[i], e);
                    throw new TypeError("expected function");
                  }),
                  (t.fn.bind = function (e, t, n) {
                    return this.on(e, t, n);
                  }),
                  (t.fn.unbind = function (e, t) {
                    return this.off(e, t);
                  }),
                  (t.fn.one = function (e, t, n, i) {
                    return this.on(e, t, n, i, 1);
                  });
                var C = function () {
                    return !0;
                  },
                  k = function () {
                    return !1;
                  },
                  T = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,
                  E = {
                    preventDefault: "isDefaultPrevented",
                    stopImmediatePropagation: "isImmediatePropagationStopped",
                    stopPropagation: "isPropagationStopped",
                  };
                (t.fn.delegate = function (e, t, n) {
                  return this.on(t, e, n);
                }),
                  (t.fn.undelegate = function (e, t, n) {
                    return this.off(t, e, n);
                  }),
                  (t.fn.live = function (e, n) {
                    return t(document.body).delegate(this.selector, e, n), this;
                  }),
                  (t.fn.die = function (e, n) {
                    return (
                      t(document.body).undelegate(this.selector, e, n), this
                    );
                  }),
                  (t.fn.on = function (e, n, i, r, s) {
                    var o,
                      a,
                      u = this;
                    return e && !g(e)
                      ? (t.each(e, function (e, t) {
                          u.on(e, n, i, t, s);
                        }),
                        u)
                      : (g(n) ||
                          m(r) ||
                          r === !1 ||
                          ((r = i), (i = n), (n = p)),
                        (r !== p && i !== !1) || ((r = i), (i = p)),
                        r === !1 && (r = k),
                        u.each(function (u, p) {
                          s &&
                            (o = function (e) {
                              return c(p, e.type, r), r.apply(this, arguments);
                            }),
                            n &&
                              (a = function (e) {
                                var i,
                                  s = t(e.target).closest(n, p).get(0);
                                return s && s !== p
                                  ? ((i = t.extend(d(e), {
                                      currentTarget: s,
                                      liveFired: p,
                                    })),
                                    (o || r).apply(
                                      s,
                                      [i].concat(f.call(arguments, 1))
                                    ))
                                  : void 0;
                              }),
                            l(p, e, r, i, n, a || o);
                        }));
                  }),
                  (t.fn.off = function (e, n, i) {
                    var r = this;
                    return e && !g(e)
                      ? (t.each(e, function (e, t) {
                          r.off(e, n, t);
                        }),
                        r)
                      : (g(n) || m(i) || i === !1 || ((i = n), (n = p)),
                        i === !1 && (i = k),
                        r.each(function () {
                          c(this, e, i, n);
                        }));
                  }),
                  (t.fn.trigger = function (e, n) {
                    return (
                      (e = g(e) || t.isPlainObject(e) ? t.Event(e) : u(e)),
                      (e._args = n),
                      this.each(function () {
                        e.type in b && "function" == typeof this[e.type]
                          ? this[e.type]()
                          : "dispatchEvent" in this
                          ? this.dispatchEvent(e)
                          : t(this).triggerHandler(e, n);
                      })
                    );
                  }),
                  (t.fn.triggerHandler = function (e, n) {
                    var r, s;
                    return (
                      this.each(function (o, a) {
                        (r = d(g(e) ? t.Event(e) : e)),
                          (r._args = n),
                          (r.target = a),
                          t.each(i(a, e.type || e), function (e, t) {
                            return (
                              (s = t.proxy(r)),
                              r.isImmediatePropagationStopped() ? !1 : void 0
                            );
                          });
                      }),
                      s
                    );
                  }),
                  "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error"
                    .split(" ")
                    .forEach(function (e) {
                      t.fn[e] = function (t) {
                        return 0 in arguments
                          ? this.bind(e, t)
                          : this.trigger(e);
                      };
                    }),
                  (t.Event = function (e, t) {
                    g(e) || ((t = e), (e = t.type));
                    var n = document.createEvent(v[e] || "Events"),
                      i = !0;
                    if (t)
                      for (var r in t)
                        "bubbles" == r ? (i = !!t[r]) : (n[r] = t[r]);
                    return n.initEvent(e, i, !0), u(n);
                  });
              })(t),
              (function (e) {
                var t,
                  n = [];
                e.fn.remove = function () {
                  return this.each(function () {
                    this.parentNode &&
                      ("IMG" === this.tagName &&
                        (n.push(this),
                        (this.src =
                          "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),
                        t && clearTimeout(t),
                        (t = setTimeout(function () {
                          n = [];
                        }, 6e4))),
                      this.parentNode.removeChild(this));
                  });
                };
              })(t),
              (function (e) {
                function t(t, i) {
                  var l = t[a],
                    c = l && r[l];
                  if (void 0 === i) return c || n(t);
                  if (c) {
                    if (i in c) return c[i];
                    var u = o(i);
                    if (u in c) return c[u];
                  }
                  return s.call(e(t), i);
                }
                function n(t, n, s) {
                  var l = t[a] || (t[a] = ++e.uuid),
                    c = r[l] || (r[l] = i(t));
                  return void 0 !== n && (c[o(n)] = s), c;
                }
                function i(t) {
                  var n = {};
                  return (
                    e.each(t.attributes || l, function (t, i) {
                      0 == i.name.indexOf("data-") &&
                        (n[o(i.name.replace("data-", ""))] =
                          e.zepto.deserializeValue(i.value));
                    }),
                    n
                  );
                }
                var r = {},
                  s = e.fn.data,
                  o = e.camelCase,
                  a = (e.expando = "Zepto" + +new Date()),
                  l = [];
                (e.fn.data = function (i, r) {
                  return void 0 === r
                    ? e.isPlainObject(i)
                      ? this.each(function (t, r) {
                          e.each(i, function (e, t) {
                            n(r, e, t);
                          });
                        })
                      : 0 in this
                      ? t(this[0], i)
                      : void 0
                    : this.each(function () {
                        n(this, i, r);
                      });
                }),
                  (e.data = function (t, n, i) {
                    return e(t).data(n, i);
                  }),
                  (e.hasData = function (t) {
                    var n = t[a],
                      i = n && r[n];
                    return !!i && !e.isEmptyObject(i);
                  }),
                  (e.fn.removeData = function (t) {
                    return (
                      "string" == typeof t && (t = t.split(/\s+/)),
                      this.each(function () {
                        var n = this[a],
                          i = n && r[n];
                        i &&
                          e.each(t || i, function (e) {
                            delete i[t ? o(this) : e];
                          });
                      })
                    );
                  }),
                  ["remove", "empty"].forEach(function (t) {
                    var n = e.fn[t];
                    e.fn[t] = function () {
                      var e = this.find("*");
                      return (
                        "remove" === t && (e = e.add(this)),
                        e.removeData(),
                        n.call(this)
                      );
                    };
                  });
              })(t),
              t
            );
          })(t);
        })(window);
      },
      function (e) {
        "use strict";
        e.exports = {
          element: null,
        };
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        }
        var r = n(3);
        e.exports = {
          isArray: null,
          isFunction: null,
          isObject: null,
          bind: null,
          each: null,
          map: null,
          mixin: null,
          isMsie: function (e) {
            if (
              (void 0 === e && (e = navigator.userAgent),
              /(msie|trident)/i.test(e))
            ) {
              var t = e.match(/(msie |rv:)(\d+(.\d+)?)/i);
              if (t) return t[2];
            }
            return !1;
          },
          escapeRegExChars: function (e) {
            return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
          },
          isNumber: function (e) {
            return "number" == typeof e;
          },
          toStr: function (e) {
            return void 0 === e || null === e ? "" : e + "";
          },
          cloneDeep: function (e) {
            var t = this.mixin({}, e),
              n = this;
            return (
              this.each(t, function (e, i) {
                e &&
                  (n.isArray(e)
                    ? (t[i] = [].concat(e))
                    : n.isObject(e) && (t[i] = n.cloneDeep(e)));
              }),
              t
            );
          },
          error: function (e) {
            throw new Error(e);
          },
          every: function (e, t) {
            var n = !0;
            return e
              ? (this.each(e, function (i, r) {
                  return (n = t.call(null, i, r, e)) ? void 0 : !1;
                }),
                !!n)
              : n;
          },
          any: function (e, t) {
            var n = !1;
            return e
              ? (this.each(e, function (i, r) {
                  return t.call(null, i, r, e) ? ((n = !0), !1) : void 0;
                }),
                n)
              : n;
          },
          getUniqueId: (function () {
            var e = 0;
            return function () {
              return e++;
            };
          })(),
          templatify: function (e) {
            if (this.isFunction(e)) return e;
            var t = r.element(e);
            return "SCRIPT" === t.prop("tagName")
              ? function () {
                  return t.text();
                }
              : function () {
                  return String(e);
                };
          },
          defer: function (e) {
            setTimeout(e, 0);
          },
          noop: function () {},
          formatPrefix: function (e, t) {
            return t ? "" : e + "-";
          },
          className: function (e, t, n) {
            return (n ? "" : ".") + e + t;
          },
          escapeHighlightedString: function (e, t, n) {
            t = t || "<em>";
            var r = document.createElement("div");
            r.appendChild(document.createTextNode(t)), (n = n || "</em>");
            var s = document.createElement("div");
            s.appendChild(document.createTextNode(n));
            var o = document.createElement("div");
            return (
              o.appendChild(document.createTextNode(e)),
              o.innerHTML
                .replace(RegExp(i(r.innerHTML), "g"), t)
                .replace(RegExp(i(s.innerHTML), "g"), n)
            );
          },
        };
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          var t, n;
          if (
            ((e = e || {}),
            e.input || l.error("missing input"),
            (this.isActivated = !1),
            (this.debug = !!e.debug),
            (this.autoselect = !!e.autoselect),
            (this.autoselectOnBlur = !!e.autoselectOnBlur),
            (this.openOnFocus = !!e.openOnFocus),
            (this.minLength = l.isNumber(e.minLength) ? e.minLength : 1),
            (this.autoWidth = void 0 === e.autoWidth || !!e.autoWidth),
            (this.clearOnSelected = !!e.clearOnSelected),
            (e.hint = !!e.hint),
            e.hint && e.appendTo)
          )
            throw new Error(
              "[autocomplete.js] hint and appendTo options can't be used at the same time"
            );
          (this.css = e.css = l.mixin({}, f, e.appendTo ? f.appendTo : {})),
            (this.cssClasses = e.cssClasses =
              l.mixin({}, f.defaultClasses, e.cssClasses || {})),
            (this.cssClasses.prefix = e.cssClasses.formattedPrefix =
              l.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix)),
            (this.listboxId = e.listboxId =
              [this.cssClasses.root, "listbox", l.getUniqueId()].join("-"));
          var s = r(e);
          this.$node = s.wrapper;
          var o = (this.$input = s.input);
          (t = s.menu),
            (n = s.hint),
            e.dropdownMenuContainer &&
              c
                .element(e.dropdownMenuContainer)
                .css("position", "relative")
                .append(t.css("top", "0")),
            o.on("blur.aa", function (e) {
              var n = document.activeElement;
              l.isMsie() &&
                (t[0] === n || t[0].contains(n)) &&
                (e.preventDefault(),
                e.stopImmediatePropagation(),
                l.defer(function () {
                  o.focus();
                }));
            }),
            t.on("mousedown.aa", function (e) {
              e.preventDefault();
            }),
            (this.eventBus =
              e.eventBus ||
              new u({
                el: o,
              })),
            (this.dropdown = new i.Dropdown({
              appendTo: e.appendTo,
              wrapper: this.$node,
              menu: t,
              datasets: e.datasets,
              templates: e.templates,
              cssClasses: e.cssClasses,
              minLength: this.minLength,
            })
              .onSync("suggestionClicked", this._onSuggestionClicked, this)
              .onSync("cursorMoved", this._onCursorMoved, this)
              .onSync("cursorRemoved", this._onCursorRemoved, this)
              .onSync("opened", this._onOpened, this)
              .onSync("closed", this._onClosed, this)
              .onSync("shown", this._onShown, this)
              .onSync("empty", this._onEmpty, this)
              .onSync("redrawn", this._onRedrawn, this)
              .onAsync("datasetRendered", this._onDatasetRendered, this)),
            (this.input = new i.Input({
              input: o,
              hint: n,
            })
              .onSync("focused", this._onFocused, this)
              .onSync("blurred", this._onBlurred, this)
              .onSync("enterKeyed", this._onEnterKeyed, this)
              .onSync("tabKeyed", this._onTabKeyed, this)
              .onSync("escKeyed", this._onEscKeyed, this)
              .onSync("upKeyed", this._onUpKeyed, this)
              .onSync("downKeyed", this._onDownKeyed, this)
              .onSync("leftKeyed", this._onLeftKeyed, this)
              .onSync("rightKeyed", this._onRightKeyed, this)
              .onSync("queryChanged", this._onQueryChanged, this)
              .onSync("whitespaceChanged", this._onWhitespaceChanged, this)),
            this._bindKeyboardShortcuts(e),
            this._setLanguageDirection();
        }
        function r(e) {
          var t, n, i, r;
          (t = c.element(e.input)),
            (n = c
              .element(h.wrapper.replace("%ROOT%", e.cssClasses.root))
              .css(e.css.wrapper)),
            e.appendTo ||
              "block" !== t.css("display") ||
              "table" !== t.parent().css("display") ||
              n.css("display", "table-cell");
          var o = h.dropdown
            .replace("%PREFIX%", e.cssClasses.prefix)
            .replace("%DROPDOWN_MENU%", e.cssClasses.dropdownMenu);
          (i = c.element(o).css(e.css.dropdown).attr({
            role: "listbox",
            id: e.listboxId,
          })),
            e.templates &&
              e.templates.dropdownMenu &&
              i.html(l.templatify(e.templates.dropdownMenu)()),
            (r = t.clone().css(e.css.hint).css(s(t))),
            r
              .val("")
              .addClass(l.className(e.cssClasses.prefix, e.cssClasses.hint, !0))
              .removeAttr("id name placeholder required")
              .prop("readonly", !0)
              .attr({
                "aria-hidden": "true",
                autocomplete: "off",
                spellcheck: "false",
                tabindex: -1,
              }),
            r.removeData && r.removeData(),
            t.data(a, {
              "aria-autocomplete": t.attr("aria-autocomplete"),
              "aria-expanded": t.attr("aria-expanded"),
              "aria-owns": t.attr("aria-owns"),
              autocomplete: t.attr("autocomplete"),
              dir: t.attr("dir"),
              role: t.attr("role"),
              spellcheck: t.attr("spellcheck"),
              style: t.attr("style"),
              type: t.attr("type"),
            }),
            t
              .addClass(
                l.className(e.cssClasses.prefix, e.cssClasses.input, !0)
              )
              .attr({
                autocomplete: "off",
                spellcheck: !1,
                role: "combobox",
                "aria-autocomplete":
                  e.datasets && e.datasets[0] && e.datasets[0].displayKey
                    ? "both"
                    : "list",
                "aria-expanded": "false",
                "aria-label": e.ariaLabel,
                "aria-owns": e.listboxId,
              })
              .css(e.hint ? e.css.input : e.css.inputWithNoHint);
          try {
            t.attr("dir") || t.attr("dir", "auto");
          } catch (e) {}
          return (
            (n = e.appendTo
              ? n.appendTo(c.element(e.appendTo).eq(0)).eq(0)
              : t.wrap(n).parent()),
            n.prepend(e.hint ? r : null).append(i),
            {
              wrapper: n,
              input: t,
              hint: r,
              menu: i,
            }
          );
        }
        function s(e) {
          return {
            backgroundAttachment: e.css("background-attachment"),
            backgroundClip: e.css("background-clip"),
            backgroundColor: e.css("background-color"),
            backgroundImage: e.css("background-image"),
            backgroundOrigin: e.css("background-origin"),
            backgroundPosition: e.css("background-position"),
            backgroundRepeat: e.css("background-repeat"),
            backgroundSize: e.css("background-size"),
          };
        }
        function o(e, t) {
          var n = e.find(l.className(t.prefix, t.input));
          l.each(n.data(a), function (e, t) {
            void 0 === e ? n.removeAttr(t) : n.attr(t, e);
          }),
            n
              .detach()
              .removeClass(l.className(t.prefix, t.input, !0))
              .insertAfter(e),
            n.removeData && n.removeData(a),
            e.remove();
        }
        var a = "aaAttrs",
          l = n(4),
          c = n(3),
          u = n(6),
          d = n(7),
          p = n(16),
          h = n(18),
          f = n(19);
        l.mixin(i.prototype, {
          _bindKeyboardShortcuts: function (e) {
            if (e.keyboardShortcuts) {
              var t = this.$input,
                n = [];
              l.each(e.keyboardShortcuts, function (e) {
                "string" == typeof e && (e = e.toUpperCase().charCodeAt(0)),
                  n.push(e);
              }),
                c.element(document).keydown(function (e) {
                  var i = e.target || e.srcElement,
                    r = i.tagName;
                  if (
                    !i.isContentEditable &&
                    "INPUT" !== r &&
                    "SELECT" !== r &&
                    "TEXTAREA" !== r
                  ) {
                    var s = e.which || e.keyCode;
                    -1 !== n.indexOf(s) &&
                      (t.focus(), e.stopPropagation(), e.preventDefault());
                  }
                });
            }
          },
          _onSuggestionClicked: function (e, t) {
            var n;
            (n = this.dropdown.getDatumForSuggestion(t)) && this._select(n);
          },
          _onCursorMoved: function (e, t) {
            var n = this.dropdown.getDatumForCursor(),
              i = this.dropdown.getCurrentCursor().attr("id");
            this.input.setActiveDescendant(i),
              n &&
                (t && this.input.setInputValue(n.value, !0),
                this.eventBus.trigger("cursorchanged", n.raw, n.datasetName));
          },
          _onCursorRemoved: function () {
            this.input.resetInputValue(),
              this._updateHint(),
              this.eventBus.trigger("cursorremoved");
          },
          _onDatasetRendered: function () {
            this._updateHint(), this.eventBus.trigger("updated");
          },
          _onOpened: function () {
            this._updateHint(),
              this.input.expand(),
              this.eventBus.trigger("opened");
          },
          _onEmpty: function () {
            this.eventBus.trigger("empty");
          },
          _onRedrawn: function () {
            this.$node.css("top", "0px"), this.$node.css("left", "0px");
            var e = this.$input[0].getBoundingClientRect();
            this.autoWidth && this.$node.css("width", e.width + "px");
            var t = this.$node[0].getBoundingClientRect(),
              n = e.bottom - t.top;
            this.$node.css("top", n + "px");
            var i = e.left - t.left;
            this.$node.css("left", i + "px"), this.eventBus.trigger("redrawn");
          },
          _onShown: function () {
            this.eventBus.trigger("shown"),
              this.autoselect && this.dropdown.cursorTopSuggestion();
          },
          _onClosed: function () {
            this.input.clearHint(),
              this.input.removeActiveDescendant(),
              this.input.collapse(),
              this.eventBus.trigger("closed");
          },
          _onFocused: function () {
            if (((this.isActivated = !0), this.openOnFocus)) {
              var e = this.input.getQuery();
              e.length >= this.minLength
                ? this.dropdown.update(e)
                : this.dropdown.empty(),
                this.dropdown.open();
            }
          },
          _onBlurred: function () {
            var e, t;
            (e = this.dropdown.getDatumForCursor()),
              (t = this.dropdown.getDatumForTopSuggestion()),
              this.debug ||
                (this.autoselectOnBlur && e
                  ? this._select(e)
                  : this.autoselectOnBlur && t
                  ? this._select(t)
                  : ((this.isActivated = !1),
                    this.dropdown.empty(),
                    this.dropdown.close()));
          },
          _onEnterKeyed: function (e, t) {
            var n, i;
            (n = this.dropdown.getDatumForCursor()),
              (i = this.dropdown.getDatumForTopSuggestion()),
              n
                ? (this._select(n), t.preventDefault())
                : this.autoselect && i && (this._select(i), t.preventDefault());
          },
          _onTabKeyed: function (e, t) {
            var n;
            (n = this.dropdown.getDatumForCursor())
              ? (this._select(n), t.preventDefault())
              : this._autocomplete(!0);
          },
          _onEscKeyed: function () {
            this.dropdown.close(), this.input.resetInputValue();
          },
          _onUpKeyed: function () {
            var e = this.input.getQuery();
            this.dropdown.isEmpty && e.length >= this.minLength
              ? this.dropdown.update(e)
              : this.dropdown.moveCursorUp(),
              this.dropdown.open();
          },
          _onDownKeyed: function () {
            var e = this.input.getQuery();
            this.dropdown.isEmpty && e.length >= this.minLength
              ? this.dropdown.update(e)
              : this.dropdown.moveCursorDown(),
              this.dropdown.open();
          },
          _onLeftKeyed: function () {
            "rtl" === this.dir && this._autocomplete();
          },
          _onRightKeyed: function () {
            "ltr" === this.dir && this._autocomplete();
          },
          _onQueryChanged: function (e, t) {
            this.input.clearHintIfInvalid(),
              t.length >= this.minLength
                ? this.dropdown.update(t)
                : this.dropdown.empty(),
              this.dropdown.open(),
              this._setLanguageDirection();
          },
          _onWhitespaceChanged: function () {
            this._updateHint(), this.dropdown.open();
          },
          _setLanguageDirection: function () {
            var e = this.input.getLanguageDirection();
            this.dir !== e &&
              ((this.dir = e),
              this.$node.css("direction", e),
              this.dropdown.setLanguageDirection(e));
          },
          _updateHint: function () {
            var e, t, n, i, r, s;
            (e = this.dropdown.getDatumForTopSuggestion()),
              e && this.dropdown.isVisible() && !this.input.hasOverflow()
                ? ((t = this.input.getInputValue()),
                  (n = d.normalizeQuery(t)),
                  (i = l.escapeRegExChars(n)),
                  (r = new RegExp("^(?:" + i + ")(.+$)", "i")),
                  (s = r.exec(e.value)),
                  s ? this.input.setHint(t + s[1]) : this.input.clearHint())
                : this.input.clearHint();
          },
          _autocomplete: function (e) {
            var t, n, i, r;
            (t = this.input.getHint()),
              (n = this.input.getQuery()),
              (i = e || this.input.isCursorAtEnd()),
              t &&
                n !== t &&
                i &&
                ((r = this.dropdown.getDatumForTopSuggestion()),
                r && this.input.setInputValue(r.value),
                this.eventBus.trigger("autocompleted", r.raw, r.datasetName));
          },
          _select: function (e) {
            void 0 !== e.value && this.input.setQuery(e.value),
              this.clearOnSelected
                ? this.setVal("")
                : this.input.setInputValue(e.value, !0),
              this._setLanguageDirection(),
              this.eventBus
                .trigger("selected", e.raw, e.datasetName)
                .isDefaultPrevented() === !1 &&
                (this.dropdown.close(),
                l.defer(l.bind(this.dropdown.empty, this.dropdown)));
          },
          open: function () {
            if (!this.isActivated) {
              var e = this.input.getInputValue();
              e.length >= this.minLength
                ? this.dropdown.update(e)
                : this.dropdown.empty();
            }
            this.dropdown.open();
          },
          close: function () {
            this.dropdown.close();
          },
          setVal: function (e) {
            (e = l.toStr(e)),
              this.isActivated
                ? this.input.setInputValue(e)
                : (this.input.setQuery(e), this.input.setInputValue(e, !0)),
              this._setLanguageDirection();
          },
          getVal: function () {
            return this.input.getQuery();
          },
          destroy: function () {
            this.input.destroy(),
              this.dropdown.destroy(),
              o(this.$node, this.cssClasses),
              (this.$node = null);
          },
          getWrapper: function () {
            return this.dropdown.$container[0];
          },
        }),
          (i.Dropdown = p),
          (i.Input = d),
          (i.sources = n(20)),
          (e.exports = i);
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          (e && e.el) || r.error("EventBus initialized without el"),
            (this.$el = s.element(e.el));
        }
        var r = n(4),
          s = n(3);
        r.mixin(i.prototype, {
          trigger: function (e) {
            var t = [].slice.call(arguments, 1),
              n = r.Event("autocomplete:" + e);
            return this.$el.trigger(n, t), n;
          },
        }),
          (e.exports = i);
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          var t,
            n,
            i,
            s,
            o = this;
          (e = e || {}),
            e.input || l.error("input is missing"),
            (t = l.bind(this._onBlur, this)),
            (n = l.bind(this._onFocus, this)),
            (i = l.bind(this._onKeydown, this)),
            (s = l.bind(this._onInput, this)),
            (this.$hint = c.element(e.hint)),
            (this.$input = c
              .element(e.input)
              .on("blur.aa", t)
              .on("focus.aa", n)
              .on("keydown.aa", i)),
            0 === this.$hint.length &&
              (this.setHint =
                this.getHint =
                this.clearHint =
                this.clearHintIfInvalid =
                  l.noop),
            l.isMsie()
              ? this.$input.on(
                  "keydown.aa keypress.aa cut.aa paste.aa",
                  function (e) {
                    a[e.which || e.keyCode] ||
                      l.defer(l.bind(o._onInput, o, e));
                  }
                )
              : this.$input.on("input.aa", s),
            (this.query = this.$input.val()),
            (this.$overflowHelper = r(this.$input));
        }
        function r(e) {
          return c
            .element('<pre aria-hidden="true"></pre>')
            .css({
              position: "absolute",
              visibility: "hidden",
              whiteSpace: "pre",
              fontFamily: e.css("font-family"),
              fontSize: e.css("font-size"),
              fontStyle: e.css("font-style"),
              fontVariant: e.css("font-variant"),
              fontWeight: e.css("font-weight"),
              wordSpacing: e.css("word-spacing"),
              letterSpacing: e.css("letter-spacing"),
              textIndent: e.css("text-indent"),
              textRendering: e.css("text-rendering"),
              textTransform: e.css("text-transform"),
            })
            .insertAfter(e);
        }
        function s(e, t) {
          return i.normalizeQuery(e) === i.normalizeQuery(t);
        }
        function o(e) {
          return e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
        }
        var a;
        a = {
          9: "tab",
          27: "esc",
          37: "left",
          39: "right",
          13: "enter",
          38: "up",
          40: "down",
        };
        var l = n(4),
          c = n(3),
          u = n(8);
        (i.normalizeQuery = function (e) {
          return (e || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " ");
        }),
          l.mixin(i.prototype, u, {
            _onBlur: function () {
              this.resetInputValue(),
                this.$input.removeAttr("aria-activedescendant"),
                this.trigger("blurred");
            },
            _onFocus: function () {
              this.trigger("focused");
            },
            _onKeydown: function (e) {
              var t = a[e.which || e.keyCode];
              this._managePreventDefault(t, e),
                t && this._shouldTrigger(t, e) && this.trigger(t + "Keyed", e);
            },
            _onInput: function () {
              this._checkInputValue();
            },
            _managePreventDefault: function (e, t) {
              var n, i, r;
              switch (e) {
                case "tab":
                  (i = this.getHint()),
                    (r = this.getInputValue()),
                    (n = i && i !== r && !o(t));
                  break;
                case "up":
                case "down":
                  n = !o(t);
                  break;
                default:
                  n = !1;
              }
              n && t.preventDefault();
            },
            _shouldTrigger: function (e, t) {
              var n;
              switch (e) {
                case "tab":
                  n = !o(t);
                  break;
                default:
                  n = !0;
              }
              return n;
            },
            _checkInputValue: function () {
              var e, t, n;
              (e = this.getInputValue()),
                (t = s(e, this.query)),
                (n = !(!t || !this.query) && this.query.length !== e.length),
                (this.query = e),
                t
                  ? n && this.trigger("whitespaceChanged", this.query)
                  : this.trigger("queryChanged", this.query);
            },
            focus: function () {
              this.$input.focus();
            },
            blur: function () {
              this.$input.blur();
            },
            getQuery: function () {
              return this.query;
            },
            setQuery: function (e) {
              this.query = e;
            },
            getInputValue: function () {
              return this.$input.val();
            },
            setInputValue: function (e, t) {
              void 0 === e && (e = this.query),
                this.$input.val(e),
                t ? this.clearHint() : this._checkInputValue();
            },
            expand: function () {
              this.$input.attr("aria-expanded", "true");
            },
            collapse: function () {
              this.$input.attr("aria-expanded", "false");
            },
            setActiveDescendant: function (e) {
              this.$input.attr("aria-activedescendant", e);
            },
            removeActiveDescendant: function () {
              this.$input.removeAttr("aria-activedescendant");
            },
            resetInputValue: function () {
              this.setInputValue(this.query, !0);
            },
            getHint: function () {
              return this.$hint.val();
            },
            setHint: function (e) {
              this.$hint.val(e);
            },
            clearHint: function () {
              this.setHint("");
            },
            clearHintIfInvalid: function () {
              var e, t, n, i;
              (e = this.getInputValue()),
                (t = this.getHint()),
                (n = e !== t && 0 === t.indexOf(e)),
                (i = "" !== e && n && !this.hasOverflow()) || this.clearHint();
            },
            getLanguageDirection: function () {
              return (this.$input.css("direction") || "ltr").toLowerCase();
            },
            hasOverflow: function () {
              var e = this.$input.width() - 2;
              return (
                this.$overflowHelper.text(this.getInputValue()),
                this.$overflowHelper.width() >= e
              );
            },
            isCursorAtEnd: function () {
              var e, t, n;
              return (
                (e = this.$input.val().length),
                (t = this.$input[0].selectionStart),
                l.isNumber(t)
                  ? t === e
                  : !document.selection ||
                    ((n = document.selection.createRange()),
                    n.moveStart("character", -e),
                    e === n.text.length)
              );
            },
            destroy: function () {
              this.$hint.off(".aa"),
                this.$input.off(".aa"),
                (this.$hint = this.$input = this.$overflowHelper = null);
            },
          }),
          (e.exports = i);
      },
      function (e, t, n) {
        "use strict";
        function i(e, t, n, i) {
          var r;
          if (!n) return this;
          for (
            t = t.split(d),
              n = i ? c(n, i) : n,
              this._callbacks = this._callbacks || {};
            (r = t.shift());

          )
            (this._callbacks[r] = this._callbacks[r] || {
              sync: [],
              async: [],
            }),
              this._callbacks[r][e].push(n);
          return this;
        }
        function r(e, t, n) {
          return i.call(this, "async", e, t, n);
        }
        function s(e, t, n) {
          return i.call(this, "sync", e, t, n);
        }
        function o(e) {
          var t;
          if (!this._callbacks) return this;
          for (e = e.split(d); (t = e.shift()); ) delete this._callbacks[t];
          return this;
        }
        function a(e) {
          var t, n, i, r, s;
          if (!this._callbacks) return this;
          for (
            e = e.split(d), i = [].slice.call(arguments, 1);
            (t = e.shift()) && (n = this._callbacks[t]);

          )
            (r = l(n.sync, this, [t].concat(i))),
              (s = l(n.async, this, [t].concat(i))),
              r() && u(s);
          return this;
        }
        function l(e, t, n) {
          function i() {
            for (var i, r = 0, s = e.length; !i && s > r; r += 1)
              i = e[r].apply(t, n) === !1;
            return !i;
          }
          return i;
        }
        function c(e, t) {
          return e.bind
            ? e.bind(t)
            : function () {
                e.apply(t, [].slice.call(arguments, 0));
              };
        }
        var u = n(9),
          d = /\s+/;
        e.exports = {
          onSync: s,
          onAsync: r,
          off: o,
          trigger: a,
        };
      },
      function (e, t, n) {
        "use strict";
        function i() {
          a &&
            l &&
            ((a = !1),
            l.length ? (p = l.concat(p)) : (d = -1),
            p.length && r());
        }
        function r() {
          if (!a) {
            (h = !1), (a = !0);
            for (var e = p.length, t = setTimeout(i); e; ) {
              for (l = p, p = []; l && ++d < e; ) l[d].run();
              (d = -1), (e = p.length);
            }
            (l = null), (d = -1), (a = !1), clearTimeout(t);
          }
        }
        function s(e, t) {
          (this.fun = e), (this.array = t);
        }
        function o(e) {
          var t = new Array(arguments.length - 1);
          if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
          p.push(new s(e, t)), h || a || ((h = !0), c());
        }
        for (
          var a,
            l,
            c,
            u = [n(10), n(12), n(13), n(14), n(15)],
            d = -1,
            p = [],
            h = !1,
            f = -1,
            m = u.length;
          ++f < m;

        )
          if (u[f] && u[f].test && u[f].test()) {
            c = u[f].install(r);
            break;
          }
        (s.prototype.run = function () {
          var e = this.fun,
            t = this.array;
          switch (t.length) {
            case 0:
              return e();
            case 1:
              return e(t[0]);
            case 2:
              return e(t[0], t[1]);
            case 3:
              return e(t[0], t[1], t[2]);
            default:
              return e.apply(null, t);
          }
        }),
          (e.exports = o);
      },
      function (e, t, n) {
        (function (e) {
          "use strict";
          (t.test = function () {
            return void 0 !== e && !e.browser;
          }),
            (t.install = function (t) {
              return function () {
                e.nextTick(t);
              };
            });
        }.call(t, n(11)));
      },
      function (e) {
        function t() {
          throw new Error("setTimeout has not been defined");
        }
        function n() {
          throw new Error("clearTimeout has not been defined");
        }
        function i(e) {
          if (c === setTimeout) return setTimeout(e, 0);
          if ((c === t || !c) && setTimeout)
            return (c = setTimeout), setTimeout(e, 0);
          try {
            return c(e, 0);
          } catch (n) {
            try {
              return c.call(null, e, 0);
            } catch (n) {
              return c.call(this, e, 0);
            }
          }
        }
        function r(e) {
          if (u === clearTimeout) return clearTimeout(e);
          if ((u === n || !u) && clearTimeout)
            return (u = clearTimeout), clearTimeout(e);
          try {
            return u(e);
          } catch (t) {
            try {
              return u.call(null, e);
            } catch (t) {
              return u.call(this, e);
            }
          }
        }
        function s() {
          f &&
            p &&
            ((f = !1),
            p.length ? (h = p.concat(h)) : (m = -1),
            h.length && o());
        }
        function o() {
          if (!f) {
            var e = i(s);
            f = !0;
            for (var t = h.length; t; ) {
              for (p = h, h = []; ++m < t; ) p && p[m].run();
              (m = -1), (t = h.length);
            }
            (p = null), (f = !1), r(e);
          }
        }
        function a(e, t) {
          (this.fun = e), (this.array = t);
        }
        function l() {}
        var c,
          u,
          d = (e.exports = {});
        !(function () {
          try {
            c = "function" == typeof setTimeout ? setTimeout : t;
          } catch (e) {
            c = t;
          }
          try {
            u = "function" == typeof clearTimeout ? clearTimeout : n;
          } catch (e) {
            u = n;
          }
        })();
        var p,
          h = [],
          f = !1,
          m = -1;
        (d.nextTick = function (e) {
          var t = new Array(arguments.length - 1);
          if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
          h.push(new a(e, t)), 1 !== h.length || f || i(o);
        }),
          (a.prototype.run = function () {
            this.fun.apply(null, this.array);
          }),
          (d.title = "browser"),
          (d.browser = !0),
          (d.env = {}),
          (d.argv = []),
          (d.version = ""),
          (d.versions = {}),
          (d.on = l),
          (d.addListener = l),
          (d.once = l),
          (d.off = l),
          (d.removeListener = l),
          (d.removeAllListeners = l),
          (d.emit = l),
          (d.binding = function () {
            throw new Error("process.binding is not supported");
          }),
          (d.cwd = function () {
            return "/";
          }),
          (d.chdir = function () {
            throw new Error("process.chdir is not supported");
          }),
          (d.umask = function () {
            return 0;
          });
      },
      function (e, t) {
        (function (e) {
          "use strict";
          var n = e.MutationObserver || e.WebKitMutationObserver;
          (t.test = function () {
            return n;
          }),
            (t.install = function (t) {
              var i = 0,
                r = new n(t),
                s = e.document.createTextNode("");
              return (
                r.observe(s, {
                  characterData: !0,
                }),
                function () {
                  s.data = i = ++i % 2;
                }
              );
            });
        }.call(
          t,
          (function () {
            return this;
          })()
        ));
      },
      function (e, t) {
        (function (e) {
          "use strict";
          (t.test = function () {
            return !e.setImmediate && void 0 !== e.MessageChannel;
          }),
            (t.install = function (t) {
              var n = new e.MessageChannel();
              return (
                (n.port1.onmessage = t),
                function () {
                  n.port2.postMessage(0);
                }
              );
            });
        }.call(
          t,
          (function () {
            return this;
          })()
        ));
      },
      function (e, t) {
        (function (e) {
          "use strict";
          (t.test = function () {
            return (
              "document" in e &&
              "onreadystatechange" in e.document.createElement("script")
            );
          }),
            (t.install = function (t) {
              return function () {
                var n = e.document.createElement("script");
                return (
                  (n.onreadystatechange = function () {
                    t(),
                      (n.onreadystatechange = null),
                      n.parentNode.removeChild(n),
                      (n = null);
                  }),
                  e.document.documentElement.appendChild(n),
                  t
                );
              };
            });
        }.call(
          t,
          (function () {
            return this;
          })()
        ));
      },
      function (e, t) {
        "use strict";
        (t.test = function () {
          return !0;
        }),
          (t.install = function (e) {
            return function () {
              setTimeout(e, 0);
            };
          });
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          var t,
            n,
            i,
            a = this;
          (e = e || {}),
            e.menu || s.error("menu is required"),
            s.isArray(e.datasets) ||
              s.isObject(e.datasets) ||
              s.error("1 or more datasets required"),
            e.datasets || s.error("datasets is required"),
            (this.isOpen = !1),
            (this.isEmpty = !0),
            (this.minLength = e.minLength || 0),
            (this.templates = {}),
            (this.appendTo = e.appendTo || !1),
            (this.css = s.mixin({}, c, e.appendTo ? c.appendTo : {})),
            (this.cssClasses = e.cssClasses =
              s.mixin({}, c.defaultClasses, e.cssClasses || {})),
            (this.cssClasses.prefix =
              e.cssClasses.formattedPrefix ||
              s.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix)),
            (t = s.bind(this._onSuggestionClick, this)),
            (n = s.bind(this._onSuggestionMouseEnter, this)),
            (i = s.bind(this._onSuggestionMouseLeave, this));
          var l = s.className(
            this.cssClasses.prefix,
            this.cssClasses.suggestion
          );
          (this.$menu = o
            .element(e.menu)
            .on("mouseenter.aa", l, n)
            .on("mouseleave.aa", l, i)
            .on("click.aa", l, t)),
            (this.$container = e.appendTo ? e.wrapper : this.$menu),
            e.templates &&
              e.templates.header &&
              ((this.templates.header = s.templatify(e.templates.header)),
              this.$menu.prepend(this.templates.header())),
            e.templates &&
              e.templates.empty &&
              ((this.templates.empty = s.templatify(e.templates.empty)),
              (this.$empty = o.element(
                '<div class="' +
                  s.className(
                    this.cssClasses.prefix,
                    this.cssClasses.empty,
                    !0
                  ) +
                  '"></div>'
              )),
              this.$menu.append(this.$empty),
              this.$empty.hide()),
            (this.datasets = s.map(e.datasets, function (t) {
              return r(a.$menu, t, e.cssClasses);
            })),
            s.each(this.datasets, function (e) {
              var t = e.getRoot();
              t && 0 === t.parent().length && a.$menu.append(t),
                e.onSync("rendered", a._onRendered, a);
            }),
            e.templates &&
              e.templates.footer &&
              ((this.templates.footer = s.templatify(e.templates.footer)),
              this.$menu.append(this.templates.footer()));
          var u = this;
          o.element(window).resize(function () {
            u._redraw();
          });
        }
        function r(e, t, n) {
          return new i.Dataset(
            s.mixin(
              {
                $menu: e,
                cssClasses: n,
              },
              t
            )
          );
        }
        var s = n(4),
          o = n(3),
          a = n(8),
          l = n(17),
          c = n(19);
        s.mixin(i.prototype, a, {
          _onSuggestionClick: function (e) {
            this.trigger("suggestionClicked", o.element(e.currentTarget));
          },
          _onSuggestionMouseEnter: function (e) {
            var t = o.element(e.currentTarget);
            if (
              !t.hasClass(
                s.className(this.cssClasses.prefix, this.cssClasses.cursor, !0)
              )
            ) {
              this._removeCursor();
              var n = this;
              setTimeout(function () {
                n._setCursor(t, !1);
              }, 0);
            }
          },
          _onSuggestionMouseLeave: function (e) {
            (e.relatedTarget &&
              o
                .element(e.relatedTarget)
                .closest(
                  "." +
                    s.className(
                      this.cssClasses.prefix,
                      this.cssClasses.cursor,
                      !0
                    )
                ).length > 0) ||
              (this._removeCursor(), this.trigger("cursorRemoved"));
          },
          _onRendered: function (e, t) {
            function n(e) {
              return e.isEmpty();
            }
            function i(e) {
              return e.templates && e.templates.empty;
            }
            if (((this.isEmpty = s.every(this.datasets, n)), this.isEmpty))
              if (
                (t.length >= this.minLength && this.trigger("empty"),
                this.$empty)
              )
                if (t.length < this.minLength) this._hide();
                else {
                  var r = this.templates.empty({
                    query: this.datasets[0] && this.datasets[0].query,
                  });
                  this.$empty.html(r), this.$empty.show(), this._show();
                }
              else
                s.any(this.datasets, i)
                  ? t.length < this.minLength
                    ? this._hide()
                    : this._show()
                  : this._hide();
            else
              this.isOpen &&
                (this.$empty && (this.$empty.empty(), this.$empty.hide()),
                t.length >= this.minLength ? this._show() : this._hide());
            this.trigger("datasetRendered");
          },
          _hide: function () {
            this.$container.hide();
          },
          _show: function () {
            this.$container.css("display", "block"),
              this._redraw(),
              this.trigger("shown");
          },
          _redraw: function () {
            this.isOpen && this.appendTo && this.trigger("redrawn");
          },
          _getSuggestions: function () {
            return this.$menu.find(
              s.className(this.cssClasses.prefix, this.cssClasses.suggestion)
            );
          },
          _getCursor: function () {
            return this.$menu
              .find(s.className(this.cssClasses.prefix, this.cssClasses.cursor))
              .first();
          },
          _setCursor: function (e, t) {
            e
              .first()
              .addClass(
                s.className(this.cssClasses.prefix, this.cssClasses.cursor, !0)
              )
              .attr("aria-selected", "true"),
              this.trigger("cursorMoved", t);
          },
          _removeCursor: function () {
            this._getCursor()
              .removeClass(
                s.className(this.cssClasses.prefix, this.cssClasses.cursor, !0)
              )
              .removeAttr("aria-selected");
          },
          _moveCursor: function (e) {
            var t, n, i, r;
            if (this.isOpen) {
              if (
                ((n = this._getCursor()),
                (t = this._getSuggestions()),
                this._removeCursor(),
                (i = t.index(n) + e),
                -1 === (i = ((i + 1) % (t.length + 1)) - 1))
              )
                return void this.trigger("cursorRemoved");
              -1 > i && (i = t.length - 1),
                this._setCursor((r = t.eq(i)), !0),
                this._ensureVisible(r);
            }
          },
          _ensureVisible: function (e) {
            var t, n, i, r;
            (t = e.position().top),
              (n =
                t +
                e.height() +
                parseInt(e.css("margin-top"), 10) +
                parseInt(e.css("margin-bottom"), 10)),
              (i = this.$menu.scrollTop()),
              (r =
                this.$menu.height() +
                parseInt(this.$menu.css("padding-top"), 10) +
                parseInt(this.$menu.css("padding-bottom"), 10)),
              0 > t
                ? this.$menu.scrollTop(i + t)
                : n > r && this.$menu.scrollTop(i + (n - r));
          },
          close: function () {
            this.isOpen &&
              ((this.isOpen = !1),
              this._removeCursor(),
              this._hide(),
              this.trigger("closed"));
          },
          open: function () {
            this.isOpen ||
              ((this.isOpen = !0),
              this.isEmpty || this._show(),
              this.trigger("opened"));
          },
          setLanguageDirection: function (e) {
            this.$menu.css("ltr" === e ? this.css.ltr : this.css.rtl);
          },
          moveCursorUp: function () {
            this._moveCursor(-1);
          },
          moveCursorDown: function () {
            this._moveCursor(1);
          },
          getDatumForSuggestion: function (e) {
            var t = null;
            return (
              e.length &&
                (t = {
                  raw: l.extractDatum(e),
                  value: l.extractValue(e),
                  datasetName: l.extractDatasetName(e),
                }),
              t
            );
          },
          getCurrentCursor: function () {
            return this._getCursor().first();
          },
          getDatumForCursor: function () {
            return this.getDatumForSuggestion(this._getCursor().first());
          },
          getDatumForTopSuggestion: function () {
            return this.getDatumForSuggestion(this._getSuggestions().first());
          },
          cursorTopSuggestion: function () {
            this._setCursor(this._getSuggestions().first(), !1);
          },
          update: function (e) {
            function t(t) {
              t.update(e);
            }
            s.each(this.datasets, t);
          },
          empty: function () {
            function e(e) {
              e.clear();
            }
            s.each(this.datasets, e), (this.isEmpty = !0);
          },
          isVisible: function () {
            return this.isOpen && !this.isEmpty;
          },
          destroy: function () {
            function e(e) {
              e.destroy();
            }
            this.$menu.off(".aa"),
              (this.$menu = null),
              s.each(this.datasets, e);
          },
        }),
          (i.Dataset = l),
          (e.exports = i);
      },
      function (e, t, n) {
        "use strict";
        function i(e) {
          (e = e || {}),
            (e.templates = e.templates || {}),
            e.source || u.error("missing source"),
            e.name && !o(e.name) && u.error("invalid dataset name: " + e.name),
            (this.query = null),
            (this._isEmpty = !0),
            (this.highlight = !!e.highlight),
            (this.name =
              void 0 === e.name || null === e.name ? u.getUniqueId() : e.name),
            (this.source = e.source),
            (this.displayFn = r(e.display || e.displayKey)),
            (this.debounce = e.debounce),
            (this.templates = s(e.templates, this.displayFn)),
            (this.css = u.mixin({}, h, e.appendTo ? h.appendTo : {})),
            (this.cssClasses = e.cssClasses =
              u.mixin({}, h.defaultClasses, e.cssClasses || {})),
            (this.cssClasses.prefix =
              e.cssClasses.formattedPrefix ||
              u.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix));
          var t = u.className(this.cssClasses.prefix, this.cssClasses.dataset);
          (this.$el = d.element(
            e.$menu && e.$menu.find(t + "-" + this.name).length > 0
              ? e.$menu.find(t + "-" + this.name)[0]
              : p.dataset
                  .replace("%CLASS%", this.name)
                  .replace("%PREFIX%", this.cssClasses.prefix)
                  .replace("%DATASET%", this.cssClasses.dataset)
          )),
            (this.$menu = e.$menu),
            this.clearCachedSuggestions();
        }
        function r(e) {
          function t(t) {
            return t[e];
          }
          return (e = e || "value"), u.isFunction(e) ? e : t;
        }
        function s(e, t) {
          function n(e) {
            return "<p>" + t(e) + "</p>";
          }
          return {
            empty: e.empty && u.templatify(e.empty),
            header: e.header && u.templatify(e.header),
            footer: e.footer && u.templatify(e.footer),
            suggestion: e.suggestion || n,
          };
        }
        function o(e) {
          return /^[_a-zA-Z0-9-]+$/.test(e);
        }
        var a = "aaDataset",
          l = "aaValue",
          c = "aaDatum",
          u = n(4),
          d = n(3),
          p = n(18),
          h = n(19),
          f = n(8);
        (i.extractDatasetName = function (e) {
          return d.element(e).data(a);
        }),
          (i.extractValue = function (e) {
            return d.element(e).data(l);
          }),
          (i.extractDatum = function (e) {
            var t = d.element(e).data(c);
            return "string" == typeof t && (t = JSON.parse(t)), t;
          }),
          u.mixin(i.prototype, f, {
            _render: function (e, t) {
              function n() {
                var t = [].slice.call(arguments, 0);
                return (
                  (t = [
                    {
                      query: e,
                      isEmpty: !0,
                    },
                  ].concat(t)),
                  h.templates.empty.apply(this, t)
                );
              }
              function i() {
                function e(e) {
                  var t,
                    n = p.suggestion
                      .replace("%PREFIX%", s.cssClasses.prefix)
                      .replace("%SUGGESTION%", s.cssClasses.suggestion);
                  return (
                    (t = d
                      .element(n)
                      .attr({
                        role: "option",
                        id: ["option", Math.floor(1e8 * Math.random())].join(
                          "-"
                        ),
                      })
                      .append(
                        h.templates.suggestion.apply(this, [e].concat(r))
                      )),
                    t.data(a, h.name),
                    t.data(l, h.displayFn(e) || void 0),
                    t.data(c, JSON.stringify(e)),
                    t.children().each(function () {
                      d.element(this).css(s.css.suggestionChild);
                    }),
                    t
                  );
                }
                var n,
                  i,
                  r = [].slice.call(arguments, 0),
                  s = this,
                  o = p.suggestions
                    .replace("%PREFIX%", this.cssClasses.prefix)
                    .replace("%SUGGESTIONS%", this.cssClasses.suggestions);
                return (
                  (n = d.element(o).css(this.css.suggestions)),
                  (i = u.map(t, e)),
                  n.append.apply(n, i),
                  n
                );
              }
              function r() {
                var t = [].slice.call(arguments, 0);
                return (
                  (t = [
                    {
                      query: e,
                      isEmpty: !o,
                    },
                  ].concat(t)),
                  h.templates.header.apply(this, t)
                );
              }
              function s() {
                var t = [].slice.call(arguments, 0);
                return (
                  (t = [
                    {
                      query: e,
                      isEmpty: !o,
                    },
                  ].concat(t)),
                  h.templates.footer.apply(this, t)
                );
              }
              if (this.$el) {
                var o,
                  h = this,
                  f = [].slice.call(arguments, 2);
                this.$el.empty(),
                  (o = t && t.length),
                  (this._isEmpty = !o),
                  !o && this.templates.empty
                    ? this.$el
                        .html(n.apply(this, f))
                        .prepend(h.templates.header ? r.apply(this, f) : null)
                        .append(h.templates.footer ? s.apply(this, f) : null)
                    : o &&
                      this.$el
                        .html(i.apply(this, f))
                        .prepend(h.templates.header ? r.apply(this, f) : null)
                        .append(h.templates.footer ? s.apply(this, f) : null),
                  this.$menu &&
                    this.$menu
                      .addClass(
                        this.cssClasses.prefix +
                          (o ? "with" : "without") +
                          "-" +
                          this.name
                      )
                      .removeClass(
                        this.cssClasses.prefix +
                          (o ? "without" : "with") +
                          "-" +
                          this.name
                      ),
                  this.trigger("rendered", e);
              }
            },
            getRoot: function () {
              return this.$el;
            },
            update: function (e) {
              function t(t) {
                if (!this.canceled && e === this.query) {
                  var n = [].slice.call(arguments, 1);
                  this.cacheSuggestions(e, t, n),
                    this._render.apply(this, [e, t].concat(n));
                }
              }
              if (
                ((this.query = e),
                (this.canceled = !1),
                this.shouldFetchFromCache(e))
              )
                t.apply(
                  this,
                  [this.cachedSuggestions].concat(this.cachedRenderExtraArgs)
                );
              else {
                var n = this,
                  i = function () {
                    n.canceled || n.source(e, t.bind(n));
                  };
                if (this.debounce) {
                  var r = function () {
                    (n.debounceTimeout = null), i();
                  };
                  clearTimeout(this.debounceTimeout),
                    (this.debounceTimeout = setTimeout(r, this.debounce));
                } else i();
              }
            },
            cacheSuggestions: function (e, t, n) {
              (this.cachedQuery = e),
                (this.cachedSuggestions = t),
                (this.cachedRenderExtraArgs = n);
            },
            shouldFetchFromCache: function (e) {
              return (
                this.cachedQuery === e &&
                this.cachedSuggestions &&
                this.cachedSuggestions.length
              );
            },
            clearCachedSuggestions: function () {
              delete this.cachedQuery,
                delete this.cachedSuggestions,
                delete this.cachedRenderExtraArgs;
            },
            cancel: function () {
              this.canceled = !0;
            },
            clear: function () {
              this.cancel(), this.$el.empty(), this.trigger("rendered", "");
            },
            isEmpty: function () {
              return this._isEmpty;
            },
            destroy: function () {
              this.clearCachedSuggestions(), (this.$el = null);
            },
          }),
          (e.exports = i);
      },
      function (e) {
        "use strict";
        e.exports = {
          wrapper: '<span class="%ROOT%"></span>',
          dropdown: '<span class="%PREFIX%%DROPDOWN_MENU%"></span>',
          dataset: '<div class="%PREFIX%%DATASET%-%CLASS%"></div>',
          suggestions: '<span class="%PREFIX%%SUGGESTIONS%"></span>',
          suggestion: '<div class="%PREFIX%%SUGGESTION%"></div>',
        };
      },
      function (e, t, n) {
        "use strict";
        var i = n(4),
          r = {
            wrapper: {
              position: "relative",
              display: "inline-block",
            },
            hint: {
              position: "absolute",
              top: "0",
              left: "0",
              borderColor: "transparent",
              boxShadow: "none",
              opacity: "1",
            },
            input: {
              position: "relative",
              verticalAlign: "top",
              backgroundColor: "transparent",
            },
            inputWithNoHint: {
              position: "relative",
              verticalAlign: "top",
            },
            dropdown: {
              position: "absolute",
              top: "100%",
              left: "0",
              zIndex: "100",
              display: "none",
            },
            suggestions: {
              display: "block",
            },
            suggestion: {
              whiteSpace: "nowrap",
              cursor: "pointer",
            },
            suggestionChild: {
              whiteSpace: "normal",
            },
            ltr: {
              left: "0",
              right: "auto",
            },
            rtl: {
              left: "auto",
              right: "0",
            },
            defaultClasses: {
              root: "algolia-autocomplete",
              prefix: "aa",
              noPrefix: !1,
              dropdownMenu: "dropdown-menu",
              input: "input",
              hint: "hint",
              suggestions: "suggestions",
              suggestion: "suggestion",
              cursor: "cursor",
              dataset: "dataset",
              empty: "empty",
            },
            appendTo: {
              wrapper: {
                position: "absolute",
                zIndex: "100",
                display: "none",
              },
              input: {},
              inputWithNoHint: {},
              dropdown: {
                display: "block",
              },
            },
          };
        i.isMsie() &&
          i.mixin(r.input, {
            backgroundImage:
              "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",
          }),
          i.isMsie() &&
            i.isMsie() <= 7 &&
            i.mixin(r.input, {
              marginTop: "-1px",
            }),
          (e.exports = r);
      },
      function (e, t, n) {
        "use strict";
        e.exports = {
          hits: n(21),
          popularIn: n(24),
        };
      },
      function (e, t, n) {
        "use strict";
        var i = n(4),
          r = n(22),
          s = n(23);
        e.exports = function (e, t) {
          function n(n, r) {
            e.search(n, t, function (e, t) {
              return e ? void i.error(e.message) : void r(t.hits, t);
            });
          }
          var o = s(e.as._ua);
          return (
            o &&
              o[0] >= 3 &&
              o[1] > 20 &&
              ((t = t || {}), (t.additionalUA = "autocomplete.js " + r)),
            n
          );
        };
      },
      function (e) {
        e.exports = "0.31.0";
      },
      function (e) {
        "use strict";
        e.exports = function (e) {
          var t = e.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);
          return t ? [t[1], t[2], t[3]] : void 0;
        };
      },
      function (e, t, n) {
        "use strict";
        var i = n(4),
          r = n(22),
          s = n(23);
        e.exports = function (e, t, n, o) {
          function a(a, l) {
            e.search(a, t, function (e, a) {
              if (e) return void i.error(e.message);
              if (a.hits.length > 0) {
                var d = a.hits[0],
                  p = i.mixin(
                    {
                      hitsPerPage: 0,
                    },
                    n
                  );
                delete p.source, delete p.index;
                var h = s(u.as._ua);
                return (
                  h &&
                    h[0] >= 3 &&
                    h[1] > 20 &&
                    (t.additionalUA = "autocomplete.js " + r),
                  void u.search(c(d), p, function (e, t) {
                    if (e) return void i.error(e.message);
                    var n = [];
                    if (o.includeAll) {
                      var r = o.allTitle || "All departments";
                      n.push(
                        i.mixin(
                          {
                            facet: {
                              value: r,
                              count: t.nbHits,
                            },
                          },
                          i.cloneDeep(d)
                        )
                      );
                    }
                    i.each(t.facets, function (e, t) {
                      i.each(e, function (e, r) {
                        n.push(
                          i.mixin(
                            {
                              facet: {
                                facet: t,
                                value: r,
                                count: e,
                              },
                            },
                            i.cloneDeep(d)
                          )
                        );
                      });
                    });
                    for (var s = 1; s < a.hits.length; ++s) n.push(a.hits[s]);
                    l(n, a);
                  })
                );
              }
              l([]);
            });
          }
          var l = s(e.as._ua);
          if (
            (l &&
              l[0] >= 3 &&
              l[1] > 20 &&
              ((t = t || {}), (t.additionalUA = "autocomplete.js " + r)),
            !n.source)
          )
            return i.error("Missing 'source' key");
          var c = i.isFunction(n.source)
            ? n.source
            : function (e) {
                return e[n.source];
              };
          if (!n.index) return i.error("Missing 'index' key");
          var u = n.index;
          return (o = o || {}), a;
        };
      },
    ]);
  }),
  (window.AlgoliaAnalyticsObject = "aa"),
  (window.aa =
    window.aa ||
    function () {
      (window.aa.queue = window.aa.queue || []).push(arguments);
    }),
  !(function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define(["exports"], t)
      : t(((e = e || self).AlgoliaAnalytics = {}));
  })(this, function (e) {
    "use strict";
    function t(e) {
      var t,
        n = e.AlgoliaAnalyticsObject;
      if (n) {
        var i =
            ((t = this),
            function (e) {
              for (var n = [], i = arguments.length - 1; i-- > 0; )
                n[i] = arguments[i + 1];
              e && h(t[e]) && t[e].apply(t, n);
            }),
          r = e[n];
        r.queue = r.queue || [];
        var s = r.queue;
        s.forEach(function (e) {
          var t = [].slice.call(e),
            n = t[0],
            r = t.slice(1);
          i.apply(void 0, [n].concat(r));
        }),
          (s.push = function (e) {
            var t = [].slice.call(e),
              n = t[0],
              r = t.slice(1);
            i.apply(void 0, [n].concat(r));
          });
      }
    }
    function n(e) {
      var n = new C({
        requestFn: e,
      });
      return "undefined" != typeof window && t.call(n, window), n;
    }
    var i,
      r,
      s,
      o,
      a = function () {
        try {
          return Boolean(navigator.cookieEnabled);
        } catch (e) {
          return !1;
        }
      },
      l = function () {
        try {
          return Boolean(navigator.sendBeacon);
        } catch (e) {
          return !1;
        }
      },
      c = function () {
        try {
          return Boolean(XMLHttpRequest);
        } catch (e) {
          return !1;
        }
      },
      u = function (e) {
        return void 0 === e;
      },
      d = function (e) {
        return "string" == typeof e;
      },
      p = function (e) {
        return "number" == typeof e;
      },
      h = function (e) {
        return "function" == typeof e;
      },
      f = "insights-js (1.6.3)",
      m = ["de", "us"],
      g = 2592e6,
      _ = function () {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
          /[xy]/g,
          function (e) {
            var t = (16 * Math.random()) | 0;
            return ("x" === e ? t : (3 & t) | 8).toString(16);
          }
        );
      },
      v = "_ALGOLIA",
      y = function (e, t, n) {
        var i = new Date();
        i.setTime(i.getTime() + n);
        var r = "expires=" + i.toUTCString();
        document.cookie = e + "=" + t + ";" + r + ";path=/";
      },
      b = function (e) {
        for (
          var t = e + "=", n = document.cookie.split(";"), i = 0;
          i < n.length;
          i++
        ) {
          for (var r = n[i]; " " === r.charAt(0); ) r = r.substring(1);
          if (0 === r.indexOf(t)) return r.substring(t.length, r.length);
        }
        return "";
      },
      w = "ANONYMOUS_USER_TOKEN";
    Object.keys ||
      (Object.keys =
        ((i = Object.prototype.hasOwnProperty),
        (r = !{
          toString: null,
        }.propertyIsEnumerable("toString")),
        (o = (s = [
          "toString",
          "toLocaleString",
          "valueOf",
          "hasOwnProperty",
          "isPrototypeOf",
          "propertyIsEnumerable",
          "constructor",
        ]).length),
        function (e) {
          if ("function" != typeof e && ("object" != typeof e || null === e))
            throw new TypeError("Object.keys called on non-object");
          var t,
            n,
            a = [];
          for (t in e) i.call(e, t) && a.push(t);
          if (r) for (n = 0; o > n; n++) i.call(e, s[n]) && a.push(s[n]);
          return a;
        })),
      "function" != typeof Object.assign &&
        (Object.assign = function (e) {
          var t = arguments;
          if (null == e)
            throw new TypeError("Cannot convert undefined or null to object");
          for (var n = Object(e), i = 1; i < arguments.length; i++) {
            var r = t[i];
            if (null != r)
              for (var s in r)
                Object.prototype.hasOwnProperty.call(r, s) && (n[s] = r[s]);
          }
          return n;
        });
    var C = function (e) {
        var t = e.requestFn;
        (this._ua = ""),
          (this._uaURIEncoded = ""),
          (this.version = "1.6.3"),
          (this._hasCredentials = !1),
          (this.sendEvent = (function (e) {
            return function (t, n) {
              if (!this._userHasOptedOut) {
                if (!this._hasCredentials)
                  throw new Error(
                    "Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters"
                  );
                if ("" === n.userToken || "" === this._userToken)
                  throw new Error("`userToken` cannot be an empty string.");
                var i = n.userToken || this._userToken;
                if (u(i))
                  throw new Error(
                    "Before calling any methods on the analytics, you first need to call 'setUserToken' function or include 'userToken' in the event payload."
                  );
                if (!d(n.index))
                  throw new TypeError(
                    "expected required parameter `index` to be a string"
                  );
                if (!d(n.eventName))
                  throw new TypeError(
                    "expected required parameter `eventName` to be a string"
                  );
                if (!u(n.userToken) && !d(n.userToken))
                  throw new TypeError(
                    "expected optional parameter `userToken` to be a string"
                  );
                var r = {
                  eventType: t,
                  eventName: n.eventName,
                  userToken: i,
                  index: n.index,
                };
                if (!u(n.timestamp)) {
                  if (!p(n.timestamp))
                    throw new TypeError(
                      "expected optional parameter `timestamp` to be a number"
                    );
                  r.timestamp = n.timestamp;
                }
                if (!u(n.queryID)) {
                  if (!d(n.queryID))
                    throw new TypeError(
                      "expected optional parameter `queryID` to be a string"
                    );
                  r.queryID = n.queryID;
                }
                if (!u(n.objectIDs)) {
                  if (!Array.isArray(n.objectIDs))
                    throw new TypeError(
                      "expected optional parameter `objectIDs` to be an array"
                    );
                  r.objectIDs = n.objectIDs;
                }
                if (!u(n.positions)) {
                  if (!Array.isArray(n.positions))
                    throw new TypeError(
                      "expected optional parameter `positions` to be an array"
                    );
                  if (u(n.objectIDs))
                    throw new Error(
                      "cannot use `positions` without providing `objectIDs`"
                    );
                  if (n.objectIDs.length !== n.positions.length)
                    throw new Error(
                      "objectIDs and positions need to be of the same size"
                    );
                  r.positions = n.positions;
                }
                if (!u(n.filters)) {
                  if (!u(n.objectIDs))
                    throw new Error(
                      "cannot use `objectIDs` and `filters` for the same event"
                    );
                  if (!Array.isArray(n.filters))
                    throw new TypeError(
                      "expected optional parameter `filters` to be an array"
                    );
                  r.filters = n.filters;
                }
                if (u(n.objectIDs) && u(n.filters))
                  throw new Error(
                    "expected either `objectIDs` or `filters` to be provided"
                  );
                return (function (e, t, n, i, r, s) {
                  return e(
                    r +
                      "/1/events?X-Algolia-Application-Id=" +
                      t +
                      "&X-Algolia-API-Key=" +
                      n +
                      "&X-Algolia-Agent=" +
                      i,
                    {
                      events: s,
                    }
                  );
                })(
                  e,
                  this._appId,
                  this._apiKey,
                  this._uaURIEncoded,
                  this._endpointOrigin,
                  [r]
                );
              }
            };
          })(t).bind(this)),
          (this.init = function (e) {
            if (!e)
              throw new Error(
                "Init function should be called with an object argument containing your apiKey and appId"
              );
            if (u(e.apiKey) || !d(e.apiKey))
              throw new Error(
                "apiKey is missing, please provide it so we can authenticate the application"
              );
            if (u(e.appId) || !d(e.appId))
              throw new Error(
                "appId is missing, please provide it, so we can properly attribute data to your application"
              );
            if (!u(e.region) && -1 === m.indexOf(e.region))
              throw new Error(
                "optional region is incorrect, please provide either one of: " +
                  m.join(", ") +
                  "."
              );
            if (
              !(
                u(e.cookieDuration) ||
                (p(e.cookieDuration) &&
                  isFinite(e.cookieDuration) &&
                  Math.floor(e.cookieDuration) === e.cookieDuration)
              )
            )
              throw new Error(
                "optional cookieDuration is incorrect, expected an integer."
              );
            (this._apiKey = e.apiKey),
              (this._appId = e.appId),
              (this._userHasOptedOut = !!e.userHasOptedOut),
              (this._region = e.region),
              (this._endpointOrigin = e.region
                ? "https://insights." + e.region + ".algolia.io"
                : "https://insights.algolia.io"),
              (this._cookieDuration = e.cookieDuration
                ? e.cookieDuration
                : 6 * g),
              (this._hasCredentials = !0),
              (this._ua = f),
              (this._uaURIEncoded = encodeURIComponent(f)),
              !this._userHasOptedOut &&
                a() &&
                this.setUserToken(this.ANONYMOUS_USER_TOKEN);
          }.bind(this)),
          (this.initSearch = function (e) {
            if (!this._hasCredentials)
              throw new Error(
                "Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters"
              );
            if (!e)
              throw new Error(
                "initSearch function requires an argument with getQueryID and hitsContainer arguments"
              );
            if (!e.getQueryID || "function" != typeof e.getQueryID)
              throw new Error(
                "getQueryID must be a function that returns the queryID of the last search operation"
              );
            this.getQueryID = e.getQueryID;
          }.bind(this)),
          (this.addAlgoliaAgent = function (e) {
            -1 === this._ua.indexOf("; " + e) &&
              ((this._ua += "; " + e),
              (this._uaURIEncoded = encodeURIComponent(this._ua)));
          }.bind(this)),
          (this.ANONYMOUS_USER_TOKEN = w),
          (this.setUserToken = function (e) {
            if (e === w) {
              if (!a())
                throw new Error(
                  "Tracking of anonymous users is only possible on environments which support cookies."
                );
              var t = b(v);
              t && "" !== t && 0 === t.indexOf("anonymous-")
                ? (this._userToken = t)
                : ((this._userToken = "anonymous-" + _()),
                  y(v, this._userToken, this._cookieDuration));
            } else this._userToken = e;
            h(this._onUserTokenChangeCallback) &&
              this._onUserTokenChangeCallback(this._userToken);
          }.bind(this)),
          (this.getUserToken = function (e, t) {
            return h(t) && t(null, this._userToken), this._userToken;
          }.bind(this)),
          (this.onUserTokenChange = function (e, t) {
            (this._onUserTokenChangeCallback = e),
              t &&
                t.immediate &&
                h(this._onUserTokenChangeCallback) &&
                this._onUserTokenChangeCallback(this._userToken);
          }.bind(this)),
          (this.clickedObjectIDsAfterSearch = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to clickedObjectIDsAfterSearch function, please provide `queryID`,  `objectIDs` and `positions` to be reported"
              );
            if (!e.queryID)
              throw new Error(
                "required queryID parameter was not sent, click event can not be properly sent without"
              );
            if (!e.objectIDs)
              throw new Error(
                "required objectIDs parameter was not sent, click event can not be properly sent without"
              );
            if (!e.positions)
              throw new Error(
                "required positions parameter was not sent, click event can not be properly sent without"
              );
            this.sendEvent("click", e);
          }.bind(this)),
          (this.clickedObjectIDs = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to clickedObjectIDs function, please provide `objectIDs` to be reported"
              );
            if (!e.objectIDs)
              throw new Error(
                "required `objectIDs` parameter was not sent, click event can not be properly sent without"
              );
            this.sendEvent("click", e);
          }.bind(this)),
          (this.clickedFilters = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to clickedFilters function, please provide `filters` to be reported"
              );
            if (!e.filters)
              throw new Error(
                "required `filters` parameter was not sent, click event can not be properly sent without"
              );
            this.sendEvent("click", e);
          }.bind(this)),
          (this.convertedObjectIDsAfterSearch = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to convertedObjectIDsAfterSearch function, please provide `queryID` and `objectIDs` to be reported"
              );
            if (!e.queryID)
              throw new Error(
                "required queryID parameter was not sent, conversion event can not be properly sent without"
              );
            if (!e.objectIDs)
              throw new Error(
                "required objectIDs parameter was not sent, conversion event can not be properly sent without"
              );
            this.sendEvent("conversion", e);
          }.bind(this)),
          (this.convertedObjectIDs = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to convertedObjectIDs function, please provide `objectIDs` to be reported"
              );
            if (!e.objectIDs)
              throw new Error(
                "required objectIDs parameter was not sent, conversion event can not be properly sent without"
              );
            this.sendEvent("conversion", e);
          }.bind(this)),
          (this.convertedFilters = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to convertedFilters function, please provide `filters` to be reported"
              );
            if (!e.filters)
              throw new Error(
                "required filters parameter was not sent, conversion event can not be properly sent without"
              );
            this.sendEvent("conversion", e);
          }.bind(this)),
          (this.viewedObjectIDs = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to viewedObjectIDs function, please provide `objectIDs` to be reported"
              );
            if (!e.objectIDs)
              throw new Error(
                "required objectIDs parameter was not sent, view event can not be properly sent without"
              );
            this.sendEvent("view", e);
          }.bind(this)),
          (this.viewedFilters = function (e) {
            if (!e)
              throw new Error(
                "No params were sent to viewedFilters function, please provide `filters` to be reported"
              );
            if (!e.filters)
              throw new Error(
                "required filters parameter was not sent, view event can not be properly sent without"
              );
            this.sendEvent("view", e);
          }.bind(this)),
          (this._get = function (e, t) {
            t(this[e]);
          }.bind(this));
      },
      k = function (e, t) {
        var n = JSON.stringify(t);
        navigator.sendBeacon(e, n);
      },
      T = function (e, t) {
        var n = JSON.stringify(t),
          i = new XMLHttpRequest();
        i.open("POST", e), i.send(n);
      },
      E = n(
        (function () {
          if (l()) return k;
          if (c()) return T;
          throw new Error(
            "Could not find a supported HTTP request client in this environment."
          );
        })()
      );
    (e.createInsightsClient = n),
      (e["default"] = E),
      Object.defineProperty(e, "__esModule", {
        value: !0,
      });
  }),
  Class("AlgoliaAnalyticsClient")({
    TEMPLATE_INDEX: window.algoliaConfig.niceTemplatesIndex,
    FONTS_INDEX: window.algoliaConfig.niceFontsIndex,
    ASSET_INDEX: window.algoliaConfig.niceAssetsIndex,
    algolia: aa("init", {
      appId: window.algoliaConfig.appId,
      apiKey: window.algoliaConfig.readApiKey,
    }),
    identifyLoggedInUser: function (e) {
      aa("setUserToken", e);
    },
    sendClickEvent: function (e, t, n, i, r) {
      var s,
        o = Helpers.App.getUser(),
        a = {
          index: e || this.TEMPLATE_INDEX,
          eventName: t || "click_event",
          objectIDs: [i],
        };
      (s = "clickedObjectIDs"),
        n &&
          ((a.queryID = n),
          (a.positions = [r]),
          (s = "clickedObjectIDsAfterSearch")),
        o.id && (a.userToken = o.id.toString()),
        aa(s, a);
    },
    sendMulticontrolClickEvent: function (e, t, n) {
      this.sendClickEvent(this.ASSET_INDEX, "multicontrolClick", e, t, n);
    },
    sendStageClickEvent: function (e, t) {
      var n,
        i = window.algoliaQuery && window.algoliaQuery.queryId,
        r = window.algoliaQuery && window.algoliaQuery.IndexName;
      r &&
        ((n = "stageClick"),
        i && (n = "stageSearchClick"),
        this.sendClickEvent(r, n, i, e, t));
    },
    sendConversionEvent: function (e) {
      var t, n, i;
      (t = "convertedObjectIDs"),
        (i = {
          index: e.index,
          eventName: e.eventName,
          objectIDs: [e.objectID],
        }),
        (n = Helpers.App.getUser()),
        n.id && (i.userToken = n.id.toString()),
        e.queryID &&
          ((i.queryID = e.queryID), (t = "convertedObjectIDsAfterSearch")),
        aa(t, i);
    },
    sendStageConversionEvent: function (e, t, n) {
      var i;
      e &&
        ((i = {
          index: e,
          eventName: "stageConversion",
          objectID: t,
        }),
        n && ((i.eventName = "stageSearchConversion"), (i.queryID = n)),
        this.sendConversionEvent(i));
    },
  }),
  Module("AlgoliaAnalyticsSupport")({
    prototype: {
      _algoliaAnalyticsQuery: {},
      _setAlgoliaAnalyticsQueryFromUrl: function () {
        var e, t;
        (e = Helpers.App.getUrlParam("queryId")),
          e &&
            ((this._algoliaAnalyticsQuery.queryId = e),
            Helpers.App.replaceUrlParam("queryId", "")),
          (t = Helpers.App.getUrlParam("IndexName")),
          t &&
            ((this._algoliaAnalyticsQuery.indexName = t),
            Helpers.App.replaceUrlParam("IndexName", ""));
      },
      _getUrlWithAlgoliaAnalyticsQueryParams: function (e) {
        var t, n, i;
        return window.algoliaQuery
          ? ((t = e),
            (i = []),
            (t = Helpers.App.removeParams(["queryId", "IndexName"], t)),
            (n = t.indexOf("?") < 0 ? "?" : "&"),
            (t += n),
            window.algoliaQuery.queryId &&
              i.push("queryId=" + window.algoliaQuery.queryId),
            window.algoliaQuery.IndexName &&
              i.push("IndexName=" + window.algoliaQuery.IndexName),
            (t += i.join("&")))
          : e;
      },
      _setAlgoliaAnalyticsBindings: function () {
        var e, t;
        (e = this),
          (t = this.element.find("a")),
          t.bind("click", function () {
            var t;
            this.href &&
              window.algoliaQuery &&
              ((t = e._getUrlWithAlgoliaAnalyticsQueryParams(this.href)),
              (this.href = t));
          });
      },
      sendAlgoliaAnalyticsStageConversionEvent: function () {
        window._stageData &&
          window._stageData.stage_data &&
          AlgoliaAnalyticsClient.sendStageConversionEvent(
            this._algoliaAnalyticsQuery.indexName,
            window._stageData.stage_data.id,
            this._algoliaAnalyticsQuery.queryId
          );
      },
    },
  }),
  Module(
    Helpers,
    "Resolutions"
  )({
    _data: null,
    setActive: function (e) {
      (this._data = null), (this._data = e);
    },
    getActive: function () {
      return this._data;
    },
    _comp: !1,
    setIsComp: function (e) {
      this._comp = e;
    },
    isComp: function () {
      return this._getComp();
    },
    _getComp: function () {
      return this._comp;
    },
  }),
  Module(
    Helpers,
    "UserSegment"
  )({
    _handleGetSegment: function (e, t) {
      var n, i, r, s, o;
      (n = new Date()),
        e
          ? ((i = "noSegment"), (r = "true"), (s = 1))
          : ((i = "userSegment"), (r = t), (s = 3)),
        n.setTime(n.getTime() + 24 * s * 60 * 60 * 1e3),
        (o = n.toUTCString()),
        Helpers.UserSegment.removeCookies(),
        (document.cookie = i + "=" + r + ";expires=" + o + ";path=/");
    },
    request: function () {
      return $.get("/api/v2/analytics/segment").done(function (e) {
        Helpers.UserSegment.pingSegment(
          e.url,
          0,
          Helpers.UserSegment._handleGetSegment
        );
      });
    },
    getCookie: function (e) {
      for (
        var t = e + "=",
          n = decodeURIComponent(document.cookie),
          i = n.split(";"),
          r = 0;
        r < i.length;
        r++
      ) {
        for (var s = i[r]; " " == s.charAt(0); ) s = s.substring(1);
        if (0 == s.indexOf(t)) return s.substring(t.length, s.length);
      }
      return null;
    },
    getUserSegmentCookie: function () {
      return Helpers.UserSegment.getCookie("userSegment");
    },
    getUserLocationCookie: function () {
      return Helpers.UserSegment.getCookie("gtmc_user_location");
    },
    getNoSegmentCookie: function () {
      return Helpers.UserSegment.getCookie("noSegment");
    },
    pingSegment: function (e, t, n) {
      var i = function (i) {
          return i
            ? void n(!1, i)
            : 4 === t
            ? void n(!0)
            : void setTimeout(function () {
                Helpers.UserSegment.pingSegment(e, ++t, n);
              }, 1e3);
        },
        r = function (e, t, n) {
          Helpers.GlobalEventTracker.track("pingSegmentFailed", {
            response: e.responseText,
            status: t,
            error: n,
          });
        };
      return $.get(e).done(i).fail(r);
    },
    removeCookies: function () {
      $.removeCookie("userSegment", {
        path: "/",
      }),
        $.removeCookie("noSegment", {
          path: "/",
        });
    },
  }),
  Module(
    Helpers,
    "App"
  )({
    _user: null,
    _giftModal: null,
    _trackerId: null,
    _subscription: !1,
    _subscriptionPeriod: "monthly",
    _admin: !1,
    _purchases: !1,
    _stageTypes: {},
    _coupon: null,
    _nBookmarks: null,
    _CDNRoundRobin: 0,
    breakpoint: 1024,
    _pageType: {},
    _userUploadsBaseUrl: {
      development:
        "https://placeit-user-uploads-staging.s3-accelerate.amazonaws.com",
      staging:
        "https://placeit-user-uploads-staging.s3-accelerate.amazonaws.com",
      production: "https://placeit-user-uploads.s3-accelerate.amazonaws.com",
    },
    _subscribeFromModal: null,
    _nextLoginAction: null,
    _mobileHelpTextCounter: 0,
    _userType: {},
    getNextLoginAction: function () {
      return this._nextLoginAction;
    },
    setNextLoginAction: function (e) {
      this._nextLoginAction = e;
    },
    getSubscribeFromModal: function () {
      return this._subscribeFromModal;
    },
    setSubscribeFromModal: function (e) {
      this._subscribeFromModal = e;
    },
    getUserUploadsUrl: function () {
      return this._userUploadsBaseUrl[window.environment];
    },
    cdnBasePath: function () {
      return (
        (this._CDNRoundRobin = (this._CDNRoundRobin % 3) + 1),
        1 === this._CDNRoundRobin
          ? window.NICEV4_ASSETS.protocol +
            "://" +
            window.NICEV4_ASSETS.hostname.replace(/#/, "")
          : window.NICEV4_ASSETS.protocol +
            "://" +
            window.NICEV4_ASSETS.hostname.replace(
              /#/,
              "-" + this._CDNRoundRobin
            )
      );
    },
    niceProtocolHostname: function () {
      return this.cdnBasePath();
    },
    setTrackerId: function (e) {
      (this._trackerId = e),
        $.cookie("pl_tracker_id_v2", e, {
          path: "/",
          expires: 3650,
        });
    },
    getTrackerId: function () {
      return this._trackerId || $.cookie("pl_tracker_id_v2");
    },
    resetOldTrackerId: function () {
      $.cookie("pl_tracker_id", null);
    },
    setUser: function (e) {
      this._user = e;
    },
    getUser: function () {
      return this._user;
    },
    setBookmarksCount: function (e) {
      this._nBookmarks = e;
    },
    getBookmarksCount: function () {
      return this._nBookmarks;
    },
    setSubscription: function (e) {
      this._subscription = e;
    },
    getSubscription: function () {
      return this._subscription;
    },
    isSubscriptionValid: function () {
      return true; //this._subscription && this._subscription !== !1 && !this._subscription.is_paused && window.isPastDue !== !0
    },
    setAdmin: function (e) {
      this._admin = e;
    },
    isAdmin: function () {
      return this._admin;
    },
    setPurchases: function (e) {
      this._purchases = e;
    },
    hasPurchased: function () {
      return this._purchases;
    },
    isLoggedIn: function () {
      var e = document.cookie.match(/logged_session=([^;]+)/);
      return true; //null !== e && null !== this.getUser() && null !== this.getUser().email ? e[1] : !1
    },
    isWindows: function () {
      return !!window.navigator.userAgent.match(/windows/gi);
    },
    flashInstalled: function () {
      return !!navigator.mimeTypes["application/x-shockwave-flash"];
    },
    _getPurchases: function (e) {
      $.ajax({
        url: "/purchases/show",
        type: "get",
        dataType: "json",
        success: function (t) {
          t.subscriptions && Helpers.App.setSubscription(t.subscriptions),
            t.bulk_purchases && Registry.UserBulkPackages.set(t.bulk_purchases),
            t.credits && Registry.Credits.set(t.credits),
            t.account_data &&
              t.account_data.is_past_due &&
              ((window.isPastDue = !0),
              this._setAccountData(t.account_data),
              this.setupUpdateCardModal()),
            e(t);
        }.bind(this),
      });
    },
    getStageTypes: function () {
      return this._stageTypes;
    },
    getStageTypesByName: function (e) {
      var t = this.getStageTypes();
      for (var n in t) if (t.hasOwnProperty(n) && t[n].name === e) return t[n];
      return !1;
    },
    isHTTP: function () {
      return "http:" === window.location.protocol;
    },
    showPlansModal: function (e) {
      var t, n, i, r, s;
      if (
        ((t = window.location.host),
        (n = window.location.pathname),
        (i = this.isHTTP()),
        (r = "https://" + t + "/account?show_plans=true"),
        (s = window.location.href),
        "development" !== window.environment &&
          i &&
          Helpers.App.isLoggedIn() &&
          "/account" !== n)
      ) {
        var o, a, l;
        return (
          (r += "&referred=" + s),
          Helpers.StageType.getStageInfo() &&
            Helpers.StageType.isLiveImage() &&
            page.stage.queuedLiveimageData &&
            ((o = page.stage.queuedLiveimageData.remote_url),
            (a = page.stage.queuedLiveimageData.stage_id),
            (l = page.stage.queuedLiveimageData.background_id),
            (r += "&remote=" + o + "&stage=" + a + "&bg=" + l)),
          void (window.location = r)
        );
      }
      window.page.showSubscriptionPlans(e);
    },
    removeParam: function (e, t) {
      t = t || window.location.href;
      var n,
        i = t.split("?")[0],
        r = [],
        s = t.match(/([^(?)]*.)(.*)/)[2];
      if ("" !== s) {
        r = s.split("&");
        for (var o = r.length - 1; o >= 0; o -= 1)
          (n = r[o].split("=")[0]), n === e && r.splice(o, 1);
        i = r.length ? i + "?" + r.join("&") : i;
      }
      return i;
    },
    removeParams: function (e, t) {
      if (e.length) {
        for (var n = 0; n < e.length; n++) t = this.removeParam(e[n], t);
        return t;
      }
      return !1;
    },
    getParamTillEnd: function (e) {
      var t = !1,
        n = new RegExp(e + "=(.+)", "g"),
        i = n.exec(window.location.href);
      return i && (t = i[1]), t;
    },
    getUrlParam: function (e, t, n) {
      e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var i = this.getAllURLParams();
      i.stateId &&
        !t &&
        (t = [
          window.location.origin,
          window.location.pathname,
          window.history.state.data,
        ].join(""));
      var r = n ? "=([^()]*)" : "=([^(&|?)]*)",
        s = "[\\?&]" + e + r,
        o = new RegExp(s),
        a = o.exec(t || window.location.href);
      return null === a ? void 0 : decodeURIComponent(a[1].replace(/\+/g, " "));
    },
    getAllURLParams: function () {
      var e = {},
        t = this._getUrlParamsFromHref();
      return (e = t.stateId ? this._getUrlParamsFromState(t.stateId) : t);
    },
    _getUrlParamsFromHref: function () {
      return this._getParamsFromUrlSearchString(window.location.href);
    },
    _getUrlParamsFromState: function (e) {
      var t = {};
      return (
        Helpers.State.getParams(e) &&
          (t = this._getParamsFromUrlSearchString(window.history.state.data)),
        t
      );
    },
    _getParamsFromUrlSearchString: function (e) {
      var t,
        n = {},
        i = e.slice(e.indexOf("?") + 1).split("&");
      -1 === e.indexOf("?") && (i = []);
      for (var r = 0; r < i.length; r++)
        (t = i[r].split("=")),
          (n[decodeURIComponent(t[0])] = decodeURIComponent(t[1]));
      return n;
    },
    replaceUrlParam: function (e, t) {
      var n, i, r, s, o, a;
      (t = window.encodeURIComponent(t)),
        (a = Helpers.App.getUrlParam(e)),
        (n = window.location.href),
        (i = a ? e + "=" + a : ""),
        (r = t.length ? e + "=" + t : ""),
        (s = n.replace(i, r)),
        (s = Helpers.App.removeParam(e)),
        t.length > 0 && ((o = s.indexOf("?") < 0 ? "?" : "&"), (s = s + o + r));
      var l = this._getUrlParamsFromHref();
      return (
        l.stateId
          ? ((window.history.state.data = s),
            window.history.replaceState(
              window.history.state,
              Helpers.StageType.getStageSlug(),
              s
            ))
          : window.history.replaceState(
              {},
              Helpers.StageType.getStageSlug(),
              s
            ),
        this.handleCanonicality(),
        this
      );
    },
    _getNewStateId: function () {
      return (
        ((Date.parse(new Date().toUTCString()) / 1e3) | 0).toString(36) +
        ((16777215 * Math.random()) << 0).toString(16).substring(0, 4)
      );
    },
    replaceUrlParamWithHistory: function (e, t, n) {
      window.isMultiScene
        ? this._replaceUrlParamWithStateHistory(e, t, n)
        : this._replaceUrlParamWithHistory(e, t, n);
    },
    _replaceUrlParamWithHistory: function (e, t, n) {
      var i, r, s, o, a, l;
      return (
        (t = encodeURIComponent(t)),
        (l = Helpers.App.getUrlParam(encodeURIComponent(e))),
        (i = window.location.href),
        (r = l ? e + "=" + l : ""),
        (s = t.length || n ? e + "=" + t : ""),
        (o = i.replace(r, s)),
        (o = Helpers.App.removeParam(encodeURIComponent(e))),
        (t.length > 0 || n) &&
          ((a = o.indexOf("?") < 0 ? "?" : "&"), (o = o + a + s)),
        (l && l === t) ||
          window.history.pushState({}, Helpers.StageType.getStageSlug(), o),
        this
      );
    },
    _replaceUrlParamWithStateHistory: function (e, t, n) {
      var i, r, s, o, a, l;
      return (
        (i = ""),
        (i =
          window.history.state && window.history.state.data
            ? window.history.state.data
            : "?"),
        (l = Helpers.App.getUrlParam(encodeURIComponent(e), i)),
        (t = encodeURIComponent(t)),
        (r = l ? e + "=" + l : ""),
        (s = t.length || n ? e + "=" + t : ""),
        (o = i.replace(r, s)),
        (o = Helpers.App.removeParam(encodeURIComponent(e), i)),
        (t.length > 0 || n) &&
          ((a = o.indexOf("?") < 0 ? "?" : "&"), (o = o + a + s)),
        (l && l === t) || Helpers.State.setParams(o),
        this
      );
    },
    arrayUnique: function (e) {
      for (var t = e.concat(), n = 0; n < t.length; ++n)
        for (var i = n + 1; i < t.length; ++i)
          t[n] === t[i] && t.splice(i--, 1);
      return t;
    },
    arrayObjUnique: function (e, t) {
      var n = {},
        i = [];
      return (
        e.forEach(function (e) {
          n[e[t]] || (i.push(e), (n[e[t]] = !0));
        }),
        i
      );
    },
    sortObjAlphabetically: function (e, t) {
      function n(e, n) {
        var i = 0;
        return e[t] > n[t] ? (i = 1) : e[t] < n[t] && (i = -1), i;
      }
      return e.sort(n);
    },
    getMobileUrl: function (e, t) {
      var n = "";
      -1 !== e.indexOf("#") && (n = e.substring(e.indexOf("#"))),
        $.ajax({
          url: "/api/v1/base/parser",
          data: {
            user_agent: Helpers.StageType.getStageInfo().user_agent,
            admin: Helpers.App.isAdmin(),
            url: e,
          },
          success: function (e) {
            return t ? t(e + n) : !1;
          },
          error: function () {
            return t ? t("server error") : !1;
          },
        });
    },
    calcRuleOfThree: function (e, t, n) {
      return (e * t) / n;
    },
    displayGift: function () {
      var e, t;
      (this._giftModal = new UI.ShareModal({
        type: "gift",
      })),
        this._giftModal.updateInput("Generating URL...").loader(!0).activate(),
        $.ajax({
          url: "/users/generate_gift_link",
          type: "POST",
          context: this,
          success: function (t) {
            (e = location.protocol + "//" + location.host + "/gift/" + t),
              this._giftModal.updateInput(e).loader(!1),
              this._giftModal.loadShareSocialButtons(e);
          },
          error: function () {
            (t = "There was an error generating you coupon"),
              page.dispatch("coupon.update", t);
          },
        });
    },
    _setAccountData: function (e) {
      return (window.account = e), this;
    },
    getAccountInfo: function () {
      $.ajax({
        url: "/users/account_info",
        type: "POST",
        data: {},
        dataType: "json",
        success: function (e) {
          e.account_data &&
            e.account_data.is_past_due &&
            (Helpers.GlobalEventTracker.pastDueLogin(),
            (window.isPastDue = !0),
            this._setAccountData(e.account_data),
            Modals.Billing.showBillingUpdateOptionsModal(),
            page.flashPastDue());
        }.bind(this),
      });
    },
    checkPastDueStatus: function (e) {
      return (
        Modals.Billing.addSpinnerOnBillingOptions(),
        $.ajax({
          url: "/users/check_past_due_status",
          type: "POST",
          data: {},
          dataType: "json",
          success: function () {
            (window.isPastDue = !1),
              page.hidePastDueModal(),
              Modals.Billing.hideBillingUpdateOptionsModal(),
              "function" == typeof e.success && e.success(),
              Modals.Billing.hideBillingUpdateOptionsModal();
          },
          error: function () {
            "function" == typeof e.error
              ? e.error()
              : Modals.Billing.hideBillingUpdateOptionsModal().setupUpdateCardModal();
          },
        }),
        this
      );
    },
    tryToApplyInvoice: function (e) {
      return (
        Modals.Billing.addSpinnerOnBillingOptions(),
        $.ajax({
          url: "/users/try_to_apply_invoice",
          type: "POST",
          data: {},
          dataType: "json",
          success: function () {
            Helpers.GlobalEventTracker.appliedPastDueInvoice(),
              (window.isPastDue = !1),
              page.hidePastDueModal(),
              Modals.Billing.hideBillingUpdateOptionsModal(),
              "function" == typeof e.success && e.success(),
              Modals.Billing.hideBillingUpdateOptionsModal();
          },
          error: function () {
            Helpers.GlobalEventTracker.confirmRetryFailed(),
              "function" == typeof e.error
                ? e.error()
                : Modals.Billing.hideBillingUpdateOptionsModal().setupUpdateCardModal();
          },
        }),
        this
      );
    },
    sendEcommerceTransaction: function (e) {
      var t = {
          id: Helpers.App.getUser().id + "_" + e.invoice_number,
          affiliation: "Placeit",
          revenue: (parseInt(e.amount_in_cents, 10) / 100).toString(),
          tax: 0,
          shipping: 0,
          city: "",
          state: "",
          country: "",
          currency: window.currencyHelper.getLabel(
            window.recurlyConfig.currency
          ),
          sku: e.sku,
          name: e.productName,
          category: "",
          quantity: 1,
          discount: 0,
          coupon: "",
          variant:
            Helpers.StageType.getStageInfo().is_wide === !0 ? "wide" : "normal",
        },
        n = t;
      Helpers.GlobalEventTracker.identifyUser(),
        analytics.track("Completed Order", {
          orderId: n.id,
          total: n.revenue,
          revenue: n.revenue,
          shipping: n.shipping,
          tax: n.tax,
          discount: n.discount,
          coupon: n.coupon,
          currency: n.currency,
          repeat: !1,
          products: [
            {
              id: n.id,
              sku: n.sku,
              name: n.name,
              price: n.revenue,
              quantity: n.quantity,
              category: n.category,
              variant: n.variant,
            },
          ],
        });
    },
    sendEnvatoTracking: function (e) {
      if (
        "production" === window.environment ||
        void 0 !== window.enableEnvatoEvents
      ) {
        var t = {
          id: Helpers.App.getUser().id + "_" + e.orderId,
          revenue: (parseInt(e.subtotal, 10) / 100).toString(),
          currency: window.currencyHelper.getLabel(
            window.recurlyConfig.currency
          ),
          sku: e.sku,
          name: e.productName,
          category: e.category,
          customerId: e.customerId,
          quantity: 1,
          trackingCode: e.trackingCode,
        };
        ire("trackConversion", t.trackingCode, {
          orderId: t.id,
          customerId: t.customerId,
          currencyCode: t.currency,
          items: [
            {
              subTotal: t.revenue,
              category: t.category,
              sku: t.sku,
              quantity: t.quantity,
            },
          ],
        });
      }
    },
    sendEnvatoSignUp: function (e) {
      ("production" === window.environment ||
        void 0 !== window.enableEnvatoEvents) &&
        ire("trackConversion", e.trackingCode, {
          customerId: e.customerId,
          orderId: e.customerId + "_" + e.envatoId,
        });
    },
    generateUid: (function () {
      var e = function (t) {
        var n, i, r, s;
        for (t = t || 32, i = "", r = 0, s = 14, n = 0; t > n; n++)
          i += e.codes[Math.floor(Math.random() * (s - r + 1)) + r];
        return i;
      };
      return (
        (e.codes = [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          "a",
          "b",
          "c",
          "d",
          "e",
          "f",
        ]),
        e
      );
    })(),
    handleCanonicality: function () {
      var e,
        t,
        n,
        i = $('link[rel="canonical"]');
      return (
        (n = window._pl_restricted_params.some(function (e) {
          return window.location.href.indexOf(e) > -1;
        })),
        n === !0
          ? ((t =
              window._pl_host +
              (window._pl_isRootCategory ? "" : window._pl_categoryPath)),
            Helpers.StageType.getStageInfo() !== !1 &&
              ((e = Helpers.StageType.getStageInfo().slug),
              (t = t + "/stages/" + e)),
            0 === i.length &&
              (i = $('<link rel="canonical">').appendTo(document.head)),
            i.attr("href") !== t && i.attr("href", t))
          : i.remove(),
        this
      );
    },
    getFiltersInUrl: function () {
      var e, t, n, i, r;
      return (
        (i = Helpers.StageType.getFilterNames()),
        (r = {}),
        (e = Helpers.App.getUrlParam(i.types)),
        (t = Helpers.App.getUrlParam(i.devices)),
        (n = Helpers.App.getUrlParam(i.tags)),
        "undefined" != typeof e && (r[i.types] = e.split(",")),
        "undefined" != typeof t && (r[i.devices] = t.split(",")),
        "undefined" != typeof n && (r[i.tags] = n.split(",")),
        r
      );
    },
    setCoupon: function (e) {
      return e && (this._coupon = Helpers.CouponHelper.load(e)), this;
    },
    getCoupon: function () {
      return (this._coupon = Helpers.CouponHelper.getCoupon()), this._coupon;
    },
    isIOSSafari: function () {
      var e = window.navigator.userAgent,
        t = Helpers.App.isIOS(e),
        n = !!e.match(/WebKit/i),
        i = t && n && !e.match(/CriOS/i);
      return i;
    },
    isIOS: function (e) {
      var t = !!e.match(/iPad/i) || !!e.match(/iPhone/i) || this.isIpadPro();
      return t;
    },
    isIpadPro: function () {
      var e = window.navigator;
      return !!(
        e.maxTouchPoints &&
        e.maxTouchPoints > 2 &&
        /MacIntel/.test(e.platform)
      );
    },
    getClientWidth: function () {
      var e = window,
        t = document,
        n = t.documentElement,
        i = t.getElementsByTagName("body")[0],
        r = e.innerWidth || n.clientWidth || i.clientWidth;
      return r;
    },
    isMobile: function () {
      var e = Helpers.App.getUrlParam("b"),
        t = e || this.breakpoint,
        n = this.getClientWidth();
      return t >= n ? !0 : !1;
    },
    isMobileDevice: function () {
      var e = !1,
        t = navigator.userAgent || navigator.vendor || window.opera;
      return (
        (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|ipad|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(
          t
        ) ||
          /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
            t.substr(0, 4)
          )) &&
          (e = !0),
        e
      );
    },
    filterForbiddenStages: function (e) {
      return e && e instanceof Array
        ? (e = e.filter(function (e) {
            return [1, 2, 6, 9, 10, 11, 12].indexOf(e.image_type) > -1 ||
              (3 === e.image_type && !e.has_hand)
              ? !0
              : !1;
          }))
        : [];
    },
    hasBulkPackage: function () {
      return window._pl_hasBulkPackage;
    },
    logout: function () {
      var e = this;
      $.ajax({
        url: "/logout",
        type: "GET",
        dataType: "json",
        beforeSend: function (e) {
          e.setRequestHeader(
            "X-CSRF-Token",
            $('meta[name="csrf-token"]').attr("content")
          );
        },
      })
        .done(function (t) {
          e._handleLogoutResponse(null, t);
        })
        .fail(function (t) {
          e._handleLogoutResponse(t);
        });
    },
    _handleLogoutResponse: function (e, t) {
      if (e) throw "Logout Error: " + e;
      Helpers.CouponHelper.remove(),
        Helpers.UserSegment.removeCookies(),
        t.requires_sso_logout
          ? this._ssoLogout()
          : (window.location.href = "/");
    },
    _ssoLogout: function () {
      var e = function () {
          var e = {
            error: !1,
            type: "event",
            message: "Logged out from Envato SSO successful",
          };
          Helpers.GlobalEventTracker.ssoTrack("sso.ssoLoggedOut", e),
            (window.location.href = "/");
        },
        t = function (e) {
          console.log("Failed to logout at SSO: " + e);
        },
        n = function (e) {
          throw "SSO Error signing out from SSO: " + e;
        };
      window.envatoSso.signOut({
        onSuccess: e,
        onFailure: t,
        onError: n,
      });
    },
    isCustomExperience: function () {
      return (
        "object" == typeof window.experience &&
        /custom_experiences|no_results/.test(window.pageType.type)
      );
    },
    isCustomPage: function () {
      return "custom_pages" === window.pageType.type;
    },
    debounce: function (e, t, n) {
      var i;
      return function () {
        var r = this,
          s = arguments,
          o = function () {
            (i = null), n || e.apply(r, s);
          },
          a = n && !i;
        clearTimeout(i), (i = setTimeout(o, t)), a && e.apply(r, s);
      };
    },
    countArrayItems: function (e) {
      return e.filter(function (e) {
        return null !== e && void 0 !== e;
      }).length;
    },
    updateEmailNotifications: function (e, t, n) {
      void 0 === e.download_email_notifications &&
        (e.download_email_notifications =
          this._user.downloadEmailNotifications),
        void 0 === e.placeit_promotion_notifications &&
          (e.placeit_promotion_notifications =
            this._user.placeitPromotionNotifications),
        void 0 === e.product_update_notifications &&
          (e.product_update_notifications =
            this._user.productUpdateNotifications),
        void 0 === e.feedback_request_notifications &&
          (e.feedback_request_notifications =
            this._user.feedbackRequestNotifications);
      var i = this;
      $.ajax({
        url: "/email_lists/update_notifications",
        type: "POST",
        data: {
          user: e,
        },
        dataType: "json",
        beforeSend: function (e) {
          e.setRequestHeader(
            "X-CSRF-Token",
            $('meta[name="csrf-token"]').attr("content")
          );
        },
      })
        .done(function (e) {
          (i._user.downloadEmailNotifications = e.download_email_notifications),
            (i._user.placeitPromotionNotifications =
              e.placeit_promotion_notifications),
            (i._user.productUpdateNotifications =
              e.product_update_notifications),
            (i._user.feedbackRequestNotifications =
              e.feedback_request_notifications),
            "function" == typeof t && t(e);
        })
        .fail(function (e) {
          "function" == typeof n && n(e);
        });
    },
    getEnvironment: function () {
      var e = location.hostname.split(".")[0];
      switch (e) {
        case "staging":
        case "staging2":
        case "staging3":
          return e;
        case "placeit":
          return "production";
        default:
          return "development";
      }
    },
    pageName: function (e) {
      return (
        (window.pageType.type = e || window.pageType.type), window.pageType.type
      );
    },
    pageType: function () {
      return (
        (this._pageType = window.pageType),
        (this._pageType.header_type = window.headerType),
        this._pageType
      );
    },
    isLogoPage: function () {
      return window.pageType ? "logos" === window.pageType.category : !1;
    },
    elementFixedOnScroll: function (e, t) {
      var n =
        window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        window.oRequestAnimationFrame;
      n(function () {
        return 0 === e.length
          ? !1
          : (t || (t = 0),
            void (void 0 === e.data("original-position-top") &&
            e.offset().top - t <= $(window).scrollTop()
              ? (e.addClass("f-scrolling"),
                e.data("original-position-top", e.offset().top))
              : $(window).scrollTop() < e.data("original-position-top") - t &&
                (e.scrollTop(0),
                e.removeClass("f-scrolling"),
                e.removeData("original-position-top"))));
      });
    },
    getEUCountries: function () {
      return [
        "AT",
        "BE",
        "BG",
        "CY",
        "CZ",
        "DK",
        "EE",
        "ES",
        "FI",
        "FR",
        "DE",
        "GB",
        "GR",
        "HU",
        "IE",
        "IT",
        "LV",
        "LT",
        "LU",
        "MT",
        "NL",
        "PL",
        "PT",
        "RO",
        "SE",
        "SI",
        "SK",
        "HR",
        "AU",
      ];
    },
    setSubscriptionPeriod: function (e) {
      (this._subscriptionPeriod = e),
        window.page &&
          window.page.account &&
          window.page.account.subscriptionsPartialBlock &&
          page.account.subscriptionsPartialBlock.setPeriod(e, !0);
    },
    getSubscriptionPeriod: function () {
      return this._subscriptionPeriod;
    },
    getLayerFromRecordByName: function (e, t) {
      return t && Array.isArray(t.layers) !== !1
        ? t.layers.filter(function (t) {
            return t.name.toLowerCase().trim() === e;
          })[0]
        : null;
    },
    getFileNameFromURI: function (e) {
      return e.split("/").pop();
    },
    extractNumbersFromString: function (e) {
      return e.match(/[+-]?\d+(?:\.\d+)?/g).map(Number);
    },
    clamp: function (e, t, n) {
      return Math.min(Math.max(e, t), n);
    },
    isDownloadIphoneFlowAvailable: function () {
      var e = !navigator.userAgent.match(/iPhone|iPad|iPod/i) == !1,
        t = !navigator.userAgent.match(/OS 12_/) == !1;
      return e && t;
    },
    setIOSVideoDownloadInstructionsCookie: function () {
      $.cookie("iOSVideoDownloadInstructionsCompleted", !0, {
        expires: 365,
        path: "/",
      });
    },
    getIOSVideoDownloadInstructionsCookie: function () {
      return "true" === $.cookie("iOSVideoDownloadInstructionsCompleted")
        ? !0
        : !1;
    },
    shortcutInstructionsModal: function () {
      new UI.ShortcutFlow({
        steps: [
          UI.ShortcutInstruction1,
          UI.ShortcutInstruction2,
          UI.ShortcutInstruction3,
          UI.ShortcutInstruction4,
          UI.ShortcutInstruction5,
        ],
      }).activate();
    },
    shortcutDownloadModal: function (e, t) {
      new UI.ShortcutFlow({
        steps: [
          UI.ShortcutInstruction1,
          UI.ShortcutInstruction2,
          UI.ShortcutInstruction3,
          UI.ShortcutInstruction4,
          UI.ShortcutDownloadStep,
        ],
        videoDownloadURL: e,
        videoPreviewURL: t,
      }).activate();
    },
    getSlugFromStageURL: function (e, t) {
      var n = t ? e.replace("/?", "?") : e.split("?")[0];
      return n.substring(n.lastIndexOf("/") + 1);
    },
    setRepositionButtonPopoverCookie: function (e) {
      $.cookie(e + "RepositionButtonPopoverShowed", !0, {
        expires: 3650,
        path: "/",
      });
    },
    getRepositionButtonPopoverCookie: function (e) {
      return "true" === $.cookie(e + "RepositionButtonPopoverShowed") ? !0 : !1;
    },
    shouldPreferVideoAsset: function (e) {
      return Helpers.StageType.isVideoV4() && e.hasAnimated ? !0 : !1;
    },
    removeFocusFromAllInputs: function () {
      var e = $("input:focus");
      return e.blur(), e;
    },
    getMobileHelpTextCounter: function () {
      return this._mobileHelpTextCounter;
    },
    setMobileHelpTextCounter: function (e) {
      var t = e || 1;
      this._mobileHelpTextCounter += t;
    },
    formatTime: function (e, t) {
      var n, i, r, s;
      return (
        (n = []),
        (i = Math.floor(e / 3600)),
        (r = Math.floor((e % 3600) / 60)),
        (s = Math.floor(e % 60)),
        i > 0 && (n.push(i), 10 > r && (r = "0" + r)),
        10 > s && (s = "0" + s),
        n.push(r),
        n.push(s),
        n.join(t)
      );
    },
    sanitizeControlCharacters: function () {
      var e = /(?![\x09\x0A\x0D])[\x00-\x1F]/g;
      return function (t) {
        return t.replace(e, "");
      };
    }.call(),
    loadVideoData: function (e, t) {
      var n;
      (n = document.createElement("video")),
        (n.preload = "metadata"),
        (n.onloadedmetadata = function () {
          URL.revokeObjectURL(n.src),
            t({
              duration: n.duration,
              height: n.videoHeight,
              url: e,
              width: n.videoWidth,
            });
        }),
        (n.src = e);
    },
    calcScalingFactor: function (e, t) {
      var n = t.width * t.width + t.height * t.height,
        i = e.width * e.width + e.height * e.height;
      return 0 === i ? null : Math.sqrt(n / i);
    },
    calcScaledArea: function (e, t) {
      return {
        name: e.name,
        width: e.width * t,
        height: e.height * t,
        y: e.y * t,
        x: e.x * t,
      };
    },
    getEngine: function () {
      return null === window.engine || void 0 === window.engine
        ? null
        : window.engine;
    },
    getProductShownData: function () {
      var e = {};
      return (
        (e.stageTags = Helpers.StageType.getStageTags()),
        (e.resultUrl = window.location.href),
        (e.eventAction = "result.shown"),
        window._stageData &&
          window._stageData.stage_data &&
          window._stageData.stage_data.image_type &&
          (e.eventCategory =
            Helpers.StageType._types[window._stageData.stage_data.image_type]),
        e
      );
    },
    matchInitialAssets: function (e) {
      return window.initialAssets && window.initialAssets.id === e ? !0 : !1;
    },
    checkAssetsDataCached: function (e) {
      try {
        if (null === window.initialAssets) return;
        Helpers.App.matchInitialAssets(e) === !1 &&
          Helpers.GlobalEventTracker.noticeError("Get cached data error", {
            message: "Stage id does not match",
            initialAssetsId: window.initialAssets && window.initialAssets.id,
          });
      } catch (t) {
        Helpers.GlobalEventTracker.noticeError("Get cached data error", t);
      }
    },
    getNetworkData: function () {
      var e =
        navigator.connection ||
        navigator.mozConnection ||
        navigator.webkitConnection;
      return e
        ? {
            downlink: e.downlink,
            effectiveType: e.effectiveType,
            rtt: e.rtt,
            saveData: e.saveData,
          }
        : {};
    },
    getUserLocation: function () {
      return $.cookie("gtmc_user_location");
    },
    getOverflow: function (e, t, n) {
      var i = {},
        r = n || 0;
      return (
        t.top < r
          ? (i.top = r - t.top)
          : t.top + t.height > e.height - r &&
            (i.bottom = t.top + t.height - e.height + r),
        t.left < r
          ? (i.left = r - t.left)
          : t.left + t.width > e.width - r &&
            (i.right = t.left + t.width - e.width + r),
        i
      );
    },
    parseBoolean: function (e) {
      return ("string" == typeof e && "true" === e) || e === !0 || 1 === e
        ? !0
        : !1;
    },
    setUserType: function (e) {
      this._userType = e || {};
    },
    getUserType: function () {
      return this._userType;
    },
    getCookie: function (e) {
      var t = document.cookie.match("(^|;) ?" + e + "=([^;]*)(;|$)");
      return t ? t[2] : "";
    },
    isDevMode: function () {
      return !!window.devMode;
    },
    getMobileControlsModalState: function () {
      return this._floatingContainerState;
    },
    setMobileControlsModalState: function (e) {
      this._floatingContainerState = e;
    },
    isMinChromeVersion: function (e) {
      var t = navigator.userAgent,
        n = 0;
      return (
        (n = t.indexOf("Chrome")),
        -1 !== n ? t.substring(n + 7, n + 9) >= e : !1
      );
    },
    isBase64Image: function (e) {
      var t = /^data:(.*?);base64,(.*)$/.exec(e);
      return null === t ? !1 : !0;
    },
  }),
  Module(
    Helpers,
    "StageType"
  )({
    _types: {
      1: "still",
      2: "multi-stage",
      3: "blender",
      5: "workflow",
      6: "wide-still",
      7: "liveImage",
      8: "video",
      9: "psd",
      10: "multicolor",
      11: "video-product",
      12: "ios-screenshot",
      13: "smart-template",
      14: "ae_video_replacement",
      15: "fusion_video",
    },
    _filterNames: {
      types: "f_types",
      devices: "f_devices",
      tags: "f_tags",
    },
    _stageInfo: null,
    _backgroundInfo: null,
    _isYouTubeUpload: !1,
    _isHorizontallyFlipped: !1,
    _structureInstance: null,
    _blanksCanvasStageSlug: "blank-canvas-designs",
    _designCategoryName: "Design Templates",
    setStageInfo: function (e) {
      (this._stageInfo = e),
        (window._stageData.stage_data.custom_price = window._stagePrice);
    },
    setStageId: function (e) {
      this._stageInfo.id = e;
    },
    setAlternatives: function (e) {
      this._hasAlternatives = e;
    },
    getFilterNames: function () {
      return this._filterNames;
    },
    getStageInfo: function () {
      return this._stageInfo || !1;
    },
    getStageID: function () {
      return this.getStageData().id;
    },
    getRecordId: function () {
      return this.getStageData().smart_object_v4_id;
    },
    getStageSlug: function () {
      return this.getStageInfo().slug;
    },
    getStageType: function () {
      var e = this.getStageInfo().image_type;
      return this._types[e];
    },
    getStageName: function (e) {
      var t = e;
      return this._types[t];
    },
    getCategoryName: function () {
      return this.getStageData().category_name;
    },
    getTags: function () {
      return this.getStageData().tags;
    },
    getStageData: function () {
      return window._stageData && window._stageData.stage_data
        ? window._stageData.stage_data
        : {};
    },
    getStageTags: function () {
      var e, t;
      return (
        (t = []),
        (e =
          Helpers.StageType.getStageInfo().tags ||
          Helpers.StageType.getStageData().tags),
        e &&
          e.forEach(function (e) {
            t.push(e.name.toLowerCase());
          }),
        t.join()
      );
    },
    setBackgroundInfo: function (e) {
      (this._backgroundInfo = e),
        null !== e &&
          e.tags instanceof Array &&
          (this._backgroundInfo.transparent = e.tags.some(function (e) {
            return "transparent" === e.name.toLowerCase();
          }));
    },
    getBackgroundInfo: function () {
      return this._backgroundInfo;
    },
    getBackgroundID: function () {
      var e = this.getBackgroundInfo();
      return e && (e = e.id), e;
    },
    getBackgroundOrColorID: function () {
      var e, t;
      return (
        (e = this.getBackgroundInfo()),
        (t = Helpers.App.getUrlParam("color")),
        e ? (e = e.id) : t && (e = t),
        e
      );
    },
    _productshotInfo: null,
    _productshotID: null,
    _videoProcessID: null,
    _videoProductUUID: null,
    setProductshotInfo: function (e) {
      this._productshotInfo = e;
    },
    getProductshotInfo: function () {
      return this._productshotInfo;
    },
    setProductshotID: function (e) {
      this._productshotID = e;
    },
    getProductshotID: function () {
      return this._productshotID;
    },
    setVideoProcessID: function (e) {
      this._videoProcessID = e;
    },
    getVideoProcessID: function () {
      return this._videoProcessID;
    },
    setVideoProductUUID: function (e) {
      this._videoProductUUID = e;
    },
    getVideoProductUUID: function () {
      return this._videoProductUUID;
    },
    getProductshotURL: function () {
      return (
        location.protocol +
        "//" +
        location.host +
        "/" +
        this.getProductshotInfo().hsh
      );
    },
    isFree: function () {
      {
        var e = !1,
          t = this.getStageInfo();
        Helpers.App.getSubscription();
      }
      return t && (e = t.is_free), e || Helpers.App.isAdmin();
    },
    hasVector: function () {
      var e = !1,
        t = this.getStageInfo();
      return t && (e = t.has_vector), e;
    },
    isStillshot: function () {
      return 1 === window._stageData.stage_data.image_type;
    },
    isWideStillshot: function () {
      return 6 === window._stageData.stage_data.image_type;
    },
    isRealshot: function () {
      var e = this.getStageInfo(),
        t = e && 5 === e.image_type;
      return t;
    },
    isBlender: function () {
      return 3 === window._stageData.stage_data.image_type;
    },
    hasGesture: function () {
      return this.getStageInfo().has_hand;
    },
    isBlenderGesture: function () {
      return this.isBlender() && this.hasGesture();
    },
    isLiveImage: function () {
      return 7 === this.getStageInfo().image_type;
    },
    isFusionVideo: function () {
      return 15 === this.getStageInfo().image_type;
    },
    isStageWide: function () {
      return null !== this.getStageInfo() && this.getStageInfo().is_wide === !0;
    },
    isBackgroundWide: function () {
      return (
        null !== this.getBackgroundInfo() &&
        this.getBackgroundInfo().is_wide === !0
      );
    },
    isWide: function () {
      return this.isStageWide() || this.isBackgroundWide();
    },
    isMultiStage: function () {
      return 2 === window._stageData.stage_data.image_type;
    },
    isTransparentStage: function () {
      var e,
        t,
        n = Helpers.StageType.isFree(),
        i = Helpers.StageType.getBackgroundInfo();
      return (
        (t = Helpers.StageType._isTransparentBackground()),
        i && t && n === !1
          ? !0
          : ((e = Helpers.StageType.isTransparent()),
            i && !t && e ? !1 : Helpers.StageType.isTransparent() ? !0 : !1)
      );
    },
    isIOSScreenshot: function () {
      return 12 === window._stageData.stage_data.image_type;
    },
    isSmartTemplate: function () {
      return (
        13 === window._stageData.stage_data.image_type ||
        17 === window._stageData.stage_data.image_type
      );
    },
    isCropperTool: function () {
      return 17 === window._stageData.stage_data.image_type;
    },
    isPsd: function () {
      return 9 == this.getStageInfo().image_type;
    },
    isMulticolor: function () {
      return this.getStageInfo() && 10 == this.getStageInfo().image_type;
    },
    isVideoV4: function () {
      return this.getStageInfo() && 15 == this.getStageInfo().image_type;
    },
    isTool: function () {
      return Boolean(this.getStageData().tool_name);
    },
    isToolName: function (e) {
      var t = this.getStageData().tool_name;
      return this.isTool() && e === t ? !0 : !1;
    },
    isLogo: function () {
      return (
        this.getStageInfo() && "Logos" === this.getStageInfo().category_name
      );
    },
    isMultiSelect: function () {
      return this.getStageType()
        ? this.getStageType().indexOf("still") >= 0
        : !1;
    },
    isShareable: function () {
      return (
        this.getStageType() &&
        (this.isStillshot() || this.isWideStillshot() || this.isBlender())
      );
    },
    hasVideoDiscount: function () {
      return this.getStageInfo().has_discount;
    },
    hasAlternatives: function () {
      return this._hasAlternatives;
    },
    isYouTubeUpload: function () {
      return this._isYouTubeUpload;
    },
    setYouTubeUploadFlag: function (e) {
      return (this._isYouTubeUpload = e), this;
    },
    setFlippedState: function (e) {
      return (this._isHorizontallyFlipped = e), this;
    },
    isHorizontallyFlipped: function () {
      return this._isHorizontallyFlipped;
    },
    isTransparent: function () {
      return this.getStageInfo().is_transparent === !0;
    },
    _isTransparentBackground: function () {
      var e = Helpers.StageType.getBackgroundInfo();
      return e && e.is_transparent;
    },
    getNiceBackgroundID: function () {
      return this._stageInfo.background_id;
    },
    getNiceFileID: function () {
      return this._stageInfo.file_id;
    },
    setNiceBackgroundID: function (e) {
      return (this._stageInfo.background_id = e), this;
    },
    setNiceFileID: function (e) {
      var t = "";
      return (
        (t = /"/.test(e) ? e.match(/"(.*?)"/)[1] : e),
        (this._stageInfo.file_id = t),
        this
      );
    },
    getNiceCaptionMetadata: function () {
      return this._stageInfo.nice_caption_metadata;
    },
    setNiceCaptionMetadata: function (e) {
      return (this._stageInfo.nice_caption_metadata = e), this;
    },
    setNiceImage: function (e) {
      return (this._stageInfo.nice_image = e), this;
    },
    getNiceImage: function () {
      return this._stageInfo.nice_image;
    },
    setDesignPlan: function (e) {
      return (this._stageInfo.designPlan = e), this;
    },
    getDesignPlan: function () {
      return this._stageInfo.designPlan;
    },
    setStructureInstance: function (e) {
      this._structureInstance = new Structure({
        tree: e,
      });
    },
    getStructureInstance: function () {
      return this._structureInstance;
    },
    getStructureGraphics: function () {
      return this._structureInstance.tree.layers;
    },
    setPreviewImage: function (e) {
      return (this._stageInfo.previewImage = e), this;
    },
    getPreviewImage: function () {
      var e = this;
      if (window.engine) {
        window.engine._deactivateInteractions(), window.engine._refresh();
        var t = window.engine.getImage();
        return (t = t.replace(/^data:(.*?);base64,/, "")), Promise.resolve(t);
      }
      if (this._stageInfo.previewImage)
        return Promise.resolve(this._stageInfo.previewImage);
      var n = function (e) {
          return (
            (e = e + "?_timestamp=" + Date.now()),
            new Promise(function (t, n) {
              var i = new XMLHttpRequest();
              i.open("GET", e, !0),
                (i.responseType = "blob"),
                (i.onload = function () {
                  var e = new FileReader();
                  e.readAsDataURL(i.response),
                    (e.onload = function (e) {
                      t(e.target.result);
                    });
                }),
                (i.onerror = function (e) {
                  n(e);
                }),
                i.send();
            })
          );
        },
        i =
          page.stage._cdnBasePath() +
          "/smart_templates/" +
          page.stage.smart_object_id +
          "/" +
          page.stage.record.previewImage.value;
      return n(i)
        .then(function (t) {
          return (
            (e._stageInfo.previewImage = t.split(",")[1]),
            e._stageInfo.previewImage
          );
        })
        ["catch"](function (e) {
          return {
            error: JSON.stringify(e),
            message: "Something went wrong fetching the image.",
            url: i,
          };
        });
    },
    getCustomPrice: function () {
      return this.getStageInfo().custom_price;
    },
    getMaxUserAddedTexts: function () {
      return this.getStageInfo().max_user_added_texts || 0;
    },
    getMaxUserAddedGraphics: function () {
      return this.getStageInfo().max_user_added_graphics || 0;
    },
    getAddGraphicAssetGroup: function () {
      return this.getStageInfo().add_graphic_asset_group;
    },
    getStageRecordId: function () {
      var e = window.page && window.page.stage,
        t = e && e.record;
      return t && t.id ? t.id : null;
    },
    getTheme: function () {
      return new Promise(function (e, t) {
        Helpers.App.isAdmin() === !0 && e(ThemeSupport.ADMIN),
          Helpers.App.getSubscription() && e(ThemeSupport.SUBSCRIBED);
        try {
          var n = Helpers.Price.stage(
            Helpers.PremiumAssetsValidator.getStageInfo()
          );
          n.price.then(function (t) {
            0 === t && e(ThemeSupport.FREE),
              n.priceWithDiscount.then(function (t) {
                e(0 === t ? ThemeSupport.FREE : ThemeSupport.PAID);
              });
          });
        } catch (i) {
          t(i);
        }
      });
    },
    isBlankCanvasStage: function () {
      return (
        this.getStageSlug() &&
        this.getStageSlug() === this._blanksCanvasStageSlug &&
        this.isDesignCategory()
      );
    },
    isDesignCategory: function () {
      return (
        this.getCategoryName() &&
        this.getCategoryName() === this._designCategoryName
      );
    },
  }),
  Module(
    Helpers,
    "Price"
  )({
    stage: function (e) {
      var t = Helpers.Price._checkStageInfo(e);
      if (t === !1) throw new Error("Incorrect stage info object.");
      var n = Helpers.App.getSubscription(),
        i = {
          price: Promise.resolve(0),
          priceWithDiscount: Promise.resolve(0),
        };
      if (n && !n.is_paused) return i;
      if (e.is_free || Helpers.App.isAdmin()) return i;
      var r = 14,
        s = 2;
      15 === e.image_type && ((r = 11), (s = 3));
      var o = e.custom_price;
      o || (o = window.packages[r + ":" + s]);
      var a = Helpers.Price._applyCoupon(o);
      return {
        price: Promise.resolve(o),
        priceWithDiscount: Promise.resolve(a),
      };
    },
    plan: function t(t) {
      return Helpers.Price._getPlanPrice(t);
    },
    monthlyPlan: function () {
      var e;
      return (
        (e = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY)),
        Helpers.Price._getPlanPrice(e)
      );
    },
    annualPlan: function () {
      var e;
      return (
        (e = Registry.Plans.get(Registry.Plans.PLAN_ANNUAL)),
        Helpers.Price._getPlanPrice(e)
      );
    },
    tax: function (e, t, n) {
      return new Promise(function (i, r) {
        recurly.tax(
          {
            tax_code: "digital",
            vat_number: n,
            country: e,
          },
          function (e, n) {
            var s;
            return null !== e
              ? void r(e)
              : ((s = Helpers.Price._calculateTax(t, n)), void i(s));
          }
        );
      });
    },
    _getPlanPrice: function (e) {
      var t, n, i;
      return (
        (i = Helpers.App.getSubscription()),
        (t = e.amount_in_cents / 100),
        (n = i ? Promise.resolve(t) : Helpers.Price._applyCouponToPlan(e, t)),
        {
          price: Promise.resolve(t),
          priceWithDiscount: n,
        }
      );
    },
    _applyCoupon: function (e) {
      var t;
      return null === Helpers.CouponHelper.getCode()
        ? Promise.resolve(e)
        : Helpers.CouponHelper.isValid() === !1
        ? Promise.resolve(e)
        : Helpers.CouponHelper.isValid()
        ? Helpers.CouponHelper.applyTo(
            Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
          )
          ? ((t = Helpers.CouponHelper.calculatePrice(e)), Promise.resolve(t))
          : Promise.resolve(e)
        : new Promise(function (n) {
            var i = function () {
              return (
                Helpers.CouponHelper.unbind("coupon.validated", i),
                Helpers.CouponHelper.isValid() &&
                Helpers.CouponHelper.applyTo(
                  Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
                )
                  ? ((t = Helpers.CouponHelper.calculatePrice(e)), n(t))
                  : n(e)
              );
            };
            Helpers.CouponHelper.bind("coupon.validated", i);
          });
    },
    _applyCouponToPlan: function (e, t) {
      var n;
      return null === Helpers.CouponHelper.getCode()
        ? Promise.resolve(t)
        : Helpers.CouponHelper.isValid() === !1
        ? Promise.resolve(t)
        : Helpers.CouponHelper.isValid()
        ? Helpers.CouponHelper.applyToPlan(e.recurly_uuid)
          ? ((n = Helpers.CouponHelper.calculatePrice(t)), Promise.resolve(n))
          : Promise.resolve(t)
        : new Promise(function (i) {
            var r = function () {
              return (
                Helpers.CouponHelper.unbind("coupon.validated", r),
                Helpers.CouponHelper.isValid() &&
                Helpers.CouponHelper.applyToPlan(e.recurly_uuid)
                  ? ((n = Helpers.CouponHelper.calculatePrice(t)), i(n))
                  : i(t)
              );
            };
            Helpers.CouponHelper.bind("coupon.validated", r);
          });
    },
    _calculateTax: function (e, t) {
      var n;
      return (
        (n = {
          rate: 0,
          amount: 0,
          type: null,
        }),
        t[0] &&
          ((n.rate = t[0].rate), (n.amount = e * n.rate), (n.type = t[0].type)),
        n
      );
    },
    _checkStageInfo: function (e) {
      return e
        ? stagesInfo instanceof Object == !1
          ? !1
          : e.hasOwnProperty("custom_price") && e.hasOwnProperty("image_type")
        : !1;
    },
    format: function (e) {
      return (
        e > 0
          ? ((e = e.toFixed(2)),
            (e = e.replace(/\.?0+$/, "")),
            (e = window.currencyHelper.getSymbol(recurlyConfig.currency) + e))
          : (e = "Free"),
        e
      );
    },
  }),
  Class("CurrencyHelper")({
    prototype: {
      _hashMap: {},
      init: function (e) {
        this._hashMap = e;
      },
      setCurrency: function (e, t) {
        this._hashMap[e] = t;
      },
      getLabel: function (e) {
        var t = this._hashMap[e];
        if (!t) throw new Error("Currency code not supported");
        return t.label;
      },
      getSymbol: function (e) {
        var t = this._hashMap[e];
        if (!t) throw new Error("Currency code not supported");
        return t.symbol;
      },
    },
  }),
  Module(
    Registry,
    "BulkPackages"
  )({
    _data: null,
    set: function (e) {
      return 0 === arguments.length ? !1 : void (this._data = e);
    },
    get: function () {
      return this._data;
    },
  }),
  Module(
    Registry,
    "Credits"
  )({
    _data: null,
    set: function (e) {
      if (0 == e) return !1;
      var t, n, i, r, s, o;
      if (
        ((t = Helpers.App.getSubscription()),
        (n = Registry.UserBulkPackages.hasAny()),
        (i = e.credits_expire_dates),
        t)
      )
        for (var a in i.subscriptions)
          i.subscriptions.hasOwnProperty(a) &&
            (r = new Date(i.subscriptions[a]).getTime());
      n &&
        (Registry.UserBulkPackages.getRemainingExtended() &&
          i.bulk_purchases.ext_credits.forEach(function (e) {
            for (var t in e)
              if (e.hasOwnProperty(t)) {
                var n = new Date(e[t]).getTime();
                o ? o > n && (o = n) : (o = n);
              }
          }),
        Registry.UserBulkPackages.getRemainingStandard() &&
          i.bulk_purchases.std_credits.forEach(function (e) {
            for (var t in e)
              if (e.hasOwnProperty(t)) {
                var n = new Date(e[t]).getTime();
                s ? s > n && (s = n) : (s = n);
              }
          })),
        (e._expire_dates = {
          subscription: r,
          bulk_standard: s,
          bulk_extended: o,
        }),
        (this._data = e);
    },
    get: function () {
      return this._data;
    },
    getTotal: function () {
      var e = this.get(),
        t = (e && e.total_credits) || 0;
      return t;
    },
  }),
  Module(
    Registry,
    "Licenses"
  )({
    _data: null,
    _normalizeToString: function (e, t) {
      Object.keys(e).forEach(function (n) {
        e[n][t] = e[n][t].toString();
      });
    },
    set: function (e) {
      return 0 === arguments.length
        ? !1
        : ((this._data = e), void this._normalizeToString(this.get(), "id"));
    },
    get: function () {
      return this._data;
    },
    getByKey: function (e) {
      var t = !1,
        n = this.get();
      return (
        Object.keys(n).some(function (i) {
          n[i].key === e && (t = n[i]);
        }),
        t
      );
    },
  }),
  Module(
    Registry,
    "Plans"
  )({
    PLAN_MONTHLY: window.ACTIVE_PLANS.MONTHLY_PLAN_CODE,
    PLAN_ANNUAL: window.ACTIVE_PLANS.ANNUAL_PLAN_CODE,
    _data: null,
    set: function (e) {
      return 0 === arguments.length ? !1 : void (this._data = e);
    },
    get: function (e) {
      var t = null;
      return e
        ? (this._data &&
            this._data.forEach(function (n) {
              n.recurly_uuid === e && (t = n);
            }),
          t)
        : this._data;
    },
  }),
  Module(
    Registry,
    "Resolutions"
  )({
    _data: null,
    set: function (e) {
      return 0 === arguments.length ? !1 : void (this._data = e);
    },
    get: function () {
      return this._data;
    },
    getByKey: function (e, t, n) {
      var i = !1,
        r = n || this.get();
      return (
        Object.keys(r).some(function (n) {
          return r[n][e] === t ? ((i = r[n]), !0) : void 0;
        }),
        i
      );
    },
  }),
  Module(
    Registry,
    "UserBulkPackages"
  )({
    _data: null,
    set: function (e) {
      return 0 == e ? !1 : void (this._data = e);
    },
    get: function () {
      return this._data;
    },
    hasAny: function () {
      return (this.get() && this.get().length > 0) || !1;
    },
    getRemainingExtended: function () {
      var e = 0;
      return (
        this.get().forEach(function (t) {
          for (var n in t)
            t.hasOwnProperty(n) && (e += t[n].extendeds.remaining);
        }),
        e
      );
    },
    getRemainingStandard: function () {
      var e = 0;
      return (
        this.get().forEach(function (t) {
          for (var n in t)
            t.hasOwnProperty(n) && (e += t[n].standards.remaining);
        }),
        e
      );
    },
  }),
  Class("DataCollector")({
    API_KEY: window.braintreeConfig.publicKey,
    _dataCollectorInstancePromise: null,
    loadDataCollector: function () {
      return (
        (this._dataCollectorInstancePromise = braintree.client
          .create({
            authorization: this.API_KEY,
          })
          .then(function (e) {
            return braintree.dataCollector
              .create({
                client: e,
                kount: !0,
              })
              .then(function (e) {
                return e;
              });
          })),
        this._dataCollectorInstancePromise
      );
    },
    getDataCollector: function () {
      return this._dataCollectorInstancePromise
        ? this._dataCollectorInstancePromise
        : this.loadDataCollector();
    },
  }),
  Module(
    Modals,
    "Billing"
  )({
    billingUpdateOptions: null,
    retryCardBtn: null,
    updateBillingBtn: null,
    updateBillingInfoModal: null,
    failedTransactionModal: null,
    acceptFailedTransaction: null,
    _billingUpdateSuccessCallback: null,
    spinnerPreloaded: !1,
    setupUpdateCardModal: function (e) {
      var t =
        "/account" === window.location.pathname &&
        "?update=true" === window.location.search;
      if (t) {
        var n = $("body");
        n.css("overflow", "initial"),
          n.animate(
            {
              scrollTop: $(".account-info").offset().top - 98,
            },
            1e3
          );
      } else
        this.updateBillingInfoModal.billingInfo &&
          this.updateBillingInfoModal.billingInfo.destroy(),
          this.updateBillingInfoModal.appendChild(
            new UI.BillingInfo({
              name: "billingInfo",
              accountRecord: window.account,
            })
          ),
          this.updateBillingInfoModal.billingInfo.bind(
            "update.success",
            function () {
              Helpers.GlobalEventTracker.billingUpdateSuccess(),
                Helpers.App.checkPastDueStatus({
                  success: e,
                  applyInvoice: !1,
                });
            }
          ),
          this.updateBillingInfoModal
            .activate()
            .billingInfo.render($("#billingInfoModal")),
          page.dispatch("billing.update");
      return this;
    },
    setBillingUpdateCallback: function (e) {
      this._billingUpdateSuccessCallback = e || null;
    },
    showUpdateBillingInfoModal: function () {
      return this.updateBillingInfoModal.activate(), this;
    },
    hideUpdateBillingInfoModal: function () {
      return this.updateBillingInfoModal.deactivate(), this;
    },
    unbindBillingInfoHide: function () {
      return this.updateBillingInfoModal.element.off("hidden.bs.modal"), this;
    },
    bindBillingInfoHide: function (e) {
      return this.updateBillingInfoModal.element.on("hidden.bs.modal", e), this;
    },
    bindBillingButtons: function () {
      return (
        (this.retryCardBtn =
          this.billingUpdateOptions.element.find(".retry-card")),
        (this.updateBillingBtn =
          this.billingUpdateOptions.element.find(".update-billing")),
        (this.optionsCloseBtn =
          this.billingUpdateOptions.element.find(".close")),
        this.retryCardBtn.click(
          function () {
            var e = $(".alert-dismissible");
            e.length && e.remove(),
              this.retryCardBtn.addClass("loading"),
              Helpers.GlobalEventTracker.retryCardBtnClick(),
              this.billingUpdateOptions.element.off("hidden.bs.modal"),
              Helpers.App.tryToApplyInvoice({
                success: function () {
                  this.retryCardBtn.removeClass("loading"),
                    this.hideBillingUpdateOptionsModal(),
                    this._billingUpdateSuccessCallback();
                }.bind(this),
                error: function () {
                  this.retryCardBtn.removeClass("loading"),
                    this.showFailedTransactionModal();
                }.bind(this),
                applyInvoice: !0,
              });
          }.bind(this)
        ),
        this.updateBillingBtn.click(
          function () {
            Helpers.GlobalEventTracker.updateBillingClick(),
              this.billingUpdateOptions.element.off("hidden.bs.modal"),
              this.setupUpdateCardModal(this._billingUpdateSuccessCallback),
              this.hideBillingUpdateOptionsModal();
          }.bind(this)
        ),
        this.optionsCloseBtn.click(function () {
          Helpers.GlobalEventTracker.closedOptionsModal();
        }),
        this.preloadSpinner(),
        this
      );
    },
    showBillingUpdateOptionsModal: function (e) {
      return (
        Helpers.GlobalEventTracker.showBillingUpdateOptionsModal(),
        this.setBillingUpdateCallback(e),
        this.billingUpdateOptions.element.off("hidden.bs.modal"),
        this.billingUpdateOptions.element.removeClass("spinner"),
        this.billingUpdateOptions.element.on("hidden.bs.modal", e),
        this.billingUpdateOptions.activate(),
        this
      );
    },
    hideBillingUpdateOptionsModal: function () {
      return this.billingUpdateOptions.deactivate(), this;
    },
    addSpinnerOnBillingOptions: function () {
      return this.billingUpdateOptions.element.addClass("spinner"), this;
    },
    removeSpinnerOnBillingOptions: function () {
      return this.billingUpdateOptions.element.removeClass("spinner"), this;
    },
    handleFixCTA: function () {
      Helpers.GlobalEventTracker.fixCTAClick(),
        this.unbindBillingInfoHide(),
        this.showBillingUpdateOptionsModal();
    },
    showFailedTransactionModal: function () {
      var e = $(
          '<div style="" class="alert alert-danger alert-dismissible"></div>'
        ),
        t = $(
          '<span class="billing_error_message">Your Card Was Declined</span> <a href="#" class="close" style="text-decoration: none;" data-dismiss="alert" aria-label="close">&times;</a></div>'
        );
      e.append(t);
      var n = $(".modal-content");
      e.insertBefore(n);
    },
    preloadSpinner: function () {
      if (!this.spinnerPreloaded) {
        var e = $(
          "<div style=\"background:url('/assets/loaders/7121.gif')\"></div>"
        ).appendTo("body");
        (this.spinnerPreloaded = !0),
          setTimeout(function () {
            e.remove();
          }, 3e3);
      }
    },
  }),
  Class(
    Helpers,
    "GlobalEventTracker"
  )({
    gaLoadTimeout: null,
    identifyUser: function () {
      var e = Helpers.App.getUser(),
        t = Helpers.UserSegment.getUserLocationCookie();
      ("object" == typeof analytics || "function" == typeof analytics) &&
        analytics.identify(e.id, {
          name: Helpers.App.getTrackerId(),
          email: e.email,
          hasSubscription: this._hasSubscription(),
          subscription_type: this._subscriptionType(),
          status: e.status,
          country: t,
          unsubscribe_code: e.unsubscribe_code,
        }),
        AlgoliaAnalyticsClient.identifyLoggedInUser(e.id);
    },
    identifyNotLoggedUser: function () {
      var e = {
        id: 0,
        email: "notloggedin@placeit.net",
        coupon: 0,
      };
      ("object" == typeof analytics || "function" == typeof analytics) &&
        analytics.identify(e.id, {
          name: Helpers.App.getTrackerId(),
          email: e.email,
        });
    },
    purchaseSuccess: function (e) {
      var t,
        n,
        i,
        r = "",
        s = "";
      (e.category = window._pl_category),
        (e.stage_type =
          Helpers.StageType._types[window._stageData.stage_data.image_type] ||
          "No Info"),
        (e.tags = Helpers.StageType.getStageTags() || "No Info"),
        (e.background =
          Helpers.StageType.getBackgroundOrColorID() || "No Info"),
        (e.thumb = window._stageData.stage_data.large_thumb || "No Info"),
        (e.slug = window._stageData.stage_data.slug || "No Info"),
        (s = Helpers.StageType.isFusionVideo() ? ":fusionvideo" : ":image"),
        (i = Helpers.App.getSubscription() ? s + ":withSubscription" : s),
        this._baseSend("Purchase:success" + i + ":client", e),
        (t = e.stage_id),
        Helpers.StageType.getBackgroundID() &&
          (r = "-" + Helpers.StageType.getBackgroundID()),
        (n = "-" + e.resolution_id),
        Helpers.App.sendEcommerceTransaction({
          amount_in_cents: e.amount_in_cents,
          sku: t + r + n,
          productName: Helpers.StageType.getStageInfo().name,
          invoice_number: e.invoice_number,
        }),
        Helpers.App.sendEnvatoTracking({
          trackingCode: 18519,
          orderId: e.invoice_number,
          customerId: Helpers.App.getUser().id,
          subtotal: e.amount_in_cents,
          category: window._pl_category,
          sku: t + r + n,
        });
    },
    subscriptionSuccess: function (e) {
      var t = e.event + ":client";
      this._baseSend(t, e),
        (document.cookie =
          "userStatus=Subscriber; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"),
        Helpers.App.sendEcommerceTransaction({
          amount_in_cents: e.amount_in_cents,
          sku: e.plan_recurly_uuid,
          productName: e.plan_name + "_subscription",
          invoice_number: e.invoice_number,
        }),
        Helpers.App.sendEnvatoTracking({
          trackingCode: 18520,
          orderId: e.invoice_number,
          customerId: e.user_id,
          subtotal: e.amount_in_cents,
          category: e.page_category,
          sku: e.plan_recurly_uuid,
        });
    },
    showSubscriptionFromPurchase: function (e) {
      this._baseSend("Purchases:JumpToSubscriptions", e);
    },
    freeDownload: function (e) {
      this._baseSend("Download:free", e);
    },
    downloadClick: function (e) {
      this._baseSend("Download:click", e);
    },
    couponGiftGenerated: function (e) {
      this._baseSend("coupon:generated", e);
    },
    freeStageDownload: function (e) {
      this._baseSend("Download:freeStage", e);
    },
    freeVideoDownload: function (e) {
      this._baseSend("Video:freeDownload", e);
    },
    subscriptionDownload: function (e) {
      (e.category = window._pl_category),
        (e.stage_type =
          Helpers.StageType._types[window._stageData.stage_data.image_type] ||
          "No Info"),
        (e.tags = Helpers.StageType.getStageTags() || "No Info"),
        (e.background =
          Helpers.StageType.getBackgroundOrColorID() || "No Info"),
        (e.thumb = window._stageData.stage_data.large_thumb || "No Info"),
        (e.slug = window._stageData.stage_data.slug || "No Info"),
        this._baseSend("Download:subscription", e);
    },
    subscriptionDownloadFromGrid: function (e) {
      (e.category = window._pl_category),
        (e.stage_type = Helpers.StageType._types[e.imageType] || "No Info"),
        (e.background = null),
        (e.tags = null),
        this._baseSend("Download:subscription", e);
    },
    packDownload: function (e) {
      this._baseSend("Download:pack", e);
    },
    orderJersey: function (e) {
      this._baseSend("order.jersey", e);
    },
    designService: function (e) {
      this._baseSend("design.service", e);
    },
    stageError: function (e) {
      this._baseSend("stage.error", e);
    },
    stageErrorByEventType: function (e, t) {
      this._baseSend(e, t);
    },
    resultShown: function (e) {
      var t = performance && performance.memory;
      t &&
        ((e.totalJSHeapSize = t.totalJSHeapSize),
        (e.usedJSHeapSize = t.usedJSHeapSize),
        (e.jsHeapSizeLimit = t.jsHeapSizeLimit)),
        window.WebGLMemoryEstimator &&
          (e.peakWebGLMem = WebGLMemoryEstimator.getLastPeak()),
        (e.stageTags = Helpers.StageType.getStageTags()),
        this._baseSend("result.shown", e);
    },
    slowProcess: function (e) {
      this._baseSend("slow.process", e);
    },
    openFAQ: function () {
      this._baseSend("open.faq");
    },
    cropKeydownEnter: function (e) {
      this._baseSend("crop:keydown:enter", e);
    },
    searchNoResults: function (e) {
      (e.userIp = window.userIp), this._baseSend("search:no.results", e);
    },
    assetsSearchNoResults: function (e) {
      this._baseSend("assets.search.no.results", e);
    },
    searchFewResults: function (e) {
      this._baseSend("search:few.results", e);
    },
    searchSuccessfulResults: function (e) {
      this._baseSend("search:success", e);
    },
    deletedAsset: function (e) {
      this._baseSend("deleted.preselected.asset", e);
    },
    missingAsset: function (e) {
      this._baseSend("missing.preselected.asset", e);
    },
    imageLoadFail: function (e) {
      this._baseSend("image.load.fail", e);
    },
    sendPageView: function (e) {
      "function" == typeof ga
        ? ga("send", "pageview", window.location.pathname)
        : this._retryPageView(e);
    },
    _retryPageView: function (e) {
      null !== this.gaLoadTimeout && clearTimeout(this.gaLoadTimeout),
        (this.gaLoadTimeout = setTimeout(
          function () {
            this.sendPageView(e);
          }.bind(this),
          300
        ));
    },
    userLogin: function (e) {
      this._baseSend("user:login:client", e),
        this._baseServerSend("user:login", e),
        this.identifyUser();
    },
    pricingModalStillshots: function (e) {
      this._baseSend("PricingModal:Stillshots:Opens", e);
    },
    premiumAssetsModalOpenSubscribtion: function (e) {
      this._baseSend("PricingModal:PremiumAssets:Opens", e);
    },
    premiumAssetsModalOpen: function (e) {
      this._baseSend("PremiumAssetsModal:Opens", e);
    },
    pricingModalVideos: function (e) {
      this._baseSend("PricingModal:Videos:Opens", e);
    },
    planCTAClicked: function (e) {
      this._baseSend("Plan:CTA:Clicked", e);
    },
    recurlyFormAfterPlanSelected: function (e) {
      this._baseSend("recurly:cardFormForPlan", e);
    },
    grabFromURL: function (e) {
      this._baseSend("Productshot:GrabFromURL", e);
    },
    fileUpload: function (e) {
      this._baseSend("File:Upload", e);
    },
    pastDueLogin: function () {
      this._baseSend("pastDue:login");
    },
    fixCTAClick: function () {
      this._baseSend("pastDue:fixCTAClick");
    },
    retryCardBtnClick: function () {
      this._baseSend("pastDue:retryCardBtnClick");
    },
    showBillingUpdateOptionsModal: function () {
      this._baseSend("pastDue:showBillingUpdateOptionsModal");
    },
    closedOptionsModal: function () {
      this._baseSend("pastDue:closedOptionsModal");
    },
    updateBillingClick: function () {
      this._baseSend("pastDue:updateBillingClick");
    },
    billingUpdateSuccess: function () {
      this._baseSend("pastDue:billingUpdateSuccess");
    },
    confirmRetryFailed: function () {
      this._baseSend("pastDue:confirmRetryFailed");
    },
    appliedPastDueInvoice: function () {
      this._baseSend("pastDue:appliedPastDueInvoice");
    },
    landedInGiftView: function (e) {
      this._baseSend("giftView:landed", e);
    },
    giftSignup: function (e) {
      this._baseSend("giftView:signed", e);
    },
    openLicenseModal: function () {
      this._baseSend("licenseModal:open");
    },
    track: function (e, t) {
      this._baseSend(e, t);
    },
    trackByServer: function (e, t) {
      this._baseServerSend(e, t);
    },
    trackCropperTool: function (e, t) {
      (t.stage_category = "Tool"),
        (t.tool_type = "cropper:image"),
        this._baseSend(e, t);
    },
    trackVideoCropperTool: function (e, t) {
      (t.stage_category = "Tool"),
        (t.tool_type = "cropper:video"),
        this._baseSend(e, t);
    },
    trackVideoToGifTool: function (e, t) {
      (t = t || {}),
        (t.stage_category = "Tool"),
        (t.tool_type = "video_to_gif"),
        this._baseSend(e, t);
    },
    ssoTrack: function (e, t) {
      var n = this;
      try {
        var i = Helpers.App.getUser();
        (t.type = t.error ? "error" : "event"),
          (t.username = i ? i.username : ""),
          (t.userEmail = i ? i.email : ""),
          n._baseSend(e, t);
      } catch (r) {
        console.log("ssoTrack has errors");
      }
    },
    ssoServerTrack: function (e, t) {
      var n = this;
      try {
        var i = Helpers.App.getUser();
        (t.type = t.error ? "error" : "event"),
          (t.username = i ? i.username : ""),
          (t.userEmail = i ? i.email : ""),
          n._baseServerSend(e, t);
      } catch (r) {
        console.log("ssoServerTrack has errors");
      }
    },
    _hasSubscription: function () {
      var e = 0;
      return Helpers.App.getSubscription() && (e = 1), e;
    },
    _subscriptionType: function () {
      var e = "none",
        t = Helpers.App.getSubscription();
      return t && (e = t.is_annual ? "annual" : "monthly"), e;
    },
    _baseSendWithoutInfo: function (e) {
      (data = {}),
        (data.event = e),
        (data.type = "track"),
        (data.page_category = "main"),
        ("object" == typeof analytics || "function" == typeof analytics) &&
          analytics.track(e, data);
    },
    _baseSend: function (e, t) {
      var n, i;
      (t = t || {}),
        Helpers.App.getUser().email &&
          ((t.properties = {}),
          (t.properties.email = Helpers.App.getUser().email),
          (t.properties.status = Helpers.App.getUser().status),
          (t.event = e),
          (t.type = "track"),
          (n = Helpers.UserSegment.getUserSegmentCookie()),
          null !== n && (t.segment = n)),
        (i = Helpers.App.getSubscription()),
        i && i.is_annual === !0
          ? (t.properties.plan_type = "annual")
          : i && i.is_annual === !1 && (t.properties.plan_type = "monthly"),
        i && i.plan && (t.properties.plan_name = i.plan.recurly_uuid),
        (t.page_category = this._getPageCategory()),
        (t.experiment_id = this._getExperimentId()),
        ("object" == typeof analytics || "function" == typeof analytics) &&
          analytics.track(e, t);
    },
    _baseServerSend: function (e, t) {
      var n;
      if (
        ((t = t || {}),
        Helpers.App.getUser().email &&
          ((t.properties = {}),
          (t.properties.email = Helpers.App.getUser().email),
          (t.properties.status = Helpers.App.getUser().status),
          (t.event = e),
          (t.type = "track"),
          (n = Helpers.UserSegment.getUserSegmentCookie()),
          null !== n && (t.segment = n)),
        (t.page_category = this._getPageCategory()),
        (t.experiment_id = this._getExperimentId()),
        (t.user_agent = window.navigator.userAgent),
        (t.user_ip = window.userIp),
        "object" == typeof analytics || "function" == typeof analytics)
      ) {
        var i = {
          type: e,
          page: EventTracker.pageFields(),
          googleAnalytics: {
            clientId: EventTracker.getGoogleClientId(),
          },
          data: t,
        };
        $.post("/api/v2/analytics/track", i);
      }
    },
    _addSubscriptionData: function (e) {
      return (e.hasSubscription = Helpers.App.getSubscription() ? 1 : 0), e;
    },
    smartTemplateEvent: function (e, t) {
      (t.slug = _stageData.stage_data.slug),
        (t.stage_id = _stageData.stage_data.id),
        this._baseSend("smartTemplate:" + e, t);
    },
    algoliaTrack: function (e, t) {
      try {
        window.pageType.is_stage &&
          ((t.slug = window._stageData.stage_data.slug),
          (t.stageId = window._stageData.stage_data.id),
          (t.templateID = Helpers.StageType.getRecordId())),
          (t.page = window.pageType.page_type),
          (t.action = e),
          this._baseSend("algoliaTrack:" + e, t);
      } catch (n) {
        console.warn(n);
      }
    },
    noticeError: function (e, t) {
      var n = t || {},
        i = new Error(
          e +
            ": " +
            JSON.stringify({
              error: n,
            })
        );
      window.newrelic.noticeError(i), console.error(i);
    },
    pipEvent: function (e, t) {
      (t = t || {}),
        (t.industries = Helpers.StageType.getStageTags()),
        this._baseSend("stage:" + e, t);
    },
    customExperiencesEvent: function (e, t) {
      this._baseSend("customExperiences:" + e, t);
    },
    cancelSubscription: function (e, t) {
      this._baseSend("cancelSubscription:" + e, t);
    },
    cancelAccount: function (e, t) {
      this._baseSend("cancelAccount:" + e, t);
    },
    getFreeMonth: function (e) {
      this._baseSend("FreeMonth:click", e);
    },
    subscriptionPlanSelected: function (e) {
      var t = "planChange_mainSubscriptionModal_" + e.old + ":" + e["new"];
      delete e.old, delete e["new"], this._baseSend(t, e);
    },
    userSignup: function () {
      var e,
        t = {};
      (t = Helpers.App.getUser()),
        (e = {}),
        (e.site_id = t ? t.id : ""),
        (e.path = window.location.pathname),
        this._baseSend("user:signup:client", e),
        this._baseServerSend("user:signup", e),
        Helpers.App.sendEnvatoSignUp({
          trackingCode: 19603,
          customerId: t.id,
          envatoId: t.envato_id,
        });
    },
    _getPageCategory: function () {
      var e;
      return (
        (e = Helpers.App.pageType()),
        e.is_category || e.is_stage || Helpers.App.isCustomExperience()
          ? window._pl_category
          : "main"
      );
    },
    cardFormForPlanStartedFilling: function () {
      this._baseSend("recurly:cardFormForPlan:startedFilling");
    },
    purchasePayPalSwitch: function () {
      this._baseSend("Purchase:PayPalSwitch");
    },
    purchaseInvalidFields: function (e) {
      this._baseSend("creditCardPaymentDeclined:invalidFields", {
        invalidFields: e.fields,
        details: e.details,
        message: e.message,
        code: e.code,
      });
    },
    purchaseCardDenied: function (e) {
      this._baseSend("creditCardPaymentDeclined:cardDenied", e);
    },
    draftItemSaved: function (e) {
      this._draftItemBaseEvent("draft:Saved", e);
    },
    draftItemClicked: function (e) {
      this._draftItemBaseEvent("draft:Click", e);
    },
    _draftItemBaseEvent: function (e, t) {
      this._baseSend(e, {
        draftId: t.draftId,
        stageId: t.stageId,
        label: window.location.href,
      });
    },
    iosShortcutEvent: function (e, t) {
      this._baseSend("shortcut:" + e, {
        errorMessage: t,
      });
    },
    carouselClick: function (e, t) {
      var n = "carousel:" + e + ":clicked";
      this._baseSend(n, {
        label: t,
      });
    },
    trimmerEvent: function (e, t) {
      this._baseSend("Trimmer:" + e, Object.assign({}, t));
    },
    cancelSubscriptionSwitch: function (e, t) {
      (t = t || {}),
        (currentSubscription = Helpers.App.getSubscription()),
        currentSubscription !== !1 &&
          (t.current_plan = currentSubscription.plan.recurly_uuid),
        this._baseSend("cancelSubscriptionSwitch:" + e, t);
    },
    deprecatedBlock: function (e) {
      Object.assign({}, e, {
        error: !1,
      });
      this._baseSend("deprecated:block", e);
    },
    deprecatedMethod: function (e) {
      Object.assign({}, e, {
        error: !1,
      });
      this._baseSend("deprecated:method", e);
    },
    deprecatedClass: function (e) {
      Object.assign({}, e, {
        error: !1,
      });
      this._baseSend("deprecated:class", e);
    },
    planPriceMismatch: function (e) {
      var t = Helpers.App.getSubscription(),
        n = t && !t.is_paused,
        i = Object.assign({}, e, {
          error: !1,
          hasSubscription: n,
          isAdmin: Helpers.App.isAdmin(),
        });
      this._baseSend("priceMismatch:plan", i);
    },
    taxAmountMismatch: function (e) {
      var t = Object.assign({}, e, {
        error: !1,
      });
      this._baseSend("priceMismatch:tax", t);
    },
    stagePriceMismatch: function (e) {
      var t = Helpers.App.getSubscription(),
        n = t && !t.is_paused,
        i = Object.assign({}, e, {
          error: !1,
          hasSubscription: n,
          isAdmin: Helpers.App.isAdmin(),
        });
      this._baseSend("priceMismatch:stage", i);
    },
    engineTimingEvent: function (e, t) {
      var n = Object.assign(
        t,
        {
          timestamp: Date.now(),
          userLocation: Helpers.App.getUserLocation(),
          isMobile: Helpers.App.isMobile(),
          deviceMemory: navigator.deviceMemory,
        },
        Helpers.App.getNetworkData()
      );
      this._baseSend(e, n);
    },
    heroBannerEvent: function (e, t) {
      (t = t || {}), this._baseSend("heroBanner:" + e, t);
    },
    _getExperimentId: function () {
      return $.cookie("experiment_id");
    },
  }),
  Class("Phosphorus")({
    reflect: function (e) {
      var t = function (e) {
          return {
            status: "fulfilled",
            value: e,
          };
        },
        n = function (e) {
          return {
            status: "rejected",
            reason: e,
          };
        };
      return e.then(t, n);
    },
    allSettled: function (e) {
      var t = e.map(function (e) {
        return P.reflect(e);
      });
      return Promise.all(t);
    },
    cancelable: function (e, t) {
      return function (n) {
        var i,
          r = t || function () {},
          s = new Promise(function (e, t) {
            i = function () {
              t(new Error("Cancelation Error"));
            };
          }),
          o = e(n),
          a = Promise.race([s, o]);
        return (
          (a.cancel = function (e) {
            (r = e || r), o.then(r), i();
          }),
          a
        );
      };
    },
    retryable: function (e, t) {
      return function (n) {
        return new Promise(function (i, r) {
          for (
            var s = e(n).then(i),
              o = function () {
                return e(n);
              },
              a = 0;
            t - 1 > a;
            a++
          )
            s = s["catch"](o).then(i);
          s["catch"](r);
        });
      };
    },
    retryableDelayed: function (e, t, n) {
      var i = this;
      return function (r) {
        var s = i.delayed(e, n);
        return new Promise(function (n, i) {
          for (var o = e(r).then(n), a = 0; t - 1 > a; a++)
            o = o["catch"](function () {
              return s(r);
            }).then(n);
          o["catch"](i);
        });
      };
    },
    delayed: function (e, t) {
      return function (n) {
        return new Promise(function (i, r) {
          setTimeout(function () {
            e(n).then(i)["catch"](r);
          }, t);
        });
      };
    },
    delay: function (e) {
      return new Promise(function (t) {
        setTimeout(t, e);
      });
    },
    timeout: function (e) {
      return new Promise(function (t, n) {
        setTimeout(function () {
          n(new Error("timeout"));
        }, e);
      });
    },
    ajax: function (e) {
      return new Promise(function (t, n) {
        $.ajax(e).then(t).fail(n);
      });
    },
    get: function (e, t) {
      return new Promise(function (n, i) {
        $.get(e, t).then(n).fail(i);
      });
    },
    runner: function (e) {
      var t,
        n = {};
      return (
        (t = new Promise(function (e, t) {
          (n.resolve = e), (n.reject = t);
        })),
        (t.run = function () {
          e.then(n.resolve)["catch"](n.reject);
        }),
        t
      );
    },
    promiseMap: function (e) {
      return function (t) {
        return Promise.all(t.map(e));
      };
    },
    promisifyEvent: function (e) {
      return function (t) {
        return new Promise(function (n) {
          var i = function (r) {
            t.unbind(e, i), n(r);
          };
          t.bind(e, i);
        });
      };
    },
    trace: function (e) {
      return function (t) {
        return console.log(e, t), t;
      };
    },
  }),
  (window.P = Phosphorus),
  (window.stagesInfo = stageData.stages),
  (window.backgroundsInfo = stageData.backgrounds),
  (window.handsInfo = stageData.hand_sets),
  Helpers.App.resetOldTrackerId(),
  Helpers.App.getTrackerId() ||
    Helpers.App.setTrackerId(window.placeitTrackerId),
  (window.placeitTrackerId = Helpers.App.getTrackerId()),
  Helpers.App.setUser(window._pl_userInfo),
  Helpers.App.setCoupon(window._pl_userCoupon),
  Helpers.App.setPurchases(window._pl_hasPurchases),
  Helpers.App.setAdmin(window._pl_isAdmin),
  Helpers.App.setBookmarksCount(window._pl_numberOfBookmarks),
  Helpers.App.setUserType(window._pl_userType),
  1 == window._pl_hasSubscription &&
    Helpers.App.setSubscription(window._pl_subscription),
  Registry.BulkPackages.set(window._pl_bulkPackages),
  Registry.Plans.set(window._pl_plans),
  Registry.Licenses.set(window._pl_licenses),
  Registry.Resolutions.set(window._pl_resolutions),
  Registry.UserBulkPackages.set(window._pl_userBulkPkg),
  Registry.Credits.set(window._pl_credits),
  1 == window._pl_isUserLogged && Helpers.GlobalEventTracker.identifyUser(),
  (EventTracker = Class("EventTracker")({
    _disabled: !1,
    _totalErrors: 0,
    _timeTotal: 0,
    _startTime: 0,
    _prevEvent: {},
    _debugMode: !1,
    send: function (e) {
      var t = Helpers.App.getUser(),
        n = null;
      if (
        (Li &&
          Li.stack &&
          (Li.events.push({
            type: e.type,
            instanceName: e.data ? e.data.name || e.data.id || "---" : "---",
            time: Date.now(),
          }),
          Li.stack.push(Li.events[Li.events.length - 1]),
          Li.events.length > 20 && Li.stack.shift()),
        (e.data =
          "undefined" != typeof e.data
            ? EventTrackerDataProcessor.process(e.data)
            : {}),
        this._debugMode)
      )
        return void ("undefined" == typeof e.data || $.isEmptyObject(e.data)
          ? console.log(
              "%c EventTracker > Event pushed %c (w/o data): %c" + e.type,
              "color: blue; font-weight: bold;",
              "color: gray;",
              "color: green; font-weight: bold;"
            )
          : (console.groupCollapsed(
              "%c EventTracker > Event pushed: %c" + e.type,
              "color: blue;",
              "color: green"
            ),
            console.log(e.data),
            console.groupEnd()));
      if (!this._trackerDisabled()) {
        Li && "array" == typeof Li.stack && Li.stack.push(e.type),
          t && (n = t.id);
        var i = "",
          r = window.placeitTrackerId || i,
          s = {
            site_id: n,
            event_type: e.type,
            data: $.extend(e.data, {
              user_ip: window.userIp,
              session_id: window.placeitTrackerId,
              tracker_id: r,
              referrer: window.referrer,
              initial_url: window.initialUrl,
              user_agent: window.navigator.userAgent,
              user_time_stamp: Date.now(),
            }),
          };
        this._ajaxSend(s);
      }
    },
    info: function (e) {
      var t = Helpers.App.getUser();
      if (t) var n = t.id;
      var i = window.placeitTrackerId || "",
        r = 0;
      Helpers.App.getSubscription() && (r = 1),
        "Subscription:success:Unlimited" !== e.type &&
          "Subscription:success:Unlimited:Annual" !== e.type &&
          $.extend(e.data, {
            category: window._pl_category,
            stage_type:
              Helpers.StageType._types[
                window._stageData.stage_data.image_type
              ] || "No Info",
            tags: Helpers.StageType.getStageTags() || "No Info",
            background: Helpers.StageType.getBackgroundOrColorID() || "No Info",
            thumb: window._stageData.stage_data.large_thumb || "No Info",
            slug: window._stageData.stage_data.slug || "No Info",
            page_category: window._pl_category,
          }),
        ("Subscription:success:Unlimited" === e.type ||
          "Subscription:success:Unlimited:Annual" === e.type) &&
          $.extend(e.data, {
            page_category: window._pl_category,
          });
      var s = {
        type: e.type,
        googleAnalytics: {
          clientId: this.getGoogleClientId(),
        },
        page: this.pageFields(),
        data: $.extend(e.data, {
          user_id: n,
          user_ip: window.userIp,
          session_id: window.placeitTrackerId,
          tracker_id: i,
          referrer: window.referrer,
          properties: {
            email: t.email,
            status: t.status,
          },
          type: "track",
          initial_url: window.initialUrl,
          user_agent: window.navigator.userAgent,
          user_time_stamp: Date.now(),
          hasSubscription: r,
          experiment_id: Helpers.GlobalEventTracker._getExperimentId(),
        }),
      };
      return s;
    },
    debugTracker: function () {
      this.enable(),
        (this._debugMode = !0),
        console.log(
          "%c EventTracker > Log enabled %c (No ajax calls to the actual database)",
          "color: blue",
          "color: gray; font-style: italic;"
        );
    },
    pageFields: function () {
      return {
        path: window.location.pathname,
        referrer: document.referrer,
        search: location.search,
        title: document.title,
        url: window.location.href,
      };
    },
    getGoogleClientId: function () {
      return ga && "function" == typeof ga.getAll
        ? ga.getAll()[0].get("clientId")
        : void 0;
    },
    enable: function () {
      console.log(
        "%c EventTracker > Enabled",
        "color: green; font-weight: bold;"
      ),
        (this._disabled = !1),
        this.send({
          type: "Placeit:eventTracker:enabled",
        });
    },
    disable: function () {
      console.log(
        "%c EventTracker > Disabled",
        "color: red; font-weight: bold;"
      ),
        this.send({
          type: "Placeit:eventTracker:disabled",
        }),
        (this._disabled = !0);
    },
    _trackerDisabled: function () {
      return this._disabled ? !0 : !1;
    },
    _ajaxSend: function (e) {
      var t = this;
      t._prevEvent === e ? clearTimeout(t._senderTimeout) : (t._prevEvent = e),
        (t._senderTimeout = setTimeout(function () {
          var t = "event";
          (e.error || e.data.error) && (t = "error");
        }, 100));
    },
    setupErrorTracking: function (e, t) {
      if (!this._trackerDisabled()) {
        var n = this;
        $(document).ajaxError(function (i, r, s) {
          n._ajaxSend({
            error: "ajax error",
            url: window.location.href,
            line: "N/A",
            site_id: Helpers.App.getUser().id,
            frame: t,
            meta: {
              type: i.type,
              ajaxType: s.type,
              url: s.url,
              data: i.data || null,
              userIp: window.userIp,
              sessionId: window.placeitTrackerId,
              trackerId: window.placeitTrackerId,
              history: e.Li && e.Li.events,
            },
          });
        });
      }
    },
  })),
  (window.UI = {}),
  (window.UI.Subscriptions = {}),
  (window.UI.SmartTemplate = {
    Mobile: {},
  }),
  (window.UI.CustomExperience = {}),
  (window.UI.Tool = {}),
  Class("UserIpLocation").includes()({
    prototype: {
      endpoint: "",
      key: "",
      _keyPrefix: "?key=",
      _keyParams: "",
      init: function (e) {
        (this.name = e.name),
          (this.endpoint = e.endpoint),
          (this._keyParams = this._keyPrefix + e.key);
      },
      getIpAddressData: function (e) {
        void 0 === e && (e = "");
        var t = this,
          n = this.endpoint + e + this._keyParams;
        return new Promise(function (e, i) {
          $.ajax({
            url: n,
            type: "GET",
            success: function (n) {
              e(t._formatResponse(n));
            },
            error: function (e) {
              i(e);
            },
          });
        });
      },
      _formatResponse: function (e) {
        return {
          country: e.country,
          _originalResponse: e,
        };
      },
    },
  }),
  Class(
    UI,
    "IncompatibleBrowser"
  )({
    html: '        <div class="incompatible-browser">          <div class="dialog">            <div class="content">              <div class="body">                <div class="message">                  <h3>You\'ve got an outdated browser.<br />You need to upgrade right away!</h3>                  <p>To get the best possible experience using our website we recommend that you upgrade to a newer version or other web browser.</p>                  <p>A list of the most popular web browsers can be found below. Just click on the icons to get to the download page.</p>                  <ul class="list-unstyled browsers-list">                    <li>                      <a href="http://www.google.com/chrome" target="_blank">                        <img src="./assets/browsers/chrome-512.png" border="0" width="70">                        <span>Chrome</span>                      </a>                    </li>                    <li>                      <a href="http://getfirefox.com/" target="_blank">                        <img src="./assets/browsers/firefox-512.png" border="0" width="70">                        <span>Firefox</span>                      </a>                    </li>                    <li>                      <a href="http://www.apple.com/safari/download/" target="_blank">                        <img src="./assets/browsers/safari-512.png" border="0" width="70">                        <span>Safari</span>                      </a>                    </li>                  </ul>                </div>              </div>            </div>          </div>        </div>    ',
    prototype: {
      init: function () {
        $(document.body).append(this.constructor.html);
      },
    },
  }),
  Module("GenericDestroySupport")({
    prototype: {
      genericDestroy: function () {
        for (var e in this)
          -1 === ["name", "element", "children", "parent"].indexOf(e) &&
            this.hasOwnProperty(e) &&
            (this[e] = null);
        this.element.find("*").off(),
          this.element.find("*").unbind(),
          Widget.prototype.destroy.call(this),
          (this.eventListeners = null),
          (this.name = null),
          (this.element = null),
          (this.children = null),
          (this.parent = null);
      },
    },
  }),
  Class(UI, "Notification").inherits(Widget)({
    elementClass: "alert",
    html: '        <div class="">          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>          <span></span>        </div>    ',
    prototype: {
      autocloseTimeout: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$body = $(document.body)),
          (this.$message = this.element.find("span")),
          (this.closeBtn = this.element.find(".close"));
      },
      bindEvents: function () {
        this.closeBtn.on(
          "click",
          function () {
            this.close();
          }.bind(this)
        );
      },
      alert: function (e) {
        return this.update(e, "alert-danger"), this;
      },
      warning: function (e) {
        return this.update(e, "alert-warning"), this;
      },
      info: function (e) {
        return this.update(e, "alert-info"), this;
      },
      success: function (e) {
        return this.update(e, "alert-success"), this;
      },
      update: function (e, t) {
        return (
          this.$body.addClass("with_flash"),
          this.$message.html(e),
          (this.element[0].className = ""),
          this.element.addClass(t + " " + this.constructor.elementClass),
          this.bindEvents(),
          this
        );
      },
      autoclose: function (e) {
        var t = this;
        this.autocloseTimeout && clearTimeout(this.autocloseTimeout),
          (this.autocloseTimeout = window.setTimeout(function () {
            t.close();
          }, e));
      },
      close: function () {
        this.$body.removeClass("with_flash"),
          this.closeBtn.off("click"),
          this.element.detach();
      },
    },
  }),
  Module("PostMessageSupport")({
    prototype: {
      exposedCommands: {
        "show-subscribe-mailing-modal": {
          handler: function () {
            this.appNavBar.showSubscribeMailingModal();
          },
        },
        "show-signup-modal": {
          handler: function () {
            this.appNavBar.ssoModal.activate();
          },
        },
        "show-pricing-modal": {
          handler: function () {
            this.showPricingModal();
          },
        },
      },
      origins: ["placeit", "wishpondpages"],
      postMessageBindings: function () {
        var e = this;
        window.addEventListener(
          "message",
          function (t) {
            e.validatorOrigin(t.origin) !== !1 && e.executeCommand(t);
          },
          !1
        );
      },
      executeCommand: function (e) {
        var t = e.data.command;
        if ("string" == typeof t) {
          var n = this.exposedCommands[t];
          "undefined" != typeof n && n.handler.call(this);
        }
      },
      validatorOrigin: function (e) {
        var t = !1;
        return (
          this.origins.forEach(function (n) {
            e.indexOf(n) > -1 && (t = !0);
          }),
          t
        );
      },
    },
  }),
  Class(UI, "SimpleModal").inherits(Widget).includes(GenericDestroySupport)({
    _HEADER_CONTENT:
      "You can replace this content by calling setHeaderContent(yourHTMLContent)",
    _BODY_CONTENT:
      "You can replace this content by calling setContent(yourHTMLContent)",
    html: '        <div class="modal fade in" id="" tabindex="-1" role="dialog" aria-hidden="false" data-backdrop="static" data-keyboard="false">            <div class="modal-dialog">                <div class="modal-content">                    <div class="modal-body"></div>                </div>            </div>        </div>',
    headerTemplate: '<div class="modal-header"></div>',
    prototype: {
      dismissable: !1,
      hasHeader: !1,
      headerContent: "",
      headerClass: "",
      bodyClass: "",
      init: function (e) {
        return (
          Widget.prototype.init.call(this, e),
          (this.headerContent =
            this.headerContent || this.constructor._HEADER_CONTENT),
          (this.headerContentContainer = this.element.find(".modal-header")),
          (this.bodyContent =
            this.bodyContent || this.constructor._BODY_CONTENT),
          (this.bodyContentContainer = this.element.find(".modal-body")),
          this.hasHeader &&
            (this.setHeaderContent(this.headerContent),
            this.headerContentContainer.addClass(this.headerClass)),
          this.setContent(this.bodyContent),
          this.bodyContentContainer.addClass(this.bodyClass),
          (this.closeBtn = this.element.find(".close")),
          this.element.attr("id", e.name || ""),
          this.dismissable && this.element.removeAttr("data-backdrop"),
          this._bindings(),
          this
        );
      },
      _bindings: function () {
        return (
          this.closeBtn.click(
            function () {
              this.deactivate();
            }.bind(this)
          ),
          this
        );
      },
      setHeaderContent: function (e) {
        return (
          (this.headerContent = e || ""),
          0 === this.headerContentContainer.length &&
            (this.headerContentContainer = $(
              this.constructor.headerTemplate
            ).insertBefore(this.bodyContentContainer)),
          this.headerContentContainer.html(this.headerContent),
          this
        );
      },
      setContent: function (e) {
        return (
          (this.bodyContent = e || ""),
          this.bodyContentContainer.html(this.bodyContent),
          this
        );
      },
      addCloseButton: function () {
        return (
          this.element[0].insertAdjacentHTML(
            "afterbegin",
            '<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xd7</span></button>'
          ),
          this
        );
      },
      activate: function () {
        return (
          (this.active = !0),
          Widget.prototype.activate.call(this),
          this.element.modal("show"),
          this
        );
      },
      deactivate: function () {
        return (
          (this.active = !1),
          Widget.prototype.deactivate.call(this),
          this.element.modal("hide"),
          this
        );
      },
      destroy: function () {
        this.genericDestroy();
      },
      getBodyContainer: function () {
        return this.bodyContentContainer;
      },
    },
  }),
  Module("SubscriptionSupport")({
    prototype: {
      $body: $(document.body),
      modalSubscription: null,
      initializeSubscriptionSupport: function () {
        this.buildSubscriptionModal(),
          this.buildBillingOptionsModal(),
          this.buildUpdateBillingInfoModal(),
          this.buildFailedTransactionModal(),
          this.buildFailedTransactionModal(),
          this.instantiatePurchasesModal(),
          this.buildCTABlockSection();
      },
      subscriptionBindings: function () {
        this.bind(
          "billing.update",
          function () {
            this.showPastDueModal();
          }.bind(this)
        );
        var e = function () {
          var e;
          (e = {
            type: "warning",
            content:
              'Please create an account to continue your purchase.<br /> Already have an account?                         <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_LOGIN +
              '\')" class="trigger_login_link" role="button">Log In</a>',
            contentForceLogIn:
              'Please log in to continue your purchase.<br /> Don\'t have an account?                         <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_SIGNUP +
              '\')" class="trigger_signup_link" role="button">Sign Up</a> today!',
          }),
            this.appNavBar.ssoModal.activate(),
            this.appNavBar.ssoModal.showMessage(e),
            this.pricingModal && this.pricingModal.deactivate();
        }.bind(this);
        this.subscriptionsPartial
          .bind(
            "subscription.success",
            function (e) {
              this.subscriptionSuccess(e);
            }.bind(this)
          )
          .bind(
            "subscription.failure",
            function (e) {
              this.subscriptionFail(e);
            }.bind(this)
          )
          .bind("subscribe:button:clicked", function (e) {
            this.subscribeButtonClick(e);
          })
          .bind(
            "show:purchaseModal",
            function () {
              this.purchasesModal.activate();
            }.bind(this)
          )
          .bind("purchase.not_logged_in", e),
          this.ctaBlockSection &&
            this.ctaBlockSection
              .bind("subscribe:button:clicked", function (e) {
                this.subscribeButtonClick(e);
              })
              .bind(this)
              .bind(
                "subscription.success",
                function (e) {
                  this.subscriptionSuccess(e),
                    this.dispatch("subscription.success");
                }.bind(this)
              )
              .bind("purchase.not_logged_in", e),
          Modals.Billing.bindBillingButtons();
      },
      subscriptionSuccess: function (e) {
        this.appNavBar.updateStatus(),
          this.footerController && this.footerController.updatePricingButton(),
          this.showCelebrationModal();
        var t = Helpers.App.getSubscription();
        if (t && !t.is_paused) {
          if (!this.ctaBlockSection) return;
          var n = this.ctaBlockSection.element.parents("#landing-pages");
          this.ctaBlockSection.destroy(), n.remove();
        }
      },
      subscriptionFail: function (e) {
        var t =
          (e.data && e.data.message) ||
          "Your subscription could not be actived, please try again later";
        this.flash(t, "alert", {
          autoclose: {
            milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
          },
        });
      },
      buildSubscriptionModal: function () {
        (this.modalSubscription = new UI.SubscriptionsPartial({
          name: "subscriptionsPartial",
          isMobile: Helpers.App.isMobile(),
          type: "modal",
          mockupsStagesCount: window._pl_mockupsStagesCount,
        })),
          this.appendChild(this.modalSubscription),
          this.subscriptionsPartial.element.on(
            "show.bs.modal",
            function () {
              if (Helpers.App.getSubscription()) {
                var e = $(
                  '.plan-container[data-plan="' +
                    Helpers.App.getSubscription().plan.recurly_uuid +
                    '"]'
                );
                e.addClass("disabled").trigger("click");
              }
            }.bind(this)
          );
      },
      buildCTABlockSection: function () {
        var e = $("#cta-block-section"),
          t = Helpers.App.getSubscription();
        1 === e.length && t === !1
          ? ((this.ctaBlockSection = new UI.CTABlockSection({
              name: "ctaBlockSection",
              element: e,
            })),
            this.appendChild(this.ctaBlockSection))
          : e.remove();
      },
      buildBillingOptionsModal: function () {
        Modals.Billing.billingUpdateOptions = new UI.SimpleModal({
          name: "billingOptionsModal",
          hasHeader: !0,
          headerContent:
            '<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                    <h4>Your Account is Past Due</h4>                    <p class="modal-subheading">Please choose from one of the options below</p>',
          bodyContent:
            '<button class="button primary retry-card">Try My Card Again</button>                    <button class="button primary update-billing">Update Billing Information</button>                    <p class="text-left modal-disclaimer">Your subscription will be canceled within 4 weeks from the first notice we\'ve emailed you if this issue is not resolved.                    </p>',
          bodyClass: "text-center",
        }).render(this.$body);
      },
      buildFailedTransactionModal: function () {
        Modals.Billing.failedTransactionModal = new UI.SimpleModal({
          name: "failedTransactionModal",
          hasHeader: !0,
          headerContent:
            '<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                    <h4>Sorry we couldn\u2019t process your card!</h4>                    <p class="modal-subheading">Your card was declined.</p>',
          bodyContent:
            '<button class="button primary failed-transaction-accept">OK</button>',
          bodyClass: "text-center",
        }).render(this.$body);
      },
      buildUpdateBillingInfoModal: function () {
        Modals.Billing.updateBillingInfoModal = new UI.SimpleModal({
          name: "updateBillingInfoModal",
          hasHeader: !0,
          headerContent:
            '<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                    <h4>You need to update your card!</h4>                    <p class="modal-subheading">You risk losing your downloads. Please update the information below.</p>',
          bodyContent:
            '<div id="billingInfoModal" class="form-group update-billing-info"></div>',
        }).render(this.$body);
      },
      showSubscriptionPlans: function () {
        return (
          this.subscriptionsPartial.hideFooter(), this.showPricingModal(), this
        );
      },
      showBulkPackages: function () {
        this.instantiatePricingModal()
          .selectTabByName("ImageDownloadPacks")
          .activate();
      },
      flashPastDue: function () {
        var e =
          "Your account is past due! <a href='javascript:page.notification.close();Modals.Billing.handleFixCTA()'>Click here</a> to fix";
        this.flash(e, "warning", {
          autoclose: {
            milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
          },
        });
      },
      showPastDueModal: function () {
        this.flashPastDue(), Modals.Billing.showUpdateBillingInfoModal();
      },
      hidePastDueModal: function () {
        Modals.Billing.hideUpdateBillingInfoModal();
      },
      handlePastDue: function (e) {
        return (
          Modals.Billing.unbindBillingInfoHide()
            .showBillingUpdateOptionsModal(e)
            .bindBillingInfoHide(e),
          this
        );
      },
      showPricingModal: function () {
        return (
          $(".modal:not(#pricingModal)").modal("hide"),
          this.instantiatePricingModal(),
          this.pricingModal.selectTabByName &&
            this.pricingModal.selectTabByName("SubscriptionPlans"),
          this.pricingModal.activate(),
          this
        );
      },
      instantiatePricingModal: function () {
        var e = this.isLogoPage();
        return this.pricingModal
          ? this.pricingModal
          : (e
              ? this.appendChild(
                  new UI.SinglePurchasesModal({
                    name: "pricingModal",
                    leftChild: new UI.LogoPurchaseModal(),
                    rightChild: new UI.SubscriptionsPartial({
                      name: "subscriptionsPartialCompare",
                      type: "modal",
                      title:
                        UI.SinglePurchasesModal
                          .TEXT_SUBSCRIPTIONS_PARTIAL_TITLE,
                      label: "Popular",
                      mockupsStagesCount: window._pl_mockupsStagesCount,
                    }),
                  })
                )
              : this.appendChild(
                  new UI.TabbedModal({
                    name: "pricingModal",
                    page: e ? "logo-page" : null,
                    headerTitle: e ? "What Are You Looking For?" : null,
                    isMobile: Helpers.App.isMobile(),
                    fade: !1,
                    childs: [
                      {
                        widget: this.subscriptionsPartial,
                        rerender: !0,
                        descriptor:
                          "Subscriptions are <b>60%+ cheaper</b> than buying one at a time!",
                        label: "Subscription Plans",
                        renderInTabList: !0,
                        modalWidth: Helpers.App.isMobile() ? "340px" : "591px",
                      },
                    ],
                  }).bind(this)
                ).render(this.$body, !0),
            this.bindingsPricingModal(),
            this.pricingModal);
      },
      bindingsPricingModal: function () {
        var e = this;
        this.pricingModal.bind("modal.shown", function () {
          this.subscriptionsPartial.showAnimate(),
            $("body").addClass("pricing-modal-open");
        }),
          this.pricingModal.bind("modal.hidden", function () {
            this.subscriptionsPartial.hide(),
              $("body").removeClass("pricing-modal-open");
          }),
          this.pricingModal.bind("activate", function () {
            var t = Helpers.App.getUserType();
            Helpers.App.isLoggedIn() ||
              $.cookie("pl_open_pricing_unlogged", !0, {
                path: "/",
              }),
              Helpers.GlobalEventTracker.pricingModalStillshots({
                session: Helpers.App.getTrackerId(),
                user_id: Helpers.App.getUser().id,
                button_clicked: e._getSourceClickLocation(),
                user_type_name: t.name,
                user_type_id: t.id,
              });
          }),
          this.subscriptionsPartial.bind(
            "deactivate",
            function () {
              this.pricingModal.deactivate();
            }.bind(this)
          );
        var t = function () {
          var e;
          (e = {
            type: "warning",
            content:
              'Please create an account to continue your purchase.<br /> Already have an account?                         <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_LOGIN +
              '\')" class="trigger_login_link" role="button">Log In</a>',
            contentForceLogIn:
              'Please log in to continue your purchase.<br /> Don\'t have an account?                         <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_SIGNUP +
              '\')" class="trigger_signup_link" role="button">Sign Up</a> today!',
          }),
            this.appNavBar.ssoModal.activate(),
            this.appNavBar.ssoModal.showMessage(e),
            this.pricingModal && this.pricingModal.deactivate();
        }.bind(this);
        this.pricingModal
          .bind(
            "subscription.success",
            function (e) {
              this.appNavBar.updateUserTypeBanner(),
                this.subscriptionSuccess(e),
                this.dispatch("subscription.success");
            }.bind(this)
          )
          .bind(
            "subscription.failure",
            function (e) {
              this.subscriptionFail(e);
            }.bind(this)
          ),
          this.pricingModal.bind("purchase.not_logged_in", t);
      },
      _getSourceClickLocation: function () {
        var e = "other",
          t = "-pricing-button",
          n = this.pricingModal._activatedBy;
        return n
          ? (n.classList.forEach(function (n) {
              n.match(t) && (e = n.replace(t, ""));
            }),
            e)
          : e;
      },
      instantiatePurchasesModal: function () {
        if (void 0 === this.purchasesModal) {
          var e = this;
          (this.purchasesModal = new UI.SinglePurchasesModal({
            showPreview: !0,
          }).detach()),
            this.purchasesModal
              .bind(
                "purchase.success",
                function (e, t) {
                  (e.data &&
                    e.data.target &&
                    "subscriptionsPartialCompare" === e.data.target.name) ||
                    (this.stage.setDownloaded(!0),
                    $.cookie("pl_processing_tracker", !0, {
                      expires: 1,
                      path: "/",
                    }),
                    this.appNavBar.updateStatus(null, !0),
                    this.appNavBar.updateUserTypeBanner(),
                    "string" == typeof t
                      ? (this.instantiateCouponGiftModal(),
                        this.couponGiftModal.activate())
                      : "boolean" == typeof t &&
                        Helpers.App.isMobileDevice() === !1 &&
                        setTimeout(
                          function () {
                            this.flash(
                              'You earned a free download for a friend! <a href="javascript:Helpers.App.displayGift()">Click here to redeem!</a>',
                              "info",
                              {
                                autoclose: {
                                  milliseconds:
                                    PageController.NOTIFICATION_AUTODISMISS_TIME,
                                },
                              }
                            );
                          }.bind(this),
                          2e3
                        ));
                }.bind(this)
              )
              .bind("purchase.failed", function (t) {
                e.dispatch("subscription.success");
                // var n = t.data && t.data.message || "Sorry the payment could not be processed, please try again.";
                // return t.data && t.data.errorType ? (e.appNavBar.showTooltipError(t.data),
                // e) : 422 === t.data.status ? (e.stage.dispatch("stage.error", {
                //     error: !0,
                //     errorType: "broken-stage",
                //     message: n
                // }),
                // e) : 402 === t.data.status ? (e.stage.updatePremiumFontsInfo(),
                // page.stage.setPaidTheme(),
                // e) : void (t.data && t.data.target && "purchaseOverlay" === t.data.target.name || e.flash(n, "alert", {
                //     autoclose: {
                //         milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME
                //     }
                // }))
              })
              .bind("purchase.not_logged_in", function () {
                e.dispatch("subscription.success");
                // e.appNavBar.autoModal("purchase")
              }),
            this.purchasesModal.bind("subscription.success", function () {
              e.dispatch("subscription.success");
            });
        }
        return this.purchasesModal;
      },
      _purchaseOpenEventHandler: function () {
        /update/.test(window.location.search) && this.billingInfo.destroy();
      },
      _purchaseClosedEventHandler: function () {
        if (/update/.test(window.location.search)) {
          var e = window.recurly.Recurly;
          (window.recurly = new e()),
            (window.recurly.Recurly = e),
            this._instantiateBillingInfo();
        }
      },
      _instantiateBillingInfo: function () {
        this.appendChild(
          new UI.BillingInfo({
            name: "billingInfo",
            accountRecord: window.account,
          })
        ),
          this.billingInfo.bind("update.success", function () {
            Helpers.App.checkPastDueStatus({
              success: function () {
                window.location.href = "/account/?cardupdated=true";
              },
              applyInvoice: !1,
            });
          }),
          (that = this),
          this.billingInfo.bind("update.failed", function (e) {
            that.flash(e.data, "alert", {
              autoclose: {
                milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
              },
            });
          }),
          this.billingInfo.render($("#billingInfo"));
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        recurly.configure(e);
      },
      bindPurchasesEvents: function (e) {
        var t = this;
        e.bind("purchase.success", function () {
          $.cookie("pl_processing_tracker", !0, {
            expires: 1,
            path: "/",
          }),
            t.appNavBar.updateStatus(null, !0),
            t.appNavBar.updateUserTypeBanner();
        }).bind("purchase.failed", function (e) {
          var n =
            (e.data && e.data.message) ||
            "Sorry the download could not be processed, please try again.";
          return e.data && e.data.errorType
            ? void t.appNavBar.showTooltipError(e.data)
            : void t.flash(n, "alert", {
                autoclose: {
                  milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                },
              });
        });
      },
      showChangeSubscriptionPlanModal: function (e) {
        var t = Helpers.App.getSubscription();
        t !== !1 &&
          (this._instantiateChangeSubscriptionPlanModal(t),
          e
            ? this.subscriptionChangePlanModal.showConfirmation()
            : this.subscriptionChangePlanModal.show());
      },
      _instantiateChangeSubscriptionPlanModal: function (e) {
        var t = this;
        t.subscriptionChangePlanModal ||
          (t
            .appendChild(
              new UI.SubscriptionPlanChangeModal({
                name: "subscriptionChangePlanModal",
                userCurrentPlan: e.plan.recurly_uuid,
                isAnnualPlan: e.is_annual,
              })
            )
            .render(t.$body),
          t.subscriptionChangePlanModal.bind("select:plan", function (e) {
            t.subscriptionChangePlanModal.setLoading(),
              t.changeSubscriptionPlan(e.data.selectedPlan);
          }));
      },
      changeSubscriptionPlan: function (e) {
        var t = this;
        t.subscriptionChangePlanModal
          ._switchSubscriptionPlan(e)
          .then(function () {
            $.cookie("CHANGED_PLAN_COOKIE", "1"), window.location.reload();
          })
          ["catch"](function () {
            t.subscriptionChangePlanModal.close(),
              t.flash(
                "Changing your Subscription Plan was not successful!",
                "alert",
                {
                  autoclose: {
                    milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                  },
                }
              );
          });
      },
      showGoAnnualModal: function () {
        this._instantiateGoAnnualModal(), this.goAnnualModal.show();
      },
      _instantiateGoAnnualModal: function () {
        var e = this;
        e.goAnnualModal ||
          (e
            .appendChild(
              new UI.GoAnnualModal({
                name: "goAnnualModal",
              })
            )
            .render(e.$body),
          e.goAnnualModal.bind("buttonClick", function () {
            e.showChangeSubscriptionPlanModal(!0);
          }));
      },
      _checkChangePlanCookie: function () {
        if (null !== $.cookie("CHANGED_PLAN_COOKIE")) {
          var e = Helpers.App.getSubscription();
          e.is_annual
            ? this.showCelebrationModal()
            : this.flash(
                "Subscription Plan was successfully updated",
                "success",
                {
                  autoclose: {
                    milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                  },
                }
              ),
            $.removeCookie("CHANGED_PLAN_COOKIE");
        }
      },
      _instantiateCelebrationModal: function () {
        var e = this,
          t = Helpers.App.getSubscription();
        e.celebrationModal ||
          (e
            .appendChild(
              new UI.CelebrationModal({
                name: "celebrationModal",
                isAnnual: t.is_annual,
              })
            )
            .render(e.$body),
          e.celebrationModal.bind("goAnnualClick", function () {
            e.showChangeSubscriptionPlanModal(!0);
          }));
      },
      showCelebrationModal: function () {
        var e = Helpers.App.getSubscription();
        ("BR" === window._pl_locale && e && e.is_brazilian === !1) ||
          (this._instantiateCelebrationModal(), this.celebrationModal.show());
      },
      showSubscriptionModal: function () {
        var e = Helpers.App.getSubscription();
        this.appNavBar.closeHamburgerMenu(),
          e && e.can_upgrade_to_annual
            ? this.showGoAnnualModal()
            : this.showPricingModal();
      },
    },
  }),
  Module("PageSupport")({
    prototype: {
      _ifIosDevice: function () {
        var e = navigator.userAgent,
          t = /iPad|iPhone|iPod/.test(e),
          n = /OS 11_0|OS 11_1|OS 11_2/.test(e);
        return t && n ? !0 : !1;
      },
      _stylingOnInit: function () {
        Helpers.App.isMobile() && this.$body.addClass("mobile"),
          Helpers.App.isMobileDevice() &&
            this.$body.addClass("is-mobile-device"),
          this._ifIosDevice() && $("body").addClass("iosBugFixCaret"),
          $(".stage-info").css("visibility", "visible"),
          $(".footer-wrapper").css("visibility", "visible");
      },
      _checkUrlLength: function () {
        var e = location.href.length,
          t = 2083,
          n = 0.8 * t,
          i = {};
        e >= n &&
          t > e &&
          (i = {
            error: !0,
            message:
              "Warning: Maximum url length limit is almost reached (" +
              location.href.length +
              ")",
            eventType: "url.threshold",
          }),
          e >= t &&
            (i = {
              error: !0,
              message:
                "Alert: Maximum url length has been exceeded (" +
                location.href.length +
                ")",
              eventType: "url.lengthExceeded",
            }),
          i.error && Helpers.GlobalEventTracker.track(i.eventType, i);
      },
      notLoggedInHandler: function () {
        var e;
        return (
          console.log("notLoggedInHandler"),
          (e = {
            type: "warning",
            content:
              'Please create an account to continue your purchase.<br /> Already have an account?                     <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_LOGIN +
              '\')" class="trigger_login_link" role="button">Log In</a>',
            contentForceLogIn:
              'Please log in to continue your purchase.<br /> Don\'t have an account?                     <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
              UI.SsoModal.TAB_SIGNUP +
              '\')" class="trigger_signup_link" role="button">Sign Up</a> today!',
          }),
          this.appNavBar.ssoModal.activate(),
          this.appNavBar.ssoModal.showMessage(e),
          this
        );
      },
      flash: function (e, t, n) {
        (t = t || "info"),
          t in this.notification
            ? this.notification[t](e)
            : this.notification.update(e, t),
          this.notification.render($("body"), !0),
          n &&
            n.autoclose &&
            n.autoclose.milliseconds &&
            this.notification.autoclose(n.autoclose.milliseconds),
          Helpers.App.isCustomExperience()
            ? this.customExperience.checkOffsets()
            : this.isHomepage() && this.homePageController.checkOffsets();
      },
      getStageInfoFromURLParams: function () {
        var e, t, n, i, r, s, o;
        return (
          (e = window.location.search),
          (t = /stages\/([a-z0-9_-]+)/i),
          (n = window.location.href.match(t)),
          (i =
            null !== n && "undefined" != typeof n[1]
              ? n[1]
              : window._stageSlug),
          (r = /background=([a-z0-9_-]+)/i),
          (s = e.match(r)),
          (o = {
            valid: !1,
            id: null,
            backgroundId: null,
          }),
          window._stageData &&
            ((o.valid = !0), (o.id = window._stageData.stage_data.id)),
          null !== o.id &&
            null !== s &&
            "undefined" != typeof s[1] &&
            s[1].length > 0 &&
            (o.backgroundId = s[1]),
          o
        );
      },
      isLogoPage: function () {
        return Helpers.App.isLogoPage();
      },
      isHomepage: function () {
        var e =
            "home" === window.pageType.type ||
            "category" === window.pageType.type ||
            "search" === window.pageType.type ||
            window.pageType.no_results,
          t = (this.getStageInfoFromURLParams().valid, this.isBookmarksPage()),
          n = this.isCustomExperience();
        return e === !0 &&
          "" === window._stageSlug &&
          window.isLandingPage === !1 &&
          t === !1 &&
          n === !1
          ? !0
          : !1;
      },
      isStagePage: function () {
        return (
          "stage" === window.pageType.type && window.pageType.no_results === !1
        );
      },
      isCustomExperience: function () {
        return (
          "custom_experiences" === window.pageType.type &&
          window.pageType.no_results === !1
        );
      },
      isCustomPage: function () {
        return "custom_pages" === window.pageType.type;
      },
      isTagPage: function () {
        return /^\/page.*/.test(window.location.pathname);
      },
      isCategoryPage: function n() {
        var e, t, n;
        return (
          (e = window.location.pathname),
          (t = this.constructor.CATEGORY_NAME_EXPRESSION.test(e)),
          (n = !1),
          t === !0 && "" === window.location.hash && (n = !0),
          n
        );
      },
      isBookmarksPage: function () {
        return $(".page-container.bookmarks").length > 0;
      },
      updateSeoMetas: function () {
        var e = Helpers.StageType.getStageInfo();
        return (
          this.metaTitle.html(e.meta_title),
          this.metaDescription.attr("content", e.meta_desc),
          this
        );
      },
    },
  }),
  Class(UI, "ThumbnailPreviewOverlay")
    .inherits(Widget)
    .includes(BubblingSupport)({
    html: '<div>            <div class="close-button">                <button type="button" class="close" data-dismiss="modal" aria-label="Close">                    <span aria-hidden="true">\xd7</span>                </button>            </div>            <div class="wrapper">                <div class="header">                    <h3 class="previews-title"></h3>                    <a class="button secondary previews-anchor">View All</a>                </div>                <div class="previews-container"></div>            </div>        </div>',
    elementClass: "thumbnail-overlay",
    prototype: {
      init: function (e) {
        var t = this;
        Widget.prototype.init.call(this, e),
          (this._previews = []),
          (this.$previewsContainer = this.element.find(".previews-container")),
          (this.$closeButton = this.element.find(".close-button")),
          (this.$title = this.element.find(".previews-title")),
          (this.$listAnchor = this.element.find(".previews-anchor")),
          (this.$header = this.element.find(".header")),
          (this._debouncedScrollHandler = Helpers.App.debounce(
            t._checkItemsInViewport.bind(t),
            100
          )),
          (this._boundHideHandler = this.hide.bind(this)),
          this.$previewsContainer.bind("scroll", this._debouncedScrollHandler),
          this.$closeButton.bind("click", this._boundHideHandler),
          this.element.bind("click", this._boundHideHandler),
          this.$previewsContainer.bind("click", function (e) {
            e.stopPropagation();
          }),
          this.hide();
      },
      setPreviews: function (e) {
        this._renderPreviews(e.previews),
          e.title.length && e.listAnchor.length
            ? (this.$header.show(),
              this._setTitle(e.title),
              this._setListAnchor(e.listAnchor))
            : this.$header.hide(),
          this.show();
      },
      _setTitle: function (e) {
        this.$title.text(e);
      },
      _setListAnchor: function (e) {
        this.$listAnchor.attr("href", e);
      },
      hide: function () {
        this.children.forEach(function (e) {
          e.disableBookmark();
        }),
          Widget.prototype.hide.call(this);
      },
      show: function () {
        Widget.prototype.show.call(this), this._checkItemsInViewport();
      },
      _renderPreviews: function (e) {
        this.clearPreviewItems();
        var t = this;
        e.forEach(function (e, n) {
          (e.name = "previewItem" + n),
            t
              .appendChild(new UI.PreviewOverlayItem(e))
              .render(t.$previewsContainer);
        }),
          t.bind("bookmarked", function () {
            Helpers.App.isLoggedIn() === !1 && t.hide();
          });
      },
      clearPreviewItems: function () {
        for (; this.children.length; ) this.children.pop().destroy();
      },
      _checkItemsInViewport: function () {
        var e = this.$previewsContainer.get(0).scrollLeft,
          t = e + this.$previewsContainer.get(0).offsetWidth;
        this.children.forEach(function (n) {
          if (n.isVideo === !0) {
            var i = n.element.get(0),
              r = i.offsetLeft,
              s = i.offsetLeft + i.offsetWidth;
            t >= r && s >= e ? n.playVideo() : n.pauseVideo();
          }
        });
      },
    },
  }),
  Class(UI, "StagesListItem").inherits(Widget).includes(BubblingSupport)({
    prototype: {
      isMobile: !1,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.videoLoadPromise = null),
          (this.$video = this.element.find("video")),
          (this.$image = this.element.find("img")),
          (this.$container = this.element.find(".img-container")),
          this.isMobile === !1 && this._bindEvents();
      },
      _bindEvents: function () {
        (this._mouseEnterHandler = this._onMouseEnter.bind(this)),
          (this._mouseLeaveHandler = this._onMouseLeave.bind(this)),
          this.$container.mouseenter(this._mouseEnterHandler),
          this.$container.mouseleave(this._mouseLeaveHandler);
      },
      _onMouseEnter: function () {
        this.$video.attr("loop", !0), this.playVideoFlow();
      },
      _onMouseLeave: function () {
        this.videoLoadPromise &&
          (this.videoLoadPromise.cancel(), (this.videoLoadPromise = null)),
          this.$video.removeAttr("loop"),
          this.stopVideoFlow();
      },
      _isVideoReady: function () {
        return 4 === this.$video.get(0).readyState;
      },
      _loadVideo: function () {
        var e = this,
          t = P.cancelable(function () {
            return new Promise(function (t, n) {
              e.$video.on("loadeddata", t),
                e.$video.on("error", n),
                e.$video.attr("src", e.$video.attr("data-src"));
            });
          });
        return t();
      },
      _showVideo: function () {
        var e = this;
        return new Promise(function (t) {
          e.isMobile
            ? e.$video.fadeIn(100, t)
            : (e.$video.css({
                display: "block",
                visibility: "visible",
              }),
              t());
        });
      },
      _hideVideo: function () {
        var e = this;
        return new Promise(function (t) {
          e.isMobile
            ? e.$video.fadeOut(100, t)
            : (e.$video.css("visibility", "hidden"), t());
        });
      },
      _onEndedVideo: function () {
        this.dispatch("videoEnded");
      },
      _startPlayVideo: function () {
        return this.$video.get(0).play();
      },
      _playVideo: function () {
        var e = this;
        (this._endedVideoHandler = this._onEndedVideo.bind(this)),
          (this._startPlayVideoHandler = this._startPlayVideo.bind(this)),
          e.$video.off("loadeddata"),
          e.$video.off("error"),
          e.$video.off("ended"),
          e
            ._showVideo()
            .then(this._startPlayVideoHandler)
            ["catch"](function () {
              window.devMode === !0 && console.log("PAUSE VIDEO ERROR");
            })
            ["finally"](function () {
              e.$video.on("ended", e._endedVideoHandler);
            });
      },
      playVideoFlow: function () {
        var e = this;
        e._isVideoReady() === !0
          ? e._playVideo()
          : ((e.videoLoadPromise = e._loadVideo()),
            e.videoLoadPromise
              .then(function () {
                e._playVideo();
              })
              ["catch"](function () {
                window.devMode === !0 &&
                  console.log("Cancelled load video promise");
              }));
      },
      _stopVideo: function () {
        this.$video.get(0).pause(), (this.$video.get(0).currentTime = 0);
      },
      stopVideoFlow: function () {
        (this._stopVideoHandler = this._stopVideo.bind(this)),
          this._hideVideo().then(this._stopVideoHandler);
      },
    },
  }),
  Class(UI, "StagesList").inherits(Widget).includes(BubblingSupport)({
    prototype: {
      isMobile: !1,
      init: function (e) {
        Widget.prototype.init.call(this, e);
        var t = this;
        this.element.children().each(function (e, n) {
          t.appendChild(
            new UI.StagesListItem({
              element: $(n),
              isMobile: t.isMobile,
            })
          );
        }),
          this.isMobile === !0 && (this.bindEvents(), this._startRandomPlay());
      },
      bindEvents: function () {
        var e = this;
        e.bind("videoEnded", function (t) {
          t.data.target.stopVideoFlow(), e._startRandomPlay();
        });
      },
      _startRandomPlay: function () {
        var e = this.children[Math.floor(Math.random() * this.children.length)];
        e.playVideoFlow();
      },
    },
  }),
  Class(UI, "PreviewOverlayItem")
    .inherits(Widget)
    .includes(
      BubblingSupport,
      GenericDestroySupport,
      AlgoliaAnalyticsSupport
    )({
    elementClass: "preview-item",
    html: '<div>            <div class="preview-image"></div>            <a class="anchor button primary">Edit this Template</a>        </div>',
    progressBar:
      '<div class="progress-bar">                    <div class="progress-value"></div>                </div>',
    video: '<video loop autoplay muted playsinline allowfullscreen="false"/>',
    img: "<img />",
    VALID_VIDEO_PROGRESSBAR: "15",
    prototype: {
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$previewImage = this.element.find(".preview-image")),
          (this.$anchor = this.element.find(".anchor")),
          this.element.attr("data-stage-id", this.stageId),
          void 0 !== this.imageSrc &&
            this.imageSrc.length > 0 &&
            this._createImage(this.imageSrc),
          void 0 !== this.videoSrc &&
            this.videoSrc.length > 0 &&
            this._createVideo(this.videoSrc),
          this._setAnchor(this.anchor),
          this._createBookmark(this.isBookmarked),
          this._setAlgoliaAnalyticsBindings();
      },
      _createVideo: function (e) {
        (this.video = $(this.constructor.video)),
          this.video.attr("src", e),
          this.video.attr("type", "video/mp4"),
          this.$previewImage.append(this.video),
          this.imageType === this.constructor.VALID_VIDEO_PROGRESSBAR &&
            ((this.$progressBar = $(this.constructor.progressBar)),
            (this.$progressValue = this.$progressBar.find(".progress-value")),
            this.$previewImage.append(this.$progressBar),
            (this._boundTimeUpdateHandler = this._timeUpdateHandler.bind(this)),
            this.video.bind("timeupdate", this._boundTimeUpdateHandler));
      },
      _timeUpdateHandler: function () {
        var e = this.video.get(0),
          t = Math.floor((100 / e.duration) * e.currentTime);
        this.$progressValue.css("width", t + "%");
      },
      _createImage: function (e) {
        var t = $(this.constructor.img);
        t.attr("src", e), this.$previewImage.append(t);
      },
      _createBookmark: function (e) {
        var t = this;
        this.element.addClass("bookmarkable"),
          this.element.attr("data-bookmarked", e),
          this.bookmark.length > 0
            ? ((this._bookmarkContext = this.bookmark.context),
              this.element.append(this.bookmark),
              this.bookmark.bind("click", function () {
                t.dispatch("bookmarked");
              }))
            : (this.appendChild(
                new UI.Bookmark({
                  name: "bookmark",
                  element: this.element,
                })
              ),
              this.bookmark.bind("notLoggedIn", function () {
                t.dispatch("bookmarked");
              }));
      },
      _setAnchor: function (e) {
        this.$anchor.attr("href", e);
      },
      playVideo: function () {
        this.video.get(0).play();
      },
      pauseVideo: function () {
        this.video.get(0).pause();
      },
      cleanUpVideo: function () {
        if (Helpers.App.isMobile() !== !1 && 0 !== this.video.length) {
          var e = this.video;
          (this.video = this.video.clone(!0, !0)),
            this.video.load(),
            this.video.hide(),
            this.video.insertAfter(e),
            e.hide(),
            (e[0].src = ""),
            e[0].load(),
            e.remove();
        }
      },
      destroy: function () {
        this.isVideo === !0 && this.cleanUpVideo(), this.genericDestroy();
      },
      disableBookmark: function () {
        this._bookmarkContext && $(this._bookmarkContext).append(this.bookmark);
      },
    },
  }),
  Module("SkeletonCardSupport")({
    prototype: {
      bindSkeleton: function (e, t) {
        (e = e || this),
          (t = t || "render"),
          this.bind(t, function () {
            this.dispatch("contentReady", {
              originalDispatcher: e,
            });
          });
      },
    },
  }),
  Module("SkeletonCardManagerSupport")({
    skeletonStrategy: {
      TextControl: "_hideLeftSideBarSkeleton",
      CustomGraphicControl: "_hideLeftSideBarSkeleton",
      AlternateValueControl: "_hideLeftSideBarSkeleton",
      MultiControl: "_hideRightSideBarSkeleton",
      AudioControl: "_hideRightSideBarSkeleton",
      ColorControl: "_hideRightSideBarSkeleton",
      VisibleControl: "_hideLeftSideBarSkeleton",
      StageCanvas: "_hideStageSkeleton",
      StageSmartVideoProduct: "_hideStageVideoSkeleton",
      SavedConfigurations: "_hideCarouselSkeleton",
      SavedDraftsContainer: "_hideCarouselSkeleton",
      Carousel: "_hideCarouselSkeleton",
      ListContainer: "_hideCarouselSkeleton",
      StageGrid: "_hideGridSkeleton",
      VideoSlides: "_hideSlidesSkeleton",
      Tags: "_hideTagsSkeleton",
    },
    TIME_TO_HIDE_ALL_SKELETONS: 1e4,
    TIME_TO_HIDE_SKELETONS_IN_VIDEO: 1500,
    prototype: {
      _timer: null,
      _timeoutToClearSkeletons: null,
      bindSkeletonManager: function () {
        (this.$stageSkeleton = $(".stage-skeleton")),
          (this.$pageApplication = $("#page-application")),
          (this.$stageObjectImage = $(".stage-object-image")),
          (this.$stageObject = $(".stage-object")),
          (this.$tabbedSkeleton = $(".skeleton-cards.tabbed-skeleton")),
          (this.$mobileControlsContainer = $(
            ".stage-mobile-controls-container"
          )),
          this._buildTimer(0),
          this.bind("contentReady", function (e, t) {
            this._hideSkeletonStrategy(t);
          }),
          $(window).on("load", this._clearSkeletons.bind(this, !0)),
          this.bind(
            "videoSlide.onSelectedSlideChange",
            this._changeSlideHandler.bind(this)
          );
      },
      _clearSkeletons: function (e) {
        var t = this;
        clearTimeout(t._timeoutToClearSkeletons),
          (t._timeoutToClearSkeletons = setTimeout(function () {
            (t.leftSideBar || t.rightSideBar) &&
              (t._hideLeftSideBarSkeleton(), t._hideRightSideBarSkeleton()),
              e === !0 && $(".skeleton-cards").hide();
          }, SkeletonCardManagerSupport.TIME_TO_HIDE_ALL_SKELETONS));
      },
      _changeSlideHandler: function () {
        this._showVideoSkeletons(),
          this._cancelTimer(),
          this._buildTimer(
            SkeletonCardManagerSupport.TIME_TO_HIDE_SKELETONS_IN_VIDEO
          ),
          this._timer.then(this._clearSkeletons(!1));
      },
      _buildTimer: function (e) {
        this._timer = P.cancelable(function () {
          return P.delay(e);
        })();
      },
      _cancelTimer: function () {
        null !== this._timer && (this._timer.cancel(), (this._timer = null));
      },
      _rejection: function (e) {
        return "Cancelation Error" === e.message
          ? void console.warn("Cancelation Error")
          : e;
      },
      _hideSkeletonStrategy: function (e) {
        var t, n;
        if (!e.originalDispatcher || !e.originalDispatcher.constructor)
          throw "A Neon widget object must be passed as originalDispatcher";
        if (
          ((t = e.originalDispatcher.constructor.className),
          (n = SkeletonCardManagerSupport.skeletonStrategy[t]),
          void 0 === n)
        )
          throw t + " has not behavior defined";
        this[n](e);
      },
      _hideLeftSideBarSkeleton: function () {
        var e = this;
        this._timer
          .then(function () {
            Helpers.App.isMobile() === !1
              ? e._hideLeftSideBarSkeletonAndShowSidebarItems()
              : e._hideTabbedContainerSkeleton();
          })
          ["catch"](this._rejection);
      },
      _hideLeftSideBarSkeletonAndShowSidebarItems: function () {
        this.leftSideBar.getElement().find(".skeleton-cards").hide(),
          this.leftSideBar.getElement().removeClass("not-show");
      },
      _hideRightSideBarSkeleton: function () {
        var e = this;
        this._timer
          .then(function () {
            Helpers.App.isMobile() === !1
              ? e._hideRightSideBarSkeletonAndShowSidebarItems()
              : e._hideTabbedContainerSkeleton();
          })
          ["catch"](this._rejection);
      },
      _hideRightSideBarSkeletonAndShowSidebarItems: function () {
        this.rightSideBar.getElement().find(".skeleton-cards").hide(),
          this.rightSideBar.getElement().removeClass("not-show");
      },
      _hideStageSkeleton: function (e) {
        this.$stageSkeleton.hide(),
          e.originalDispatcher.showStageImageVisible(),
          $("form#page-application").attr("style", "visibility:visible");
      },
      _hideStageVideoSkeleton: function (e) {
        var t = this;
        this._timer
          .then(function () {
            t.$stageSkeleton.hide(),
              $("form#page-application").attr("style", "visibility:visible"),
              e.originalDispatcher.slideFetchFailed !== !0 &&
                (t._showStageVideo(),
                e.originalDispatcher.setSlideIndicatorPosition()),
              e.originalDispatcher.dispatch("video-skeleton:hidden");
          })
          ["catch"](this._rejection);
      },
      _showStageVideo: function () {
        this.$stageObjectImage.css("display", "flex"),
          this.$stageObjectImage.css("visibility", "visible"),
          this.$pageApplication.css("visibility", "visible"),
          this.$stageObject.css("visibility", "visible").removeClass("hide");
      },
      _hideGridSkeleton: function (e) {
        var t = $(e.originalDispatcher.element).attr("data-grid-name");
        if (void 0 !== t) {
          $("." + t + "-skeleton").hide();
          var n = $(e.originalDispatcher.element);
          n.hasClass("is-hidden")
            ? (n.removeClass("is-hidden"), e.originalDispatcher.setPosition())
            : n.css("visibility", "visible");
        }
      },
      _hideCarouselSkeleton: function (e) {
        var t = $(e.originalDispatcher.element).attr("data-carousel-name");
        if (void 0 !== t) {
          $("." + t + "-skeleton").hide();
          var n = $(e.originalDispatcher.element);
          n.hasClass("is-hidden") &&
            (n.removeClass("is-hidden"),
            e.originalDispatcher.setPosition &&
              e.originalDispatcher.setPosition()),
            n.css("visibility", "visible");
        }
      },
      _hideTagsSkeleton: function () {
        $(".tags-skeleton").hide();
      },
      _hideTabbedContainerSkeleton: function () {
        this.$tabbedSkeleton.hide(),
          this.$mobileControlsContainer.css("visibility", "visible");
      },
      _hideSlidesSkeleton: function () {
        $(".videos-slides-skeleton").hide(),
          $(".video-slides-container").css("visibility", "visible");
      },
      _showVideoSkeletons: function () {
        this.$stageSkeleton.show(),
          this._hideStageVideo(),
          this._showTabbedContainerSkeleton();
      },
      _hideStageVideo: function () {
        this.$stageObjectImage.css("display", "none"),
          this.$pageApplication.css("visibility", "hidden"),
          this.$stageObjectImage.css("visibility", "hidden"),
          this.$stageObject.css("visibility", "hidden").addClass("hide");
      },
      _showTabbedContainerSkeleton: function () {
        Helpers.App.isMobile() === !0 &&
          (this.$tabbedSkeleton.show(),
          this.$mobileControlsContainer.css("visibility", "hidden"));
      },
    },
  }),
  Module("SkeletonCardBuilder")({
    skeletonBuildStrategy: {
      leftSidebarSkeleton: "_buildLeftSideBarSkeleton",
      rightSidebarSkeleton: "_buildRightSideBarSkeleton",
    },
    buildSkeleton: function (e) {
      var t = SkeletonCardBuilder.skeletonBuildStrategy[e];
      if (void 0 === t) throw e + " has not behavior defined";
      return SkeletonCardBuilder[t]();
    },
    _buildLeftSideBarSkeleton: function () {
      for (
        var e =
            '<div class="skeleton-cards">                                 <div class="label-skeleton"></div>                                <div class="sidebar-skeleton-textcontrols"> ',
          t = 0;
        9 > t;
        t++
      )
        e += '<div class="sidebar-skeleton-textcontrols-item"></div> ';
      e += '</div> <div class="video-sidebar-skeleton-textcontrols"> ';
      for (var t = 0; 3 > t; t++)
        e += '<div class="sidebar-skeleton-textcontrols-item"></div> ';
      return (
        (e +=
          '</div>                         <div class="textbox-skeleton m"></div>                         </div>  '),
        $(e)[0]
      );
    },
    _buildRightSideBarSkeleton: function () {
      for (
        var e =
            '<div class="skeleton-cards">                             <div class="label-skeleton"></div>                            <div class="textbox-skeleton l"></div>                            <div class="label-skeleton"></div>                            <div class="multicontrol-skeleton"> ',
          t = 0;
        6 > t;
        t++
      )
        e += ' <div class="multicontrol-skeleton-item"></div> ';
      e +=
        '</div><div class="label-skeleton"></div>                           <div class="textbox-skeleton l"></div>                           <div class="multicontrol-skeleton"> ';
      for (var t = 0; 6 > t; t++)
        e += ' <div class="multicontrol-skeleton-item"></div> ';
      return (e += "</div></div> "), $(e)[0];
    },
  }),
  Class("PageController").includes(
    CustomEventSupport,
    NodeSupport,
    PostMessageSupport,
    SubscriptionSupport,
    PageSupport,
    BubblingSupport,
    SkeletonCardManagerSupport
  )({
    CATEGORY_NAME_EXPRESSION: /c\/([a-z0-9_-]+)?/i,
    NOTIFICATION_AUTODISMISS_TIME: 3e3,
    modalSubscription: null,
    prototype: {
      faqContentRendered: !1,
      videoFAQContentRendered: !1,
      isHomepageView: !1,
      sidebarsLoaded: !1,
      navbarContext: {},
      savedConfigurationRequest: null,
      contentFilters: {},
      breakpoints: {
        desktop: 1024,
        mobile: 604,
        new: 900,
      },
      commonComponents: [
        "buildNavbar",
        "buildSearchBar",
        "buildNotifications",
        "initializeSubscriptionSupport",
        "initializeUserIpLocation",
        "checkRequestedModal",
        "_checkUrlLength",
        "_stylingOnInit",
      ],
      pageStrategy: {
        home: [
          "initCommonComponents",
          "buildFooter",
          "loadHomepageView",
          "authenticationPurchasesBindings",
          "openSsoModalOnRedirect",
        ],
        stage: [
          "initCommonComponents",
          "buildFooter",
          "loadSavedConfiguration",
          "loadStageView",
        ],
        bookmarks: ["initCommonComponents", "buildFooter", "loadBookmarksView"],
        custom: ["initCommonComponents", "buildFooter", "loadCustomView"],
        account: ["initCommonComponents", "loadAccountView"],
        cancel: ["initCommonComponents", "loadCancelAccountView"],
        purchases: ["initCommonComponents", "loadPurchasesView"],
        emailListUnsubscribe: [
          "initCommonComponents",
          "loadEmailListUnsubscribeView",
        ],
        default: ["initCommonComponents"],
        about: ["initCommonComponents", "loadAboutView"],
        saved_drafts: ["initCommonComponents", "loadSavedDraftsView"],
        switchSubscription: [
          "initCommonComponents",
          "loadSwitchSubscriptionView",
        ],
      },
      init: function (e) {
        var t = this;
        this.isDevMode() === !0 && (window.devMode = !0),
          (this.$body = $(document.body)),
          (this.$pageWrapper = $("#container")),
          (this.$pageContainer = $(".page-container")),
          (this.$application = $("#page-application")),
          (this.$uservoiceFeedbackSection = $(".uservoice-feedback")),
          (this.$userVoiceButton = this.$uservoiceFeedbackSection.find("a")),
          (this.contentFilters = {
            f_types: Helpers.App.getUrlParam("f_types", location.href),
            f_devices: Helpers.App.getUrlParam("f_devices", location.href),
            f_gender: Helpers.App.getUrlParam("f_gender", location.href),
            f_age: Helpers.App.getUrlParam("f_age", location.href),
            f_ethnicity: Helpers.App.getUrlParam("f_ethnicity", location.href),
            f_tags: Helpers.App.getUrlParam("f_tags", location.href),
          }),
          t
            .appendChild(
              new UI.ThumbnailPreviewOverlay({
                name: "thumbnailPreviewOverlay",
              })
            )
            .render($("body")),
          t.bind("thumbnailPreview", function (e) {
            t.thumbnailPreviewOverlay.setPreviews(e.data);
          }),
          t._getPageStrategy(e.strategy).forEach(function (e) {
            console.log(e), t._getMethodByName(e).bind(t)();
          }),
          this.subscriptionBindings(),
          this.postMessageBindings(),
          this.globalBindings(),
          Helpers.CouponHelper.load();
        var n, i;
        Helpers.App.isLoggedIn() &&
          ((n = Helpers.UserSegment.getNoSegmentCookie()),
          (i = Helpers.UserSegment.getUserSegmentCookie()),
          null === n && null === i && Helpers.UserSegment.request()),
          this.showShortcutError(),
          this._checkChangePlanCookie();
      },
      _getPageStrategy: function (e) {
        if (void 0 === this.pageStrategy[e])
          throw "page type " + e + " is not supported";
        return this.pageStrategy[e];
      },
      _getMethodByName: function (e) {
        if ("function" != typeof this[e]) throw e + " is not function";
        return this[e];
      },
      initCommonComponents: function () {
        var e = this;
        e.commonComponents.forEach(function (t) {
          console.log("  - " + t), e._getMethodByName(t).bind(e)();
        });
      },
      initializeUserIpLocation: function () {
        this.userLocation = new UserIpLocation({
          name: "userLocation",
          endpoint: "https://pro.ip-api.com/json/",
          key: window.ipApiConfig.apiKey,
        });
      },
      buildNavbar: function () {
        var e;
        this.appNavBar ||
          ((e = $(".navbar-container")),
          (this.navbarContext = {
            isLogged: Helpers.App.isLoggedIn(),
            hasCredits:
              Registry.Credits.getTotal() || Helpers.App.getSubscription(),
            hasBookmarks: Helpers.App.getBookmarksCount() > 0,
            isStage: this.isStagePage(),
            isAdmin: Helpers.App.isAdmin(),
            pageName: Helpers.App.pageName(),
          }),
          this.appendChild(
            new UI.Navigation.NavBar({
              name: "appNavBar",
              element: e,
              context: this.navbarContext,
            })
          ));
      },
      buildSearchBar: function () {
        var e = new UI.GlobalSearch.SearchController({
            searchService: new UI.GlobalSearch.SearchService({
              algoliaConfig: window.algoliaConfig,
            }),
            categoriesData: window.navBar.menu,
          }),
          t = new UI.GlobalSearch.SearchContainer({
            name: "searchContainer",
            element: $(".global-search-container"),
            searchTerm: e.getSearchTermFromUrl(),
            searchPlaceholder: "Search Mockups, Logos, Design Templates",
            categoriesData: e.getCategoriesData(),
          });
        this.appNavBar.bind("menu-open", function () {
          t.closeAllDropdowns(), e.toggleAutocompleteDropdown(!1);
        }),
          this.appNavBar.bind("menu-close", function () {
            e.toggleAutocompleteDropdown(!0);
          }),
          this.appNavBar.bind("accountInfo-open", function () {
            e.toggleAutocompleteDropdown(!1);
          }),
          this.appNavBar.bind("accountInfo-close", function () {
            setTimeout(function () {
              e.toggleAutocompleteDropdown(!0);
            }, 300);
          }),
          e.setSearchContainer(t),
          this.appendChild(t),
          (this.searchController = e);
      },
      buildNotifications: function () {
        this.notification = new UI.Notification({});
      },
      buildFooter: function () {
        (this.footerElement = $("#footer-header")),
          this.appendChild(
            new UI.FooterController({
              name: "footerController",
            })
          );
      },
      postLoadStrategyHome: function () {
        this.homepageBindings(),
          this.$pageContainer.addClass("homepage"),
          this.loadFromUrlTitlesEnabled(),
          this.loadFromUrlFiltersEnabled();
      },
      loadHomepageView: function () {
        (this.homepageElement = $("#page-homepage")),
          this.appendChild(
            new UI.Homepage({
              element: this.homepageElement,
              body: this.$pageContainer,
              footer: this.footerElement,
              name: "homePageController",
              type: "devices",
              isTagPage: this.isTagPage(),
              isCategoryPage: this.isCategoryPage(),
              breakpoints: this.breakpoints,
              filtersOff: this.loadFromUrlFiltersEnabled().filters,
            })
          ),
          this.homePageController.checkOffsets(),
          this.postLoadStrategyHome();
      },
      loadCustomView: function () {
        (this.homepageElement = $("#page-homepage")),
          this.isCustomExperience() &&
            this.$pageContainer.addClass("is_custom-experience"),
          Helpers.App.isCustomExperience() &&
            (this.appendChild(
              new UI.CustomExperience.Page({
                element: this.homepageElement,
                body: this.$pageContainer,
                footer: this.footerElement,
                name: "customExperience",
                type: "devices",
                isTagPage: this.isTagPage(),
                isCategoryPage: this.isCategoryPage(),
                breakpoints: this.breakpoints,
                filtersOff: this.loadFromUrlFiltersEnabled().filters,
              })
            ),
            this.customExperience.checkOffsets(),
            this.bindPurchasesEvents(this.customExperience),
            this._customExperienceBindings()),
          Helpers.App.isCustomPage() === !0 && this._setPricesInCustomPage(),
          this.postLoadStrategyHome();
      },
      loadBookmarksView: function () {
        (this.gridContainer = $(".gridalicious__grid-wrapper")),
          this.appendChild(
            new UI.Grid({
              name: "grid",
              element: this.gridContainer,
            })
          ),
          this.postLoadStrategyHome(),
          this.bookmarksBindings();
      },
      loadStageView: function () {
        function e(e) {
          return e
            .replace(/(\_\w)/g, function (e) {
              return e[1].toUpperCase();
            })
            .replace(/^\w/, function (e) {
              return e.toUpperCase();
            });
        }
        (this.stageWrapper = $(".stage-object")),
          (this.metaTitle = $("title")),
          (this.metaDescription = $("meta[name=description]")),
          (this.navbarContext.isStage = !0),
          (this.$taxInformation = $("p.tax-title")),
          (this.euCountries = Helpers.App.getEUCountries());
        var t = $("#previewImage"),
          n = window.previewImageSrc;
        switch (
          (t.length > 0 && (n = t[0].src),
          window._stageData.stage_data.image_type)
        ) {
          case 13:
            this._buildStageCanvas(n);
            break;
          case 15:
            this.appendChild(
              new UI.StageSmartVideoProduct({
                name: "stage",
                element: $(".stage-object-image"),
                pageContainer: this.$pageContainer,
                isCategoryPage: this.isCategoryPage(),
                breakpoints: this.breakpoints,
                CATEGORY_NAME_EXPRESSION:
                  this.constructor.CATEGORY_NAME_EXPRESSION,
                savedConfigurationData: this.savedConfigurationData,
              })
            );
            break;
          case 17:
            var i = {
                name: "stage",
                element: $(".stage-object-image"),
                pageContainer: this.$pageContainer,
                isCategoryPage: this.isCategoryPage(),
                breakpoints: this.breakpoints,
                source: n,
                CATEGORY_NAME_EXPRESSION:
                  this.constructor.CATEGORY_NAME_EXPRESSION,
                purchasesModal: this.purchasesModal,
                navBar: this.appNavBar,
              },
              r = Helpers.StageType.getStageData().tool_name,
              s = e(r),
              o = s + "Page";
            this.appendChild(new UI.Tool[o](i));
            break;
          default:
            return (
              this.appendChild(
                new UI.UnsupportedMobileBrowserModal({
                  name: "unsupportedMobileBrowserModal",
                })
              ),
              this.unsupportedMobileBrowserModal.activate()
            );
        }
        this.instantiatePurchasesModal(),
          window.devmode && this.$body.addClass("devmode"),
          this.stageBindings();
      },
      _buildStageCanvas: function (e) {
        var t = [],
          n = window._stageData.stage_data;
        n && Array.isArray(n.group_tags) === !0 && (t = n.group_tags),
          window.apiPage === !0 && (window.backupParent = window.parent),
          this.appendChild(
            new UI.SmartTemplate.StageCanvas({
              name: "stage",
              element: $(".stage-object-image"),
              pageContainer: this.$pageContainer,
              isCategoryPage: this.isCategoryPage(),
              breakpoints: this.breakpoints,
              source: e,
              groupTags: t,
              CATEGORY_NAME_EXPRESSION:
                this.constructor.CATEGORY_NAME_EXPRESSION,
            })
          );
      },
      initInnerPages: function () {
        var e;
        /upgrade/.test(window.location.search)
          ? ((e = "Your subscription has been updated"),
            this.notification.success(e).render($(".page-container"), !0))
          : /cardupdated/.test(window.location.search)
          ? ((e = "Your card has been updated!"),
            this.notification.success(e).render($(".page-container"), !0))
          : /show_plans/.test(window.location.search) &&
            this.instantiatePricingModal().activate(),
          /update/.test(window.location.search) &&
            this._instantiateBillingInfo(),
          this.subscriptionsPartial.bind(
            "purchase.open",
            this._purchaseOpenEventHandler.bind(this)
          ),
          this.subscriptionsPartial.bind(
            "purchase.closed",
            this._purchaseClosedEventHandler.bind(this)
          );
      },
      loadAccountView: function () {
        var e = this;
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.Account({
              name: "account",
              element: $(".page-container"),
            })
          ),
          e.account.bind("changePlanClick", function () {
            e.showChangeSubscriptionPlanModal();
          });
      },
      loadCancelAccountView: function () {
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.CancelAccount({
              name: "cancelAccount",
              element: $(".page-cancel-subscription"),
            })
          );
      },
      loadSwitchSubscriptionView: function () {
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.SwitchSubscription({
              name: "switchSubscription",
              element: $(".page-switch-subscription"),
            })
          );
      },
      loadPurchasesView: function () {
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.PastDownloads({
              name: "purchases",
            })
          ),
          this.videoBindings();
      },
      loadSavedDraftsView: function () {
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.SavedDraftsPage({
              name: "savedDrafts",
            })
          );
      },
      loadEmailListUnsubscribeView: function () {
        this.initInnerPages.bind(this)(),
          this.appendChild(
            new UI.EmailListUnsubscribe({
              name: "emailListUnsubscribe",
            })
          );
      },
      loadAboutView: function () {
        !(function (e, t, n) {
          var i,
            r = e.getElementsByTagName(t)[0],
            s = /^http:/.test(e.location) ? "http" : "https";
          e.getElementById(n) ||
            ((i = e.createElement(t)),
            (i.id = n),
            (i.src = s + "://platform.twitter.com/widgets.js"),
            r.parentNode.insertBefore(i, r));
        })(document, "script", "twitter-wjs");
      },
      loadFromUrlFiltersEnabled: function () {
        var e,
          t = this,
          n = {
            filters: !1,
          };
        t.isCustomExperience &&
          t.isCustomExperience() &&
          (e = t.customExperience),
          t.isHomepage && t.isHomepage() && (e = t.homePageController);
        var i = Helpers.App.getUrlParam("filters", location.href, !1),
          r =
            (i && "off" === i.toLowerCase()) ||
            (window.experience && window.experience.filtersOff);
        return (
          this.isCustomExperience() &&
            "undefined" != typeof customExperienceFlag &&
            (r = !0),
          e &&
            (r ||
              (e.filters && e.filters.show(),
              e.grid.element.removeClass("no-filters"),
              $(".footer-wrapper").removeClass("no-filters"),
              $(".pagination").removeClass("no-filters")),
            r === !0 &&
              (e.filters && e.filters.hide(),
              e.grid.element.addClass("no-filters"),
              $(".footer-wrapper").addClass("no-filters"),
              $(".pagination").addClass("no-filters"),
              (n.filters = !0))),
          r === !0 && (n.filters = !0),
          n
        );
      },
      loadFromUrlTitlesEnabled: function () {
        var e = Helpers.App.getUrlParam("titles", location.href, !1),
          t =
            (e && "off" === e.toLowerCase()) ||
            (window.experience && window.experience.titlesOff);
        t ||
          ($(".grid-item .figcaption").show(),
          $(".slick-track .figcaption").show()),
          t === !0 &&
            ($(".grid-item .figcaption").hide(),
            $(".slick-track .figcaption").hide());
      },
      globalBindings: function () {
        var e = this,
          t = this._handleClickEvent.bind(this);
        window.isPastDue && this.flashPastDue(),
          e.$userVoiceButton.on("click", function () {
            Helpers.GlobalEventTracker.track("UserVoiceButtonClicked");
          }),
          e.appNavBar
            .bind("signup.success", function () {
              null !== window.savedDraftId && e.loadStageView(),
                e.flash(
                  UI.SsoSignupModal.TEXT_CREATE_ACCOUNT_SUCCESS,
                  "success",
                  {
                    autoclose: {
                      milliseconds:
                        PageController.NOTIFICATION_AUTODISMISS_TIME,
                    },
                  }
                ),
                Helpers.GlobalEventTracker.userSignup(),
                (document.cookie =
                  "userStatus=User; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"),
                e.stage && e.stage.stageActionsManager.dispatch("form.success"),
                Helpers.App.getNextLoginAction() &&
                  e.appNavBar.dispatch(Helpers.App.getNextLoginAction()),
                window.showDiscountInCTABlock &&
                  window.showDiscountInCTABlock(),
                e.footerController &&
                  e.footerController.hideFreeAccountButton();
            })
            .bind("login.success", function () {
              null !== window.savedDraftId &&
                (e.stage.getDraft(window.savedDraftId, !0),
                (window.saveDraftReload = !0)),
                e.stage && e.stage.stageActionsManager.dispatch("form.success"),
                Helpers.App.getAccountInfo(),
                (document.cookie =
                  Helpers.App.getSubscription() !== !1
                    ? "userStatus=Subscriber; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"
                    : "userStatus=User; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"),
                e.footerController &&
                  (e.footerController.updatePricingButton(),
                  e.footerController.hideFreeAccountButton());
              var t = Helpers.App.getSubscription();
              if (t && !t.is_paused) {
                if (!page.ctaBlockSection) return;
                var n = page.ctaBlockSection.element.parents("#landing-pages");
                e.ctaBlockSection.destroy(), n.remove();
              }
              Helpers.App.getNextLoginAction() &&
                e.appNavBar.dispatch(Helpers.App.getNextLoginAction()),
                window.showDiscountInCTABlock &&
                  window.showDiscountInCTABlock();
            })
            .bind("sso.modal.shown", function () {
              Helpers.App.setNextLoginAction(null),
                Helpers.App.setNextLoginAction(
                  "compare" === Helpers.App.getSubscribeFromModal()
                    ? "activate-purchase"
                    : "modal" === Helpers.App.getSubscribeFromModal()
                    ? "activate-pricing"
                    : "cta-block" === Helpers.App.getSubscribeFromModal()
                    ? "activate-pricing-from-cta"
                    : null
                ),
                Helpers.App.setSubscribeFromModal(null);
            }),
          e.appNavBar.bind("activate-pricing", function () {
            var t = Helpers.App.getSubscription();
            (!t || (t && t.is_paused)) &&
              (page.isLogoPage()
                ? e.pricingModal &&
                  e.pricingModal.rightChild._handlePlanSubscribe()
                : e.pricingModal &&
                  e.pricingModal.subscriptionsPartial._handlePlanSubscribe());
          }),
          e.appNavBar.bind("activate-pricing-from-cta", function () {
            var t = Helpers.App.getSubscription();
            (!t || (t && t.is_paused)) &&
              e.ctaBlockSection &&
              e.ctaBlockSection._handlePlanSubscribe();
          }),
          e.appNavBar.bind("activate-pricing-coupon", function () {
            e.pricingModal && e.pricingModal.activate();
          }),
          e.appNavBar.bind("activate-purchase", function () {
            var t = Helpers.App.getNextLoginAction();
            !t ||
              (t && "activate-purchase" !== t) ||
              e.purchasesModal.resumePurchase();
          }),
          e.appNavBar.bind("not-logged", function () {
            e.notLoggedInHandler();
          }),
          e.bind("user-has-bookmarks", function (t) {
            (e.navbarContext.hasBookmarks = t.data),
              e.appNavBar.updateStatus(e.navbarContext);
          }),
          Helpers.CouponHelper.bind("coupon.validated", function () {
            window.isCouponShowed !== !0 &&
              ((window.isCouponShowed = !0),
              Helpers.CouponHelper.applyTo(
                Helpers.CouponHelper.TYPE_SUBSCRIPTION
              ) &&
              Helpers.CouponHelper.getSource() ===
                Helpers.CouponHelper.SOURCE_URL
                ? window.page && window.page.showPricingModal()
                : Helpers.CouponHelper.applyTo(
                    Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
                  ) &&
                  Helpers.CouponHelper.getSource() ===
                    Helpers.CouponHelper.SOURCE_URL
                ? Helpers.SinglePurchaseHelper.showDiscountModal()
                : Helpers.CouponHelper.isValid() === !1 &&
                  Helpers.CouponHelper.getSource() ===
                    Helpers.CouponHelper.SOURCE_URL &&
                  window.page &&
                  window.page.showPricingModal());
          }),
          Helpers.CouponHelper.bind(
            "coupon.error.newUser",
            function () {
              this.flash("This offer is for new users only.", "info", {
                autoclose: {
                  milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                },
              });
            }.bind(this)
          ),
          this.bind(
            "logout",
            function () {
              $.removeCookie("categorySuggestionOverlayShown", {
                path: "/",
              });
            }.bind(this)
          ),
          this.bind("click", t),
          e._setupBreakpointListener();
      },
      _handleClickEvent: function (e) {
        var t,
          n,
          i = this,
          r = e.data.originalDispatcher;
        void 0 !== r &&
          ((t = {
            pricingButton: function () {
              i.showSubscriptionModal();
            },
            userTypeBanner: function () {
              i.showSubscriptionModal();
            },
            freeAccountButton: function () {
              i.appNavBar.showSignupModal();
            },
          }),
          (n = t[r.name]),
          void 0 !== n && n());
      },
      videoBindings: function () {
        var e = this;
        UI.ProcessingVideoProduct.bind("videoproduct:loaded", function (t) {
          e._updateVideoThumbSource(t.data.item.videoproduct_id);
        });
      },
      _updateVideoThumbSource: function (e) {
        var t = $('li[data-videoproduct-id="' + e + '"]'),
          n = t.attr("data-video-path"),
          i = t.find("video");
        if (i.length > 0) {
          var r = $(i[0]);
          r.attr("data-src", n), r.attr("src", n);
        }
      },
      instantiateNotLoggedInModal: function () {
        void 0 === this.appNavBar.ssoModal &&
          (this.appNavBar.instantiateNotLoggedInModal(),
          this.appNavBar.ssoModal.bind(
            "show.login",
            function () {
              "none" != this.appNavBar.$burgerBtn.css("display") &&
                this.appNavBar.$burgerBtn.click(),
                this.appNavBar.$loginButton.click();
            }.bind(this)
          ));
      },
      instantiateFaqModal: function () {
        void 0 === this.faqModal &&
          this.appendChild(
            new UI.RemoteContentModal({
              name: "faqModal",
              title: "Frequently Asked Questions",
              remoteContentURL: "/get_faq_content",
            })
          );
      },
      instantiateVideoFaqModal: function () {
        void 0 === this.videoFaqModal &&
          this.appendChild(
            new UI.RemoteContentModal({
              name: "videoFaqModal",
              title: "Frequently Asked Questions",
              remoteContentURL: "/get_video_faq_content",
            })
          );
      },
      instantiateInteractiveDemoModal: function () {
        void 0 === this.interactiveDemoModal &&
          this.appendChild(
            new UI.RemoteContentModal({
              name: "interactiveDemoModal",
              title: "Frequently Asked Questions",
              remoteContentURL: "/get_interactive_faq_content",
            })
          );
      },
      instantiateRemoteUrlModal: function () {
        if (void 0 === this.remoteUrlModal) {
          this.appendChild(
            new UI.RemoteUrlModal({
              name: "remoteUrlModal",
              mainText: "Grab Screenshot from URL",
            })
          );
          var e = "Grab Screenshot from URL";
          this.remoteUrlModal.updateTitle(e),
            this.remoteUrlModal.bind(
              "grab.remoteURL",
              function (e) {
                this.notification.close(),
                  this.clearUserSource(),
                  this.stage.refreshProductshotData(),
                  this.stage.loadFromUrl(e.data);
              }.bind(this)
            ),
            UI.RemoteUrlModal.bind(
              "url.invalid",
              function (e) {
                this.flash(e.data, "alert", {
                  autoclose: {
                    milliseconds: 1e4,
                  },
                });
              }.bind(this)
            );
        }
      },
      bookmarksBindings: function () {
        var e = this;
        e.grid.bind("thumbnailPreview", function (t) {
          e.thumbnailPreviewOverlay.setPreviews(t.data);
        });
      },
      homepageBindings: function () {
        var e = this;
        e.homePageController &&
          (e.bind("subscription.success", function () {
            e.homePageController.updateHeroBanner();
          }),
          e.appNavBar.bind("login.success", function () {
            e.homePageController.updateHeroBanner();
          }),
          e.homePageController.bind("heroBanner.cta.click", function () {
            e.showSubscriptionModal();
          })),
          e.appNavBar.bind("openAdVideo", function (t) {
            e.instantiateVideoAdModal(t.data), e.newAdVideo.activate();
          }),
          e.bind(
            "filters:filtering",
            function (e) {
              location.href = this.requestNewPage({
                mode: "filter",
                key: e.data.key,
                value: e.data.value,
                heading: Helpers.App.getUrlParam("h", location.href),
              });
            }.bind(this)
          ),
          e.bind(
            "filters:none",
            function () {
              location.href = this.requestNewPage({
                mode: "filters-reset",
              });
            }.bind(this)
          ),
          e.bind("filters:click", function (t) {
            var n = e.requestNewPage({
              mode: "filter",
              key: t.data.key,
              value: t.data.value,
              heading: Helpers.App.getUrlParam("h", location.href),
            });
            t.data.$anchor.attr("href", n);
          }),
          e.bind(
            "paginator:change",
            function (e) {
              var t = {
                  mode: "page",
                  value: e.data.pageNumber,
                  heading: Helpers.App.getUrlParam("h", location.href),
                },
                n = Helpers.App.getUrlParam("sortby", location.href);
              n && (t.key = n), (location.href = this.requestNewPage(t));
            }.bind(this)
          );
      },
      requestNewPage: function (e) {
        var t, n, i, r, s, o, a, l;
        (t = "/"),
          (i = window._pl_category.toLowerCase()),
          (n = window._pl_custom_experience_full_url || location.href);
        var c = this;
        if (
          ("digital" !== i &&
            0 == window._pl_is_homepage &&
            (-1 != i.indexOf(" ") && (i = i.split(" ").join("-")),
            (t += "c/" + i + "/")),
          (Helpers.App.isCustomExperience() ||
            Helpers.App.isCustomPage() ||
            1 == window._pl_is_homepage) &&
            (t = "/"),
          (l = Helpers.App.pageType()),
          null === l.category && l.no_results && (t = "/"),
          ["newest", "best-selling", "mixed", "free"].indexOf(e.key) >= 0)
        ) {
          var u = t + "?sortby=" + e.key,
            d = Helpers.App.getUrlParam("titles", n),
            p = Helpers.App.getUrlParam("filters", n);
          "page" !== e.mode ||
            isNaN(parseInt(e.value)) ||
            (u += "&page=" + e.value),
            d && (u += "&titles=" + encodeURIComponent(d)),
            p && (u += "&filters=" + encodeURIComponent(p));
          var h = {};
          (h.search = Helpers.App.getUrlParam("search", n)),
            (h.page = null),
            (h.f_types = Helpers.App.getUrlParam("f_types", n)),
            (h.f_devices = Helpers.App.getUrlParam("f_devices", n)),
            (h.f_tags = Helpers.App.getUrlParam("f_tags", n)),
            (h.f_models = Helpers.App.getUrlParam("f_models", n)),
            (h.f_gender = Helpers.App.getUrlParam("f_gender", n)),
            (h.f_age = Helpers.App.getUrlParam("f_age", n)),
            (h.f_ethnicity = Helpers.App.getUrlParam("f_ethnicity", n)),
            (h.h = Helpers.App.getUrlParam("h", n)),
            (h.titles = Helpers.App.getUrlParam("titles", n)),
            (h.filters = Helpers.App.getUrlParam("filters", n));
          var f = "";
          return (
            (h.search ||
              h.page ||
              h.f_types ||
              h.f_devices ||
              h.f_tags ||
              h.f_models ||
              h.h ||
              h.f_gender ||
              h.f_age ||
              h.f_ethnicity) &&
              (f =
                "&" +
                Object.keys(h)
                  .filter(function (e) {
                    return (
                      "undefined" != typeof h[e] && null !== h[e] && "" !== h[e]
                    );
                  })
                  .map(function (e) {
                    return e + "=" + encodeURIComponent(h[e]);
                  })
                  .join("&")),
            u + f
          );
        }
        var h = {};
        switch (
          ((h.search = Helpers.App.getUrlParam("search", n)),
          (h.page = null),
          (h.f_types = Helpers.App.getUrlParam("f_types", n)),
          (h.f_devices = Helpers.App.getUrlParam("f_devices", n)),
          (h.f_tags = Helpers.App.getUrlParam("f_tags", n)),
          (h.f_models = Helpers.App.getUrlParam("f_models", n)),
          (h.f_gender = Helpers.App.getUrlParam("f_gender", n)),
          (h.f_age = Helpers.App.getUrlParam("f_age", n)),
          (h.f_ethnicity = Helpers.App.getUrlParam("f_ethnicity", n)),
          (h.h = Helpers.App.getUrlParam("h", n)),
          (h.titles = Helpers.App.getUrlParam("titles", n)),
          (h.filters = Helpers.App.getUrlParam("filters", n)),
          (h.sortby = Helpers.App.getUrlParam("sortby", location.href)),
          (h.industry = Helpers.App.getUrlParam("industry", location.href)),
          (h.industryId = Helpers.App.getUrlParam("industryId", location.href)),
          (h.t = Helpers.App.getUrlParam("t", location.href)),
          (h.graph_id = Helpers.App.getUrlParam("graph_id", location.href)),
          (h.picker_0 = Helpers.App.getUrlParam("picker_0", location.href)),
          (h.picker_1 = Helpers.App.getUrlParam("picker_1", location.href)),
          (h.multiAssetsControl = Helpers.App.getUrlParam(
            "multiAssetsControl",
            location.href
          )),
          (h.searchAssetsControl = Helpers.App.getUrlParam(
            "searchAssetsControl",
            location.href
          )),
          e.mode)
        ) {
          case "page":
            h.page = e.value;
            break;
          case "filter":
            if (h[e.key]) {
              var m, g;
              (m = h[e.key].split(",")),
                (g = m.indexOf(e.value)),
                g > -1 ? m.splice(g, 1) : m.push(e.value),
                (h[e.key] = m.join());
            } else h[e.key] = e.value;
            ("f_devices" === e.key ||
              "f_gender" === e.key ||
              ("f_age" === e.key && "f_ethnicity" === e.key)) &&
              ((tagClass = c._getClassNameByOptionsKey(e.key)),
              (r = this.homePageController.filterBar
                .find(tagClass)
                .map(function (e, t) {
                  return t.querySelectorAll(".item-name")[0].innerHTML.trim();
                })
                .toArray()),
              (s = h[e.key].split(",")),
              (o = []),
              s.forEach(function (e) {
                -1 !== r.indexOf(e) && o.push(e);
              }),
              (h[e.key] = o.join()));
            break;
          case "filters-reset":
            delete h.f_types,
              delete h.f_devices,
              delete h.f_tags,
              delete h.f_models,
              delete h.f_age,
              delete h.f_ethnicity,
              delete h.f_gender,
              (a = !0);
        }
        var f = "?";
        return (
          e.heading ? (h.h = e.heading) : delete h.h,
          (h.search ||
            h.page ||
            h.f_types ||
            h.f_devices ||
            h.f_tags ||
            h.f_models ||
            h.h ||
            h.sortby ||
            h.f_gender ||
            h.f_age ||
            h.f_ethnicity) &&
            (f += Object.keys(h)
              .filter(function (e) {
                return (
                  "undefined" != typeof h[e] && null !== h[e] && "" !== h[e]
                );
              })
              .map(function (e) {
                return e + "=" + encodeURIComponent(h[e]);
              })
              .join("&")),
          t + f
        );
      },
      _getClassNameByOptionsKey: function (e) {
        switch (e) {
          case "f_devices":
            return ".device-tag";
          case "f_gender":
            return ".gender-tag";
          case "f_age":
            return ".age-tag";
          case "f_ethnicity":
            return ".ethnicity-tag";
          default:
            return ".device-tag";
        }
      },
      _setupBreakpointListener: function () {
        var e,
          t,
          n = Helpers.App.getUrlParam("b"),
          i = n || Helpers.App.breakpoint;
        (e = Helpers.App.getClientWidth() <= Helpers.App.breakpoint),
          (t = function (e, t, n) {
            var i;
            return function () {
              var r = this,
                s = arguments,
                o = function () {
                  (i = null), n || e.apply(r, s);
                },
                a = n && !i;
              clearTimeout(i), (i = setTimeout(o, t)), a && e.apply(r, s);
            };
          });
        var r = function () {
          var t = Helpers.App.getClientWidth();
          i >= t && e === !1 && location.reload(),
            t > i && e === !0 && location.reload();
        };
        window.addEventListener("resize", t(r, 250));
      },
      stageBindings: function () {
        var e = this,
          t = this.showSubscriptionModal.bind(this);
        e.stage.bind("user-has-bookmarks", function (t) {
          (e.navbarContext.hasBookmarks = t.data),
            e.appNavBar.updateStatus(e.navbarContext);
        }),
          this.bind(
            "coupon.update",
            function (e) {
              this.flash(e.data, "info", {
                autoclose: {
                  milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                },
              });
            }.bind(this)
          ),
          this.appNavBar.bind("login.success", function () {
            e.stage.colorpickerSharedColors.setRecentlyUsedColors();
          }),
          this.stage
            .bind(
              "stageImage.ready",
              function () {
                this.handleParamActions(), this.updateSeoMetas();
              }.bind(this)
            )
            .bind("success.processing", function () {
              var t = "Couldn't process image, please try again";
              e.notification.element.hasClass("alert-danger") &&
                e.notification.$message.text().indexOf(t) >= 0 &&
                e.notification.autoclose(100);
            })
            .bind("url.invalid", function (t, n) {
              e.flash(n, "alert", {
                autoclose: {
                  milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                },
              });
            })
            .bind("url.success", function () {
              var t = "There was an error with the provided url";
              e.notification.element.hasClass("alert-danger") &&
                e.notification.$message.text().indexOf(t) >= 0 &&
                e.notification.autoclose(0);
            })
            .bind(
              "flash.close",
              function () {
                this.notification.close();
              }.bind(this)
            )
            .bind(
              "video.upload.error",
              function (e) {
                var t = "" + e.data;
                this.flash(t, "alert", {
                  autoclose: {
                    milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                  },
                });
              }.bind(this)
            )
            .bind(
              "upload.input.change",
              function (e) {
                var t = e.data;
                t.length &&
                  this.flash(t, "info", {
                    autoclose: {
                      milliseconds:
                        PageController.NOTIFICATION_AUTODISMISS_TIME,
                    },
                  });
              }.bind(this)
            )
            .bind(
              "download.overlay.activate",
              function () {
                console.log("window.isPastDue", window.isPastDue);
                window.isPastDue
                  ? this.handlePastDue(
                      function () {
                        var e = this;
                        window.isPastDue === !0
                          ? e.purchasesModal.downloadInmediatelyOrActivate.bind(
                              e.purchasesModal
                            )()
                          : Helpers.SubscriptionHelper._refreshSubscription(
                              function () {
                                e.purchasesModal.downloadInmediatelyOrActivate.bind(
                                  e.purchasesModal
                                )();
                              }
                            );
                      }.bind(this)
                    )
                  : this.purchasesModal.downloadInmediatelyOrActivate();
              }.bind(this)
            )
            .bind(
              "stage.error",
              function (e, t) {
                (t = t || {}),
                  (t.stage_type =
                    Helpers.StageType._types[
                      window._stageData.stage_data.image_type
                    ]),
                  (t.stage_id = _stageData.stage_data.id),
                  (t.stage_slug = _stageData.stage_data.slug),
                  t.errorType &&
                    -1 !=
                      ["pinger", "processing", "st-jobs"].indexOf(
                        t.errorType
                      ) &&
                    Helpers.GlobalEventTracker.stageError(t),
                  t.errorType &&
                    -1 != ["broken-stage"].indexOf(t.errorType) &&
                    Helpers.GlobalEventTracker.stageErrorByEventType(
                      "stage.wrongID",
                      t
                    ),
                  t.slideFetchFailed && this._removeUserVoiceSection();
                var n = "" + t.message;
                "" !== n &&
                  this.flash(n, "alert", {
                    autoclose: {
                      milliseconds:
                        PageController.NOTIFICATION_AUTODISMISS_TIME,
                    },
                  });
              }.bind(this)
            )
            .bind(
              "error.processing",
              function (e, t) {
                (t = t || {}),
                  (t.stage_type =
                    Helpers.StageType._types[
                      window._stageData.stage_data.image_type
                    ]),
                  (t.stage_id = _stageData.stage_data.id),
                  (t.stage_slug = _stageData.stage_data.slug),
                  Helpers.GlobalEventTracker.stageError(t);
                var n = "" + e.data.message;
                this.flash(n, "alert", {
                  autoclose: {
                    milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                  },
                });
              }.bind(this)
            )
            .bind(
              "stage.warn",
              function (e) {
                var t = "" + e.data.message;
                this.flash(t, "warning", {
                  autoclose: {
                    milliseconds: 1e3 * e.data.seconds,
                  },
                });
              }.bind(this)
            )
            .bind("notification.reset", function () {
              e.notification.close();
            })
            .bind("stage.infoReady", function () {
              if (this.constructor === UI.SmartTemplate.StageCanvas) {
                var t = {
                  dimensions: this.record.original.size.high,
                  stage_type_name: "smart_template",
                  dpi: this.record.original.size.high.resolution,
                };
                e.purchasesModal.setResolutionData(t);
              }
              if (this.constructor === UI.StageSmartVideoProduct) {
                var n =
                    this.record.original && this.record.original.size
                      ? this.record.original.size
                      : void 0,
                  t = {
                    dimensions: n,
                    stage_type_name: "video_product",
                  };
                e.purchasesModal.setResolutionData(t);
              }
            })
            .bind("resolutionChange", function (t) {
              if (this.constructor === UI.SmartTemplate.StageCanvas) {
                var n = {
                  dimensions: t.data.dimensions,
                  stage_type_name: "smart_template",
                  dpi: t.data.dpi,
                };
                e.purchasesModal.setResolutionData(n);
              }
            })
            .bind(
              "stage.updated",
              function (e) {
                this.purchasesModal.setPreview(e.data);
              }.bind(this)
            )
            .bind(
              "saveDraft.success",
              function (t) {
                var n = t.data.message;
                this.flash(n, "success", {
                  autoclose: {
                    milliseconds: 1e3 * t.data.seconds,
                  },
                }),
                  $("#link-to-saved-drafts").one("click", function (t) {
                    t.preventDefault(), e.stage.goToDraftCarousel();
                  });
              }.bind(this)
            )
            .bind(
              "saveDraft.error",
              function (e) {
                var t = e.data.errorMessage;
                this.flash(t, "alert", {
                  autoclose: {
                    milliseconds: 1e3 * e.data.seconds,
                  },
                });
              }.bind(this)
            )
            .bind(
              "savedDraft.invalidAccount",
              function (e) {
                console.log("invalid account for the draft");
                var t = e.data.errorMessage;
                this.flash(t, "alert", {
                  autoclose: {
                    milliseconds: 1e3 * e.data.seconds,
                  },
                }),
                  setTimeout(function () {
                    window.location.href = window.location.href.replace(
                      window.location.search,
                      ""
                    );
                  }, 1e3 * e.data.seconds);
              }.bind(this)
            )
            .bind(
              "removeDraft.error",
              function (e) {
                console.log("removeDraft.error");
                var t = e.data.errorMessage;
                this.flash(t, "alert", {
                  autoclose: {
                    milliseconds: PageController.NOTIFICATION_AUTODISMISS_TIME,
                  },
                });
              }.bind(this)
            )
            .bind(
              "savedDraft.notLogged",
              function () {
                return null !== window.savedDraftId
                  ? (console.log("SavedDraft login access"),
                    this.instantiateNotLoggedInModal(),
                    void this.flash(
                      'Please <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.activate()" class="trigger_login_link" role="button">login</a> to load your saved draft',
                      "warning",
                      {
                        autoclose: {
                          milliseconds:
                            PageController.NOTIFICATION_AUTODISMISS_TIME + 3e3,
                        },
                      }
                    ))
                  : void 0;
              }.bind(this)
            )
            .bind(
              "missingAudioTrack",
              function (e) {
                var t = e.data.message,
                  n = e.data.timeout;
                this.flash(t, "alert", {
                  autoclose: {
                    milliseconds: n,
                  },
                });
              }.bind(this)
            )
            .bind("thumbnailPreview", function (t) {
              e.thumbnailPreviewOverlay.setPreviews(t.data);
            })
            .bind("pricingButton.click", t);
      },
      checkRequestedModal: function () {
        return /^#license/.test(window.location.hash)
          ? new UI.FriendlyLicenseModal().activate()
          : window.location.hash.indexOf("#pricing") > -1
          ? (this.showPricingModal(), !1)
          : void 0;
      },
      handleParamActions: function () {
        return (
          Helpers.StageType.getStageType().indexOf("still") >= 0 &&
            this.applyUserSource(),
          this
        );
      },
      applyUserSource: function () {
        var e = Helpers.App.getUrlParam("user_source"),
          t = !!e;
        t && this.stage.loadFromUrl(e);
      },
      clearUserSource: function () {
        Helpers.App.getUrlParam("user_source") &&
          window.history.replaceState(
            {},
            Helpers.StageType.getStageSlug(),
            Helpers.App.removeParam("user_source", window.location.href)
          );
      },
      showLicenseModal: function () {
        return (
          $(".modal").modal("hide"), new UI.LicenseModal().activate(), this
        );
      },
      _handleStageSwitch: function () {
        return this;
      },
      instantiateCouponGiftModal: function () {
        void 0 === this.couponGiftModal &&
          this.appendChild(
            new UI.CouponGiftModal({
              name: "couponGiftModal",
            })
          );
      },
      forceSignUp: function () {
        var e;
        (e = {
          type: "warning",
          content:
            'Please create an account to continue editing.<br /> Already have an account?                     <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
            UI.SsoModal.TAB_LOGIN +
            '\')" class="trigger_login_link" role="button">Log In</a>',
          contentForceLogIn:
            'Please log in to continue editing.<br /> Don\'t have an account?                     <a href="#" onclick="event.preventDefault();page.appNavBar.ssoModal.showTab(\'' +
            UI.SsoModal.TAB_SIGNUP +
            '\')" class="trigger_signup_link" role="button">Sign Up</a> today!',
        }),
          this.appNavBar.ssoModal.disableClose(),
          this.appNavBar.ssoModal.activate(),
          this.appNavBar.ssoModal.showMessage(e);
      },
      instanceCouponRedeemModal: function () {
        void 0 === this.couponRedeemModal &&
          (this.appendChild(
            new UI.CouponRedeemModal({
              name: "couponRedeemModal",
            })
          ),
          this.couponRedeemModal.bind(
            "couponRedeemModal:pickStage",
            function () {
              this.homePageController.showCouponText(),
                this.couponRedeemModal.unbind("couponRedeemModal:pickStage");
            }.bind(this)
          ));
      },
      loadSavedConfiguration: function () {
        var e;
        (e = this),
          (e.savedConfigurationData = new Promise(
            window.isSavedConfiguration && window.savedConfigurationUiJsonUrl
              ? function (e, t) {
                  $.ajax({
                    method: "GET",
                    url: window.savedConfigurationUiJsonUrl,
                    dataType: "json",
                  })
                    .done(function (t) {
                      e(t);
                    })
                    .fail(function (e) {
                      t(e);
                    });
                }
              : function (e) {
                  e({
                    collection: [],
                  });
                }
          ));
      },
      showShortcutInstructionsModal: function (e) {
        var t = $(e.target).data("download"),
          n =
            Helpers.App.isDownloadIphoneFlowAvailable() &&
            Helpers.App.isMobile();
        return n
          ? (page.notification.close(),
            void Helpers.App.shortcutDownloadModal(
              window.location.origin + t,
              this.stage.getFullVideoSrc()
            ))
          : void window.open(t);
      },
      goToRedirectUrl: function () {
        var e, t;
        (t = function (e) {
          return e && e.match(/^\/[^\/\\]/);
        }),
          this.isRedirectToInParams() !== !1 &&
            ((e = Helpers.App.getAllURLParams().redirect_to),
            t(e)
              ? (location.href = e)
              : (Helpers.GlobalEventTracker.track("url:preventRedirect", {
                  url: e,
                }),
                (location.href = "/")));
      },
      isRedirectToInParams: function () {
        return "redirect_to" in Helpers.App.getAllURLParams();
      },
      authenticationPurchasesBindings: function () {
        var e = this;
        Helpers.App.isLoggedIn() ||
          this.isRedirectToInParams() === !1 ||
          this.appNavBar
            .bind("signup.success", function () {
              e.goToRedirectUrl();
            })
            .bind("login.success", function () {
              e.goToRedirectUrl();
            });
      },
      openSsoModalOnRedirect: function () {
        Helpers.App.isLoggedIn() ||
          this.isRedirectToInParams() === !1 ||
          this.appNavBar.instantiateNotLoggedInModal();
      },
      showShortcutError: function () {
        var e = Helpers.App.getUrlParam("videoDownloadURL"),
          t = Helpers.App.getUrlParam("videoPreviewURL");
        e &&
          t &&
          Helpers.App.shortcutDownloadModal(
            decodeURIComponent(e),
            decodeURIComponent(t)
          );
      },
      isDevMode: function () {
        return "true" === Helpers.App.getUrlParam("devMode");
      },
      _customExperienceBindings: function () {
        var e;
        (e = this),
          e.customExperience.bind("thumbnailPreview", function (t) {
            e.thumbnailPreviewOverlay.setPreviews(t.data);
          });
      },
      _setPricesInCustomPage: function () {
        var e = this,
          t = Helpers.Price.monthlyPlan(),
          n = Helpers.Price.annualPlan();
        t.price.then(function (t) {
          var n = Helpers.Price.format(t),
            i = e.$pageContainer.find(".monthly-plan-price");
          i.text(n);
        }),
          n.price.then(function (t) {
            var n = Helpers.Price.format(t),
              i = e.$pageContainer.find(".annual-plan-price");
            i.text(n);
          });
      },
      _removeUserVoiceSection: function () {
        this.$uservoiceFeedbackSection.remove();
      },
    },
  }),
  Class(UI, "MyDriveDownloadsItem").inherits(Widget).includes(BubblingSupport)({
    html: '<li>                <img class="my-drive-downloads-thumbnail" src=""/>                <a href="#" class="my-drive-downloads-link"><span class="blue-arrow"></span></a>                <div class="my-drive-downloads-processing-wrapper">                   <p class="my-drive__processing-text"> Processing your </p>                   <div class="my-drive__processing-line">                    <div class="my-drive__processing-progress"> </div>                  </div>                </div>                 <div class = "my-drive__processing-hint" >We\'ll email you when it\'s ready!  </div>             </li>',
    PERCENTAGE_QUEUE: 30,
    TRESHOLD_FOR_UPDATING: 100,
    prototype: {
      image: null,
      el: null,
      id: null,
      stage_slug: null,
      stage_category: null,
      stage_id: null,
      hsh: null,
      res: null,
      url: null,
      thumb: null,
      processing: null,
      process_id: null,
      image_type_id: null,
      slug: null,
      timePollStarted: null,
      _tempThumbs: {
        image: "./assets/dummy-thumb-image.svg",
        video: "./assets/dummy-thumb-video.svg",
      },
      _categoryText: {
        mockups: "mockup",
        design_templates: "design",
        video_cropper: "video",
        video_to_gif_converter: "gif",
        free_image_resizer_cropper: "image",
        videos: "video",
        logos: "logo",
      },
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.el = this.element[0]),
          (this.$img = $(
            this.el.querySelector(".my-drive-downloads-thumbnail")
          )),
          (this.$link = $(this.el.querySelector(".my-drive-downloads-link"))),
          (this.$processing = $(
            this.el.querySelector(".my-drive-downloads-processing-wrapper")
          )),
          (this.$hint = $(this.el.querySelector(".my-drive__processing-hint"))),
          (this.$progressLine = $(
            this.$processing.find(".my-drive__processing-progress")
          )),
          (this.$progressBar = $(
            this.$processing.find(".my-drive__processing-line")
          )),
          (this.$processText = $(
            this.$processing.find(".my-drive__processing-text")
          )),
          this._setThumb(),
          this.processing === !1
            ? this._setLink()
            : (this.$hint.show(), this._setProgress(this.percentage)),
          this.$link.on("click", this._linkHandler.bind(this));
      },
      update: function (e) {
        (e.processing !== !1 || this.processing !== !1) &&
          (e.processing === !0 &&
            ((this.queue = e.queue), this._setProgress(e.percentage)),
          e.processing === !1 &&
            this.processing === !0 &&
            ((this.processing = !1),
            (this.thumb = e.thumb),
            this._setImageProgress(100),
            this.constructor.dispatch("processed", this),
            (this.url = e.url),
            this._setLink(),
            this._setThumb(),
            this._addHighlight(),
            this.$hint.hide(),
            this.isVideo() === !0 &&
              this.constructor.dispatch("videothumb:updated", {
                videoProductId: e.id,
                videoThumb: e.thumbVideo,
              })));
      },
      updateFailed: function () {
        this.show(),
          this.$processText.text(
            "Sorry, we couldn\u2019t process your request."
          ),
          $(this.el).addClass("processing-error"),
          this.$progressBar.hide(),
          this.$hint.hide(),
          this.constructor.dispatch("processed", this);
      },
      _setThumb: function () {
        this.processing === !0
          ? this.$img.attr("src", this._tempThumbs[this.assetType])
          : this.$img.attr("src", this.thumb);
      },
      isVideo: function () {
        return "video" === this.assetType;
      },
      _setProgress: function (e) {
        this.$processing.show(),
          this.$link.hide(),
          this.isVideo() === !0
            ? this._setVideoProgress()
            : this._setImageProgress(e);
      },
      _setImageProgress: function (e) {
        this.$progressLine.show(),
          this.$processText.text(
            "Processing your " + this.getCategoryText() + "..."
          ),
          e > this.percentage && this.$progressLine.width(e + "%");
      },
      _getSecondsSinceProcessingStarted: function () {
        return (new Date().getTime() - this.timePollStarted.getTime()) / 1e3;
      },
      _setVideoProgress: function () {
        switch (this.queue) {
          case 0:
            this.$processText.text(
              "Processing your " + this.getCategoryText() + "..."
            ),
              this.$progressBar.show(),
              this.timePollStarted || (this.timePollStarted = new Date());
            var e = this._getSecondsSinceProcessingStarted(),
              t =
                (e * ((100 - this.constructor.PERCENTAGE_QUEUE) / 10)) /
                  (this.constructor.TRESHOLD_FOR_UPDATING / 10) +
                this.constructor.PERCENTAGE_QUEUE;
            100 > t && this.$progressLine.width(t + "%");
            break;
          case -1:
            this.$progressLine.width("100%");
            break;
          default:
            this.$processText.text("Please wait on pending video processing"),
              this.$progressBar.hide();
        }
      },
      _setLink: function () {
        this.$link.show(), this.$processing.hide(), this.$hint.hide();
        var e = "Click here to download";
        Helpers.App.isMobileDevice() === !0 && (e = "Tap here to download"),
          this.isAlreadyDownloaded() === !0 && (e = "Download Again");
        var t = '<span class="blue-arrow"></span>';
        if ((this.$link.html(e + t), this.isVideo() === !0)) {
          var n = "download_video_v4";
          "video-to-gif-converter" === this.stage_slug && (n = "download_gif");
          var i = "/stages/" + this.process_id + "/" + n + "?comp=false";
          this.$link.attr("href", "#"),
            this.$link.on("click", function (e) {
              return page.showShortcutInstructionsModal(e), !1;
            }),
            this.$link.attr("data-download", i);
        } else
          this.$link.attr(
            "href",
            "/stages/" + this.hsh + "/download?res=normal"
          ),
            this.$link.attr("download", "image.png");
      },
      _addItemAsDownloaded: function () {
        var e,
          t = Helpers.App.getUser().id;
        try {
          e = JSON.parse(sessionStorage.getItem(t));
        } catch (n) {}
        (null === e || void 0 === e) && (e = new Array()),
          e.push(this.id),
          e.length > 20 && e.shift(),
          sessionStorage.setItem(t, JSON.stringify(e));
      },
      isAlreadyDownloaded: function () {
        var e = Helpers.App.getUser().id,
          t = new Array();
        try {
          t = JSON.parse(sessionStorage.getItem(e)) || t;
        } catch (n) {}
        for (var i = 0; i < t.length; i++) if (t[i] === this.id) return !0;
        return !1;
      },
      getCategoryText: function () {
        return 17 === this.image_type_id
          ? this._categoryText[this.stage_slug.split("-").join("_")]
          : this._categoryText[this.stage_category.split("-").join("_")];
      },
      _linkHandler: function () {
        this._addItemAsDownloaded(),
          this._removeHighlight(),
          this._setLink(),
          this.constructor.dispatch("downloaded", this),
          Helpers.GlobalEventTracker.track("Download:itemDownloaded", {
            category: this._getCategoryName(),
            slug: this.stage_slug,
            stage_id: this.stage_id.toString(),
            thumb: this.thumb,
            stage_type: Helpers.StageType._types[this.image_type_id],
          });
      },
      _getCategoryName: function () {
        var e, t, n;
        for (n = 0; n < window._pl_categories.length; n++)
          if (
            ((e = window._pl_categories[n].name),
            (t = e.replace(/\s/g, "-").toLowerCase()),
            t === this.stage_category)
          )
            return e;
      },
      _addHighlight: function () {
        this.el.classList.add("highlight");
      },
      _removeHighlight: function () {
        this.el.classList.remove("highlight");
      },
      destroy: function () {
        return (
          (this.el = null),
          (this.id = null),
          (this.hsh = null),
          (this.res = null),
          (this.url = null),
          (this.thumb = null),
          (this.processing = null),
          (this.process_id = null),
          (this.image_type_id = null),
          Widget.prototype.destroy.call(this)
        );
      },
    },
  }),
  Class(UI, "MyDriveDownloadsTooltip").inherits(Widget)({
    MOBILE_MAX_WIDTH: 580,
    MAX_ITEMS_TO_SHOW: 5,
    ERROR_TIME: 6e3,
    ERROR__FADEOUT_TIME: 2e3,
    elementClass: "my-drive__breakdown",
    html: '<div class=" animated bounceInDown2" role="tooltip">                 <div class="my-drive__breakdown-header">                     <div class="title"> <p>My Downloads</p> </div>                    <div class="close-icon">  </div>                 </div>                 <div class="my-drive__breakdown-body" >                        <div class="my-drive__error">                        <img class="my-drive-downloads-thumbnail" src="./assets/download-error-icon.svg"/>                        <div class="my-drive-downloads-processing-wrapper">                             <p class="my-drive__error-header">We are sorry!</p>                             <p class="my-drive__error-text">We couldn\'t process your request</p>                         </div>                         </div>                     <div class="my-drive__breakdown-section-wrapper">                        <div class="my-drive__empty">                            <img src="./assets/download-empty.svg"> </img>                            <span class="title"> No Downloads Yet </span>                             <span> Your latest downloads will be available here </span>                             <a href="/purchases" title="My Drive" class="my-drive__empty-link">Click here to see your downloads</a>                        </div>                         <ul class="my-drive__breakdown-list"></ul>                     </div>                </div>                 <div class="my-drive__breakdown-footer">                    <a href="/purchases" title="My Drive"> View All </a>                </div>            </div>',
    prototype: {
      _visible: !1,
      el: null,
      $close: null,
      list: null,
      $list: null,
      $empty: null,
      processingItems: null,
      failedItems: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.el = this.element[0]),
          (this.$close = $(this.el).find(".close-icon")),
          (this.list = $(this.el).find(".my-drive__breakdown-list")),
          (this.$list = $(this.list)),
          (this.$empty = $(this.el).find(".my-drive__empty")),
          (this.$error = $(this.el).find(".my-drive__error")),
          this.$error.hide(),
          (this.processingItems = {}),
          (this.failedItems = {}),
          this._bindEvents(),
          this.updateForNoRecents();
      },
      _bindEvents: function () {
        UI.MyDriveDownloadsItem.bind(
          "processed",
          this._handleProcessed.bind(this)
        ),
          UI.MyDriveDownloadsItem.bind(
            "downloaded",
            this._handleDownloaded.bind(this)
          ),
          this.$close.on("click", this.hide.bind(this)),
          window.addEventListener(
            "resize",
            function () {
              this._calculatePosition();
            }.bind(this)
          );
        var e = this;
        return (
          document.addEventListener(
            "click",
            function (t) {
              e.element.is(":visible") &&
                e.element[0].contains(t.target) === !1 &&
                e.hide();
            },
            !0
          ),
          this
        );
      },
      _hideEmptyMsg: function () {
        this.$empty.hide(),
          $(this.el).find(".my-drive__breakdown-header .title").show(),
          $(this.el).find(".my-drive__breakdown-footer a").show();
      },
      update: function (e) {
        return (
          e.items.length > 0 && this._hideEmptyMsg(),
          e.items.forEach(function (e, t) {
            var n = "item" + e.id;
            e.processing === !0 && (this.processingItems[n] = !0),
              void 0 !== this[n]
                ? (this[n].update(e),
                  e.processing === !1 && delete this.processingItems[n])
                : (this.appendChild(
                    new UI.MyDriveDownloadsItem({
                      name: n,
                      id: e.id,
                      stage_slug: e.stage_slug,
                      stage_category: e.category,
                      hsh: e.hsh,
                      res: e.res,
                      url: e.url,
                      thumb: e.thumb,
                      processing: e.processing,
                      process_id: e.process_id,
                      image_type_id: e.image_type_id,
                      youtube_uri: e.youtube_uri,
                      assetType: e.assetType,
                      slug: e.slug,
                      percentage: e.percentage,
                      queue: e.queue,
                      stage_id: e.stage_id,
                    })
                  ),
                  this[n].render(this.$list)),
              t >= UI.MyDriveDownloadsTooltip.MAX_ITEMS_TO_SHOW
                ? this[n].hide()
                : this[n].show(),
              $(this[n].element).css("order", t);
          }, this),
          this._cleanDeletedItems(e.items),
          this._checkForProcessingFails(),
          this
        );
      },
      showError: function (e) {
        this.$error.show(), this.$empty.hide();
        var t = $(this.el).find(".my-drive__breakdown-header .title"),
          n = $(this.el).find(".my-drive__breakdown-footer a");
        t.hide(), n.hide(), this.show(), this._setErrorText(e.errorType);
        var i = this;
        setTimeout(function () {
          i._hideError();
        }, UI.MyDriveDownloadsTooltip.ERROR_TIME);
      },
      _cleanDeletedItems: function (e) {
        var t = this.children,
          n = t.length;
        t.forEach(function (t) {
          var n = e.find(function (e) {
            return e.id === t.id;
          });
          void 0 === n &&
            void 0 === this.processingItems[t.name] &&
            (this[t.name].hide(), this[t.name].destroy(), delete this[t.name]);
        }, this),
          0 === this.children.length && n > 0 && this.updateForNoRecents();
      },
      _setErrorText: function (e) {
        var t = this.$error.find(".my-drive__error-header"),
          n = this.$error.find(".my-drive__error-text");
        "too_many_request" === e
          ? (t.html("You are downloading too fast"),
            n.html("Please slow down and try again"))
          : (t.html("We are sorry!"),
            n.html("Sorry we couldn't process your request"));
      },
      _checkForProcessingFails: function () {
        Object.keys(this.processingItems).forEach(function (e) {
          this.processingItems[e] === !1
            ? ((this.failedItems[e] = ""), delete this.processingItems[e])
            : (this.processingItems[e] = !1);
        }, this),
          this._updateFailedProcessing();
      },
      _updateFailedProcessing: function () {
        Object.keys(this.failedItems).forEach(function (e) {
          void 0 !== this[e] &&
            (this[e].updateFailed(), $(this[e].element).css("order", 0)),
            this._hideEmptyMsg();
        }, this);
      },
      updateForNoRecents: function () {
        this.element.addClass("no-recents"),
          this.$empty.show(),
          Helpers.App.isMobile() === !0 &&
            $(".my-drive__empty-link").html("Tap here to see your downloads"),
          $(this.el).find(".my-drive__breakdown-header .title").hide(),
          $(this.el).find(".my-drive__breakdown-footer a").hide();
      },
      updateForEmpty: function () {
        this.element.removeClass("no-recents"),
          this.$empty.css("display", "flex"),
          $(this.el).find(".my-drive__breakdown-header .title").hide(),
          $(this.el).find(".my-drive__breakdown-footer a").hide();
      },
      toggle: function () {
        return this.element.is(":visible") ? this.hide() : this.show(), this;
      },
      _canShow: function () {
        return !$("body").hasClass("modal-open");
      },
      show: function () {
        this._canShow()
          ? (this._calculatePosition(), $(this.el).show())
          : $(document).one("hidden.bs.modal", this.show.bind(this));
      },
      _isTargetInViewPort: function () {
        if (void 0 === this.target || 0 === this.target.length) return !1;
        var e = this.target.getBoundingClientRect();
        return (
          e.top >= 0 &&
          e.left >= 0 &&
          e.bottom <=
            (window.innerHeight || document.documentElement.clientHeight) &&
          e.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      },
      destroy: function () {
        return (
          (_visible = null),
          (el = null),
          ($close = null),
          (list = null),
          ($list = null),
          Widget.prototype.destroy.call(this)
        );
      },
      _handleDownloaded: function () {
        this.dispatch("all.downloaded"),
          sessionStorage.setItem("pendingDownloads", !1),
          sessionStorage.setItem("hasDownloaded", !0);
      },
      _handleProcessed: function () {
        this.show(),
          sessionStorage.setItem("pendingDownloads", !0),
          sessionStorage.setItem("hasDownloaded", !0);
      },
      hide: function () {
        this.dispatch("hidden"),
          Widget.prototype.hide.call(this),
          this._hideError(),
          Object.keys(this.failedItems).forEach(function (e) {
            void 0 !== this[e] && (this[e].destroy(), delete this[e]),
              delete this.failedItems[e];
          }, this);
      },
      _hideError: function () {
        this.$error.fadeOut(UI.MyDriveDownloadsTooltip.ERROR__FADEOUT_TIME),
          this.$list.is(":empty") &&
            (Widget.prototype.hide.call(this), this.$empty.show());
      },
      _calculatePosition: function () {
        var e = document.documentElement.clientWidth;
        e < UI.MyDriveDownloadsTooltip.MOBILE_MAX_WIDTH
          ? ((this.target =
              this.targets.length > 1 ? this.targets[1] : this.target),
            this._isTargetInViewPort() === !1 &&
              this.element.addClass("no-target"))
          : this.element.removeClass("no-target");
      },
    },
  }),
  Class(UI, "MyDriveDownloads").inherits(Widget).includes(BubblingSupport)({
    PING_INTERVAL: 5e3,
    RETRY_TIMES: 3,
    RETRY_DELAY: 600,
    prototype: {
      processingItems: [],
      processedItems: [],
      el: null,
      link: null,
      icon: null,
      _timer: null,
      _processingClassnames: {
        PROCESSING: "processing",
        PROCESSED: "processed",
        ALL_DOWNLOADED: "all-downloaded",
        PENDING_DOWNLOAD: "pending",
        HAS_DOWNLOADED: "has-downloaded",
      },
      _processingFeedbackReferences: [],
      Tooltip: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          this.element.length && this._cacheReferences(),
          this._processingFeedbackReferences.push(this.el),
          window.apiPage === !1 && this._bindEvents();
      },
      _bindEvents: function () {
        return (
          UI.MyDriveDownloadsItem.bind(
            "processed",
            this._processedUIState.bind(this)
          ),
          //   this.Tooltip.bind(
          //     "all.downloaded",
          //     this._allDownloadedUIState.bind(this)
          //   ),
          //   this.Tooltip.bind("hidden", this._pendingDownloadUIState.bind(this)),
          this
        );
      },
      _cacheReferences: function () {
        (this.el = this.element[0]),
          (this.link = this.element.find(".my-drive__link")),
          (this.icon = this.el.querySelector(
            ".my-drive__processing-icon-wrapper"
          )),
          this.Tooltip &&
            (this.Tooltip.element.remove(),
            this.removeChild(this.Tooltip),
            (this.Tooltip = null)),
          this.appendChild(
            new UI.MyDriveDownloadsTooltip({
              name: "Tooltip",
              targets: this._processingFeedbackReferences,
            })
          ),
          this.Tooltip.render($("body"));
        return (
          this.link.off("click").on("click", this._linkClickHandler.bind(this)),
          this
        );
      },
      restart: function () {
        return (
          (this.element = $(".past-downloads-item-holder")),
          this._cacheReferences(),
          this.update(),
          this
        );
      },
      _linkClickHandler: function (e) {
        return (
          e.preventDefault(),
          $(document.body).removeClass("open-sidemenu"),
          this.Tooltip.element.is(":visible") || this.update(),
          this.Tooltip.toggle(),
          sessionStorage.setItem("pendingDownloads", !1),
          this._pendingDownloadUIState(),
          this
        );
      },
      getProcessingItems: function () {
        return this.processingItems;
      },
      getProcessedItems: function () {
        return this.processedItems;
      },
      cloneProcessingFeedbackTo: function (e, t) {
        var n = this;
        if (!e) return n;
        var i = e.querySelector(".my-drive__processing-mobile-feedback");
        null !== i && i.remove();
        var r = document.createElement("div");
        return (
          r.appendChild(n.icon.cloneNode(!0)),
          t && (r.className = t),
          e.appendChild(r),
          n._processingFeedbackReferences.push(r),
          r.addEventListener("click", this._linkClickHandler.bind(this)),
          n._updateMobileUi(),
          n
        );
      },
      _updateUI: function () {
        var e = this.getProcessingItems().length;
        return (
          e
            ? (this._processingUIState(), this._updateMobileUi(!0))
            : this._allProcessedUIState(),
          this.Tooltip.update({
            items: this.getItems().reverse(),
          }),
          this
        );
      },
      _processingUIState: function () {
        return (
          this._addProcessingClassName(this._processingClassnames.PROCESSING),
          this
        );
      },
      _processedUIState: function () {
        return (
          this.dispatch("process", {
            queue: this.getProcessingItems(),
          }),
          this._addProcessingClassName(this._processingClassnames.PROCESSED),
          this._addProcessingClassName("highlighted"),
          setTimeout(
            function () {
              this._removeProcessingClassName("highlighted");
            }.bind(this),
            3e3
          ),
          this
        );
      },
      _allProcessedUIState: function () {
        var e = this;
        return (
          $.cookie("pl_processing_tracker") &&
            $.removeCookie("pl_processing_tracker"),
          e.el.classList.contains(e._processingClassnames.PROCESSING) !== !1 ||
          e.el.classList.contains(e._processingClassnames.PROCESSED) !== !1
            ? (e._removeProcessingClassName(e._processingClassnames.PROCESSING),
              this)
            : void 0
        );
      },
      _allDownloadedUIState: function () {
        var e = this;
        return (
          e._removeProcessingClassName(e._processingClassnames.PROCESSED),
          e._addProcessingClassName(e._processingClassnames.ALL_DOWNLOADED),
          this
        );
      },
      _pendingDownloadUIState: function () {
        var e = this;
        return (
          "true" === sessionStorage.getItem("pendingDownloads")
            ? e._addProcessingClassName(
                e._processingClassnames.PENDING_DOWNLOAD
              )
            : e._removeProcessingClassName(
                e._processingClassnames.PENDING_DOWNLOAD
              ),
          this
        );
      },
      _addProcessingClassName: function (e) {
        var t = this;
        return e
          ? (t._processingFeedbackReferences.forEach(function (t) {
              t.classList.add(e);
            }),
            t)
          : t;
      },
      _removeProcessingClassName: function (e) {
        var t = this;
        return e
          ? (t._processingFeedbackReferences.forEach(function (t) {
              t.classList.remove(e);
            }),
            t)
          : t;
      },
      requestProcessing: function (e, t) {
        return (
          $.ajax({
            url: "/api/v1/base/processing",
            success: e,
            error: t,
            cache: !1,
          }),
          this
        );
      },
      requestProcessingPromise: function () {
        var e = this;
        return new Promise(function (t, n) {
          e.requestProcessing(t, n);
        });
      },
      getRequestProcessingPromise: function (e, t) {
        var n = this,
          i = P.retryableDelayed(
            function () {
              return n.requestProcessingPromise();
            },
            e,
            t
          );
        return i();
      },
      _requestSuccess: function (e) {
        return (
          (this.processingItems = []),
          (this.processedItems = []),
          e.items.length > 0
            ? e.items.forEach(function (e) {
                return e.processing === !0
                  ? this.processingItems.push(e)
                  : this.processedItems.push(e);
              }, this)
            : e.hasDownloads === !0
            ? this.Tooltip.updateForNoRecents()
            : this.Tooltip.updateForEmpty(),
          this._updateUI(),
          this
        );
      },
      _requestError: function (e) {
        setTimeout(function () {
          var t =
            e.message ||
            e.responseText ||
            "The request fail with status: " +
              e.status +
              " statusText: " +
              e.statusText +
              " readyState: " +
              e.readyState;
          throw new Error("Processing polling error: " + t);
        }, 1);
      },
      update: function (e, t) {
        var n = Helpers.App.getUser().id,
          i = this;
        return n
          ? (this.getRequestProcessingPromise(
              UI.MyDriveDownloads.RETRY_TIMES,
              UI.MyDriveDownloads.RETRY_DELAY
            )
              .then(function (t) {
                i._requestSuccess.call(i, t), "function" == typeof e && e();
                var n = t.items.find(function (e) {
                  return e.processing === !0;
                });
                void 0 !== n &&
                  (clearTimeout(i._timer),
                  (i._timer = setTimeout(
                    function () {
                      i.update(null, !1);
                    }.bind(i),
                    UI.MyDriveDownloads.PING_INTERVAL
                  )));
              })
              ["catch"](this._requestError),
            t && this.Tooltip.show(),
            this)
          : this;
      },
      showError: function (e) {
        this.Tooltip.showError(e);
      },
      getItems: function () {
        return this.getProcessedItems().concat(this.getProcessingItems());
      },
      getProcessedItemByKey: function (e, t) {
        var n;
        return (
          this.getProcessedItems().some(function (i) {
            return i[e] === t ? (n = i) : void 0;
          }),
          n
        );
      },
      hideTooltip: function () {
        this.Tooltip.hide();
      },
      _updateMobileUi: function (e) {
        var t = this;
        Helpers.App.isMobile() &&
          (sessionStorage.getItem("hasDownloaded") || e) &&
          t._addProcessingClassName(t._processingClassnames.HAS_DOWNLOADED);
      },
    },
  }),
  Class(UI, "UserForm").inherits(Widget).includes(BubblingSupport)({
    html: '        <form action="#" method="post" data-remote="true" data-type="json">            <div class="alert alert-danger">              <p></p>            </div>        </form>    ',
    prototype: {
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$alert = this.element.find(".alert").hide()),
          (this.signUpEmail = this.element.find("#user_email")),
          (this.signUpPassword = this.element.find("#user_password")),
          (this.loginEmail = this.element.find("#email")),
          (this.loginPassword = this.element.find("#password")),
          (this.isAndroid = /Android/.test(navigator.appVersion)),
          this.bindings();
      },
      loginSuccess: function (e, t) {
        var n = this;
        if (
          (Helpers.App.isMobileDevice() && document.activeElement.blur(),
          this.isAndroid &&
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "0px"),
          page.isHomepage &&
            page.isHomepage() === !0 &&
            "undefined" != typeof page.stage &&
            (page.stage.stageActionsManager.$bookmarkButton.unbind("click"),
            page.stage.stageActionsManager.$bookmarkButton.on(
              "click",
              function () {
                $.ajax({
                  url: "/bookmarks/" + Helpers.StageType.getStageID(),
                  type: page.stage.stageActionsManager.$bookmarkButton.hasClass(
                    "favorite"
                  )
                    ? "DELETE"
                    : "POST",
                  success: function () {
                    page.stage.stageActionsManager.toggleFavorite();
                  },
                  error: function (e) {
                    console.log(e);
                  },
                });
              }
            ),
            $.get(
              "/bookmarks/stage_is_bookmarked/" +
                Helpers.StageType.getStageID(),
              function (e) {
                e.stage_is_bookmarked
                  ? (page.stage.stageActionsManager.$bookmarkButton.addClass(
                      "favorite"
                    ),
                    page.stage.stageActionsManager.$bookmarkSign.addClass(
                      "glyphicon-heart"
                    ),
                    page.stage.stageActionsManager.$bookmarkSign.removeClass(
                      "glyphicon-heart-empty"
                    ),
                    Helpers.App.isMobileDevice() ||
                      page.stage.stageActionsManager.bookPopup
                        .attr(
                          "data-content",
                          '<div class="bookmark-tooltip-content">Remove from bookmarks</div>'
                        )
                        .data("bs.popover")
                        .setContent())
                  : (page.stage.stageActionsManager.$bookmarkButton.removeClass(
                      "favorite"
                    ),
                    page.stage.stageActionsManager.$bookmarkSign.removeClass(
                      "glyphicon-heart"
                    ),
                    page.stage.stageActionsManager.$bookmarkSign.addClass(
                      "glyphicon-heart-empty"
                    ),
                    Helpers.App.isMobileDevice() ||
                      page.stage.stageActionsManager.bookPopup
                        .attr(
                          "data-content",
                          '<div class="bookmark-tooltip-content">Bookmark</div>'
                        )
                        .data("bs.popover")
                        .setContent());
              }
            ),
            Helpers.StageType.getStageInfo().is_slave
              ? page.stage.stageActionsManager.$bookmarkButton.hide()
              : page.stage.stageActionsManager.$bookmarkButton.show()),
          $.get("/bookmarks/count", function (e) {
            Helpers.App.setBookmarksCount(e.count),
              (window._pl_numberOfBookmarks = e.count),
              n.dispatch("bookmarks.retrieved", e);
          }),
          Helpers.App.setUser(t),
          Helpers.App.setAdmin(t.is_admin),
          t.coupon && Helpers.CouponHelper.load(t.coupon.coupon_code),
          Helpers.App._getPurchases(
            function () {
              this.dispatch("form.success");
            }.bind(this)
          ),
          t.is_migration_to_placeit)
        )
          Helpers.GlobalEventTracker.ssoTrack("user:signup:accountMigrated", t),
            Helpers.App.sendEnvatoSignUp({
              trackingCode: 19603,
              customerId: t.id,
              envatoId: t.envato_id,
            });
        else {
          Helpers.GlobalEventTracker.userLogin(t);
          var i = $.cookie("pl_open_pricing_unlogged");
          if ("true" === i) {
            var r = Helpers.App.getUserType();
            Helpers.GlobalEventTracker.pricingModalStillshots({
              session: Helpers.App.getTrackerId(),
              user_id: Helpers.App.getUser().id,
              fired_on_login: !0,
              user_type_name: r.name,
              user_type_id: r.id,
            }),
              $.removeCookie("pl_open_pricing_unlogged", {
                path: "/",
              });
          }
        }
        window.placeitGift && "sign-up-form" == e.className
          ? (Helpers.GlobalEventTracker.giftSignup({
              gift_hash: window.placeitGiftHash,
            }),
            this._applyGiftToUser())
          : window.placeitGift &&
            "sign-up-form" != e.className &&
            (window.location.href = "/?status=2"),
          Helpers.UserSegment.removeCookies(),
          Helpers.UserSegment.request(),
          UI.Navigation.NavBar.dispatch("user:login");
      },
      bindings: function () {
        this.isAndroid &&
          (this.signUpEmail.bind("focus", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "-170px");
          }),
          this.signUpEmail.bind("blur", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "0px");
          }),
          this.signUpPassword.bind("focus", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "-170px");
          }),
          this.signUpPassword.bind("blur", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "0px");
          }),
          this.loginEmail.bind("focus", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "-120px");
          }),
          this.loginEmail.bind("blur", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "0px");
          }),
          this.loginPassword.bind("focus", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "-120px");
          }),
          this.loginPassword.bind("blur", function () {
            $(".navbar.navbar-default.navbar-fixed-top").css("top", "0px");
          }));
      },
      showErrors: function (e) {
        var t = Object.keys(e)[0],
          n = e[t];
        Array.isArray(n) && (n = t + " " + e[t][0]),
          this.element.find(".has-error").removeClass("has-error"),
          this.element.find("." + t + "-field").addClass("has-error"),
          this.$alert.show().find("p").text(n);
      },
      _getCurrentUser: function (e) {
        $.ajax({
          url: "/current_user",
          type: "get",
          dataType: "json",
          context: this,
          success: function (t) {
            e(t);
          },
        });
      },
      _applyGiftToUser: function () {
        $.ajax({
          url: "/users/add_single_credit",
          type: "post",
          dataType: "json",
          data: {
            gift_id: window.placeitGiftHash,
          },
          context: this,
          success: function () {
            window.location.href = "/?status=1";
          },
        });
      },
    },
  }),
  Module("RequiredFieldsPopovers")({
    POPOVERS_CONFIG: {
      placement: "top",
      trigger: "manual",
      html: !0,
    },
    POPOVER_ICON:
      '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><path d="M7.5 0C3.363 0 0 3.363 0 7.5 0 11.637 3.363 15 7.5 15c4.137 0 7.5-3.363 7.5-7.5C15 3.363 11.637 0 7.5 0zm-.836 3.758c0-.457.379-.836.836-.836.457 0 .836.379.836.836V7.94a.842.842 0 01-.836.836.842.842 0 01-.836-.836zM7.5 12.03a1.09 1.09 0 110-2.18 1.09 1.09 0 010 2.18zm0 0" fill="#fdb81e" /></svg>',
    POPOVER_MESSAGES: {
      checkbox: "Please select this box if you want to proceed.",
      password: "Please fill out this field.",
      text: "Please fill out this field.",
      recaptcha: "Please select the reCAPTCHA checkbox.",
    },
    prototype: {
      _activePopover: null,
      _setPopovers: function (e) {
        var t = this;
        this._configureRequiredFieldsPopovers(e.$requiredFields),
          this._configureRecaptchaPopover(e.$recaptcha);
        var n = function (n) {
          $(n.target).is(e.$submitButton) || t._hidePopover();
        };
        this.element.click(n);
      },
      _configureRequiredFieldsPopovers: function (e) {
        if (e) {
          var t = this;
          e.each(function () {
            var e = $(this);
            (type = e.attr("type")),
              e.popover(t._getPopoverConfiguration(type));
          });
          var n = function (e) {
            e.preventDefault(),
              t._activePopover ||
                (t._activePopover = $(e.target).popover("show"));
          };
          e.on("invalid", n);
        }
      },
      _configureRecaptchaPopover: function (e) {
        if (e) {
          var t = this;
          e.popover(this._getPopoverConfiguration("recaptcha")),
            e.on("show.bs.popover", function () {
              t._activePopover = e;
            });
        }
      },
      _getPopoverConfiguration: function (e) {
        var t = this.constructor.POPOVER_MESSAGES[e];
        return $.extend({}, this.constructor.POPOVERS_CONFIG, {
          content: this.constructor.POPOVER_ICON + t,
          container: this.element,
        });
      },
      _hidePopover: function () {
        this._activePopover &&
          (this._activePopover.popover("hide"), (this._activePopover = null));
      },
    },
  }),
  Class(UI, "SsoLoginModal")
    .inherits(Widget)
    .includes(
      RequiredFieldsPopovers,
      Translator
    )({
    html: '<div id="sso_login_modal"><div class="header hidden" id="confirm_placeit_password_header"><h4>Confirm your Placeit account!</h4><p class="text-center">Please enter <span class="warning">your Placeit password </span> to update your account and allow you to login with your Envato username from now on</p></div><div class="header" id="envato_account_header" hidden><h4>Envato account found!</h4><p class="text-center">Please enter <span class="warning">your Envato password (not Placeit)</span> for the user below so we can migrate your Placeit account to be accessible via your Envato information</p></div><div class="header" id="updating_account_header" hidden><h4>Updating Your Account</h4><p class="text-center" style="font-size: 14px; font-family: \'SourceSansPro-Light\'; ">We\u2019ve changed our Terms & Conditions and our Privacy Policy. We\u2019re also upgrading your account so you login with your Placeit account into Envato properties. Please click the checkboxes below and click Accept to continue.</p></div><div class="header hidden" id="login_continue_header"><h4>Please Log In to Continue</h4></div><div class="content"><form id="login_form"><div class="fields_container"><div class="floating-label-input email" id="email_field_container"><input autocomplete="off" class="form-control" id="login_user_email" required="required" size="30" type="text" /><label class="placeholder">Email or Envato username!</label></div><div class="floating-label-input password" id="password_field_container"><input autocomplete="off" class="form-control" id="login_user_password" required="required" type="password" /><label class="placeholder">Password</label><div id="password_secret_eye" class="secret-eye eye-on"></div></div><div class="floating-label-input email hidden" id="associated_email_field_container"><input autocomplete="off" class="form-control" id="associated_email" size="30" type="text" readonly/><label class="placeholder">Email on Placeit</label></div><div class="floating-label-input password hidden" id="placeit_password_field_container"><input autocomplete="off" class="form-control" id="user_placeit_password" type="password" /><label class="placeholder">Placeit Password</label><div id="placeit_password_secret_eye" class="secret-eye eye-on"></div></div><div class="floating-label-input tfa hidden" id="tfa-container"><input autocomplete="off" class="form-control" id="two_factor_code" name="two_factor_code" size="30" type="password" disabled /><label class="placeholder">TFA Code</label></div><div class="floating-label-input hidden" id="signin_verification-container"><input autocomplete="off" class="form-control" id="signin_verification" name="signin_verification" size="30" type="password"/><label class="placeholder">Verification code (check your email!)</label></div><div class="row"><div id="recaptcha_container" class="g-recaptcha col-xs-12" hidden></div></div><div id="privacy_policy_container" class="" hidden><p class="help-block text-left"><input type="checkbox" id="privacy_policy_alert"> <span class="agree" style="cursor: pointer">I agree to the</span></input> <a href="https://envato.com/privacy/" target="_blank" role="button"> Privacy Policy </a><br/><input type="checkbox" id="terms_conditions_alert"> <span class="terms_condition" style="cursor: pointer">I agree to the</span></input> <a href="https://blog.placeit.net/terms-of-use/" target="_blank" role="button"> Terms & Conditions </a></p></div><div id="migrate_account_hide"><div class="form-group text-right password-reset"><p class="help-block info-text"><a class="forgot" href="/password_resets/new" target="_blank">Forgot your password?</a></p></div><div class="row" id="login_btn_container"><div class="col-xs-12"><button class="button primary" name="commit" type="submit" value="Log in">Log In</button></div></div><div class="row"><div class="col-xs-12"><p class="help-block text-center">Don\'t have an account? <a href="#" class="trigger_signup_link" role="button">Sign up</a></p></div></div></div><div id="continue_btn" class="row" hidden><br/><div class="col-xs-12"><button class="button primary" name="commit" type="submit" value="Accept">Accept</button></div></div><div id="logged_in_notice" class="hidden"><div class="col-xs-12"><input id="logged_in_ok" class="button primary" name="commit" type="submit" value="Login as " /></div></div><div class="envato-notice text-center"><span class="placeit-envato-logo-black"></span></div></div></form></div></div>',
    TEXT_LOGIN_FAIL: "Failed to Login",
    TEXT_ENABLE_ADMIN_MFA:
      "Admin users must have MFA enabled, please enable MFA for authentication and try again",
    TEXT_INVALID_PLACEIT_CREDENTIALS:
      "Invalid password, please make sure you're entering your Placeit password",
    TEXT_AUTOLOGIN_CTA: "Login as {{username}}",
    TEXT_MIGRATE_ENVATO_ACCOUNT_SUCCESS:
      "Your account has been migrated! You can login using your Envato password in the future",
    TEXT_LOGIN_ERROR:
      "We could not complete the login request. Please try again later",
    TEXT_INVALID_CREDENTIALS:
      "Invalid email or password. You can also use the email address from your Envato account to login!",
    TEXT_ENVATO_PASSWORD: "Envato Account Password",
    TEXT_INVALID_TFA: "TFA Code invalid, please check it and try again",
    TEXT_VERIFICATION_REQUIRED:
      "This seems an unusual login attempt. We have sent you a verification code by email. Please copy it and paste it in the Verification code field below.",
    TEXT_WRONG_PASSWORD:
      'Wrong password! Make sure you\'re entering <strong>your Envato password</strong>, not your Placeit password. <a href="https://account.envato.com/reset_password" target="_blank">You can reset your Envato password here.</a>',
    prototype: {
      init: function (e) {
        if (
          (Widget.prototype.init.call(this, e),
          (this.userEmailInput = this.element.find("#login_user_email")),
          (this.userEmailContainer = this.element.find(
            "#email_field_container"
          )),
          (this.userPasswordContainer = this.element.find(
            "#password_field_container"
          )),
          (this.userPasswordInput = this.element.find("#login_user_password")),
          (this.userPasswordLabel = this.element.find(
            "#password_field_container label"
          )),
          (this.associatedEmailContainer = this.element.find(
            "#associated_email_field_container"
          )),
          (this.associatedEmailInput = this.element.find("#associated_email")),
          (this.userPlaceitPasswordContainer = this.element.find(
            "#placeit_password_field_container"
          )),
          (this.userPlaceitPasswordInput = this.element.find(
            "#user_placeit_password"
          )),
          (this.twoFactorCodeContainer = this.element.find("#tfa-container")),
          (this.twoFactorCodeInput = this.element.find("#two_factor_code")),
          (this.signinVerificationContainer = this.element.find(
            "#signin_verification-container"
          )),
          (this.signinVerificationInput = this.element.find(
            "#signin_verification"
          )),
          (this.closeBtn = this.element.find("button.close")),
          (this.loginHeader = this.element.find("#login_header")),
          (this.envatoAccountHeader = this.element.find(
            "#envato_account_header"
          )),
          (this.updatingAccountHeader = this.element.find(
            "#updating_account_header"
          )),
          (this.confirmPlaceitPasswordHeader = this.element.find(
            "#confirm_placeit_password_header"
          )),
          (this.fieldsContainer = this.element.find(".fields_container")),
          (this.form = this.element.find("#login_form")),
          (this.signupLink = this.element.find(".trigger_signup_link")),
          (this.envatoLogo = this.element.find(".envato-hover")),
          (this.envatoPages = this.element.find(".envato-pages")),
          (this.secretEye = this.element.find("#password_secret_eye")),
          (this.placeitPasswordSecretEye = this.element.find(
            "#placeit_password_secret_eye"
          )),
          (this.loginMessage = this.element.find("#login_message")),
          (this.agree = this.element.find(".agree")),
          (this.terms = this.element.find(".terms_condition")),
          (this.migrateAccountHide = this.element.find(
            "#migrate_account_hide"
          )),
          (this.privacyPolicyContainer = this.element.find(
            "#privacy_policy_container"
          )),
          (this.privacyPolicyInput = this.element.find(
            "#privacy_policy_alert"
          )),
          (this.termsConditionsInput = this.element.find(
            "#terms_conditions_alert"
          )),
          (this.recaptchaContainer = this.element.find("#recaptcha_container")),
          (this.hasRecaptcha = !1),
          (this.loginBtn = this.element.find("#login_btn_container button")),
          (this.continueBtn = this.element.find("#continue_btn")),
          (this.continueSubmitBtn = this.element.find("#continue_btn button")),
          (this.loggedInOkBtn = this.element.find("#logged_in_ok")),
          (this.emailFieldContainer = this.element.find(
            "#email_field_container"
          )),
          (this.passwordFieldContainer = this.element.find(
            "#password_field_container"
          )),
          (this.migrationSectionContainer = this.element.find(
            "#migrate_account_hide"
          )),
          (this.usernameField = this.element.find("#username")),
          (this.loggedInNotice = this.element.find("#logged_in_notice")),
          (this.envatoAccountFound = !1),
          (this.recapchaRetry = null),
          (this.recaptchaRendered = !1),
          (this.recaptchaId = null),
          (this._timeouts = []),
          (this.$continueHeader = this.element.find("#login_continue_header")),
          this.appendChild(
            new this.userFormClass({
              name: "userForm",
              element: this.form,
            })
          ),
          this._setPopovers({
            $requiredFields: this.userEmailInput
              .add(this.userPasswordInput)
              .add(this.twoFactorCodeInput)
              .add(this.signinVerificationInput),
            $recaptcha: this.recaptchaContainer,
            $submitButton: this.loginBtn,
          }),
          this._bindEvents(),
          "undefined" == typeof envatoSso)
        )
          throw "SSO: Cannot instantiate sso-js client";
        this.userEmailInput.attr("value", this.userEmailInput.val()),
          this.userPasswordInput.attr("value", this.userEmailInput.val()),
          this._saveInitialState();
      },
      login: function () {
        console.log("Performing auto-sign in check..."),
          this._checkAutoSignIn();
      },
      _checkAutoSignIn: function () {
        var e = this;
        this.dispatch("login.autosignin"),
          e._autoSignin(function (t, n) {
            t
              ? (console.log(t.message),
                e.loginMessage.removeClass("hidden"),
                e.migrationSectionContainer.removeClass("hidden"),
                e.loggedInNotice.addClass("hidden"),
                Helpers.GlobalEventTracker.ssoTrack("login.fullModalOpened", {
                  error: !1,
                  user: e.userEmailInput ? e.userEmailInput.val().trim() : "",
                  message: "login modal full opened, not auto sign-in. ",
                  response: t,
                }))
              : ((e.isAutoSignin = !0),
                e._verifyToken(
                  n,
                  "autosignin",
                  e._handleVerifyTokenResponse.bind(e)
                ));
          });
      },
      _autoSignin: function (e) {
        var t = this,
          n = {
            to: "placeit",
          },
          i = function (t) {
            console.log("Auto-login successful"), e(null, t);
          },
          r = function () {
            e({
              message: "Not signed in",
            });
          },
          s = function (n, i) {
            e({
              message: "Auto Login Error: " + n,
            }),
              t.die("_autoSignin", n, i);
          };
        envatoSso.autoSignIn({
          data: n,
          onSuccess: i,
          onFailure: r,
          onError: s,
        });
      },
      _verifyToken: function (e, t, n) {
        var i = this,
          r = {
            token: e,
          };
        "migrate" === t && (r.is_migration = !0),
          "" != this.userPlaceitPasswordInput.val() &&
            (r.placeit_password = this.userPlaceitPasswordInput.val()),
          $.ajax({
            url: "/sso/verify_signin_token",
            type: "post",
            data: r,
            beforeSend: function (e) {
              e.setRequestHeader(
                "X-CSRF-Token",
                $('meta[name="csrf-token"]').attr("content")
              );
            },
            dataType: "json",
          })
            .then(this._cleanUserProperty)
            .then(function (e) {
              if ("migrate" === t) {
                var r = "sso.migrationSuccess";
                Helpers.GlobalEventTracker.ssoTrack(r, {
                  error: !1,
                  user: i.userEmailInput ? i.userEmailInput.val().trim() : "",
                  response: e,
                  message: "Migration finished and verified.",
                });
              }
              if ("signin" === t && i.envatoAccountFound) {
                var r = "ssoAccountFound.migrationSuccess";
                Helpers.GlobalEventTracker.ssoTrack(r, {
                  error: !1,
                  user: i.userEmailInput ? i.userEmailInput.val().trim() : "",
                  response: e,
                  message: "Migration finished and verified.",
                });
              }
              "signInVerification" === t &&
                Helpers.GlobalEventTracker.ssoTrack(
                  "sso.signInVerificationSuccess",
                  {
                    error: !1,
                    user: i.userEmailInput ? i.userEmailInput.val().trim() : "",
                    response: e,
                    message: "Sign in verification success",
                  }
                ),
                "autosignin" === t &&
                  Helpers.GlobalEventTracker.ssoServerTrack(
                    "autoLogin.success",
                    {
                      error: !1,
                      user: i.userEmailInput
                        ? i.userEmailInput.val().trim()
                        : "",
                      message: "Auto Sign-in verification success",
                      response: e,
                    }
                  ),
                n(null, e);
            })
            .fail(function (e) {
              "autosignin" === t &&
                Helpers.GlobalEventTracker.ssoTrack("autoLogin.error", {
                  error: !1,
                  user: i.userEmailInput ? i.userEmailInput.val().trim() : "",
                  response: e,
                  message: "Auto Sign-in verification success",
                }),
                n(e);
            });
      },
      _cleanUserProperty: function (e) {
        if (e.data && e.data.user) {
          var t = e.data.user,
            n = {
              id: t.id,
              envato_id: t.envato_id,
              envato_uuid: t.envato_uuid,
              username: t.username,
              placeitPromotionNotifications: t.placeitPromotionNotifications,
              productUpdateNotifications: t.productUpdateNotifications,
              status: t.status,
              coupon: t.coupon,
              is_migration_to_placeit: t.is_migration_to_placeit,
              email: t.email,
              feedbackRequestNotifications: t.feedbackRequestNotifications,
              downloadEmailNotifications: t.downloadEmailNotifications,
              unsubscribe_code: t.unsubscribe_code,
              tracker_id: t.tracker_id,
              is_admin: t.is_admin,
            };
          e.data.user = n;
        }
        return e;
      },
      _handleVerifyTokenResponse: function (e, t) {
        var n;
        if (
          (this.loginBtn.prop("disabled", !1),
          this.loginBtn.removeClass("loading"),
          e &&
            (this.showErrors([this.constructor.TEXT_LOGIN_FAIL]),
            this.die("_handleVerifyTokenResponse", e.responseText)),
          t.needs_mfa)
        )
          return (
            console.log("Admin needs MFA enabled"),
            void this.showErrors([this.constructor.TEXT_ENABLE_ADMIN_MFA])
          );
        if (t.requires_placeit_credentials)
          return (
            console.log("Account confirmation required"),
            t.invalid_placeit_credentials
              ? (Helpers.GlobalEventTracker.ssoTrack(
                  "placeitAccountFound.submittedWithError",
                  {
                    error: !0,
                    user: this.associatedEmailInput
                      ? this.associatedEmailInput.val()
                      : "",
                    message:
                      "Invalid password, please make sure you're entering your Placeit password",
                    response: t,
                  }
                ),
                this.showErrors([
                  this.constructor.TEXT_INVALID_PLACEIT_CREDENTIALS,
                ]))
              : this.dispatch("login.message", null),
            this.loginHeader.addClass("hidden"),
            this.confirmPlaceitPasswordHeader.removeClass("hidden"),
            this.userEmailContainer.addClass("hidden"),
            this.userEmailInput.removeAttr("required"),
            this.associatedEmailContainer.removeClass("hidden"),
            this.userPasswordContainer.addClass("hidden"),
            this.userPasswordInput.removeAttr("required"),
            this.userPlaceitPasswordContainer.removeClass("hidden"),
            this._toggleTFAField(!1),
            this.signinVerificationContainer.addClass("hidden"),
            this.recaptchaContainer.addClass("hidden"),
            this.userPlaceitPasswordInput.attr("required", ""),
            this.associatedEmailInput.val(t.associated_account),
            this.userPlaceitPasswordInput.focus(),
            (this.isAutoSignin = !1),
            this.element.unbind("submit"),
            this.element.bind("submit", this._submitForm.bind(this)),
            void Helpers.GlobalEventTracker.ssoTrack(
              "placeitAccountFound.modalOpened",
              {
                error: !1,
                user: this.associatedEmailInput
                  ? this.associatedEmailInput.val()
                  : "",
                message: "Confirm placeit account modal opened.",
                response: t,
              }
            )
          );
        if (
          (console.log("Login successful"),
          this.userForm.loginSuccess(this.form[0], t.data.user),
          this.isAutoSignin)
        )
          Helpers.GlobalEventTracker.ssoTrack("autoLogin.modalOpened", {
            error: !1,
            user: this.userEmailInput ? this.userEmailInput.val().trim() : "",
            message: "Auto sign-in modal opened",
          }),
            (n = this.constructor.TEXT_AUTOLOGIN_CTA),
            (n = n.replace("{{username}}", t.data.user.username)),
            this.loggedInOkBtn.val(n),
            this.loginMessage.addClass("hidden"),
            this.emailFieldContainer.addClass("hidden"),
            this.passwordFieldContainer.addClass("hidden"),
            this.migrationSectionContainer.addClass("hidden"),
            this._toggleTFAField(!1),
            this.loggedInNotice.removeClass("hidden");
        else {
          var i =
            "email" === this.loginMode
              ? "login.submittedWithEmail"
              : "login.submittedWithUsername";
          Helpers.GlobalEventTracker.ssoTrack(i, {
            error: !1,
            user: this.userEmailInput ? this.userEmailInput.val().trim() : "",
            message: "Log-in successfully submitted.",
            response: t,
          }),
            this.deactivate();
        }
        if (!Helpers.App.getTrackerId()) {
          var r = t.data.user.tracker_id;
          Helpers.App.setTrackerId(r),
            (window.placeitTrackerId = Helpers.App.getTrackerId());
        }
        this.envatoAccountFound &&
          page.flash(
            this.constructor.TEXT_MIGRATE_ENVATO_ACCOUNT_SUCCESS,
            "success"
          );
      },
      _handleLoggedInOk: function (e) {
        e.preventDefault(), this.deactivate();
      },
      _submitForm: function (e) {
        e.preventDefault();
        var t = this;
        if (
          t.hasRecaptcha &&
          ("undefined" == typeof grecaptcha ||
            null === this.recaptchaId ||
            !grecaptcha.getResponse(this.recaptchaId))
        )
          return (
            Helpers.GlobalEventTracker.ssoTrack("login.submittedWithError", {
              error: !0,
              user: t.userEmailInput ? t.userEmailInput.val().trim() : "",
              message: "Please click the reCAPTCHA checkbox",
            }),
            void t.recaptchaContainer.popover("show")
          );
        var n = this.userEmailInput.val().trim(),
          i = $(this.userPasswordInput).val(),
          r =
            /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        this.loginBtn.prop("disabled", !0),
          this.loginBtn.addClass("loading"),
          n.match(r)
            ? ((this.loginMode = "email"),
              this._localSignin(
                n,
                i,
                this._handleLocalSigninResponse.bind(this)
              ))
            : ((this.loginMode = "username"),
              this._ssoSignin(n, this._handleSsoSigninResponse.bind(this)));
      },
      _handleLocalSigninResponse: function (e, t) {
        if (
          (this.loginBtn.prop("disabled", !1),
          this.loginBtn.removeClass("loading"),
          e &&
            (this.showErrors([this.constructor.TEXT_LOGIN_ERROR]),
            this.die("_handleLocalSigninResponse", e)),
          t.redirect_signin_request_so_sso)
        )
          this._ssoSignin(
            t.sso_username,
            this._handleSsoSigninResponse.bind(this)
          );
        else if (t.invalid_credentials) {
          Helpers.GlobalEventTracker.ssoTrack("login.invalidCreds", {
            user: this.userEmailInput ? this.userEmailInput.val().trim() : "",
            error: !0,
            message:
              "Invalid email or password. You can also use the email address from your Envato account to login!",
          });
          var n = [this.constructor.TEXT_INVALID_CREDENTIALS];
          this.showErrors(n);
        } else if (t.too_many_attempts) {
          var n = [t.error];
          this.showErrors(n);
        } else
          t.requires_sso_credentials
            ? ($(this.userEmailInput).val(t.sso_username),
              $(this.userPasswordInput).val(""),
              $(this.userPasswordInput).focus(),
              $(this.userEmailInput).attr("readonly", ""),
              $(this.userEmailInput).addClass("readonly"),
              this._updateHeader("envato_account_header"),
              this.dispatch("login.message", null),
              this.userPasswordLabel.html(
                this.constructor.TEXT_ENVATO_PASSWORD
              ),
              (this.envatoAccountFound = !0),
              Helpers.GlobalEventTracker.ssoTrack(
                "ssoAccountFound.modalOpened",
                {
                  error: !1,
                  user: this.userEmailInput
                    ? this.userEmailInput.val().trim()
                    : "",
                  response: t,
                  message: "Envato account found, modal opened.",
                }
              ))
            : t.requires_sso_signup
            ? (this.dispatch("login.message", null), this._createSsoAccount())
            : t.authenticated &&
              (console.log("Login successful"),
              this.userForm.loginSuccess(this.form[0], t.user),
              this.deactivate());
      },
      _updateHeader: function (e) {
        var t = e;
        this.element.find(".header").attr("hidden", ""),
          $("#" + t).removeAttr("hidden");
      },
      _createSsoAccount: function () {
        var e = this;
        Helpers.GlobalEventTracker.ssoTrack("ssoUpdatingAccount.modalOpened", {
          error: !1,
          user: e.userEmailInput ? e.userEmailInput.val().trim() : "",
          message: "Updating your account modal opened.",
        }),
          this.migrateAccountHide.attr("hidden", ""),
          this.privacyPolicyContainer.removeAttr("hidden"),
          this.privacyPolicyInput.attr("required", ""),
          this.termsConditionsInput.attr("required", ""),
          this.userEmailInput.attr("readonly", ""),
          this.userEmailInput.addClass("readonly"),
          this.userPasswordInput.attr("readonly", ""),
          this.userPasswordInput.addClass("readonly"),
          this.continueBtn.removeAttr("hidden"),
          this.userEmailContainer.attr("hidden", ""),
          this.userPasswordContainer.attr("hidden", ""),
          this.updatingAccountHeader.removeAttr("hidden"),
          this.loginHeader.attr("hidden", ""),
          this.element.unbind("submit"),
          this.element.bind("submit", function (t) {
            t.preventDefault(),
              e.migrateUser(),
              e.continueSubmitBtn.prop("disabled", !0),
              e.continueSubmitBtn.addClass("loading");
          });
      },
      migrateUser: function (e) {
        var t = this,
          n = $(this.userEmailInput).val(),
          i = $(this.userPasswordInput).val(),
          r = this.element.find(":checkbox:checked").length > 0,
          s = {
            username:
              e || n.split("@")[0].replace(/\./g, "_").replace(/\+/g, "_"),
            email: n,
            password: i,
            first_name: "First Name",
            last_name: "Last Name",
            privacy_policy: r,
            suppress_confirmation_email: !0,
          },
          o = function (e) {
            t._verifyToken(
              e.token,
              "migrate",
              t._handleVerifyTokenResponse.bind(t)
            ),
              t.continueSubmitBtn.prop("disabled", !0),
              t.continueSubmitBtn.removeClass("loading");
          },
          a = function (i, r) {
            t.continueSubmitBtn.prop("disabled", !1),
              t.continueSubmitBtn.removeClass("loading");
            var o = t.envatoAccountFound
              ? "ssoAccountFound.migrationError"
              : "sso.migrationError";
            Helpers.GlobalEventTracker.ssoTrack(o, {
              error: !0,
              user: e,
              email: n,
              response: s,
              message:
                "Migration finished with error. SSO Error on migrate_user",
            }),
              t.die("migrateUser " + s.username, i, r);
          },
          l = this.envatoAccountFound
            ? "ssoAccountFound.migrationStarted"
            : "sso.migrationStarted";
        Helpers.GlobalEventTracker.ssoTrack(l, {
          error: !1,
          user: e,
          email: n,
          message: "Migration started. Getting account ready",
        }),
          $.ajax({
            url: "/sso/migrate_user",
            type: "POST",
            data: s,
            dataType: "json",
            beforeSend: function (e) {
              e.setRequestHeader(
                "X-CSRF-Token",
                $('meta[name="csrf-token"]').attr("content")
              );
            },
          })
            .done(function (e) {
              o(e);
            })
            .fail(function (e) {
              a(e.responseText);
            });
      },
      _localSignin: function (e, t, n) {
        $.ajax({
          url: "/login",
          type: "POST",
          data: {
            email: e,
            password: t,
          },
          dataType: "json",
          beforeSend: function (e) {
            e.setRequestHeader(
              "X-CSRF-Token",
              $('meta[name="csrf-token"]').attr("content")
            );
          },
        })
          .done(function (e) {
            n(null, e);
          })
          .fail(function (e) {
            n(e.responseText);
          });
      },
      _renderRecaptcha: function () {
        var e = this,
          t = function () {
            e._hidePopover();
          };
        if (
          (this.recaptchaContainer.removeAttr("hidden"),
          this.element
            .find(".g-recaptcha")
            .attr("data-sitekey", this.recaptchaKey),
          null !== this.recaptchaId)
        )
          return void (this.recaptchaRendered = !0);
        if (
          "undefined" != typeof grecaptcha &&
          grecaptcha.render &&
          !this.recaptchaRendered
        ) {
          (this.recaptchaId = grecaptcha.render(this.recaptchaContainer[0], {
            callback: t,
          })),
            (this.recaptchaRendered = !0);
          var n = setInterval(function () {
            var e = $('iframe[title="recaptcha challenge"]');
            if (0 !== e.length) {
              clearInterval(n);
              var t = e.parent().parent();
              t.addClass("recaptcha-container");
            }
          }, 1e3);
        } else
          clearTimeout(this.recapchaRetry),
            (this.recapchaRetry = setTimeout(
              this._renderRecaptcha.bind(this),
              333
            ));
      },
      _ssoSignin: function (e, t) {
        this.loginBtn.prop("disabled", !0), this.loginBtn.addClass("loading");
        var n = this,
          i = $(this.userPasswordInput).val(),
          r = $(this.twoFactorCodeInput).val(),
          s = {
            username: e,
            password: i,
            to: "placeit",
          };
        r && (s.authentication_code = r),
          this.hasRecaptcha &&
            ((s.recaptcha_version = 2),
            (s.recaptcha_response = grecaptcha.getResponse(this.recaptchaId)),
            (s.recaptcha_site_key = n.recaptchaKey));
        var o = function (e) {
            r &&
              Helpers.GlobalEventTracker.ssoTrack("login.submittedTFASuccess", {
                error: !1,
                user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
                message: "Login with TFA code success",
              }),
              t(null, e);
          },
          a = function () {
            t({
              loginFailed: !0,
            });
          },
          l = function (t, i) {
            if (
              (n.showErrors([n.constructor.TEXT_LOGIN_ERROR]),
              n.loginBtn.prop("disabled", !1),
              n.loginBtn.removeClass("loading"),
              n.envatoAccountFound)
            ) {
              var r = n.envatoAccountFound
                ? "ssoAccountFound.migrationError"
                : "sso.migrationError";
              Helpers.GlobalEventTracker.ssoTrack(r, {
                error: !0,
                user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
                message: "Envato account migration error. " + t,
              });
            }
            n.die("_ssoSignin " + e, t, i);
          },
          c = function () {
            n.dispatch("login.message", null),
              n._renderRecaptcha(),
              (n.hasRecaptcha = !0),
              n.loginBtn.prop("disabled", !1),
              n.loginBtn.removeClass("loading");
          },
          u = function () {
            n.dispatch("login.message", {
              type: "error",
              content: "Captcha invalid, try again",
            }),
              t("Captcha Invalid"),
              null !== n.recaptchaId && grecaptcha.reset(n.recaptchaId);
          },
          d = function () {
            Helpers.GlobalEventTracker.ssoTrack("login.tfaShowed", {
              error: !1,
              user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
              message: "TFA shown",
            }),
              n._toggleTFAField(!0),
              n.twoFactorCodeInput.attr("required", "required"),
              n.loginBtn.prop("disabled", !1),
              n.loginBtn.removeClass("loading");
          },
          p = function () {
            Helpers.GlobalEventTracker.ssoTrack("login.submittedTFAError", {
              error: !0,
              user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
              message: "TFA Code Invalid " + e,
            }),
              n.showErrors([n.constructor.TEXT_INVALID_TFA]),
              n.loginBtn.prop("disabled", !1),
              n.loginBtn.removeClass("loading");
          },
          h = function (e) {
            n.showErrors([n.constructor.TEXT_VERIFICATION_REQUIRED]),
              n.signinVerificationContainer.removeClass("hidden"),
              n.signinVerificationInput.attr("required", !0),
              n.loginBtn.prop("disabled", !1),
              n.loginBtn.removeClass("loading"),
              Helpers.GlobalEventTracker.ssoTrack(
                "sso.signInVerificationRequested",
                {
                  error: !1,
                  user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
                  message: "SSO server requested signin verification",
                }
              ),
              n.element.unbind("submit"),
              n.element.bind("submit", function (t) {
                t.preventDefault(),
                  n._ssoSigninWithVerification(
                    e,
                    n._handleSsoSigninWithVerification.bind(n)
                  ),
                  n.continueSubmitBtn.prop("disabled", !0),
                  n.continueSubmitBtn.addClass("loading");
              });
          },
          f = function () {
            t("Forced Password Reset Required");
          };
        if (this.envatoAccountFound) {
          var m = this.envatoAccountFound
            ? "ssoAccountFound.migrationStarted"
            : "sso.migrationStarted";
          Helpers.GlobalEventTracker.ssoTrack(m, {
            error: !1,
            user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
            message: "Envato account migration started: " + e,
          });
        }
        envatoSso.signIn({
          data: s,
          onSuccess: o,
          onFailure: a,
          onError: l,
          onCaptchaRequired: c,
          onCaptchaInvalid: u,
          onTwoFactorRequired: d,
          onTwoFactorInvalid: p,
          onSignInVerification: h,
          onForcedPasswordReset: f,
        });
      },
      _toggleTFAField: function (e) {
        this.twoFactorCodeContainer.toggleClass("hidden", !e),
          this.twoFactorCodeInput.attr("disabled", !e);
      },
      _handleSsoSigninResponse: function (e, t) {
        return e
          ? (console.log("Error at ssoSignin: " + JSON.stringify(e)),
            e.loginFailed && this.envatoAccountFound
              ? (Helpers.GlobalEventTracker.ssoTrack(
                  "ssoAccountFound.submittedWithError",
                  {
                    error: !0,
                    user: this.userEmailInput
                      ? this.userEmailInput.val().trim()
                      : "",
                    response: e,
                    message: "Wrong password!",
                  }
                ),
                this.showErrors([this.constructor.TEXT_WRONG_PASSWORD]))
              : e.loginFailed
              ? (Helpers.GlobalEventTracker.ssoTrack("login.invalidCreds", {
                  user: this.userEmailInput
                    ? this.userEmailInput.val().trim()
                    : "",
                  error: !0,
                  message:
                    "Invalid email or password. You can also use the email address from your Envato account to login!",
                }),
                this.showErrors([this.constructor.TEXT_INVALID_CREDENTIALS]))
              : e.twoFactorInvalid &&
                this.showErrors([this.constructor.TEXT_INVALID_TFA]),
            this.loginBtn.prop("disabled", !1),
            void this.loginBtn.removeClass("loading"))
          : void this._verifyToken(
              t,
              "signin",
              this._handleVerifyTokenResponse.bind(this)
            );
      },
      _ssoSigninWithVerification: function (e, t) {
        var n = this,
          i = {
            passcode: this.signinVerificationInput.val(),
            token: e,
            to: "placeit",
          },
          r = function (e) {
            t(null, e);
          },
          s = function (e) {
            t({
              failure: !0,
              message: e,
            });
          },
          o = function (e) {
            t({
              error: !0,
              message: e,
            });
          };
        this.loginBtn.prop("disabled", !0),
          this.loginBtn.addClass("loading"),
          Helpers.GlobalEventTracker.ssoTrack("sso.signInVerificationStarted", {
            error: !1,
            user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
            message: "Sign in verification started",
          }),
          envatoSso.signInVerification({
            data: i,
            onSuccess: r,
            onFailure: s,
            onError: o,
          });
      },
      _handleSsoSigninWithVerification: function (e, t) {
        var n = this,
          i = !1;
        return e
          ? (e.failure
              ? (n.showErrors([e.message]),
                n.loginBtn.prop("disabled", !1),
                n.loginBtn.removeClass("loading"))
              : e.error &&
                (n.showErrors([n.constructor.TEXT_LOGIN_ERROR]),
                n.loginBtn.prop("disabled", !1),
                n.loginBtn.removeClass("loading"),
                (i = !0)),
            Helpers.GlobalEventTracker.ssoTrack("sso.signInVerificationError", {
              error: !0,
              user: n.userEmailInput ? n.userEmailInput.val().trim() : "",
              message: "Sign in verification error",
            }),
            void ("" !== i && n.die("ssoSigninWithVerification", e.message, e)))
          : void this._verifyToken(
              t,
              "signInVerification",
              this._handleVerifyTokenResponse.bind(this)
            );
      },
      _bindEvents: function () {
        return (
          this.element.bind("submit", this._submitForm.bind(this)),
          this.signupLink.bind(
            "click",
            function (e) {
              e.preventDefault(), this.dispatch("signup.show");
            }.bind(this)
          ),
          this.envatoLogo.bind(
            "mouseenter",
            function () {
              this.envatoLogo
                .removeClass("envato-logo-gray")
                .addClass("envato-logo"),
                this.envatoPages.show();
            }.bind(this)
          ),
          this.envatoLogo.bind(
            "mouseleave",
            function () {
              this.envatoLogo
                .removeClass("envato-logo")
                .addClass("envato-logo-gray"),
                this.envatoPages.hide();
            }.bind(this)
          ),
          this.secretEye.bind(
            "click",
            function () {
              this.secretEye.hasClass("eye-on")
                ? (this.secretEye.removeClass("eye-on").addClass("eye-off"),
                  this.userPasswordInput.attr("type", "text"))
                : (this.secretEye.removeClass("eye-off").addClass("eye-on"),
                  this.userPasswordInput.attr("type", "password"));
            }.bind(this)
          ),
          this.placeitPasswordSecretEye.bind(
            "click",
            function () {
              this.placeitPasswordSecretEye.hasClass("eye-on")
                ? (this.placeitPasswordSecretEye
                    .removeClass("eye-on")
                    .addClass("eye-off"),
                  this.userPlaceitPasswordInput.attr("type", "text"))
                : (this.placeitPasswordSecretEye
                    .removeClass("eye-off")
                    .addClass("eye-on"),
                  this.userPlaceitPasswordInput.attr("type", "password"));
            }.bind(this)
          ),
          this.agree.on(
            "click",
            function () {
              var e = this.element.find("#privacy_policy_alert");
              setTimeout(function () {
                e.prop("checked", !e.is(":checked"));
              }, 0);
            }.bind(this)
          ),
          this.terms.on(
            "click",
            function () {
              var e = this.element.find("#terms_conditions_alert");
              setTimeout(function () {
                e.prop("checked", !e.is(":checked"));
              }, 0);
            }.bind(this)
          ),
          this.loggedInOkBtn.bind("click", this._handleLoggedInOk.bind(this)),
          this.userEmailInput.bind("keyup blur", function () {
            this.setAttribute("value", this.value);
          }),
          this.userPasswordInput.bind("keyup blur", function () {
            this.setAttribute("value", this.value);
          }),
          this
        );
      },
      _cancel: function (e) {
        e.preventDefault();
      },
      _saveInitialState: function () {
        var e = function (e) {
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
              var i = arguments[n];
              if (null != i)
                for (var r in i)
                  Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r]);
            }
            return t;
          },
          t = this;
        (this.initialState = e({}, this)),
          Object.keys(t).forEach(function (e) {
            t[e] instanceof jQuery &&
              ((t.initialState[e + "_hiddenCls"] = t[e].hasClass("hidden")),
              ["hidden", "readonly", "required"].forEach(function (n) {
                t.initialState[e + "_" + n + "Attr"] = t[e].attr(n);
              }));
          });
      },
      _reset: function () {
        var e = ["recaptchaId"],
          t = this;
        Object.keys(t.initialState).forEach(function (n) {
          t[n] instanceof jQuery
            ? (t.initialState[n + "_hiddenCls"]
                ? t[n].addClass("hidden")
                : t[n].removeClass("hiddenCls"),
              ["hidden", "readonly", "required"].forEach(function (e) {
                var i = t.initialState[n + "_" + e + "Attr"];
                "undefined" != typeof i && i !== !1
                  ? t[n].attr(e, e)
                  : t[n].removeAttr(e);
              }))
            : e.includes(n) || (t[n] = t.initialState[n]);
        }),
          this._toggleTFAField(!1),
          $(this.userEmailInput).val(""),
          $(this.userPasswordInput).val(""),
          $(this.twoFactorCodeInput).val(""),
          $(this.privacyPolicyInput).prop("checked", !1),
          $(this.termsConditionsInput).prop("checked", !1),
          this.element.unbind("submit"),
          this.element.bind("submit", this._submitForm.bind(this));
      },
      destroy: function () {
        (this.userForm = null),
          (this.fieldsContainer = null),
          (this.userEmailInput = null),
          (this.haveAnAccountLink = null),
          this._timeouts.forEach(function (e) {
            clearTimeout(e);
          }),
          Widget.prototype.destroy.call(this);
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this),
          this._timeouts.push(
            setTimeout(
              function () {
                var e = this.userEmailInput.val().trim();
                e.length < 1
                  ? this.userEmailInput.focus()
                  : this.userPasswordInput.focus();
              }.bind(this),
              300
            )
          ),
          this.dispatch("login.message", null),
          this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.isAutoSignin &&
            Helpers.GlobalEventTracker.ssoTrack("autoLogin.modalClosed", {
              user: this.userEmailInput ? this.userEmailInput.val().trim() : "",
              error: !1,
              message: "Auto sign-in modal closed",
            }),
          clearTimeout(this.recapchaRetry),
          this._reset(),
          this.dispatch("login.deactivate"),
          this
        );
      },
      showErrors: function (e) {
        var t = Object.keys(e)[0],
          n = e[t];
        return (
          Array.isArray(n) && (n = t + " " + e[t][0]),
          this.dispatch("login.message", {
            type: "error",
            content: n,
          }),
          this
        );
      },
      showMessages: function (e) {
        return (
          this.dispatch("login.message", {
            type: "success",
            content: e,
          }),
          this
        );
      },
      die: function (e, t, n) {
        var i = t || (n ? JSON.stringify(n) : "");
        throw new Error("SSO Error on SsoLoginModal: " + e + ": " + i);
      },
      showContinueHeader: function () {
        this.$continueHeader.removeClass("hidden");
      },
      hideContinueHeader: function () {
        this.$continueHeader.addClass("hidden");
      },
      setEmail: function (e) {
        $(this.userEmailInput).val(e), this.userEmailInput.attr("value", e);
      },
    },
  }),
  Class(UI, "SsoSignupModal")
    .inherits(Widget)
    .includes(
      RequiredFieldsPopovers,
      Translator
    )({
    html: '<div id="sso_signup_modal"><div class="header hidden" id="signup_continue_header"><h4>Please Sign Up to Continue</h4></div><div class="content"><form id="signup_form" class="sign-up-form"><div class="fields_container"><div class="floating-label-input email"><input autocomplete="off" class="form-control" id="signup_user_email" required="required" size="30" type="text" /><label class="placeholder">Email</label></div><div id="email_exists_warning" class="help-block text-left warning hidden">This email address is already in use. <a class="trigger_login_link" href="#">Log in</a></div><div id="email_error_warning" class="help-block text-left warning hidden"></div><div class="floating-label-input password"><input autocomplete="off" class="form-control" id="signup_user_password" required="required" type="password" /><label class="placeholder">Password</label><div class="secret-eye eye-on"></div></div><div class="meter meter-init"><b class="meter-1"></b><b class="meter-2"></b><b class="meter-3"></b><b class="meter-4"></b></div><div id="bad_password_warning" class="help-block text-left">Try using at least 7 characters, one number and one symbol</div><div class=""><p class="help-block checkboxes text-left"><span id="promotion-notifications" style="cursor: pointer;"> <input type="checkbox"> <span class="promotion-notifications">Receive exclusive offers, freebies, and inspiration right to your inbox.</span></input></span></p></div><div class="row form-group"><div id="recaptchaContainer" class="g-recaptcha col-xs-12"></div></div><div class="" id="signup_btn_container"><button id="submit_button" class="button primary disabled" name="commit" type="submit" value="Sign Up">Sign Up</button></div><div class=""><p class="help-block text-center new-policy">Envato collects and uses personal data in accordance with our <a class="strong block-link" target="_blank" href="https://envato.com/privacy/">Privacy Policy</a>. By creating an account, you agree to our <a class="strong block-link" target="_blank" href="https://placeit.net/terms-of-use">Terms and Conditions</a>. </p><p class="help-block text-center">Already have an account? <a href="#" class="trigger_login_link" role="button">Log in</a></p></div><div class="envato-notice text-center"><span class="placeit-envato-logo-black"></span></div></div></form></div></div>',
    TEXT_GIFT_CREATE_ACCOUNT:
      "Please create an account to apply the free download",
    TEXT_PASSWORD_CONTEXTUAL_HELP:
      "Try using at least 7 characters, one number and one symbol",
    TEXT_VALIDATE_SIGNUP_ERROR:
      "We could not complete your request. Please try again later",
    TEXT_CREATE_ACCOUNT_SUCCESS: "Your account was created!",
    TEXT_CREATE_ACCOUNT_ERROR:
      "We're sorry, we could not create your account. Please try again later",
    TEXT_VERIFY_TOKEN_SUCCESS: "All done!",
    TEXT_VERIFY_TOKEN_ERROR:
      "Your account was created but we could not log you in. Please try again later",
    TEXT_PASSWORD_STRENGTH_GOOD: "Good Password!",
    TEXT_PASSWORD_STRENGTH_GREAT: "Great Password!",
    TEXT_PASSWORD_STRENGTH_WEAK:
      "Try a longer password with numbers and symbols!",
    prototype: {
      $optinNewsletter: null,
      CONTINENT_CODE: "EU",
      placeitPromotionNotifications: !1,
      init: function (e) {
        if (
          (Widget.prototype.init.call(this, e),
          (this.userEmailInput = this.element.find("#signup_user_email")),
          (this.userPasswordInput = this.element.find("#signup_user_password")),
          (this.alert = this.element.find("#error_box")),
          (this.messages = this.element.find("#message_box")),
          (this.form = this.element.find("#signup_form")),
          (this.haveAnAccountLink = this.element.find(".trigger_login_link")),
          (this.envatoLogo = this.element.find(".envato-hover")),
          (this.envatoPages = this.element.find(".envato-pages")),
          (this.secretEye = this.element.find(".secret-eye")),
          (this.$optinNewsletter = this.element.find(
            "#promotion-notifications"
          )),
          (this.titleElement = this.element.find("#title")),
          (this.subtitleElement = this.element.find("#subtitle")),
          (this.recaptchaContainer = this.element.find(
            "#recaptchaContainer"
          )[0]),
          (this.emailExistsWarning = this.element.find(
            "#email_exists_warning"
          )),
          (this.badPasswordWarning = this.element.find(
            "#bad_password_warning"
          )),
          (this.submitButton = this.element.find("#submit_button")),
          (this.recapchaRetry = null),
          (this.recaptchaRendered = !1),
          (this.recaptchaId = null),
          (this.preventEscapeClose = !1),
          (this._timeouts = []),
          (this.$continueHeader = this.element.find("#signup_continue_header")),
          (this.$meter = this.element.find(".meter")),
          (this.$emailErrorWarning = this.element.find("#email_error_warning")),
          this.title && this.titleElement.html(this.title),
          this.subtitle && this.subtitleElement.html(this.subtitle),
          this.appendChild(
            new this.userFormClass({
              name: "userForm",
              element: this.form,
            })
          ),
          (this.$recaptcha = this.element
            .find(".g-recaptcha")
            .attr("data-sitekey", e.recaptchaKey)),
          this._setPopovers({
            $requiredFields: this.element.find("input").filter("[required]"),
            $recaptcha: this.$recaptcha,
            $submitButton: this.submitButton,
          }),
          this._bindEvents(),
          this.userEmailInput.attr("value", this.userEmailInput.val()),
          this.userPasswordInput.attr("value", this.userEmailInput.val()),
          window.placeitGift)
        ) {
          var t = this;
          setTimeout(function () {
            t.activate(),
              t.showMessages(t.constructor.TEXT_GIFT_CREATE_ACCOUNT);
          }, 500);
        }
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this),
          this.userPasswordInput.val(""),
          this.getGeoLocation(),
          this._renderRecaptcha(),
          this._updateMeter("init"),
          this.badPasswordWarning
            .text(this.constructor.TEXT_PASSWORD_CONTEXTUAL_HELP)
            .removeClass("success warning"),
          this.userPasswordInput.removeClass("warning"),
          this._timeouts.push(
            setTimeout(
              function () {
                this.userEmailInput.focus();
              }.bind(this),
              300
            )
          ),
          this.dispatch("signup.message", null),
          this
        );
      },
      _renderRecaptcha: function () {
        var e = this,
          t = function () {
            (e._validRecaptcha = !0),
              e._setSignupButtonState(),
              e._hidePopover();
          },
          n = function () {
            (e._validRecaptcha = !1), e._setSignupButtonState();
          };
        if (
          "undefined" != typeof grecaptcha &&
          grecaptcha.render &&
          !this.recaptchaRendered
        ) {
          (this.recaptchaId = grecaptcha.render(this.recaptchaContainer, {
            callback: t,
            "error-callback": n,
            "expired-callback": n,
          })),
            (this.recaptchaRendered = !0);
          var i = setInterval(function () {
            var e = $('iframe[title="recaptcha challenge"]');
            if (0 !== e.length) {
              clearInterval(i);
              var t = e.parent().parent();
              t.addClass("recaptcha-container");
            }
          }, 1e3);
        } else
          this.recapchaRetry = setTimeout(
            this._renderRecaptcha.bind(this),
            333
          );
      },
      _submitForm: function (e) {
        var t = this;
        if (
          (e.preventDefault(),
          "undefined" == typeof grecaptcha ||
            !grecaptcha.getResponse ||
            null === this.recaptchaId ||
            !grecaptcha.getResponse(this.recaptchaId))
        )
          return (
            Helpers.GlobalEventTracker.ssoTrack("signUp.submittedWithError", {
              error: !0,
              user: t.userEmailInput ? t.userEmailInput.val().trim() : "",
              message: "Please click the reCAPTCHA checkbox",
            }),
            void this.$recaptcha.popover("show")
          );
        this.userEmailInput.val().trim();
        this.submitButton.prop("disabled", !0),
          this.submitButton.addClass("loading"),
          this._hideEmailExistsWarning(),
          this._checkEmailAvailability(
            t._handleValidateSignupResponse.bind(this)
          );
      },
      _handleValidateSignupResponse: function (e, t) {
        return e
          ? (this.submitButton.prop("disabled", !1),
            this.submitButton.removeClass("loading"),
            this.showErrors([this.constructor.TEXT_VALIDATE_SIGNUP_ERROR]),
            void this.die("_handleValidateSignupResponse", e.responseText))
          : void (t.email_exists
              ? (Helpers.GlobalEventTracker.ssoTrack(
                  "signUp.submittedWithError",
                  {
                    error: !0,
                    email: this.userEmailInput
                      ? this.userEmailInput.val().trim()
                      : "",
                    message:
                      "Email already taken, please use another one or Log in",
                  }
                ),
                this._showEmailExistsWarning(),
                this.submitButton.prop("disabled", !1),
                this.submitButton.removeClass("loading"))
              : t.create_sso_account &&
                (this.alert.hide(), this._createSsoAccount()));
      },
      usernameRetries: 10,
      _createSsoAccount: function (e) {
        var t = this,
          n = this.userEmailInput.val().trim(),
          i = this.userPasswordInput.val();
        data = {
          username:
            e || n.split("@")[0].replace(/\./g, "_").replace(/\+/g, "_"),
          email: n,
          password: i,
          first_name: "First_name",
          last_name: "Last_name",
          privacy_policy: !0,
          recaptcha_version: 2,
          recaptcha_response: grecaptcha.getResponse(this.recaptchaId),
          recaptcha_site_key: t.recaptchaKey,
          suppress_confirmation_email: !0,
        };
        var r = function (i) {
            Helpers.GlobalEventTracker.ssoTrack(
              "signUp.envatoCreationSuccess",
              {
                error: !1,
                user: e,
                email: n,
                message: "Envato account creation success",
                response: i,
              }
            ),
              t._verifyToken(i, t._handleVerifyTokenResponse.bind(t));
          },
          s = function (i) {
            if (
              i.username &&
              (i.username.indexOf("has already been taken") >= 0 ||
                i.username.indexOf(
                  "is reserved because it used to belong to another user."
                ) >= 0) &&
              t.usernameRetries
            ) {
              var r = t._randomizeUsername(data.username);
              return t.usernameRetries--, void t._createSsoAccount(r);
            }
            var s = [];
            for (key in i)
              i[key].forEach(function (e) {
                s.push(key + " " + e);
              });
            Helpers.GlobalEventTracker.ssoTrack("signUp.submittedWithError", {
              error: !0,
              user: e,
              email: n,
              message: "Email already taken",
              response: s,
            }),
              t.showErrors(s),
              t.submitButton.prop("disabled", !1),
              t.submitButton.removeClass("loading");
          },
          o = function (i, r) {
            console.log("Could not Create account: " + i),
              Helpers.GlobalEventTracker.ssoTrack(
                "signUp.envatoCreationError",
                {
                  error: !0,
                  user: e,
                  email: n,
                  message: "Envato account creation error",
                }
              );
            var s = [t.constructor.TEXT_CREATE_ACCOUNT_ERROR];
            t.showErrors(s),
              t.submitButton.prop("disabled", !1),
              t.submitButton.removeClass("loading"),
              t.die("_createSsoAccount", i, r);
          };
        Helpers.GlobalEventTracker.ssoTrack("signUp.envatoCreationStarted", {
          error: !1,
          user: e,
          email: n,
          message: "Envato account: " + e + " creation started",
        }),
          envatoSso.signUp({
            data: data,
            onSuccess: r,
            onFailure: s,
            onError: o,
          });
      },
      _randomizeUsername: function (e) {
        var t = Math.round(9 * Math.random());
        return e + t;
      },
      _verifyToken: function (e, t) {
        var n = this;
        $.ajax({
          url: "/sso/verify_signin_token",
          type: "post",
          data: {
            token: e,
            is_signup: !0,
          },
          beforeSend: function (e) {
            e.setRequestHeader(
              "X-CSRF-Token",
              $('meta[name="csrf-token"]').attr("content")
            );
          },
          dataType: "json",
        })
          .done(function (e) {
            t(null, e);
          })
          .fail(function (e) {
            t(
              {
                message: n.constructor.TEXT_VERIFY_TOKEN_ERROR,
                error: e.responseText,
              },
              null
            );
          });
      },
      _handleVerifyTokenResponse: function (e, t) {
        if (e) {
          console.log("Failed to verify sso token");
          var n = ["Error: " + e.message];
          return this.showErrors(n), void this.die("_verifyToken", e.error, e);
        }
        if (
          (console.log("Login successful"),
          this.userForm.loginSuccess(this.form[0], t.data.user),
          this.postSignUpUpdate(),
          this.showMessages(this.constructor.TEXT_VERIFY_TOKEN_SUCCESS),
          !Helpers.App.getTrackerId())
        ) {
          var i = t.data.user.tracker_id;
          Helpers.App.setTrackerId(i),
            (window.placeitTrackerId = Helpers.App.getTrackerId());
        }
        this._timeouts.push(
          setTimeout(
            function () {
              this.dispatch("login.success");
            }.bind(this),
            750
          )
        );
      },
      _validatePassword: function () {
        var e = this,
          t = function (t) {
            var n = "";
            t &&
              "acceptable" === t &&
              (n = e.constructor.TEXT_PASSWORD_STRENGTH_GOOD),
              !t ||
                ("good" !== t && "great" !== t.toLowerCase()) ||
                (n = e.constructor.TEXT_PASSWORD_STRENGTH_GREAT),
              e.badPasswordWarning
                .html(n)
                .removeClass("warning")
                .addClass("success"),
              e.userPasswordInput.removeClass("warning"),
              e._updateMeter(t);
          },
          n = function (t) {
            e.badPasswordWarning
              .html(e.constructor.TEXT_PASSWORD_STRENGTH_WEAK)
              .removeClass("success")
              .addClass("warning"),
              e.userPasswordInput.addClass("warning"),
              e._updateMeter(t);
          },
          i = function (t, n) {
            e.badPasswordWarning.addClass("hidden"),
              e.die("_validatePassword", t, n);
          },
          r = {
            username: "",
            password: e.userPasswordInput.val(),
          };
        envatoSso.passwordValidation({
          data: r,
          onSuccess: t,
          onFailure: n,
          onError: i,
        });
      },
      _updateMeter: function (e) {
        var t = "meter-" + e;
        this.$meter.hasClass(t) !== !0 &&
          this.$meter
            .removeClass(
              "meter-init meter-weak meter-acceptable meter-good meter-great"
            )
            .addClass(t);
      },
      _delayedFieldCheck: function () {
        this.timer = setTimeout(this._validatePassword.bind(this), 750);
      },
      _resetFieldCheck: function () {
        clearTimeout(this.timer);
      },
      _bindEvents: function () {
        return (
          this.element.bind("submit", this._submitForm.bind(this)),
          this.haveAnAccountLink.on(
            "click",
            function (e) {
              e.preventDefault(), this.dispatch("login.show");
            }.bind(this)
          ),
          this.envatoLogo.bind(
            "mouseenter",
            function () {
              this.envatoLogo
                .removeClass("envato-logo-gray")
                .addClass("envato-logo"),
                this.envatoPages.show();
            }.bind(this)
          ),
          this.envatoLogo.bind(
            "mouseleave",
            function () {
              this.envatoLogo
                .removeClass("envato-logo")
                .addClass("envato-logo-gray"),
                this.envatoPages.hide();
            }.bind(this)
          ),
          this.secretEye.bind(
            "click",
            function () {
              this.secretEye.hasClass("eye-on")
                ? (this.secretEye.removeClass("eye-on").addClass("eye-off"),
                  this.userPasswordInput.attr("type", "text"))
                : (this.secretEye.removeClass("eye-off").addClass("eye-on"),
                  this.userPasswordInput.attr("type", "password"));
            }.bind(this)
          ),
          this.userPasswordInput.bind(
            "keyup",
            this._delayedFieldCheck.bind(this)
          ),
          this.userPasswordInput.bind(
            "blur",
            this._delayedFieldCheck.bind(this)
          ),
          this.userPasswordInput.bind(
            "keydown",
            this._resetFieldCheck.bind(this)
          ),
          this.userEmailInput.bind(
            "keyup",
            function (e) {
              e.target.setAttribute("value", e.target.value),
                this._hideEmailExistsWarning();
            }.bind(this)
          ),
          this.userEmailInput.bind(
            "blur",
            function (e) {
              e.target.setAttribute("value", e.target.value),
                this.dispatch("signup.emailAvailable", !0),
                this._validateEmailField();
            }.bind(this)
          ),
          this.userPasswordInput.bind("keyup blur", function () {
            this.setAttribute("value", this.value);
          }),
          this.$optinNewsletter.bind(
            "click",
            function () {
              this.toggleOptinNewsletter();
            }.bind(this)
          ),
          this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this._hidePopover(),
          clearTimeout(this.recapchaRetry),
          this.dispatch("signup.deactivate"),
          this
        );
      },
      destroy: function () {
        (this.userForm = null),
          (this.fieldsContainer = null),
          (this.userEmailInput = null),
          (this.haveAnAccountLink = null),
          this._timeouts.forEach(function (e) {
            clearTimeout(e);
          }),
          Widget.prototype.destroy.call(this);
      },
      showErrors: function (e) {
        var t = Object.keys(e)[0],
          n = e[t];
        return (
          Array.isArray(n) && (n = t + " " + e[t][0]),
          -1 !== n.indexOf("email")
            ? (this.userEmailInput.addClass("warning"),
              this.$emailErrorWarning.text(n).removeClass("hidden"),
              this)
            : (this.dispatch("signup.message", {
                type: "error",
                content: n,
              }),
              this)
        );
      },
      showMessages: function (e) {
        return (
          this.dispatch("signup.message", {
            type: "success",
            content: e,
          }),
          this
        );
      },
      die: function (e, t, n) {
        var i = t || (n ? JSON.stringify(n) : "");
        throw new Error("SSO Error on SsoSignupModal: " + e + ": " + i);
      },
      toggleOptinNewsletter: function () {
        var e = this;
        e.setPromotionNotifications(!this.placeitPromotionNotifications);
      },
      setPromotionNotifications: function (e) {
        var t = this.element.find("#promotion-notifications input");
        (this.placeitPromotionNotifications = e), t.prop("checked", e);
      },
      getGeoLocation: function () {
        var e = null,
          t = this;
        geoip2.country(
          function (n) {
            (e = n.continent && n.continent.code),
              t.setPromotionNotifications(e === t.CONTINENT_CODE ? !1 : !0);
          },
          function () {
            t.setPromotionNotifications(!0);
          }
        );
      },
      postSignUpUpdate: function () {
        var e = {
          placeit_promotion_notifications: this.placeitPromotionNotifications,
        };
        Helpers.App.updateEmailNotifications(e);
      },
      showContinueHeader: function () {
        this.$continueHeader.removeClass("hidden");
      },
      hideContinueHeader: function () {
        this.$continueHeader.addClass("hidden");
      },
      _showEmailExistsWarning: function () {
        this.emailExistsWarning.removeClass("hidden");
      },
      _hideEmailExistsWarning: function () {
        this.emailExistsWarning.addClass("hidden");
      },
      _validateEmailField: function () {
        var e = this.userEmailInput.val().trim();
        return e.length < 1
          ? void this._hideEmailExistsWarning()
          : void this._checkEmailAvailability(
              this._validateEmailFieldHandler.bind(this)
            );
      },
      _validateEmailFieldHandler: function (e, t) {
        !e && t.email_exists
          ? this._showEmailExistsWarning()
          : this._hideEmailExistsWarning();
      },
      _checkEmailAvailability: function (e) {
        var t = this,
          n = this.userEmailInput.val().trim();
        Helpers.GlobalEventTracker.ssoTrack("signup.emailValidationStarted", {
          error: !1,
          user: n,
          message: "Email validation started: " + n,
        }),
          $.ajax({
            url: "/sso/validate_signup",
            type: "POST",
            data: {
              email: n,
            },
            dataType: "json",
            beforeSend: function (e) {
              e.setRequestHeader(
                "X-CSRF-Token",
                $('meta[name="csrf-token"]').attr("content")
              );
            },
          })
            .done(function (i) {
              i.email_exists
                ? t.dispatch("signup.emailAvailable", n)
                : (Helpers.GlobalEventTracker.ssoTrack(
                    "signup.emailValidationSuccess",
                    {
                      error: !1,
                      user: n,
                      message: "Email validation success",
                      response: i,
                    }
                  ),
                  t.dispatch("signup.emailAvailable", !0)),
                e && e(null, i);
            })
            .fail(function (i) {
              Helpers.GlobalEventTracker.ssoTrack(
                "signup.emailValidationError",
                {
                  error: !0,
                  user: n,
                  message: "Email validation error",
                  response: i,
                }
              ),
                t.dispatch("signup.emailAvailable", !0),
                e && e(i);
            });
      },
      _setSignupButtonState: function () {
        var e = this;
        e._validRecaptcha
          ? e.submitButton.removeClass("disabled")
          : e.submitButton.addClass("disabled");
      },
    },
  }),
  Class(UI, "TabbedModal").inherits(Widget)({
    elementClass: "tabbed-modal-widget",
    html: '        <div class="modal modal-tab-panel fade" id="{{id}}" tabindex="-1" role="dialog" aria-labelledby="{{id-label}}" aria-hidden="true">            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>            <div class="modal-dialog">                <div class="modal-content">                    <ul class="nav nav-tabs btn-group"></ul>                    <div class="tab-content"></div>                </div>            </div>        </div>    ',
    prototype: {
      _tabs: null,
      dialog: null,
      _tabList: null,
      tabContent: null,
      _paneList: [],
      closeDisabled: null,
      _timeouts: null,
      $close: null,
      _activatedBy: null,
      fade: !0,
      init: function (e) {
        return (
          Widget.prototype.init.call(this, e),
          this.name
            ? ((this.el = this.element[0]),
              (this.modal = $(this.el)),
              (this.closeDisabled = !1),
              (this._timeouts = []),
              (this.dialog = this.el.querySelector(".modal-dialog")),
              (this._tabList = this.el.querySelector(".nav-tabs")),
              (this.tabContent = this.el.querySelector(".tab-content")),
              (this.$close = this.element.find(".close")),
              this.fade === !1 && this.modal.removeClass("fade"),
              (this._tabs = {}),
              this.childs &&
                this.childs.forEach(
                  function (e) {
                    this._addChild(e);
                  }.bind(this)
                ),
              this.el.setAttribute("id", this.name),
              this.el.setAttribute("aria-labelledby", this.name + "Label"),
              void this._bindEvents())
            : void console.error("name key is required")
        );
      },
      _bindEvents: function () {
        return (
          this.element.on(
            "show.bs.modal",
            function () {
              this.dispatch("modal.show");
            }.bind(this)
          ),
          this.element.on(
            "shown.bs.modal",
            function () {
              this.dispatch("modal.shown");
            }.bind(this)
          ),
          this.element.on(
            "hide.bs.modal",
            function () {
              return this.closeDisabled === !0
                ? !1
                : void this.dispatch("modal.hide");
            }.bind(this)
          ),
          this.element.on(
            "hidden.bs.modal",
            function () {
              this.dispatch("modal.hidden");
            }.bind(this)
          ),
          this.element.find('a[data-toggle="tab"]').on(
            "show.bs.tab",
            function (e) {
              var t, n;
              (t = $(e.target)),
                (n = this.getTab(t.data("name"))),
                this._animateTab(t),
                this.dispatch("tab.show", n);
            }.bind(this)
          ),
          this.element.find('a[data-toggle="tab"]').on(
            "shown.bs.tab",
            function (e) {
              var t, n;
              (t = $(e.target)),
                (n = this.getTab(t.data("name"))),
                this.dispatch("tab.shown", n);
            }.bind(this)
          ),
          this
        );
      },
      _addChild: function (e) {
        var t, n, i;
        void 0 === e.name && (e.name = e.label.replace(/\s/g, "")),
          (t = e.name + "_" + this.name),
          (n =
            '<li>                            <a class="flex-vc-hc" data-toggle="tab" href="#' +
            t +
            '" data-name="' +
            e.name +
            '">                                ' +
            e.label +
            "                            </a>                        </li>"),
          (i = '<div class="tab-pane" id="' + t + '"></div>'),
          (this._tabs[t] = {});
        for (var r in e) this._tabs[t][r] = e[r];
        (this._tabs[t].tab = $(n)),
          (this._tabs[t].tabAnchor = this._tabs[t].tab.find("a")),
          (this._tabs[t].pane = $(i)),
          e.renderInTabList && this._tabList.appendChild(this._tabs[t].tab[0]),
          this.tabContent.appendChild(this._tabs[t].pane[0]),
          this._renderTab(this._tabs[t]);
      },
      activate: function (e) {
        (this._activatedBy = e),
          Widget.prototype.activate.call(this),
          this.element.modal("show");
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.element.modal("hide"),
          this
        );
      },
      destroy: function () {
        (this.dialog = null),
          (this._tabList = null),
          (this._paneList = null),
          (this.tabContent = null),
          (this._tabs = null),
          (this.childs = null),
          this._timeouts.forEach(function (e) {
            clearTimeout(e);
          }),
          Widget.prototype.destroy.call(this);
      },
      isShown: function () {
        return this.element.data("bs.modal").isShown;
      },
      showMessage: function (e) {
        var t;
        this.hideMessage(),
          "error" === e.type && (e.type = "danger"),
          (t = '<div class="alert alert-' + e.type + '">'),
          (t += e.content),
          (t += "</div>"),
          $(this.dialog).prepend(t);
      },
      hideMessage: function () {
        $(this.dialog).find("> .alert").remove();
      },
      selectTabByName: function (e) {
        var t = e + "_" + this.name;
        return (
          Object.keys(this._tabs).indexOf(t) >= 0 &&
            (this._showTab(this._tabs[t]), this._tabs[t].tabAnchor.tab("show")),
          this
        );
      },
      _showTab: function (e) {
        e.tabAnchor.tab("show");
      },
      _animateTab: function (e) {
        e.parent().addClass("animate"),
          this._timeouts.push(
            setTimeout(function () {
              e.parent().removeClass("animate");
            }, 1e3)
          );
      },
      _renderTab: function (e) {
        this._setModalWidth(e.modalWidth),
          e.widget.element.detach(),
          this.appendChild(e.widget),
          e.widget.render(e.pane);
      },
      _setModalWidth: function (e) {
        return (
          (this.dialog.style.width =
            void 0 !== e &&
            (!Helpers.App.isMobile() ||
              $(window).width() > parseInt(e.split("p")[0]))
              ? e
              : "100%"),
          this
        );
      },
      getTab: function (e) {
        var t;
        return (t = e + "_" + this.name), this._tabs[t] ? this._tabs[t] : null;
      },
      disableClose: function () {
        (this.closeDisabled = !0), this.$close.hide();
      },
      enableClose: function (e) {
        (this.closeDisabled = !1), e === !0 && this.$close.show();
      },
    },
  }),
  Class(UI, "SsoModal")
    .inherits(Widget)
    .includes(
      CustomEventSupport,
      BubblingSupport,
      GenericDestroySupport,
      Translator
    )({
    TAB_LOGIN: "loginTab",
    TAB_SIGNUP: "signupTab",
    TEXT_TAB_SIGNUP: "Sign Up",
    TEXT_TAB_LOGIN: "Log In",
    prototype: {
      tabbedModal: null,
      ssoLoginForm: null,
      tabNameToShow: null,
      init: function (e) {
        Widget.prototype.init.call(this, e);
        /*
            this.ssoLoginForm = new UI.SsoLoginModal({
                userFormClass: UI.UserForm,
                recaptchaKey: window.recaptchaKey
            }),
            this.ssoSignupForm = new UI.SsoSignupModal({
                userFormClass: UI.UserForm,
                recaptchaKey: window.recaptchaKey
            }),
            this.tabbedModal = new UI.TabbedModal({
                name: "ssoModal",
                childs: [{
                    name: UI.SsoModal.TAB_SIGNUP,
                    label: this.constructor.TEXT_TAB_SIGNUP,
                    renderInTabList: !0,
                    modalWidth: "478px",
                    widget: this.ssoSignupForm
                }, {
                    name: UI.SsoModal.TAB_LOGIN,
                    label: this.constructor.TEXT_TAB_LOGIN,
                    renderInTabList: !0,
                    modalWidth: "478px",
                    widget: this.ssoLoginForm
                }]
            }),
            this.appendChild(this.tabbedModal),
            this._bindEvents()
            */
      },
      _bindEvents: function () {
        var e = this;
        this.tabbedModal.bind(
          "modal.shown",
          function () {
            this._modalShownHandler(), this.dispatch("modal.shown");
          }.bind(this)
        ),
          this.tabbedModal.bind(
            "modal.hidden",
            function () {
              this.tabbedModal.childs.forEach(function (e) {
                e.widget.deactivate();
              }),
                this.dispatch("modal.hidden");
            }.bind(this)
          ),
          this.tabbedModal.bind("modal.hide", function () {
            e.dispatch("modal.hide");
          }),
          this.tabbedModal.bind(
            "tab.shown",
            function (e) {
              this.tabbedModal.childs.forEach(function (t) {
                t.name === e.data.name && t.widget.activate();
              });
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "login.message",
            function (e) {
              e.data && this.tabbedModal.showMessage(e.data);
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "login.deactivate",
            function () {
              this.deactivate();
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "signup.show",
            function () {
              this.tabbedModal.selectTabByName(UI.SsoModal.TAB_SIGNUP);
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "form.success",
            function () {
              this.dispatch("login.form.success");
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "bookmarks.retrieved",
            function (e) {
              this.dispatch("login.bookmarks.retrieved", e.data);
            }.bind(this)
          ),
          this.ssoLoginForm.bind(
            "login.autosignin",
            function () {
              this.activate(UI.SsoModal.TAB_LOGIN);
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "signup.message",
            function (e) {
              e.data && this.tabbedModal.showMessage(e.data);
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "login.show",
            function () {
              this.tabbedModal.selectTabByName(UI.SsoModal.TAB_LOGIN);
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "form.success",
            function () {
              this.dispatch("signup.form.success");
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "show.login.no-close",
            function () {
              this.dispatch("show.login.no-close");
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "login.success",
            function () {
              this.deactivate();
            }.bind(this)
          ),
          this.ssoSignupForm.bind(
            "signup.emailAvailable",
            function (e) {
              var t = "";
              e.data !== !0 && (t = e.data), this.ssoLoginForm.setEmail(t);
            }.bind(this)
          );
      },
      activate: function (e) {
        return (
          Widget.prototype.activate.call(this),
          (this.tabNameToShow = UI.SsoModal.TAB_SIGNUP),
          this._shouldForceLogInTab() &&
            (this.tabNameToShow = UI.SsoModal.TAB_LOGIN),
          e
            ? ((this.tabNameToShow = e),
              this.ssoLoginForm.hideContinueHeader(),
              this.ssoSignupForm.hideContinueHeader())
            : (this.ssoLoginForm.showContinueHeader(),
              this.ssoSignupForm.showContinueHeader()),
          this.tabbedModal.hideMessage(),
          this.tabbedModal.activate(),
          e === UI.SsoModal.TAB_SIGNUP &&
            Helpers.GlobalEventTracker.track("signup.fullModalOpened"),
          this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.tabbedModal.enableClose(!1),
          this.tabbedModal.deactivate(),
          this
        );
      },
      destroy: function () {
        this.tabbedModal.destroy(), this.genericDestroy();
      },
      showMessage: function (e) {
        e.contentForceLogIn &&
          this._shouldForceLogInTab() &&
          (e.content = e.contentForceLogIn),
          this.tabbedModal.showMessage(e);
      },
      showTab: function (e) {
        this.tabbedModal.childs.forEach(function (t) {
          t.name === e && t.widget.activate();
        }),
          this.tabbedModal.selectTabByName(e);
      },
      login: function () {
        this.ssoLoginForm.login();
      },
      _modalShownHandler: function () {
        this.tabNameToShow &&
          (this.showTab(this.tabNameToShow), (this.tabNameToShow = null));
      },
      disableClose: function () {
        this.tabbedModal.disableClose();
      },
      enableClose: function () {
        this.tabbedModal.enableClose(!0);
      },
      _shouldForceLogInTab: function () {
        return !(!window.placeitTrackerId && !$.cookie("pl_tracker_id_v2"));
      },
    },
  }),
  Class(UI, "Carousel")
    .inherits(Widget)
    .includes(
      BubblingSupport,
      GenericDestroySupport
    )({
    MOBILE_ITEMS_PER_PAGE: 3,
    TABLET_ITEMS_PER_PAGE: 4,
    DESKTOP_ITEMS_PER_PAGE: 6,
    DESKTOPXL_ITEMS_PER_PAGE: 6,
    BREAKPOINTS: {
      mobile: 768,
      tablet: 1024,
      desktop: 1440,
    },
    PREVIOUS_ARROW_HTML:
      '      <div class="slick-prev">        <span>          <svg width="12px" height="19px" viewBox="0 0 12 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">              <path d="M0.422636657,18.5826964 C0.956589989,19.1582804 1.95591549,19.1195857 2.49966613,18.5826964 C2.83767329,18.2489544 3.17568044,17.9152124 3.51368759,17.5814705 C4.97838527,16.1352552 6.44308294,14.6890399 7.90778061,13.2428246 C8.82382898,12.3383355 9.74477601,11.4290095 10.6608244,10.5245203 C11.2241696,9.96828369 11.2241696,9.02993666 10.6608244,8.47370001 C10.3228172,8.13995803 9.98481008,7.80621604 9.64680293,7.47247405 C8.18210525,6.02625878 6.71740758,4.58004351 5.25270991,3.13382823 C4.33666154,2.22933908 3.41571451,1.32001309 2.49966613,0.415523936 C1.92162491,-0.160060069 1.01047519,-0.116528506 0.422636657,0.415523936 C-0.160303218,0.942739538 -0.121113983,1.92945498 0.422636657,2.46634426 C0.760643812,2.80008625 1.09865097,3.13382823 1.43665812,3.46757022 C2.90135579,4.91378549 4.36605346,6.36000077 5.83075113,7.80621604 C6.74679951,8.71070519 7.66774654,9.62003119 8.58379492,10.5245203 C8.58379492,9.84252584 8.58379492,9.15569451 8.58379492,8.47370001 C8.24578776,8.807442 7.90778061,9.14118399 7.56977345,9.47492597 C6.10507578,10.9211412 4.64037811,12.3673565 3.17568044,13.8135718 C2.25963206,14.7180609 1.33868503,15.6273869 0.422636657,16.5318761 C-0.155404564,17.1026233 -0.116215329,18.0022756 0.422636657,18.5826964 Z" id="carousel-left-arrow" fill="{{arrowsColor}}" fill-rule="nonzero" transform="translate(5.541667, 9.500000) rotate(180.000000) translate(-5.541667, -9.500000) "> </path>            </g>          </svg>        </span>      </div>    ',
    NEXT_ARROW_HTML:
      '      <div class="slick-next">        <span>          <svg width="12px" height="19px" viewBox="0 0 12 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">              <path d="M0.422636657,18.5826964 C0.956589989,19.1582804 1.95591549,19.1195857 2.49966613,18.5826964 C2.83767329,18.2489544 3.17568044,17.9152124 3.51368759,17.5814705 C4.97838527,16.1352552 6.44308294,14.6890399 7.90778061,13.2428246 C8.82382898,12.3383355 9.74477601,11.4290095 10.6608244,10.5245203 C11.2241696,9.96828369 11.2241696,9.02993666 10.6608244,8.47370001 C10.3228172,8.13995803 9.98481008,7.80621604 9.64680293,7.47247405 C8.18210525,6.02625878 6.71740758,4.58004351 5.25270991,3.13382823 C4.33666154,2.22933908 3.41571451,1.32001309 2.49966613,0.415523936 C1.92162491,-0.160060069 1.01047519,-0.116528506 0.422636657,0.415523936 C-0.160303218,0.942739538 -0.121113983,1.92945498 0.422636657,2.46634426 C0.760643812,2.80008625 1.09865097,3.13382823 1.43665812,3.46757022 C2.90135579,4.91378549 4.36605346,6.36000077 5.83075113,7.80621604 C6.74679951,8.71070519 7.66774654,9.62003119 8.58379492,10.5245203 C8.58379492,9.84252584 8.58379492,9.15569451 8.58379492,8.47370001 C8.24578776,8.807442 7.90778061,9.14118399 7.56977345,9.47492597 C6.10507578,10.9211412 4.64037811,12.3673565 3.17568044,13.8135718 C2.25963206,14.7180609 1.33868503,15.6273869 0.422636657,16.5318761 C-0.155404564,17.1026233 -0.116215329,18.0022756 0.422636657,18.5826964 Z" id="carousel-right-arrow" fill="{{arrowsColor}}" fill-rule="nonzero"> </path>            </g>          </svg>        </span>      </div>    ',
    prototype: {
      name: null,
      resizeDebounce: null,
      slickSettings: null,
      arrowsColor: "#303030",
      autoPreview: !1,
      _debouncedScrollListener: null,
      useSlick: !0,
      init: function (e) {
        var t,
          n = {
            mobile: UI.Carousel.MOBILE_ITEMS_PER_PAGE,
            tablet: UI.Carousel.TABLET_ITEMS_PER_PAGE,
            desktop: UI.Carousel.DESKTOP_ITEMS_PER_PAGE,
            desktopXL: UI.Carousel.DESKTOPXL_ITEMS_PER_PAGE,
          };
        Widget.prototype.init.call(this, e),
          (this.slickSettings = {}),
          e.useSlick || (this.useSlick = !Helpers.App.isMobile()),
          (this.itemsPerPage = e.itemsPerPage
            ? $.extend(n, e.itemsPerPage)
            : n),
          (this.items = this.element.find(".carousel-item")),
          (t = $.extend({}, e.settings || {})),
          t.prevArrow || (t.prevArrow = UI.Carousel.PREVIOUS_ARROW_HTML),
          t.nextArrow || (t.nextArrow = UI.Carousel.NEXT_ARROW_HTML),
          e.arrowsColor && (this.arrowsColor = e.arrowsColor),
          (t.prevArrow = t.prevArrow.replace(
            "{{arrowsColor}}",
            this.arrowsColor
          )),
          (t.nextArrow = t.nextArrow.replace(
            "{{arrowsColor}}",
            this.arrowsColor
          )),
          (t.swipe = t.swipe || !0),
          (t.infinite = t.infinite || !1),
          (t.touchMove = t.touchMove || !0),
          (t.slidesToShow =
            t.slidesToShow ||
            Math.min(this.itemsPerPage.desktopXL, this.items.length)),
          (t.slidesToScroll =
            t.slidesToScroll ||
            Math.min(this.itemsPerPage.desktopXL, this.items.length)),
          e.responsive &&
            (t.responsive = [
              {
                breakpoint: UI.Carousel.BREAKPOINTS.mobile + 1,
                settings: {
                  slidesToShow: Math.min(
                    this.itemsPerPage.mobile,
                    this.items.length
                  ),
                  slidesToScroll: Math.min(
                    this.itemsPerPage.mobile,
                    this.items.length
                  ),
                },
              },
              {
                breakpoint: UI.Carousel.BREAKPOINTS.tablet + 1,
                settings: {
                  slidesToShow: Math.min(
                    this.itemsPerPage.tablet,
                    this.items.length
                  ),
                  slidesToScroll: Math.min(
                    this.itemsPerPage.tablet,
                    this.items.length
                  ),
                },
              },
              {
                breakpoint: UI.Carousel.BREAKPOINTS.desktop + 1,
                settings: {
                  slidesToShow: Math.min(
                    this.itemsPerPage.desktop,
                    this.items.length
                  ),
                  slidesToScroll: Math.min(
                    this.itemsPerPage.desktop,
                    this.items.length
                  ),
                },
              },
            ]),
          e.name && (this.name = e.name),
          this._bindEvents(),
          this.useSlick && this.element.slick(t),
          (this.slickSettings = t),
          e.center &&
            (this._center(),
            $(window).on(
              "resize",
              function () {
                clearTimeout(this.resizeDebounce),
                  (this.resizeDebounce = setTimeout(
                    this._center.bind(this),
                    150
                  ));
              }.bind(this)
            ));
      },
      _bindEvents: function () {
        var e,
          t,
          n = this;
        this.autoPreview &&
          Helpers.App.isMobileDevice() &&
          ((this._debouncedScrollListener = Helpers.App.debounce(
            this.playVisiblePreviews.bind(this),
            100
          )),
          this.element.bind("scroll", this._debouncedScrollListener)),
          this.element.on(
            "beforeChange",
            function (e, t, n, i) {
              var r, s;
              (r = $.extend({}, $(t.$slides[n]).data())),
                (r.currentSlide = n),
                (s = $.extend({}, $(t.$slides[i]).data())),
                (s.nextSlide = i),
                this.dispatch("carousel.beforeChange", {
                  current: r,
                  next: s,
                });
            }.bind(this)
          ),
          this.element.on(
            "afterChange",
            function (e, t, n) {
              var i;
              (i = $.extend({}, $(t.$slides[n]).data())),
                (i.currentSlide = n),
                this.dispatch("carousel.afterChange", i);
            }.bind(this)
          ),
          (e = P.promisifyEvent("init")(this.element)),
          (t = P.promisifyEvent("setPosition")(this.element)),
          Promise.all([e, t]).then(function () {
            n.element.removeClass("is-hidden"),
              n.dispatch("contentReady", {
                originalDispatcher: n,
              }),
              n.setPosition();
          });
      },
      goto: function (e) {
        var t = this.element.slick("slickCurrentSlide");
        e != t && this.element.slick("slickGoTo", e);
      },
      resetSlick: function (e) {
        if (this.useSlick) {
          e = e || {};
          var t = $.extend({}, this.slickSettings, e);
          (this.items = this.element.find(".carousel-item")),
            e.responsive &&
              (t.responsive = [
                {
                  breakpoint: UI.Carousel.BREAKPOINTS.mobile + 1,
                  settings: {
                    slidesToShow: Math.min(
                      this.itemsPerPage.mobile,
                      this.items.length
                    ),
                    slidesToScroll: Math.min(
                      this.itemsPerPage.mobile,
                      this.items.length
                    ),
                  },
                },
                {
                  breakpoint: UI.Carousel.BREAKPOINTS.tablet + 1,
                  settings: {
                    slidesToShow: Math.min(
                      this.itemsPerPage.tablet,
                      this.items.length
                    ),
                    slidesToScroll: Math.min(
                      this.itemsPerPage.tablet,
                      this.items.length
                    ),
                  },
                },
                {
                  breakpoint: UI.Carousel.BREAKPOINTS.desktop + 1,
                  settings: {
                    slidesToShow: Math.min(
                      this.itemsPerPage.desktop,
                      this.items.length
                    ),
                    slidesToScroll: Math.min(
                      this.itemsPerPage.desktop,
                      this.items.length
                    ),
                  },
                },
              ]),
            this.element.slick(t);
        }
      },
      _center: function () {
        var e, t, n;
        (e = this.element.outerWidth()),
          (t = $(this.items[0]).outerWidth()),
          (padding =
            parseInt(this.element.css("padding-left")) +
            parseInt(this.element.css("padding-right"))),
          (margin =
            parseInt(this.element.css("margin-left")) +
            parseInt(this.element.css("margin-right"))),
          (n = (margin + e - padding - t * this.items.length) / 2),
          n > 0 && this.element.css("margin-left", n + "px");
      },
      _calculateSlides: function () {
        var e;
        return (
          (e =
            window.innerWidth < 768
              ? "mobile"
              : window.innerWidth <= 1024
              ? "tablet"
              : "desktop"),
          this.itemsPerPage[e]
        );
      },
      setPosition: function () {
        this.useSlick && this.element.slick("setPosition");
      },
      destroy: function () {
        this.element.slick("unslick"), this.genericDestroy();
      },
      hasChildren: function () {
        return this.children.length > 0;
      },
      addSlide: function (e, t, n) {
        return (
          this.element.slick("slickAdd", e, t, n),
          this.dispatch("addSlide"),
          this
        );
      },
      removeSlide: function (e, t, n) {
        var i = this;
        return (
          e.remove(t, function () {
            var t = e.getIndex();
            i.element.slick("slickRemove", parseInt(t)),
              i.removeChild(e),
              "function" == typeof n && n(),
              i.dispatch("removeSlide");
          }),
          this
        );
      },
      getFirstChild: function () {
        return this.element.find(".slick-slide").eq(0);
      },
      find: function (e, t) {
        return this.children.filter(function (n) {
          return n[e] === t;
        })[0];
      },
      playVisiblePreviews: function () {
        this.children.forEach(function (e) {
          e.playIfVisible();
        });
      },
      removeSlick: function () {
        this.useSlick && this.element.slick("unslick");
      },
      afterInit: function () {
        this.useSlick ||
          this.dispatch("contentReady", {
            originalDispatcher: this,
          });
      },
      getCurrentSlickSlide: function () {
        return this.useSlick ? this.element.slick("slickCurrentSlide") : void 0;
      },
    },
  }),
  Class(UI, "ListSlider").inherits(UI.Carousel)({
    html: '<div>               <ul class="dropdown slab2"></ul>               <div class="slider-control left slab2">                   <div class="slider-control-button">                   <svg width="9" height="15" viewBox="0 0 13 19" fill="none" xmlns="http://www.w3.org/2000/svg">                       <path d="M11.62.42c-.53-.58-1.53-.54-2.08 0l-1.01 1-4.4 4.34-2.75 2.72c-.56.55-.56 1.49 0 2.05l1.02 1 4.39 4.34 2.75 2.71a1.5 1.5 0 002.08 0c.58-.52.54-1.5 0-2.05l-1.01-1a1809060.42 1809060.42 0 00-7.15-7.05v2.05l1.01-1 4.4-4.34 2.75-2.72c.58-.57.54-1.47 0-2.05z"></path>                   </svg>                   </div>               </div>               <div class="slider-control right slab2">                   <div class="slider-control-button">                   <svg width="9" height="15" viewBox="0 0 13 19" fill="none" xmlns="http://www.w3.org/2000/svg">                       <path d="M1.38.42c.53-.58 1.53-.54 2.08 0l1.01 1 4.4 4.34 2.75 2.72c.56.55.56 1.49 0 2.05l-1.02 1-4.39 4.34-2.75 2.71a1.5 1.5 0 01-2.08 0c-.58-.52-.54-1.5 0-2.05l1.01-1 4.4-4.34 2.75-2.71v2.05l-1.01-1-4.4-4.34-2.75-2.72a1.46 1.46 0 010-2.05z"></path>                   </svg>                   </div>               </div>           </div>',
    elementClass: "list-slider-container",
    LINK: '<li class="slider-item item-visible">               <a class="slab2-text"></a>           </li>',
    prototype: {
      $slider: null,
      $items: null,
      $navPrev: null,
      $navNext: null,
      itemsToScroll: 1,
      itemsWidth: 0,
      animationDuration: 300,
      dragStartX: null,
      dragPosition: null,
      dragSpeed: 1,
      dragDelta: null,
      dragDeltaTolerance: 10,
      scrollDebounce: null,
      resizeDebounce: null,
      init: function (e) {
        var t = this;
        Widget.prototype.init.call(this, e),
          (t.linkList = t.element.find("ul.dropdown")),
          t._processLinks(),
          (this.$slider = this.element.find(".dropdown")),
          (this.$items = this.$slider.children()),
          (this.$navPrev = this.element.find(".slider-control.left")),
          (this.$navNext = this.element.find(".slider-control.right")),
          this._bindings(),
          this._dragBindings(),
          this._setSelectedSlab(),
          this._setVisibleItems(),
          this._setNavStatus(),
          this._gotoSelectedItem();
      },
      _processLinks: function () {
        var e = this;
        e.record.forEach(function (t) {
          e._addLink(t);
        });
      },
      _addLink: function (e) {
        var t = this,
          n = $(t.constructor.LINK),
          i = n.find("a");
        i.text(e.title),
          i.attr("title", e.anchor_title),
          i.attr("href", e.url),
          t.linkList.append(n);
      },
      show: function () {
        this.element.show(), this.refresh();
      },
      prev: function () {
        var e, t, n, i;
        (n = this.$slider.find(".slider-item.item-visible").first().prevAll()),
          (t = 0);
        for (var r = 0; r < this.itemsToScroll; r++)
          if (((i = n.eq(r).get(0)), void 0 !== i)) {
            if (((t += i.offsetWidth), !(t < this.$slider.width() || 0 === r)))
              break;
            e = i;
          }
        void 0 !== e && this._scrollTo(e);
      },
      next: function () {
        var e, t, n;
        if (
          ((e = this.$slider.find(".slider-item.item-visible")), 0 !== e.length)
        ) {
          if (1 === e.length) t = e.next().get(0);
          else if (
            this.$slider.find(".slider-item:last").hasClass("item-visible")
          )
            t = this.$slider.find(".slider-item:last").get(0);
          else
            for (var i = this.itemsToScroll; i > 0; i--)
              if (((n = e.get(i)), void 0 !== n)) {
                t = n;
                break;
              }
          void 0 !== t && this._scrollTo(t);
        }
      },
      _bindings: function () {
        var e;
        e = this;
        var t = function () {
            e.refresh();
          },
          n = function () {
            e.next();
          },
          i = function () {
            e.prev();
          };
        this.element.bind("mouseover", function () {
          e.dispatch("active");
        }),
          this.$navPrev.bind("click", i),
          this.$navNext.bind("click", n),
          this.$slider.bind("scroll", function () {
            clearTimeout(e.scrollDebounce),
              (e.scrollDebounce = setTimeout(t, 200));
          }),
          $(window).bind("resize", function () {
            clearTimeout(e.resizeDebounce),
              (e.resizeDebounce = setTimeout(t, 200));
          });
      },
      _dragBindings: function () {
        var e;
        e = this;
        var t = function (t) {
            t.preventDefault(), e.drag(t.pageX);
          },
          n = function () {
            window.removeEventListener("mousemove", t),
              window.removeEventListener("mouseup", n);
          },
          i = function (i) {
            0 === i.button &&
              (e.dragStart(i.pageX),
              window.addEventListener("mousemove", t),
              window.addEventListener("mouseup", n));
          },
          r = function (t) {
            Math.abs(e.dragDelta) > e.dragDeltaTolerance && t.preventDefault();
          },
          s = function (e) {
            e.preventDefault();
          };
        this.$slider.bind("mousedown", i),
          this.$items.each(function (e, t) {
            $(t).bind("click", r), $(t).bind("dragstart", s);
          });
      },
      dragStart: function (e) {
        (this.dragStartX = e - this.$slider.get(0).offsetLeft),
          (this.dragPosition = this.$slider.get(0).scrollLeft),
          (this.dragDelta = 0);
      },
      drag: function (e) {
        (this.dragDelta =
          (e - this.$slider.get(0).offsetLeft - this.dragStartX) *
          this.dragSpeed),
          (this.$slider.get(0).scrollLeft = this.dragPosition - this.dragDelta);
      },
      _scrollTo: function (e) {
        this.$slider.animate(
          {
            scrollLeft: e.offsetLeft,
          },
          this.animationDuration,
          this.scrollHandler
        );
      },
      _gotoSelectedItem: function () {
        var e;
        (e = this.$slider.find(".slider-item.selected")),
          e.length > 0 && this._scrollTo(e.get(0));
      },
      _setVisibleItems: function () {
        var e, t;
        this.$items.removeClass("item-visible"),
          (e = this.$slider.get(0).scrollLeft),
          (t = e + this.$slider.width()),
          this.$items.each(function (n, i) {
            i.offsetLeft >= e &&
              i.offsetLeft < t &&
              i.classList.add("item-visible");
          });
      },
      _setNavStatus: function () {
        var e, t;
        (e = 10),
          (t = this.itemsWidth - this.$slider.width() - e),
          0 === this.$slider.scrollLeft()
            ? this.element.removeClass("nav-prev-enabled")
            : this.element.addClass("nav-prev-enabled"),
          this.$slider.scrollLeft() > t
            ? this.element.removeClass("nav-next-enabled")
            : this.element.addClass("nav-next-enabled");
      },
      refresh: function () {
        var e;
        (e = this),
          (this.itemsWidth = 0),
          this.$items.each(function (t, n) {
            e.itemsWidth += n.offsetWidth;
          }),
          this._setVisibleItems(),
          this._setNavStatus();
      },
      _setSelectedSlab: function () {
        var e = this,
          t = null,
          n = window.location.href;
        (t =
          -1 !== n.indexOf("page") || -1 !== n.indexOf("sortby")
            ? e.clearUrl(window.location)
            : window.location.href),
          this.$items.each(function (e, n) {
            var i = n.children[0];
            i && -1 !== t.indexOf(i.href) && n.classList.add("selected");
          });
      },
      clearUrl: function (e) {
        var t = e.search
          .replace(/^\?/, "")
          .split("&")
          .map(function (e) {
            return e.split("=");
          })
          .filter(function (e) {
            return "page" !== e[0];
          })
          .map(function (e) {
            return e.join("=");
          })
          .join("&");
        return (
          (t = t
            .replace(/^\?/, "")
            .split("&")
            .map(function (e) {
              return e.split("=");
            })
            .filter(function (e) {
              return "sortby" !== e[0];
            })
            .map(function (e) {
              return e.join("=");
            })
            .join("&")),
          t.length > 0 && (t = "?" + t),
          e.origin + e.pathname + t
        );
      },
      setItemsToScroll: function (e) {
        (this.animationDuration = 300 + 50 * (e - 3)), (this.itemsToScroll = e);
      },
    },
  }),
  (UI.Navigation = {}),
  Class(UI.Navigation, "NavBar").inherits(Widget).includes(BubblingSupport)({
    prototype: {
      myDriveDownloads: null,
      currentContext: {},
      resizeDebounce: null,
      desktopMenu: null,
      mobileMenu: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$accountInfo = this.element.find(".account")),
          (this.$adminContainer = this.element.find(".admin-container")),
          (this.$mobileLoginButton = this.element.find("#mobileLoginLink")),
          (this.$loginButton = this.element.find("#loginLink")),
          (this.$signupDropdown = this.element.find(".signup-dropdown")),
          (this.$mobileSignupButton = this.element.find("#mobileSignup")),
          (this.$signupButton = this.element.find(".signup a")),
          (this.$signupArea = this.element.find(".signup")),
          (this.$bookmarksTab = this.element.find(".bookmarks-tab")),
          (this.$searchContainer = this.element.find("#searchContainer")),
          (this.$userMenuIn = this.element.find(".flex-container.in")),
          (this.$userMenuOut = this.element.find(".flex-container.out")),
          (this.$burgerMenu = this.element.find(".burger")),
          (this.$burgerButton = this.element.find("#burger-button")),
          (this.$closeButton = this.element.find("#close-button")),
          (this.$pricing = this.element.find(".pricing")),
          (this.$logout = this.element.find(".logout-button")),
          (this.$navbarMain = this.element.parent()),
          (this.isAboutPage = e.noPricing),
          (this.isAndroid = /Android/.test(navigator.appVersion)),
          (this.$categories = this.element.find(".category")),
          (this.$activeCategory = this.element.find(".category.active")),
          (this.$accountBox = this.element.find(".account-box")),
          (this.$accountLink = this.element.find(".account-box a")),
          (this.$body = $(document.body)),
          (this.abGroup = this.element.find(".menuB").length),
          this.isAboutPage && this.$pricing.hide(),
          this.appendChild(
            new UI.MyDriveDownloads({
              name: "myDriveDownloads",
              element: this.element.find(".past-downloads-item-holder"),
            })
          ),
          e.context.isLogged &&
            this.myDriveDownloads.cloneProcessingFeedbackTo(
              this.element[0],
              "my-drive__processing-mobile-feedback"
            ),
          this.appendChild(
            new UI.SsoModal({
              name: "ssoModal",
            })
          ),
          this.initMenu(),
          this.appendChild(
            new UI.PricingButton({
              name: "pricingButton",
              element: this.$pricing,
            })
          ),
          this.appendChild(
            new UI.EnvatoUsername({
              name: "envatoUsername",
              element: this.element.find(".username-container"),
            })
          ),
          this.appendChild(
            new UI.UserTypeBanner({
              name: "userTypeBanner",
              element: this.element.find(".user-type-banner"),
            })
          ),
          this.updateStatus(e.context),
          this.bindings(),
          envatoSso.configure({
            serverHost: window.sso_hostname,
          });
        var t;
        t = 0 === this.abGroup ? "menu:Old" : "menu:New";
      },
      initMenu: function () {
        var e = this;
        if (Helpers.App.isMobile()) {
          if (e.mobileMenu) return;
          e.appendChild(
            new UI.Navigation.HamburgerMenu({
              name: "mobileMenu",
              burgerTarget: e.element,
              element: e.element.find(".hamburger-nav-menu"),
              abGroup: e.abGroup,
            })
          );
        } else
          e.appendChild(
            new UI.Navigation.DesktopMenu({
              name: "desktopMenu",
              element: e.element.find("ul.categories-list"),
              abGroup: e.abGroup,
            })
          );
      },
      bindings: function () {
        var e = this;
        $(document).bind("click", function () {
          e.$loginButton.parent().removeClass("open"),
            e.$signupButton.parent().removeClass("open");
        }),
          this.bind("active", function () {
            this.categoryList.hasDefaultElement !== !0 &&
              (this.$navbarMain.addClass("height-fixed"),
              e.$navbarMain.addClass("has-active-item"));
          }),
          this.bind("inactive", function () {
            this.categoryList.hasDefaultElement !== !0 &&
              (this.$navbarMain.removeClass("height-fixed"),
              e.$navbarMain.removeClass("has-active-item"));
          }),
          this.$logout.bind(
            "click",
            function (e) {
              e.preventDefault(),
                Helpers.GlobalEventTracker.track("user:logout"),
                this.dispatch("logout"),
                Helpers.App.logout();
              try {
                UI.Grid.dispatch("user:logout"),
                  UI.CustomExperience.Grid.dispatch("user:logout"),
                  UI.SimilarStagesGrid.dispatch("user:logout"),
                  UI.SmartTemplate.SavedConfigurations.dispatch("user:logout"),
                  UI.RelatedTemplates.Controller.dispatch("user:logout"),
                  UI.SmartTemplate.StageCanvas.dispatch("user:logout");
              } catch (t) {}
            }.bind(this)
          ),
          e.$burgerButton.on("click", function () {
            e.$body.addClass("open-sidemenu"),
              e.userTypeBanner.sendShownEvent();
          }),
          e.$closeButton.on("click", function () {
            e.closeHamburgerMenu();
          }),
          e.$body.find("#backdrop-sidemenu").on("click", function () {
            e.closeHamburgerMenu();
          }),
          e.$accountLink.on("click", function () {
            e.closeHamburgerMenu();
          }),
          e.$loginButton.on("click", function () {
            e.ssoModal.login();
          }),
          e.$mobileLoginButton.on("click", function () {
            e.ssoModal.login();
          }),
          e.$signupButton.on("click", function () {
            e.showSignupModal();
          }),
          e.$mobileSignupButton.on("click", function () {
            e.ssoModal.activate(UI.SsoModal.TAB_SIGNUP);
          }),
          e.ssoModal
            .bind("signup.form.success", function () {
              var t = Helpers.App.getUser();
              (e.currentContext.isLogged = !0),
                e.$accountInfo.find(".sso-username").html(t.username),
                e.updateStatus(),
                e.updateUserTypeBanner(),
                e.myDriveDownloads.restart(),
                e.myDriveDownloads.cloneProcessingFeedbackTo(
                  e.element[0],
                  "my-drive__processing-mobile-feedback"
                ),
                e.dispatch("signup.success");
            })
            .bind("show.login", function () {
              e.$loginButton.click();
            })
            .bind("show.login.no-close", function () {
              e.ssoModal.disableClose(),
                e.ssoModal.activate(UI.SsoModal.TAB_LOGIN);
            }),
          e.ssoModal
            .bind("login.form.success", function () {
              var t = Helpers.App.getUser();
              (e.currentContext.isLogged = !0),
                (e.currentContext.isAdmin = Helpers.App.isAdmin()),
                e.$accountInfo.find(".sso-username").html(t.username),
                e.updateStatus(),
                e.updateUserTypeBanner(),
                Helpers.App.getSubscription() !== !1 &&
                  e.$pricing.addClass("has-subscription"),
                e.myDriveDownloads.restart(),
                e.myDriveDownloads.cloneProcessingFeedbackTo(
                  e.element[0],
                  "my-drive__processing-mobile-feedback"
                ),
                console.log("navbar login success"),
                e.dispatch("login.success");
            })
            .bind("login.bookmarks.retrieved", function (t) {
              (e.currentContext.hasBookmarks = t.data.count > 0),
                e.updateStatus();
            })
            .bind("modal.shown", function () {
              e.dispatch("sso.modal.shown");
            }),
          Helpers.App.isMobile() &&
            e.ssoModal
              .bind("modal.shown", function () {
                var t = e.$body.hasClass("open-sidemenu");
                t && (e.wasSidemenuOpen = !0),
                  e.$body.removeClass("open-sidemenu");
              })
              .bind("modal.hide", function () {
                var t = 0 !== Helpers.App.getUser().id;
                !t &&
                  e.wasSidemenuOpen &&
                  ((e.wasSidemenuOpen = !1), e.$body.addClass("open-sidemenu"));
              }),
          e.avoidAndroidKeyboard(),
          Helpers.App.getSubscription() !== !1 &&
            this.$pricing.addClass("has-subscription"),
          e.$accountInfo.mouseenter(function () {
            e.myDriveDownloads.hideTooltip(),
              e.userTypeBanner.sendShownEvent(),
              e.dispatch("accountInfo-open");
          }),
          e.$accountInfo.mouseleave(function () {
            e.dispatch("accountInfo-close");
          }),
          e.userTypeBanner.bind("updated", function (e) {
            Helpers.App.setUserType(e.data.user_type);
          });
      },
      updateStatus: function (e, t) {
        var n = this,
          i = Helpers.App.getSubscription(),
          r = Helpers.App.getUser();
        e ? (n.currentContext = e) : (e = n.currentContext),
          n.closeHamburgerMenu(),
          this.pricingButton.update(i),
          e.isLogged
            ? (n.$userMenuOut.hide(),
              n.$userMenuIn.css("display", "flex"),
              n.$burgerButton.addClass("logged-in"),
              n.$accountBox.addClass("logged-in"),
              e.hasBookmarks
                ? n.$bookmarksTab.css("display", "")
                : n.$bookmarksTab.hide(),
              e.isAdmin ? n.$adminContainer.show() : n.$adminContainer.hide(),
              (t || $.cookie("pl_processing_tracker")) &&
                n.myDriveDownloads.update(null, t),
              this.envatoUsername.update(r.username, i))
            : (n.$bookmarksTab.hide(),
              n.$burgerButton.removeClass("logged-in")),
          n.$searchContainer.hide(),
          n.showSearchBar(e.pageName);
      },
      showSearchBar: function (e) {
        var t = ["stage", "search", "custom_experiences", "custom_pages"],
          n = Helpers.App.pageType().header_type;
        t.indexOf(e) > -1 &&
          ("header-1" === n || "header-2" === n) &&
          this.$searchContainer.show();
      },
      autoModal: function (e) {
        var t = this;
        if ("subscription" == e || "pack" == e || "purchase" == e) {
          var n = function () {
            switch (
              (t.ssoModal.unbind("signup.form.success", n),
              t.ssoModal.unbind("login.form.success", n),
              e)
            ) {
              case "subscription":
                Helpers.App.getSubscription() || t.dispatch("activate-pricing");
                break;
              case "pack":
                Helpers.App.getSubscription() ||
                  t.dispatch("activate-pricing-coupon");
                break;
              case "purchase":
                t.dispatch("activate-purchase");
            }
          };
          "purchase" == e && t.dispatch("not-logged"),
            t.ssoModal.bind("signup.form.success", n),
            t.ssoModal.bind("login.form.success", n);
        }
      },
      avoidAndroidKeyboard: function () {
        var e = this;
        e.isAndroid &&
          Helpers.App.isMobile() &&
          e.$signupButton.on("click", function () {
            e.$signupArea.toggleClass("floatUp");
          });
      },
      instantiateNotLoggedInModal: function () {
        var e = this;
        e.ssoModal.activate();
      },
      showSubscribeMailingModal: function () {
        if (Helpers.App.isLoggedIn() !== !1) {
          var e = Helpers.App.getUser();
          e.placeitPromotionNotifications !== !0 &&
            ("undefined" == typeof this.subscribeMailingModal
              ? (this.appendChild(
                  new UI.SubscribeMailingModal({
                    name: "subscribeMailingModal",
                  })
                ),
                this.subscribeMailingModal.activate())
              : this.subscribeMailingModal.activate());
        }
      },
      showTooltipError: function (e) {
        this.myDriveDownloads.showError(e);
      },
      _sortList: function (e) {
        Array.isArray(e.submenu) !== !1 &&
          e.submenu.sort(function (e, t) {
            return e.order - t.order;
          });
      },
      _addAnchorLink: function (e) {
        (e.content = e.title),
          Array.isArray(e.submenu) !== !0 &&
            (e.content = $("<a></a>")
              .attr("title", e.anchor_title)
              .attr("href", e.url)
              .html(e.title));
      },
      _addSubheading: function (e) {
        if (Array.isArray(e.submenu) !== !1 && "root" !== e.value) {
          var t = {
            title: e.anchor_title,
            url: e.url,
            slug: "0",
            anchor_title: e.anchor_title,
            order: "0",
            submenu: null,
            isHeading: !0,
          };
          e.submenu.unshift(t);
        }
      },
      _treeWalker: function (e, t, n) {
        var i = function r(e) {
          n(e),
            Array.isArray(e[t]) !== !1 &&
              e[t].forEach(function (e) {
                r(e);
              });
        };
        i(e);
      },
      _setupList: function () {
        var e = this,
          t = {
            value: "root",
            submenu: e.record,
          };
        e._treeWalker(t, "submenu", function (t) {
          e._sortList(t),
            e._addSubheading(t),
            e._addAnchorLink(t),
            e._setActive(t);
        }),
          (e.record = t);
      },
      _setActive: function (e) {
        var t = this,
          n = null,
          i = window.location.href;
        (n =
          -1 !== i.indexOf("page") || -1 !== i.indexOf("sortby")
            ? t.clearUrl(window.location)
            : window.location.href),
          e.url && n === window.location.origin + e.url && (e.isActive = !0);
      },
      clearUrl: function (e) {
        var t = e.search
          .replace(/^\?/, "")
          .split("&")
          .map(function (e) {
            return e.split("=");
          })
          .filter(function (e) {
            return "page" !== e[0];
          })
          .map(function (e) {
            return e.join("=");
          })
          .join("&");
        return (
          (t = t
            .replace(/^\?/, "")
            .split("&")
            .map(function (e) {
              return e.split("=");
            })
            .filter(function (e) {
              return "sortby" !== e[0];
            })
            .map(function (e) {
              return e.join("=");
            })
            .join("&")),
          t.length > 0 && (t = "?" + t),
          e.origin + e.pathname + t
        );
      },
      showSignupModal: function () {
        this.ssoModal.activate(UI.SsoModal.TAB_SIGNUP);
      },
      updateUserTypeBanner: function () {
        this.userTypeBanner.update();
      },
      closeHamburgerMenu: function () {
        this.$body.removeClass("open-sidemenu");
      },
    },
  }),
  Class(UI.Navigation, "DesktopMenu")
    .inherits(Widget)
    .includes(BubblingSupport)({
    elementClass: "desktop-menu",
    OVERFLOW_CLASS: "fix-to-right",
    prototype: {
      init: function (e) {
        var t = this;
        Widget.prototype.init.call(this, e), t._setBinds();
      },
      _checkOverflow: function (e) {
        var t = this,
          n = e.currentTarget,
          i = $(e.currentTarget).find(".dropdown-menu"),
          r = $(window),
          s = n.offsetLeft,
          o = i.width(),
          a = r.width();
        s + o > a && i.addClass(t.constructor.OVERFLOW_CLASS);
      },
      _onMouseLeave: function () {
        this.dispatch("menu-close");
      },
      _onMouseOver: function (e) {
        this.dispatch("menu-open"), this._checkOverflow(e);
      },
      _setBinds: function () {
        this.element.bind("mouseover", this._onMouseOver.bind(this)),
          this.element.bind("mouseleave", this._onMouseLeave.bind(this)),
          this.element
            .find(">li")
            .bind("mouseover", this._checkOverflow.bind(this));
      },
    },
  }),
  Class(UI.Navigation, "HamburgerMenu")
    .inherits(Widget)
    .includes(BubblingSupport)({
    html: '<div>               <div class="close-button-container">                   <div class="close-button">                       <!--?xml version="1.0" encoding="UTF-8"?-->                       <svg width="15px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">                           <defs></defs>                           <g id="Page-HambClose-black" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">                               <g id="HambClose-black" fill="#000000">                                   <rect id="Rectangle" transform="translate(7.424621, 7.424621) rotate(-315.000000) translate(-7.424621, -7.424621) " x="-2.0753788" y="6.4246212" width="19" height="2" rx="1"></rect>                                   <rect id="Rectangle" transform="translate(7.424621, 7.424621) scale(-1, 1) rotate(-315.000000) translate(-7.424621, -7.424621) " x="-2.0753788" y="6.4246212" width="19" height="2" rx="1"></rect>                               </g>                           </g>                       </svg>                   </div>                   <div class="separator"></div>               </div>           </div>',
    elementClass: "hamburger-nav-menu",
    BURGER_ICON:
      '<div class="nav-menu-burger-button" >                      <?xml version="1.0" encoding="UTF-8"?>                      <svg width="16px" height="14px" viewBox="0 0 16 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">                          <g id="Page-HambIcon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">                              <g id="HambIcon" class="svg-burger-button" fill="#FFFFFF">                                  <rect id="Rectangle1" x="0" y="0" width="16" height="2" rx="1"></rect>                                  <rect id="Rectangle2" x="0" y="6" width="16" height="2" rx="1"></rect>                                  <rect id="Rectangle3" x="0" y="12" width="16" height="2" rx="1"></rect>                              </g>                          </g>                      </svg>                  </div>',
    LINK: "<li>               <a></a>           </li>",
    CLOSED_ICON:
      '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" fill="none" viewBox="0 0 12 8">                    <path fill="#303030" d="M.264.305c-.364.385-.34 1.107 0 1.5l.632.731 2.74 3.172 1.717 1.987c.351.407.944.407 1.295 0l.633-.732 2.74-3.172 1.717-1.987c.363-.417.336-1.075 0-1.499-.333-.42-.957-.392-1.296 0l-.632.732-2.74 3.172c-.572.66-1.146 1.326-1.717 1.987h1.295l-.632-.732-2.74-3.172L1.559.305C1.199-.112.63-.084.264.305z"/>                </svg>',
    OPEN_ICON:
      '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" fill="none" viewBox="0 0 12 8">                    <path fill="#303030" d="M11.736 7.695c.364-.385.34-1.107 0-1.5l-.632-.731-2.74-3.172L6.647.305c-.351-.407-.944-.407-1.295 0l-.633.732-2.74 3.172L.262 6.196c-.363.417-.336 1.075 0 1.499.333.42.957.392 1.296 0l.632-.732 2.74-3.172c.572-.66 1.146-1.326 1.717-1.987H5.352l.632.732 2.74 3.172 1.717 1.987c.36.417.929.389 1.295 0z"/>                </svg>',
    prototype: {
      hasBinded: !1,
      init: function (e) {
        var t = this;
        Widget.prototype.init.call(this, e),
          (this.isMobile = Helpers.App.isMobile()),
          (t.$body = $(document.body)),
          (t.menuList = t.element.find("ul.hamburger-list")),
          (t.closeButton = t.element.find(".close-button")),
          (t.burgerButton = t.$body.find(".nav-menu-burger-button svg")),
          t._bindings();
      },
      close: function () {
        $(document.body).removeClass("open-hamburger-menu"),
          $(".submenu-open").toggleClass("submenu-open");
      },
      open: function () {
        $(document.body).addClass("open-hamburger-menu");
      },
      _addBurgerIcon: function () {
        var e = this;
        (e.burgerElement = $(e.constructor.BURGER_ICON)),
          (e.burgerButton = e.burgerElement.find("svg")),
          e.burgerTarget.prepend(e.burgerElement);
      },
      _bindings: function () {
        var e = this;
        e.$body.find("#backdrop-sidemenu").on("click", e.close),
          e.burgerButton.bind("click", e._onDemandBinds.bind(e)),
          e.burgerButton.bind("click", e.open),
          e.closeButton.bind("click", e.close);
      },
      _onDemandBinds: function () {
        var e = this;
        e.hasBinded ||
          (0 === e.abGroup
            ? (e._setActive(),
              e.menuList
                .find("li")
                .bind("click", e._listCollapseHandler)
                .bind("click", e._openSubmenu))
            : (e.menuList
                .find("li.category-heading")
                .bind("click", function (e) {
                  var t = $(e.currentTarget);
                  t.toggleClass("submenu-open"),
                    t.parent().toggleClass("submenu-open"),
                    t.find("ul.children").addClass("hidden"),
                    t.find(".active").toggleClass("active");
                }),
              e.menuList
                .find("ul.list.placeit-widget li.submenu")
                .bind("click", e._listCollapseHandler)
                .bind("click", e._openSubmenu)),
          (e.hasBinded = !0));
      },
      _openSubmenu: function (e) {
        var t;
        e.currentTarget
          ? ((t = $(e.currentTarget)), e.stopPropagation())
          : (t = e.parents("ul.hamburger-list>li")),
          t.find(">.item.placeit-widget").toggleClass("active"),
          t.find("ul.children").toggleClass("hidden");
      },
      _listCollapseHandler: function (e) {
        var t = $("div.active");
        t.parent().attr("id") !== $(e.currentTarget).attr("id") &&
          (t.next("ul.children").toggleClass("hidden"),
          t.toggleClass("active"),
          $(e.currentTarget).animate(
            {
              scrollTop: 0,
            },
            "fast"
          ));
      },
      _setActive: function () {
        var e = window.location.pathname,
          t = $("a[href='" + e + "']");
        t.addClass("active"), this._openSubmenu(t);
      },
    },
  }),
  Class(UI, "SimpleSlider").inherits(Widget).includes(GenericDestroySupport)({
    html: "<div></div>",
    elementClass: "simple-slider-container",
    NEXT_ARROW:
      '<div class="simple-slider-arrow simple-slider-next">        <span class="angle-right-purple">        </span>    </div>',
    PREV_ARROW:
      '<div class="simple-slider-arrow simple-slider-prev">        <span class="angle-right-purple">        </span>    </div>',
    prototype: {
      isMobile: !1,
      slides: [],
      init: function (e) {
        Widget.prototype.init.call(this, e);
        var t = this;
        this.element.html(this.content),
          this.element.append(this.constructor.PREV_ARROW),
          this.element.append(this.constructor.NEXT_ARROW),
          (this.$carousel = this.element.find(".carousel")),
          (this.$next = this.element.find(".simple-slider-next")),
          (this.$prev = this.element.find(".simple-slider-prev")),
          (this._boundDispatchEvent = this._dispatchEvent.bind(this)),
          (this._boundScrollHandler = this._scrollHandler.bind(this)),
          (this._boundNextSlide = this.nextSlide.bind(this)),
          (this._boundPrevSlide = this.prevSlide.bind(this)),
          this.$carousel.addClass("simple-slider"),
          (this.slides = []),
          this.$carousel.children().each(function (e) {
            t.slides.push(this), this.setAttribute("slide-num", e);
          }),
          (this.currentSlide = this.slides[0]),
          (this.currentSlideNum = 0),
          this._bindEvents();
      },
      nextSlide: function () {
        var e = (this.currentSlideNum + 1) % this.slides.length;
        this.goToSlide(e);
      },
      prevSlide: function () {
        var e = this.currentSlideNum - 1;
        0 > e && (e = this.slides.length - 1), this.goToSlide(e);
      },
      goToSlide: function (e, t) {
        var n = this.slides[e];
        (t = t ? t : 500),
          e !== this.currentSlideNum &&
            ((this.currentSlide = n),
            (this.currentSlideNum = e),
            this.$carousel.animate(
              {
                scrollLeft: n.offsetLeft,
              },
              t,
              this._boundDispatchEvent
            ));
      },
      _dispatchEvent: function () {
        this.dispatch("carousel.afterChange", {
          feature: parseInt(this.currentSlide.getAttribute("data-feature")),
          category: this.currentSlide.getAttribute("data-category"),
        });
      },
      _scrollHandler: function () {
        var e = this;
        clearTimeout(this._debouncedScroll),
          (this._debouncedScroll = setTimeout(function () {
            e._setCurrentSlide();
          }, 100));
      },
      _setCurrentSlide: function () {
        var e = this,
          t =
            this.$carousel.get(0).scrollLeft +
            this.$carousel.get(0).offsetWidth / 2;
        this._pastPosition !== t &&
          this.$carousel.children().each(function (n) {
            var i = this.offsetLeft,
              r = this.offsetLeft + this.offsetWidth;
            return t >= i && r >= t
              ? ((e._pastPosition = i), e.goToSlide(n, 100), !1)
              : void 0;
          });
      },
      _bindEvents: function () {
        this.$carousel.bind("scroll", this._boundScrollHandler),
          this.$next.bind("click", this._boundNextSlide),
          this.$prev.bind("click", this._boundPrevSlide);
      },
      destroy: function () {
        (this._boundDispatchEvent = null),
          (this._boundScrollHandler = null),
          (this._boundNextSlide = null),
          (this._boundPrevSlide = null),
          this.$carousel.stop(!0, !0),
          clearTimeout(this._debouncedScroll),
          this.genericDestroy();
      },
    },
  }),
  Module(
    Helpers,
    "SubscriptionHelper"
  )({
    TEXT_TAX_MESSAGE_NOT_INCLUDED:
      "Applicable taxes not included. All prices in USD.",
    TEXT_TAX_MESSAGE_INCLUDED:
      "Plus {{amount}} for {{taxType}}. All Prices in USD",
    TEXT_TAX_MESSAGE_VAT_EXEMPT: "VAT Exempt. All Prices in USD.",
    _refreshSubscription: function (e) {
      $.ajax({
        url: "/subscriptions/show",
        type: "get",
        dataType: "json",
        success: function (t) {
          Helpers.App.setSubscription(t), e(t);
        },
      });
    },
    prototype: {
      _applyCouponDiscount: function (e, t) {
        return (
          "percent" === e.type
            ? (t = (t * (100 - e.amount)) / 100)
            : ((t -= e.amount[window.recurlyConfig.currency]),
              0 > t && (t = 0)),
          Math.round(100 * t) / 100
        );
      },
      _discountAppliesForPlanCode: function (e, t) {
        var n = !1;
        return (
          e && (n = e.planCodes.length ? !!(e.planCodes.indexOf(t) > -1) : !0),
          n
        );
      },
      _applyCustomPriceDiscount: function (e) {
        var t;
        return (t = 20), (price = (e * (100 - t)) / 100), price;
      },
      _isSubscriptionValid: function (e) {
        var t,
          n = !1;
        return e
          ? ((t = new Date(1e3 * e.ends_at)),
            "active" === e.recurly_state
              ? (n = !0)
              : "canceled" === e.recurly_state && t < new Date() && (n = !0),
            n)
          : n;
      },
      _subscriptionCanDownload: function (e, t) {
        var n, i, r, s, o, a;
        return (
          (s = !1),
          (i = Helpers.StageType.isFusionVideo()),
          e
            ? ((n = new Date(1e3 * e.ends_at)),
              (r =
                "active" === e.recurly_state ||
                ("canceled" === e.recurly_state && n > new Date())),
              (o = e.remaining_downloads > 0),
              (a = e.video_purchases > 0),
              1 == r && ((i && a) || (!i && o) || (!i && t)) && (s = !0),
              s)
            : s
        );
      },
      _priceWithSubscription: function (e, t, n) {
        var i, r, s, o;
        return (
          (i = !1),
          (s = Helpers.StageType.isFusionVideo()),
          (r = Helpers.App.getSubscription()),
          (o = Helpers.StageType.getCustomPrice()),
          r && this._subscriptionCanDownload(r, n)
            ? this._purchaseableWithSubscription(e, t, r, s) &&
              (i = this._purchaseableWithSubscription(e, t, r, s))
            : r &&
              this._isSubscriptionValid(r) &&
              o &&
              (i = this._applyCustomPriceDiscount(o)),
          i
        );
      },
      _purchaseableWithSubscription: function (e, t, n) {
        {
          var i = Helpers.StageType.isFusionVideo();
          Helpers.StageType.isLogo(), Helpers.StageType.getCustomPrice();
        }
        return n && !n.is_paused
          ? 1 == i
            ? n.video_purchases > 0 && n.plan.allowed_packages[e + ":" + t]
            : "Comp" != n.plan.name && Helpers.Resolutions.isComp() === !1
            ? n.remaining_downloads > 0 && n.plan.allowed_packages[e + ":" + t]
            : n.plan.allowed_packages[e + ":" + t]
          : !1;
      },
      getTaxMessage: function (e) {
        var t = this,
          n = {
            notIncluded: this.constructor.TEXT_TAX_MESSAGE_NOT_INCLUDED,
            included: this.constructor.TEXT_TAX_MESSAGE_INCLUDED,
            vatExempt: this.constructor.TEXT_TAX_MESSAGE_VAT_EXEMPT,
          };
        return (
          this._taxRequestInProgress && this._taxRequestInProgress.cancel(),
          new Promise(function (i, r) {
            (taxCancelablePromise = P.cancelable(
              Helpers.Price.tax.bind(null, window._pl_country, e)
            )),
              (t._taxRequestInProgress = taxCancelablePromise()),
              t._taxRequestInProgress
                .then(function (e) {
                  var r, s;
                  (t._taxRequestInProgress = null),
                    (s = "VAT"),
                    (r = n.notIncluded),
                    "AU" === window._pl_country && (s = "GST"),
                    e.amount > 0 && "" !== window._pl_vat_number
                      ? (r = n.vatExempt)
                      : e.amount > 0 &&
                        ((r = n.included),
                        (r = r.replace(
                          "{{amount}}",
                          window.currencyHelper.getSymbol(
                            recurlyConfig.currency
                          ) + e.amount.toFixed(2)
                        )),
                        (r = r.replace("{{taxType}}", s))),
                    i(r);
                })
                ["catch"](function () {
                  (t._taxRequestInProgress = null), r(n.notIncluded);
                });
          })
        );
      },
      _getGetOrdinal: function (e) {
        var t = ["th", "st", "nd", "rd"],
          n = e % 100;
        return e + (t[(n - 20) % 10] || t[n] || t[0]);
      },
      _refreshSubscription: function (e) {
        this.constructor._refreshSubscription(e);
      },
      signRequestWithRecurly: function (e, t, n) {
        var i, r;
        return (
          (i = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyTo(
              Helpers.CouponHelper.TYPE_SUBSCRIPTION
            ) &&
            (i = Helpers.CouponHelper.getCode()),
          "undefined" == typeof e.recurly_uuid
            ? !1
            : ((r = {
                plan_recurly_uuid: e.recurly_uuid,
              }),
              i && this._discountAppliesForPlanCode(t, e.recurly_uuid)
                ? (r.coupon_code = i)
                : delete r.coupon_code,
              void $.ajax({
                url: "/subscriptions/sign",
                type: "post",
                data: $.extend(!0, {}, r),
                dataType: "json",
                success: function (e) {
                  n(e);
                },
              }))
        );
      },
      _calculateAnnualSavePercent: function (e) {
        var t = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY),
          n = 12,
          i = parseInt(t.amount_in_cents, 10) / 100,
          r = null,
          s = null;
        Helpers.CouponHelper.isValid() &&
          Helpers.CouponHelper.applyToPlan(Registry.Plans.PLAN_ANNUAL) &&
          ((s = Helpers.CouponHelper.getDuration().length),
          s ||
            (s =
              "forever" === Helpers.CouponHelper.getDuration().type ? 12 : 1),
          (r = Helpers.CouponHelper.calculatePrice(i)),
          (n -= s));
        var o = i * n + r * s;
        if (0 === o) return 100;
        var a = (100 * (o - e)) / o;
        return a.toFixed(2);
      },
      _formatPrice: function (e) {
        return (
          e > 0
            ? ((e = e.toFixed(2)),
              (e = e.replace(/\.?0+$/, "")),
              (e = window.currencyHelper.getSymbol(recurlyConfig.currency) + e))
            : (e = "Free"),
          e
        );
      },
      _getPlanPrice: function (e, t) {
        var n, i;
        return (
          (i = {
            original: null,
            withDiscount: null,
          }),
          (n = Registry.Plans.get(e))
            ? ((i.original = parseInt(n.amount_in_cents, 10) / 100),
              Helpers.CouponHelper.isValid() &&
                Helpers.CouponHelper.applyToPlan(e) &&
                (i.withDiscount = Helpers.CouponHelper.calculatePrice(
                  i.original
                )),
              t === !0 &&
                ((i.original = this._formatPrice(i.original)),
                null !== i.withDiscount &&
                  (i.withDiscount = this._formatPrice(i.withDiscount))),
              i)
            : void 0
        );
      },
      _renderPlanButton: function (e) {
        var t, n, i, r, s, o, a, l;
        if (((t = this), (n = Registry.Plans.get(e)))) {
          (r = this["buttonWrapper_" + e]),
            (s = r.find(".original-price")),
            (o = r.find(".final-price")),
            (a = r.find(".discount")),
            (l = r.find(".price-label"));
          var c = function (n) {
              var i;
              (i = t._formatPrice(n)),
                s.text(i),
                o.text(i),
                0 === n && l.hide(),
                e === Registry.Plans.PLAN_ANNUAL && t._setAnnualSave(n);
            },
            u = function (n) {
              var i, r;
              (i = t._formatPrice(n)),
                (r = Helpers.CouponHelper.getDiscount()),
                s.show(),
                o.text(i),
                0 === n && l.hide(),
                null !== r && a.text(" (" + r.label + " off)"),
                e === Registry.Plans.PLAN_ANNUAL && t._setAnnualSave(n);
            };
          s.text(""),
            o.text(""),
            a.text(""),
            s.hide(),
            l.show(),
            (i = Helpers.Price.plan(n)),
            i.price.then(function (e) {
              c(e),
                i.priceWithDiscount.then(function (t) {
                  e > t && u(t);
                });
            });
        }
      },
      _setAnnualSave: function (e) {
        var t, n;
        (t = parseInt(this._calculateAnnualSavePercent(e))),
          (n = this._formatPrice(e / 12)),
          this.$annualSave.text(t),
          this.$annualMonthlyAmount.text(n);
      },
      _canSwitchPlan: function () {
        var e;
        return (e = this._getSwitchPlanAvailable()), e === !1 ? !1 : !0;
      },
      _getSwitchPlanAvailable: function () {
        var e, t;
        return (
          (e = Helpers.App.getSubscription()),
          e === !1
            ? !1
            : ((t = Registry.Plans.get(
                e.is_annual === !0
                  ? Registry.Plans.PLAN_ANNUAL
                  : Registry.Plans.PLAN_MONTHLY
              )),
              t ? (t.amount_in_cents >= e.plan.amount_in_cents ? !1 : t) : !1)
        );
      },
      _switchSubscription: function (e, t, n, i) {
        $.ajax({
          url: "/subscriptions/upgrade",
          type: "POST",
          data: {
            plan_recurly_uuid: e,
            coupon_code: t,
          },
          dataType: "json",
          success: function () {
            Helpers.GlobalEventTracker.cancelSubscriptionSwitch("success", {
              new_plan: e,
            }),
              "function" == typeof n && n();
          },
          error: function () {
            Helpers.GlobalEventTracker.cancelSubscriptionSwitch("error", {
              new_plan: e,
            }),
              "function" == typeof i && i();
          },
        });
      },
      getAppliedCouponDiscountDetails: function () {
        return new Promise(function (e, t) {
          $.ajax({
            url: "/get_coupon_discount_details",
          })
            .done(function (t) {
              e(t);
            })
            .fail(function () {
              t();
            });
        });
      },
      _switchSubscriptionPlan: function (e) {
        return new Promise(function (t, n) {
          $.ajax({
            url: "/switch_subscription_plan",
            method: "POST",
            data: {
              plan_recurly_uuid: e,
            },
          })
            .done(function (n) {
              Helpers.GlobalEventTracker.cancelSubscriptionSwitch("success", {
                new_plan: e,
              }),
                t(n);
            })
            .fail(function () {
              Helpers.GlobalEventTracker.cancelSubscriptionSwitch("error", {
                new_plan: e,
              }),
                n();
            });
        });
      },
      _checkHelperPricePlanResults: function (e, t, n) {
        var i;
        return (
          e === Registry.Plans.PLAN_ANNUAL
            ? (i = Helpers.Price.annualPlan())
            : e === Registry.Plans.PLAN_MONTHLY &&
              (i = Helpers.Price.monthlyPlan()),
          null === i
            ? void Helpers.GlobalEventTracker.track("plan:unknown", {
                planCode: e,
              })
            : void Promise.all([i.price, i.priceWithDiscount]).then(function (
                i
              ) {
                var r = i[0],
                  s = i[1];
                (r !== t.original ||
                  (s !== t.withDiscount && null !== t.withDiscount)) &&
                  Helpers.GlobalEventTracker.planPriceMismatch({
                    source: n,
                    planCode: e,
                    currentPrice: t.original,
                    currentPriceWithDiscount: t.withDiscount,
                    newPrice: r,
                    newPriceWithDiscount: s,
                  });
              })
        );
      },
      _useStoredBillingInfo: function (e) {
        var t,
          n,
          i,
          r,
          s,
          o,
          a,
          l,
          c = this,
          u = {};

        Helpers.CouponHelper.markAsUsed();
        c.dispatch("purchase.success", e);

        // r = "/subscriptions/quick_transaction",
        // n = this.getEventTrackerName(),
        // i = EventTracker.info({
        //     type: n,
        //     data: {}
        // }),
        // t = null,
        // Helpers.CouponHelper.isValid() && Helpers.CouponHelper.applyToPlan(e.plan_recurly_uuid) && (t = Helpers.CouponHelper.getCode()),
        // s = {
        //     url: r,
        //     type: "post",
        //     data: {
        //         plan_recurly_uuid: e.plan_recurly_uuid,
        //         coupon_code: t,
        //         eventData: i
        //     },
        //     dataType: "json"
        // };
        // var d = function() {
        //     c.storedBillingInfoOverlay && (c.storedBillingInfoOverlay.deactivate(),
        //     c.storedBillingInfoOverlay.destroy())
        // };
        // return o = PurchaseSupport.getRequestDataByUrl(r),
        // a = (o && o.isPollingEnabled) === !0,
        // a === !0 ? (u = {
        //     delay: o.pollingConfig.delay,
        //     times: o.pollingConfig.times,
        //     pingURL: o.pingURL
        // },
        // l = P.ajax(s).then(PurchaseSupport.buildPolling(u))) : l = P.ajax(s),
        // Helpers.App.getSubscription() ? l.then(function() {
        //     d(),
        //     Helpers.CouponHelper.markAsUsed(),
        //     Helpers.App.replaceUrlParam("show_plans", "").replaceUrlParam("upgrade", "true"),
        //     window.location.reload()
        // })["catch"](function(t) {
        //     return d(),
        //     400 === t.status ? (alert(c.constructor.TEXT_INVALID_OR_CANCELED_SUBSCRIPTION),
        //     window.location.reload()) : (alert(c.constructor.TEXT_ERROR_CHARGING_STORE_CARD),
        //     c._showPaymentForm(e)),
        //     t
        // }) : l.then(function(e) {
        //     return d(),
        //     Helpers.CouponHelper.markAsUsed(),
        //     c.dispatch("purchase.success", e),
        //     e
        // })["catch"](function(t) {
        //     return alert(c.constructor.TEXT_ERROR_CHARGING_STORE_CARD),
        //     d(),
        //     c._showPaymentForm(e),
        //     t
        // })
      },
    },
  }),
  Module(Helpers, "SinglePurchaseHelper").includes(CustomEventSupport)({
    discountModal: null,
    showDiscountModal: function () {
      this.discountModal ||
        (this.discountModal = new UI.SinglePurchaseDiscountModal()),
        this.discountModal.activate();
    },
    hideDiscountModal: function () {
      this.discountModal && this.discountModal.deactivate();
    },
  }),
  Class(UI, "PurchaseOverlay")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      BubblingSupport,
      Translator
    )({
    html: '        <div class="modal purchase-overlay fade" id="purchaseOverlay" tabindex="-1" role="dialog" aria-labelledby="purchaseOverlayLabel" aria-hidden="true">        <button type="button" class="close m-close" data-dismiss="modal" aria-hidden="true">            <span aria-hidden="true">\xd7</span>         </button>          <div class="modal-dialog">            <div class="server_errors none"></div>            <div class="modal-content">              <div class="modal-body">                <div class="text-center modal-spinner" style="opacity:0.5;margin-top: 60px;">                  <img src="./assets/fade-spinner.gif">                </div>                <div class="form-container">                  <form class="recurly">                    <div class="subscription-info" style="display: none;">                    </div>                    <div class="payment_method multiple">                      <p class="payment_text">Select Your Secure Payment Method</p>                      <div class="payment_option card_option selected">                        <input type="radio" name="payment_method" checked>                        <label></label>                        <div class="accepted_cards"><div class="card visa">Visa</div>                          <div class="card mastercard">MasterCard</div>                          <div class="card discover">Discover</div>                          <div class="card american_express">American Express</div>                        </div>                      </div>                      <div class="payment_option paypal_option">                        <input type="radio" name="payment_method">                        <label></label>                        <div class="logo"></div>                      </div>                    </div>                    <div class="form-widget-container"></div>                      <div class="paypal" style="display: none;">                        <div class="paypal_message">                          You will be taken to PayPal to authorize a billing agreement.<br><br>Customers with an EU or Australian Paypal billing address will have additional VAT or GST charges.<br><br><strong>Please make sure pop-ups aren\'t blocked.</strong>                        </div>                      </div>                    <div class="footer">                      <button id="credit_card" type="submit" class="button primary">                        <span> Purchase </span>                      </button>                      <button id="paypal" style="display: none;" type="button" class="button primary">                        <span> Pay with PayPal </span>                      </button>                    </div>                  </form>                </div>                <div class="information-container">                    <p class="information-title">                    Order Summary                    <span class="view-order-details">view order details</span>                    <span class="view-order-details opened">hide order details</span>                    </p>                    <div class="information-general-info">                        <p class="information-title"></p>                        <p class="information-title subtitle"></p>                    </div>                    <div class="subscriptionp-type-selector">                        <div class="plan-monthly">                            <input type="radio" name="plan-monthly">                            <label></label>                            Monthly                        </div>                        <div class="plan-annual">                            <input type="radio" name="plan-annual">                            <label></label>                            Annual (Save <span class="annual-save">58</span>%)                        </div>                    </div>                    <hr>                    <div class="information-amount-info">                        <div class="amount price-section">                            <p class="amount-text"></p>                            <p class="amount-price"></p>                        </div>                        <div class="amount discount-section">                            <p class="amount-text"></p>                            <p class="amount-price"></p>                        </div>                        <hr>                        <div class="amount subtotal-section">                            <p class="amount-text">Subtotal</p>                            <p class="amount-price">0</p>                        </div>                        <div class="amount vat-section">                            <p class="amount-text"></p>                            <p class="amount-price"></p>                        </div>                        <div class="amount total-section">                            <p class="amount-text total"></p>                            <p class="amount-price"></p>                        </div>                    </div>                    <div class="resume-info">                    </div>                </div>              </div>            </div>          </div>        </div>    ',
    PURCHASE: {
      PRICE_LABEL: "Price",
      TOTAL_LABEL: "Total",
    },
    SUBSCRIPTION: {
      TITLE: "Unlimited Downloads Subscription",
      SUBTITLE:
        "Your subscription includes unlimited mockups, designs, logos, and video downloads.",
      PRICE_LABEL_ANNUALY: "Annual Subscription",
      PRICE_LABEL_MONTHLY: "Monthly Subscription",
      TOTAL_LABEL: "Total Per Month",
      TOTAL_ANNUAL_LABEL: "Total Per Year",
      TOTAL_WITH_MONTH: "(First{{period}} Month)",
      RESUME_RENEW_TEXT: "Your subscription renews monthly.",
      RESUME_RENEW_TEXT_ANNUAL: "Your subscription renews yearly.",
      RESUME_CANCEL_TEXT: "You can cancel your subscription anytime.",
      RESUME_DISCOUNT_TEXT: "Discount applied on your first{{period}} month.",
      RESUME_BILLING_TEXT:
        "You\u2019ll be billed ${{amount}} starting {{date}}.",
      FORM_BUTTON_LABEL: "Subscribe",
      PAYPAL_BUTTON_LABEL: "Subscribe with PayPal",
    },
    DISCOUNT_LABEL: "Discount -{{discount}} off",
    VAT_LABEL: "VAT: {{vat}}%",
    RESUME_USD_TEXT: "All amounts are in USD.",
    TYPES: {
      PURCHASE: "purchase",
      SUBSCRIPTION: "subscription",
    },
    TEXT_SERVER_PAUSED_MESSAGE:
      ' Please <a href="mailto:hi@placeit.net">contact us</a> to unpause it',
    BILLING_VAT_TEXT: "(${{totalAmount}} Subscription + ${{vatAmount}} VAT)",
    BRAZIL_CURRENCY: "BRL",
    POLLING_TIMES: 234,
    POLLING_DELAY: 1e3,
    prototype: {
      purchaseRecord: null,
      paymentType: null,
      purchaseRecordPlans: {
        monthly: null,
        annual: null,
      },
      plans: {
        monthly: null,
        annual: null,
      },
      $paymentOptions: null,
      $errorContainer: null,
      $paypalMessageContainer: null,
      $vatMessage: null,
      $formContainer: null,
      $closeBtn: null,
      $creditCardSubmitBtn: null,
      $payPalSubmitBtn: null,
      $informationTitle: null,
      $informationSubtitle: null,
      $discountSection: null,
      $discountTextLabel: null,
      $discountAmountLabel: null,
      $priceTextLabel: null,
      $priceAmountLabel: null,
      $subtotalSection: null,
      $vatSection: null,
      $vatTextLabel: null,
      $vatAmountLabel: null,
      $totalTextLabel: null,
      $totalAmountLabel: null,
      $resumeInfo: null,
      $viewOrderDetail: null,
      $informationContainer: null,
      $subscriptionType: null,
      $subscriptionMonthly: null,
      $subscriptionAnnual: null,
      $subscriptionAnnualSave: null,
      init: function (e) {
        $("[id='purchaseOverlay']").remove();
        var t = this;
        Widget.prototype.init.call(this, e),
          (this.currentCurrency = window.currencyHelper.getLabel(
            window.recurlyConfig.currency
          )),
          this.currentCurrency === this.constructor.BRAZIL_CURRENCY &&
            this.element.find(".paypal_option").remove(),
          (this.$paymentOptions = this.element.find(".payment_option")),
          (this.$errorContainer = this.element.find(".server_errors")),
          (this.$paypalMessageContainer = this.element.find(".paypal")),
          (this.$vatMessage = this.element.find("#tax-message")),
          (this.$formContainer = this.element.find(".form-widget-container")),
          (this.billingForm = new UI.BillingForm({
            name: "billingForm",
            accountRecord: this.purchaseRecord,
            withTitles: !1,
          })),
          (this.$closeBtn = this.element.find("button.close")),
          (this.$creditCardSubmitBtn = this.element.find(
            ".footer > #credit_card"
          )),
          (this.$payPalSubmitBtn = this.element.find(".footer > #paypal")),
          (this.$informationTitle = this.element.find(
            ".information-general-info>.information-title"
          )),
          (this.$informationSubtitle = this.element.find(
            ".information-general-info>.information-title.subtitle"
          )),
          (this.$discountSection = this.element.find(".discount-section")),
          (this.$discountTextLabel = this.element.find(
            ".discount-section>.amount-text"
          )),
          (this.$discountAmountLabel = this.element.find(
            ".discount-section>.amount-price"
          )),
          (this.$priceTextLabel = this.element.find(
            ".price-section>.amount-text"
          )),
          (this.$priceAmountLabel = this.element.find(
            ".price-section>.amount-price"
          )),
          (this.$subtotalSection = this.element.find(".subtotal-section")),
          (this.$subtotalAmountLabel = this.element.find(
            ".subtotal-section>.amount-price"
          )),
          (this.$vatSection = this.element.find(".vat-section")),
          (this.$vatTextLabel = this.element.find(".vat-section>.amount-text")),
          (this.$vatAmountLabel = this.element.find(
            ".vat-section>.amount-price"
          )),
          (this.$totalTextLabel = this.element.find(
            ".total-section>.amount-text"
          )),
          (this.$totalAmountLabel = this.element.find(
            ".total-section>.amount-price"
          )),
          (this.$resumeInfo = this.element.find(".resume-info")),
          (this.$subscriptionType = this.element.find(
            ".subscriptionp-type-selector"
          )),
          (this.$subscriptionMonthly =
            this.$subscriptionType.find(".plan-monthly")),
          (this.$subscriptionAnnual =
            this.$subscriptionType.find(".plan-annual")),
          (this.$subscriptionAnnualSave = this.$subscriptionType.find(
            ".plan-annual .annual-save"
          )),
          this.paymentType === this.constructor.TYPES.PURCHASE
            ? this.$subscriptionType.addClass("hidden")
            : (Registry.Plans.get().forEach(function (e) {
                switch (e.recurly_uuid) {
                  case Registry.Plans.PLAN_ANNUAL:
                    t.plans.annual = e;
                    break;
                  case Registry.Plans.PLAN_MONTHLY:
                    t.plans.monthly = e;
                }
              }),
              this._updatePurchaseRecordPlan(this.purchaseRecord)),
          (this.creditCardSubmitBtnText = null),
          (this.vatAmount = 0),
          (this.$viewOrderDetail = this.element.find(".view-order-details")),
          (this.$informationContainer = this.element.find(
            ".information-container"
          )),
          this.appendChild(
            new UI.PayPalModal({
              name: "paypalModal",
            })
          ),
          this._setBindings(),
          this._showCreditCardOption(),
          (this.euCountries = Helpers.App.getEUCountries()),
          this.updateBillingInfo();
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        recurly.configure(e);
      },
      _setBindings: function () {
        var e = this;
        return (
          this.$closeBtn.one("click", e._closeEventHandler.bind(e)),
          e.element.bind("keyup", function (t) {
            27 === t.keyCode &&
              (e._closeEventHandler(t), e.element.unbind("keyup"));
          }),
          e.$paymentOptions.bind("click", function () {
            e.$paymentOptions.removeClass("selected"),
              e.$paymentOptions.find("> input").prop("checked", !1);
            var t = $(this);
            t.addClass("selected"), t.find("> input").prop("checked", !0);
            var n = t.hasClass("paypal_option");
            n
              ? (e._showPaypalOption(),
                Helpers.GlobalEventTracker.purchasePayPalSwitch())
              : e._showCreditCardOption();
          }),
          e.$payPalSubmitBtn.bind("click", e._paypalClickHandler.bind(e)),
          e.paypalModal.bind("paypal.success", function (t) {
            var n = t.data;
            e.markFieldsAsValid(),
              e.hideServerErrors(),
              e.setParameters("token", n.id),
              e
                .submitTransaction()
                .then(function (t) {
                  e._ajaxSuccessHandler(t), e._destroyOncePayPalHidden();
                })
                ["catch"](function (t) {
                  e._ajaxErrorhandler(t), e._activateOncePayPalHidden();
                });
          }),
          e.paypalModal.bind("paypal.retry", function () {
            e.hideServerErrors(), e._activateOncePayPalHidden();
          }),
          e.paypalModal.bind("paypal.reject", function (t) {
            var n = t.data;
            e.displayServerErrors(n.message), e._activateOncePayPalHidden();
          }),
          e.$creditCardSubmitBtn.on("click", e._submitEventHandler.bind(e)),
          e.billingForm.bind("country.change", function () {
            e._updateVatInfo();
          }),
          e.billingForm.bind("vatNumber.change", function () {
            e._updateVatInfo();
          }),
          e.$viewOrderDetail.bind("click", function () {
            e.$informationContainer.toggleClass("active");
          }),
          e.$subscriptionMonthly.bind("click", function () {
            null !== e.purchaseRecordPlans.monthly &&
            e.purchaseRecordPlans.monthly.ajaxParams
              ? e._updatePurchaseRecordPlan(e.purchaseRecordPlans.monthly)
              : e.signRequestWithRecurly(
                  e.plans.monthly,
                  e.discount,
                  function (t) {
                    e._onChangePeriodCallback(Registry.Plans.PLAN_MONTHLY, t);
                  }
                ),
              Helpers.GlobalEventTracker.subscriptionPlanSelected({
                old: "annual",
                new: "monthly",
                place: "payment_form",
              });
          }),
          e.$subscriptionAnnual.bind("click", function () {
            null !== e.purchaseRecordPlans.annual &&
            e.purchaseRecordPlans.annual.ajaxParams
              ? e._updatePurchaseRecordPlan(e.purchaseRecordPlans.annual)
              : e.signRequestWithRecurly(
                  e.plans.annual,
                  e.discount,
                  function (t) {
                    e._onChangePeriodCallback(Registry.Plans.PLAN_ANNUAL, t);
                  }
                ),
              Helpers.GlobalEventTracker.subscriptionPlanSelected({
                old: "monthly",
                new: "annual",
                place: "payment_form",
              });
          }),
          e
        );
      },
      _updateVatInfo: function () {
        var e = this.billingForm.getSelectedCountry().toUpperCase(),
          t = this.billingForm.getVatNumber();
        this._isEUCountry(e)
          ? (this.billingForm.showVatField(), this._updateTaxRate(e, t))
          : ((this.vatAmount = 0),
            (this.vatRate = 0),
            this.billingForm.hideVatField(),
            this.updateBillingInfo());
      },
      _isEUCountry: function (e) {
        return -1 !== this.euCountries.indexOf(e);
      },
      _onChangePeriodCallback: function (e, t) {
        var n, i, r;
        switch (((n = null), (i = ""), e)) {
          case Registry.Plans.PLAN_ANNUAL:
            i = "Subscription:success:Unlimited:Annual";
            break;
          case Registry.Plans.PLAN_MONTHLY:
            i = "Subscription:success:Unlimited";
        }
        Helpers.CouponHelper.isValid() &&
          Helpers.CouponHelper.applyToPlan(e) &&
          (n = Helpers.CouponHelper.getCode()),
          (r = EventTracker.info({
            type: i,
            data: {},
          }));
        var s = {
          ajaxUrl: "/subscriptions/{{token}}/transaction",
          ajaxParams: {
            plan_recurly_uuid: t.plan_recurly_uuid,
            coupon_code: n,
            eventData: r,
          },
        };
        $.extend(!0, t, s), this._updatePurchaseRecordPlan(t);
      },
      _closeEventHandler: function () {
        Helpers.GlobalEventTracker.track("Purchase:UserCanceledPayment", {
          stage_id: Helpers.StageType.getStageID(),
        }),
          this.element.bind(
            "hidden.bs.modal",
            function () {
              this.destroy();
            }.bind(this)
          );
      },
      _showPaypalOption: function () {
        return (
          this.hideServerErrors(),
          this.$creditCardSubmitBtn.hide(),
          this.$paypalMessageContainer.show(),
          this.$payPalSubmitBtn.show(),
          this.$formContainer.css("display", "none"),
          this
        );
      },
      _showCreditCardOption: function () {
        return (
          this.hideServerErrors(),
          this.$paypalMessageContainer.hide(),
          this.$payPalSubmitBtn.hide(),
          this.$creditCardSubmitBtn.show(),
          this.$formContainer.css("display", "block"),
          this
        );
      },
      _submitEventHandler: function (e) {
        e.preventDefault();
        var t = this;
        this._setLoadingCardForm(!0),
          this.hideServerErrors(),
          this.billingForm
            .getToken()
            .then(function (e) {
              t.billingForm.getContactData();
              t.setParameters("token", e.id),
                t
                  .submitTransaction()
                  .then(t._ajaxSuccessHandler.bind(t))
                  ["catch"](function (e) {
                    t._ajaxErrorhandler(e),
                      t.billingForm.markInvalidBillingInfo(),
                      t._setLoadingCardForm(!1);
                  });
            })
            ["catch"](function (e) {
              Helpers.GlobalEventTracker.purchaseInvalidFields(e),
                t._setLoadingCardForm(!1);
            });
      },
      _setLoadingCardForm: function (e) {
        var t = {
            "pointer-events": "none",
          },
          n = {
            "pointer-events": "auto",
          };
        e === !0
          ? ((this.creditCardSubmitBtnText = this.$creditCardSubmitBtn.html()),
            this.$creditCardSubmitBtn.html(""),
            this.$creditCardSubmitBtn.addClass("no-text-btn light-spinner"),
            this.$creditCardSubmitBtn.css(t),
            this.billingForm.disableForm(),
            this.$subscriptionAnnual.css(t),
            this.$subscriptionMonthly.css(t),
            this.$paymentOptions.css(t),
            this.element
              .find('[type="radio"]:checked + label')
              .addClass("disabled"))
          : e === !1 &&
            (this.$creditCardSubmitBtn.html(this.creditCardSubmitBtnText),
            this.$creditCardSubmitBtn.removeClass("no-text-btn light-spinner"),
            this.$creditCardSubmitBtn.css(n),
            this.billingForm.enableForm(),
            this.$subscriptionAnnual.css(n),
            this.$subscriptionMonthly.css(n),
            this.$paymentOptions.css(n),
            this.element
              .find('[type="radio"]:checked + label')
              .removeClass("disabled"));
      },
      _paypalClickHandler: function () {
        this.deactivate(), this.paypalModal.activate();
        var e = {
          description: this.purchaseRecord.description,
        };
        this.paypalModal.initPayment(e);
      },
      setParameters: function (e, t) {
        var n,
          i,
          r,
          s = this.billingForm.getContactData();
        return (
          (n = s.firstName),
          (i = s.lastName),
          (r = s.email),
          n && (this.purchaseRecord.ajaxParams.first_name = n),
          i && (this.purchaseRecord.ajaxParams.last_name = i),
          r && (this.purchaseRecord.ajaxParams.email = r),
          (this.purchaseRecord.ajaxParams[e] = t),
          this
        );
      },
      _disableModalClose: function () {
        return !1;
      },
      submitTransaction: function () {
        var e, t;
        this.element.bind("hide.bs.modal", this._disableModalClose),
          (e = this.purchaseRecord.ajaxUrl);
        var n = {
            url: e,
            type: "post",
            data: this.purchaseRecord.ajaxParams,
            dataType: "json",
          },
          i = PurchaseSupport.getRequestDataByUrl(e),
          r = (i && i.isPollingEnabled) === !0;
        return r === !0
          ? ((t = {
              delay: this.constructor.POLLING_DELAY,
              times: this.constructor.POLLING_TIMES,
              pingURL: i.pingURL,
            }),
            P.ajax(n).then(PurchaseSupport.buildPolling(t)))
          : P.ajax(n);
      },
      validateFields: function (e) {
        return (
          this.markFieldsAsValid(),
          e.forEach(
            function (e) {
              this.element
                .find("#recurly-" + e)
                .parent()
                .addClass("invalid");
            }.bind(this)
          ),
          this
        );
      },
      markFieldsAsValid: function () {
        return this.element.find(".invalid").removeClass("invalid"), this;
      },
      displayServerErrors: function (e) {
        var t = $('<div class="alert alert-danger alert-dismissible"></div>'),
          n = $(
            '<span class="billing_error_message">' +
              e +
              '</span> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'
          );
        return (
          t.append(n),
          this.$errorContainer.append(t),
          this.$errorContainer.addClass("any"),
          this
        );
      },
      displayServerWarnings: function (e, t) {
        var n = $('<div class="alert alert-warning alert-dismissible"></div>'),
          i = $('<span class="billing_error_message">' + e + "</span>");
        return (
          t && i.append(this.constructor.TEXT_SERVER_PAUSED_MESSAGE),
          n.append(i),
          n.append(
            '<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'
          ),
          this.$errorContainer.append(n),
          this.$errorContainer.addClass("any"),
          this
        );
      },
      hideServerErrors: function () {
        return (
          this.$errorContainer.html(""),
          this.$errorContainer.removeClass("any"),
          this
        );
      },
      _ajaxSuccessHandler: function (e) {
        e.coupon && (this.purchaseRecord.coupon = e.coupon),
          e.invoice_number &&
            (this.purchaseRecord.invoice_number = e.invoice_number),
          Helpers.CouponHelper.markAsUsed(),
          this.element.unbind("hide.bs.modal", this._disableModalClose),
          this.dispatch("purchase.success", this.purchaseRecord),
          this.element.unbind("hidden.bs.modal").bind(
            "hidden.bs.modal",
            function () {
              this.destroy();
            }.bind(this)
          ),
          this.deactivate();
      },
      _ajaxErrorhandler: function (e) {
        var t = e.responseJSON,
          n = "",
          i = !1,
          r = !1;
        t && ((n = t.message), (i = t.is_paused), (r = t.can_be_used));
        var s = {
          message: n,
          status: 0,
        };
        this.element.unbind("hide.bs.modal", this._disableModalClose),
          "timeout" === e.error &&
            ((s.status = 408),
            (s.message =
              "Your transaction couldn't be processed at this moment, try again later.")),
          422 === e.status &&
            t &&
            t.error &&
            ((s.message = t.error), (s.status = e.status)),
          Helpers.GlobalEventTracker.purchaseCardDenied(s),
          this.dispatch("purchase.failed", s),
          r === !0
            ? this.displayServerWarnings(s.message, i)
            : this.displayServerErrors(s.message);
      },
      _destroyOncePayPalHidden: function () {
        this.paypalModal.bind(
          "paypal.deactivate",
          function () {
            this.destroy();
          }.bind(this)
        ),
          this.paypalModal.deactivate();
      },
      _activateOncePayPalHidden: function () {
        var e = function t() {
          this.activate(), this.paypalModal.unbind("paypal.deactivate", t);
        }.bind(this);
        this.paypalModal.bind("paypal.deactivate", e),
          this.paypalModal.deactivate();
      },
      initPurchaseForm: function () {
        return this._populateFields(), this;
      },
      initSubscriptionForm: function () {
        this.element
          .find(".subscription-info")
          .html(
            '                <select data-recurly="plan">                  <option value="' +
              this.purchaseRecord.plan_recurly_uuid +
              '" selected> </option>                </select>                <input id="recurly-coupon" data-recurly="coupon">            '
          );
        var e = this.element.find("#recurly-coupon");
        return (
          e.val(this.purchaseRecord.coupon_code),
          this.$creditCardSubmitBtn
            .find("span")
            .html(this.constructor.SUBSCRIPTION.FORM_BUTTON_LABEL),
          this.$payPalSubmitBtn
            .find("span")
            .html(this.constructor.SUBSCRIPTION.PAYPAL_BUTTON_LABEL),
          this._populateFields(),
          this
        );
      },
      _populateFields: function () {
        return this;
      },
      _updateTaxRate: function (e, t) {
        var n, i, r;
        (n = this),
          (i = n.purchaseRecord.amount_in_cents / 100),
          (r = n.getDiscount()),
          r && (i = Helpers.CouponHelper.calculatePrice(i)),
          Helpers.Price.tax(e, i, t).then(function (e) {
            (n.vatAmount = i * e.rate),
              (n.vatRate = 100 * e.rate),
              n.updateBillingInfo();
          });
      },
      _updatePurchaseRecordPlan: function (e) {
        var t = 'input[type="radio"]',
          n = null;
        this.$subscriptionType.find(t).removeProp("checked"),
          this.$subscriptionType.children().removeClass("checked"),
          this.isAnnualSubscription(e)
            ? ((n = this.$subscriptionAnnual),
              (this.purchaseRecordPlans.annual = e))
            : ((n = this.$subscriptionMonthly),
              (this.purchaseRecordPlans.monthly = e)),
          n.addClass("checked"),
          n.find(t).prop("checked", !0),
          (this.purchaseRecord = e),
          this.billingForm.triggerChangeCountry();
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this), this.element.modal("show"), this
        );
      },
      deactivate: function () {
        return (
          this.element.modal("hide"),
          Widget.prototype.deactivate.call(this),
          this
        );
      },
      render: function (e, t) {
        return (
          this.dispatch("purchase.open"),
          Widget.prototype.render.call(this, e, t),
          this.billingForm.render(this.$formContainer),
          this
        );
      },
      updateBillingInfo: function () {
        var e = this,
          t = Helpers.StageType.getStageData(),
          n = this.getDiscount(),
          i = Helpers.CouponHelper.getDuration(),
          r = window.currencyHelper.getSymbol(recurlyConfig.currency);
        switch ((e.$resumeInfo.empty(), e.paymentType)) {
          case e.constructor.TYPES.SUBSCRIPTION:
            e.$informationTitle.text(e.constructor.SUBSCRIPTION.TITLE),
              e.$informationSubtitle.text(e.constructor.SUBSCRIPTION.SUBTITLE),
              e.$priceTextLabel.text(
                e.isAnnualSubscription() === !0
                  ? e.constructor.SUBSCRIPTION.PRICE_LABEL_ANNUALY
                  : e.constructor.SUBSCRIPTION.PRICE_LABEL_MONTHLY
              ),
              e._setAnnualSubscriptionSave();
            break;
          case e.constructor.TYPES.PURCHASE:
            e.$informationTitle.text(t.meta_title),
              e.$informationSubtitle.text(""),
              e.$priceTextLabel.text(e.constructor.PURCHASE.PRICE_LABEL);
        }
        e.$priceAmountLabel.text(
          r + e._fixNumberFormat(e.purchaseRecord.amount_in_cents / 100, 2)
        ),
          e.setDiscount(n);
        var s = e.setVat(e.vatAmount);
        e.getTotalPrice(n, e.vatAmount), e.updateBillingResume(n, i, s);
      },
      updateBillingResume: function (e, t, n) {
        var i = this,
          r = 0;
        if (e && i.paymentType === i.constructor.TYPES.SUBSCRIPTION) {
          var s = "";
          t.length > 1 && (s = " " + t.length),
            (r =
              "single_use" === t.type
                ? i.purchaseRecord.plan_recurly_uuid ===
                  Registry.Plans.PLAN_ANNUAL
                  ? 12
                  : 1
                : t.length);
          var o = i.purchaseRecord.amount_in_cents / 100,
            a = 2,
            l = new Date(),
            c = new Date(l.setMonth(l.getMonth() + r)),
            u = $.datepicker.formatDate("M dd yy", c),
            d = i._getBillingVatText(n, o, a);
          "forever" === t.type && (o = Helpers.CouponHelper.calculatePrice(o)),
            (o = i._fixNumberFormat(o + n, a)),
            i.$resumeInfo.append(
              "<p>" +
                i.constructor.SUBSCRIPTION.RESUME_BILLING_TEXT.replace(
                  "{{amount}}",
                  o + d
                ).replace("{{date}}", u) +
                "</p>"
            ),
            ("temporal" !== t.type && "single_use" !== t.type) ||
              i.purchaseRecord.plan_recurly_uuid ===
                Registry.Plans.PLAN_ANNUAL ||
              i.$resumeInfo.append(
                "<p>" +
                  i.constructor.SUBSCRIPTION.RESUME_DISCOUNT_TEXT.replace(
                    "{{period}}",
                    " " + s
                  ) +
                  "</p>"
              );
        }
        if (i.paymentType === i.constructor.TYPES.SUBSCRIPTION) {
          var p = i.constructor.SUBSCRIPTION.RESUME_RENEW_TEXT;
          i.isAnnualSubscription() === !0 &&
            (p = i.constructor.SUBSCRIPTION.RESUME_RENEW_TEXT_ANNUAL),
            i.$resumeInfo.append("<p>" + p + "</p>"),
            i.$resumeInfo.append(
              "<p>" + i.constructor.SUBSCRIPTION.RESUME_CANCEL_TEXT + "</p>"
            );
        }
        i.$resumeInfo.append("<p>" + i.constructor.RESUME_USD_TEXT + "</p>");
      },
      _getBillingVatText: function (e, t, n) {
        var i = this,
          r = "";
        return (
          e &&
            (r = i.constructor.BILLING_VAT_TEXT.replace(
              "{{totalAmount}}",
              i._fixNumberFormat(t, n)
            ).replace("{{vatAmount}}", i._fixNumberFormat(e, 2))),
          r
        );
      },
      setDiscount: function (e) {
        var t = this,
          n = 0,
          i = 0,
          r = t.purchaseRecord.amount_in_cents / 100,
          s = window.currencyHelper.getSymbol(recurlyConfig.currency);
        return 0 === e
          ? (t.$discountSection.css({
              display: "none",
            }),
            0)
          : (t.$discountSection.css({
              display: "flex",
            }),
            (n = r - Helpers.CouponHelper.calculatePrice(r)),
            (i = r - n),
            t.$discountTextLabel.text(
              t.constructor.DISCOUNT_LABEL.replace("{{discount}}", e.label)
            ),
            t.$discountAmountLabel.text("-" + s + t._fixNumberFormat(n, 2)),
            t.$subtotalAmountLabel.text(s + t._fixNumberFormat(i, 2)),
            n);
      },
      getDiscount: function () {
        var e =
            Helpers.CouponHelper.exists() === !1 ||
            Helpers.CouponHelper.isValid() === !1,
          t =
            this.paymentType === this.constructor.TYPES.SUBSCRIPTION &&
            Helpers.CouponHelper.applyToPlan(
              this.purchaseRecord.plan_recurly_uuid
            ) === !1,
          n =
            this.paymentType === this.constructor.TYPES.PURCHASE &&
            Helpers.CouponHelper.applyTo(
              Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
            ) === !1;
        return e || t || n ? 0 : Helpers.CouponHelper.getDiscount();
      },
      setVat: function (e) {
        var t = this,
          n = window.currencyHelper.getSymbol(recurlyConfig.currency);
        return 0 === e
          ? (t.$subtotalSection.css({
              display: "none",
            }),
            t.$vatSection.css({
              display: "none",
            }),
            0)
          : (t.$subtotalSection.css(
              t.getDiscount() && t.isAnnualSubscription() === !1
                ? {
                    display: "flex",
                  }
                : {
                    display: "none",
                  }
            ),
            t.$vatSection.css({
              display: "flex",
            }),
            t.$vatTextLabel.text(
              t.constructor.VAT_LABEL.replace("{{vat}}", t.vatRate)
            ),
            t.$vatAmountLabel.text("+" + n + t._fixNumberFormat(e, 2)),
            e);
      },
      _fixNumberFormat: function (e, t) {
        var n = Number(e);
        return n.toFixed(t);
      },
      getTotalPrice: function (e, t) {
        var n = this,
          i = this.constructor.PURCHASE.TOTAL_LABEL,
          r = n.purchaseRecord.amount_in_cents / 100,
          s = Helpers.CouponHelper.getDuration(),
          o = 0,
          a = window.currencyHelper.getSymbol(recurlyConfig.currency);
        return (
          e && e.amount && (o = r - Helpers.CouponHelper.calculatePrice(r)),
          n.paymentType === n.constructor.TYPES.SUBSCRIPTION &&
            ((i = n._getSubscriptionTotalLabel()),
            n.isAnnualSubscription() !== !0 &&
              (e && "temporal" === s.type
                ? (i +=
                    " " +
                    n.constructor.SUBSCRIPTION.TOTAL_WITH_MONTH.replace(
                      "{{period}}",
                      " " + s.length
                    ))
                : e &&
                  "single_use" === s.type &&
                  (i +=
                    " " +
                    n.constructor.SUBSCRIPTION.TOTAL_WITH_MONTH.replace(
                      "{{period}}",
                      ""
                    )))),
          n.$totalTextLabel.text(i),
          (r = r - o + t),
          n.$totalAmountLabel.text(a + n._fixNumberFormat(r, 2)),
          r
        );
      },
      _getSubscriptionTotalLabel: function () {
        var e = this,
          t = e.constructor.SUBSCRIPTION.TOTAL_LABEL;
        return (
          e.isAnnualSubscription() === !0 &&
            (t = e.constructor.SUBSCRIPTION.TOTAL_ANNUAL_LABEL),
          t
        );
      },
      isAnnualSubscription: function (e) {
        var t = this,
          n = e || t.purchaseRecord;
        return n.plan_recurly_uuid === Registry.Plans.PLAN_ANNUAL;
      },
      destroy: function () {
        (this.$paymentOptions = null),
          (this.$errorContainer = null),
          (this.$paypalMessageContainer = null),
          (this.fieldsContainer = null),
          (this.contactInfoContainer = null),
          (this.firstNameElement = null),
          (this.lastNameElement = null),
          (this.emailElement = null),
          (this.$closeBtn = null),
          (this.$creditCardSubmitBtn = null),
          (this.$payPalSubmitBtn = null),
          this.billingForm && this.billingForm.destroy(),
          this.dispatch("purchase.closed"),
          Widget.prototype.destroy.call(this);
      },
      _setAnnualSubscriptionSave: function () {
        var e, t;
        (e = this._getPlanPrice(Registry.Plans.PLAN_ANNUAL)),
          e.withDiscount
            ? (t = this._calculateAnnualSavePercent(e.withDiscount))
            : ((t = this._calculateAnnualSavePercent(e.original)),
              (t = parseInt(t))),
          this.$subscriptionAnnualSave.text(t);
      },
    },
  }),
  Module(Helpers, "CouponHelper").includes(CustomEventSupport)({
    KEY: "pl_coupon",
    TYPE_SUBSCRIPTION: "subscription",
    TYPE_SINGLE_PURCHASE: "singlePurchase",
    DISCOUNT_TYPE_PERCENT: "percent",
    DISCOUNT_TYPE_AMOUNT: "dollars",
    SOURCE_URL: "url",
    SOURCE_COOKIE: "cookie",
    SOURCE_SET: "set",
    code: null,
    coupon: null,
    types: null,
    discount: null,
    duration: null,
    valid: null,
    source: null,
    load: function (e) {
      var t, n;
      if (
        (e || (e = !1),
        (this.code = null),
        (this.coupon = null),
        (this.types = []),
        (this.discount = null),
        (this.duration = null),
        (this.valid = null),
        (this.source = null),
        (t = Helpers.App.getUrlParam(this.KEY)),
        ($.cookie.json = !0),
        (n = $.cookie(this.KEY)),
        ($.cookie.json = !1),
        t && t.length)
      ) {
        if (Helpers.App.getSubscription())
          return this.dispatch("coupon.error.newUser"), void this.remove();
        (this.code = t), (this.source = this.SOURCE_URL), this._validate();
      } else
        n
          ? ("string" == typeof n && (n = JSON.parse(n)),
            n.coupon_code &&
              ((this.code = n.coupon_code),
              (this.source = this.SOURCE_COOKIE),
              this._validate()))
          : e &&
            ((this.code = e),
            (this.source = this.SOURCE_SET),
            this._validate());
    },
    getCode: function () {
      return this.code;
    },
    getCoupon: function () {
      return this.coupon;
    },
    getTypes: function () {
      return this.types;
    },
    getDiscount: function () {
      return this.discount;
    },
    getDuration: function () {
      return this.duration;
    },
    getSource: function () {
      return this.source;
    },
    calculatePrice: function (e) {
      return (
        (e = parseFloat(e)),
        isNaN(e) || !this.discount
          ? !1
          : (this.discount.type === this.DISCOUNT_TYPE_PERCENT
              ? (e = (e * (100 - this.discount.amount)) / 100)
              : this.discount.type === this.DISCOUNT_TYPE_AMOUNT &&
                (e -= this.discount.amount),
            0 > e && (e = 0),
            (e = Math.floor(100 * e) / 100))
      );
    },
    exists: function () {
      return this.coupon ? !0 : !1;
    },
    isValid: function () {
      return this.valid;
    },
    applyTo: function (e) {
      return this.types && this.types.length && this.types.indexOf(e) > -1
        ? !0
        : !1;
    },
    applyToPlan: function (e) {
      var t = this.getCoupon();
      if (null === t) return !1;
      if (t.applies_to_all_plans === !0) return !0;
      for (var n = 0; n < t.plan_codes.length; n++)
        if (t.plan_codes[n] === e) return !0;
      return !1;
    },
    _validate: function () {
      var e, t;
      this.code &&
        ((t = Helpers.App.getSubscription()),
        (!t || t.is_paused) &&
          ((e = {
            success: this._validateSuccessHandler.bind(this),
            error: this._validateErrorHandler.bind(this),
          }),
          $.ajax({
            url: "/coupons/" + this.code + "/sign",
            type: "POST",
            success: function (t) {
              e.success(t);
            },
            error: function (t) {
              e.error(t);
            },
          })));
    },
    _validateSuccessHandler: function (e) {
      e.coupon && "redeemable" === e.coupon.state
        ? this._process(e.coupon)
        : this._setInvalid(),
        this.dispatch("coupon.validated");
    },
    _validateErrorHandler: function () {
      this._setInvalid(), this.dispatch("coupon.validated");
    },
    _process: function (e) {
      var t;
      e &&
        ((this.coupon = e),
        (this.valid = !0),
        this._setTypes(),
        this._setDiscount(),
        this._setDuration(),
        ($.cookie.json = !0),
        $.cookie(this.KEY, this.coupon, {
          path: "/",
        }),
        ($.cookie.json = !1),
        (t = Helpers.App.getUser()),
        Helpers.App.isLoggedIn() && !t.coupon && this.applyToUser());
    },
    _setTypes: function () {
      this.exists() &&
        ((this.types = []),
        this.coupon.applies_to_all_plans
          ? this.types.push(this.TYPE_SUBSCRIPTION)
          : Object.keys(window.plans).forEach(
              function (e) {
                -1 === this.types.indexOf(this.TYPE_SUBSCRIPTION) &&
                  this.coupon.plan_codes.indexOf(e) > -1 &&
                  this.types.push(this.TYPE_SUBSCRIPTION);
              }.bind(this)
            ),
        this.coupon.applies_to_non_plan_charges &&
          this.types.push(this.TYPE_SINGLE_PURCHASE));
    },
    _setDiscount: function () {
      if (this.exists())
        if (
          ((this.discount = {}),
          (this.discount.type = this.coupon.discount_type),
          this.discount.type === this.DISCOUNT_TYPE_PERCENT)
        )
          (this.discount.amount = this.coupon.discount_percent),
            (this.discount.label = this.discount.amount + "%");
        else if (this.discount.type === this.DISCOUNT_TYPE_AMOUNT) {
          var e = window.currencyHelper.getSymbol(recurlyConfig.currency);
          (this.discount.amount =
            this.coupon.discount_in_cents[window.recurlyConfig.currency] / 100),
            (this.discount.label = e + this.discount.amount);
        } else this.discount = null;
    },
    _setDuration: function () {
      this.exists() &&
        ((this.duration = {}),
        (this.duration.type = this.coupon.duration),
        (this.duration.length =
          "temporal" === this.duration.type
            ? this.coupon.applies_for_months
            : !1));
    },
    _setInvalid: function () {
      (this.valid = !1),
        $.removeCookie(this.KEY, {
          path: "/",
        });
    },
    remove: function () {
      (this.code = null),
        (this.coupon = null),
        (this.types = []),
        (this.discount = null),
        (this.duration = null),
        (this.valid = null),
        (this.source = null),
        $.removeCookie(this.KEY, {
          path: "/",
        }),
        this.dispatch("coupon.removed");
    },
    markAsUsed: function () {
      ((this.duration && "single_use" === this.duration.type) ||
        (this.coupon && "subscription" === this.coupon.redemption_resource)) &&
        this.remove(),
        this.applyToUser();
    },
    refresh: function () {
      this.dispatch("coupon.refresh");
    },
    applyToUser: function () {
      this.getCode() &&
        $.ajax({
          type: "POST",
          url: "/coupons/" + this.getCode() + "/apply",
          success: function () {
            return !0;
          },
          error: function () {
            return !1;
          },
        });
    },
    prototype: {
      _isCouponRedeemable: function (e) {
        return "redeemable" === e.state;
      },
      _couponAppliesToAllPlans: function (e) {
        return e.applies_to_all_plans;
      },
      _whatPlansCouponAppliesFor: function (e) {
        return e.plan_codes;
      },
      _couponDiscountType: function (e) {
        return e.discount_type;
      },
      _couponDiscountAmount: function (e) {
        var t;
        return (t =
          "percent" === e.discount_type
            ? e.discount_percent
            : e.discount_in_cents);
      },
      _applyCouponDiscount: function (e, t) {
        return (
          "percent" === e.type
            ? (t = (t * (100 - e.amount)) / 100)
            : ((t -= e.amount[window.recurlyConfig.currency]),
              0 > t && (t = 0)),
          Math.round(100 * t) / 100
        );
      },
    },
  }),
  Class(UI, "SubscriptionsPartial")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Helpers.CouponHelper,
      BubblingSupport,
      GenericDestroySupport,
      Translator
    )({
    elementClass: "subscriptions-partial-widget",
    html: '        <div>            <div class="subscritpions-wrapper">                <div class="label-wrapper">                    <div class="label-text"></div>                </div>                <div class="header">                    <div class="title"></div>                    <div class="subtitle"></div>                </div>                <div class="content-wrapper">                    <div class="categories"></div>                    <div class="carousel-wrapper"></div>                </div>                <div class="footer">                    <div class="period-wrapper">                        <div class="period-container plan-monthly">                            <div class="period-label">MONTHLY<strong class="percent-discount discount"></strong></div>                            <button class="period" data-period="monthly">                                <span class="price original-price"></span>                                <span class="price final-price"></span>                                <span class="price-label">/ Month</span>                            </button>                        </div>                        <div class="period-container plan-annual">                            <div class="period-label">ANNUAL<strong class="percent-discount discount"></strong></div>                            <button class="period" data-period="annual">                                <span class="price original-price"></span>                                <span class="price final-price">$99.95</span>                                <span class="price-label"> / Year</span>                                <small>Just <span class="annual-monthly-amount">$8.33</span> / Month, <strong class="annual-percent-discount">Save <span class="annual-save">58</span>%</strong></small>                            </button>                        </div>                    </div>                </div>            </div>            <div class="disclaimer">                <div class="coupon-disclaimer"></div>                <span><strong>Cancel anytime.</strong> Your subscription includes access to all Mockups, Designs, Logos & Videos templates.</span>                <span class="plan-tax"></span>            </div>        </div>',
    TEXT_TITLE: "Get the Unlimited Subscription!",
    TEXT_SUBTITLE: "Access to ALL Our Templates!",
    TEXT_SUBSCRIPTION_ACTIVATION_ERROR:
      "Your subscription could not be activated, Please try again later",
    TEXT_INVALID_OR_CANCELED_SUBSCRIPTION:
      "Invalid subscription or already canceled subscription",
    TEXT_ERROR_CHARGING_STORE_CARD:
      "There was an error charging your stored card. Please use another payment option.",
    TEXT_SUBSCRIPTION_SUCCESS: "Your subscription is now activated",
    TEXT_CATEGORIES: [
      {
        id: "mockups",
        title: "Mockups",
        subtitle: "Unlimited",
        features: [
          {
            type: "video",
            webm: "https://s3.amazonaws.com/placeit-images/storage/video-mockups-preview.webm",
            mp4: "https://s3.amazonaws.com/placeit-images/storage/video-mockups-preview.mp4",
            content:
              "Everything you'd get when you purchase one at a time but with <br /> <strong>unlimited access to Mockups, Designs, Logos, & Videos.</strong>",
            preview: !0,
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/Mockup-Library-Pricing-Modal.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/Mockup-Library-Pricing-Modal.mp4",
            content:
              "The world's largest mockup library with {{mockupsStagesCount}}+ templates!",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-mockups-pixel-perfect.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-mockups-pixel-perfect.mp4",
            content: "Pixel-perfect mockups in seconds. Just add your image!",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-mockups-amazing-videos.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-mockups-amazing-videos.mp4",
            content: "Make amazing video mockups right from your browser",
          },
        ],
      },
      {
        id: "designs",
        title: "Designs",
        subtitle: "Unlimited",
        features: [
          {
            type: "video",
            webm: "https://s3.amazonaws.com/placeit-images/storage/video-designs-preview.webm",
            mp4: "https://s3.amazonaws.com/placeit-images/storage/video-designs-preview.mp4",
            content:
              "Everything you'd get when you purchase one at a time but with <br /> <strong>unlimited access to Mockups, Designs, Logos, & Videos.</strong>",
            preview: !0,
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-creative-templates.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-creative-templates.mp4",
            content: "Choose from over 5,700 beautiful design templates",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-easy.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-easy.mp4",
            content: "Easy to edit templates. Design like a pro!",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-banner-ads.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-designs-banner-ads.mp4",
            content: "Download all size variations with one click!",
          },
        ],
      },
      {
        id: "videos",
        title: "Videos",
        subtitle: "Unlimited",
        features: [
          {
            type: "video",
            webm: "https://s3.amazonaws.com/placeit-images/storage/video-videos-preview.webm",
            mp4: "https://s3.amazonaws.com/placeit-images/storage/video-videos-preview.mp4",
            content:
              "Everything you'd get when you purchase one at a time but with <br /> <strong>unlimited access to Mockups, Designs, Logos, & Videos.</strong>",
            preview: !0,
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-stunning-templates.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-stunning-templates.mp4",
            content: "Hundreds of stunning video templates",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-easy-to-use.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-easy-to-use.mp4",
            content: "Making a video couldn't be easier!",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-massive-audio-library.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-massive-audio-library.mp4",
            content: "Choose from over 1000 free music tracks",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-predesigned-slides.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-videos-predesigned-slides.mp4",
            content: "Make beautiful slideshow videos",
          },
        ],
      },
      {
        id: "logos",
        title: "Logos",
        subtitle: "Unlimited",
        features: [
          {
            type: "video",
            webm: "https://s3.amazonaws.com/placeit-images/storage/video-logos-preview.webm",
            mp4: "https://s3.amazonaws.com/placeit-images/storage/video-logos-preview.mp4",
            content:
              "You get everything Unlimited with <strong>access to ALL our Templates!</strong>",
            preview: !0,
          },
          {
            type: "video",
            webm: "https://placeit-images.s3.amazonaws.com/storage/Logo-templates.webm",
            mp4: "https://placeit-images.s3.amazonaws.com/storage/Logo-templates.mp4",
            content:
              "<div>Choose from over <strong>4,600+</strong> customizable logo templates.</div>",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-logos-easy.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-logos-easy.mp4",
            content: "Making a logo is as easy as filling out a form!",
          },
          {
            type: "video",
            webm: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-logos-pdf.webm",
            mp4: "https://placeit-images.s3-accelerate.amazonaws.com/storage/video-logos-pdf.mp4",
            content: "Download your logo as a PDF!",
          },
        ],
      },
    ],
    MOCKUPS_FALLBACK_COUNT: 31300,
    prototype: {
      _resizeHandler: null,
      _canplayHandler: null,
      couponCode: null,
      discount: null,
      plans: null,
      plansWrapperEl: null,
      subscriptionButton: null,
      footerElement: null,
      openPurchasesModal: null,
      _activePlan: null,
      isMobile: null,
      preview: null,
      COMPACT_BREAKPOINT: 390,
      DEFAULT_CATEGORY: "mockups",
      PERIOD_MONTHLY: "monthly",
      PERIOD_ANNUAL: "annual",
      invalidCoupon: !1,
      carousel: null,
      currentCategory: null,
      currentFeature: null,
      previewCategory: null,
      carouselData: null,
      $title: null,
      $subtitle: null,
      $category: null,
      $categories: null,
      $contentWrapper: null,
      $couponDisclaimer: null,
      $price: null,
      $discount: null,
      $period: null,
      $periodPrice: null,
      $periodSave: null,
      $comparePrice: null,
      period: null,
      elementParent: null,
      _taxRequestInProgress: null,
      _scopedCouponValidatedHandler: null,
      _scopedCouponRemovedHandler: null,
      title: null,
      subtitle: null,
      label: null,
      categories: null,
      init: function (e) {
        var t, n;
        Widget.prototype.init.call(this, e),
          (this.title = this.constructor.TEXT_TITLE),
          e.title && (this.title = e.title),
          (this.subtitle = this.constructor.TEXT_SUBTITLE),
          (this.categories = this.constructor.TEXT_CATEGORIES),
          (this._canplayHandler = []),
          (t = ""),
          e.previewCategory &&
            ((t = e.previewCategory),
            (this.previewCategory = this.getCategoryID(e.previewCategory)),
            this.element.addClass(
              "category-" + this.previewCategory.toLowerCase()
            )),
          (this.$title = this.element.find(".title")),
          (this.$subtitle = this.element.find(".subtitle")),
          (this.$label = this.element.find(".label-wrapper .label-text")),
          (this.$couponDisclaimer = this.element.find(".coupon-disclaimer")),
          (this.plans = []),
          (this.plansWrapperEl = this.element.find(
            ".subscriptions-widget__plans-wrapper"
          )),
          (this.subscriptionButton = this.element.find(".s-btn")),
          (this.couponValidatingTxt = this.element.find(
            ".coupon-field-container .validating"
          )),
          (this.footerElement = this.element.find(".modal-footer")),
          (this.openPurchasesModal = this.footerElement.find(
            "#open-purchase-modal"
          )),
          (this.taxInformation = this.element.find(".plan-tax")),
          (this.$carouselWrapper = this.element.find(".carousel-wrapper")),
          (this.$categories = this.element.find(".categories")),
          (this.$contentWrapper = this.element.find(".content-wrapper")),
          (this.$price = this.element.find(".period-price")),
          (this.$comparePrice = this.element.find(".price-compare")),
          (this.$discount = this.element.find(".discount-wrapper .discount")),
          (this.$period = this.element.find(
            ".period-wrapper > .period-container > .period"
          )),
          (this.$periodPrice = this.element.find(".period-price")),
          (this.$periodSave = this.element.find(".period-save")),
          (this.$annualSave = this.element.find(".annual-save")),
          (this.$annualPrice = this.element.find(".annual-price")),
          (this.$annualMonthlyAmount = this.element.find(
            ".annual-monthly-amount"
          )),
          (this["buttonWrapper_" + Registry.Plans.PLAN_MONTHLY] =
            this.element.find(".period-container.plan-monthly")),
          (this["buttonWrapper_" + Registry.Plans.PLAN_ANNUAL] =
            this.element.find(".period-container.plan-annual")),
          this.$title.html(this.title),
          this.$subtitle.html(this.subtitle),
          this.label &&
            (this.$label.html(this.label),
            this.$label.parent().addClass("show")),
          (this.carouselData = []),
          (n = 0),
          this.categories.forEach(
            function (e) {
              var t = {};
              $.extend(!0, t, e),
                this.carouselData.push(t),
                (this.carouselData[n].features = []),
                e.features.forEach(
                  function (t) {
                    (t.preview !== !0 || this.previewCategory == e.id) &&
                      this.carouselData[n].features.push(t);
                  }.bind(this)
                ),
                n++;
            }.bind(this)
          ),
          this._renderPlanButtons(),
          this._renderCategories(),
          this._bindEvents();
      },
      _bindEvents: function () {
        var e;
        (e = this),
          this.bind(
            "purchase.success",
            this._handleSubscriptionSuccess.bind(this)
          ),
          UI.SubscriptionsPlan.bind(
            "plan:row:clicked",
            function (e) {
              Helpers.App.getSubscription();
              this.plans.forEach(function (e) {
                e.deselect();
              }),
                e.data.select(),
                this._setPlan(e.data.planInfo),
                this.dispatch("plan:row:clicked", e.data);
            }.bind(this)
          ),
          this.openPurchasesModal.on(
            "click",
            function (e) {
              e.preventDefault(),
                this.parent.deactivate(
                  function () {
                    this.dispatch("show:purchaseModal");
                  }.bind(this)
                );
            }.bind(this)
          ),
          this.$categories.find(".category").on("click", function () {
            e.carousel.goToSlide($(this).data("slide"));
          }),
          this.subscriptionButton.on("click", function (t) {
            t.preventDefault(),
              Helpers.GlobalEventTracker.planCTAClicked({
                session: Helpers.App.getTrackerId(),
                user_id: Helpers.App.getUser().id,
                plan_name: e._getPlan().name,
              }),
              e.dispatch("subscribe:button:clicked");
          }),
          (e._scopedCouponValidatedHandler =
            e._couponValidatedHandler.bind(this)),
          Helpers.CouponHelper.bind(
            "coupon.validated",
            e._scopedCouponValidatedHandler
          ),
          (e._scopedCouponRemovedHandler = e._couponRemovedHandler.bind(this)),
          Helpers.CouponHelper.bind(
            "coupon.removed",
            e._scopedCouponRemovedHandler
          ),
          this.$period.on("click", function (t) {
            var n = t.currentTarget;
            e.$period.attr("disabled") ||
              (e.$period.attr("disabled", !0),
              (e._activePlan = Registry.Plans.get(
                $(n).data("period") === e.PERIOD_ANNUAL
                  ? Registry.Plans.PLAN_ANNUAL
                  : Registry.Plans.PLAN_MONTHLY
              )),
              Helpers.GlobalEventTracker.planCTAClicked({
                session: Helpers.App.getTrackerId(),
                user_id: Helpers.App.getUser().id,
                plan_name: e._getPlan().name,
              }),
              sessionStorage.setItem("plan", $(n).data("period")),
              (e.period = $(n).data("period")),
              e.dispatch("subscribe:button:clicked"));
          });
      },
      render: function (e, t) {
        return (
          Widget.prototype.render.call(this, e, t),
          (this.elementParent = this.element.parent()),
          this
        );
      },
      _recalculateSize: function () {
        this.elementParent &&
        this.elementParent.width() <= this.COMPACT_BREAKPOINT
          ? this.element.addClass("compact")
          : this.element.removeClass("compact");
      },
      instantiateStoredBillingInfoOverlay: function () {
        void 0 === this.storedBillingInfoOverlay &&
          (this.appendChild(
            new UI.StoredBillingInfoOverlay({
              name: "storedBillingInfoOverlay",
            })
          ),
          this.storedBillingInfoOverlay
            .bind(
              "change-card",
              function (e) {
                this._showPaymentForm(e.data.recurlyData);
              }.bind(this)
            )
            .bind(
              "use-stored-card",
              function (e) {
                this._useStoredBillingInfo(e.data.recurlyData);
              }.bind(this)
            ));
      },
      subscribeButtonClick: function () {
        Helpers.App.isLoggedIn()
          ? this._handlePlanSubscribe()
          : (this.parent.deactivate && this.parent.deactivate(),
            Helpers.App.setSubscribeFromModal(this.type),
            this.dispatch("purchase.not_logged_in"));
      },
      hideFooter: function () {
        return this.footerElement.hide(), this;
      },
      _setPlan: function (e) {
        var t, n;
        (t = this),
          (t._activePlan = e),
          (n = Helpers.Price.plan(e)),
          n.price.then(function (e) {
            t._updateTaxRate(e),
              n.priceWithDiscount.then(function (e) {
                t._updateTaxRate(e);
              });
          });
      },
      _getPlan: function () {
        return this._activePlan || this.plans[0].planInfo;
      },
      _updateTaxRate: function (e) {
        var t = this;
        t._configureRecurly();
        var n = t.getTaxMessage(e);
        n.then(function (e) {
          t.taxInformation.text(e);
        })["catch"](function (e) {
          t.taxInformation.text(e);
        });
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        (e.fields = {
          all: {
            style: {
              fontSize: "16px",
              fontColor: "#555555",
              padding: "1px",
              placeholder: {
                color: "#55555 !important",
              },
            },
          },
          number: {
            selector: "#recurly-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          cvv: {
            selector: "#recurly-cvv",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          month: {
            selector: "#recurly-month",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          year: {
            selector: "#recurly-year",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          vat_number: {
            selector: "#recurly-vat-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
        }),
          recurly.configure(e);
      },
      _sign: function (e, t) {
        $.ajax({
          url: "/subscriptions/sign",
          type: "post",
          data: $.extend(!0, {}, e),
          dataType: "json",
          success: function (e) {
            t(e);
          },
        });
      },
      _showPaymentForm: function (e) {
        var t, n, i;
        (n = this.getEventTrackerName()),
          (i = EventTracker.info({
            type: n,
            data: {},
          })),
          (t = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyToPlan(e.plan_recurly_uuid) &&
            (t = Helpers.CouponHelper.getCode());
        var r = {
          ajaxUrl: "/subscriptions/{{token}}/transaction",
          ajaxParams: {
            plan_recurly_uuid: e.plan_recurly_uuid,
            coupon_code: t,
            eventData: i,
          },
        };
        $.extend(!0, e, r),
          this.purchaseOverlay && this.purchaseOverlay.destroy(),
          this.appendChild(
            new UI.PurchaseOverlay({
              name: "purchaseOverlay",
              purchaseRecord: e,
              paymentType: "subscription",
              discount: this.discount,
            })
          ),
          this.purchaseOverlay.bind(
            "purchase.failed",
            function (e) {
              if ("purchaseOverlay" !== e.target.name) {
                var t = this.constructor.TEXT_SUBSCRIPTION_ACTIVATION_ERROR;
                this.dispatch("subscription.failure", {
                  message: t,
                });
              }
            }.bind(this)
          ),
          this.purchaseOverlay
            .initSubscriptionForm()
            .render($("body"))
            .activate(),
          setTimeout(
            function () {
              this.$period.attr("disabled", !1);
            }.bind(this)
          );
      },
      _showStoredBillingInfo: function (e) {
        this.instantiateStoredBillingInfoOverlay(),
          this.storedBillingInfoOverlay.refresh(e),
          this.storedBillingInfoOverlay.activate(),
          this.$period.attr("disabled", !1);
      },
      _handleSubscriptionSuccess: function (e) {
        Helpers.App._getPurchases(
          function () {
            var t;
            window.page.appNavBar.updateStatus();
            var n = {};
            (n.message = this.constructor.TEXT_SUBSCRIPTION_SUCCESS),
              this.dispatch("subscription.success", n),
              (t = this.getEventTrackerName()),
              Helpers.GlobalEventTracker.subscriptionSuccess({
                plan_name: Helpers.App.getSubscription().plan.name,
                plan_recurly_uuid:
                  Helpers.App.getSubscription().plan.recurly_uuid,
                amount_in_cents:
                  Helpers.App.getSubscription().plan.amount_in_cents,
                user_id: Helpers.App.getUser().id,
                event: t,
                invoice_number: e.data.invoice_number,
              });
          }.bind(this)
        );
      },
      _handlePlanSubscribe: function () {
        var e,
          t = this;
        switch (sessionStorage.getItem("plan")) {
          case this.PERIOD_MONTHLY:
            e = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY);
            break;
          case this.PERIOD_ANNUAL:
            e = Registry.Plans.get(Registry.Plans.PLAN_ANNUAL);
            break;
          default:
            this.setPeriod(this.PERIOD_MONTHLY, !0);
        }
        t.signRequestWithRecurly(e, t.discount, function (e) {
          t.parent.deactivate && t.parent.deactivate();
          var n =
            e.billing_info.lastFour || e.billing_info.paypalBillingAgreementId;
          n
            ? t._showStoredBillingInfo(e)
            : (Helpers.GlobalEventTracker.recurlyFormAfterPlanSelected({
                plan_code: e.plan_code,
                amount_in_cents: e.amount_in_cents,
                description: e.description,
              }),
              t._showPaymentForm(e));
        });
      },
      _renderCategories: function () {
        var e = "",
          t = 0;
        this.carouselData.forEach(function (n) {
          (e +=
            '<div class="category" data-category="' +
            n.id +
            '" data-slide="' +
            t +
            '">'),
            (e += '<div class="title">' + n.title + "</div>"),
            (e += '<div class="subtitle">' + n.subtitle + "</div>"),
            (e += "</div>"),
            (t += n.features.length);
        }),
          this.$categories.html(e);
      },
      _renderFeatures: function (e) {
        var t,
          n,
          i,
          r = this;
        this.carousel ||
          (e || (e = 0),
          (this.currentFeature = e),
          (t = '<div class="carousel">'),
          this.carouselData.forEach(function (e) {
            e.features.forEach(function (s, o) {
              switch (
                ((i = !1),
                (n = "feature carousel-item"),
                s.preview === !0 && (n += " preview"),
                s.highlight === !0 && (i = !0),
                (t +=
                  '<div class="' +
                  n +
                  '" data-category="' +
                  e.id +
                  '" data-feature="' +
                  o +
                  '" data-type="' +
                  s.type +
                  '" data-highlight="' +
                  i +
                  '">'),
                s.type)
              ) {
                case "image":
                  t +=
                    '<div class="feature-image"><img src="' +
                    s.src +
                    '" /></div>';
                  break;
                case "video":
                  (t += '<div class="feature-video">'),
                    s.preview === !0 &&
                      (t += '<div class="preview-wrapper"></div>'),
                    (t +=
                      '<img class="video-loader" src="./assets/loaders/circular.gif" alt="Loading..." />'),
                    (t +=
                      '<video data-status="waiting" data-mp4="' +
                      s.mp4 +
                      '" data-webm="' +
                      s.webm +
                      '" class="not-loaded" autoplay="" controlslist="nodownload" loop="" muted="muted" playsinline>'),
                    (t += "</video>"),
                    s.hasOwnProperty("videoOverlay") &&
                      (t +=
                        '<img class="feature-video-overlay" src="' +
                        s.videoOverlay +
                        '" class="feature-overlay">'),
                    (t += "</div>");
              }
              s.hasOwnProperty("content") &&
                (s.content.includes("{{mockupsStagesCount}}") &&
                  (s.content = r._setMockupsStagesCount(s.content)),
                (t += '<div class="feature-content">' + s.content + "</div>")),
                (t += "</div>");
            });
          }),
          (t += "</div>"),
          (this.carousel = new UI.SimpleSlider({
            name: "carousel",
            content: t,
          }).render(this.$carouselWrapper)),
          this.carousel.bind("carousel.afterChange", function (e) {
            var t = e.data;
            (r.currentFeature = t.feature), r._selectCategory(t.category);
          }),
          this._loadVideo(),
          this.playCurrentVideo(),
          this._renderDots());
      },
      _setMockupsStagesCount: function (e) {
        var t =
            this.mockupsStagesCount || this.constructor.MOCKUPS_FALLBACK_COUNT,
          n = 100 * Math.floor(t / 100),
          i = n.toLocaleString();
        return e.replace("{{mockupsStagesCount}}", i);
      },
      _renderDots: function () {
        var e,
          t,
          n,
          i,
          r,
          s = this.currentCategory,
          o = this.currentFeature;
        (r = this.element.find(
          '.feature[data-category="' + s + '"]:not(.slick-cloned)'
        )),
          this.element.find(".carousel-wrapper .carousel-dots").remove(),
          r.length &&
            ((e = '<ul class="carousel-dots">'),
            r.each(function () {
              (n = $(this).attr("slide-num")),
                (i = $(this).data("feature")),
                (t = !1),
                i === o && (t = !0),
                (e +=
                  '<li><button data-slide="' +
                  n +
                  '" class="' +
                  (t ? "active" : "") +
                  '">' +
                  n +
                  "</button></li>");
            }),
            (e += "</ul>"),
            this.element.find(".carousel-wrapper").append(e),
            this.element.find(".carousel-dots button").on(
              "click",
              function (e) {
                e.preventDefault(),
                  this.carousel.goToSlide($(e.target).data("slide"));
              }.bind(this)
            ));
      },
      _loadVideo: function (e) {
        var t, n, i;
        if (
          ((t = e
            ? this.element.find(
                ".carousel .slick-slide[data-slick-index=" + e + "] video"
              )
            : this.element
                .find('.carousel .carousel-item video[data-status="waiting"]')
                .eq(0)),
          (i = $("source", t)),
          t.length)
        )
          if (((n = t.get(0)), i.length))
            4 !== n.readyState && n.load(), this.playVideo(n);
          else if ("waiting" === t.data("status")) {
            t.append('<source src="' + t.data("webm") + '" type="video/webm">'),
              t.append('<source src="' + t.data("mp4") + '" type="video/mp4">'),
              t.attr("data-status", "loading"),
              (n = t.get(0));
            var r = function (e) {
              $(e.target).attr("data-status", "loaded"),
                $(e.target).siblings(".video-loader").remove(),
                $(e.target).removeClass("not-loaded"),
                this._loadVideo(),
                n.removeEventListener("canplay", r);
            }.bind(this);
            this._canplayHandler.push(r), n.addEventListener("canplay", r);
          }
      },
      show: function (e) {
        var t, n;
        this.$period.attr("disabled", !1),
          (n = this.PERIOD_MONTHLY),
          this.setPeriod(n, !0),
          this._renderFeatures(),
          (t = this.getCategoryID(e)),
          this._selectCategory(t),
          this.carousel.goToSlide(this.currentCategoryFirstSlide),
          this.setPreview(),
          this._recalculateSize(),
          (this._resizeHandler = this._recalculateSize.bind(this)),
          window.addEventListener("resize", this._resizeHandler),
          this.element.addClass("show");
      },
      hide: function () {
        this.element.removeAttr("style"),
          this.element.removeClass("show"),
          this._removeVideos(),
          this.carousel && this.carousel.destroy(),
          (this.carousel = null),
          window.removeEventListener("resize", this._resizeHandler);
      },
      _selectCategory: function (e) {
        var t, n;
        (t = 0),
          (n = 0),
          (this.currentCategory = e),
          this.$categories.find(".category").removeClass("active"),
          this.$categories
            .find('.category[data-category="' + e + '"]')
            .addClass("active"),
          this.carouselData.forEach(function (i) {
            i.id === e ? (t = n) : (n += i.features.length);
          }),
          (this.currentCategoryFirstSlide = t),
          this._renderDots();
      },
      setPreview: function (e) {
        var t, n, i, r;
        if (
          ((t = this.$contentWrapper.find(".preview-wrapper")), (r = this), e)
        )
          this.preview = e;
        else {
          if (!this.preview) return;
          e = this.preview;
        }
        if (t.length) {
          (n = t.find("video")),
            n.length &&
              (t.removeClass("play"),
              t.find(".video-control-wrapper").removeClass("play"),
              n.get(0).load()),
            "image" === e.type
              ? (t.find("img").remove(), (i = '<img src="' + e.source + '" />'))
              : "video" === e.type &&
                (t.find("video").remove(),
                t.find(".video-control").remove(),
                (i =
                  '<div class="video-control-wrapper"><div class="video-control"></div></div>'),
                (i +=
                  '<div class="video-wrapper"><video class="not-loaded" controlslist="nodownload" muted="muted" playsinline>'),
                (i +=
                  '<source src="' +
                  e.source +
                  '" type="video/mp4" muted playsinline>'),
                (i += "</video></div>")),
            this.element.addClass("preview-" + e.type),
            t.html(i);
          var s = t.find(".video-wrapper video"),
            o = t.find(".video-wrapper"),
            a = t.find(".video-control-wrapper");
          "video" === e.type &&
            (setTimeout(function () {
              s[0].load(),
                s.removeClass("not-loaded"),
                r.playVideo(s[0]),
                s[0].pause();
            }, 1),
            (r._previewVideo = new UI.KeyframeVideoPresenter(s, e.keytime))),
            a.on("click", function () {
              r._previewVideo.isPlaying() ||
                (r._previewVideo.play(),
                t.addClass("play"),
                a.addClass("play"));
            }),
            o.click(function () {
              r._previewVideo.isPlaying() &&
                (r._previewVideo.pause(),
                t.removeClass("play"),
                a.removeClass("play"));
            }),
            s.on("ended", function () {
              n.load(), t.removeClass("play"), a.removeClass("play");
            });
        }
      },
      getCategoryID: function (e) {
        var t;
        switch ((e || (e = window._pl_category), e)) {
          case "Mockup":
          case "Mockups":
            t = "mockups";
            break;
          case "Design":
          case "Design Templates":
            t = "designs";
            break;
          case "Logo":
          case "Logos":
            t = "logos";
            break;
          case "Video":
          case "Videos":
            t = "videos";
            break;
          default:
            t = "mockups";
        }
        return t;
      },
      playCurrentVideo: function () {
        var e = this.element.find(".feature.slick-active .feature-video video");
        e.length > 0 &&
          ((e = e.get(0)), 4 !== e.readyState && e.load(), this.playVideo(e));
      },
      playVideo: function (e) {
        var t = e.play();
        void 0 !== t && t.then(function () {})["catch"](function () {});
      },
      destroy: function () {
        window.removeEventListener("resize", this._resizeHandler),
          this._removeVideos(),
          Helpers.CouponHelper.unbind(
            "coupon.validated",
            this._scopedCouponValidatedHandler
          ),
          Helpers.CouponHelper.unbind(
            "coupon.removed",
            this._scopedCouponRemovedHandler
          ),
          this.genericDestroy();
      },
      setPeriod: function (e, t) {
        var n, i;
        switch (
          ((this.period = e),
          this.$periodPrice.text(""),
          this.$periodSave.text(""),
          this.element.removeClass("period-monthly"),
          this.element.removeClass("period-annual"),
          this.element.find(".period-wrapper .period").removeClass("checked"),
          this.element.addClass("period-" + this.period),
          (n = this.element.find(
            '.period-wrapper .period[data-period="' + this.period + '"]'
          )),
          n.length && n.addClass("checked"),
          e)
        ) {
          case this.PERIOD_MONTHLY:
            (i = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY)),
              t ||
                Helpers.GlobalEventTracker.subscriptionPlanSelected({
                  old: this.PERIOD_ANNUAL,
                  new: this.PERIOD_MONTHLY,
                  place: this.getPlaceNameFromType(),
                });
            break;
          case this.PERIOD_ANNUAL:
            (i = Registry.Plans.get(Registry.Plans.PLAN_ANNUAL)),
              t ||
                Helpers.GlobalEventTracker.subscriptionPlanSelected({
                  old: this.PERIOD_MONTHLY,
                  new: this.PERIOD_ANNUAL,
                  place: this.getPlaceNameFromType(),
                });
            break;
          default:
            this.setPeriod(this.PERIOD_MONTHLY, !0);
        }
        i && this._setPlan(i);
      },
      getPlaceNameFromType: function () {
        switch (this.type) {
          case "modal":
            return "subscription_modal";
          case "compare":
            return "purchase_modal";
          default:
            return "account_page";
        }
      },
      getEventTrackerName: function () {
        var e;
        switch (((e = "Subscription:success:"), this.period)) {
          case this.PERIOD_MONTHLY:
            e += "Unlimited";
            break;
          case this.PERIOD_ANNUAL:
            e += "Unlimited:Annual";
        }
        return e;
      },
      activate: function () {
        return Widget.prototype.activate.call(this), this.show(), this;
      },
      _removeVideos: function () {
        var e, t;
        this._canplayHandler.forEach(function (e) {
          window.removeEventListener("canplay", e);
        }),
          (this._canplayHandler = []),
          (e = this.element.find("video")),
          e.each(function (e, n) {
            n.remove(), (t = n.getElementsByTagName("source"));
            for (var i = 0; i < t.length; i++) t[i].src = "";
            n.load();
          }),
          e.remove();
      },
      showAnimate: function () {
        this.show(),
          this.element.css({
            opacity: 0,
            position: "relative",
            top: "-" + this.element.innerHeight() + "px",
          }),
          this.element.animate({
            opacity: 1,
            top: 0,
          });
      },
      _renderPlanButtons: function () {
        this._renderPlanButton(Registry.Plans.PLAN_MONTHLY),
          this._renderPlanButton(Registry.Plans.PLAN_ANNUAL);
      },
      _couponValidatedHandler: function () {
        var e, t;
        (e = this),
          (t = Helpers.App.getSubscriptionPeriod()),
          e.setPeriod(t, !0),
          e._renderPlanButtons();
      },
      _couponRemovedHandler: function () {
        this._renderPlanButtons();
      },
      setTitle: function (e) {
        (this.title = e ? e : this.constructor.TEXT_TITLE),
          this.$title.html(this.title);
      },
    },
  }),
  Class(UI, "SubscriptionsPlan").inherits(Widget)({
    elementClass: "plan-widget plan-widget__column pi__column",
    html: '        <div>            <div class="plan-widget__container">                <div class="plan-widget__option-container text-center">                    <input type="radio" name="subscriptions-plan-partial">                </div>                <p class="plan-widget__title pi__heading-title">                    <strong>{{name}}</strong>                </p>                <div class="pi__divider"></div>                <div class="plan-widget__price-container text-center">                    <p class="plan-widget__current-plan-info bree-oblique">Your current plan</p>                    <span class="plan-widget__price">                        <span class="money-symbol">$</span>                        <span class="amount">{{amount}}</span>/month                    </span>                </div>                <div class="pi__divider"></div>                <div class="plan-widget__description">                    <div class="plan-widget__current-plan-info pi__column-text">                        <p class="strong">Need more downloads?</p>                        <p>Upgrade now and unused downloads will be rolled over to the new plan.</p>                    </div>                    <div class="plan-widget__forbid-downgrade pi__column-text">                        <p class="strong">You can\'t downgrade yet...</p>                        <p id="cancellation_info">You can downgrade your subscription on {{cancellation_date}} since subscriptions require a 3 month minimum.</p>                    </div>                    <div class="plan-widget__description-text pi__column-text"></div>                    <div class="plan-widget__description-mobile-container">                        <button class="mobile-description-collapse btn btn-primary" type="button" data-toggle="collapse">                            See Features                        </button>                        <div class="plan-widget__description-text-mobile pi__column-text-mobile collapse"></div>                        <hr>                    </div>                </div>            </div>        </div>',
    prototype: {
      el: null,
      radio: null,
      nameEl: null,
      amountEl: null,
      descriptionEl: null,
      descriptionElMobile: null,
      descriptionMobileCollapseButton: null,
      cancellationInfo: null,
      licenseLink: null,
      planInfo: null,
      _disabled: null,
      _forbidden: !1,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this._disabled = !1),
          (this.el = this.element[0]),
          (this.radio = this.el.querySelector('input[type="radio"]')),
          (this.nameEl = this.el.querySelector(".plan-widget__title strong")),
          (this.amountEl = this.el.querySelector(
            ".plan-widget__price .amount"
          )),
          (this.descriptionEl = this.el.querySelector(
            ".plan-widget__description-text"
          )),
          (this.descriptionElMobile = this.el.querySelector(
            ".plan-widget__description-text-mobile"
          )),
          (this.descriptionMobileCollapseButton = this.el.querySelector(
            ".mobile-description-collapse"
          )),
          (this.cancellationInfo = this.el.querySelector("#cancellation_info")),
          (this.description = this.el.querySelector(
            ".plan-widget__description"
          )),
          this._updateInformation(),
          this._bindEvents();
      },
      _updateInformation: function () {
        var e, t, n, i, r;
        for (
          this.el.setAttribute("data-plan", this.planInfo.recurly_uuid),
            this.el.classList.add(
              "subscription--plan_" +
                this.planInfo.name.replace(/\s/g, "_").toLowerCase()
            ),
            this.radio.setAttribute("value", this.planInfo.id),
            this.radio.setAttribute("id", "plan-" + this.planInfo.id),
            this.radio.setAttribute("data-name", this.planInfo.name),
            this.radio.setAttribute(
              "data-price",
              this.planInfo.amount_in_cents
            ),
            this.radio.setAttribute("data-plan", this.planInfo.recurly_uuid),
            this.descriptionElMobile.id =
              "collapse-mobile-description-" + this.planInfo.id,
            this.descriptionMobileCollapseButton.setAttribute(
              "data-target",
              "#collapse-mobile-description-" + this.planInfo.id
            ),
            this.nameEl.textContent = this.planInfo.name,
            this.amountEl.textContent = this.planInfo.amount_in_cents / 100,
            e = document.createElement("div"),
            n = this.planInfo.description.split(/\n/),
            i = n.length,
            r = 0;
          i > r;
          r++
        ) {
          var s = document.createElement("p");
          (s.innerHTML = n[r]), e.appendChild(s);
        }
        (t = e.cloneNode(!0)),
          this.descriptionEl.appendChild(e),
          (this.licenseLink = this.descriptionEl.querySelectorAll(
            ".js-open-license-modal"
          )),
          (this.popupableLink = $(this.descriptionEl.querySelector("a")));
        var o = this;
        this.popup = this.popupableLink
          .popover({
            content: o.popupableLink.attr("data-tooltip-text"),
            html: !0,
            selector: ".bubble",
            trigger: "manual",
            placement: "bottom",
          })
          .bind("mouseenter", function () {
            o.popupableLink.popover("show");
          })
          .bind("mouseleave", function () {
            o.popupableLink.popover("hide");
          });
      },
      _bindEvents: function () {
        return (
          $(this.radio).on(
            "change",
            function () {
              this.constructor.dispatch("radio:changed", this);
            }.bind(this)
          ),
          this.element.on(
            "click",
            function () {
              this._forbidden === !1 &&
                this.constructor.dispatch("plan:row:clicked", this);
            }.bind(this)
          ),
          $(this.licenseLink).on("click", function () {
            var e = new UI.LicenseModal(),
              t = this.getAttribute("data-license");
            return e.activateLicense(t).activate(), !1;
          }),
          this
        );
      },
      select: function () {
        return (
          this._forbidden === !1 &&
            ((this.radio.checked = !0), this.el.classList.add("selected")),
          this
        );
      },
      deselect: function () {
        return (
          (this.radio.checked = !1), this.el.classList.remove("selected"), this
        );
      },
      isSelected: function () {
        return this.radio.checked;
      },
      disable: function () {
        return this.el.classList.add("disabled"), (this._disabled = !0), this;
      },
      setAsForbidden: function () {
        var e = this.cancellationInfo.innerHTML,
          t = Helpers.App.getSubscription();
        return (
          this.el.classList.add("forbidden"),
          (this._forbidden = !0),
          (this.radio.disabled = !0),
          (this.cancellationInfo.innerHTML = e.replace(
            "{{cancellation_date}}",
            t.cancellation_date
          )),
          this
        );
      },
      setPaused: function () {
        var e =
          "<div class='pi__column-text'><p>If you'd like to upgrade or downgrade your account while it's paused, please email <a href='mailto:hi@placeit.net'>hi@placeit.net</a></p></div>";
        (this.description.innerHTML = e),
          this.el.classList.add("forbidden"),
          (this._forbidden = !0),
          (this.radio.disabled = !0);
      },
      isDisabled: function () {
        return this._disabled;
      },
      destroy: function () {
        (this.el = null),
          (this.radio = null),
          (this.nameEl = null),
          (this.amountEl = null),
          (this.descriptionEl = null),
          (this.licenseLink = null),
          (this.planInfo = null),
          (this._disabled = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class("PerformanceTimeMonitor")({
    prototype: {
      domInteractive: null,
      domContentLoadedEventEnd: null,
      domComplete: null,
      loadEventEnd: null,
      firstPaint: null,
      firstContentPaint: null,
      supported: !0,
      init: function () {
        var e = null,
          t = null,
          n = null;
        window.performance && window.performance.timing
          ? ((e = window.performance.timing),
            (t = e.navigationStart),
            (n = this._showPaintTimings()),
            (this.domInteractive = this._round(e.domInteractive - t)),
            (this.domContentLoadedEventEnd = this._round(
              e.domContentLoadedEventEnd - t
            )),
            (this.domComplete = this._round(e.domComplete - t)),
            (this.loadEventEnd = this._round(e.loadEventEnd - t)),
            n && n.firstPaint && (this.firstPaint = this._round(n.firstPaint)),
            n &&
              n.firstContentPaint &&
              (this.firstContentPaint = this._round(n.firstContentPaint)))
          : (console.log("Performance timing isn't supported."),
            (this.supported = !1));
      },
      _round: function (e) {
        return "number" == typeof e ? Math.round(e) : e;
      },
      _showPaintTimings: function () {
        var e = {
            firstPaint: null,
            firstContentPaint: null,
          },
          t = window.performance;
        if (t && "function" == typeof t.getEntriesByName) {
          var n = t.getEntriesByName("first-paint")[0];
          n && n.startTime && (e.firstPaint = n.startTime);
          var i = t.getEntriesByName("first-contentful-paint")[0];
          return i && i.startTime && (e.firstContentPaint = i.startTime), e;
        }
        return e;
      },
    },
  }),
  Class("PerformanceLogger")({
    sendTimings: function (e) {
      var t = [];
      t.push({
        name: "DOM Interactive",
        time: e.domInteractive,
      }),
        t.push({
          name: "DOM Content Loaded Event End",
          time: e.domContentLoadedEventEnd,
        }),
        t.push({
          name: "DOM Complete",
          time: e.domComplete,
        }),
        t.push({
          name: "Load Event End",
          time: e.loadEventEnd,
        }),
        t.push({
          name: "First Paint",
          time: e.firstPaint,
        }),
        t.push({
          name: "First Content Paint",
          time: e.firstContentPaint,
        }),
        t.forEach(
          function (e) {
            this.sendEventToGoogleAnalytics({
              hitType: "timing",
              timingCategory: e.name,
              timingVar: "load",
              timingValue: e.time,
            });
          }.bind(this)
        );
    },
    sendEventToGoogleAnalytics: function (e) {
      return "function" != typeof window.ga
        ? this
        : ("number" != typeof e.timingValue && (e.timingValue = 0),
          window.ga("send", {
            hitType: e.hitType,
            timingCategory: e.timingCategory,
            timingVar: e.timingVar,
            timingValue: e.timingValue,
          }),
          this);
    },
  }),
  Class(UI, "LicenseModal").inherits(Widget)({
    html: '<div class="modal license-modal full-page-modal fade" id="license-modal" tabindex="-1" role="dialog" aria-labelledby="license-modal" aria-hidden="true">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>            </div>            <div class="modal-body">                <div class="row-wrapper">                    <div class="col-aggreaments">                        <!-- Tab panes -->                        <div class="tab-content">                            <div class="tab-pane active" id="standard">                                <div class="description-wrapper scroll">                                    <h3 class="sub-title">The Placeit License Agreement</h3>                                    <p>This Placeit License Agreement (\u2018License\u2019) contains the terms by which you obtain the rights to Content Templates produced through the technology available at <a href="https://placeit.net">placeit.net</a>.</p>                                    <p>By downloading or using any Content Templates, you agree that you have read and accept the terms of this License, either for yourself or on behalf of your employer or the entity that is identified as the member account holder. Please note that any capitalized terms not otherwise defined in this License, are defined in the <a href="https://blog.placeit.net/terms-of-use/"  target="_blank">Placeit Terms of Use</a>.</p>                                    <p class="pl30">We grant you an ongoing, non-exclusive, worldwide license to make use of Content Templates as described below.</p>                                    <h4>What can I do?</h4>                                    <ol>                                        <li>You can modify or manipulate the Content Template with the functionality provided on the Placeit Service, including to combine the Content Template with other works (including Your Content) to create what we refer to as the Customized Product. The <strong>Customized Product</strong> is subject to the terms of this license.</li>                                        <li>You can modify or manipulate the Customized Product and combine the Customized Product with other works, and by applying your skill and effort, create something that is larger in scope and different in nature than the Customized Product. We call this the <strong>\u2018End Product\u2019</strong>. The End Product is also subject to the terms of this license. Together or separately, we refer to Customized Products and End Products as <strong>\u2018Product(s)\u2019</strong>.</li>                                        <li><i>Examples of End Products: publications, signage, packaging, websites, games, apps, presentations, online videos, films, TV shows, advertisements, posters, t-shirts and other merchandise.</i></li>                                        <li>You are permitted to communicate Products to the public, broadcast, display, distribute and reproduce them in any and all media for all uses, subject to the terms and restrictions in this License.</li>                                        <li>You can create Products for a client, and this license is then transferred from you to your client. Your client will be bound by the terms of this License.</li>                                        <li>You can use Products for a commercial purpose, Sell the End Product, and make any number of copies of the Products.</li>                                        <li><i>When we say \u201cSell\u201d, we mean sell, sub-license or distribute for any type of fee or charge.</i></li>                                        <li>You can use the Customized Product for merchandising, which means an End Product where the primary value of the product lies in the Customized Product itself.</li>                                        <li>You can make any number of End Products based upon a single Customized Product.</li>                                        <li>You may use a Product as part of a stylized/design trademark (also known as a \u201cdesign mark\u201d), provided that you have added a standard character trademark (also known as a \u201cword mark\u201d) to it. However, we don\u2019t warrant that you will be able to obtain trademark protection in any country for any mark that you apply for on the basis of a Content Template (including as customized). This is because the Content Templates are made available to all of our users on a non-exclusive basis, and it\u2019s quite possible that more than one user could legitimately use a Content Template to make the same (or a very similar) logo!</li>                                    </ol>                                    <h4>What can\u2019t I do?</h4>                                    <ol>                                        <li>You can\u2019t re-distribute a Content Template as stock, in a tool or template, whether the Content Template is part of a Customized Product or not. You can\u2019t re-distribute or make available a Content Template or Customized Product as-is or with superficial modifications.</li>                                        <li><i>For example, you can\u2019t allow end users to customize and print their own merchandise using the Customized Product via an online service, or sell copies of the Customized Product as part of a stock item or template.</i></li>                                        <li>You can\u2019t make available the Content Template through an application or service to end users on an \u201con demand\u201d, stock or inventory, \u201cmade to order\u201d or \u201cbuild it yourself\u201d basis.</li>                                    </ol>                                    <h4>The small print. Other license terms</h4>                                    <ol>                                        <li>You can only use the Content Templates and Products for lawful purposes. You can only use the Content Template and Products in accordance with our <a href="https://themeforest.net/legal/acceptable_use_policy"  target="_blank">Acceptable Use Policy</a>.</li>                                        <li>If a Product contains an image of a person, even if the Content Template is model-released, you can\u2019t use it in a way that creates a fake identity, implies personal endorsement of a product by the person, or in a way that is defamatory, obscene or demeaning, or in connection with sensitive subjects.</li>                                        <li>We reserve all rights not expressly granted herein. This means that any use of the Content Template is to be in accordance with the provisions of this License. You retain ownership of material that you upload to the Placeit Service (such as photos, images or plain text words).</li>                                        <li><strong>Important Note:</strong> Certain components of the Content Template will be sourced from a third party and different license terms or other limitations may apply to such components, such as someone else\u2019s license or an open source or creative commons license. That other license will apply to that other component. This License will apply to the rest of the Content Template, or Product as applicable. The notices required by those licenses are available <a href="https://blog.placeit.net/font-notices/"  target="_blank">here</a>. The Placeit Service uses images, trademarks, brands and names of third party products that have not been cleared for use by you. Intellectual property rights in relation to those products (including registered trademarks) belong to their respective owners. We are not affiliated or associated with, or authorised or endorsed by, the owners of the products. It is your responsibility to evaluate whether your use of these Items requires the permission of those third parties and if so, to obtain that permission.</li>                                        <li>This License can be terminated if you breach it. If that happens, you must stop making copies of or distributing the Customized Product and End Product until you remove the Content Template components from it. This license can also be terminated only in relation to the Customized Products and End Products to which a breach relates (rather than all products).</li>                                    </ol>                                    <p>Please contact <a href="mailto:support@placeit.net">Support@placeit.net</a> for additional questions.</p>                                </div>                            </div>                        </div><!-- tab panes -->                    </div><!-- col-aggreaments -->                </div><!-- row-wrapper -->            </div><!-- modal-body -->        </div><!-- modal-content -->    </div><!-- modal-dialog --></div>',
    prototype: {
      $colA: null,
      $tabs: null,
      $innerLinks: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$colA = this.element.find(".col-aggreaments")),
          (this.$tabs = this.$colA.find(".nav-tabs")),
          (this.$innerLinks = this.element.find(
            '[data-target="#license-modal"]'
          )),
          this._bindEvents();
      },
      _bindEvents: function () {
        return (
          this.element.on(
            "show.bs.modal",
            function (e) {
              e.relatedTarget &&
                (e.relatedTarget.getAttribute("data-license")
                  ? this.activateLicense(
                      e.relatedTarget.getAttribute("data-license")
                    )
                  : this.activateLicense());
            }.bind(this)
          ),
          this.element.on(
            "hidden.bs.modal",
            function () {
              this.element.data("modal", null), this.destroy();
            }.bind(this)
          ),
          this.$innerLinks.on(
            "click",
            function (e) {
              var t = e.target.getAttribute("data-license");
              return t && this.activateLicense(t), !1;
            }.bind(this)
          ),
          $('a[data-toggle="tab"]', this.$colA).on(
            "click",
            function (e) {
              this.activateLicense(e.target.className);
            }.bind(this)
          ),
          this
        );
      },
      _defaultState: function () {
        return this.$tabs.find('a[href="#default"]').tab("show"), this;
      },
      activateLicense: function (e) {
        return (
          e
            ? this.$tabs.find('a[href="#' + e + '"]').tab("show")
            : this._defaultState(),
          this
        );
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this), this.element.modal("show"), this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.element.modal("hide"),
          this
        );
      },
      destroy: function () {
        (this.$tabs = null),
          (this.$innerLinks = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "FriendlyLicenseModal").inherits(Widget)({
    html: '        <div class="modal friendly-license-modal fade" id="friendly-license-modal" tabindex="-1" role="dialog" aria-labelledby="friendly-license-modal" aria-hidden="true">            <div class="modal-dialog">                <div class="modal-header">                    <button type="button" class="close -font-regular" data-dismiss="modal" aria-label="Close">                        <span aria-hidden="true">&times;</span>                    </button>                </div>                <div class="modal-content">                    <div class="modal-body">                        <p class="friendly-license-modal_intro-text">This human-readable summary of our license terms is provided for your convenience only. It is not a legally binding document and is not a substitute for the <a href="#license">Placeit license</a>.<br> Please ensure you read the real license carefully.</p>                        <h1 class="-font-black">You Can</h1>                        <div class="row">                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/for-your-final-design.svg" />                                </div>                                <p>You can use Placeit to <strong>add</strong>, alter and <strong>modify</strong> content to make a final design.</p>                            </div>                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/display-your-design.svg" />                                </div>                                <p>You can <strong>publish, broadcast, display</strong> and distribute the content you create with Placeit.</p>                            </div>                        </div>                        <div class="row">                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/sell-your-design.svg" />                                </div>                                <p>You\u2019re free to create content for a client and <strong>sell for a fee</strong>.</p>                            </div>                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/put-your-design-anywhere.svg" />                                </div>                                <p>You can <strong>put your final design on any kind of product</strong> and then sell those products.</p>                            </div>                        </div>                        <div class="row">                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/register-your-design.svg" />                                </div>                                <p>You can apply to register <strong>trademarks</strong> with the designs and logos you make.</p>                            </div>                        </div>                        <h1 class="-font-black">You Can\u2019t</h1>                        <div class="row">                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/dont-distribute-it.svg" />                                </div>                                <p>You can\u2019t take Placeit\u2019s content and distribute it as part of a design tool, stock images or templates.</p>                            </div>                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/dont-replicate-it.svg" />                                </div>                                <p>You can\u2019t take Placeit\u2019s content and use it to make your own version of Placeit.</p>                            </div>                        </div>                        <div class="row">                            <div class="col-sm-6 flex flex-center">                                <div class="friendly-license-modal_image-wrapper">                                    <img src="./assets/license/dont-fake-it.svg" />                                </div>                                <p>You can\u2019t use a final product that contains an image of a person or third party brands in a way that is derogatory or implies endorsement by them</p>                            </div>                        </div>                        <p class="fine-print">                            <a href="#license">Ok, but I still want to read the fine print</a>                        </p>                    </div>                </div>            </div>        </div>    ',
    prototype: {
      $licenseLinks: null,
      _onLicenseModalClick: null,
      _onHiddenModal: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$licenseLinks = this.element.find('[href="#license"]')),
          (this._onLicenseModalClick = this._onLicenseModalClick.bind(this)),
          (this._onHiddenModal = this.destroy.bind(this)),
          this._bindEvents();
      },
      _bindEvents: function () {
        return (
          this.$licenseLinks.on("click", this._onLicenseModalClick),
          this.element.on("hidden.bs.modal", this._onHiddenModal),
          this
        );
      },
      _onLicenseModalClick: function (e) {
        return (
          e.preventDefault(),
          e.stopPropagation(),
          this.deactivate(),
          new UI.LicenseModal().activate(),
          this
        );
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this), this.element.modal("show"), this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.element.modal("hide"),
          this
        );
      },
      destroy: function () {
        this.$licenseLinks.off("click", this._onLicenseModalClick),
          this.element.data("modal", null),
          (this.$licenseLinks = null),
          (this._onLicenseModalClick = null),
          (this._onHiddenModal = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "SubscribeMailingModal").inherits(Widget)({
    html: '    <div class="modal fade" id="subscribeMailingModal" tabindex="-1" role="dialog" aria-labelledby="subscribeMailingModal" aria-hidden="true">      <div class="modal-dialog modal-sm">        <div class="modal-content">          <div class="modal-header">            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>            <h4 class="main-title">Get Notified When We Add New Templates!</h4>            <div class="secondary-title">We\'ll send you an email once a month with our latest templates and discounts!</div>          </div>          <div class="modal-body text-center">            <button class="button primary main-actions confirm">Subscribe</button>            <button class="button link tertiary main-actions decline">No Thanks</button>            <div class="text-mute">You can also edit this setting in your account.</div>          </div>        </div>      </div>    </div>',
    prototype: {
      confirmBtn: null,
      declineBtn: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.confirmBtn = this.element.find(".confirm")),
          (this.declineBtn = this.element.find(".decline")),
          this.bindEvents();
      },
      bindEvents: function () {
        this.confirmBtn.on(
          "click",
          function () {
            var e = {
              placeit_promotion_notifications: !0,
            };
            Helpers.App.updateEmailNotifications(e), this.deactivate();
          }.bind(this)
        ),
          this.declineBtn.on("click", this.deactivate.bind(this)),
          this.element.on(
            "hidden.bs.modal",
            function () {
              this.deactivate().destroy();
            }.bind(this)
          );
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this),
          this.element.appendTo(document.body),
          this.element.modal("show"),
          this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.element.detach(),
          this.element.modal("hide"),
          this
        );
      },
      destroy: function () {
        (this.confirmBtn = null),
          (this.declineBtn = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "StoredBillingInfoOverlay").inherits(Widget)({
    html: '        <div class="modal stored-card-overlay fade" tabindex="-1" role="dialog" aria-labelledby="storedBillingInfoOverlayLabel" aria-hidden="true">          <div class="modal-dialog">            <div class="modal-content">                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>              <div class="modal-header">                <h4>Payment</h4>              </div>              <div class="modal-body">                <div id="stored-card">                  <div class="form-group row card-info-title">                    <div class="col-xs-6">Credit Card</div>                    <div class="col-xs-6">Last Four Digits</div>                  </div>                  <div class="form-group row card-info">                    <div class="card-type col-xs-6"></div>                    <div class="card-last-four col-xs-6" data-hj-suppress></div>                  </div>                </div>                <div class="form-grop actions">                  <div class="actions-wrapper">                    <a href="#" class="button primary use-stored">Use this Card</a>                    <span class="cta-divider-text">or</span>                    <a href="#" class="change-card">Enter Another</a>                  </div>                  <div class="processing-message">                    Your transaction is being processed...                  </div>                </div>              </div>            </div>          </div>        </div>    ',
    prototype: {
      elementId: null,
      storedCardTypeElement: null,
      storedCardLastFourElement: null,
      useStoredBillingInfoElement: null,
      changeCardElement: null,
      actionsWrapperElement: null,
      processingMessageElement: null,
      recurlyData: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.elementId = Math.random().toString(36).substring(5)),
          this.element[0].setAttribute(
            "id",
            "storedBillingInfoOverlay-" + this.elementId
          ),
          (this.storedCardContainer = this.element.find("#stored-card")),
          (this.storedCardTypeElement = this.element.find(".card-type")),
          (this.storedCardLastFourElement =
            this.element.find(".card-last-four")),
          (this.useStoredBillingInfoElement = this.element.find(".use-stored")),
          (this.changeCardElement = this.element.find(".change-card")),
          (this.actionsWrapperElement = this.element.find(".actions-wrapper")),
          (this.processingMessageElement = this.element.find(
            ".processing-message"
          )),
          (this.closeBtn = this.element.find("button.close")),
          this._bindEvents();
      },
      _bindEvents: function () {
        return (
          this.closeBtn.bind("click", this._closeEventHandler.bind(this)),
          this.element.bind(
            "keyup",
            function (e) {
              27 === e.keyCode && this._closeEventHandler(e);
            }.bind(this)
          ),
          this.element.on(
            "hidden.bs.modal",
            function () {
              this._processedUIState().detach(), this.destroy();
            }.bind(this)
          ),
          this.changeCardElement.on(
            "click",
            function (e) {
              e.preventDefault(),
                this.deactivate(),
                this.dispatch("change-card", {
                  recurlyData: this.recurlyData,
                });
            }.bind(this)
          ),
          this.useStoredBillingInfoElement.on(
            "click",
            function (e) {
              window.isPastDue
                ? (this.deactivate(),
                  Modals.Billing.unbindBillingInfoHide().setupUpdateCardModal(
                    Modals.Billing._billingUpdateSuccessCallback
                  ))
                : (e.preventDefault(),
                  this._processingUIState(),
                  this.deactivate(),
                  this.dispatch("use-stored-card", {
                    recurlyData: this.recurlyData,
                  }));
            }.bind(this)
          ),
          this
        );
      },
      _closeEventHandler: function () {
        Helpers.GlobalEventTracker.track("Purchase:UserCanceledPayment", {
          stage_id: Helpers.StageType.getStageID(),
        });
      },
      refresh: function (e) {
        return (
          (this.recurlyData = e),
          e.billing_info.lastFour
            ? (this.storedCardTypeElement.text(e.billing_info.cardType),
              this.storedCardLastFourElement.text(e.billing_info.lastFour))
            : e.billing_info.paypalBillingAgreementId &&
              (this.storedCardContainer.detach(),
              this.useStoredBillingInfoElement.html("Use PayPal"),
              this.changeCardElement.html("Enter Credit Card")),
          this
        );
      },
      _processingUIState: function () {
        return (
          this.actionsWrapperElement.hide(),
          this.processingMessageElement.show(),
          this
        );
      },
      _processedUIState: function () {
        return (
          this.actionsWrapperElement.show(),
          this.processingMessageElement.hide(),
          this
        );
      },
      detach: function () {
        return this.element.detach(), this;
      },
      activate: function () {
        this.element.modal("show"), Widget.prototype.activate.call(this);
      },
      deactivate: function () {
        this.element.modal("hide"),
          $(".modal-backdrop").remove(),
          Widget.prototype.deactivate.call(this);
      },
      destroy: function () {
        (this.elementId = null),
          (this.storedCardContainer = null),
          (this.storedCardTypeElement = null),
          (this.storedCardLastFourElement = null),
          (this.useStoredBillingInfoElement = null),
          (this.changeCardElement = null),
          (this.actionsWrapperElement = null),
          (this.processingMessageElement = null),
          (this.recurlyData = null),
          (this.closeBtn = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "SinglePurchaseDiscountModal").inherits(Widget)({
    html: '        <div class="modal fade" id="singlePurchaseDiscountModal" tabindex="-1" role="dialog" aria-labelledby="singlePurchaseDiscountModal" aria-hidden="true">            <div class="modal-dialog modal-sm">                <div class="modal-content">                    <div class="modal-header">                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                        <h4 class="modal-title">Congratulations!</h4>                    </div>                    <div class="modal-body">                        <div class="description"></div>                        <button class="button primary btn-block" data-dismiss="modal">OK!</button>                        <div class="disclaimer">Coupon does not apply to subscription!</div>                    </div>                </div>            </div>        </div>',
    prototype: {
      description:
        "You will now get {{discount}} off of all one-time purchases!",
      $description: null,
      init: function () {
        Widget.prototype.init.call(this),
          (this.$description = this.element.find(".description"));
      },
      activate: function () {
        var e;
        return (
          Widget.prototype.activate.call(this),
          ($modal = $("#singlePurchaseDiscountModal")),
          $modal.length ||
            ((e = Helpers.CouponHelper.getDiscount()),
            this.$description.text(
              this.description.replace("{{discount}}", e.label)
            ),
            this.element.appendTo(document.body)),
          this.element.modal("show"),
          this
        );
      },
      deactivate: function () {
        return (
          Widget.prototype.deactivate.call(this),
          this.element.detach(),
          this.element.modal("hide"),
          this
        );
      },
    },
  }),
  Module(
    Helpers,
    "PurchasesModalHelper"
  )({
    prototype: {
      $compPreviewImage: null,
      instantiateStoredBillingInfoOverlay: function () {
        void 0 === this.storedBillingInfoOverlay &&
          (this.appendChild(
            new UI.StoredBillingInfoOverlay({
              name: "storedBillingInfoOverlay",
            })
          ),
          this.storedBillingInfoOverlay.bind(
            "change-card",
            this._showPaymentForm.bind(this)
          ),
          this.storedBillingInfoOverlay.bind(
            "use-stored-card",
            this._useStoredBillingInfo.bind(this)
          ));
      },
      _showModalHandler: function () {
        var e = !1;
        (e = Helpers.StageType.isFusionVideo()),
          this.$modalTitle.text(
            e ? this.VIDEO_TITLE_TEXT : this.IMAGE_TITLE_TEXT
          ),
          this.tabsWidget.showTabs(),
          Helpers.StageType.isFusionVideo()
            ? (this.tabsWidget.hideTabs().activateRegularTab(),
              this.resolutionsWidget.showOptions("video_product"))
            : Helpers.StageType.isSmartTemplate()
            ? (this.tabsWidget.hideTabs().activateRegularTab(),
              this.resolutionsWidget.showOptions("smart_template"))
            : (Helpers.GlobalEventTracker.track("deprecated:method", {
                error: !1,
                module: "purchaseModalHelper._showModalHandler.elseStatement",
              }),
              this.resolutionsWidget.showOptions("normal")),
          this._updatePriceForPackage(),
          this._enableSubmitButtons();
      },
      show: function () {
        this.element
          .css({
            display: "block",
            opacity: 0,
            visibility: "visible",
            position: "relative",
            top: "-" + this.element.innerHeight() + "px",
          })
          .animate(
            {
              opacity: 1,
              top: "0px",
            },
            400
          );
      },
      _showStoredBillingInfo: function () {
        this.instantiateStoredBillingInfoOverlay(),
          this.storedBillingInfoOverlay.refresh(this.signedData),
          this.storedBillingInfoOverlay.activate();
      },
      _showPaymentForm: function () {
        var e, t;
        if (((e = this.signedData), Helpers.StageType.isFusionVideo())) {
          var n = EventTracker.info({
            type: "Purchase:success:fusionvideo",
            data: {},
          });
          t = {
            ajaxUrl: "/purchases/{{token}}/video_v4_transaction",
            ajaxParams: {
              license_id: e.license_id,
              resolution_id: e.resolution_id,
              video_id: Helpers.StageType.getVideoProductUUID(),
              upload_to_youtube: Helpers.StageType.isYouTubeUpload(),
              eventData: n,
            },
          };
        } else if (Helpers.StageType.isSmartTemplate()) {
          var i = encodeURI(window.location.href),
            r = JSON.parse(JSON.stringify(Helpers.StageType.getDesignPlan())),
            s = "Purchase:success:image";
          (r.referrer = i),
            delete r.previewImage,
            Helpers.App.getSubscription() &&
              (s = "Purchase:success:image:withSubscription");
          var n = EventTracker.info({
            type: s,
            data: {},
          });
          t = {
            ajaxUrl: "/purchases/{{token}}/smart_template_transaction",
            ajaxParams: {
              license_id: e.license_id,
              resolution_id: e.resolution_id,
              stage_id: Helpers.StageType.getStageID(),
              designPlan: JSON.stringify(r),
              eventData: n,
            },
          };
        }
        (t.ajaxParams.stage_id = Helpers.StageType.getStageID()),
          (t.ajaxParams.coupon_code = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyTo(
              Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
            ) &&
            (t.ajaxParams.coupon_code = Helpers.CouponHelper.getCode()),
          $.extend(!0, e, t),
          this.instantiatePurchaseOverlay(e)
            .render($("body"))
            .activate()
            .initPurchaseForm();
      },
      hideFooter: function () {
        this.$modalFooter.hide();
      },
      showFooter: function () {
        this.$modalFooter.show();
      },
      _showTaxInfo: function () {
        this.$taxInformation.show();
      },
      _hideTaxInfo: function () {
        this.$taxInformation.hide();
      },
    },
  }),
  Module(
    Helpers,
    "PurchasesPostHelper"
  )({
    prototype: {
      _purchaseProxyAjax: function (e) {
        var t, n, i, r, s, o, a;
        return (
          (r = this),
          (a = e.url),
          (i = PurchaseSupport.getRequestDataByUrl(a)),
          (s = (i && i.isPollingEnabled) === !0),
          (n = {
            url: a,
            data: e.data,
            type: "POST",
            dataType: "json",
          }),
          s === !0
            ? ((o = {
                delay: i.pollingConfig.delay,
                times: i.pollingConfig.times,
                pingURL: i.pingURL,
              }),
              (t = P.ajax(n).then(PurchaseSupport.buildPolling(o))))
            : (t = P.ajax(n)),
          t
            .then(function (t) {
              return (
                "function" == typeof e.callbackSuccess &&
                  e.callbackSuccess.call(r, t),
                t
              );
            })
            ["catch"](function (t) {
              return (
                "function" == typeof e.callbackError &&
                  e.callbackError.call(r, t),
                Promise.reject(t)
              );
            })
        );
      },
      _formSubmitHandler: function (e) {
        var t, n;
        return (
          e.preventDefault(),
          this._disableSubmitButtons(),
          (t = this.resolutionsWidget
            .getSelected()
            .data("allowed-licenses")[0]),
          (n = "free" === t),
          Helpers.App.isLoggedIn() === !1 && n === !1
            ? this._notLoggedInHandler()
            : this._normalPurchaseFlow()
        );
      },
      _isAlreadyPurchased: function () {
        var e, t, n, i, r, s, o, a, l;
        return (
          Helpers.GlobalEventTracker.track("deprecated:method", {
            error: !1,
            module: "purchaseModalPostHelper._isAlreadyPurchased.",
          }),
          (e = this.resolutionsWidget
            .getSelected()
            .data("allowed-licenses")[0]),
          (t = Helpers.StageType.isFree() || "free" === e),
          (n = Helpers.StageType.getProductshotInfo()),
          (i = Helpers.App.getUrlParam("video_process_id")),
          (o = !1),
          n &&
            ((s = Helpers.StageType.getBackgroundID()),
            Helpers.GlobalEventTracker.track("deprecated:method", {
              error: !1,
              module:
                "purchaseModalPostHelper._isAlreadyPurchased.backgroundID." + s,
            }),
            (r = {
              hsh: n.hsh,
              stage_id: parseInt(Helpers.StageType.getStageID(), 10),
              res: Helpers.Resolutions.getActive().key,
              image_type_id: window._stageData.stage_data.image_type,
            }),
            s && (r.background_id = parseInt(s, 10)),
            (a = page.stage.getDownloaded() === !0)),
          (l = page.appNavBar.myDriveDownloads.getItems()),
          (o =
            a &&
            l.some(function (e) {
              var t = !0;
              for (option in r) e[option] !== r[option] && (t = !1);
              return t ? !0 : void 0;
            })),
          Helpers.StageType.isIOSScreenshot() ? !1 : o
        );
      },
      _normalPurchaseFlow: function () {
        var e,
          t,
          n,
          i,
          r,
          s,
          o,
          a,
          l = this;
        this._disableSubmitButtons(),
          (e = this.resolutionsWidget.getSelected()),
          (t = e.val()),
          (n = Registry.Licenses.getByKey(e.data("allowed-licenses")[0])),
          (i = n.id),
          (r = Helpers.Resolutions.getActive().key),
          (s = "free" === n.key),
          (o = Helpers.App.getSubscription()),
          (a = this._purchaseableWithSubscription(t, i, o));
        var c = Helpers.Price.stage(
          Helpers.PremiumAssetsValidator.getStageInfo()
        );
        c.price
          .then(function (e) {
            c.priceWithDiscount.then(function (n) {
              return a && !Helpers.StageType.isCropperTool()
                ? l._subscriptionDownload(t, i)
                : 0 === e || 0 === n
                ? Helpers.StageType.isFusionVideo() && s
                  ? l._inBrowserDownload(t, i)
                  : l._freeStageDownload(t, i)
                : s
                ? l._inBrowserDownload(t, i)
                : l._singDownload(t, i);
            });
          })
          ["catch"](function (e) {
            throw new Error(e);
          });
      },
      _inBrowserDownload: function (e, t) {
        this.deactivate(), this._enableSubmitButtons();
        var n = {
          stage_id: Helpers.StageType.getStageID(),
          category: window._pl_category,
          stage_type:
            Helpers.StageType._types[window._stageData.stage_data.image_type] ||
            "No Info",
          tags: Helpers.StageType.getStageTags() || "No Info",
          background: Helpers.StageType.getBackgroundOrColorID() || "No Info",
          thumb: window._stageData.stage_data.large_thumb || "No Info",
          slug: window._stageData.stage_data.slug || "No Info",
        };
        return Helpers.StageType.isFusionVideo()
          ? void this._inBrowserDownloadVideo(n)
          : ((n.license_id = t),
            (n.resolution_id = e),
            (window.location.href =
              "/stages/" +
              Helpers.StageType.getProductshotInfo().hsh +
              "/download"),
            void (Helpers.StageType.getStageInfo().is_free === !0
              ? Helpers.GlobalEventTracker.freeStageDownload(n)
              : Helpers.GlobalEventTracker.freeDownload(n)));
      },
      _inBrowserDownloadVideo: function (e) {
        var t = page.stage.getFullVideoSrc(),
          n =
            Helpers.App.isDownloadIphoneFlowAvailable() &&
            Helpers.App.isMobile();
        n
          ? Helpers.App.shortcutDownloadModal(t, t)
          : Helpers.App.isMobileDevice()
          ? window.open(t, "_blank")
          : (window.location.href = t),
          Helpers.Resolutions.getActive().key &&
            "small" === Helpers.Resolutions.getActive().key &&
            Helpers.GlobalEventTracker.freeVideoDownload(e);
      },
      _useStoredBillingInfo: function () {
        var e, t, n, i, r, s, o, a, l;
        (o = Helpers.StageType.isFusionVideo()),
          (t = this.signedData.license_id),
          (n = this.signedData.resolution_id),
          (i = Helpers.StageType.getStageID()),
          (r = this.signedData.amount_in_cents),
          (s = {
            license_id: t,
            resolution_id: n,
            background_id: Helpers.StageType.getBackgroundID(),
            upload_to_youtube: o && Helpers.StageType.isYouTubeUpload(),
          }),
          (a = o ? ":fusionvideo" : ":image"),
          (l = Helpers.App.getSubscription() ? a + ":withSubscription" : a);
        var c = EventTracker.info({
          type: "Purchase:success" + l,
          data: {},
        });
        if (Helpers.StageType.isFusionVideo())
          (e = "/purchases/quick_video_v4_transaction"),
            (s.video_id = Helpers.StageType.getVideoProductUUID()),
            (s.eventData = c);
        else if (Helpers.StageType.isSmartTemplate()) {
          var u = encodeURI(window.location.href);
          (e = "/purchases/quick_smart_template_transaction"), (s.stage_id = i);
          var d = JSON.parse(JSON.stringify(Helpers.StageType.getDesignPlan()));
          (d.referrer = u),
            delete d.previewImage,
            (s.designPlan = JSON.stringify(d)),
            (s.eventData = c);
        } else
          (e = "/purchases/quick_transaction"),
            (s.productshot_id = Helpers.StageType.getProductshotInfo().id);
        (s.coupon_code = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyTo(
              Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
            ) &&
            (s.coupon_code = Helpers.CouponHelper.getCode()),
          this._purchaseProxyAjax.call(this, {
            url: e,
            data: s,
            callbackSuccess: function (e) {
              var s = null;
              Helpers.GlobalEventTracker.purchaseSuccess({
                amount_in_cents: r,
                license_id: t,
                resolution_id: n,
                stage_id: i,
                user_id: Helpers.App.getUser().id,
                invoice_number: e.invoice_number,
              }),
                e.coupon && (s = e.coupon),
                this._enableSubmitButtons(),
                Helpers.CouponHelper.markAsUsed(),
                this.dispatch("purchase.success", s);
            },
            callbackError: function (e) {
              e.responseJSON = e.responseJSON || {};
              var t =
                e.message || e.responseJSON.message || e.responseJSON.error;
              this.deactivate(),
                this.purchaseOverlay && this.purchaseOverlay.deactivate(),
                this._enableSubmitButtons(),
                this.dispatch("purchase.failed", {
                  message: t,
                  status: e.status,
                  errorType: e.responseJSON.errorType,
                });
            },
          });
      },
      _freeStageDownload: function (e, t) {
        var n,
          i,
          r,
          s = encodeURI(window.location.href);
        if (
          ((r = Helpers.StageType.isFusionVideo()),
          (i = {
            is_comp: Helpers.Resolutions.isComp(),
            background_id: Helpers.StageType.getBackgroundID(),
            upload_to_youtube: r && Helpers.StageType.isYouTubeUpload(),
          }),
          (i.coupon_code = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyTo(
              Helpers.CouponHelper.TYPE_SINGLE_PURCHASE
            ) &&
            (i.coupon_code = Helpers.CouponHelper.getCode()),
          Helpers.StageType.isFusionVideo())
        )
          (n = "/purchases/" + e + "/" + t + "/free_download_video_v4"),
            (i.video_id = Helpers.StageType.getVideoProductUUID());
        else if (Helpers.StageType.isSmartTemplate()) {
          (n =
            "crop_video" === Helpers.StageType.getStageData().tool_name
              ? "/purchases/" + e + "/" + t + "/free_download_video_trim_crop"
              : Helpers.StageType.isToolName("video_to_gif")
              ? "/purchases/" + e + "/" + t + "/free_download_video_to_gif"
              : "/purchases/" + e + "/" + t + "/free_download_smart_template"),
            (i.stage_id = Helpers.StageType.getStageInfo().id);
          var o = JSON.parse(JSON.stringify(Helpers.StageType.getDesignPlan()));
          (o.referrer = s),
            delete o.previewImage,
            (i.designPlan = JSON.stringify(o));
        }
        this._purchaseProxyAjax.call(this, {
          url: n,
          data: i,
          callbackSuccess: function () {
            this.deactivate(),
              this.purchaseOverlay && this.purchaseOverlay.deactivate(),
              this._enableSubmitButtons(),
              this.dispatch("purchase.success"),
              Helpers.StageType.isFusionVideo() &&
                Helpers.App.getUrlParam("linked_smart_template_id") &&
                Helpers.GlobalEventTracker.pipEvent("animated:pip:download");
            var n = {
              stage_id: Helpers.StageType.getStageID(),
              resolution_id: e,
              license_id: t,
              category: window._pl_category,
              stage_type:
                Helpers.StageType._types[
                  window._stageData.stage_data.image_type
                ] || "No Info",
              tags: Helpers.StageType.getStageTags() || "No Info",
              background:
                Helpers.StageType.getBackgroundOrColorID() || "No Info",
              thumb: window._stageData.stage_data.large_thumb || "No Info",
              slug: window._stageData.stage_data.slug || "No Info",
            };
            Helpers.StageType.getStageInfo().is_free === !0
              ? Helpers.GlobalEventTracker.freeStageDownload(n)
              : Helpers.GlobalEventTracker.freeDownload(n);
          },
          callbackError: function (e) {
            e.responseJSON = e.responseJSON || {};
            var t = e.message || e.responseJSON.message || e.responseJSON.error;
            this.deactivate(),
              this.purchaseOverlay && this.purchaseOverlay.deactivate(),
              this._enableSubmitButtons(),
              this.dispatch("purchase.failed", {
                message: t,
                status: e.status,
                errorType: e.responseJSON.errorType,
              });
          },
        });
      },
      _subscriptionDownload: function (e, t) {
        var n;
        if (Helpers.StageType.isFusionVideo()) {
          var i = {
              video_id: Helpers.StageType.getVideoProductUUID(),
              upload_to_youtube: Helpers.StageType.isYouTubeUpload(),
            },
            r = "/purchases/" + e + "/" + t + "/video_v4_subscription";
          n = ":fusionvideo";
        } else if (Helpers.StageType.isSmartTemplate()) {
          var s = encodeURI(window.location.href),
            o = JSON.parse(JSON.stringify(Helpers.StageType.getDesignPlan()));
          (o.referrer = s), delete o.previewImage;
          var i = {
              stage_id: Helpers.StageType.getStageID(),
              designPlan: JSON.stringify(o),
            },
            r = "/purchases/" + e + "/" + t + "/smart_template_subscription";
          n = ":image";
        }
        var a = EventTracker.info({
          type: "Purchase:success" + n,
          data: {},
        });
        (i.eventData = a),
          this._purchaseProxyAjax.call(this, {
            url: r,
            data: i,
            callbackSuccess: function (n) {
              var i = this;
              this.deactivate(),
                this._enableSubmitButtons(),
                Helpers.GlobalEventTracker.subscriptionDownload({
                  stage_id: Helpers.StageType.getStageID(),
                  license_id: t,
                  resolution_id: e,
                }),
                Helpers.StageType.isFusionVideo() &&
                  Helpers.App.getUrlParam("linked_smart_template_id") &&
                  Helpers.GlobalEventTracker.pipEvent("animated:pip:download"),
                Helpers.App._getPurchases(function () {
                  var e = n.message || n.responseJSON.message;
                  i.dispatch("purchase.success", {
                    message: e,
                  }),
                    window.page.appNavBar.updateStatus();
                });
            },
            callbackError: function (e) {
              e.responseJSON = e.responseJSON || {};
              var t =
                e.message || e.responseJSON.message || e.responseJSON.error;
              412 === e.status &&
                (Helpers.App.setSubscription(!1),
                this.showFooter(),
                window.page.appNavBar.updateStatus()),
                this.deactivate(),
                this._enableSubmitButtons(),
                this.dispatch("purchase.failed", {
                  message: t,
                  errorType: e.responseJSON.errorType,
                });
            },
          });
      },
      _singDownload: function (e, t) {
        var n = {
          stage_id: Helpers.StageType.getStageID(),
          is_comp: Helpers.Resolutions.isComp(),
        };
        null !== Helpers.StageType.getProductshotInfo() &&
          (n.productshot_id = Helpers.StageType.getProductshotInfo().id),
          this._purchaseProxyAjax.call(this, {
            url: "/purchases/" + e + "/" + t + "/sign",
            data: n,
            callbackSuccess: function (e) {
              this.deactivate(),
                this._enableSubmitButtons(),
                (this.signedData = e);
              var t =
                e.billing_info.lastFour ||
                e.billing_info.paypalBillingAgreementId;
              t ? this._showStoredBillingInfo() : this._showPaymentForm();
            },
            callbackError: function (e) {
              this.deactivate(),
                this._enableSubmitButtons(),
                (this.signedData = e);
              var t = true; //e.billing_info.lastFour || e.billing_info.paypalBillingAgreementId;
              t ? this._showStoredBillingInfo() : this._showPaymentForm();
              // e.responseJSON = e.responseJSON || {};
              // var t = e.message || e.responseJSON.message || e.responseJSON.error;
              // this.deactivate(),
              // this._enableSubmitButtons(),
              // this.dispatch("purchase.failed", {
              //     message: t,
              //     status: e.status,
              //     errorType: e.responseJSON.errorType
              // })
            },
          });
      },
    },
  }),
  Class(UI, "Purchases")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Helpers.PurchasesModalHelper,
      Helpers.PurchasesPostHelper,
      Helpers.CouponHelper,
      Translator,
      ThemeSupport
    )({
    html: '    <div class="purchases" id="downloadOverlay" tabindex="-1" >        <div id="subscription-paused" style="display:none">          <span class="info-close">               <span>\xd7</span>           </span>           <p class="pause-title ">Your Subscription Is Paused</p>          <p class="pause-note ">It will automatically be activated again on {{pause_date}}</p>          <p class="pause-note ">Need it before? Please <a href="mailto:hi@placeit.net" target="_blank">contact support</a></p>        </div>        <div id="subscription-past-due" style="display:none">          <span class="info-close">               <span>\xd7</span>           </span>           <p class="pause-title ">Your Account is Past Due</p>          <p class="pause-note ">You won\u2019t be able to make free downloads until your payment method is up to date.           Click <a href="#" class="handle-fix-cta">here</a> to update</p>        </div>        <div class="purchases-content">          <div class="purchases-header">            <div class="purchase-header__discount-label">                 <span class="purchase-header__discount-amount">30% OFF</span>             </div>             <h5 class="purchase-header__title">1. Single <span class="purchases__category-name"></span> Purchase</h5>            <h2 class="purchase-header__subtitle">You Only Get This <span class="purchases__category-name"></span></h2>           </div>          <div class="purchases-body">            <div class="tab-content download-tabs__content">              <div class="tab-pane active" id="normalDownload">                <form class="form purchase-options-form" role="form" id="normalDownload">                  <div class="resolutions-container">                   <div class="row download-overlay__image-size resolution-options is_video_product">                    <div class="purchases__video-wrapper purchases__video-wrapper--paused">                         <div class="purchases__video-play-button"></div>                         <video muted playsinline></video>                     </div>                   </div>                  <div class="row download-overlay__image-size resolution-options is_smart_template">                  </div>                  <p class="purchase-body__content-description">                     <strong>{{res_watermarked}}</strong>, High Resolution {{res_title}} (<span class="res_dimensions"></span>).<br />Commercial Usage Ok!                   </p>                   </div>                   <div class="button-container">                    <button class="button button--not-subscribed primary long purchase-price" type="submit">                      <span class="price-description">Buy <span class="only-highlight-underline">ONLY</span> This <span class="purchases__category-name"></span> for                         <span class="purchase-header__price purchase-header__price--original"></span>                         <span class="purchase-header__price purchase-header__price--quantity"></span>                       </span>                      <span class="price-free">                      </span>                    </button>                  </div>                  <p class="purchases__low-res-download">Or <a>Get the <strong>FREE</strong> Watermarked Low Res Video</a></p>                 </form>              </div>              <div class="coupon-field-container"></div>            </div>          </div>        </div>        <div class="widget-outer">          <div class="disclaimer-wrapper">             Applicable Taxes Not Included. All Prices in USD.          </div>        </div>      </div>',
    resItemTemplate:
      '    <div class="download-overlay__image-size-item">        <label>            <input data-allowed-licenses="{{allowed_licenses}}" data-key="{{res_key}}" id="{{radio_id}}" name="resolution" type="radio" value="{{res_id}}" />            <p class="overlay--radio-title">{{res_title}}</p>            <p class="overlay--radio-desc res_dimensions">{{res_dimensions}}</p><br>            <p class="overlay--radio-desc">{{res_watermarked}}</p>            <p class="overlay--radio-desc ios_screenshot__purchase_disclaimer" style="display:none;">When you upload your screenshots, Apple will give you the option to automatically resize them down for smaller screen sizes.</p>            <b class="resolution-license-link-placeholder"></b>        </label>    </div>',
    fillerColumn: '<div class="download-overlay__image-size-item"></div>',
    discountPlanText:
      "You got ${{amount}} off because of your {{planName}} subscription!",
    taxAmountText: "Plus {{amount}} for {{taxType}}. All Prices in USD",
    subscriptionPlanText: "Using your {{planName}} subscription downloads",
    packPlanText: "Using your Download Pack",
    TEXT_VAT_EXEMPT_MESSAGE: "VAT Exempt. All Prices in USD.",
    TEXT_FREE_DOWNLOAD_TITLE: "Free Download",
    TEXT_DOWNLOAD_NOW: "Download Now",
    TEXT_FREE_DOWNLOAD_CATEGORY_TITLE:
      'Free <span class="purchases__category-name"></span> Download',
    TEXT_PAID_DOWNLOAD_CATEGORY_TITLE:
      '1. Single <span class="purchases__category-name"></span> Purchase',
    TEXT_PAID_DOWNLOAD_CATEGORY_SUBTITLE:
      'You Only Get This <span class="purchases__category-name"></span>',
    TEXT_DOWNLOAD_CATEGORY_TITLE: "GET YOUR {{categoryName}}!",
    TEXT_DISCOUNT_LABEL: "{{discount}} OFF",
    TEXT_DISCLAIMER_DEFAULT: "Applicable Taxes Not Included. All Prices in USD",
    prototype: {
      IMAGE_TITLE_TEXT: "Get Your Image!",
      VIDEO_TITLE_TEXT: "Get Your Video!",
      $modalTitle: null,
      $form: null,
      $price: null,
      $priceOriginal: null,
      $priceQuantity: null,
      $priceDescription: null,
      $taxRate: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          ("undefined" == typeof this.categoryName ||
            null === this.categoryName) &&
            (this.categoryName = ""),
          (this.modalBody = this.element.find(".purchases-body")),
          (this.containerForm = this.element.find("#normalDownload")),
          (this.fillerColumn =
            '<div class="download-overlay__image-size-item"></div>'),
          (this.subscriptionPaused = this.element.find("#subscription-paused")),
          (this.subscriptionPastDue = this.element.find(
            "#subscription-past-due"
          )),
          (this.fixCTA = this.element.find(".handle-fix-cta")),
          (this.containers = {
            video_product: this.containerForm.find(".is_video_product"),
            smart_template: this.containerForm.find(".is_smart_template"),
          }),
          this._renderResolutionItems(),
          (this.$closeBtn = this.element.find(".close")),
          (this.$modalTitle = this.element.find(".purchases-header h4")),
          (this.$form = this.element.find(".purchase-options-form")),
          (this.$price = this.element.find(".purchase-price")),
          (this.$priceOriginal = this.element.find(
            ".purchase-header__price--original"
          )),
          (this.$priceQuantity = this.element.find(
            ".purchase-header__price--quantity"
          )),
          (this.$priceDescription = this.$price.find(".price-description")),
          (this.$priceFree = this.$price.find(".price-free")),
          this.$priceFree.text(this.constructor.TEXT_FREE_DOWNLOAD_TITLE),
          this.$priceFree.hide(),
          (this.couponFieldContainerEl = this.element.find(
            ".coupon-field-container"
          )),
          this.appendChild(
            new UI.PurchasesModalTabs({
              name: "tabsWidget",
              element: this.element,
            })
          ),
          this.instantiateResolutionsWidget(),
          (this.$openSubscriptionsLink = this.element.find(
            "#open-subscriptions-modal"
          )),
          (this.$openPackagesLink = this.element.find("#open-packages-modal")),
          (this.$modalFooter = this.element.find(".modal-footer")),
          (this.$extraInformation = this.element.find(
            ".button-container .plan-note"
          )),
          (this.$taxInformation = this.element.find(".disclaimer-wrapper")),
          (this.$modalHeader = this.element.find(".purchases-header")),
          (this.$couponLabel = this.$modalHeader.find(
            ".purchase-header__discount-label"
          )),
          (this.euCountries = Helpers.App.getEUCountries()),
          (this.$video = this.element.find("video")),
          this._bindEvents();
      },
      instantiateCouponField: function () {
        var e = Helpers.CouponHelper.getDiscount(),
          t = this.constructor.TEXT_DISCOUNT_LABEL.replace(
            "{{discount}}",
            e.label
          );
        this.element
          .find(".purchase-header__discount-label")
          .addClass("active"),
          this.element.find(".purchase-header__discount-amount").text(t);
      },
      _renderResolutionItems: function () {
        return Array.isArray(window._pl_resolutions) === !1
          ? this
          : (window._pl_resolutions.forEach(
              function (e) {
                if (!e.is_smart_template && !e.is_video_product && !e.is_video)
                  return this;
                var t,
                  n = e.key,
                  i = e.id,
                  r = "resolution-" + i,
                  s = e.allowed_licenses,
                  o = "[",
                  a = "]",
                  l = e.name,
                  c = e.width,
                  u = e.height,
                  d = c + "x" + u + " px",
                  p = e.watermarked,
                  h = "",
                  f = "";
                if (
                  (s.forEach(function (e) {
                    o += 1 === o.length ? '"' + e + '"' : ',"' + e + '"';
                  }),
                  (o += a),
                  e.is_video_product
                    ? ((h = "video_product"), (f = "3"))
                    : e.is_smart_template &&
                      ((h = "smart_template"), (f = "12"), (d = "")),
                  (t = this.constructor.resItemTemplate
                    .replace("{{col_size}}", f)
                    .replace("{{res_key}}", n)
                    .replace("{{radio_id}}", r)
                    .replace("{{res_id}}", i)
                    .replace("{{res_dimensions}}", d)
                    .replace("{{res_watermarked}}", p)),
                  $(t)
                    .appendTo(this.containers[h])
                    .find("#" + r)
                    .data("allowed-licenses", s),
                  e.is_video && "small" === e.key)
                ) {
                  var m = $(t).clone();
                  m.appendTo(this.containers.video_product)
                    .find("#" + r)
                    .data("allowed-licenses", s);
                } else if (this.categoryName) {
                  var g = 15 === Helpers.StageType.getStageData().image_type;
                  "smart_template" !== h || g || this._setContentInfo(l, p),
                    "video_product" === h && g && this._setContentInfo("", p);
                }
              }.bind(this)
            ),
            this.containers.video_product
              .prepend(this.constructor.fillerColumn)
              .append(this.constructor.fillerColumn),
            this);
      },
      _setContentInfo: function (e, t) {
        var n = this.element.find(".purchase-body__content-description").html();
        (n = n.replace("{{res_title}}", e).replace("{{res_watermarked}}", t)),
          this.element.find(".purchase-body__content-description").html(n);
      },
      _bindEvents: function () {
        var e = this;
        this.$form.submit(function () {
          e.formSubmitted = !0;
        }),
          this.$form.submit(function (t) {
            if (
              (t.preventDefault(),
              "undefined" != typeof window._stageData &&
                Helpers.StageType.isCropperTool() &&
                ((page.stage.record.cropParams = page.stage.cropParams),
                Helpers.StageType.setDesignPlan(
                  page.stage.getCleanRecord(page.stage.record)
                )),
              "undefined" != typeof window._stageData &&
                Helpers.StageType.isToolName("video_to_gif") &&
                ((page.stage.record.gifParams = page.stage.gifParams),
                Helpers.StageType.setDesignPlan(
                  page.stage.getCleanRecord(page.stage.record)
                )),
              Helpers.App.isLoggedIn() === !1 &&
                Helpers.App.setSubscribeFromModal("compare"),
              Helpers.StageType.isVideoV4())
            ) {
              var n = t.originalEvent;
              n &&
                e.containers.video_product
                  .find('[data-key="normal_v"]')
                  .click();
            }
            e._formSubmitHandler(t);
          }),
          this.element
            .find(".purchases__low-res-download a")
            .click(function (t) {
              t.preventDefault(), e.setLowResVideo(), e.$form.submit();
            }),
          this.fixCTA.click(
            function () {
              this.deactivate(), Modals.Billing.handleFixCTA();
            }.bind(this)
          ),
          this.subscriptionPaused.find(".info-close").click(function () {
            e.subscriptionPaused.hide();
          }),
          this.subscriptionPastDue.find(".info-close").click(function () {
            e.subscriptionPastDue.hide();
          });
        var t = e.element.find(".purchases__video-wrapper");
        return (
          this.$video
            .click(function () {
              e._previewVideo.isPlaying()
                ? (e._previewVideo.pause(),
                  t.addClass("purchases__video-wrapper--paused"))
                : (e._previewVideo.play(),
                  t.removeClass("purchases__video-wrapper--paused"));
            })
            .bind("ended", function () {
              this.load(), t.addClass("purchases__video-wrapper--paused");
            }),
          Helpers.CouponHelper.bind(
            "coupon.validated",
            this._updatePriceForPackage.bind(this)
          ),
          Helpers.CouponHelper.bind(
            "coupon.removed",
            this._updatePriceForPackage.bind(this)
          ),
          this
        );
      },
      _notLoggedInHandler: function () {
        return this.dispatch("purchase.not_logged_in"), this;
      },
      _disableSubmitButtons: function () {
        this.$price[0].disabled = !0;
      },
      _enableSubmitButtons: function () {
        return (this.$price[0].disabled = ""), this;
      },
      _updatePriceForPackage: function () {
        var e = this,
          t = window.currencyHelper.getSymbol(recurlyConfig.currency);
        try {
          var n = Helpers.Price.stage(
            Helpers.PremiumAssetsValidator.getStageInfo()
          );
        } catch (i) {
          return;
        }
        return (
          this._hideTaxInfo(),
          this.$priceQuantity.css("display", "inline-block"),
          this.$priceOriginal.text(""),
          this.couponFieldContainerEl.hide(),
          n.price.then(function (i) {
            if (0 !== i) {
              n.priceWithDiscount.then(function (n) {
                if (i !== n) {
                  e.$priceOriginal.text(t + i),
                    e.$priceOriginal.css("display", "inline-block");
                  var r = t + n;
                  e.$priceQuantity.text(r),
                    ~e.euCountries.indexOf(window._pl_country) &&
                      e._updateTaxRate(n);
                }
              });
              var r = t + i;
              e.$priceQuantity.text(r),
                e.$priceQuantity.show(),
                e._showTaxInfo(),
                ~e.euCountries.indexOf(window._pl_country) &&
                  e._updateTaxRate(i);
            }
          }),
          this
        );
      },
      _checkHelperPriceResults: function (e, t) {
        var n = Helpers.Price.stage(Helpers.StageType.getStageInfo());
        Promise.all([n.price, n.priceWithDiscount]).then(function (n) {
          var i = n[0],
            r = n[1];
          (i !== e || r !== t) &&
            Helpers.GlobalEventTracker.stagePriceMismatch({
              priceFromPurchase: e,
              priceWithDiscountFromPurchase: t,
              priceFromHelper: i,
              priceWithDiscountFromHelper: r,
            });
        });
      },
      _originalPrice: function (e, t) {
        return window.packages[e + ":" + t];
      },
      _getPrice: function (e, t, n) {
        var i, r, s, o, a;
        return (
          (r = Helpers.Resolutions.getActive().key),
          (a = window._stageData.stage_data.custom_price),
          (s = Helpers.App.getSubscription()),
          (o = Registry.UserBulkPackages.hasAny()),
          "normal" === r
            ? (i = this._priceWithSubscription(e, t, n))
            : "normal_v" === r
            ? (i = this._priceWithSubscription(e, t, n))
            : Helpers.GlobalEventTracker.deprecatedBlock({
                module: "Purchases::_getPrice",
                file: "purchases_modal.js",
                description:
                  "normal and normal_v are not the only possible values for res_key (line 510)",
              }),
          s && !s.is_paused && i
            ? i
            : a && "normal" === r
            ? a
            : window.packages[e + ":" + t]
        );
      },
      _updateTaxRate: function (e) {
        var t = this;
        this._configureRecurly(),
          this._taxRequestInProgress && this._taxRequestInProgress.cancel();
        var n = P.cancelable(
          Helpers.Price.tax.bind(null, window._pl_country, e)
        );
        (this._taxRequestInProgress = n()),
          this._taxRequestInProgress
            .then(function (e) {
              t._taxRequestInProgress = null;
              var n = "",
                i = window.currencyHelper.getSymbol(recurlyConfig.currency);
              0 === e.amount || isNaN(e.amount)
                ? (n = "")
                : "undefined" != typeof window._pl_vat_number &&
                  "" != window._pl_vat_number
                ? (n = t.constructor.TEXT_VAT_EXEMPT_MESSAGE)
                : ("AU" === window._pl_country && (taxType = "GST"),
                  (n = t.constructor.taxAmountText
                    .replace("{{amount}}", i + parseFloat(e.amount).toFixed(2))
                    .replace("{{taxType}}", e.type))),
                t.$taxInformation.text(n);
            })
            ["catch"](function () {
              t._taxRequestInProgress = null;
            });
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        (e.fields = {
          all: {
            style: {
              fontSize: "16px",
              fontColor: "#555555",
              padding: "1px",
              placeholder: {
                color: "#55555 !important",
              },
            },
          },
          number: {
            selector: "#recurly-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          cvv: {
            selector: "#recurly-cvv",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          month: {
            selector: "#recurly-month",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          year: {
            selector: "#recurly-year",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          vat_number: {
            selector: "#recurly-vat-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
        }),
          recurly.configure(e);
      },
      detach: function () {
        return this.element.data("modal", null), this.element.detach(), this;
      },
      _setModalToUnlimited: function () {
        var e = this.$modalHeader.find(".purchase-header__title"),
          t = this.$modalHeader.find(".purchase-header__subtitle"),
          n = this.constructor.TEXT_DOWNLOAD_CATEGORY_TITLE.replace(
            "{{categoryName}}",
            this.categoryName
          );
        this.element.addClass("purchases--purple"),
          this.$modalHeader.addClass("purchases-header--purple"),
          e.text(n),
          e.css("textTransform", "uppercase"),
          t.hide(),
          this.$price.addClass("button--subscribed"),
          this.$priceFree.show(),
          this.$priceDescription.hide();
      },
      _setModalToNewSubscription: function () {
        var e = this.$modalHeader.find(".purchase-header__title"),
          t = this.$modalHeader.find(".purchase-header__subtitle");
        e.text("Single Logo Purchase"),
          t.text("50% Off for Subscribers like You! \ud83d\ude09"),
          this.element.find(".only-highlight-underline").hide();
      },
      activate: function () {
        if (this.categoryName && Helpers.StageType.isVideoV4()) {
          this.setHighResVideo();
          var e = this.element.find(".purchases__video-wrapper");
          e.find("video")[0].load(),
            e.addClass("purchases__video-wrapper--paused");
        }
        this._enableSubmitButtons(), Widget.prototype.activate.call(this);
      },
      deactivate: function (e) {
        Widget.prototype.deactivate.call(this),
          this.dispatch("deactivate", {
            callback: e,
          });
      },
      instantiatePurchaseOverlay: function (e) {
        var t = void 0 !== this.purchaseOverlay;
        return (
          t && this.purchaseOverlay.destroy(),
          this.appendChild(
            new UI.PurchaseOverlay({
              name: "purchaseOverlay",
              purchaseRecord: e,
              paymentType: "purchase",
            })
          ),
          this.purchaseOverlay
            .bind(
              "purchase.success",
              function (e) {
                var t = null;
                e.data.coupon && (t = e.data.coupon),
                  Helpers.GlobalEventTracker.purchaseSuccess({
                    amount_in_cents: e.data.amount_in_cents,
                    license_id: e.data.license_id,
                    resolution_id: e.data.resolution_id,
                    stage_id: Helpers.StageType.getStageID(),
                    user_id: Helpers.App.getUser().id,
                    invoice_number: e.data.invoice_number,
                  }),
                  Helpers.CouponHelper.markAsUsed(),
                  this.dispatch("purchase.success", t);
              }.bind(this)
            )
            .bind(
              "purchase.failed",
              function (e) {
                var t = e && e.data ? e.data.status : 0,
                  n = e && e.data ? e.data.message : "";
                422 === t
                  ? this.dispatch("stage.error", {
                      error: !0,
                      errorType: "broken-stage",
                      message: n,
                    })
                  : "purchaseOverlay" != e.target.name &&
                    this.dispatch("purchase.failed", e.data);
              }.bind(this)
            ),
          this.purchaseOverlay
        );
      },
      instantiateResolutionsWidget: function () {
        this.appendChild(
          new UI.PurchaseResolutions({
            name: "resolutionsWidget",
            element: this.element.find(".purchase-options-form"),
          })
        ),
          this.bindingsResolutionsWidget();
      },
      bindingsResolutionsWidget: function () {
        this.resolutionsWidget.bind(
          "resolution-selected",
          this._updatePriceForPackage.bind(this)
        );
      },
      setPreview: function (e) {
        var t = e.source;
        if (Helpers.StageType.isSmartTemplate())
          this.containers.smart_template.css(
            "backgroundImage",
            "url(" + t + ")"
          );
        else {
          this.$video.attr("src", t);
          var n = this.$video.get(0);
          setTimeout(function () {
            n.load(), n.play(), n.pause();
          }, 1);
          var i = this.element.find(".purchases__video-wrapper");
          i.addClass("purchases__video-wrapper--paused"),
            this._previewVideo
              ? this._previewVideo.setKeytime(e.keytime)
              : (this._previewVideo = new UI.KeyframeVideoPresenter(
                  this.$video,
                  e.keytime
                ));
        }
      },
      setResolutionData: function (e) {
        var t = e.dimensions.width + "x" + e.dimensions.height + "px";
        Helpers.StageType.isVideoV4() &&
          (t = e.dimensions.high.width + "x" + e.dimensions.high.height + "px"),
          this.element.find(".res_dimensions").html(t);
      },
      directDownload: function () {
        this._showModalHandler(),
          Helpers.StageType.isFusionVideo() === !0 && this.setHighResVideo(),
          this.$form.submit();
      },
      setHighResVideo: function () {
        this.containers.video_product.find('[data-key="normal_v"]').click();
      },
      setLowResVideo: function () {
        this.containers.video_product.find('[data-key="small"]').click();
      },
      _showLowResDownloadLink: function () {
        Helpers.StageType.isVideoV4() &&
          this.element.find(".purchases__low-res-download").show();
      },
      _hideLowResDownloadLink: function () {
        Helpers.StageType.isVideoV4() &&
          this.element.find(".purchases__low-res-download").hide();
      },
      setFreeTheme: function () {
        this._resetTheme(), this._setFreeDownloadModal();
      },
      _setFreeDownloadModal: function () {
        var e = this.$modalHeader.find(".purchase-header__title");
        e.html(this.constructor.TEXT_FREE_DOWNLOAD_CATEGORY_TITLE),
          this.$priceFree.show(),
          this.$priceDescription.hide(),
          this.categoryName &&
            this.element
              .find(".purchases__category-name")
              .text(this.categoryName);
      },
      setPaidTheme: function () {
        this._resetTheme(),
          this._updatePriceForPackage(),
          this._showLowResDownloadLink(),
          this.$priceFree.hide(),
          this.$priceDescription.show(),
          this.categoryName &&
            this.element
              .find(".purchases__category-name")
              .text(this.categoryName),
          this.$modalFooter.show();
      },
      setAdminTheme: function () {
        this.setFreeTheme(),
          this._setModalToUnlimited(),
          this.element
            .find(".resolutions-container")
            .addClass("resolutions-container--subscribed"),
          this.$price.removeClass("button--not-subscribed"),
          this.$modalHeader.addClass("purchase-header--admin");
      },
      setSubscribedTheme: function () {
        var e = this,
          t = void 0 !== window._pl_paused_subscription,
          n = window.isPastDue !== !1,
          i = Helpers.App.getSubscription();
        if (
          (this._resetTheme(),
          void 0 !== i && (t = i.is_paused),
          this.$modalHeader.addClass("purchase-header--subscribed"),
          t)
        ) {
          var r = this.subscriptionPaused
            .html()
            .replace("{{pause_date}}", window._pl_remove_date);
          this.subscriptionPaused.html(r),
            this.subscriptionPaused.show(),
            this.subscriptionPaused.find(".info-close").click(function () {
              e.subscriptionPaused.hide();
            });
          var s = Helpers.Price.stage(
            Helpers.PremiumAssetsValidator.getStageInfo()
          );
          Promise.all([s.price, s.priceWithDiscount])
            .then(function (t) {
              (0 === t[0] || 0 === t[1]) && e._setFreeDownloadModal();
            })
            ["catch"](function (e) {
              throw new Error(e);
            });
        } else
          this.element
            .find(".resolutions-container")
            .addClass("resolutions-container--subscribed"),
            this._setModalToUnlimited(),
            this.$price.removeClass("button--not-subscribed");
        n && this.subscriptionPastDue.show();
      },
      _resetTheme: function () {
        this.subscriptionPaused.hide(),
          this.subscriptionPastDue.hide(),
          this.$modalFooter.hide(),
          this.$price.addClass("button--not-subscribed"),
          this.$priceFree.hide(),
          this.$priceDescription.show(),
          this.$modalHeader.removeClass("purchase-header--subscribed"),
          this.$modalHeader.removeClass("purchase-header--admin"),
          this._hideLowResDownloadLink();
        var e = this.$modalHeader.find(".purchase-header__title"),
          t = this.$modalHeader.find(".purchase-header__subtitle"),
          n = this.constructor.TEXT_PAID_DOWNLOAD_CATEGORY_TITLE.replace(
            "{{categoryName}}",
            this.categoryName
          );
        this.element
          .find(".disclaimer-wrapper")
          .text(this.constructor.TEXT_DISCLAIMER_DEFAULT),
          this.element.removeClass("purchases--purple"),
          this.$modalHeader.removeClass("purchases-header--purple"),
          this.element
            .find(".resolutions-container")
            .removeClass("resolutions-container--subscribed"),
          e.html(n),
          e.css("textTransform", ""),
          t.show(),
          this.$price.removeClass("button--subscribed"),
          this.categoryName &&
            this.element
              .find(".purchases__category-name")
              .text(this.categoryName);
      },
    },
  }),
  Class(UI, "SinglePurchasesModal")
    .inherits(Widget)
    .includes(
      Translator,
      ThemeSupport
    )({
    html: '    <div class="modal single-purchase-overlay" tabindex="-1" role="dialog" aria-labelledby="downloadOverlayLabel" aria-hidden="true">      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">          <span aria-hidden="true">\xd7</span>      </button>      <div class="animation-info">2 Ways to Purchase!</div>       <div class="modal-dialog">        <div class="modal-content">          <div class="modal-body">            <div class="area1" data-area="left"></div>            <div class="or-div">OR</div>            <div class="area2" data-area="right"></div>          </div>        </div>      </div>    </div>',
    TEXT_SUBSCRIPTIONS_PARTIAL_TITLE: "2. Get the Unlimited Subscription!",
    prototype: {
      $modalBody: null,
      $modalContent: null,
      $closeBtn: null,
      $modalFooter: null,
      $leftArea: null,
      $rightArea: null,
      categoryName: null,
      previewData: null,
      updateImageBeforeActivate: !1,
      showPreview: !1,
      leftChild: null,
      rightChild: null,
      LOADING_IMAGE_PATH: "./assets/fade-spinner.gif",
      _resumePurchasePromise: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$modalBody = this.element.find(".modal-body")),
          (this.$modalContent = this.element.find(".modal-content")),
          (this.$closeBtn = this.element.find(".close")),
          (this.$modalFooter = this.element.find(".modal-footer")),
          (this.$leftArea = this.element.find(".area1")),
          (this.$rightArea = this.element.find(".area2")),
          (this.$orDiv = this.element.find(".or-div")),
          (this.$animationInfo = this.element.find(".animation-info")),
          (this.categoryName =
            Helpers.StageType.getStageData().category_name || "Logos"),
          this._bindEvents(),
          this._initializeWidgets(),
          this._bindChildEvents(),
          this._configureRecurly();
      },
      _bindEvents: function () {
        var e = this,
          t = function (t) {
            t.target === this && e.element.modal("hide");
          };
        return (
          e.element.on("hidden.bs.modal", this.detach.bind(this)),
          e.$closeBtn.click(function () {
            Helpers.GlobalEventTracker.track("Purchase:UserCanceled", {
              stage_id: Helpers.StageType.getStageID(),
            });
          }),
          e.$modalBody.on("click", t),
          e.$modalContent.on("click", t),
          this
        );
      },
      _bindChildEvents: function () {
        var e = this;
        this.element.on("show.bs.modal", function () {
          e.rightChild && e.rightChild.setPreview(),
            e.leftChild._showModalHandler();
        }),
          this.element.on("shown.bs.modal", function () {
            e.rightChild &&
              (e.rightChild.showAnimate
                ? e.rightChild.showAnimate()
                : e.rightChild.show()),
              e.leftChild.show(),
              e.leftChild._showModalHandler(),
              e.leftChild.show(),
              $("body").addClass("single-purchase-modal-open");
          }),
          this.element.on("hidden.bs.modal", function () {
            e.rightChild && e.rightChild.hide(),
              $("body").removeClass("single-purchase-modal-open");
          }),
          this.rightChild.bind("subscribe:button:clicked", function () {
            e.rightChild.subscribeButtonClick();
          }),
          this.rightChild.bind("purchase.success", function () {
            e.dispatch("purchase.success", {
              message:
                "Your subscription is now active. You can begin downloading!",
            });
          }),
          this.rightChild.bind("subscription.success", function (t) {
            e.dispatch("subscription.success", t.data);
          }),
          this.rightChild.bind("subscription.failure", function (t) {
            e.dispatch("subscription.failure", t.data);
          }),
          this.rightChild.bind("purchase.not_logged_in", function (t) {
            e._notLoggedInHandler(t);
          }),
          this.leftChild.bind("purchase.not_logged_in", function (t) {
            e._notLoggedInHandler(t);
          }),
          this.leftChild.bind("deactivate", function (t) {
            var n = t.data.callback;
            e.deactivate(n);
          }),
          this.leftChild.bind("purchase.success", function () {
            e.dispatch("purchase.success");
          }),
          this.leftChild.bind("purchase.failed", function (t) {
            e.dispatch("purchase.failed", t.data);
          });
      },
      _initializeWidgets: function () {
        var e = this,
          t = this.categoryName;
        t && ((t = t.substring(0, t.length - 1)), (t = t.split(" ")[0])),
          e._initializeWidgetsByCategory(t);
      },
      _initializeWidgetsByCategory: function (e) {
        var t = this;
        (t.leftChild = t._initializeLeftWidget(t.$leftArea, e)),
          (t.rightChild = t._initializeRightWidget(t.$rightArea, e));
      },
      _initializeRightWidget: function (e, t) {
        var n;
        return (
          null === this.rightChild &&
            (this.showPreview && (n = t),
            (this.rightChild = new UI.SubscriptionsPartial({
              name: "subscriptionsPartialCompare",
              type: "compare",
              previewCategory: n,
              title: this.constructor.TEXT_SUBSCRIPTIONS_PARTIAL_TITLE,
              label: "Popular",
              mockupsStagesCount: window._pl_mockupsStagesCount,
            }))),
          this.rightChild.render(e),
          this.appendChild(this.rightChild),
          this.rightChild
        );
      },
      _initializeLeftWidget: function (e, t) {
        return (
          null === this.leftChild &&
            (this.leftChild = new UI.Purchases({
              categoryName: t,
            })),
          this.leftChild.render(e),
          this.appendChild(this.leftChild),
          this.leftChild
        );
      },
      _notLoggedInHandler: function (e) {
        var t = this,
          n = null;
        return (
          (this._resumePurchasePromise = null),
          e.target === this.leftChild &&
            (n = this.leftChild.directDownload.bind(this.leftChild)),
          e.target === this.rightChild &&
            (n = function () {
              var e = Helpers.App.getSubscription();
              (!e || e.is_paused) && t.rightChild.subscribeButtonClick();
            }),
          null !== n
            ? ((this._resumePurchasePromise = P.runner(Promise.resolve(n))),
              this._resumePurchasePromise.then(function (e) {
                e();
              }),
              this.deactivate(),
              this.dispatch("purchase.not_logged_in"),
              this)
            : void 0
        );
      },
      resumePurchase: function () {
        this._resumePurchasePromise &&
          (this._resumePurchasePromise.run(),
          (this._resumePurchasePromise = null));
      },
      detach: function () {
        return this.element.data("modal", null), this.element.detach(), this;
      },
      activate: function () {
        var e = this;
        Helpers.StageType.getTheme()
          .then(function (t) {
            e.setTheme(t), e.leftChild.setTheme && e.leftChild.setTheme(t);
          })
          ["catch"](function (t) {
            throw (e.setPaidTheme(), new Error(t));
          }),
          this.updateImageBeforeActivate &&
            (engine && engine.ready
              ? (engine._deactivateInteractions(),
                engine._refresh(),
                (this.previewData.source = engine.getImage()))
              : (this.previewData.source = this.LOADING_IMAGE_PATH),
            this.setPreviewOnChildren(this.previewData)),
          this.$modalFooter.addClass("hidden"),
          this.wasAnimationTriggered() || null === this.rightChild
            ? this.$animationInfo.remove()
            : this._handleAnimation(),
          this._activateChildWidgets(),
          setTimeout(function () {
            e.element.modal("show");
          }, 150);
      },
      _activateChildWidgets: function () {
        Widget.prototype.activate.call(this), this.leftChild.activate();
      },
      deactivate: function (e) {
        if ("function" == typeof e) {
          var t = function () {
            e();
          };
          this.element.one("hidden.bs.modal", t.bind(this));
        }
        this.element.modal("hide"), Widget.prototype.deactivate.call(this);
      },
      instantiatePurchaseOverlay: function (e) {
        var t = void 0 !== this.purchaseOverlay;
        return (
          t && this.purchaseOverlay.destroy(),
          this.appendChild(
            new UI.PurchaseOverlay({
              name: "purchaseOverlay",
              purchaseRecord: e,
            })
          ),
          this.purchaseOverlay
            .bind(
              "purchase.success",
              function (e) {
                var t = null;
                e.data.coupon && (t = e.data.coupon),
                  Helpers.GlobalEventTracker.purchaseSuccess({
                    amount_in_cents: e.data.amount_in_cents,
                    license_id: e.data.license_id,
                    resolution_id: e.data.resolution_id,
                    stage_id: Helpers.StageType.getStageID(),
                    user_id: Helpers.App.getUser().id,
                    invoice_number: e.data.invoice_number,
                  }),
                  this.dispatch("purchase.success", t);
              }.bind(this)
            )
            .bind(
              "purchase.failed",
              function (e) {
                var t = e && e.data ? e.data.status : 0,
                  n = e && e.data ? e.data.message : "";
                422 === t
                  ? this.dispatch("stage.error", {
                      error: !0,
                      errorType: "broken-stage",
                      message: n,
                    })
                  : "purchaseOverlay" != e.target.name &&
                    this.dispatch("purchase.failed", e.data);
              }.bind(this)
            ),
          this.purchaseOverlay
        );
      },
      setResolutionData: function (e) {
        this.leftChild &&
          this.leftChild.setResolutionData &&
          this.leftChild.setResolutionData(e);
      },
      isAttached: function () {
        return $.contains(document, this.element[0]);
      },
      setPreview: function (e) {
        e &&
          ((this.previewData = e),
          (this.updateImageBeforeActivate = e.interactive || !1),
          (this.updateImageBeforeActivate && this.isAttached() !== !0) ||
            this.setPreviewOnChildren(this.previewData));
      },
      setPreviewOnChildren: function (e) {
        (this.data = e),
          this.leftChild &&
            this.leftChild.setPreview &&
            this.leftChild.setPreview(e),
          this.rightChild &&
            this.rightChild.setPreview &&
            this.rightChild.setPreview(e);
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        (e.fields = {
          all: {
            style: {
              fontSize: "16px",
              fontColor: "#555555",
              padding: "1px",
              placeholder: {
                color: "#55555 !important",
              },
            },
          },
          number: {
            selector: "#recurly-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          cvv: {
            selector: "#recurly-cvv",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          month: {
            selector: "#recurly-month",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          year: {
            selector: "#recurly-year",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          vat_number: {
            selector: "#recurly-vat-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
        }),
          recurly.configure(e);
      },
      setAnimationTriggered: function () {
        $.cookie("_pl_purchase_animation", !0, {
          path: "/",
          expires: 3650,
        });
      },
      wasAnimationTriggered: function () {
        return Helpers.StageType.isFree()
          ? !0
          : "true" === $.cookie("_pl_purchase_animation") || !1;
      },
      _handleAnimation: function () {
        var e = this;
        this.element.find(".modal-body > *").css("opacity", "0"),
          this.element.one("shown.bs.modal", function () {
            e.setAnimationTriggered(), e.element.addClass("animate");
          }),
          this.element.one("hidden.bs.modal", function () {
            e.$animationInfo.remove(),
              e.element.find(".modal-body > *").css("opacity", "1");
          });
      },
      skipModalAndDownloadImmediately: function () {
        this.leftChild.directDownload();
      },
      downloadInmediatelyOrActivate: function () {
        Helpers.App.isSubscriptionValid() === !0
          ? this.skipModalAndDownloadImmediately()
          : this.activate();
      },
      setFreeTheme: function () {
        this.$orDiv.hide(),
          this.rightChild &&
            (this.rightChild.element.css("marginLeft", "10px"),
            this.rightChild.setTitle(),
            this.$rightArea.show());
      },
      setPaidTheme: function () {
        this.$orDiv.show(),
          this.rightChild &&
            (this.rightChild.setTitle(
              this.constructor.TEXT_SUBSCRIPTIONS_PARTIAL_TITLE
            ),
            this.rightChild.element.css("marginLeft", "0px"),
            this.$rightArea.show());
      },
      setAdminTheme: function () {
        this.setFreeTheme(),
          Helpers.App.getSubscription() &&
            this.rightChild &&
            this.$rightArea.hide();
      },
      setSubscribedTheme: function () {
        this.setFreeTheme(), this.rightChild && this.$rightArea.hide();
      },
    },
  }),
  Class(UI, "PurchasesModalTabs").inherits(Widget)({
    prototype: {
      $tabsWrapper: null,
      $tabs: null,
      $regularButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$tabsWrapper = this.element.find(".download-tabs")),
          (this.$tabContainers = this.$tabsWrapper.find("li.btn")),
          (this.$tabs = this.$tabsWrapper.find('a[data-toggle="tab"]')),
          (this.$regularButton = this.$tabs.filter(
            'a[href="#normalDownload"]'
          )),
          this._bindEvents();
      },
      _bindEvents: function () {
        return this;
      },
      activateRegularTab: function () {
        return this.$regularButton.tab("show"), this;
      },
      showTabs: function () {
        return this.$tabsWrapper.show(), this;
      },
      hideTabs: function () {
        return (
          this.$tabContainers.removeClass("active"),
          this.$tabsWrapper.hide(),
          this
        );
      },
      destroy: function () {
        (this.$tabsWrapper = null),
          (this.$tabs = null),
          (this.$regularButton = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "PurchaseResolutions").inherits(Widget)({
    prototype: {
      _activeGroupLabel: null,
      radios: null,
      keep_selection_storage: null,
      groups: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.radios = this.element.find(".resolution-options input:radio")),
          (this.keep_selection_storage = {}),
          (this.groups = {}),
          this._setGroup(
            "video_product",
            this.element.find(".download-overlay__image-size.is_video_product")
          ),
          this._setGroup(
            "smart_template",
            this.element.find(".download-overlay__image-size.is_smart_template")
          ),
          this._bindEvents();
      },
      _bindEvents: function () {
        var e = function (e) {
          var t;
          (e.target.checked = !0),
            this.radios.each(function (e, t) {
              t.parentNode.classList.remove("selected");
            }),
            e.target.parentNode.classList.add("selected"),
            (t = Registry.Resolutions.getByKey("id", ~~e.target.value)),
            Helpers.Resolutions.setActive(t),
            this.setActiveGroup(e.target),
            this.dispatch("resolution-selected");
        }.bind(this);
        this.radios.on("click", e);
      },
      _setGroup: function (e, t) {
        void 0 === this.groups[e] &&
          ((this.groups[e] = {}), (this.keep_selection_storage[e] = null)),
          (this.groups[e].element = t),
          (this.groups[e].first = t.find("input[type=radio]")[0]);
      },
      _hideAllGroups: function () {
        for (var e in this.groups)
          this.groups.hasOwnProperty(e) && this.groups[e].element.hide();
      },
      showOptions: function (e) {
        this._hideAllGroups(),
          this.groups[e].element.show(),
          this.setActiveGroupLabel(e),
          this.isActiveGroup(e) === !1 &&
            this.setActiveGroup(this.groups[e].first),
          this.getActiveGroup().click();
      },
      setActiveGroupLabel: function (e) {
        this._activeGroupLabel = e;
      },
      setActiveGroup: function (e) {
        this.keep_selection_storage[this._activeGroupLabel] = e;
      },
      getActiveGroup: function () {
        return this.keep_selection_storage[this._activeGroupLabel];
      },
      getActiveGroupByName: function (e) {
        return this.keep_selection_storage[e];
      },
      isActiveGroup: function (e) {
        return this.keep_selection_storage[e]
          ? this.keep_selection_storage[e]
          : !1;
      },
      getByID: function (e) {
        var t = this.radios.filter(e);
        return t ? t : !1;
      },
      selectByID: function (e) {
        var t = this.radios.filter(e);
        t ? t.click() : console.warn("resolution not found");
      },
      getSelected: function () {
        return this.radios.filter(":checked");
      },
    },
  }),
  Class(UI, "BillingInfo").inherits(Widget)({
    html: '<div class="container"></div>      <div class="widget billing-info">    <div class="billing_error_message">      </div>        <div class="form-widget-container"></div>        <div class="footer">          <button type="submit" class="button primary long">Update</button>        </div>      </div>    ',
    prototype: {
      accountRecord: null,
      submitBtn: null,
      billingForm: null,
      errorMessage: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.submitBtn = this.element.find(".footer > button")),
          (this.formContainer = this.element.find(".form-widget-container")),
          (this.errorMessage = this.element.find(".billing_error_message")),
          (this.billingForm = new UI.BillingForm({
            name: "billingForm",
            accountRecord: this.accountRecord,
          })),
          this._setBindings();
      },
      _setBindings: function () {
        return (
          this.submitBtn.on("click", this._submitEventHandler.bind(this)),
          this.billingForm.bind(
            "country.change",
            function (e) {
              ~this.billingForm.euCountries.indexOf(
                e.data.$countryCode.toUpperCase()
              )
                ? this.billingForm.showVatField()
                : this.billingForm.hideVatField();
            }.bind(this)
          ),
          this
        );
      },
      _submitEventHandler: function (e) {
        e.preventDefault();
        var t = this;
        this._setLoadingCardForm(!0),
          this.hideServerError(),
          this.billingForm
            .getToken()
            .then(function (e) {
              var n = t.billingForm.getContactData();
              $.ajax({
                url: "/account/billing",
                type: "PUT",
                data: {
                  email: n.email,
                  token: e.id,
                },
              })
                .done(function () {
                  t.dispatch("update.success");
                })
                .fail(function (e) {
                  var n = e.responseJSON.message;
                  t.dispatch("update.failed", n),
                    t._setLoadingCardForm(!1),
                    t.billingForm.markInvalidBillingInfo();
                });
            })
            ["catch"](function () {
              t._setLoadingCardForm(!1);
            });
      },
      showServerError: function (e) {
        var t = $('<div class="alert alert-danger alert-dismissible"></div>'),
          n = $(
            '<span class="billing_error_message">' +
              e +
              '</span> <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a></div>'
          );
        t.append(n),
          this.errorMessage.append(t),
          this.errorMessage.removeClass("hide");
      },
      hideServerError: function () {
        this.errorMessage.addClass("hide"), this.errorMessage.html("");
      },
      _setLoadingCardForm: function (e) {
        e === !0
          ? (this.submitBtn.html(""),
            this.submitBtn.addClass("no-text-btn light-spinner"),
            this.submitBtn.css({
              "pointer-events": "none",
            }))
          : e === !1 &&
            (this.submitBtn.html("Update"),
            this.submitBtn.removeClass("no-text-btn light-spinner"),
            this.submitBtn.css({
              "pointer-events": "auto",
            }));
      },
      render: function (e, t) {
        return (
          Widget.prototype.render.call(this, e, t),
          this.billingForm.render(this.formContainer),
          this
        );
      },
      destroy: function () {
        (this.submitBtn = null),
          this.billingForm.destroy(),
          (this.billingForm = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "BillingForm").inherits(Widget).includes(Translator)({
    html: '<div class="widget billing-form">        <form class="recurly billing_form">          <div class="contact_info">            <div class="title">Billing Contact</div>            <div class="floating-label-input name">              <label class="">Name<i class="field-dot-required">*</i></label>              <input id="recurly-first-name" data-recurly="first_name" required>            </div>            <div class="floating-label-input last-name">              <label class="">Last Name<i class="field-dot-required">*</i></label>              <input id="recurly-last-name" data-recurly="last_name" required>            </div>            <div class="floating-label-input business-name">              <label class="">Business Name (optional)</label>              <input id="recurly-company" data-recurly="company">            </div>            <div class="floating-label-input email">              <label class="">Email</label>              <input type="email" class="form-control" id="recurly-email" required>            </div>          </div>          <div class="billing_info">            <div class="title">Billing Info </div>            <div class="floating-label-input card-number">                <label class="">Card Number<i class="field-dot-required">*</i></label>                <div id="recurly-number" class="card_number" data-recurly="number"></div>            </div>            <div class="floating-label-input month">                <label class="">Expiry Month<i class="field-dot-required">*</i></label>                <div id="recurly-month" data-recurly="month"></div>            </div>            <div class="floating-label-input year">                <label class="">Expiry Year<i class="field-dot-required">*</i></label>                <div id="recurly-year" data-recurly="year"></div>            </div>            <div class="floating-label-input cvv">                <label class="">Security Code<i class="field-dot-required">*</i></label>                <div id="recurly-cvv" class="card_number" data-recurly="cvv"></div>            </div>            <div class="floating-label-input country">                <label class="">Country</label>                <input class="recurly-country" autocomplete="nope">                <input type="hidden" class="recurly-country_code" data-recurly="country" />            </div>            <div class="floating-label-input zip">                <label class="">Zip/Postal<i class="field-dot-required">*</i></label>                <input id="recurly-postal-code" data-recurly="postal_code">            </div>            <div class="floating-label-input vat">                <label>VAT Number (Optional)</label>                <input id="recurly-vat-number" data-recurly="vat_number" maxlength="20">            </div>          </form>        </div>    ',
    BRAZIL_CPF_FIELD:
      '<div class="floating-label-input cpf">        <label>CPF<i class="field-dot-required">*</i></label>        <input id="recurly-tax_identifier" data-recurly="tax_identifier" required>        <input id="recurly-tax_identifier_type" data-recurly="tax_identifier_type" class="hidden" value="cpf">    </div>',
    TEXT_FIELD_ERROR: "Wrong",
    TEXT_FIELD_REQUIRED: "Required",
    BRAZIL_CURRENCY: "BRL",
    prototype: {
      accountRecord: null,
      withTitles: !0,
      $formElement: null,
      $errorContainer: null,
      $firstNameElement: null,
      $lastNameElement: null,
      $emailElement: null,
      $country: null,
      $zipCode: null,
      $countryCode: null,
      $vatNumber: null,
      $vatField: null,
      euCountries: null,
      lastFieldsState: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.currentCurrency = window.currencyHelper.getLabel(
            window.recurlyConfig.currency
          )),
          (this.$formElement = this.element.find("> .recurly.billing_form")),
          (this.$errorContainer = this.element.find(".server_errors")),
          (this.$firstNameElement = this.element.find("#recurly-first-name")),
          (this.$lastNameElement = this.element.find("#recurly-last-name")),
          (this.companyElement = this.element.find("#recurly-company")),
          (this.$emailElement = this.element.find("#recurly-email")),
          (this.$country = this.element.find(".recurly-country")),
          (this.$zipCode = this.element.find("#recurly-postal-code")),
          (this.$countryCode = this.element.find(".recurly-country_code")),
          (this.$vatNumber = this.element.find(".vat")),
          (this.$vatField = this.element.find("#recurly-vat-number")),
          (this.euCountries = Helpers.App.getEUCountries()),
          (this.identifiers = {
            number: Helpers.App.generateUid(),
            month: Helpers.App.generateUid(),
            year: Helpers.App.generateUid(),
            cvv: Helpers.App.generateUid(),
          }),
          this.element
            .find("#recurly-number")
            .attr("recurly-identifier", this.identifiers.number),
          this.element
            .find("#recurly-month")
            .attr("recurly-identifier", this.identifiers.month),
          this.element
            .find("#recurly-year")
            .attr("recurly-identifier", this.identifiers.year),
          this.element
            .find("#recurly-cvv")
            .attr("recurly-identifier", this.identifiers.cvv),
          this.currentCurrency === this.constructor.BRAZIL_CURRENCY &&
            (this._addCPFField(),
            this.$formElement
              .find(".floating-label-input.country")
              .addClass("brazil-country")),
          this._populateFields(),
          this._setBindings();
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
          required: ["cvv"],
        };
        (e.fields = {
          all: {
            style: {
              fontSize: "16px",
              fontColor: "#555555",
              padding: "1px",
              placeholder: {
                color: "#55555 !important",
              },
            },
          },
          number: {
            selector: '[recurly-identifier="' + this.identifiers.number + '"]',
            style: {
              placeholder: {
                content: "1111 1111 1111 1111",
              },
            },
          },
          cvv: {
            selector: '[recurly-identifier="' + this.identifiers.cvv + '"]',
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          month: {
            selector: '[recurly-identifier="' + this.identifiers.month + '"]',
            style: {
              placeholder: {
                content: "MM",
              },
            },
          },
          year: {
            selector: '[recurly-identifier="' + this.identifiers.year + '"]',
            style: {
              placeholder: {
                content: "YYYY",
              },
            },
          },
        }),
          DataCollector.getDataCollector()
            .then(function (t) {
              e.fraud = {
                braintree: {
                  deviceData: t.deviceData,
                },
              };
            })
            ["finally"](function () {
              recurly.configure(e);
            });
      },
      _addCPFField: function () {
        var e = $(this.constructor.BRAZIL_CPF_FIELD);
        this.$formElement.find(".billing_info").append(e);
      },
      _populateFields: function () {
        return (
          this.accountRecord &&
            (this.$firstNameElement.val(
              this.accountRecord.billing_info.firstName
            ),
            this.$lastNameElement.val(this.accountRecord.billing_info.lastName),
            this.companyElement.val(this.accountRecord.billing_info.company),
            this.$zipCode.val(this.accountRecord.billing_info.zip),
            this.$vatField.val(this.accountRecord.billing_info.$vatNumber),
            this.$emailElement.val(
              this.accountRecord.contact_info.email ||
                Helpers.App.getUser().email
            ),
            this.accountRecord.billing_info.country ||
              (this.accountRecord.billing_info.country = "us"),
            this.currentCurrency === this.constructor.BRAZIL_CURRENCY &&
              (this.accountRecord.billing_info.country = "br")),
          this
        );
      },
      _setBindings: function () {
        var e = this;
        this.$country.on(
          "change init",
          function () {
            this.dispatch("country.change", {
              $countryCode: this.getSelectedCountry(),
            });
          }.bind(this)
        ),
          this.$country.on(
            "click",
            function () {
              var e = this;
              setTimeout(function () {
                e.element.find(".selected-flag").first().trigger("click");
              }, 0);
            }.bind(this)
          ),
          recurly.on(
            "change",
            function (e) {
              this.lastFieldsState = e;
            }.bind(this)
          ),
          this.element
            .find(".floating-label-input>input")
            .on("focusin", function (e) {
              $(e.target).parent().addClass("active");
            }),
          this.element
            .find(".floating-label-input>input")
            .on("focusout", function (e) {
              var t = $(e.target);
              t.val() || t.parent().removeClass("active");
            });
        var t = Helpers.App.debounce(this._vatFieldChanged, 1e3).bind(e);
        return (
          this.$vatField.bind("keyup", function () {
            t();
          }),
          this._userStartedFilling(),
          this
        );
      },
      getVatNumber: function () {
        return this.$vatField.val() || "";
      },
      getSelectedCountry: function () {
        var e = "US";
        this.currentCurrency === this.constructor.BRAZIL_CURRENCY && (e = "BR");
        var t = this.$country.countrySelect("getSelectedCountryData");
        return this.$countryCode.val(t.iso2), this.$countryCode[0].value || e;
      },
      _vatFieldChanged: function () {
        this.dispatch("vatNumber.change", {
          vatNumber: this.getVatNumber(),
        });
      },
      _userStartedFilling: function () {
        var e = this,
          t = !1;
        e.element.find(".floating-label-input>input").keypress(function () {
          t ||
            (Helpers.GlobalEventTracker.cardFormForPlanStartedFilling(),
            (t = !0));
        }),
          recurly.on("change", function (e) {
            if (!t) {
              var n = e.fields;
              Object.keys(n).forEach(function (e) {
                n[e].focus &&
                  !n[e].empty &&
                  (Helpers.GlobalEventTracker.cardFormForPlanStartedFilling(),
                  (t = !0));
              });
            }
          });
      },
      isFieldStateEmpty: function (e) {
        var t = !0;
        return (
          this.lastFieldsState && (t = this.lastFieldsState.fields[e].empty), t
        );
      },
      showVatField: function () {
        this.$vatNumber.show();
      },
      hideVatField: function () {
        this.$vatField.val(""), this.$vatNumber.hide();
      },
      getToken: function () {
        var e = this,
          t = this.$formElement.get(0);
        return (
          e.currentCurrency === e.constructor.BRAZIL_CURRENCY &&
            ((e.accountRecord.billing_info.country = "br"),
            e.$country.countrySelect(
              "selectCountry",
              e.accountRecord.billing_info.country
            )),
          new Promise(function (n, i) {
            recurly.token(t, function (t, r) {
              var s = [];
              t &&
                ("validation" === t.code || "invalid-parameter" === t.code) &&
                (s = s.concat(t.fields)),
                e._isEmailInvalid() === !0 && s.push("email"),
                e.currentCurrency === e.constructor.BRAZIL_CURRENCY &&
                  "" === e.element.find("#recurly-tax_identifier").val() &&
                  s.push("tax_identifier"),
                s.length
                  ? (e.validateFields(s),
                    i(
                      t || {
                        message: "Error processing data",
                        fields: s,
                      }
                    ))
                  : (e.markFieldsAsValid(), n(r));
            });
          })
        );
      },
      _isEmailInvalid: function () {
        var e = this.getContactData(),
          t = !1;
        if (e.email) {
          var n =
            /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          t = !n.test(String(e.email).toLowerCase());
        }
        return t;
      },
      getContactData: function () {
        return {
          firstName: this.$firstNameElement.val(),
          lastName: this.$lastNameElement.val(),
          company: this.companyElement.val(),
          zip: this.$zipCode.val(),
          vat: this.$vatField.val(),
          email: this.$emailElement.val(),
        };
      },
      validateFields: function (e) {
        this.markFieldsAsValid();
        this.$formElement.get(0);
        return (
          e.forEach(
            function (e) {
              var e = e.replace(/\_/g, "-"),
                t = this.element.find("#recurly-" + e),
                n = t.parent(),
                i = n.children(".placeholder"),
                r = "";
              n.addClass("invalid");
              var s = this.lastFieldsState.fields[e];
              s
                ? s.empty
                  ? (r = i.text() + " " + this.constructor.TEXT_FIELD_REQUIRED)
                  : s.valid === !1 &&
                    (r = this.constructor.TEXT_FIELD_ERROR + " " + i.text())
                : (r = t.val()
                    ? this.constructor.TEXT_FIELD_ERROR + " " + i.text()
                    : i.text() + " " + this.constructor.TEXT_FIELD_REQUIRED),
                n.append(
                  $('<label class="error-helper-text">' + r + "</label>")
                );
            }.bind(this)
          ),
          this
        );
      },
      markInvalidBillingInfo: function () {
        return this.validateFields(["number", "month", "year", "cvv"]), this;
      },
      markFieldsAsValid: function () {
        return (
          this.element.find(".error-helper-text").remove(),
          this.element.find(".invalid").removeClass("invalid"),
          this
        );
      },
      render: function (e, t) {
        Widget.prototype.render.call(this, e, t);
        var n = "us";
        return (
          this._configureRecurly(),
          this.$country.countrySelect({
            responsiveDropdown: !0,
          }),
          this.accountRecord &&
            this.accountRecord.billing_info.country &&
            (n = this.accountRecord.billing_info.country),
          this.currentCurrency === this.constructor.BRAZIL_CURRENCY &&
            (n = "br"),
          this.$country.countrySelect("selectCountry", n),
          this.$countryCode.val(n),
          ~this.euCountries.indexOf(n) &&
            (this.$vatNumber.show(), this.$country.trigger("change")),
          this.withTitles === !1 && this.element.find(".title").remove(),
          this
        );
      },
      triggerChangeCountry: function () {
        this.$country.trigger("change");
      },
      enableForm: function () {
        this.element.find(".floating-label-input").removeClass("disabled");
      },
      disableForm: function () {
        this.element.find(".floating-label-input").addClass("disabled");
      },
      destroy: function () {
        (this.$formElement = null),
          (this.$errorContainer = null),
          (this.$firstNameElement = null),
          (this.$lastNameElement = null),
          (this.companyElement = null),
          (this.$emailElement = null),
          (this.$country = null),
          (this.$zipCode = null),
          (this.$countryCode = null),
          (this.$vatNumber = null),
          (this.$vatField = null),
          (this.euCountries = null),
          Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "PayPalModal").inherits(Widget).includes(Translator)({
    html: '        <div class="modal paypal-modal fade" id="paypalModal" data-keyboard="false" role="dialog" aria-labelledby="modal-title" aria-hidden="true">          <div class="modal-dialog">            <div class="modal-content">              <div class="modal-header grayed">                <h4 id="modal-title">Waiting for PayPal...</h4>              </div>              <div class="modal-body">                <div class="text-center content">                  <h3> Please complete the payment on the PayPal window </h3>                  <p> Do <b><u>not</b></u> close this window. If something went wrong, <a id="retry"> click here to restart the process </a>. </p>                </div>                <div class="text-center spinner">                  <img src="./assets/paypal_loader.gif">                </div>              </div>            </div>          </div>        </div>    ',
    prototype: {
      init: function (e) {
        return (
          Widget.prototype.init.call(this, e),
          (this.retry = this.element.find("#retry")),
          this.element.bind(
            "hidden.bs.modal",
            function () {
              this.dispatch("paypal.deactivate");
            }.bind(this)
          ),
          this.retry.bind(
            "click",
            function () {
              this.dispatch("paypal.retry");
            }.bind(this)
          ),
          this
        );
      },
      initPayment: function (e) {
        return (
          recurly.paypal(
            e,
            function (e, t) {
              e
                ? this.dispatch("paypal.reject", e)
                : this.dispatch("paypal.success", t);
            }.bind(this)
          ),
          this
        );
      },
      activate: function () {
        return (
          Widget.prototype.activate.call(this), this.element.modal("show"), this
        );
      },
      deactivate: function () {
        return (
          this.element.modal("hide"),
          Widget.prototype.deactivate.call(this),
          this
        );
      },
      render: function (e, t) {
        return (
          Widget.prototype.render.call(this, e, t),
          this.element.modal("show"),
          this
        );
      },
      destroy: function () {
        (this.retry = null), Widget.prototype.destroy.call(this);
      },
    },
  }),
  Class(UI, "CTABlockSection")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Helpers.CouponHelper,
      BubblingSupport,
      Translator
    )({
    TEXT_SUBSCRIPTION_ACTIVATION_ERROR:
      "Your subscription could not be activated, Please try again later",
    TEXT_INVALID_OR_CANCELED_SUBSCRIPTION:
      "Invalid subscription or already canceled subscription",
    TEXT_ERROR_CHARGING_STORE_CARD:
      "There was an error charging your stored card. Please use another payment option.",
    prototype: {
      $monthlyButton: null,
      $monthlyPrice: null,
      $monthlyOriginalPrice: null,
      $annualButton: null,
      $annualPrice: null,
      _taxRequestInProgress: null,
      PERIOD_MONTHLY: "monthly",
      PERIOD_ANNUAL: "annual",
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$annualSave = this.element.find(".annual-save")),
          (this.$monthlyButton = this.element.find(".cta-button-monthly")),
          (this.$annualButton = this.element.find(".cta-button-annual")),
          (this.$taxInformation = this.element.find(".plan-tax")),
          (this.$monthlyPrice = this.element.find(".monthly-price")),
          (this.$monthlyOriginalPrice = this.element.find(
            ".monthly-original-price"
          )),
          (this.$annualPrice = this.element.find(".annual-price")),
          (this.$annualMonthlyAmount = this.element.find(
            ".annual-monthly-amount"
          )),
          (this["buttonWrapper_" + Registry.Plans.PLAN_MONTHLY] =
            this.element.find(".plan-button-wrapper.plan-monthly")),
          (this["buttonWrapper_" + Registry.Plans.PLAN_ANNUAL] =
            this.element.find(".plan-button-wrapper.plan-annual")),
          this._bindEvents(),
          this._configureRecurly(),
          this._updatePriceAndTax();
      },
      _bindEvents: function () {
        this.$monthlyButton.click(this._onSubscriptionButtonClick.bind(this)),
          this.$annualButton.click(this._onSubscriptionButtonClick.bind(this)),
          Helpers.CouponHelper.bind(
            "coupon.validated",
            this._updatePriceAndTax.bind(this)
          ),
          Helpers.CouponHelper.bind(
            "coupon.removed",
            this._updatePriceAndTax.bind(this)
          ),
          this.bind(
            "purchase.success",
            this._handleSubscriptionSuccess.bind(this)
          );
      },
      _setTaxMessage: function (e) {
        var t = this,
          n = t.getTaxMessage(e);
        n.then(function (e) {
          t.$taxInformation.text(e);
        })["catch"](function (e) {
          t.$taxInformation.text(e);
        });
      },
      _updateTaxRate: function () {
        var e, t, n;
        (n = this),
          (e = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY)),
          (t = Helpers.Price.plan(e)),
          t.price.then(function (e) {
            n._setTaxMessage(e),
              t.priceWithDiscount.then(function (e) {
                n._setTaxMessage(e);
              });
          });
      },
      _onSubscriptionButtonClick: function (e) {
        var t,
          n = e.currentTarget;
        (this.$monthlyButton.attr("disabled") &&
          this.$annualButton.attr("disabled")) ||
          (this.$monthlyButton.attr("disabled", !0),
          this.$annualButton.attr("disabled", !0),
          (t = Registry.Plans.get(
            $(n).data("period") === this.PERIOD_ANNUAL
              ? Registry.Plans.PLAN_ANNUAL
              : Registry.Plans.PLAN_MONTHLY
          )),
          Helpers.GlobalEventTracker.planCTAClicked({
            session: Helpers.App.getTrackerId(),
            user_id: Helpers.App.getUser().id,
            plan_name: t.name,
          }),
          sessionStorage.setItem("plan", $(n).data("period")),
          this.dispatch("subscribe:button:clicked"));
      },
      subscribeButtonClick: function () {
        Helpers.App.isLoggedIn()
          ? this._handlePlanSubscribe()
          : (this.dispatch("purchase.not_logged_in"),
            Helpers.App.setSubscribeFromModal("cta-block"),
            setTimeout(
              function () {
                this.$monthlyButton.attr("disabled", !1),
                  this.$annualButton.attr("disabled", !1);
              }.bind(this)
            ));
      },
      _handlePlanSubscribe: function () {
        var e,
          t = this;
        switch (sessionStorage.getItem("plan")) {
          case this.PERIOD_MONTHLY:
            (e = Registry.Plans.get(Registry.Plans.PLAN_MONTHLY)),
              (this.period = this.PERIOD_MONTHLY);
            break;
          case this.PERIOD_ANNUAL:
            (e = Registry.Plans.get(Registry.Plans.PLAN_ANNUAL)),
              (this.period = this.PERIOD_ANNUAL);
        }
        t.signRequestWithRecurly(e, t.discount, function (e) {
          var n =
            e.billing_info.lastFour || e.billing_info.paypalBillingAgreementId;
          n
            ? t._showStoredBillingInfo(e)
            : (Helpers.GlobalEventTracker.recurlyFormAfterPlanSelected({
                plan_code: e.plan_code,
                amount_in_cents: e.amount_in_cents,
                description: e.description,
              }),
              t._showPaymentForm(e));
        });
      },
      _showStoredBillingInfo: function (e) {
        this.instantiateStoredBillingInfoOverlay(),
          this.storedBillingInfoOverlay.refresh(e),
          this.storedBillingInfoOverlay.activate(),
          setTimeout(
            function () {
              this.$monthlyButton.attr("disabled", !1),
                this.$annualButton.attr("disabled", !1);
            }.bind(this),
            0
          );
      },
      instantiateStoredBillingInfoOverlay: function () {
        void 0 === this.storedBillingInfoOverlay &&
          (this.appendChild(
            new UI.StoredBillingInfoOverlay({
              name: "storedBillingInfoOverlay",
            })
          ),
          this.storedBillingInfoOverlay
            .bind(
              "change-card",
              function (e) {
                this._showPaymentForm(e.data.recurlyData);
              }.bind(this)
            )
            .bind(
              "use-stored-card",
              function (e) {
                this._useStoredBillingInfo(e.data.recurlyData);
              }.bind(this)
            ));
      },
      _showPaymentForm: function (e) {
        var t, n, i;
        (n = this.getEventTrackerName()),
          (i = EventTracker.info({
            type: n,
            data: {},
          })),
          (t = null),
          Helpers.CouponHelper.isValid() &&
            Helpers.CouponHelper.applyToPlan(e.plan_recurly_uuid) &&
            (t = Helpers.CouponHelper.getCode());
        var r = {
          ajaxUrl: "/subscriptions/{{token}}/transaction",
          ajaxParams: {
            plan_recurly_uuid: e.plan_recurly_uuid,
            coupon_code: t,
            eventData: i,
          },
        };
        $.extend(!0, e, r),
          this.purchaseOverlay && this.purchaseOverlay.destroy(),
          this.appendChild(
            new UI.PurchaseOverlay({
              name: "purchaseOverlay",
              purchaseRecord: e,
              paymentType: "subscription",
              discount: this.discount,
            })
          ),
          this.purchaseOverlay.bind(
            "purchase.failed",
            function (e) {
              if ("purchaseOverlay" !== e.target.name) {
                var t = this.constructor.TEXT_SUBSCRIPTION_ACTIVATION_ERROR;
                this.dispatch("subscription.failure", {
                  message: t,
                });
              }
            }.bind(this)
          ),
          this.purchaseOverlay
            .initSubscriptionForm()
            .render($("body"))
            .activate(),
          setTimeout(
            function () {
              this.$monthlyButton.attr("disabled", !1),
                this.$annualButton.attr("disabled", !1);
            }.bind(this)
          );
      },
      getEventTrackerName: function () {
        var e;
        switch (((e = "Subscription:success:"), this.period)) {
          case this.PERIOD_MONTHLY:
            e += "Unlimited";
            break;
          case this.PERIOD_ANNUAL:
            e += "Unlimited:Annual";
        }
        return e;
      },
      _configureRecurly: function () {
        var e = {
          currency: window.recurlyConfig.currency,
          publicKey: window.recurlyConfig.publicKey,
        };
        (e.fields = {
          all: {
            style: {
              fontSize: "16px",
              fontColor: "#555555",
              padding: "1px",
              placeholder: {
                color: "#55555 !important",
              },
            },
          },
          number: {
            selector: "#recurly-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          cvv: {
            selector: "#recurly-cvv",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          month: {
            selector: "#recurly-month",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          year: {
            selector: "#recurly-year",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
          vat_number: {
            selector: "#recurly-vat-number",
            style: {
              placeholder: {
                content: "",
              },
            },
          },
        }),
          recurly.configure(e);
      },
      _handleSubscriptionSuccess: function (e) {
        Helpers.App._getPurchases(
          function () {
            var t;
            window.page.appNavBar.updateStatus();
            var n = {};
            (n.message = "Your subscription is now activated"),
              this.dispatch("subscription.success", n),
              (t = this.getEventTrackerName()),
              Helpers.GlobalEventTracker.subscriptionSuccess({
                plan_name: Helpers.App.getSubscription().plan.name,
                plan_recurly_uuid:
                  Helpers.App.getSubscription().plan.recurly_uuid,
                amount_in_cents:
                  Helpers.App.getSubscription().plan.amount_in_cents,
                user_id: Helpers.App.getUser().id,
                event: t,
                invoice_number: e.data.invoice_number,
              });
          }.bind(this)
        );
      },
      _renderPlanButtons: function () {
        this._renderPlanButton(Registry.Plans.PLAN_MONTHLY),
          this._renderPlanButton(Registry.Plans.PLAN_ANNUAL);
      },
      _updatePriceAndTax: function () {
        this._renderPlanButtons(), this._updateTaxRate();
      },
    },
  }),
  Class(UI, "FooterController").inherits(Widget).includes(BubblingSupport)({
    prototype: {
      $footerFeedbackSection: null,
      $userVoiceButton: null,
      init: function (e) {
        if (
          (Widget.prototype.init.call(this, e),
          (this.footerContainer = $("#footer-header")),
          this.footerContainer.length > 0)
        ) {
          (this.footerColumns = $("#footer-header .column")),
            (this.footerListItems = $(
              "#footer-header .column .footer-links li"
            )),
            (this.footerLicenseLink = $(
              '#footer-header a:contains("License")'
            )),
            (this.olarkElementsLink = $(
              '#footer-header a:contains("Chat with Us")'
            ).parent()),
            (this.$pricingButton = $(".js-btn-footer-pricing")),
            (this.$freeAccount = $(".free-account"));
          var t = "&nbsp;<img src='/assets/bubble-chat-grey.gif' />";
          this.olarkElementsLink.append(t),
            this.handleLiveChat(),
            this.bindings(),
            this._appendPricingButton(),
            this.updatePricingButton();
        }
      },
      bindings: function () {
        var e = this;
        this.footerLicenseLink.click(function (e) {
          return (
            e.preventDefault(),
            e.stopPropagation(),
            Helpers.GlobalEventTracker.openLicenseModal(),
            new UI.FriendlyLicenseModal().activate()
          );
        }),
          this.olarkElementsLink.click(function (e) {
            e.preventDefault(), e.stopPropagation();
          }),
          this.$freeAccount.click(function () {
            e.dispatch("click", {
              originalDispatcher: {
                name: "freeAccountButton",
              },
            });
          });
      },
      handleLiveChat: function () {
        var e = function () {
          $(document).off("focusin.modal");
        };
      },
      updatePricingButton: function () {
        if (this.pricingButton) {
          var e = Helpers.App.getSubscription();
          this.pricingButton.update(e);
        }
      },
      _appendPricingButton: function () {
        this.appendChild(
          new UI.PricingButton({
            name: "pricingButton",
            element: this.$pricingButton,
          })
        );
      },
      hideFreeAccountButton: function () {
        this.$freeAccount.hide();
      },
    },
  }),
  Class(UI, "ShortcutDownloadStep").inherits(Widget)({
    html: '        <div>            <p class="title">Get Your Video!</p>            <div class="shortcut__video-wrapper shortcut__video-wrapper--paused">                <div class="shortcut__video-play-button">                </div>                <video muted="" playsinline=""></video>            </div>            <div class="btn-group video-actions">                <button type="button" class="btn btn-primary dowload-shortcut-button">Download to Camera Roll</button>                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span></button>                <ul class="dropdown-menu">                    <li><a href="javascript:void(0)" class="instagram-shortcut-button">Publish to Instagram</a></li>                </ul>            </div>            <hr>            <p>Is the Button Above Not Working?</p>            <p><small>You need the <a class="shortcut-external-links" href="https://itunes.apple.com/app/shortcuts/id915249334" target="_blank">Shortcuts App</a> and the <a class="shortcut-external-links" href="https://www.icloud.com/shortcuts/afa2c3877c6a4d9eb3e860bec818dfe0" target="_blank">Placeit Shortcut</a>. Both are 100% Safe + FREE.<small></p>        </div>    ',
    prototype: {
      $video: null,
      $videoPlayButton: null,
      videoDownloadURL: null,
      videoPreviewURL: null,
      PAUSE_CLASS: "shortcut__video-wrapper--paused",
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$video = this.element.find("video")),
          (this.$videoPlayButton = this.element.find(
            ".shortcut__video-play-button"
          )),
          (this.$videoWrapper = this.element.find(".shortcut__video-wrapper")),
          (this.$downloadButton = this.element.find(
            ".dowload-shortcut-button"
          )),
          (this.$instagramButton = this.element.find(
            ".instagram-shortcut-button"
          )),
          this.$videoWrapper.hide(),
          this.$video.attr("src", this.videoPreviewURL).load(),
          this._removeVideoURLParams(),
          this._bindEvents(),
          Helpers.GlobalEventTracker.iosShortcutEvent("videoDownloadModal");
      },
      _getErrorURI: function () {
        var e = new URL(window.location.href);
        e.searchParams.append("videoDownloadURL", this.videoDownloadURL),
          e.searchParams.append("videoPreviewURL", this.videoPreviewURL);
        var t = e.href;
        return (
          this._browserIsFirefox()
            ? (t = "firefox://open-url?url=" + encodeURIComponent(t))
            : this._browserIsSafari() ||
              (t = t.replace("https", "googlechromes")),
          encodeURIComponent(t)
        );
      },
      _getShortcutURL: function () {
        var e = this._getErrorURI();
        return (
          "shortcuts://x-callback-url/run-shortcut?name=Placeit%20Video%20for%20iPhone&x-cancel=" +
          e +
          "&x-error=" +
          e +
          "&input="
        );
      },
      _downloadVideo: function () {
        Helpers.GlobalEventTracker.iosShortcutEvent("download.cameraRoll"),
          this._runShortcut(this.videoDownloadURL);
      },
      _publishToInstagram: function () {
        Helpers.GlobalEventTracker.iosShortcutEvent("download.instagram"),
          this._runShortcut(this.videoDownloadURL + "?publishToInstagram");
      },
      _runShortcut: function (e) {
        var t = this._getShortcutURL() + e;
        this._browserIsSafari() ? window.open(t) : (window.location.href = t);
      },
      _browserIsSafari: function () {
        return (
          Helpers.App.isIOSSafari() &&
          !window.navigator.userAgent.match(/FxiOS/i)
        );
      },
      _browserIsFirefox: function () {
        return (
          Helpers.App.isIOSSafari() &&
          window.navigator.userAgent.match(/FxiOS/i)
        );
      },
      _playVideo: function () {
        this.$videoWrapper.removeClass(this.PAUSE_CLASS),
          this.$video.get(0).play();
      },
      _pauseVideo: function () {
        this.$videoWrapper.addClass(this.PAUSE_CLASS),
          this.$video.get(0).pause();
      },
      _removeVideoURLParams: function () {
        this.videoDownloadURL &&
          (this.videoDownloadURL = this.videoDownloadURL.split("?")[0]);
      },
      _bindEvents: function () {
        var e = this;
        e.$videoPlayButton.on("click", function () {
          e._playVideo();
        }),
          e.$video.on("click", function () {
            e._pauseVideo();
          }),
          e.$video.on("ended", function () {
            e.$video.get(0).load(), e._pauseVideo();
          }),
          e.$video.on("loadstart", function () {
            e.$videoWrapper.show();
          }),
          e.$downloadButton.on("click", function () {
            e._downloadVideo();
          }),
          e.$instagramButton.on("click", function () {
            e._publishToInstagram();
          });
      },
    },
  }),
  Class(UI, "ShortcutInstruction5").inherits(Widget)({
    html: '        <div>            <p class="title">That\'s It!</p>            <p class="message">                Look for any video in your Downloads Page and tap the "Download" button.            </p>            <button class="button primary">Done</button>        </div>    ',
    prototype: {
      $primaryButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$primaryButton = this.element.find(".primary")),
          this.bindEvents();
      },
      bindEvents: function () {
        var e = this;
        e.$primaryButton.on("click", function () {
          e.dispatch("finish");
        });
      },
    },
  }),
  Class(UI, "ShortcutInstruction1").inherits(Widget)({
    html: '        <div>            <p class="title">1. You Need the Shortcuts App!</p>            <p class="message">                With the Apple Shotcuts app, you can download Placeit videos to your phone!                <b>It\u2019s 100% safe & free.</b>            </p>            <button class="button primary">Get the FREE Apple Shortcuts App</button>            <button class="secondary btn btn-link">I already have it</button>        </div>    ',
    prototype: {
      $primaryButton: null,
      $secondaryButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$primaryButton = this.element.find(".primary")),
          (this.$secondaryButton = this.element.find(".secondary")),
          this.bindEvents(),
          Helpers.GlobalEventTracker.iosShortcutEvent("openInstructions");
      },
      bindEvents: function () {
        var e = this;
        e.$primaryButton.on("click", function () {
          e.dispatch("goNext", {
            nextStep: 2,
          }),
            window.open("https://itunes.apple.com/app/shortcuts/id915249334");
        }),
          e.$secondaryButton.on("click", function () {
            e.dispatch("goNext", {
              nextStep: 3,
            });
          });
      },
    },
  }),
  Class(UI, "ShortcutFlow").inherits(Widget)({
    html: '    <div class="modal shortcut-flow fade" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">        <span aria-hidden="true">\xd7</span>    </button>      <div class="modal-dialog">        <div class="modal-content">          <div class="modal-body">          </div>        </div>      </div>    </div>',
    prototype: {
      $modalBody: null,
      $modalContent: null,
      $closeBtn: null,
      $modalFooter: null,
      currentStepInstance: null,
      alertMessages: {
        alert: "Something went wrong, please try again.",
        warning:
          "Shortcut stopped, if you need to restart the process please try downloading again.",
      },
      init: function (e) {
        Widget.prototype.init.call(this, e);
        var t = this;
        (this.$modalBody = this.element.find(".modal-body")),
          (this.$modalContent = this.element.find(".modal-content")),
          (this.$modalFooter = this.element.find(".modal-footer")),
          (this.notification = new UI.Notification({})),
          this.element.on("hide.bs.modal", function () {
            t.notification.close();
          });
      },
      getNextStep: function (e) {
        return new this.steps[e]({
          videoDownloadURL: this.videoDownloadURL,
          videoPreviewURL: this.videoPreviewURL,
        });
      },
      showNextStep: function (e) {
        var t = this;
        t.currentStepInstance &&
          (t.currentStepInstance.unbind("goNext"),
          t.currentStepInstance.unbind("finish"),
          t.currentStepInstance.destroy()),
          (t.currentStepInstance = e),
          t.appendChild(t.currentStepInstance).render(t.$modalBody),
          t.currentStepInstance.bind("goNext", function (e) {
            var n = e.data.nextStep;
            n > t.steps.length || t.showNextStep(t.getNextStep(n - 1));
          }),
          t.currentStepInstance.bind("finish", function () {
            t.deactivate();
          });
      },
      userHasCompletedTheFlow: function () {
        return Helpers.App.getIOSVideoDownloadInstructionsCookie();
      },
      activate: function () {
        this.element.modal("show"),
          this.$modalFooter.addClass("hidden"),
          Widget.prototype.activate.call(this);
        var e = 0;
        this.userHasCompletedTheFlow() && (e = this.steps.length - 1),
          this.showNextStep(this.getNextStep(e)),
          this._showErrorAlert();
      },
      deactivate: function () {
        this.element.modal("hide"), Widget.prototype.deactivate.call(this);
      },
      _removeErrorURLParams: function () {
        var e = Helpers.App.removeParams(
          [
            "videoDownloadURL",
            "videoPreviewURL",
            "errorDomain",
            "errorMessage",
          ],
          window.location.href
        );
        window.history.pushState(window.history.state, "", e);
      },
      _showErrorAlert: function () {
        if (
          Helpers.App.getUrlParam("videoDownloadURL") &&
          Helpers.App.getUrlParam("videoPreviewURL")
        ) {
          var e = Helpers.App.getUrlParam("errorMessage");
          this._trackErrorEvent(e);
          var t = e ? "alert" : "warning";
          this.notification[t](this.alertMessages[t]).render($("body"), !0);
          var n = this.notification.element;
          n.css({
            top: "35px",
          }),
            this.$modalContent.css({
              "margin-top": 0,
              top: n.offset().top + n.outerHeight(),
            }),
            this._removeErrorURLParams();
        }
      },
      _trackErrorEvent: function (e) {
        var t = e ? "unexpected" : "manual";
        Helpers.GlobalEventTracker.iosShortcutEvent("error." + t, e);
      },
    },
  }),
  Class(UI, "ShortcutInstruction4").inherits(Widget)({
    html: '        <div>            <div class="illustration" style="background: url(/assets/shortcut/step-2.svg)"></div>            <span class="illustration-subtitle">STEP 2 OF 2</span>            <button class="button primary">I Have the Shortcut</button>            <button class="secondary btn btn-link">I don\'t have the shortcut</button>        </div>    ',
    prototype: {
      $primaryButton: null,
      $secondaryButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$primaryButton = this.element.find(".primary")),
          (this.$secondaryButton = this.element.find(".secondary")),
          this.bindEvents();
      },
      bindEvents: function () {
        var e = this;
        e.$primaryButton.on("click", function () {
          Helpers.App.setIOSVideoDownloadInstructionsCookie(),
            e.dispatch("goNext", {
              nextStep: 5,
            });
        }),
          e.$secondaryButton.on("click", function () {
            window.open(
              "https://www.icloud.com/shortcuts/afa2c3877c6a4d9eb3e860bec818dfe0"
            );
          });
      },
    },
  }),
  Class(UI, "ShortcutInstruction2").inherits(Widget)({
    html: '        <div>            <div class="illustration" style="background: url(/assets/shortcut/step-1.svg)"></div>            <span class="illustration-subtitle">STEP 1 OF 2</span>            <button class="button primary">I Have the Shortcuts App</button>            <button class="secondary btn btn-link">I don\'t have the app</button>        </div>    ',
    prototype: {
      $primaryButton: null,
      $secondaryButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$primaryButton = this.element.find(".primary")),
          (this.$secondaryButton = this.element.find(".secondary")),
          this.bindEvents();
      },
      bindEvents: function () {
        var e = this;
        e.$primaryButton.on("click", function () {
          e.dispatch("goNext", {
            nextStep: 3,
          });
        }),
          e.$secondaryButton.on("click", function () {
            window.open("https://itunes.apple.com/app/shortcuts/id915249334");
          });
      },
    },
  }),
  Class(UI, "ShortcutInstruction3").inherits(Widget)({
    html: '        <div>            <p class="title">2. Get the Placeit Shortcut</p>            <p class="message">                This shortcut initiates the download from the Apple Shortcuts App! This is the last step            </p>            <button class="button primary">Get the FREE Placeit Shortcut</button>            <button class="secondary btn btn-link">I already have it</button>        </div>    ',
    prototype: {
      $primaryButton: null,
      $secondaryButton: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$primaryButton = this.element.find(".primary")),
          (this.$secondaryButton = this.element.find(".secondary")),
          this.bindEvents();
      },
      bindEvents: function () {
        var e = this;
        e.$primaryButton.on("click", function () {
          e.dispatch("goNext", {
            nextStep: 4,
          }),
            window.open(
              "https://www.icloud.com/shortcuts/afa2c3877c6a4d9eb3e860bec818dfe0"
            );
        }),
          e.$secondaryButton.on("click", function () {
            Helpers.App.setIOSVideoDownloadInstructionsCookie(),
              e.dispatch("goNext", {
                nextStep: 5,
              });
          });
      },
    },
  }),
  Class(
    UI,
    "KeyframeVideoPresenter"
  )({
    $video: null,
    videoEl: null,
    keytime: null,
    _pausedByUser: null,
    prototype: {
      init: function (e, t) {
        (this.$video = e),
          (this.videoEl = e.get(0)),
          (this.keytime = this.videoEl.currentTime = t),
          (this._pausedByUser = !1),
          this._bindEvents();
      },
      _bindEvents: function () {
        this.$video
          .on(
            "ended",
            function () {
              (this._pausedByUser = !1),
                (this.videoEl.currentTime = this.keytime);
            }.bind(this)
          )
          .on(
            "loadeddata",
            function () {
              this.videoEl.currentTime = this.keytime;
            }.bind(this)
          );
      },
      play: function () {
        this._pausedByUser || (this.videoEl.currentTime = 0);
        var e = this.videoEl.play();
        e && e.then(function () {})["catch"](function () {});
      },
      pause: function () {
        this.videoEl.pause(), (this._pausedByUser = !0);
      },
      isPlaying: function () {
        return (
          this.videoEl.currentTime > 0 &&
          !this.videoEl.paused &&
          !this.videoEl.ended &&
          this.videoEl.readyState > 2
        );
      },
      setKeytime: function (e) {
        this.keytime = e;
      },
    },
  }),
  Class(UI, "SubscriptionPlanChangeModal")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Translator
    )({
    html: '    <div class="modal subscription-plan-change-modal" tabindex="-1" role="dialog" aria-labelledby="downloadOverlayLabel" aria-hidden="true">      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">          <span aria-hidden="true">\xd7</span>      </button>      <div class="modal-dialog">        <div class="modal-content">          <div class="modal-body">            <div class="plans-switch">              <h1>Change your plan</h1>              <p class="subtitle">Our Plans include unlimited downloads on mockups, designs, logos, and videos.</p>              <ul class="plan-list">                <li class="disabled" data-plan="monthly"><p>Monthly <br> <span id="cp-monthly-price"></span></p></li>                <li class="disabled" data-plan="annual"><p>Yearly <br> <span id="cp-annual-price"></span><br><span>You save <span id="cp-annual-save"></span>%!</span></p></li>              </ul>              <button class="button primary change_plan btn-block">Change Plan</button>              <p class="selected-plan-billing-info"></p>              <p class="coupon-info">Coupons are non-transferable, any existing coupons will be cancelled after changing to a new plan.</p>            </div>            <div class="plans-confirmation">              <p class="confirmation-text">You\u2019re about to switch to an <br><strong><span class="plan-label"></span> Subscription Plan</strong>, Continue?</p>              <button type="button" class="button secondary change-plan-cancel" data-dismiss="modal">Cancel</button>              <button type="button" class="button primary confirm-change-plan">Yes, Continue</button>            </div>          </div>        </div>      </div>    </div>',
    BILLING_INFO: {
      monthly:
        "We will charge you the new plan price at the end of your current billing cycle.",
      annualLabel: "Annual",
      monthlyLabel: "Monthly",
    },
    prototype: {
      selectedPlan: null,
      currentPlans: {
        annual: Registry.Plans.PLAN_ANNUAL,
        monthly: Registry.Plans.PLAN_MONTHLY,
      },
      userCurrentPlan: null,
      $selectPlanButton: null,
      $plansContainer: null,
      $confirmationContainer: null,
      $planInfo: null,
      $planLabel: null,
      $confirmPlanChange: null,
      $changePlanCancel: null,
      $close: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          this.element
            .find('li[data-plan="monthly"]')
            .attr("data-plan", this.currentPlans.monthly),
          this.element
            .find('li[data-plan="annual"]')
            .attr("data-plan", this.currentPlans.annual),
          (this.$selectPlanButton = this.element.find("button.change_plan")),
          (this.$planInfo = this.element.find(".selected-plan-billing-info")),
          (this.$planOptions = this.element.find("li")),
          (this.$plansContainer = this.element.find(".plans-switch")),
          (this.$changePlanBtn = this.element.find(".change_plan")),
          (this.$confirmationContainer = this.element.find(
            ".plans-confirmation"
          )),
          (this.$planLabel = this.element.find(".plan-label")),
          (this.$confirmPlanChange = this.element.find(".confirm-change-plan")),
          (this.$changePlanCancel = this.element.find(".change-plan-cancel")),
          (this.$close = this.element.find(".close")),
          this._setupPlanPrices(),
          this._startPlanOptions(),
          this._bindEvents();
      },
      _bindEvents: function () {
        var e = this;
        this.$planOptions.on("click", function () {
          e._selectPlan($(this).data("plan"));
        }),
          this.$changePlanBtn.on("click", function () {
            e.selectedPlan &&
              (e.$plansContainer.hide(), e.$confirmationContainer.show());
          }),
          this.$confirmPlanChange.on("click", function () {
            Helpers.GlobalEventTracker.cancelSubscriptionSwitch("switched", {
              new_plan: e.selectedPlan,
            }),
              e.dispatch("select:plan", {
                selectedPlan: e.selectedPlan,
              });
          });
      },
      attachHideEvent: function () {
        var e = this;
        this.element.on("hide.bs.modal", function () {
          Helpers.GlobalEventTracker.cancelSubscriptionSwitch("cancelled", {
            new_plan: e.getSelectedPlan(),
          });
        });
      },
      removeHideEvent: function () {
        this.element.off("hide.bs.modal");
      },
      setLoading: function () {
        var e = this;
        e.$confirmPlanChange.addClass("disabled"),
          e.$changePlanCancel.addClass("disabled"),
          this.element.css({
            "pointer-events": "none",
          });
      },
      _startPlanOptions: function () {
        this.userCurrentPlan != this.currentPlans.annual &&
        this.userCurrentPlan != this.currentPlans.monthly
          ? (this._allowSelect(this.currentPlans.annual),
            this._allowSelect(this.currentPlans.monthly),
            this._selectPlan(this.currentPlans.annual))
          : this.userCurrentPlan === this.currentPlans.monthly
          ? (this._allowSelect(this.currentPlans.annual),
            this._selectPlan(this.currentPlans.annual))
          : this.userCurrentPlan === this.currentPlans.annual &&
            (this._allowSelect(this.currentPlans.monthly),
            this._selectPlan(this.currentPlans.monthly));
      },
      _allowSelect: function (e) {
        this.element
          .find('[data-plan="{planCode}"]'.replace("{planCode}", e))
          .removeClass("disabled");
      },
      _selectPlan: function (e) {
        var t = this.element.find(
          '[data-plan="{planCode}"]'.replace("{planCode}", e)
        );
        t.hasClass("disabled") !== !0 &&
          e !== this.selectedPlan &&
          (this._deselecPlans(),
          t.addClass("selected"),
          this._setPlanInfoText(e),
          (this.selectedPlan = e));
      },
      _setPlanInfoText: function (e) {
        var t = "",
          n = this.constructor.BILLING_INFO.annualLabel;
        e == this.currentPlans.monthly &&
          (n = this.constructor.BILLING_INFO.monthlyLabel),
          this.isAnnualPlan === !0 &&
            (t = this.constructor.BILLING_INFO.monthly),
          this.$planLabel.text(n),
          this.$planInfo.text(t);
      },
      _deselecPlans: function () {
        (this.selectedPlan = null), this.$planOptions.removeClass("selected");
      },
      getSelectedPlan: function () {
        return this.selectedPlan;
      },
      _setupPlanPrices: function () {
        var e, t, n, i, r, s;
        (e = this),
          (i = e.element.find("#cp-monthly-price")),
          (r = e.element.find("#cp-annual-price")),
          (s = e.element.find("#cp-annual-save")),
          (n = Helpers.Price.monthlyPlan()),
          (t = Helpers.Price.annualPlan()),
          n.price.then(function (t) {
            var n;
            (n = e._formatPrice(t)), i.text(n);
          }),
          t.price.then(function (t) {
            var n, i;
            (n = e._formatPrice(t)),
              (i = parseInt(e._calculateAnnualSavePercent(t))),
              r.text(n),
              s.text(i);
          });
      },
      show: function () {
        this.$plansContainer.show(),
          this.$confirmationContainer.hide(),
          this._startPlanOptions(),
          this.removeHideEvent(),
          this.attachHideEvent(),
          this.element.modal("show");
      },
      showConfirmation: function () {
        this.show(),
          this.$plansContainer.hide(),
          this.$confirmationContainer.show();
      },
      close: function () {
        this.$confirmPlanChange.removeClass("disabled"),
          this.$changePlanCancel.removeClass("disabled"),
          this.element.css({
            "pointer-events": "",
          }),
          this._deselecPlans(),
          this.removeHideEvent(),
          this.element.modal("hide");
      },
    },
  }),
  Class(UI, "GoAnnualModal")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Translator
    )({
    elementClass: "go-annual-modal",
    html: '    <div class="modal" tabindex="-1" role="dialog" aria-hidden="true">      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">          <span aria-hidden="true">\xd7</span>      </button>      <div class="modal-dialog">        <div class="modal-content">          <div class="modal-body">            <svg class="subscription-icon" xmlns="http://www.w3.org/2000/svg" width="29" height="26" fill="none"><g filter="url(#filter0_d)"><path fill="url(#paint0_linear)" d="M5.3 21.3c0-.5.5-1 1-1h16.4c.5 0 1 .5 1 1v1.4c0 .5-.5 1-1 1H6.3a1 1 0 01-1-1v-1.4z"/><path fill="url(#paint1_linear)" d="M26.5 6.6a1.2 1.2 0 00-1.3 0l-5.7 3.8-4-7.8a1.1 1.1 0 00-1-.6 1.1 1.1 0 00-1 .6l-4 7.8-5.7-3.8a1.2 1.2 0 00-1.3 0l-.4.5v.7l2.2 10c0 .2.2.5.4.6.2.2.5.3.7.3h18.2c.2 0 .5-.1.7-.3.2-.1.3-.4.4-.6l2.3-10a1.1 1.1 0 00-.5-1.2z"/></g><defs><linearGradient id="paint0_linear" x1="5.3" x2="23.7" y1="22" y2="22" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><linearGradient id="paint1_linear" x1="2" x2="27" y1="10.3" y2="10.3" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><filter id="filter0_d" width="29" height="25.7" x="0" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>            <span class="modal-title">Annual Subscription</span>            <span class="savings-title">Save <span class="savings"></span>%!</span>            <span class="pricing"><span class="annual-price"></span>/Year (Just <span class="annual-price-month"></span>/Month)</span>            <span class="message">You are currently paying <span class="monthly-price"></span>/Month</span>            <button id="goAnnual">Go Annual!</button>            <span class="footnote">Coupons are non-transferable, any existing coupons will be cancelled after changing to a new plan.</span>          </div>        </div>      </div>    </div>',
    prototype: {
      $button: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$button = this.element.find("#goAnnual")),
          this._setPrices(),
          this._bindEvents();
      },
      show: function () {
        this.element.modal("show");
      },
      hide: function () {
        this.element.modal("hide");
      },
      _setPrices: function () {
        var e = this,
          t = Helpers.Price.annualPlan(),
          n = Helpers.Price.monthlyPlan();
        t.price.then(function (t) {
          var n = {
            savings: parseInt(e._calculateAnnualSavePercent(t)),
            "annual-price": e._formatPrice(t),
            "annual-price-month": e._formatPrice(t / 12),
          };
          Object.keys(n).forEach(function (t) {
            var i = n[t];
            e.element.find("." + t).text(i);
          });
        }),
          n.price.then(function (t) {
            var n = e._formatPrice(t);
            e.element.find(".monthly-price").text(n);
          });
      },
      _bindEvents: function () {
        var e = this;
        e.$button.click(function () {
          e.dispatch("buttonClick"), e.hide();
        }),
          e.element.bind("hidden.bs.modal", function () {
            e._unbindEvents(), e.destroy();
          });
      },
      _unbindEvents: function () {
        this.$button.unbind(), this.element.unbind();
      },
    },
  }),
  Class(UI, "SmartDropdown").inherits(Widget).includes(BubblingSupport)({
    html: '<div class="smart-dropdown">        <label class="title"> </label>        <div class="btn-input-container is-button">            <input type="button" class="btn-input">            <span class="sp-dd p-icon down-arrow"></span>            <span style="display:none" class="glyphicon glyphicon-remove-circle"></span>        </div>        <div class="menu"></div>    </div>',
    elementClass: "smart-dropdown",
    prototype: {
      noResultsHtml:
        '<div style="display:none;" class="no-results">                <div class="title"></div>                <div class="message"></div>            </div',
      initialValue: null,
      isMobile: !1,
      $menu: null,
      $list: null,
      options: null,
      _selectedItems: null,
      placeholder: "Search",
      modalName: "dropdownModal",
      propertyToSearch: "name",
      childProperty: "children",
      _previousSearchValue: null,
      isMultiSelection: !0,
      noResultsMessage: "No matches",
      noResultsTitle: "Try another keyword or browse our options below",
      list: null,
      simpleList: !1,
      init: function (e) {
        (this.options = []),
          (this._selectedItems = []),
          Widget.prototype.init.call(this, e),
          (this.$menu = this.element.find(".menu")),
          (this.$btnInputContainer = this.element.find(".btn-input-container")),
          (this.$btnInput = this.$btnInputContainer.find(".btn-input")),
          (this.$downArrowIcon = this.$btnInputContainer.find(".down-arrow")),
          (this.$removeIcon = this.$btnInputContainer.find(
            ".glyphicon-remove-circle"
          )),
          this.changeInputToButton(),
          (this.isMobile = Helpers.App.isMobile()),
          Array.isArray(this.options) === !0 &&
            this.options.length > 0 &&
            this.setUp(e);
      },
      setUp: function (e) {
        $.extend(this, e),
          (this.list = new UI.SmartList({
            labelProperty: this.labelProperty,
            childProperty: this.childProperty,
            propertyToSearch: this.propertyToSearch,
            name: "list",
            isMultiSelection: this.isMultiSelection,
            cssClass: "list",
            simpleList: this.simpleList,
          })),
          (this.$list = this.list.getElement());
        var t = {
          value: "root",
        };
        (t[this.childProperty] = this.options),
          (this._data = this.list.parseToArray(t)),
          this.list.setUp({}, this._data),
          this.appendChild(this.list),
          this.renderList(this.list),
          this._bindings(),
          this.dispatch("ready");
      },
      rebuildList: function (e, t) {
        this.list.buildList(e, t);
      },
      renderList: function (e) {
        var t = this.$menu;
        this.isMobile === !0 &&
          ((this.modal = this.buildModal()),
          (this.$mobileInput = this.modal.element.find(".btn-input")),
          this.appendChild(this.modal).render($(document.body)),
          this.$mobileInput.attr("placeholder", this.placeholder),
          (this.$removeIconMobile = this.modal.element.find(
            ".glyphicon-remove-circle"
          )),
          (this.$foldIcon = e.getElement().find(".icon.fold")),
          (t = this.modal.getElement().find(".list-container"))),
          e.render(t),
          (this.$noResults = $(this.noResultsHtml).insertBefore(
            this.list.getElement()
          )),
          this.setNoResultsMessage(this.noResultsMessage).setNoResultsTitle(
            this.noResultsTitle
          );
      },
      setNoResultsMessage: function (e) {
        return this.$noResults.find(".message").html(e), this;
      },
      setNoResultsTitle: function (e) {
        return this.$noResults.find(".title").html(e), this;
      },
      changeInputToButton: function () {
        return this.isMobile === !0
          ? this
          : (this.$btnInput.attr("type", "button"),
            this.$btnInputContainer.removeClass("text").addClass("is-button"),
            this.showDownArrowIcon(),
            void this.setPlaceholder());
      },
      setPlaceholder: function () {
        var e = this.placeholder;
        if (this.isMultiSelection !== !0) {
          var t = this.getSelected()[0],
            n = t && t.name;
          "string" == typeof n && n.length > 0 && (e = n);
        }
        this.$btnInput.val(e).attr("placeholder", e);
      },
      changeButtonToInput: function () {
        return (
          this.$btnInput.attr("type", "text"),
          this.$btnInputContainer.removeClass("is-button").hasClass("text"),
          this.$btnInput.val(""),
          this.hideDownArrowIcon(),
          this
        );
      },
      buildModal: function () {
        var e, t;
        return (
          (e =
            '<div class="input-container search-container">                <input type="text" class="btn-input">                <span style="display:none" class="glyphicon glyphicon-remove-circle"></span>            </div>'),
          (t = new UI.SimpleModal({
            name: this.modalName,
            cssClass: "modal-smart-list",
          })),
          t.setHeaderContent(e),
          t.setContent('<div class="list-container"></div>'),
          t
        );
      },
      _bindings: function () {
        var e = this;
        e.$removeIcon.bind("click", function (t) {
          e.cleanSearch(t);
        }),
          $(document.body).bind("click", function (t) {
            var n = e.element;
            e.isMobile && (n = e.modal.getElement().find(".modal-content")),
              $.contains(n[0], t.target) !== !0 &&
                (e.changeInputToButton(), e.hideList());
          }),
          this.$btnInput.bind("focus", function () {
            e.changeButtonToInput(), e.showList();
          }),
          this.$btnInputContainer.bind("click", function () {
            e.$btnInput.focus();
          }),
          this.list.bind("change", function (t) {
            t.stopPropagation(),
              e.setPlaceholder(),
              (e._selectedItems = e.list.getSelectedItems()),
              e.dispatch("change", {
                selected: e.getSelected(),
                itemClicked: t.data.item,
                originalDispatcher: e,
              });
          }),
          this.isMobile !== !0
            ? (e.$btnInput.bind("keyup", function (t) {
                e.keyUpEventHandler(t);
              }),
              $(window).resize(function () {
                e.windowHeight !== window.innerHeight && e.setDropDownHeight();
              }))
            : this._mobileBindings();
      },
      _mobileBindings: function () {
        var e = this;
        e.$mobileInput.bind("keyup", function (t) {
          e.keyUpEventHandler(t);
        }),
          e.$removeIconMobile.bind("click", function (t) {
            e.cleanSearch(t),
              e.$list.removeClass("results"),
              e.rebuildList(e._data);
          }),
          e.$mobileInput.bind("focus", function () {
            "" !== e.$mobileInput.val() && e.showRemoveIcon();
          }),
          this.modal.element.on("shown.bs.modal", function () {
            e.setPlaceholder(), e.$mobileInput.focus();
          });
      },
      selectItemUsedKeyboard: function (e) {
        this.isMobile ||
          (40 === e.keyCode
            ? this.keyDownHandler()
            : 38 === e.keyCode
            ? this.keyUpHandler()
            : 13 === e.keyCode &&
              this.$list.find(".pre-selected").find(".item").trigger("click"));
      },
      keyDownHandler: function () {
        var e,
          t = 0;
        return this.$list.hasClass("results") === !1
          ? this
          : ((e = this.$list.find(".pre-selected")),
            e.index() + 1 < this.$list.children().length == !1
              ? this
              : 0 === this.$list.find(".pre-selected").length
              ? (this.$list.find("li:first-child").addClass("pre-selected"),
                this)
              : ((e = e
                  .removeClass("pre-selected")
                  .next()
                  .addClass("pre-selected")),
                (t = this.$menu.height() - (e.position().top + e.height())),
                0 > t &&
                  this.$menu.scrollTop(this.$menu.scrollTop() + Math.abs(t)),
                this));
      },
      keyUpHandler: function () {
        var e,
          t,
          n = this,
          i = 0;
        e = n.$list.find(".pre-selected");
        var r = n.$btnInput.val();
        if ((n.$btnInput.val("").val(r), e.is(":first-child") === !0))
          return this;
        for (
          e.removeClass("pre-selected").prev().addClass("pre-selected"), t = 0;
          t < n.$list.find(".pre-selected").index();
          t++
        )
          i += $(n.$list.children()[t]).height();
        return n.$menu.scrollTop(i), this;
      },
      keyUpEventHandler: function (e) {
        var t = $(e.target).val();
        this._previousSearchValue === t
          ? this.selectItemUsedKeyboard(e)
          : ((this._previousSearchValue = t), this.search(t));
      },
      search: function (e) {
        var t,
          n = this,
          i = n._selectedItems.map(function (e) {
            return e.id;
          });
        return (
          e && e.length > 0 ? this.showRemoveIcon() : this.hideRemoveIcon(),
          (t = this._search(e)),
          e && e.length > 0 && t.length > 0
            ? (this.$noResults.hide(),
              this.rebuildList(t, !0),
              this.$list.addClass("results"),
              void this.list.getItems().forEach(function (t) {
                t.setContent(n.highlighted(t.content, e)),
                  i.includes(t.id) !== !1 && t.activate();
              }))
            : (e && e.length > 0
                ? this.$noResults.show()
                : this.$noResults.hide(),
              this.$list.removeClass("results"),
              this.rebuildList(this._data),
              void n.list.getItems().forEach(function (e) {
                i.includes(e.id) !== !1 && e.activate();
              }))
        );
      },
      _search: function (e) {
        var t = this.propertyToSearch;
        return this._data
          .filter(function (e) {
            return e.hasChildren === !1;
          })
          .sort(function (e, n) {
            return e.record[t].localeCompare(n.record[t]);
          })
          .filter(function (n) {
            return "string" != typeof n.record[t]
              ? !1
              : n.record[t].toLowerCase().indexOf(e.toLowerCase()) > -1;
          });
      },
      highlighted: function (e, t) {
        var n = e.substr(e.toLowerCase().indexOf(t.toLowerCase()), t.length);
        return (e = e.replace(n, "<strong>" + n + "</strong>"));
      },
      cleanSearch: function () {
        return (
          this.isMobile
            ? this.$mobileInput.val("").focus()
            : this.$btnInput.val("").focus(),
          this.$noResults.hide(),
          this.hideRemoveIcon(),
          this
        );
      },
      isListVisible: function () {
        return this[this.modalName]
          ? this[this.modalName].element.is(":visible") === !0
          : this.$menu.is(":visible") === !0;
      },
      showList: function () {
        return this.isListVisible() === !0
          ? this
          : (this[this.modalName]
              ? this[this.modalName].activate()
              : (this.setDropDownHeight(), this.$menu.show()),
            this.dispatch("activate"),
            this);
      },
      hideList: function () {
        return this.isListVisible() === !1
          ? this
          : (this[this.modalName]
              ? this[this.modalName].deactivate()
              : this.$menu.hide(),
            this.dispatch("deactivate"),
            this);
      },
      toggle: function () {
        this.isListVisible() ? this.hideList() : this.showList();
      },
      getSelected: function () {
        return this.list ? this.list.getSelected() : [];
      },
      setDropDownHeight: function () {
        var e = this;
        e.windowHeight = window.innerHeight;
        var t = window.innerHeight - e.$menu.offset().top - 10;
        e.$menu.css("max-height", t + "px"), e.$menu.css("overflow-y", "auto");
      },
      showDownArrowIcon: function () {
        return this.isMobile ? this : (this.$downArrowIcon.show(), this);
      },
      hideDownArrowIcon: function () {
        return this.isMobile ? this : (this.$downArrowIcon.hide(), this);
      },
      hideRemoveIcon: function () {
        var e = this.$removeIcon;
        return this.isMobile && (e = this.$removeIconMobile), e.hide(), this;
      },
      showRemoveIcon: function () {
        var e = this.$removeIcon;
        return this.isMobile && (e = this.$removeIconMobile), e.show(), this;
      },
      selectItem: function (e, t) {
        return this.list
          ? (this.list.selectItem(e, t),
            (this._selectedItems = this.list.getSelectedItems()),
            this)
          : this.list;
      },
    },
  }),
  Class(UI, "SmartList").inherits(Widget).includes(BubblingSupport)({
    html: '<ul class="list"></<ul>',
    prototype: {
      _data: null,
      record: null,
      propertyToSearch: "name",
      childProperty: "children",
      labelProperty: "name",
      isMultiSelection: !0,
      simpleList: !1,
      init: function (e) {
        (this._data = []),
          Widget.prototype.init.call(this, e),
          "object" == typeof this.record &&
            null !== this.record &&
            (this._data = this.parseToArray(this.record)),
          this.setUp(e, this._data),
          this._bindings();
      },
      setUp: function (e, t) {
        $.extend(this, e),
          Array.isArray(t) === !0 && (this._data = t),
          this._data.length > 0 && this.buildList(this._data);
      },
      _bindings: function () {
        var e = this;
        this.bind("click", function (t) {
          var n = t.data && t.data.originalDispatcher;
          return (
            e.toggleChildList(n),
            n.noSelectable === !0
              ? this
              : (this.isMultiSelection !== !0
                  ? e.toggleItem(n)
                  : e._multiSelectionHandler(n),
                void e.dispatch("change", {
                  selected: e.getSelected(),
                  item: n,
                  originalDispatcher: e,
                }))
          );
        });
      },
      _multiSelectionHandler: function (e) {
        var t = this,
          n = t._getParentItem(e),
          i = e.id;
        return e.isActive === !0 && e.record.deselectSiblings === !0
          ? void e.deactivate()
          : (e.isActive === !1 &&
              (e.record.deselectSiblings === !0 && t.deselectSiblings(n),
              e.record.deselectChildren === !0 && t.deselectChildren(e),
              e.isActive === !1 &&
                e.record.deselectAll === !0 &&
                t.deselectAll(e)),
            t.getSelectedItems().forEach(function (e) {
              var t = e.record && e.record.deselectSiblings,
                r = n && n.id;
              (e.id !== i || e.isActive !== !1) &&
                t === !0 &&
                e.parentId === r &&
                e.deactivate();
            }),
            void t.toggleItem(e));
      },
      buildList: function (e, t) {
        var n = this;
        this.removeItems(),
          e.forEach(function (e, i) {
            if ("root" !== e.record.value) {
              var r = n.appendChild(n.buildItem(e, i));
              n.renderItem(r, t);
            }
          });
      },
      removeItems: function () {
        this.getItems().forEach(function (e) {
          e.destroy();
        }),
          this.element.find("li").remove();
      },
      buildItem: function (e, t) {
        var n;
        return (
          (n = "item" + e.id),
          new UI.SmartListItem({
            name: n,
            id: e.id,
            index: t,
            parentId: e.parentId,
            content: e.record[this.labelProperty],
            record: e.record,
            hasChildren: e.hasChildren,
            noSelectable: e.record.noSelectable,
            isActive: e.record.isActive,
            foldIcon: this.foldIcon || this._getIcon("closeDark"),
            unfoldIcon: this.unfoldIcon || this._getIcon("openDark"),
          })
        );
      },
      renderItem: function (e, t) {
        var n,
          i,
          r,
          s,
          o = t || this.simpleList;
        if (
          ((r = e.id),
          (s = e.parentId),
          (i = this.element),
          (n = $("<li></li>")),
          n.attr("id", e.name).attr("data-id", r),
          e.render(n),
          o === !0)
        )
          return void this.element.append(n);
        if (
          ((i =
            this.element.find("#parent" + s).length > 0
              ? this.element.find("#parent" + s)
              : this.element),
          i.append(n),
          e.hasChildren === !0)
        ) {
          var a = $('<ul class="hidden children"></ul>')
            .attr("id", "parent" + r)
            .attr("data-parent-id", r);
          n.append(a);
        } else n.addClass("child");
      },
      toggleItem: function (e) {
        e.toggle(), this.isMultiSelection !== !0 && this.deselectItems(e);
      },
      deselectItems: function (e) {
        this.getSelectedItems().forEach(function (t) {
          t.id !== e.id && t.deactivate();
        });
      },
      selectItem: function (e, t) {
        var n = this.getItems().find(function (n) {
          return n.record ? n.record[e] === t : !1;
        });
        return "undefined" == typeof n
          ? this
          : (n.activate(),
            this.isMultiSelection === !0
              ? this
              : (this.deselectItems(n), this));
      },
      toggleChildList: function (e) {
        if (e.hasChildren !== !0) return this;
        var t = this.element.find("#parent" + e.id);
        return 0 === t.length
          ? this
          : (t.is(":visible") === !0
              ? this.hideChildList(e)
              : this.showChildList(e),
            this);
      },
      showChildList: function (e) {
        return (
          this.element.find("#parent" + e.id).removeClass("hidden"),
          e.showUnfoldIcon(),
          this
        );
      },
      hideChildList: function (e) {
        return (
          this.element.find("#parent" + e.id).addClass("hidden"),
          e.showFoldIcon(),
          this
        );
      },
      getSelected: function () {
        return this.getSelectedItems().map(function (e) {
          return e.record;
        });
      },
      getSelectedItems: function () {
        return this.getItems().filter(function (e) {
          return e.isActive === !0;
        });
      },
      getItems: function () {
        return this.children.filter(function (e) {
          return "SmartListItem" === e.constructor.className;
        });
      },
      parseToArray: function (e) {
        var t = this.childProperty,
          n = [],
          i = function r(e, i) {
            var s = n.length,
              o = Array.isArray(e[t]),
              a = null;
            i > 0 && (a = i),
              n.push({
                record: e,
                id: s,
                parentId: a,
                hasChildren: o,
              }),
              o !== !1 &&
                e[t].forEach(function (e) {
                  r(e, s);
                });
          };
        return i(e, null), n.unshift(), n;
      },
      getData: function () {
        return this._data;
      },
      deselectChildren: function (e) {
        var t = this,
          n = this.element.find("#parent" + e.id);
        return 0 === n.length
          ? this
          : (n
              .find("li")
              .toArray()
              .forEach(function (e) {
                var n = parseInt(e.dataset.id),
                  i = t.getSelectedItems().find(function (e) {
                    return e.id === n;
                  });
                void 0 !== i && i.deactivate();
              }),
            this);
      },
      deselectSiblings: function (e) {
        return "undefined" == typeof e
          ? this
          : (this.deselectChildren(e), this);
      },
      _getParentItem: function (e) {
        return this.getItems().find(function (t) {
          return t.id === e.parentId;
        });
      },
      deselectAll: function () {
        var e = this.getSelectedItems();
        return (
          e.forEach(function (e) {
            e.deactivate();
          }),
          this
        );
      },
      _getIcon: function (e) {
        return "closeDark" === e
          ? '<svg width="8px" height="11px" viewBox="0 0 8 11" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">                        <g id="closed-dark" transform="translate(-617.000000, -123.000000)" fill="#4A4A4A" fill-rule="nonzero">                            <g id="Group-11" transform="translate(606.000000, 85.000000)">                                <g id="Dropdown-Menu-Copy-2">                                    <polygon id="triangle-closed" transform="translate(15.000000, 43.500000) rotate(-90.000000) translate(-15.000000, -43.500000) " points="15 47 10 40 20 40"></polygon>                                </g>                            </g>                        </g>                    </g>                </svg>'
          : "openDark" === e
          ? '<svg width="11px" height="8px" viewBox="0 0 11 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">                            <g id="open-dark" transform="translate(-615.000000, -151.000000)" fill="#4A4A4A" fill-rule="nonzero">                                <g id="Group-11" transform="translate(606.000000, 85.000000)">                                    <g id="Dropdown-Menu-Copy-2">                                        <polygon id="Triangle" points="14.5 73.5 9.5 66.5 19.5 66.5"></polygon>                                    </g>                                </g>                            </g>                        </g>                    </svg>'
          : void 0;
      },
    },
  }),
  Class(UI, "SmartListItem")
    .inherits(Widget)
    .includes(
      BubblingSupport,
      NodeSupport
    )({
    html: '<div class="item">            <div class="icon fold"></div>            <div class="content"></div>            <i class="glyphicon glyphicon-ok icon-ok check-mark hidden"></i>    </div>',
    prototype: {
      isActive: !1,
      record: null,
      noSelectable: !1,
      hasChildren: !1,
      foldIcon: "",
      unfoldIcon: "",
      init: function (e) {
        (this.record = {}),
          Widget.prototype.init.call(this, e),
          (this.$icon = this.element.find(".icon")),
          (this.$content = this.element.find(".content")),
          this.setContent(this.content),
          (this.$checkIcon = this.element.find(".check-mark")),
          this.hasChildren === !0 && this.showFoldIcon(),
          this.isActive === !0 && this.activate(),
          this._bindings();
      },
      _bindings: function () {
        var e = this;
        this.$icon.bind("click", function () {
          e.noSelectable === !0 && e.dispatch("iconClick");
        }),
          this.element.bind("click", function () {
            e.dispatch("click", {
              originalDispatcher: e,
            });
          });
      },
      toggle: function () {
        this.isActive === !0 ? this.deactivate() : this.activate();
      },
      setContent: function (e) {
        this.$content.html(e);
      },
      activate: function () {
        return this.noSelectable === !0
          ? this
          : (Widget.prototype.activate.call(this),
            (this.isActive = !0),
            this.$checkIcon.removeClass("hidden"),
            this);
      },
      deactivate: function () {
        return this.noSelectable === !0
          ? this
          : (Widget.prototype.deactivate.call(this),
            (this.isActive = !1),
            this.$checkIcon.addClass("hidden"),
            this);
      },
      showFoldIcon: function () {
        this.$icon.html(this.foldIcon);
      },
      showUnfoldIcon: function () {
        this.$icon.html(this.unfoldIcon);
      },
    },
  }),
  Class(UI, "PricingButton")
    .inherits(Widget)
    .includes(
      Translator,
      BubblingSupport,
      Helpers.SubscriptionHelper
    )({
    TEXT_PRICING: "Pricing",
    TEXT_UPGRADE_ANNUAL: "Go Annual!",
    prototype: {
      $button: null,
      canUpgradeToAnnual: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$anchor = this.element.find("a")),
          this._bindEvents();
      },
      update: function (e) {
        return e
          ? "BR" === window._pl_locale && e.is_brazilian === !1
            ? void this.hide()
            : ((this.canUpgradeToAnnual = e.can_upgrade_to_annual),
              void (this.canUpgradeToAnnual === !0
                ? this._setUpgradeToAnnualText()
                : this.hide()))
          : void this.$anchor.text(this.constructor.TEXT_PRICING);
      },
      _bindEvents: function () {
        var e = this;
        e.element.click(function () {
          e.dispatch("click", {
            originalDispatcher: e,
          }),
            e.canUpgradeToAnnual === !0 &&
              Helpers.GlobalEventTracker.track("GoAnnual:CTA:Clicked", {
                session: Helpers.App.getTrackerId(),
                user_id: Helpers.App.getUser().id,
              });
        });
      },
      _setUpgradeToAnnualText: function () {
        var e = this,
          t = Helpers.Price.annualPlan();
        t.price.then(function (t) {
          var n = parseInt(e._calculateAnnualSavePercent(t)),
            i = e.constructor.TEXT_UPGRADE_ANNUAL.replace(
              "{{annualDiscountPercentage}}",
              n
            );
          e.$anchor.text(i);
        });
      },
    },
  }),
  Class(UI, "CelebrationModal")
    .inherits(Widget)
    .includes(
      Helpers.SubscriptionHelper,
      Translator
    )({
    elementClass: "celebration-modal",
    html: '    <div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">          <span aria-hidden="true">\xd7</span>      </button>      <div class="modal-dialog">        <div class="modal-content">          <div class="modal-body">            <svg class="subscription-icon" xmlns="http://www.w3.org/2000/svg" width="29" height="26" fill="none"><g filter="url(#filter0_d)"><path fill="url(#paint0_linear)" d="M5.3 21.3c0-.5.5-1 1-1h16.4c.5 0 1 .5 1 1v1.4c0 .5-.5 1-1 1H6.3a1 1 0 01-1-1v-1.4z"/><path fill="url(#paint1_linear)" d="M26.5 6.6a1.2 1.2 0 00-1.3 0l-5.7 3.8-4-7.8a1.1 1.1 0 00-1-.6 1.1 1.1 0 00-1 .6l-4 7.8-5.7-3.8a1.2 1.2 0 00-1.3 0l-.4.5v.7l2.2 10c0 .2.2.5.4.6.2.2.5.3.7.3h18.2c.2 0 .5-.1.7-.3.2-.1.3-.4.4-.6l2.3-10a1.1 1.1 0 00-.5-1.2z"/></g><defs><linearGradient id="paint0_linear" x1="5.3" x2="23.7" y1="22" y2="22" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><linearGradient id="paint1_linear" x1="2" x2="27" y1="10.3" y2="10.3" gradientUnits="userSpaceOnUse"><stop stop-color="#501AA8"/><stop offset="1" stop-color="#870DE8"/></linearGradient><filter id="filter0_d" width="29" height="25.7" x="0" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>            <span class="title"></span>            <span class="subtitle"></span>            <img src="./assets/subscription-celebration.png"/>            <div class="footnote"></div>            <svg width="102" height="13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.7 11h-.6l1.4-7.2h.8l-.4 2-.2.9.8-.5c.2-.2.5-.2.8-.2.4 0 .8.1 1 .4.3.3.4.7.4 1.3a3.9 3.9 0 01-.8 2.4l-.8.7a2 2 0 01-1 .2c-.2 0-.5 0-.7-.2l-.4-.5-.3.6zM50 6.5c-.2 0-.4 0-.7.2-.3.1-.5.3-.7.6L48 9.7l.5.5.5.2c.2 0 .4 0 .7-.2.2-.2.4-.3.5-.6.2-.2.4-.5.4-.8.2-.3.2-.6.2-1s0-.7-.2-.9a.7.7 0 00-.7-.3zM52 13h-.3a1 1 0 01-.3-.1l.2-.6h.4c.2 0 .4 0 .6-.2.3-.2.4-.5.6-.8l.2-.4-.8-4.8h.7l.4 2.7a15.2 15.2 0 01.1 1.4 2346.2 2346.2 0 01.8-1.4L56 6.1h.7L54 11.3l-.4.7a2.7 2.7 0 01-1 .9l-.6.1z" fill="#8A8A8A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0h3l-1.8 8.8v.5c0 .2 0 .3.3.3l.7-.2-.2 1.2c-.4.2-1 .4-1.5.4-.8 0-1.4-.4-1.4-1.3v-.9l1.6-7.3h-1L10 0zM7.7 6.5a4 4 0 001.4-3c0-1-.3-1.5-.8-2-.6-.5-1.6-.7-3-.7H1L.7 2.3h1L0 10.8h2.2l.7-3.3h1.4c1.5 0 2.6-.3 3.4-1zM6.6 2.7c.2.2.3.5.3.9 0 .7-.3 1.5-.8 2-.4.3-1 .5-2 .5H3L4 2.3h1.2c.7 0 1.2.1 1.5.4zm14.2.5l-1.1.3c-.4-.3-1-.5-1.7-.5a5.1 5.1 0 00-5 5.2c0 1.7.9 2.8 2.4 2.8 1 0 1.8-.4 2.2-1 .1.6.7 1 1.3 1 .5 0 1-.2 1.5-.5l.2-1.2-.7.2c-.2 0-.3 0-.3-.3v-.4l1.2-5.6zm-3 4.5l.7-3.2a1 1 0 00-.5-.2c-1.8 0-3 2.3-3 3.9 0 .9.4 1.4 1 1.4s1-.2 1.2-.6c.3-.3.5-.8.6-1.3zm10.5-2v-.5c0-1.3-1-2.2-2.5-2.2-2.7 0-4.6 2.5-4.6 5.1 0 2 1.4 2.9 3.2 2.9 1 0 2-.4 2.7-.8l.3-1.5c-.8.5-1.8.9-2.6.9-1 0-1.5-.5-1.5-1.5 0-.8.3-1.9.7-2.6.4-.6 1-1.1 1.6-1.1.6 0 .8.4.8 1v.3h2zm7.4-.6C35.7 6.7 34.2 8 32 8l-1.4-.1V8c0 1 .7 1.6 1.6 1.6.8 0 1.9-.4 2.6-.8l-.3 1.4c-.7.5-1.8.8-2.8.8-1.8 0-3.1-1-3.1-2.9 0-2.6 2-5 4.7-5 1.5 0 2.5.6 2.5 2zM33 4.4c.6 0 .8.3.8.7 0 1-.7 1.6-2.2 1.6h-.8C31 5.5 32 4.4 33 4.4z" fill="#8A8A8A"/><path d="M39.7.9c0 .4-.4.7-.8.7-.3 0-.5-.2-.5-.5 0-.4.4-.7.8-.7.2 0 .5.2.5.5zM37.2 3.2h1.9l-1.3 6.3-.1.5c0 .2.1.3.4.3.2 0 .4 0 .6-.2l-.1.6c-.2.2-.6.3-.8.3-.7 0-1-.4-1-1v-.5l1.3-5.7h-1l.1-.6zM42.2 3.2H44l-.2.6H42l-1 4.9v.7c0 .6.3.9.9.9.4 0 1-.2 1.3-.4l-.1.7c-.4.2-1 .4-1.4.4-1 0-1.7-.5-1.7-1.5l.1-.8 1-4.9h-1l.1-.6h1l.5-2 1-.5-.5 2.5zM64.7 3.6c-.2-.2-.8 0-1.5.2a5.5 5.5 0 00-2.5 4.4h-.1c-.4-.7-.5-1.4-.2-2.5l-.2-.2-.5.7a3.4 3.4 0 001.2 4.5 3 3 0 004.3-1.2c1-1.9 0-5.6-.5-6z" fill="#8A8A8A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M67.3 7.9c0-2 1.3-3.4 3.2-3.4 1.6 0 2.6 1 2.9 2.7v.4c0 .4-.2.6-.7.6h-4a2 2 0 001.8 1.9 2 2 0 001.6-.7l.4-.2c.3 0 .5.2.5.5 0 .1 0 .3-.2.5a3 3 0 01-2.3 1c-1.9 0-3.2-1.4-3.2-3.3zm4.8-.6c0-1-.6-1.7-1.6-1.7s-1.8.7-1.9 1.7h3.5z" fill="#8A8A8A"/><path d="M77.4 4.5c-.9 0-1.7.5-2 1.2v-.4c0-.7-.6-.7-.7-.7-.3 0-.6.2-.6.7v5.1c0 .7.5.8.7.8 0 0 .6 0 .6-.8V7.7c0-1.2.7-2 1.6-2 1 0 1.4.6 1.4 1.8v3c0 .6.5.7.6.7.2 0 .7 0 .7-.8V7.1c0-1.2-.6-2.6-2.3-2.6zM85.3 4.8c-.3 0-.5.2-.6.5L83 9.7l-1.7-4.4c-.1-.3-.3-.5-.6-.5-.4 0-.7.3-.7.6l.1.4 2 4.7c.2.6.6.7.9.7.2 0 .6-.1.8-.7l2-4.8v-.3c0-.4-.2-.6-.5-.6z" fill="#8A8A8A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87 5.2c.5-.4 1.3-.7 2-.7 1.6 0 2.6 1 2.6 2.5v3.4c0 .7-.5.7-.6.7-.3 0-.6-.2-.6-.7v-.3c-.4.7-1.1 1-2 1-1 0-2.2-.5-2.2-1.9 0-1.9 2.1-2.1 4.2-2.1v-.2c0-.8-.5-1.3-1.5-1.3-.4 0-.9.1-1.3.5l-.4.1c-.3 0-.5-.2-.5-.5 0-.2.1-.4.3-.5zM90.4 8H90c-1.1 0-2.6.1-2.6 1.2 0 .9 1 1 1.2 1 1 0 1.7-.8 1.7-1.9V8z" fill="#8A8A8A"/><path d="M94.9 6c.5 0 .6-.5.6-.6 0-.3-.2-.5-.6-.5h-1.1V3.7c0-.5-.4-.7-.6-.7-.1 0-.7 0-.7.7v5.5c0 1.3.6 2 1.8 2 .3 0 .6 0 .8-.2.2-.1.3-.3.3-.5 0-.3-.2-.5-.5-.5h-.2a1 1 0 01-.2 0c-.5 0-.7-.2-.7-1V6h1z" fill="#8A8A8A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M95.5 7.8c0-1.9 1.3-3.3 3.2-3.3 2 0 3.3 1.4 3.3 3.3 0 2-1.4 3.4-3.3 3.4-.9 0-1.7-.4-2.3-1-.6-.6-1-1.4-1-2.4zm1.2 0c0 1.1.7 2.3 2 2.3 1 0 2-.7 2-2.3 0-1.5-1-2.2-2-2.2s-2 .7-2 2.2z" fill="#8A8A8A"/></svg>          </div>        </div>      </div>    </div>',
    TEXTS: {
      monthly: {
        title: "Congratulations!",
        subtitle: "You are now a subscriber!",
        footnote:
          '<span><b>Save <span class="savings"></span>%</b> with our annual subscription! <button id="goAnnual" class="btn">Go Annual!</button></span>',
      },
      annual: {
        title: "Congratulations!",
        subtitle: "You are now an annual subscriber!",
        footnote:
          '<span class="small">If you want to switch back to your monthly<br> subscription go to your account page.</span>',
      },
    },
    prototype: {
      $button: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          this._setTexts(),
          (this.$button = this.element.find("#goAnnual")),
          this._bindEvents();
      },
      show: function () {
        this.element.modal("show");
      },
      hide: function () {
        this.element.modal("hide");
      },
      _setTexts: function () {
        var e = this.isAnnual ? "annual" : "monthly",
          t = this.constructor.TEXTS[e],
          n = this.element;
        Object.keys(t).forEach(function (e) {
          var i = t[e];
          n.find("." + e).html(i);
        }),
          this._setSavings();
      },
      _setSavings: function () {
        var e = this,
          t = Helpers.Price.annualPlan();
        t.price.then(function (t) {
          var n = parseInt(e._calculateAnnualSavePercent(t));
          e.element.find(".savings").text(n);
        });
      },
      _bindEvents: function () {
        var e = this;
        e.$button.click(function () {
          e.hide(),
            e.dispatch("goAnnualClick"),
            Helpers.GlobalEventTracker.track("GoAnnual:CTA:Clicked", {
              session: Helpers.App.getTrackerId(),
              user_id: Helpers.App.getUser().id,
            });
        }),
          e.element.bind("hidden.bs.modal", function () {
            e._unbindEvents(), e.destroy();
          });
      },
      _unbindEvents: function () {
        this.$button.unbind(), this.element.unbind();
      },
    },
  }),
  Class(UI, "EnvatoUsername").inherits(Widget).includes(Translator)({
    USERTYPE_LABELS: {
      free_account: "<span>Free account</span>",
      unlimited:
        '<svg><use xlink:href="#subscription_icon"></use></svg><span class="subscribed">Unlimited</span>',
    },
    prototype: {
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$username = this.element.find(".username")),
          (this.$usertypeLabel = this.element.find(".usertype-label"));
      },
      update: function (e, t) {
        var n = this.constructor.USERTYPE_LABELS;
        this.$username.text(e),
          this.$usertypeLabel.html(t ? n.unlimited : n.free_account);
      },
    },
  }),
  Class(UI, "UserTypeBanner").inherits(Widget).includes(BubblingSupport)({
    prototype: {
      $button: null,
      bannerId: null,
      _wasEventShownSent: !1,
      init: function (e) {
        Widget.prototype.init.call(this, e), this._bindEvents();
        var t = Helpers.App.getSubscription(),
          n = Helpers.App.getUserType();
        return "BR" === window._pl_locale && t && t.is_brazilian === !1
          ? void this.element.hide()
          : void (n.bannerUrl
              ? (this.element.attr("src", n.bannerUrl),
                this.element.attr("data-banner-id", n.bannerId),
                this.element.show())
              : this.element.hide());
      },
      update: function () {
        var e = this,
          t = function (t) {
            var n = Helpers.App.getSubscription();
            return "BR" === window._pl_locale && n && n.is_brazilian === !1
              ? void e.element.hide()
              : (t.banner
                  ? (e.element.attr("src", t.banner.url),
                    e.element.attr("data-banner-id", t.banner.id),
                    e.element.show())
                  : e.element.hide(),
                void e.dispatch("updated", t));
          };
        $.ajax({
          method: "GET",
          url: "/api/v1/get_user_type_banner",
          dataType: "json",
        })
          .done(t)
          .fail(function (e) {
            Helpers.GlobalEventTracker.noticeError(
              "userTypeBanner:getBannerError",
              {
                response: e.responseText,
              }
            );
          });
      },
      sendShownEvent: function () {
        if (!this._wasEventShownSent && this.isVisible() !== !1) {
          var e = Helpers.App.getUserType(),
            t = this.element.data("banner-id");
          Helpers.GlobalEventTracker.track("DropdownBanner:Shown", {
            user_type_name: e.name,
            user_type_id: e.id,
            banner_id: t,
          }),
            (this._wasEventShownSent = !0);
        }
      },
      _bindEvents: function () {
        var e = this;
        e.element.click(function () {
          var t = Helpers.App.getUserType();
          Helpers.GlobalEventTracker.track("DropdownBanner:Clicked", {
            user_type_name: t.name,
            user_type_id: t.id,
            banner_id: e.element.data("banner-id"),
          }),
            e.dispatch("click", {
              originalDispatcher: e,
            });
        });
      },
    },
  }),
  (UI.GlobalSearch = {}),
  Class(UI.GlobalSearch, "CategoriesDropdown").inherits(Widget)({
    html: '         <div class="dropdown">             <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </button>             <svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 12 8"><path d="M.264.305c-.364.385-.34 1.107 0 1.5l.632.731 2.74 3.172 1.717 1.987c.351.407.944.407 1.295 0l.633-.732 2.74-3.172 1.717-1.987c.363-.417.336-1.075 0-1.499-.333-.42-.957-.392-1.296 0l-.632.732-2.74 3.172c-.572.66-1.146 1.326-1.717 1.987h1.295l-.632-.732-2.74-3.172L1.559.305C1.199-.112.63-.084.264.305z"></path></svg>             <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">                 <ul></ul>             </div>         </div>',
    prototype: {
      _selected: null,
      _options: null,
      init: function (e) {
        var t = e.element;
        delete e.element;
        var n = JSON.parse(JSON.stringify(e));
        (this._options = JSON.parse(JSON.stringify(n.options))),
          (n.element = t),
          Widget.prototype.init.call(this, n),
          this.element.find(".dropdown").dropdown(),
          (this.$dropdownButton = this.element.find(".dropdown-toggle")),
          (this.$dropdownMenu = this.element.find(".dropdown-menu")),
          (this._selected = this._options.find(function (e) {
            return e.isSelected;
          })),
          this._selected
            ? this._updateButtonText(this._selected.label)
            : (this._updateButtonText(this.defaultLabel),
              (this._selected = this._options[0]),
              (this._selected.isSelected = !0)),
          this._buildOptions(),
          this._bindings();
      },
      _updateButtonText: function (e) {
        this.$dropdownButton.text(e);
      },
      _buildOptions: function () {
        var e = this._options.map(function (e) {
          var t = $("<a>");
          return (
            t.text(e.label),
            t.addClass("dropdown-item"),
            e.isSelected && t.addClass("selected"),
            t.data("value", e.value),
            t
          );
        });
        this.$dropdownMenu.find("ul").append(e);
      },
      _bindings: function () {
        var e = this;
        this.element.click(function (t) {
          var n = $(t.target);
          if (n.hasClass("dropdown-item")) {
            (e._selected.isSelected = !1),
              e.element.find(".selected").removeClass("selected"),
              n.addClass("selected");
            var i = n.data("value");
            (e._selected = e._options.find(function (e) {
              return e.value == i;
            })),
              (e._selected.isSelected = !0),
              e._updateButtonText(e._selected.label),
              e.dispatch("selected", e._selected);
          }
        }),
          this.element.find("> svg").click(function (t) {
            t.stopPropagation(), e.element.find(".dropdown-toggle").click();
          });
      },
      getSelected: function () {
        return this._selected;
      },
      close: function () {
        this.element.hasClass("open") &&
          this.element.find(".dropdown-toggle").dropdown("toggle");
      },
    },
  }),
  Class(UI.GlobalSearch, "SearchContainer").inherits(Widget)({
    html: '        <div class="global-search-container">             <span class="cancel-btn">Cancel</span>             <div class="dropdowns-container"></div>             <form>                 <div class="form-group"></div>                 <button type="submit" class="btn btn-primary search-btn search-white">                     <div class="search-white"></div>                 </button>                 <span class="results-spinner"></span>             </form>         </div>',
    prototype: {
      categoriesData: [],
      _searchInput: null,
      _categoryDropdown: null,
      _subCategoryDropdown: null,
      $counts: null,
      _isActive: !0,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this._isActive = Helpers.App.isMobile() === !1),
          (this.$dropdownsContainer = this.element.find(
            ".dropdowns-container"
          )),
          (this.$form = this.element.find("form")),
          (this.$cancel = this.element.find(".cancel-btn")),
          (this.$spinner = this.element.find(".results-spinner")),
          (this._searchInput = new UI.GlobalSearch.SearchInput({
            name: "_searchInput",
            value: this.searchTerm || "",
            placeholder: this.searchPlaceholder,
            type: "text",
            hasClearButton: !0,
            cssClass: "global-search-input",
            element: this.$form.find(".global-search-input"),
          })),
          this.appendChild(this._searchInput);
        var t = this.categoriesData.map(function (e) {
          return {
            label: e.label,
            value: e.value,
            isSelected: e.isSelected,
          };
        });
        (this._categoryDropdown = new UI.GlobalSearch.CategoriesDropdown({
          name: "_categoryDropdown",
          defaultLabel: t[0].label,
          options: t,
          cssClass: "categories-dropdown",
          element: this.element.find(".categories-dropdown"),
        })),
          this.appendChild(this._categoryDropdown);
        var n = t.find(function (e) {
          return e.isSelected;
        });
        n && this._createSubcategoryDropdown(n), this._bindings();
      },
      _bindings: function () {
        var e = this;
        this.$form.submit(function (t) {
          t.preventDefault();
          var n = null;
          e._subCategoryDropdown && (n = e._subCategoryDropdown.getSelected());
          var i = e._searchInput.getValue().trim();
          "" !== i &&
            e.dispatch("search", {
              searchTerm: i,
              category: e._categoryDropdown.getSelected(),
              subCategory: n,
            });
        }),
          this._searchInput.bind("change", function (t, n) {
            var i = n.value.trim();
            "" === i && e.hideCount(), e.dispatch("newSearchTerm", i);
          }),
          this._categoryDropdown.bind("selected", function (t, n) {
            var i = n;
            e.dispatch("categorySelected", i),
              e._subCategoryDropdown && e._subCategoryDropdown.destroy(),
              null !== i.value && e._createSubcategoryDropdown(i),
              e._focusOnInput();
          }),
          Helpers.App.isMobile() &&
            (this.$cancel.click(function () {
              (e._isActive = !1),
                $("body").removeClass("search-overlay-active"),
                e.element.removeClass("active"),
                e.hideSpinner(),
                e.hideCount();
            }),
            this._searchInput.bind("focus", function () {
              (e._isActive = !0),
                $("body").addClass("search-overlay-active"),
                e.element.addClass("active");
            }),
            this.element.on("show.bs.dropdown", function () {
              e.$form.hide();
            }),
            this.element.on("hide.bs.dropdown", function () {
              e.$form.show();
            }));
      },
      _createSubcategoryDropdown: function (e) {
        return;
      },
      _subCategoryDropdownBindings: function () {
        var e = this;
        this._subCategoryDropdown.bind("selected", function (t, n) {
          e.dispatch("subcategorySelected", n), e._focusOnInput();
        });
      },
      setPlaceholder: function (e) {
        this._searchInput.setPlaceholder(e);
      },
      setCount: function (e) {
        this._isActive !== !1 &&
          (null === this.$counts &&
            ((this.$counts = $('<span class="results-count">')),
            this.$form.append(this.$counts)),
          this.$counts.toggleClass("no-results", 0 === e),
          this.$counts.text("(" + e + " results)"),
          this.$counts.show());
      },
      hideCount: function () {
        this.$counts && this.$counts.hide();
      },
      showSpinner: function () {
        this._isActive !== !1 && this.$spinner.show();
      },
      hideSpinner: function () {
        this.$spinner.hide();
      },
      getSearchInput: function () {
        return this._searchInput.getInputElement();
      },
      _focusOnInput: function () {
        this.getSearchInput().click().focus();
      },
      closeAllDropdowns: function () {
        this._categoryDropdown.close(),
          this._subCategoryDropdown && this._subCategoryDropdown.close();
      },
    },
  }),
  Class(
    UI.GlobalSearch,
    "SearchController"
  )({
    CATEGORIES_NAVBAR_TO_NAME_MAP: {
      Mockups: "Mockups",
      Designs: "Design Templates",
      Logos: "Logos",
      Videos: "Videos",
    },
    CATEGORIES_PLACEHOLDER_MAP: {
      "All Categories":
        "Search Mockups, Logos, Design Templates, Text Animations, Instagram Stories, Flyers...",
      Mockups: "Search Tshirt, Mask, Book, Mug, Hoodie, iPhone...",
      Designs: "Search Banner, YouTube Banner, OBS Stream Overlay, Fortnite...",
      Logos: "Search Gaming, Pubg, Dragon, Skull...",
      Videos: "Search Intro Video, Outro, Music, Anime...",
      Gaming: "Search Fortnite, Pubg, Free Fire...",
    },
    CATEGORY_REAL_URL_MAP: {
      "/video-maker": "/c/videos",
      "/logo-maker": "/logo-maker?industry=all",
      "/online-logo-maker": "/online-logo-maker?industry=all",
    },
    prototype: {
      _searchContainer: null,
      searchService: null,
      _categoriesData: null,
      _selectedCategory: null,
      _selectedSubcategory: null,
      _searchTerm: null,
      _autocomplete: null,
      init: function (e) {
        var t = this;
        (this._searchTerm = this.getSearchTermFromUrl()),
          (this.searchService = e.searchService),
          (this._categoriesData = e.categoriesData.map(function (e) {
            var n = {
              label: e.title,
              value: e.slug,
              isSelected: t._isSelectedCategory(e.title),
              url: e.url,
              category_id:
                UI.GlobalSearch.SearchController.CATEGORIES_NAVBAR_TO_NAME_MAP[
                  e.title
                ] || null,
            };
            return n.isSelected && (t._selectedCategory = n), n;
          })),
          this._categoriesData.unshift({
            label: "All Categories",
            value: null,
            isSelected: null === this._selectedCategory,
            url: null,
            category_id: null,
          }),
          null === this._selectedCategory &&
            (this._selectedCategory = this._categoriesData[0]);
      },
      _isSelectedCategory: function (e) {
        var t = window.pageType;
        if (
          "custom_experiences" !== t.type &&
          t.no_results === !0 &&
          t.is_search === !1
        )
          return !1;
        if (Helpers.StageType && Helpers.StageType.isTool()) return !1;
        if ("bookmarks" === t.type) return !1;
        var n = /\/gaming-templates|\/gaming-br/.test(window.location.pathname);
        return "Gaming" === e && n
          ? !0
          : UI.GlobalSearch.SearchController.CATEGORIES_NAVBAR_TO_NAME_MAP[
              e
            ] === window._pl_category && !n;
      },
      _isSelectedSubcategory: function (e) {
        var t = e.replace(/\/apparel\//, "/mockups/"),
          n = new URL(window.location.href);
        n.searchParams["delete"](-1 === t.indexOf("search") ? "search" : null);
        var i = new URL(t, window.location.origin);
        t = i.pathname;
        var r = i.searchParams.toString();
        return r && (t += "?" + r), -1 !== n.toString().indexOf(t);
      },
      _bindings: function () {
        var e = this;
        this._searchContainer.bind("categorySelected", function (t, n) {
          e._selectedCategory = e._categoriesData.find(function (e) {
            return e.value === n.value;
          });
          var i = e._selectedCategory && e._selectedCategory.url;
          i
            ? e._isCategoryUrl(i) === !1 &&
              void 0 ===
                UI.GlobalSearch.SearchController.CATEGORY_REAL_URL_MAP[i] &&
              e.searchService.getCEFullUrl(e._selectedCategory.url)
            : (e._selectedSubcategory = null),
            e._setAutocomplete(e._selectedCategory),
            e._setPlaceholder(),
            e._searchTerm &&
              e._searchContainer.dispatch("newSearchTerm", e._searchTerm);
        }),
          this._searchContainer.bind("subcategorySelected", function (t, n) {
            e._selectedSubcategory = e._selectedCategory.subcategories.find(
              function (e) {
                return e.value === n.value;
              }
            );
            var i = e._selectedSubcategory && e._selectedSubcategory.url;
            i &&
              e._isCategoryUrl(i) === !1 &&
              e.searchService.getCEFullUrl(e._selectedSubcategory.url),
              null !== e._selectedSubcategory.value && e._destroyAutocomplete(),
              e._searchTerm &&
                e._searchContainer.dispatch("newSearchTerm", e._searchTerm),
              e._setPlaceholder();
          }),
          this._searchContainer.bind("newSearchTerm", function (t, n) {
            e._searchContainer.hideCount(),
              (e._searchTerm = n),
              e._searchTermTimeout && clearTimeout(e._searchTermTimeout),
              e._searchContainer.hideSpinner(),
              e._searchTerm &&
                (e._searchContainer.showSpinner(),
                (e._searchTermTimeout = setTimeout(function () {
                  e._getResultsCount(e._searchTerm);
                }, 2e3)));
          }),
          this._searchContainer.bind("search", function (t, n) {
            e._searchTermTimeout && clearTimeout(e._searchTermTimeout),
              e._search(n);
          });
      },
      setSearchContainer: function (e) {
        (this._searchContainer = e),
          this._bindings(),
          this._setAutocomplete(this._selectedCategory),
          this._setPlaceholder();
      },
      _setAutocomplete: function (e) {
        if (
          (this._destroyAutocomplete(),
          !this._selectedSubcategory ||
            null === this._selectedSubcategory.value)
        ) {
          var t = this._searchContainer.getSearchInput();
          if (null === e.value)
            return (
              (this._autocomplete = this.searchService.setAutocomplete(
                null,
                t
              )),
              void this._bindAutocomplete()
            );
          var n =
            UI.GlobalSearch.SearchController.CATEGORIES_NAVBAR_TO_NAME_MAP[
              e.label
            ] || null;
          n &&
            ((this._autocomplete = this.searchService.setAutocomplete(n, t)),
            this._bindAutocomplete());
        }
      },
      _bindAutocomplete: function () {
        var e = this;
        this._autocomplete.on("autocomplete:selected", function (t, n) {
          e._search({
            searchTerm: n.query,
          });
        });
      },
      _destroyAutocomplete: function () {
        this._autocomplete &&
          (this._autocomplete.autocomplete.destroy(),
          (this._autocomplete = null));
      },
      _getResultsCount: function (e) {
        var t = this,
          n = this._selectedCategory,
          i = !1;
        n.url && (i = /^\/c\//.test(n.url)),
          this._selectedSubcategory &&
            null !== this._selectedSubcategory.value &&
            ((n = this._selectedSubcategory), (i = !1));
        var r = null === this._selectedCategory.value;
        /\/logo-maker|\/online-logo-maker/.test(n.url) &&
          ((n = JSON.parse(JSON.stringify(n))),
          (n.url = this._updateLogoMakerUrl(n.url))),
          /\/video-maker/.test(n.url) &&
            ((n = JSON.parse(JSON.stringify(n))),
            (n.url = this._updateVideoMakerUrl(n.url)));
        var s = this.searchService.getCount(e, n, i || r);
        return (
          s.then(function (n) {
            return (
              t._searchContainer.hideSpinner(),
              e === t._searchTerm && t._searchContainer.setCount(n),
              0 === n &&
                Helpers.GlobalEventTracker.searchNoResults({
                  searchTerm: e,
                }),
              n > 0 &&
                10 >= n &&
                Helpers.GlobalEventTracker.searchFewResults({
                  searchTerm: e,
                  numberOfMatches: n,
                }),
              n > 10 &&
                Helpers.GlobalEventTracker.searchSuccessfulResults({
                  searchTerm: e,
                  numberOfMatches: n,
                }),
              n
            );
          }),
          s
        );
      },
      _search: function (e) {
        var t = this;
        (this._searchTerm = e.searchTerm),
          this._searchContainer.showSpinner(),
          this._getResultsCount(e.searchTerm).then(function (n) {
            0 !== n &&
              t.searchService.requestSearch({
                searchTerm: e.searchTerm,
                category: t._selectedCategory,
                subCategory: t._selectedSubcategory,
              });
          });
      },
      getCategoriesData: function () {
        return this._categoriesData;
      },
      getSearchTermFromUrl: function () {
        var e = Helpers.App.getUrlParam("search", !1);
        return e || null;
      },
      _isCategoryUrl: function (e) {
        return /\/c\/[a-z0-9]*/.test(e);
      },
      _setPlaceholder: function () {
        var e =
          UI.GlobalSearch.SearchController.CATEGORIES_PLACEHOLDER_MAP[
            this._selectedCategory.label
          ];
        return null === this._selectedSubcategory
          ? void this._searchContainer.setPlaceholder(e)
          : this._selectedSubcategory &&
            null === this._selectedSubcategory.value
          ? void this._searchContainer.setPlaceholder(e)
          : void this._searchContainer.setPlaceholder("Search...");
      },
      _updateLogoMakerUrl: function (e) {
        var t = e;
        return (
          (t = t.replace(/\/logo-maker|\/online-logo-maker/, "/c/logos")),
          (t = t.replace("industry", "f_tags"))
        );
      },
      _updateVideoMakerUrl: function (e) {
        var t = e;
        return (t = t.replace("/video-maker", "/c/videos"));
      },
      toggleAutocompleteDropdown: function (e) {
        var t = $(".aa-dropdown-menu"),
          n = t.is(":visible");
        (!e || this._aaWasOpen) &&
          (!e && n && (this._aaWasOpen = !0),
          e && this._aaWasOpen && (this._aaWasOpen = !1),
          t.toggle(e));
      },
    },
  }),
  Class(UI.GlobalSearch, "SearchInput").inherits(Widget)({
    html: '         <div>             <input type="search" class="form-control search-input-control" placeholder="" aria-label="" aria-describedby="" id="testing" />             <button type="button" class="close" aria-label="Close">                 <span aria-hidden="true">&times;</span>             </button>         </div>',
    prototype: {
      $clearBtn: null,
      $input: null,
      init: function (e) {
        Widget.prototype.init.call(this, e),
          (this.$input = this.element.find(".search-input-control")),
          (this.$clearBtn = this.element.find(".close")),
          this.$input.val(this.value),
          this.$input.attr("placeholder", this.placeholder),
          this.$input.attr("type", this.type),
          this.hasClearButton
            ? this.$clearBtn.toggleClass("hide", "" === this.value)
            : (this.$clearBtn.remove(), (this.$clearBtn = null)),
          this._bindings();
      },
      _bindings: function () {
        var e = this;
        this.$clearBtn &&
          this.$clearBtn.click(function () {
            e.$clearBtn.addClass("hide"), e.setValue("");
          }),
          this.$input.focus(function () {
            e.dispatch("focus");
          }),
          this.$input.keyup(function () {
            e.setValue(e.getValue()),
              null !== this.$clearBtn &&
                ("" === e.getValue()
                  ? e.$clearBtn.addClass("hide")
                  : e.$clearBtn.removeClass("hide"));
          });
      },
      getValue: function () {
        return this.$input.val();
      },
      setValue: function (e) {
        (this.value = e),
          this.$input.val(this.value),
          this.dispatch("change", {
            value: this.value,
          });
      },
      setPlaceholder: function (e) {
        this.$input.attr("placeholder", e);
      },
      getInputElement: function () {
        return this.$input;
      },
    },
  }),
  Class(
    UI.GlobalSearch,
    "SearchService"
  )({
    prototype: {
      _slugURLMap: null,
      _termCountMap: null,
      algoliaConfig: null,
      categoryUrlRegex: /\/c\/[a-z0-9]*/,
      init: function (e) {
        (this._slugURLMap = {}),
          (this._termCountMap = {}),
          (this.algoliaConfig = e.algoliaConfig);
      },
      setAutocomplete: function (e, t) {
        var n = algoliasearch(
            this.algoliaConfig.appId,
            this.algoliaConfig.readApiKey
          ),
          i = n.initIndex(this.algoliaConfig.queryIndexName),
          r = {
            hitsPerPage: 5,
            facets: [
              "*",
              "Stage_production.facets.exact_matches.category_name.value",
            ],
            facetFilters: [
              [
                "Stage_production.facets.exact_matches.category_name.value:" +
                  e,
              ],
            ],
          };
        return (
          null === e && (delete r.facets, delete r.facetFilters),
          autocomplete(
            "#" + $(t).attr("id"),
            {
              hint: !1,
            },
            [
              {
                source: autocomplete.sources.hits(i, r),
                displayKey: "query",
                templates: {
                  suggestion: function (t) {
                    var n;
                    if (e) {
                      var i =
                        t.Stage_production.facets.exact_matches.category_name.find(
                          function (t) {
                            return t.value === e;
                          }
                        );
                      n = i.count;
                    } else n = t.Stage_production.exact_nb_hits;
                    var r = t._highlightResult.query.value;
                    return (r += "<span> (" + n + ") </span>");
                  },
                },
              },
            ]
          )
        );
      },
      getCount: function (e, t, n) {
        var i = $.md5(JSON.stringify(arguments));
        if (!this._termCountMap[i]) {
          var r = this._getCount.call(this, e, t, n);
          this._termCountMap[i] = r;
        }
        return this._termCountMap[i];
      },
      _getCount: function (e, t, n) {
        var i = this,
          r = t.category_id && encodeURIComponent(t.category_id),
          s = "";
        if ((r && (s = "&category_id=" + r), n))
          return this._getStagesCountFromTerm(e, s);
        var o =
            UI.GlobalSearch.SearchController.CATEGORY_REAL_URL_MAP[o] || t.url,
          a = o.split("?")[1] || "";
        return this._isCategoryURL(o)
          ? ((a += s), i._getStagesCountFromTerm(e, a))
          : this.getCEFullUrl(o).then(function (n) {
              if (n.v3_enabled) return i.getCountV3(e, t);
              var r = n.full_url.split("?")[1];
              return (r += "&" + a + s), i._getStagesCountFromTerm(e, r);
            });
      },
      _isCategoryURL: function (e) {
        return this.categoryUrlRegex.test(e);
      },
      _getStagesCountFromTerm: function (e, t) {
        var n = "/api/v1/stages/get_stages_count_from_term";
        t && /^&/.test(t) === !1 && (t = "&" + t);
        var i = n + "?search=" + e + t;
        return P.get(i);
      },
      getCountV3: function (e, t) {
        return new Promise(function (n, i) {
          var r = t.url.replace("/", "");
          $.get(
            "/api/v2/custom_experiences/get_stages_count_from_term_v3?slug=" +
              r +
              "&search=" +
              e
          )
            .done(function (e) {
              n(e);
            })
            .fail(function (e) {
              i(e);
            });
        });
      },
      requestSearch: function (e) {
        var t = e.category.url;
        e.subCategory &&
          null !== e.subCategory.value &&
          (t = e.subCategory.url);
        var n = UI.GlobalSearch.SearchController.CATEGORY_REAL_URL_MAP[t];
        n && (t = n), (t = t || "");
        var i = new URL(t, window.location.origin);
        i.searchParams.set("search", e.searchTerm),
          (window.location = i.toString());
      },
      getCEFullUrl: function (e) {
        var t = this;
        return new Promise(function (n, i) {
          return (
            (e = e.split("?")[0]),
            t._slugURLMap[e]
              ? void n(t._slugURLMap[e])
              : void $.get(
                  "/api/v2/custom_experiences/get_full_url?slug=" +
                    e.replace("/", "")
                )
                  .done(function (i) {
                    (t._slugURLMap[e] = i), n(i);
                  })
                  .fail(function (e) {
                    i(e);
                  })
          );
        });
      },
    },
  });
var time1 = Date.now();
window.isInnerPage ||
  document.addEventListener("DOMContentLoaded", function () {
    {
      var e;
      $(document.body);
    }
    if (
      (DataCollector.loadDataCollector()["catch"](function (e) {
        Helpers.GlobalEventTracker.track("braintree:datacollector:error", e);
      }),
      (videojs.options.techOrder = ["html5", "flash"]),
      (videojs.options.flash.swf = "./assets/vendor/video-js.swf"),
      (e = function () {
        var e = !1,
          t = navigator.userAgent || navigator.vendor || window.opera;
        return (
          (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|ipad|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(
            t
          ) ||
            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
              t.substr(0, 4)
            )) &&
            (e = !0),
          e
        );
      }),
      ("Explorer" === BrowserDetect.browser && BrowserDetect.version <= 9) ||
        ("Safari" === BrowserDetect.browser && BrowserDetect.version < 534.59))
    )
      return !1;
    $(
      ".account-dropdown input, .account-dropdown label,             .account-dropdown button, .account-dropdown a"
    ).click(function (e) {
      e.stopPropagation();
    }),
      $("#shareURLInput").bind("click focus mouseup", function (e) {
        e.preventDefault(), $(this).select();
      }),
      $(".remove").remove(),
      (window.currencyHelper = new CurrencyHelper({
        USD: {
          label: "USD",
          symbol: "$",
        },
        BRL: {
          label: "BRL",
          symbol: "R$",
        },
      }));
    var t = window.pageType.type,
      n = window.getPageStrategy();
    console.log("typePage: " + t),
      console.log("strategy: " + n),
      (window.page = new PageController({
        typePage: t,
        strategy: n,
      })),
      window.dispatchEvent(new Event("pageReady"));
  }),
  (window.getPageStrategy = function () {
    var e = "default",
      t = window.pageType.type,
      n = {
        home: "home",
        category: "home",
        search: "home",
        stage: "stage",
        custom_pages: "custom",
        custom_experiences: "custom",
        bookmarks: "bookmarks",
        account: "account",
        purchases: "purchases",
        cancel: "cancel",
        cancel_subscription: "cancel",
        unsubscribe_email_list: "emailListUnsubscribe",
        about: "about",
        saved_drafts: "saved_drafts",
        switch_subscription: "switchSubscription",
      };
    return t && n[t] && (e = n[t]), e;
  }),
  $(function () {
    if (
      ("Explorer" === BrowserDetect.browser && BrowserDetect.version <= 10) ||
      "IE11" === BrowserDetect.browser ||
      ("Safari" === BrowserDetect.browser && BrowserDetect.version <= 534.59)
    )
      return new UI.IncompatibleBrowser(), !1;
    var e, t;
    (e = function (e) {
      e.preventDefault();
    }),
      (t = document.querySelector(".stage-object-image")),
      t && t.addEventListener("contextmenu", e);
  }),
  window.addEventListener("load", function () {
    setTimeout(function () {
      (window.performanceTimings = new PerformanceTimeMonitor()),
        window.performanceTimings.supported === !0 &&
          PerformanceLogger.sendTimings(window.performanceTimings);
    }, 0);
  });
